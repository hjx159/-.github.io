<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>http://example.com</id>
    <title>æ°´æ–‡ &amp; æ‘„å½±</title>
    <subtitle>ä¸ºäº†èƒ½æ›´å¥½åœ°è®¿é—®å›¾ç‰‡ï¼Œä½ éœ€è¦ä¸€ç‚¹é­”æ³•</subtitle>
    <icon>http://example.com/images/favicon.ico</icon>
    <link href="http://example.com" />
    <author>
      <name>èŒƒç‰¹ä¸œä¸œä¸œ</name>
    </author>
    <updated>2024-01-26T14:11:07.441Z</updated>
    <entry>
        <id>http://example.com/distributed-microservices/ShardingSphere/</id>
        <title>ShardingSphere</title>
        <link rel="alternate" href="http://example.com/distributed-microservices/ShardingSphere/"/>
        <content type="html">&lt;p&gt;Apache ShardingSphere æ˜¯ä¸€æ¬¾åˆ†å¸ƒå¼çš„æ•°æ®åº“ç”Ÿæ€ç³»ç»Ÿï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¯ä»¥å°†ä»»æ„æ•°æ®åº“è½¬æ¢ä¸ºåˆ†å¸ƒå¼æ•°æ®åº“&lt;/font&gt;&lt;/strong&gt;ï¼Œå¹¶é€šè¿‡&lt;font color=&#39;red&#39;&gt;æ•°æ®åˆ†ç‰‡ã€å¼¹æ€§ä¼¸ç¼©ã€åŠ å¯†&lt;/font&gt;ç­‰èƒ½åŠ›å¯¹åŸæœ‰æ•°æ®åº“è¿›è¡Œå¢å¼ºã€‚&lt;/p&gt;
&lt;p&gt;ShardingSphere æºç åœ°å€ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9zaGFyZGluZ3NwaGVyZQ==&#34;&gt;https://github.com/apache/shardingsphere&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ShardingSphere å®˜æ–¹ç½‘ç«™ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9zaGFyZGluZ3NwaGVyZS5hcGFjaGUub3JnLw==&#34;&gt;https://shardingsphere.apache.org&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;æ–‡ç« æè¿° ShardingSphere ç›¸å…³æ¦‚å¿µå’ŒçŸ¥è¯†ï¼Œå¦‚æ— ç‰¹åˆ«å£°æ˜ï¼Œå‡æ˜¯ Apache ShardingSphere  &lt;code&gt;5.3.2&lt;/code&gt;  ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRlZS5jb20vbmFnZW9mZmVyL3NwcmluZ2Jvb3QtbGFkZGVy&#34;&gt;ğŸ”¥ SpringBoot Ladder&lt;/span&gt;ï¼šä»é›¶åˆ°ä¸€å­¦ä¹  SpringBoot å„ç§ç»„ä»¶æ¡†æ¶å®æˆ˜çš„é¡¹ç›®ï¼Œè®© Demo å˜å¾—ç®€å•ã€‚å’±ä»¬æ–‡ç« ä¸­çš„ ShardingSphere ç¤ºä¾‹ä¹Ÿåœ¨è¿™ä¸ªé¡¹ç›®ã€‚&lt;/p&gt;
&lt;h1 id=&#34;åˆ†åº“åˆ†è¡¨èƒŒæ™¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†åº“åˆ†è¡¨èƒŒæ™¯&#34;&gt;#&lt;/a&gt; åˆ†åº“åˆ†è¡¨èƒŒæ™¯&lt;/h1&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;ä¼ ç»Ÿçš„å°†æ•°æ®é›†ä¸­å­˜å‚¨è‡³å•ä¸€èŠ‚ç‚¹&lt;/font&gt;çš„è§£å†³æ–¹æ¡ˆï¼Œåœ¨&lt;font color=&#39;red&#39;&gt;æ€§èƒ½ã€å¯ç”¨æ€§å’Œè¿ç»´æˆæœ¬&lt;/font&gt;è¿™ä¸‰æ–¹é¢å·²ç»éš¾äºæ»¡è¶³æµ·é‡æ•°æ®çš„åœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;ä»æ€§èƒ½æ–¹é¢æ¥è¯´ï¼Œç”±äºå…³ç³»å‹æ•°æ®åº“å¤§å¤šé‡‡ç”¨ B+ æ ‘ç±»å‹çš„ç´¢å¼•ï¼Œåœ¨æ•°æ®é‡è¶…è¿‡é˜ˆå€¼çš„æƒ…å†µä¸‹ï¼Œç´¢å¼•æ·±åº¦çš„å¢åŠ ä¹Ÿå°†ä½¿å¾—ç£ç›˜è®¿é—®çš„ IO æ¬¡æ•°å¢åŠ ï¼Œè¿›è€Œå¯¼è‡´æŸ¥è¯¢æ€§èƒ½çš„ä¸‹é™ï¼›åŒæ—¶ï¼Œé«˜å¹¶å‘è®¿é—®è¯·æ±‚ä¹Ÿä½¿å¾—é›†ä¸­å¼æ•°æ®åº“æˆä¸ºç³»ç»Ÿçš„æœ€å¤§ç“¶é¢ˆã€‚&lt;/p&gt;
&lt;p&gt;ä»å¯ç”¨æ€§çš„æ–¹é¢æ¥è®²ï¼ŒæœåŠ¡åŒ–çš„æ— çŠ¶æ€æ€§ï¼Œèƒ½å¤Ÿè¾¾åˆ°è¾ƒå°æˆæœ¬çš„éšæ„æ‰©å®¹ï¼Œè¿™å¿…ç„¶å¯¼è‡´ç³»ç»Ÿçš„æœ€ç»ˆå‹åŠ›éƒ½è½åœ¨æ•°æ®åº“ä¹‹ä¸Šã€‚ è€Œå•ä¸€çš„æ•°æ®èŠ‚ç‚¹ï¼Œæˆ–è€…ç®€å•çš„ä¸»ä»æ¶æ„ï¼Œå·²ç»è¶Šæ¥è¶Šéš¾ä»¥æ‰¿æ‹…ã€‚æ•°æ®åº“çš„å¯ç”¨æ€§ï¼Œå·²æˆä¸ºæ•´ä¸ªç³»ç»Ÿçš„å…³é”®ã€‚&lt;/p&gt;
&lt;p&gt;ä»è¿ç»´æˆæœ¬æ–¹é¢è€ƒè™‘ï¼Œå½“ä¸€ä¸ªæ•°æ®åº“å®ä¾‹ä¸­çš„æ•°æ®è¾¾åˆ°é˜ˆå€¼ä»¥ä¸Šï¼Œå¯¹äº DBA çš„è¿ç»´å‹åŠ›å°±ä¼šå¢å¤§ã€‚ æ•°æ®å¤‡ä»½å’Œæ¢å¤çš„æ—¶é—´æˆæœ¬éƒ½å°†éšç€æ•°æ®é‡çš„å¤§å°è€Œæ„ˆå‘ä¸å¯æ§ã€‚ä¸€èˆ¬æ¥è®²ï¼Œå•ä¸€æ•°æ®åº“å®ä¾‹çš„æ•°æ®çš„é˜ˆå€¼åœ¨ 1TB ä¹‹å†…ï¼Œæ˜¯æ¯”è¾ƒåˆç†çš„èŒƒå›´ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“æ— æ³•æ»¡è¶³äº’è”ç½‘åœºæ™¯éœ€è¦çš„æƒ…å†µä¸‹ï¼Œ&lt;font color=&#39;gree&#39;&gt;å°†æ•°æ®å­˜å‚¨è‡³åŸç”Ÿæ”¯æŒåˆ†å¸ƒå¼çš„ NoSQL çš„å°è¯•è¶Šæ¥è¶Šå¤š&lt;/font&gt;ã€‚ &lt;font color=&#39;red&#39;&gt;ä½† NoSQL å¯¹ SQL çš„ä¸å…¼å®¹æ€§ä»¥åŠç”Ÿæ€åœˆçš„ä¸å®Œå–„&lt;/font&gt;ï¼Œä½¿å¾—å®ƒä»¬åœ¨ä¸å…³ç³»å‹æ•°æ®åº“çš„åšå¼ˆä¸­å§‹ç»ˆæ— æ³•å®Œæˆè‡´å‘½ä¸€å‡»ï¼Œè€Œå…³ç³»å‹æ•°æ®åº“çš„åœ°ä½å´ä¾ç„¶ä¸å¯æ’¼åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;**&lt;font color=&#39;gree&#39;&gt;æ•°æ®åˆ†ç‰‡&lt;/font&gt;** æŒ‡&lt;font color=&#39;red&#39;&gt;æŒ‰ç…§æŸä¸ªç»´åº¦ï¼Œå°†å­˜æ”¾åœ¨å•ä¸€æ•°æ®åº“ä¸­çš„æ•°æ®åˆ†æ•£åœ°å­˜æ”¾è‡³å¤šä¸ªæ•°æ®åº“æˆ–è¡¨ä¸­&lt;/font&gt;ï¼Œä»¥è¾¾åˆ°æå‡æ€§èƒ½ç“¶é¢ˆä»¥åŠå¯ç”¨æ€§çš„æ•ˆæœã€‚æ•°æ®åˆ†ç‰‡çš„æœ‰æ•ˆæ‰‹æ®µæ˜¯å¯¹å…³ç³»å‹æ•°æ®åº“è¿›è¡Œ&lt;font color=&#39;red&#39;&gt;åˆ†åº“å’Œåˆ†è¡¨&lt;/font&gt;ã€‚åˆ†åº“å’Œåˆ†è¡¨å‡å¯ä»¥æœ‰æ•ˆçš„é¿å…ç”±æ•°æ®é‡è¶…è¿‡å¯æ‰¿å—é˜ˆå€¼è€Œäº§ç”Ÿçš„æŸ¥è¯¢ç“¶é¢ˆã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œåˆ†åº“è¿˜èƒ½å¤Ÿç”¨äºæœ‰æ•ˆçš„åˆ†æ•£å¯¹æ•°æ®åº“å•ç‚¹çš„è®¿é—®é‡ï¼›åˆ†è¡¨è™½ç„¶æ— æ³•ç¼“è§£æ•°æ®åº“å‹åŠ›ï¼Œä½†å´èƒ½å¤Ÿæä¾›å°½é‡å°†åˆ†å¸ƒå¼äº‹åŠ¡è½¬åŒ–ä¸ºæœ¬åœ°äº‹åŠ¡çš„å¯èƒ½ï¼Œä¸€æ—¦æ¶‰åŠåˆ°è·¨åº“çš„æ›´æ–°æ“ä½œï¼Œåˆ†å¸ƒå¼äº‹åŠ¡å¾€å¾€ä¼šä½¿é—®é¢˜å˜å¾—å¤æ‚ã€‚ä½¿ç”¨å¤šä¸»å¤šä»çš„åˆ†ç‰‡æ–¹å¼ï¼Œå¯ä»¥æœ‰æ•ˆçš„é¿å…æ•°æ®å•ç‚¹ï¼Œä»è€Œæå‡æ•°æ®æ¶æ„çš„å¯ç”¨æ€§ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡åˆ†åº“å’Œåˆ†è¡¨è¿›è¡Œæ•°æ®çš„æ‹†åˆ†æ¥ä½¿å¾—å„ä¸ªè¡¨çš„æ•°æ®é‡ä¿æŒåœ¨é˜ˆå€¼ä»¥ä¸‹ï¼Œä»¥åŠå¯¹æµé‡è¿›è¡Œç–å¯¼åº”å¯¹é«˜è®¿é—®é‡ï¼Œæ˜¯åº”å¯¹é«˜å¹¶å‘å’Œæµ·é‡æ•°æ®ç³»ç»Ÿçš„æœ‰æ•ˆæ‰‹æ®µã€‚æ•°æ®åˆ†ç‰‡çš„æ‹†åˆ†æ–¹å¼åˆåˆ†ä¸º&lt;font color=&#39;red&#39;&gt;å‚ç›´åˆ†ç‰‡å’Œæ°´å¹³åˆ†ç‰‡&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h1 id=&#34;åˆ†åº“åˆ†è¡¨ä»‹ç»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†åº“åˆ†è¡¨ä»‹ç»&#34;&gt;#&lt;/a&gt; åˆ†åº“åˆ†è¡¨ä»‹ç»&lt;/h1&gt;
&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯åˆ†åº“åˆ†è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»€ä¹ˆæ˜¯åˆ†åº“åˆ†è¡¨&#34;&gt;#&lt;/a&gt; ä»€ä¹ˆæ˜¯åˆ†åº“åˆ†è¡¨ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;åˆ†åº“åˆ†è¡¨æ˜¯ä¸€ç§æ•°æ®åº“åˆ†ç‰‡æŠ€æœ¯ï¼Œç”¨äºè§£å†³å¤§è§„æ¨¡åº”ç”¨ä¸­å•ä¸€æ•°æ®åº“å®¹é‡ä¸è¶³ä»¥æ”¯æŒé«˜å¹¶å‘å’Œå¤§æ•°æ®é‡çš„é—®é¢˜ã€‚&lt;font color=&#39;red&#39;&gt;å®ƒå°†ä¸€ä¸ªå¤§å‹çš„æ•°æ®åº“æ‹†åˆ†æˆå¤šä¸ªå°å‹æ•°æ®åº“ï¼Œæ¯ä¸ªå°å‹æ•°æ®åº“ç§°ä¸ºä¸€ä¸ªåˆ†ç‰‡ã€‚&lt;/font&gt;æ¯ä¸ªåˆ†ç‰‡å­˜å‚¨éƒ¨åˆ†æ•°æ®ï¼Œä»è€Œé™ä½äº†å•ä¸ªæ•°æ®åº“çš„è´Ÿæ‹…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç®€å•æ¥è¯´ï¼Œåˆ†åº“æ˜¯å°†åŸæœ¬çš„å•åº“æ‹†åˆ†ä¸ºå¤šä¸ªåº“ï¼Œåˆ†è¡¨æ˜¯å°†åŸæ¥çš„å•è¡¨æ‹†åˆ†ä¸ºå¤šä¸ªè¡¨ã€‚&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¾ˆå¤šæƒ…å†µä¸‹ï¼Œåˆ†åº“åˆ†è¡¨å¹¶ä¸æ˜¯ä»ç³»ç»Ÿè®¾è®¡å¼€å§‹å°±å­˜åœ¨çš„ï¼Œè€Œæ˜¯ç³»ç»Ÿè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå‡ºç°æ•°æ®é‡åºå¤§æˆ–è€…æŸ¥è¯¢æ€§èƒ½æ…¢ç­‰é—®é¢˜å»¶ä¼¸è€Œæ¥ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ åœ¨ä¸šåŠ¡åŠŸèƒ½å¼€å‘æ—¶ï¼Œå·²ç»é¢„çŸ¥ä¸šåŠ¡æ•°æ®åº“é‡ï¼Œåº”æå‰è¿›è¡Œåˆ†åº“æˆ–è€…åˆ†è¡¨ï¼Œåšå¥½åˆ†ç‰‡è§„èŒƒï¼Œé¿å…ç³»ç»Ÿè¿è¡Œæ—¶æ‹†åˆ†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åˆ†åº“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†åº“&#34;&gt;#&lt;/a&gt; åˆ†åº“&lt;/h3&gt;
&lt;p&gt;1ï¼‰&lt;font color=&#39;cornflowerblue&#39;&gt;å‚ç›´åˆ†ç‰‡&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼šç”µå•†åº“ mall_dbï¼Œä¸šåŠ¡æ‹†åˆ†åå°±æ˜¯ user_dbã€order_dbã€pay_db...&lt;/p&gt;
&lt;p&gt;æŒ‰ç…§ä¸šåŠ¡æ‹†åˆ†çš„æ–¹å¼ç§°ä¸ºå‚ç›´åˆ†ç‰‡ï¼Œåˆç§°ä¸ºçºµå‘æ‹†åˆ†ï¼Œå®ƒçš„æ ¸å¿ƒç†å¿µæ˜¯ä¸“åº“ä¸“ç”¨ã€‚åœ¨æ‹†åˆ†ä¹‹å‰ï¼Œä¸€ä¸ªæ•°æ®åº“ç”±å¤šä¸ªæ•°æ®è¡¨æ„æˆï¼Œæ¯ä¸ªè¡¨å¯¹åº”ç€ä¸åŒçš„ä¸šåŠ¡ã€‚è€Œæ‹†åˆ†ä¹‹åï¼Œåˆ™æ˜¯ **&lt;font color=&#39;red&#39;&gt;æŒ‰ç…§ä¸šåŠ¡å°†è¡¨è¿›è¡Œå½’ç±»ï¼Œåˆ†å¸ƒåˆ°ä¸åŒçš„æ•°æ®åº“ä¸­&lt;/font&gt;**ï¼Œä»è€Œå°†å‹åŠ›åˆ†æ•£è‡³ä¸åŒçš„æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230926143106698.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥é’ˆå¯¹ä¸åŒä¸šåŠ¡åœºæ™¯ä¼˜åŒ–æ•°æ®åº“ï¼Œæé«˜æ€§èƒ½ã€‚&lt;/li&gt;
&lt;li&gt;æé«˜äº†æ•°æ®åº“çš„å¹¶å‘èƒ½åŠ›ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éœ€è¦å¤„ç†&lt;font color=&#39;red&#39;&gt;åˆ†å¸ƒå¼äº‹åŠ¡çš„é—®é¢˜&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2ï¼‰&lt;font color=&#39;cornflowerblue&#39;&gt;æ°´å¹³åˆ†ç‰‡&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼šç”¨æˆ·åº“ user_dbï¼Œåˆ†ç‰‡åº“åå°±æ˜¯ user_db_0ã€user_db_1ã€user_db_xxã€‚&lt;/p&gt;
&lt;p&gt;æ°´å¹³åˆ†ç‰‡åˆç§°ä¸ºæ¨ªå‘æ‹†åˆ†ã€‚ç›¸å¯¹äºå‚ç›´åˆ†ç‰‡ï¼Œå®ƒä¸å†å°†æ•°æ®æ ¹æ®ä¸šåŠ¡é€»è¾‘åˆ†ç±»ï¼Œè€Œæ˜¯ **&lt;font color=&#39;red&#39;&gt;é€šè¿‡æŸä¸ªå­—æ®µï¼ˆæˆ–æŸå‡ ä¸ªå­—æ®µï¼‰ï¼Œæ ¹æ®æŸç§è§„åˆ™å°†æ•°æ®åˆ†æ•£è‡³å¤šä¸ªåº“æˆ–è¡¨ä¸­ï¼Œæ¯ä¸ªåˆ†ç‰‡ä»…åŒ…å«æ•°æ®çš„ä¸€éƒ¨åˆ†&lt;/font&gt;**ã€‚ ä¾‹å¦‚ï¼šæ ¹æ®ä¸»é”®åˆ†ç‰‡ï¼Œå¶æ•°ä¸»é”®çš„è®°å½•æ”¾å…¥ 0 åº“ï¼ˆæˆ–è¡¨ï¼‰ï¼Œå¥‡æ•°ä¸»é”®çš„è®°å½•æ”¾å…¥ 1 åº“ï¼ˆæˆ–è¡¨ï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230926143122066.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æé«˜äº†å•åº“çš„è¯»å†™æ€§èƒ½ï¼Œé™ä½äº†å•åº“æ•°æ®é‡ã€‚&lt;/li&gt;
&lt;li&gt;å¯ä»¥å°†åº“å­˜å‚¨åœ¨ä¸åŒçš„ç‰©ç†æœåŠ¡å™¨ä¸Šï¼Œæé«˜äº†æŸ¥è¯¢æ•ˆç‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éœ€è¦å¤„ç†&lt;font color=&#39;red&#39;&gt;è·¨åº“æŸ¥è¯¢çš„é—®é¢˜&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹åˆ†åº“è§„åˆ™çš„è®¾è®¡éœ€è¦è°¨æ…ï¼Œ&lt;font color=&#39;red&#39;&gt;é¿å…çƒ­ç‚¹æ•°æ®é›†ä¸­åœ¨æŸä¸ªåº“ä¸­&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åˆ†è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†è¡¨&#34;&gt;#&lt;/a&gt; åˆ†è¡¨&lt;/h3&gt;
&lt;p&gt;1ï¼‰&lt;font color=&#39;cornflowerblue&#39;&gt;å‚ç›´åˆ†ç‰‡&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼šè®¢å•è¡¨ order_tableï¼Œæ‹†åˆ†åå°±æ˜¯ order_table ä»¥åŠ order_ext_tableã€‚&lt;/p&gt;
&lt;p&gt;åŒåˆ†åº“çš„æ¦‚å¿µï¼Œåªä¸è¿‡å°†æ•°æ®åº“ç»´åº¦é™ä½ä¸ºæ•°æ®åº“è¡¨ç»´åº¦ã€‚&lt;/p&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‹†åˆ†åæ¯ä¸ªè¡¨çš„æ•°æ®é‡å˜å°ï¼ŒæŸ¥è¯¢æ—¶æ¶‰åŠçš„ç£ç›˜ I/O æ¬¡æ•°ç›¸å¯¹å‡å°‘ï¼Œæé«˜äº†æŸ¥è¯¢æ•ˆç‡ã€‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªå°è¡¨çš„å¹¶å‘å†™å…¥æ“ä½œç›¸å¯¹è¾ƒå°‘ï¼Œå‡å°‘äº†æ•°æ®åº“é”çš„ç«äº‰ï¼Œæé«˜äº†å¹¶å‘èƒ½åŠ›ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;éœ€è¦åœ¨åº”ç”¨å±‚é¢å¤„ç†&lt;strong&gt;è·¨è¡¨æŸ¥è¯¢çš„é€»è¾‘&lt;/strong&gt;ï¼Œå¢åŠ äº†å¼€å‘çš„å¤æ‚æ€§&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸€ä¸ªäº‹åŠ¡æ¶‰åŠå¤šä¸ªå°è¡¨ï¼Œå¯èƒ½&lt;font color=&#39;red&#39;&gt;éœ€è¦åœ¨åº”ç”¨å±‚é¢è¿›è¡Œ&lt;strong&gt;äº‹åŠ¡ç®¡ç†&lt;/strong&gt;ï¼Œå¢åŠ äº†ä»£ç çš„å¤æ‚æ€§&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;éœ€è¦é¢å¤–çš„æªæ–½æ¥&lt;font color=&#39;red&#39;&gt;ä¿è¯æ‹†åˆ†åçš„å°è¡¨ä¹‹é—´çš„&lt;strong&gt;æ•°æ®ä¸€è‡´æ€§&lt;/strong&gt;&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2ï¼‰&lt;font color=&#39;cornflowerblue&#39;&gt;æ°´å¹³åˆ†ç‰‡&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼šè®¢å•è¡¨ order_tableï¼Œæ‹†åˆ†åå°±æ˜¯ order_table_0ã€ order_table_1ã€order_table_xxxã€‚&lt;/p&gt;
&lt;p&gt;åŒåˆ†åº“çš„æ¦‚å¿µï¼Œåªä¸è¿‡å°†æ•°æ®åº“ç»´åº¦é™ä½ä¸ºæ•°æ®åº“è¡¨ç»´åº¦ã€‚&lt;/p&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥æ ¹æ®æ•°æ®é‡çš„å¢é•¿åŠ¨æ€åœ°å¢åŠ åˆ†è¡¨ï¼Œä»è€Œæ‰©å±•æ•°æ®åº“çš„å­˜å‚¨èƒ½åŠ›ã€‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªå°è¡¨çš„æ•°æ®é‡å‡å°‘ï¼Œå¯ä»¥æé«˜æŸ¥è¯¢é€Ÿåº¦ï¼Œå°¤å…¶æ˜¯åœ¨é¢‘ç¹æŸ¥è¯¢çš„åœºæ™¯ä¸‹ã€‚&lt;/li&gt;
&lt;li&gt;æ‹†åˆ†åï¼Œæ¯ä¸ªå°è¡¨çš„å¹¶å‘å†™å…¥æ“ä½œç›¸å¯¹å‡å°‘ï¼Œé™ä½äº†æ•°æ®åº“é”çš„ç«äº‰ï¼Œæé«˜äº†å¹¶å‘æ€§èƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹ä¸šåŠ¡å­˜åœ¨ä¸€å®šé™åˆ¶ï¼Œ&lt;font color=&#39;red&#39;&gt;å¦‚æœæ²¡æœ‰æŒ‰ç…§åˆ†ç‰‡é”®æŸ¥è¯¢ï¼Œä¼šé€ æˆè¯»æ‰©æ•£é—®é¢˜&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹åˆ†è¡¨è§„åˆ™çš„è®¾è®¡éœ€è¦è°¨æ…ï¼Œ&lt;font color=&#39;red&#39;&gt;é¿å…çƒ­ç‚¹æ•°æ®é›†ä¸­åœ¨æŸä¸ªè¡¨ä¸­&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;åˆ†åº“åˆ†è¡¨åœºæ™¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†åº“åˆ†è¡¨åœºæ™¯&#34;&gt;#&lt;/a&gt; åˆ†åº“åˆ†è¡¨åœºæ™¯&lt;/h2&gt;
&lt;h3 id=&#34;åˆ†è¡¨åœºæ™¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†è¡¨åœºæ™¯&#34;&gt;#&lt;/a&gt; åˆ†è¡¨åœºæ™¯&lt;/h3&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æ•°æ®é‡è¿‡å¤§&lt;/font&gt;æˆ–è€…&lt;font color=&#39;red&#39;&gt;æ•°æ®åº“è¡¨å¯¹åº”çš„ç£ç›˜æ–‡ä»¶è¿‡å¤§&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Qï¼šå¤šå°‘æ•°æ®é‡è¿›è¡Œåˆ†è¡¨ï¼Ÿ&lt;/p&gt;
&lt;p&gt;Aï¼šå•è¡¨ 1000w æ˜¯å¦è¦åˆ†è¡¨ï¼Ÿå›ç­”ä¸å¤Ÿæ ‡å‡†ã€‚å‡è®¾ä¸€ä¸ªè¡¨é‡Œ 15 ä¸ªå­—æ®µï¼Œæ²¡æœ‰ç‰¹åˆ«å¤§çš„å€¼ï¼ˆä¸åŒ…å« text æˆ–å…¶å®ƒè¶…é•¿åº¦çš„åˆ—ï¼‰æ•°æ®é‡è¶…è¿‡ 5000 ä¸‡äº†ï¼Œä¾ç„¶å¾ˆä¸æ»‘ï¼Œå› ä¸ºèµ°ç´¢å¼•ã€‚&lt;/p&gt;
&lt;p&gt;çœŸæ­£éœ€è¦è€ƒè™‘çš„æ˜¯ï¼šä¸šåŠ¡çš„å¢é•¿é‡ä»¥åŠå†å²æ•°é‡ã€‚&lt;/p&gt;
&lt;p&gt;Qï¼šç‰©ç†æ–‡ä»¶è¿‡å¤§ï¼Œä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ&lt;/p&gt;
&lt;p&gt;Aï¼šä¼šå½±å“å…¬å¸å¯¹æ•°æ®åº“è¡¨çš„ä¸€ä¸ªå¤‡ä»½ã€‚æ•°æ®åº“è¡¨æ–‡ä»¶è¿‡å¤§ï¼Œä¹Ÿé—´æ¥è¯æ˜è¡¨æ•°æ®è¿‡å¤§ï¼Œå¢åŠ æˆ–åˆ é™¤å­—æ®µå¯¼è‡´é”è¡¨çš„æ—¶é—´è¿‡é•¿ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åˆ†åº“åœºæ™¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†åº“åœºæ™¯&#34;&gt;#&lt;/a&gt; åˆ†åº“åœºæ™¯&lt;/h3&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å½“æ•°æ®åº“çš„è¿æ¥æ•°é‡ä¸å¤Ÿå®¢æˆ·ç«¯ä½¿ç”¨æ—¶&lt;/font&gt;ï¼Œå¯ä»¥è€ƒè™‘åˆ†åº“æˆ–è¯»å†™åˆ†ç¦»ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœè¯´å½“æ•°æ®åº“çš„ QPS è¶Šæ¥è¶Šé«˜ä»¥åŠæ•°æ®é‡è¶Šæ¥è¶Šå¤§çš„æ—¶å€™ï¼Œå°±éœ€è¦è€ƒè™‘åˆ†åº“åˆ†è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;Qï¼šä¸ºä»€ä¹ˆè¯´è¿æ¥ä¸å¤Ÿç”¨ï¼Ÿ&lt;/p&gt;
&lt;p&gt;Aï¼šå‡è®¾ MySQL Server èƒ½æ”¯æŒ 4000 ä¸ªæ•°æ®åº“è¿æ¥ã€‚æˆ‘ä»¬æœ‰ 10 ä¸ªæœåŠ¡ï¼Œ40 ä¸ªèŠ‚ç‚¹ï¼Œä¸€ä¸ªèŠ‚ç‚¹å‘¢æ•°æ®åº“è¿æ¥æ± æœ€å¤š 10 ä¸ªã€‚è¿™æ ·å°±æŠŠä¸€ä¸ª MySQL Server çš„è¿æ¥æ•°å‹æ¦¨å¹²å‡€äº†ã€‚&lt;/p&gt;
&lt;p&gt;å½“ MySQL è¿æ¥ä¸å¤Ÿç”¨æ—¶ï¼Œå¯èƒ½ä¼šæŠ¥é”™ &amp;quot;Too many connections&amp;quot; æˆ–è€…ç±»ä¼¼çš„é”™è¯¯ã€‚è¿™æ˜¯å› ä¸º MySQL æœåŠ¡å™¨åŒæ—¶å¯ä»¥å¤„ç†çš„è¿æ¥æ•°é‡æ˜¯æœ‰é™åˆ¶çš„ï¼Œå½“è¿æ¥æ•°è¾¾åˆ°è¿™ä¸ªé™åˆ¶æ—¶ï¼ŒæœåŠ¡å™¨å°±ä¼šæ‹’ç»æ–°çš„è¿æ¥è¯·æ±‚ï¼Œå¹¶è¿”å›è¿™ä¸ªé”™è¯¯æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åˆ†åº“åˆ†è¡¨åœºæ™¯-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†åº“åˆ†è¡¨åœºæ™¯-2&#34;&gt;#&lt;/a&gt; åˆ†åº“åˆ†è¡¨åœºæ™¯&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;é«˜å¹¶å‘å†™å…¥&lt;/font&gt;åœºæ™¯ï¼šå½“åº”ç”¨é¢ä¸´é«˜å¹¶å‘çš„å†™å…¥è¯·æ±‚æ—¶ï¼Œå•ä¸€æ•°æ®åº“å¯èƒ½æ— æ³•æ»¡è¶³å†™å…¥å‹åŠ›ï¼Œæ­¤æ—¶å¯ä»¥å°†æ•°æ®æŒ‰ç…§ä¸€å®šè§„åˆ™æ‹†åˆ†åˆ°å¤šä¸ªæ•°æ®åº“ä¸­ï¼Œæ¯ä¸ªæ•°æ®åº“å¤„ç†éƒ¨åˆ†æ•°æ®çš„å†™å…¥è¯·æ±‚ï¼Œä»è€Œæé«˜å†™å…¥æ€§èƒ½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æ•°æ®é‡å·¨å¤§&lt;/font&gt;åœºæ™¯ï¼šéšç€æ•°æ®é‡çš„ä¸æ–­å¢åŠ ï¼Œå•ä¸€æ•°æ®åº“çš„å­˜å‚¨å’ŒæŸ¥è¯¢æ€§èƒ½å¯èƒ½é€æ¸ä¸‹é™ã€‚æ­¤æ—¶ï¼Œå¯ä»¥å°†æ•°æ®æŒ‰ç…§ä¸€å®šçš„è§„åˆ™æ‹†åˆ†åˆ°å¤šä¸ªè¡¨ä¸­ï¼Œæ¯ä¸ªè¡¨å­˜å‚¨éƒ¨åˆ†æ•°æ®ï¼Œä»è€Œåˆ†æ•£æ•°æ®çš„å­˜å‚¨å‹åŠ›ï¼Œæé«˜æŸ¥è¯¢æ€§èƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;shardingsphere-ä»‹ç»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#shardingsphere-ä»‹ç»&#34;&gt;#&lt;/a&gt; ShardingSphere ä»‹ç»&lt;/h1&gt;
&lt;p&gt;Apache ShardingSphere æ˜¯ä¸€æ¬¾åˆ†å¸ƒå¼çš„æ•°æ®åº“ç”Ÿæ€ç³»ç»Ÿï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¯ä»¥å°†ä»»æ„æ•°æ®åº“è½¬æ¢ä¸ºåˆ†å¸ƒå¼æ•°æ®åº“&lt;/font&gt;&lt;/strong&gt;ï¼Œå¹¶é€šè¿‡&lt;font color=&#39;red&#39;&gt;æ•°æ®åˆ†ç‰‡ã€å¼¹æ€§ä¼¸ç¼©ã€åŠ å¯†&lt;/font&gt;ç­‰èƒ½åŠ›å¯¹åŸæœ‰æ•°æ®åº“è¿›è¡Œå¢å¼ºã€‚&lt;/p&gt;
&lt;p&gt;Apache ShardingSphere è®¾è®¡å“²å­¦ä¸º Database Plusï¼Œæ—¨åœ¨æ„å»ºå¼‚æ„æ•°æ®åº“ä¸Šå±‚çš„æ ‡å‡†å’Œç”Ÿæ€ã€‚å®ƒå…³æ³¨å¦‚ä½•å……åˆ†åˆç†åœ°åˆ©ç”¨æ•°æ®åº“çš„è®¡ç®—å’Œå­˜å‚¨èƒ½åŠ›ï¼Œè€Œå¹¶éå®ç°ä¸€ä¸ªå…¨æ–°çš„æ•°æ®åº“ã€‚å®ƒç«™åœ¨æ•°æ®åº“çš„ä¸Šå±‚è§†è§’ï¼Œå…³æ³¨å®ƒä»¬ä¹‹é—´çš„åä½œå¤šäºæ•°æ®åº“è‡ªèº«ã€‚&lt;/p&gt;
&lt;p&gt;ShardingSphere æœ‰ä¸¤ä¸ªäº§å“åœ¨ä¼ä¸šä¸­å¹¿æ³›ä½¿ç”¨ï¼Œåˆ†åˆ«æ˜¯  &lt;code&gt;ShardingSphere-JDBC&lt;/code&gt;  ä»¥åŠ  &lt;code&gt;ShardingSphere-Proxy&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;h2 id=&#34;shardingsphere-jdbc&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#shardingsphere-jdbc&#34;&gt;#&lt;/a&gt; ShardingSphere-JDBC&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ShardingSphere-JDBC&lt;/code&gt;  å®šä½ä¸ºè½»é‡çº§ Java æ¡†æ¶ï¼Œåœ¨ Java çš„ JDBC å±‚æä¾›çš„é¢å¤–æœåŠ¡ã€‚&lt;font color=&#39;red&#39;&gt;å®ƒä½¿ç”¨å®¢æˆ·ç«¯ç›´è¿æ•°æ®åº“ï¼Œä»¥ Jar åŒ…å½¢å¼æä¾›æœåŠ¡ï¼Œæ— éœ€é¢å¤–éƒ¨ç½²å’Œä¾èµ–ï¼Œå¯ç†è§£ä¸º&lt;strong&gt;å¢å¼ºç‰ˆçš„ JDBC é©±åŠ¨&lt;/strong&gt;ï¼Œå®Œå…¨å…¼å®¹ JDBC å’Œå„ç§ ORM æ¡†æ¶&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€‚ç”¨äºä»»ä½•åŸºäº JDBC çš„ ORM æ¡†æ¶ï¼Œå¦‚ï¼šJPA, Hibernate, Mybatis, Spring JDBC Template æˆ–ç›´æ¥ä½¿ç”¨ JDBCï¼›&lt;/li&gt;
&lt;li&gt;æ”¯æŒä»»ä½•ç¬¬ä¸‰æ–¹çš„æ•°æ®åº“è¿æ¥æ± ï¼Œå¦‚ï¼šDBCP, C3P0, BoneCP, HikariCP ç­‰ï¼›&lt;/li&gt;
&lt;li&gt;æ”¯æŒä»»æ„å®ç° JDBC è§„èŒƒçš„æ•°æ®åº“ï¼Œç›®å‰æ”¯æŒ MySQLï¼ŒPostgreSQLï¼ŒOracleï¼ŒSQLServer ä»¥åŠä»»ä½•å¯ä½¿ç”¨ JDBC è®¿é—®çš„æ•°æ®åº“ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230926142255390.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;shardingsphere-proxy&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#shardingsphere-proxy&#34;&gt;#&lt;/a&gt; ShardingSphere-Proxy&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ShardingSphere-Proxy&lt;/code&gt;  å®šä½ä¸º&lt;font color=&#39;red&#39;&gt;&lt;strong&gt;é€æ˜åŒ–çš„æ•°æ®åº“ä»£ç†ç«¯&lt;/strong&gt;ï¼Œé€šè¿‡å®ç°æ•°æ®åº“äºŒè¿›åˆ¶åè®®ï¼Œå¯¹å¼‚æ„è¯­è¨€æä¾›æ”¯æŒ&lt;/font&gt;ã€‚ç›®å‰æä¾› MySQL å’Œ PostgreSQL åè®®ï¼Œé€æ˜åŒ–æ•°æ®åº“æ“ä½œï¼Œå¯¹ DBA æ›´åŠ å‹å¥½ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‘åº”ç”¨ç¨‹åºå®Œå…¨é€æ˜ï¼Œå¯ç›´æ¥å½“åš MySQL/PostgreSQL ä½¿ç”¨ï¼›&lt;/li&gt;
&lt;li&gt;å…¼å®¹ MariaDB ç­‰åŸºäº MySQL åè®®çš„æ•°æ®åº“ï¼Œä»¥åŠ openGauss ç­‰åŸºäº PostgreSQL åè®®çš„æ•°æ®åº“ï¼›&lt;/li&gt;
&lt;li&gt;é€‚ç”¨äºä»»ä½•å…¼å®¹ MySQL/PostgreSQL åè®®çš„çš„å®¢æˆ·ç«¯ï¼Œå¦‚ï¼šMySQL Command Client, MySQL Workbench, Navicat ç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230926142321036.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ··åˆéƒ¨ç½²&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ··åˆéƒ¨ç½²&#34;&gt;#&lt;/a&gt; æ··åˆéƒ¨ç½²&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ShardingSphere-JDBC&lt;/code&gt;  é‡‡ç”¨æ— ä¸­å¿ƒåŒ–æ¶æ„ï¼Œä¸åº”ç”¨ç¨‹åºå…±äº«èµ„æºï¼Œé€‚ç”¨äº Java å¼€å‘çš„é«˜æ€§èƒ½çš„è½»é‡çº§ OLTP åº”ç”¨ï¼›  &lt;code&gt;ShardingSphere-Proxy&lt;/code&gt;  æä¾›é™æ€å…¥å£ä»¥åŠå¼‚æ„è¯­è¨€çš„æ”¯æŒï¼Œç‹¬ç«‹äºåº”ç”¨ç¨‹åºéƒ¨ç½²ï¼Œé€‚ç”¨äº OLAP åº”ç”¨ä»¥åŠå¯¹åˆ†ç‰‡æ•°æ®åº“è¿›è¡Œç®¡ç†å’Œè¿ç»´çš„åœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Apache ShardingSphere&lt;/code&gt;  æ˜¯å¤šæ¥å…¥ç«¯å…±åŒç»„æˆçš„ç”Ÿæ€åœˆã€‚&lt;font color=&#39;red&#39;&gt;é€šè¿‡æ··åˆä½¿ç”¨  &lt;code&gt;ShardingSphere-JDBC&lt;/code&gt;  å’Œ  &lt;code&gt;ShardingSphere-Proxy&lt;/code&gt; ï¼Œå¹¶é‡‡ç”¨åŒä¸€æ³¨å†Œä¸­å¿ƒç»Ÿä¸€é…ç½®åˆ†ç‰‡ç­–ç•¥ï¼Œèƒ½å¤Ÿçµæ´»çš„æ­å»ºé€‚ç”¨äºå„ç§åœºæ™¯çš„åº”ç”¨ç³»ç»Ÿï¼Œä½¿å¾—æ¶æ„å¸ˆæ›´åŠ è‡ªç”±åœ°è°ƒæ•´é€‚åˆäºå½“å‰ä¸šåŠ¡çš„æœ€ä½³ç³»ç»Ÿæ¶æ„&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230926142358927.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;äº§å“åŠŸèƒ½&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#äº§å“åŠŸèƒ½&#34;&gt;#&lt;/a&gt; äº§å“åŠŸèƒ½&lt;/h2&gt;
&lt;p&gt;è¿™é‡Œç»™å¤§å®¶åˆ—ä¸€äº›ç»å¸¸ä½¿ç”¨ä¸”å…¥é—¨é—¨æ§›è¾ƒä½çš„åŠŸèƒ½ï¼Œæ›´å¤šçš„åŠŸèƒ½å¤§å®¶å¯ä»¥å» ShardingSphere å®˜ç½‘å‘æ˜ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç‰¹æ€§&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å®šä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;æ•°æ®åˆ†ç‰‡&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ•°æ®åˆ†ç‰‡ï¼Œæ˜¯åº”å¯¹æµ·é‡æ•°æ®å­˜å‚¨ä¸è®¡ç®—çš„æœ‰æ•ˆæ‰‹æ®µã€‚ShardingSphere åŸºäºåº•å±‚æ•°æ®åº“æä¾›åˆ†å¸ƒå¼æ•°æ®åº“è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥æ°´å¹³æ‰©å±•è®¡ç®—å’Œå­˜å‚¨ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;è¯»å†™åˆ†ç¦»&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¯»å†™åˆ†ç¦»ï¼Œæ˜¯åº”å¯¹é«˜å‹åŠ›ä¸šåŠ¡è®¿é—®çš„æ‰‹æ®µã€‚åŸºäºå¯¹ SQL è¯­ä¹‰ç†è§£åŠå¯¹åº•å±‚æ•°æ®åº“æ‹“æ‰‘æ„ŸçŸ¥èƒ½åŠ›ï¼ŒShardingSphere æä¾›çµæ´»çš„&lt;font color=&#39;red&#39;&gt;è¯»å†™æµé‡æ‹†åˆ†&lt;/font&gt;å’Œ&lt;font color=&#39;red&#39;&gt;è¯»æµé‡è´Ÿè½½å‡è¡¡&lt;/font&gt;ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;æ•°æ®åŠ å¯†&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ•°æ®åŠ å¯†ï¼Œæ˜¯ä¿è¯æ•°æ®å®‰å…¨çš„åŸºæœ¬æ‰‹æ®µã€‚ShardingSphere æä¾›å®Œæ•´ã€é€æ˜ã€å®‰å…¨ã€ä½æˆæœ¬çš„æ•°æ®åŠ å¯†è§£å†³æ–¹æ¡ˆã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;å½±å­åº“&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åœ¨å…¨é“¾è·¯å‹æµ‹åœºæ™¯ä¸‹ï¼ŒShardingSphere &lt;font color=&#39;red&#39;&gt;æ”¯æŒä¸åŒå·¥ä½œè´Ÿè½½ä¸‹çš„æ•°æ®éš”ç¦»ï¼Œé¿å…æµ‹è¯•æ•°æ®æ±¡æŸ“ç”Ÿäº§ç¯å¢ƒ&lt;/font&gt;ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;......&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;......&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;è®¾è®¡å“²å­¦&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è®¾è®¡å“²å­¦&#34;&gt;#&lt;/a&gt; è®¾è®¡å“²å­¦&lt;/h2&gt;
&lt;p&gt;ShardingSphere é‡‡ç”¨ Database Plus è®¾è®¡å“²å­¦ï¼Œè¯¥ç†å¿µ&lt;font color=&#39;red&#39;&gt;è‡´åŠ›äºæ„å»ºæ•°æ®åº“ä¸Šå±‚çš„æ ‡å‡†å’Œç”Ÿæ€&lt;/font&gt;ï¼Œåœ¨ç”Ÿæ€ä¸­è¡¥å……æ•°æ®åº“æ‰€ç¼ºå¤±çš„èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/design_cn.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;æ•°æ®åˆ†ç‰‡æ ¸å¿ƒæ¦‚å¿µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®åˆ†ç‰‡æ ¸å¿ƒæ¦‚å¿µ&#34;&gt;#&lt;/a&gt; æ•°æ®åˆ†ç‰‡æ ¸å¿ƒæ¦‚å¿µ&lt;/h1&gt;
&lt;h2 id=&#34;è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¡¨&#34;&gt;#&lt;/a&gt; è¡¨&lt;/h2&gt;
&lt;p&gt;è¡¨æ˜¯é€æ˜åŒ–æ•°æ®åˆ†ç‰‡çš„å…³é”®æ¦‚å¿µã€‚ Apache ShardingSphere é€šè¿‡&lt;font color=&#39;red&#39;&gt;æä¾›å¤šæ ·åŒ–çš„è¡¨ç±»å‹ï¼Œé€‚é…ä¸åŒåœºæ™¯ä¸‹çš„æ•°æ®åˆ†ç‰‡éœ€æ±‚&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é€»è¾‘è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é€»è¾‘è¡¨&#34;&gt;#&lt;/a&gt; é€»è¾‘è¡¨&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç›¸åŒç»“æ„çš„æ°´å¹³æ‹†åˆ†æ•°æ®åº“ï¼ˆè¡¨ï¼‰çš„é€»è¾‘åç§°&lt;/font&gt;&lt;/strong&gt;ï¼Œæ˜¯ SQL ä¸­è¡¨çš„é€»è¾‘æ ‡è¯†ã€‚ ä¾‹ï¼šè®¢å•æ•°æ®æ ¹æ®ä¸»é”®å°¾æ•°æ‹†åˆ†ä¸º 10 å¼ è¡¨ï¼Œåˆ†åˆ«æ˜¯  &lt;code&gt;t_order_0&lt;/code&gt;  åˆ°  &lt;code&gt;t_order_9&lt;/code&gt; ï¼Œä»–ä»¬çš„é€»è¾‘è¡¨åä¸º  &lt;code&gt;t_order&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;h3 id=&#34;çœŸå®è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#çœŸå®è¡¨&#34;&gt;#&lt;/a&gt; çœŸå®è¡¨&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;åœ¨æ°´å¹³æ‹†åˆ†çš„æ•°æ®åº“ä¸­çœŸå®å­˜åœ¨çš„ç‰©ç†è¡¨&lt;/font&gt;&lt;/strong&gt;ã€‚å³ä¸Šä¸ªç¤ºä¾‹ä¸­çš„  &lt;code&gt;t_order_0&lt;/code&gt;  åˆ°  &lt;code&gt;t_order_9&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç»‘å®šè¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç»‘å®šè¡¨&#34;&gt;#&lt;/a&gt; ç»‘å®šè¡¨&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;åˆ†ç‰‡è§„åˆ™ä¸€è‡´çš„ä¸€ç»„åˆ†ç‰‡è¡¨&lt;/font&gt;&lt;/strong&gt;ã€‚ä½¿ç”¨ç»‘å®šè¡¨è¿›è¡Œå¤šè¡¨å…³è”æŸ¥è¯¢æ—¶ï¼Œå¿…é¡»ä½¿ç”¨&lt;font color=&#39;red&#39;&gt;åˆ†ç‰‡é”®&lt;/font&gt;è¿›è¡Œå…³è”ï¼Œå¦åˆ™ä¼šå‡ºç°ç¬›å¡å°”ç§¯å…³è”æˆ–è·¨åº“å…³è”ï¼Œä»è€Œå½±å“æŸ¥è¯¢æ•ˆç‡ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š &lt;code&gt;t_order&lt;/code&gt;  è¡¨å’Œ  &lt;code&gt;t_order_item&lt;/code&gt;  è¡¨ï¼Œå‡æŒ‰ç…§  &lt;code&gt;order_id&lt;/code&gt;  åˆ†ç‰‡ï¼Œå¹¶ä¸”ä½¿ç”¨  &lt;code&gt;order_id&lt;/code&gt;  è¿›è¡Œå…³è”ï¼Œåˆ™æ­¤ä¸¤å¼ è¡¨äº’ä¸ºç»‘å®šè¡¨å…³ç³»ã€‚ç»‘å®šè¡¨ä¹‹é—´çš„å¤šè¡¨å…³è”æŸ¥è¯¢ä¸ä¼šå‡ºç°ç¬›å¡å°”ç§¯å…³è”ï¼Œå…³è”æŸ¥è¯¢æ•ˆç‡å°†å¤§å¤§æå‡ã€‚ä¸¾ä¾‹è¯´æ˜ï¼Œå¦‚æœ SQL ä¸ºï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; i&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; t_order o &lt;span class=&#34;token keyword&#34;&gt;JOIN&lt;/span&gt; t_order_item i &lt;span class=&#34;token keyword&#34;&gt;ON&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;i&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id &lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id &lt;span class=&#34;token operator&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;åœ¨ä¸é…ç½®ç»‘å®šè¡¨å…³ç³»æ—¶ï¼Œå‡è®¾åˆ†ç‰‡é”® order_id å°†æ•°å€¼ 10 è·¯ç”±è‡³ç¬¬ 0 ç‰‡ï¼Œå°†æ•°å€¼ 11 è·¯ç”±è‡³ç¬¬ 1 ç‰‡ï¼Œé‚£ä¹ˆè·¯ç”±åçš„ SQL åº”è¯¥ä¸º 4 æ¡ï¼Œå®ƒä»¬å‘ˆç°ä¸ºç¬›å¡å°”ç§¯ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; i&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; t_order_0 o &lt;span class=&#34;token keyword&#34;&gt;JOIN&lt;/span&gt; t_order_item_0 i &lt;span class=&#34;token keyword&#34;&gt;ON&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;i&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id &lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id &lt;span class=&#34;token operator&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; i&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; t_order_0 o &lt;span class=&#34;token keyword&#34;&gt;JOIN&lt;/span&gt; t_order_item_1 i &lt;span class=&#34;token keyword&#34;&gt;ON&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;i&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id &lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id &lt;span class=&#34;token operator&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; i&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; t_order_1 o &lt;span class=&#34;token keyword&#34;&gt;JOIN&lt;/span&gt; t_order_item_0 i &lt;span class=&#34;token keyword&#34;&gt;ON&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;i&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id &lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id &lt;span class=&#34;token operator&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; i&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; t_order_1 o &lt;span class=&#34;token keyword&#34;&gt;JOIN&lt;/span&gt; t_order_item_1 i &lt;span class=&#34;token keyword&#34;&gt;ON&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;i&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id &lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id &lt;span class=&#34;token operator&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;åœ¨é…ç½®ç»‘å®šè¡¨å…³ç³»ï¼Œå¹¶ä¸”ä½¿ç”¨  &lt;code&gt;order_id&lt;/code&gt;  è¿›è¡Œå…³è”åï¼Œè·¯ç”±çš„ SQL åº”è¯¥ä¸º 2 æ¡ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; i&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; t_order_0 o &lt;span class=&#34;token keyword&#34;&gt;JOIN&lt;/span&gt; t_order_item_0 i &lt;span class=&#34;token keyword&#34;&gt;ON&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;i&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id &lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id &lt;span class=&#34;token operator&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; i&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; t_order_1 o &lt;span class=&#34;token keyword&#34;&gt;JOIN&lt;/span&gt; t_order_item_1 i &lt;span class=&#34;token keyword&#34;&gt;ON&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;i&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id &lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_id &lt;span class=&#34;token operator&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&#34;å¹¿æ’­è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¹¿æ’­è¡¨&#34;&gt;#&lt;/a&gt; å¹¿æ’­è¡¨&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ‰€æœ‰çš„æ•°æ®æºä¸­éƒ½å­˜åœ¨çš„è¡¨ï¼Œè¡¨ç»“æ„åŠå…¶æ•°æ®åœ¨æ¯ä¸ªæ•°æ®åº“ä¸­å‡å®Œå…¨ä¸€è‡´&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;font color=&#39;red&#39;&gt;é€‚ç”¨äºæ•°æ®é‡ä¸å¤§ä¸”éœ€è¦ä¸æµ·é‡æ•°æ®çš„è¡¨è¿›è¡Œå…³è”æŸ¥è¯¢çš„åœºæ™¯ï¼Œä¾‹å¦‚ï¼šå­—å…¸è¡¨ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;h3 id=&#34;å•è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å•è¡¨&#34;&gt;#&lt;/a&gt; å•è¡¨&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ‰€æœ‰çš„åˆ†ç‰‡æ•°æ®æºä¸­ä»…å”¯ä¸€å­˜åœ¨çš„è¡¨&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;font color=&#39;red&#39;&gt;é€‚ç”¨äºæ•°æ®é‡ä¸å¤§ä¸”æ— éœ€åˆ†ç‰‡çš„è¡¨&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼š&lt;font color=&#39;red&#39;&gt;ç¬¦åˆä»¥ä¸‹æ¡ä»¶çš„å•è¡¨ä¼šè¢«è‡ªåŠ¨åŠ è½½&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•°æ®åŠ å¯†ã€æ•°æ®è„±æ•ç­‰è§„åˆ™ä¸­æ˜¾ç¤ºé…ç½®çš„å•è¡¨&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·é€šè¿‡ ShardingSphere æ‰§è¡Œ DDL è¯­å¥åˆ›å»ºçš„å•è¡¨&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¶ä½™ä¸ç¬¦åˆä¸Šè¿°æ¡ä»¶çš„å•è¡¨ï¼ŒShardingSphere ä¸ä¼šè‡ªåŠ¨åŠ è½½ï¼Œç”¨æˆ·å¯æ ¹æ®éœ€è¦é…ç½®å•è¡¨è§„åˆ™è¿›è¡Œç®¡ç†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ•°æ®èŠ‚ç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®èŠ‚ç‚¹&#34;&gt;#&lt;/a&gt; æ•°æ®èŠ‚ç‚¹&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ˜¯æ•°æ®åˆ†ç‰‡çš„æœ€å°å•å…ƒï¼Œç”±æ•°æ®æºåç§°å’ŒçœŸå®è¡¨ç»„æˆ&lt;/font&gt;&lt;/strong&gt;ã€‚ä¾‹ï¼šds_0.t_order_0ã€‚é€»è¾‘è¡¨ä¸çœŸå®è¡¨çš„æ˜ å°„å…³ç³»ï¼Œå¯åˆ†ä¸ºå‡åŒ€åˆ†å¸ƒå’Œè‡ªå®šä¹‰åˆ†å¸ƒä¸¤ç§å½¢å¼ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å‡åŒ€åˆ†å¸ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‡åŒ€åˆ†å¸ƒ&#34;&gt;#&lt;/a&gt; å‡åŒ€åˆ†å¸ƒ&lt;/h3&gt;
&lt;p&gt;æŒ‡&lt;font color=&#39;red&#39;&gt;æ•°æ®è¡¨åœ¨æ¯ä¸ªæ•°æ®æºå†…å‘ˆç°å‡åŒ€åˆ†å¸ƒçš„æ€åŠ¿&lt;/font&gt;ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight txt&#34;&gt;&lt;figcaption data-lang=&#34;txt&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;db0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  â”œâ”€â”€ t_order0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  â””â”€â”€ t_order1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;db1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  â”œâ”€â”€ t_order0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  â””â”€â”€ t_order1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æ•°æ®èŠ‚ç‚¹çš„é…ç½®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight txt&#34;&gt;&lt;figcaption data-lang=&#34;txt&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;db0.t_order0, db0.t_order1, db1.t_order0, db1.t_order1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&#34;è‡ªå®šä¹‰åˆ†å¸ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è‡ªå®šä¹‰åˆ†å¸ƒ&#34;&gt;#&lt;/a&gt; è‡ªå®šä¹‰åˆ†å¸ƒ&lt;/h3&gt;
&lt;p&gt;æŒ‡&lt;font color=&#39;red&#39;&gt;æ•°æ®è¡¨å‘ˆç°æœ‰ç‰¹å®šè§„åˆ™çš„åˆ†å¸ƒ&lt;/font&gt;ï¼Œ ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight txt&#34;&gt;&lt;figcaption data-lang=&#34;txt&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;db0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  â”œâ”€â”€ t_order0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  â””â”€â”€ t_order1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;db1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  â”œâ”€â”€ t_order2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  â”œâ”€â”€ t_order3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  â””â”€â”€ t_order4&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æ•°æ®èŠ‚ç‚¹çš„é…ç½®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight txt&#34;&gt;&lt;figcaption data-lang=&#34;txt&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;db0.t_order0, db0.t_order1, db1.t_order2, db1.t_order3, db1.t_order4&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;åˆ†ç‰‡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†ç‰‡&#34;&gt;#&lt;/a&gt; åˆ†ç‰‡&lt;/h2&gt;
&lt;h3 id=&#34;åˆ†ç‰‡é”®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†ç‰‡é”®&#34;&gt;#&lt;/a&gt; åˆ†ç‰‡é”®&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç”¨äºå°†æ•°æ®åº“ï¼ˆè¡¨ï¼‰&lt;u&gt;æ°´å¹³æ‹†åˆ†&lt;/u&gt;çš„æ•°æ®åº“å­—æ®µ&lt;/font&gt;&lt;/strong&gt;ã€‚ä¾‹ï¼šå°†è®¢å•è¡¨ä¸­çš„è®¢å•ä¸»é”®çš„å°¾æ•°å–æ¨¡åˆ†ç‰‡ï¼Œåˆ™è®¢å•ä¸»é”®ä¸ºåˆ†ç‰‡å­—æ®µã€‚ SQL ä¸­å¦‚æœæ— åˆ†ç‰‡å­—æ®µï¼Œå°†æ‰§è¡Œå…¨è·¯ç”±ï¼Œæ€§èƒ½è¾ƒå·®ã€‚ é™¤äº†å¯¹å•åˆ†ç‰‡å­—æ®µçš„æ”¯æŒï¼ŒApache ShardingSphere ä¹Ÿæ”¯æŒæ ¹æ®å¤šä¸ªå­—æ®µè¿›è¡Œåˆ†ç‰‡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åˆ†ç‰‡ç®—æ³•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†ç‰‡ç®—æ³•&#34;&gt;#&lt;/a&gt; åˆ†ç‰‡ç®—æ³•&lt;/h3&gt;
&lt;p&gt;ç”¨äºå°†æ•°æ®åˆ†ç‰‡çš„ç®—æ³•ï¼Œæ”¯æŒ  &lt;code&gt;=&lt;/code&gt; ã€ &lt;code&gt;&amp;gt;=&lt;/code&gt; ã€ &lt;code&gt;&amp;lt;=&lt;/code&gt; ã€ &lt;code&gt;&amp;gt;&lt;/code&gt; ã€ &lt;code&gt;&amp;lt;&lt;/code&gt; ã€ &lt;code&gt;BETWEEN&lt;/code&gt;  å’Œ  &lt;code&gt;IN&lt;/code&gt;  è¿›è¡Œåˆ†ç‰‡ã€‚åˆ†ç‰‡ç®—æ³•å¯ç”±å¼€å‘è€…è‡ªè¡Œå®ç°ï¼Œä¹Ÿå¯ä½¿ç”¨ Apache ShardingSphere &lt;font color=&#39;red&#39;&gt;å†…ç½®çš„åˆ†ç‰‡ç®—æ³•è¯­æ³•ç³–&lt;/font&gt;ï¼Œçµæ´»åº¦éå¸¸é«˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è‡ªåŠ¨åŒ–åˆ†ç‰‡ç®—æ³•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è‡ªåŠ¨åŒ–åˆ†ç‰‡ç®—æ³•&#34;&gt;#&lt;/a&gt; è‡ªåŠ¨åŒ–åˆ†ç‰‡ç®—æ³•&lt;/h3&gt;
&lt;p&gt;åˆ†ç‰‡ç®—æ³•è¯­æ³•ç³–ï¼Œç”¨äºä¾¿æ·çš„æ‰˜ç®¡æ‰€æœ‰æ•°æ®èŠ‚ç‚¹ï¼Œ&lt;font color=&#39;red&#39;&gt;ä½¿ç”¨è€…æ— éœ€å…³æ³¨çœŸå®è¡¨çš„ç‰©ç†åˆ†å¸ƒ&lt;/font&gt;ã€‚åŒ…æ‹¬&lt;font color=&#39;red&#39;&gt;å–æ¨¡ã€å“ˆå¸Œã€èŒƒå›´ã€æ—¶é—´&lt;/font&gt;ç­‰å¸¸ç”¨åˆ†ç‰‡ç®—æ³•çš„å®ç°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è‡ªå®šä¹‰åˆ†ç‰‡ç®—æ³•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è‡ªå®šä¹‰åˆ†ç‰‡ç®—æ³•&#34;&gt;#&lt;/a&gt; è‡ªå®šä¹‰åˆ†ç‰‡ç®—æ³•&lt;/h3&gt;
&lt;p&gt;æä¾›æ¥å£è®©åº”ç”¨å¼€å‘è€…è‡ªè¡Œå®ç°ä¸ä¸šåŠ¡å®ç°ç´§å¯†ç›¸å…³çš„åˆ†ç‰‡ç®—æ³•ï¼Œå¹¶å…è®¸ä½¿ç”¨è€…è‡ªè¡Œç®¡ç†çœŸå®è¡¨çš„ç‰©ç†åˆ†å¸ƒã€‚è‡ªå®šä¹‰åˆ†ç‰‡ç®—æ³•åˆåˆ†ä¸ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æ ‡å‡†åˆ†ç‰‡ç®—æ³•&lt;/font&gt;ï¼šç”¨äºå¤„ç†ä½¿ç”¨å•ä¸€é”®ä½œä¸ºåˆ†ç‰‡é”®çš„  &lt;code&gt;=&lt;/code&gt; ã€ &lt;code&gt;IN&lt;/code&gt; ã€ &lt;code&gt;BETWEEN AND&lt;/code&gt; ã€ &lt;code&gt;&amp;gt;&lt;/code&gt; ã€ &lt;code&gt;&amp;lt;&lt;/code&gt; ã€ &lt;code&gt;&amp;gt;=&lt;/code&gt; ã€ &lt;code&gt;&amp;lt;=&lt;/code&gt;  è¿›è¡Œåˆ†ç‰‡çš„åœºæ™¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å¤åˆåˆ†ç‰‡ç®—æ³•&lt;/font&gt;ï¼šç”¨äºå¤„ç†ä½¿ç”¨å¤šé”®ä½œä¸ºåˆ†ç‰‡é”®è¿›è¡Œåˆ†ç‰‡çš„åœºæ™¯ï¼ŒåŒ…å«å¤šä¸ªåˆ†ç‰‡é”®çš„é€»è¾‘è¾ƒå¤æ‚ï¼Œéœ€è¦åº”ç”¨å¼€å‘è€…è‡ªè¡Œå¤„ç†å…¶ä¸­çš„å¤æ‚åº¦ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;Hint åˆ†ç‰‡ç®—æ³•&lt;/font&gt;ï¼šç”¨äºå¤„ç†ä½¿ç”¨  &lt;code&gt;Hint&lt;/code&gt;  è¡Œåˆ†ç‰‡çš„åœºæ™¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åˆ†ç‰‡ç­–ç•¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†ç‰‡ç­–ç•¥&#34;&gt;#&lt;/a&gt; åˆ†ç‰‡ç­–ç•¥&lt;/h3&gt;
&lt;p&gt;åŒ…å«åˆ†ç‰‡é”®å’Œåˆ†ç‰‡ç®—æ³•ï¼Œç”±äºåˆ†ç‰‡ç®—æ³•çš„ç‹¬ç«‹æ€§ï¼Œå°†å…¶ç‹¬ç«‹æŠ½ç¦»ã€‚çœŸæ­£å¯ç”¨äºåˆ†ç‰‡æ“ä½œçš„æ˜¯&lt;font color=&#39;red&#39;&gt;åˆ†ç‰‡é”® + åˆ†ç‰‡ç®—æ³•&lt;/font&gt;ï¼Œä¹Ÿå°±æ˜¯åˆ†ç‰‡ç­–ç•¥ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¼ºåˆ¶åˆ†ç‰‡è·¯ç”±&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¼ºåˆ¶åˆ†ç‰‡è·¯ç”±&#34;&gt;#&lt;/a&gt; å¼ºåˆ¶åˆ†ç‰‡è·¯ç”±&lt;/h3&gt;
&lt;p&gt;å¯¹äº&lt;font color=&#39;red&#39;&gt;åˆ†ç‰‡å­—æ®µå¹¶éç”± SQL è€Œæ˜¯å…¶ä»–å¤–ç½®æ¡ä»¶å†³å®šçš„åœºæ™¯&lt;/font&gt;ï¼Œå¯ä½¿ç”¨  &lt;code&gt;SQL Hint&lt;/code&gt;  æ³¨å…¥åˆ†ç‰‡å€¼ã€‚ ä¾‹ï¼šæŒ‰ç…§å‘˜å·¥ç™»å½•ä¸»é”®åˆ†åº“ï¼Œè€Œæ•°æ®åº“ä¸­å¹¶æ— æ­¤å­—æ®µã€‚ SQL Hint æ”¯æŒé€šè¿‡ Java API å’Œ SQL æ³¨é‡Šä¸¤ç§æ–¹å¼ä½¿ç”¨ã€‚ è¯¦æƒ…è¯·å‚è§å¼ºåˆ¶åˆ†ç‰‡è·¯ç”±ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¡Œè¡¨è¾¾å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¡Œè¡¨è¾¾å¼&#34;&gt;#&lt;/a&gt; è¡Œè¡¨è¾¾å¼&lt;/h2&gt;
&lt;p&gt;è¡Œè¡¨è¾¾å¼æ˜¯ **&lt;font color=&#39;red&#39;&gt;ä¸ºäº†è§£å†³é…ç½®çš„ç®€åŒ–ä¸ä¸€ä½“åŒ–è¿™ä¸¤ä¸ªä¸»è¦é—®é¢˜&lt;/font&gt;**ã€‚åœ¨ç¹ççš„æ•°æ®åˆ†ç‰‡è§„åˆ™é…ç½®ä¸­ï¼Œéšç€æ•°æ®èŠ‚ç‚¹çš„å¢å¤šï¼Œå¤§é‡çš„é‡å¤é…ç½®ä½¿å¾—é…ç½®æœ¬èº«ä¸æ˜“è¢«ç»´æŠ¤ã€‚é€šè¿‡è¡Œè¡¨è¾¾å¼å¯ä»¥æœ‰æ•ˆåœ°&lt;font color=&#39;red&#39;&gt;ç®€åŒ–æ•°æ®èŠ‚ç‚¹çš„é…ç½®å·¥ä½œé‡&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå¸¸è§çš„åˆ†ç‰‡ç®—æ³•ï¼Œä½¿ç”¨ Java ä»£ç å®ç°å¹¶ä¸æœ‰åŠ©äºé…ç½®çš„ç»Ÿä¸€ç®¡ç†ã€‚ &lt;font color=&#39;red&#39;&gt;é€šè¿‡&lt;u&gt;è¡Œè¡¨è¾¾å¼&lt;/u&gt;ä¹¦å†™åˆ†ç‰‡ç®—æ³•ï¼Œå¯ä»¥æœ‰æ•ˆåœ°å°†è§„åˆ™é…ç½®ä¸€åŒå­˜æ”¾ï¼Œæ›´åŠ æ˜“äºæµè§ˆä¸å­˜å‚¨&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;è¡Œè¡¨è¾¾å¼ä½œä¸ºå­—ç¬¦ä¸²ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«æ˜¯ä»¥å­—ç¬¦ä¸²å¼€å¤´çš„å¯¹åº” SPI å®ç°çš„ Type Name éƒ¨åˆ†å’Œè¡¨è¾¾å¼éƒ¨åˆ†&lt;/font&gt;ã€‚ ä»¥  &lt;code&gt;&amp;lt;GROOVY&amp;gt;t_order_$&amp;#123;1..3&amp;#125;&lt;/code&gt;  ä¸ºä¾‹ï¼Œå­—ç¬¦ä¸² &lt;code&gt;&amp;lt;GROOVY&amp;gt;&lt;/code&gt;  éƒ¨åˆ†çš„å­å­—ç¬¦ä¸²  &lt;code&gt;GROOVY&lt;/code&gt;  ä¸ºæ­¤è¡Œè¡¨è¾¾å¼ä½¿ç”¨çš„å¯¹åº” SPI å®ç°çš„ Type Nameï¼Œå…¶è¢«  &lt;code&gt;&amp;lt;&amp;gt;&lt;/code&gt;  ç¬¦å·åŒ…è£¹æ¥è¯†åˆ«ã€‚è€Œå­—ç¬¦ä¸²  &lt;code&gt;t_order_$&amp;#123;1..3&amp;#125;&lt;/code&gt;  ä¸ºæ­¤è¡Œè¡¨è¾¾å¼çš„è¡¨è¾¾å¼éƒ¨åˆ†ã€‚å½“è¡Œè¡¨è¾¾å¼ä¸æŒ‡å®š Type Name æ—¶ï¼Œä¾‹å¦‚  &lt;code&gt;t_order_$&amp;#123;1..3&amp;#125;&lt;/code&gt; ï¼Œ&lt;font color=&#39;red&#39;&gt;è¡Œè¡¨ç¤ºå¼é»˜è®¤å°†ä½¿ç”¨  &lt;code&gt;InlineExpressionParser&lt;/code&gt;  SPI çš„  &lt;code&gt;GROOVY&lt;/code&gt;  å®ç°æ¥è§£æè¡¨è¾¾å¼&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹éƒ¨åˆ†ä»‹ç»  &lt;code&gt;GROOVY&lt;/code&gt;  å®ç°çš„è¯­æ³•è§„åˆ™ã€‚&lt;/p&gt;
&lt;p&gt;è¡Œè¡¨è¾¾å¼çš„ä½¿ç”¨éå¸¸ç›´è§‚ï¼Œåªéœ€è¦åœ¨é…ç½®ä¸­ä½¿ç”¨  &lt;code&gt;$&amp;#123; expression &amp;#125;&lt;/code&gt;  æˆ–  &lt;code&gt;$-&amp;gt;&amp;#123; expression &amp;#125;&lt;/code&gt;  æ ‡è¯†è¡Œè¡¨è¾¾å¼å³å¯ã€‚ &lt;font color=&#39;red&#39;&gt;ç›®å‰æ”¯æŒæ•°æ®èŠ‚ç‚¹å’Œåˆ†ç‰‡ç®—æ³•è¿™ä¸¤ä¸ªéƒ¨åˆ†çš„é…ç½®&lt;/font&gt;ã€‚è¡Œè¡¨è¾¾å¼çš„å†…å®¹ä½¿ç”¨çš„æ˜¯ &lt;font color=&#39;red&#39;&gt;Groovy çš„è¯­æ³•&lt;/font&gt;ï¼ŒGroovy èƒ½å¤Ÿæ”¯æŒçš„æ‰€æœ‰æ“ä½œï¼Œè¡Œè¡¨è¾¾å¼å‡èƒ½å¤Ÿæ”¯æŒã€‚ ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$&amp;#123;begin..end&amp;#125;&lt;/code&gt;  è¡¨ç¤ºèŒƒå›´åŒºé—´  &lt;code&gt;$&amp;#123;[unit1, unit2, unit_x]&amp;#125;&lt;/code&gt;  è¡¨ç¤ºæšä¸¾å€¼ã€‚&lt;/p&gt;
&lt;p&gt;è¡Œè¡¨è¾¾å¼ä¸­å¦‚æœå‡ºç°è¿ç»­å¤šä¸ª  &lt;code&gt;$&amp;#123; expression &amp;#125;&lt;/code&gt;  æˆ–  &lt;code&gt;$-&amp;gt;&amp;#123; expression &amp;#125;&lt;/code&gt;  è¡¨è¾¾å¼ï¼Œæ•´ä¸ªè¡¨è¾¾å¼æœ€ç»ˆçš„ç»“æœå°†ä¼šæ ¹æ®æ¯ä¸ªå­è¡¨è¾¾å¼çš„ç»“æœè¿›è¡Œ&lt;font color=&#39;red&#39;&gt;ç¬›å¡å°”ç»„åˆ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œä»¥ä¸‹è¡Œè¡¨è¾¾å¼ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight txt&#34;&gt;&lt;figcaption data-lang=&#34;txt&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$&amp;#123;[&#39;online&#39;, &#39;offline&#39;]&amp;#125;_table$&amp;#123;1..3&amp;#125;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æœ€ç»ˆä¼šè§£æä¸ºï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight txt&#34;&gt;&lt;figcaption data-lang=&#34;txt&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;online_table1, online_table2, online_table3, offline_table1, offline_table2, offline_table3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;åˆ†å¸ƒå¼ä¸»é”®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†å¸ƒå¼ä¸»é”®&#34;&gt;#&lt;/a&gt; åˆ†å¸ƒå¼ä¸»é”®&lt;/h2&gt;
&lt;p&gt;ä¼ ç»Ÿæ•°æ®åº“è½¯ä»¶å¼€å‘ä¸­ï¼Œä¸»é”®è‡ªåŠ¨ç”ŸæˆæŠ€æœ¯æ˜¯åŸºæœ¬éœ€æ±‚ã€‚è€Œå„ä¸ªæ•°æ®åº“å¯¹äºè¯¥éœ€æ±‚ä¹Ÿæä¾›äº†ç›¸åº”çš„æ”¯æŒï¼Œæ¯”å¦‚ MySQL çš„è‡ªå¢é”®ï¼ŒOracle çš„è‡ªå¢åºåˆ—ç­‰ã€‚ &lt;font color=&#39;red&#39;&gt;æ•°æ®åˆ†ç‰‡åï¼Œä¸åŒæ•°æ®èŠ‚ç‚¹ç”Ÿæˆå…¨å±€å”¯ä¸€ä¸»é”®æ˜¯éå¸¸æ£˜æ‰‹çš„é—®é¢˜ã€‚åŒä¸€ä¸ªé€»è¾‘è¡¨å†…çš„ä¸åŒå®é™…è¡¨ä¹‹é—´çš„è‡ªå¢é”®ç”±äºæ— æ³•äº’ç›¸æ„ŸçŸ¥è€Œäº§ç”Ÿé‡å¤ä¸»é”®ã€‚&lt;/font&gt;è™½ç„¶å¯é€šè¿‡çº¦æŸè‡ªå¢ä¸»é”®åˆå§‹å€¼å’Œæ­¥é•¿çš„æ–¹å¼é¿å…ç¢°æ’ï¼Œä½†éœ€å¼•å…¥é¢å¤–çš„è¿ç»´è§„åˆ™ï¼Œä½¿è§£å†³æ–¹æ¡ˆç¼ºä¹å®Œæ•´æ€§å’Œå¯æ‰©å±•æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰æœ‰è®¸å¤šç¬¬ä¸‰æ–¹è§£å†³æ–¹æ¡ˆå¯ä»¥å®Œç¾è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¦‚ UUID ç­‰ä¾é ç‰¹å®šç®—æ³•è‡ªç”Ÿæˆä¸é‡å¤é”®ï¼Œæˆ–è€…é€šè¿‡å¼•å…¥ä¸»é”®ç”ŸæˆæœåŠ¡ç­‰ã€‚ä¸ºäº†æ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨ã€æ»¡è¶³ä¸åŒç”¨æˆ·ä¸åŒä½¿ç”¨åœºæ™¯çš„éœ€æ±‚ï¼Œ &lt;font color=&#39;red&#39;&gt;Apache ShardingSphere ä¸ä»…æä¾›äº†&lt;strong&gt;å†…ç½®çš„åˆ†å¸ƒå¼ä¸»é”®ç”Ÿæˆå™¨&lt;/strong&gt;ï¼Œä¾‹å¦‚  &lt;code&gt;UUID&lt;/code&gt; ã€ &lt;code&gt;SNOWFLAKE&lt;/code&gt; ï¼Œè¿˜æŠ½ç¦»å‡º&lt;strong&gt;åˆ†å¸ƒå¼ä¸»é”®ç”Ÿæˆå™¨çš„æ¥å£&lt;/strong&gt;ï¼Œæ–¹ä¾¿ç”¨æˆ·è‡ªè¡Œå®ç°è‡ªå®šä¹‰çš„è‡ªå¢ä¸»é”®ç”Ÿæˆå™¨&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h1 id=&#34;åŠ¨æ‰‹å®ç°æ•°æ®åˆ†è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŠ¨æ‰‹å®ç°æ•°æ®åˆ†è¡¨&#34;&gt;#&lt;/a&gt; åŠ¨æ‰‹å®ç°æ•°æ®åˆ†è¡¨&lt;/h1&gt;
&lt;p&gt;ä¸‹æ–‡ä»£ç ç¤ºä¾‹åœ°å€ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRlZS5jb20vbmFnZW9mZmVyL3NwcmluZ2Jvb3QtbGFkZGVyL3RyZWUvbWFpbi9zaGFyZGluZ3NwaGVyZS01eC9zaGFyZGluZ3NwaGVyZS01eC1zaGFyZGluZw==&#34;&gt;SpringBoot-Ladder ShardingSphere 5.x åˆ†åº“åˆ†è¡¨ç¤ºä¾‹ç¨‹åº &lt;/span&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‡†å¤‡æ•°æ®åº“è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‡†å¤‡æ•°æ®åº“è¡¨&#34;&gt;#&lt;/a&gt; å‡†å¤‡æ•°æ®åº“ &amp;amp; è¡¨&lt;/h2&gt;
&lt;p&gt;MySQL åˆ›å»ºæ•°æ®åº“  &lt;code&gt;user_0&lt;/code&gt; ï¼Œåˆ›å»ºåï¼Œæ‰§è¡Œä»¥ä¸‹æ•°æ®åº“è¡¨ &lt;code&gt;t_user_0&lt;/code&gt; ã€ &lt;code&gt;t_user_1&lt;/code&gt;  çš„åˆ›å»ºè¯­å¥ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TABLE&lt;/span&gt; &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;t_user_0&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;id&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;bigint&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;NOT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;AUTO_INCREMENT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;ID&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;username&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;256&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;ç”¨æˆ·å&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;password&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;512&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;å¯†ç &#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;real_name&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;256&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;çœŸå®å§“å&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;region&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;0&#39;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;å›½å®¶/åœ°åŒº&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;id_type&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;è¯ä»¶ç±»å‹&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;id_card&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;256&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;è¯ä»¶å·&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;phone&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;æ‰‹æœºå·&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;telephone&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;å›ºå®šç”µè¯&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;mail&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;256&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;é‚®ç®±&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;user_type&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;æ—…å®¢ç±»å‹&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;verify_status&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;å®¡æ ¸çŠ¶æ€&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;post_code&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;é‚®ç¼–&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;address&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1024&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;åœ°å€&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;deletion_time&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;bigint&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;0&#39;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;æ³¨é”€æ—¶é—´æˆ³&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;create_time&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;datetime&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;åˆ›å»ºæ—¶é—´&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;update_time&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;datetime&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;ä¿®æ”¹æ—¶é—´&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;del_flag&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;tinyint&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;åˆ é™¤æ ‡è¯†&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;PRIMARY&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;KEY&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;id&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;ENGINE&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;InnoDB&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;AUTO_INCREMENT&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1695720264773&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;CHARSET&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;utf8mb4 &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;ç”¨æˆ·è¡¨&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TABLE&lt;/span&gt; &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;t_user_1&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;id&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;bigint&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;NOT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;AUTO_INCREMENT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;ID&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;username&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;256&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;ç”¨æˆ·å&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;password&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;512&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;å¯†ç &#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;real_name&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;256&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;çœŸå®å§“å&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;region&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;0&#39;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;å›½å®¶/åœ°åŒº&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;id_type&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;è¯ä»¶ç±»å‹&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;id_card&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;256&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;è¯ä»¶å·&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;31&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;phone&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;æ‰‹æœºå·&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;32&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;telephone&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;å›ºå®šç”µè¯&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;33&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;mail&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;256&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;é‚®ç®±&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;34&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;user_type&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;æ—…å®¢ç±»å‹&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;35&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;verify_status&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;å®¡æ ¸çŠ¶æ€&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;36&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;post_code&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;é‚®ç¼–&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;37&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;address&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1024&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt; utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;åœ°å€&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;38&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;deletion_time&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;bigint&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;0&#39;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;æ³¨é”€æ—¶é—´æˆ³&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;39&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;create_time&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;datetime&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;åˆ›å»ºæ—¶é—´&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;40&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;update_time&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;datetime&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;ä¿®æ”¹æ—¶é—´&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;41&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;del_flag&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;tinyint&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;åˆ é™¤æ ‡è¯†&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;42&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;PRIMARY&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;KEY&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;id&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;43&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;ENGINE&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;InnoDB&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;AUTO_INCREMENT&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1695720264420&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;CHARSET&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;utf8mb4 &lt;span class=&#34;token keyword&#34;&gt;COLLATE&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;utf8mb4_unicode_ci &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;ç”¨æˆ·è¡¨&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;å¼€å‘ç”¨æˆ·æŒä¹…å±‚ä»£ç &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¼€å‘ç”¨æˆ·æŒä¹…å±‚ä»£ç &#34;&gt;#&lt;/a&gt; å¼€å‘ç”¨æˆ·æŒä¹…å±‚ä»£ç &lt;/h2&gt;
&lt;p&gt;å¼•å…¥ MyBatisPlus ä»¥åŠå’Œ MySQL ç›¸å…³ä¾èµ–ï¼Œå¼€å‘æ™®é€šçš„ç”¨æˆ·æŒä¹…å±‚ä»£ç é€»è¾‘ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight xml&#34;&gt;&lt;figcaption data-lang=&#34;XML&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;dependencies&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;com.baomidou&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;mybatis-plus-boot-starter&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;version&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;$&amp;#123;mybatis-plus.version&amp;#125;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;version&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;com.mysql&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;mysql-connector-j&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;scope&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;runtime&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;scope&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;org.springframework.boot&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;spring-boot-starter-jdbc&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;dependencies&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;åˆ›å»ºç”¨æˆ·æŒä¹…å±‚å®ä½“ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;com&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;baomidou&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;mybatisplus&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;annotation&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;FieldFill&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;com&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;baomidou&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;mybatisplus&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;annotation&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;TableField&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;com&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;baomidou&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;mybatisplus&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;annotation&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;TableName&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;lombok&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;AllArgsConstructor&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;lombok&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Builder&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;lombok&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Data&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;lombok&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;NoArgsConstructor&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;java&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;util&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Date&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; * ç”¨æˆ·ä¿¡æ¯å®ä½“&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; *&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; * @å…¬ä¼—å·ï¼šé©¬ä¸ç©ç¼–ç¨‹ï¼Œå›å¤ï¼šåŠ ç¾¤ï¼Œæ·»åŠ é©¬å“¥å¾®ä¿¡ï¼ˆå¤‡æ³¨ï¼šladderï¼‰è·å–æ›´å¤šé¡¹ç›®èµ„æ–™&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@Data&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@NoArgsConstructor&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@AllArgsConstructor&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@Builder&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@TableName&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;t_user&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;UserDO&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * id&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Long&lt;/span&gt; id&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * ç”¨æˆ·å&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;31&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; username&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;32&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;33&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;34&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * å¯†ç &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;35&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;36&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; password&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;37&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;38&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;39&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * çœŸå®å§“å&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;40&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;41&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; realName&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;42&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;43&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;44&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * å›½å®¶ / åœ°åŒº&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;45&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;46&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; region&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;47&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;48&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;49&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * è¯ä»¶ç±»å‹&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;50&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;51&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Integer&lt;/span&gt; idType&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;52&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;53&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;54&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * è¯ä»¶å·&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;55&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;56&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; idCard&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;57&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;58&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;59&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * æ‰‹æœºå·&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;60&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;61&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; phone&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;62&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;63&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;64&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * å›ºå®šç”µè¯&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;65&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;66&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; telephone&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;67&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;68&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;69&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * é‚®ç®±&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;70&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;71&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; mail&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;72&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;73&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;74&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * æ—…å®¢ç±»å‹&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;75&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;76&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Integer&lt;/span&gt; userType&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;77&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;78&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;79&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * å®¡æ ¸çŠ¶æ€&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;80&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;81&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Integer&lt;/span&gt; verifyStatus&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;82&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;83&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;84&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * é‚®ç¼–&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;85&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;86&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; postCode&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;87&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;88&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;89&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * åœ°å€&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;90&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;91&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; address&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;92&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;93&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;94&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * æ³¨é”€æ—¶é—´æˆ³&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;95&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;96&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Long&lt;/span&gt; deletionTime&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;97&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;98&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;99&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * åˆ›å»ºæ—¶é—´&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;100&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;101&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token annotation punctuation&#34;&gt;@TableField&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;fill &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;FieldFill&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token constant&#34;&gt;INSERT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;102&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Date&lt;/span&gt; createTime&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;103&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;104&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;105&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * ä¿®æ”¹æ—¶é—´&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;106&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;107&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token annotation punctuation&#34;&gt;@TableField&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;fill &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;FieldFill&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token constant&#34;&gt;INSERT_UPDATE&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;108&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Date&lt;/span&gt; updateTime&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;109&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;110&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;111&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * åˆ é™¤æ ‡å¿—&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;112&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;113&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token annotation punctuation&#34;&gt;@TableField&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;fill &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;FieldFill&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token constant&#34;&gt;INSERT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;114&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Integer&lt;/span&gt; delFlag&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;115&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;åˆ›å»ºç”¨æˆ·å®ä½“å¯¹åº”çš„ MyBatis Mapper æŒä¹…å±‚æ¥å£ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;com&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;baomidou&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;mybatisplus&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;core&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;mapper&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;BaseMapper&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;com&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;nageoffer&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;springbootladder&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;shardingspherecore&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;dao&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;entity&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;UserDO&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; * ç”¨æˆ·ä¿¡æ¯æŒä¹…å±‚&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; *&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; * @å…¬ä¼—å·ï¼šé©¬ä¸ç©ç¼–ç¨‹ï¼Œå›å¤ï¼šåŠ ç¾¤ï¼Œæ·»åŠ é©¬å“¥å¾®ä¿¡ï¼ˆå¤‡æ³¨ï¼šladderï¼‰è·å–æ›´å¤šé¡¹ç›®èµ„æ–™&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;UserMapper&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;extends&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;BaseMapper&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;UserDO&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;åˆ›å»ºç”¨æˆ·æ¥å£ï¼Œä¸ºäº†é¿å…é‡å¤ä»£ç ï¼Œè¿™é‡Œç›´æ¥ç»§æ‰¿ MyBatisPlus çš„ IService é€šç”¨æ¥å£ï¼Œå®ç°å¢åˆ æ”¹æŸ¥ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;com&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;baomidou&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;mybatisplus&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;extension&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;service&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;IService&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;com&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;nageoffer&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;springbootladder&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;shardingspherecore&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;dao&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;entity&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;UserDO&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; * ç”¨æˆ·ä¿¡æ¯æ¥å£å±‚&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; *&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; * @å…¬ä¼—å·ï¼šé©¬ä¸ç©ç¼–ç¨‹ï¼Œå›å¤ï¼šåŠ ç¾¤ï¼Œæ·»åŠ é©¬å“¥å¾®ä¿¡ï¼ˆå¤‡æ³¨ï¼šladderï¼‰è·å–æ›´å¤šé¡¹ç›®èµ„æ–™&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;UserService&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;extends&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;IService&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;UserDO&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;com&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;baomidou&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;mybatisplus&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;extension&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;service&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;impl&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;ServiceImpl&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;com&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;nageoffer&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;springbootladder&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;shardingspherecore&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;dao&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;entity&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;UserDO&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;com&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;nageoffer&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;springbootladder&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;shardingspherecore&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;dao&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;mapper&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;UserMapper&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;org&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;springframework&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;stereotype&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Component&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; * ç”¨æˆ·ä¿¡æ¯æ¥å£å®ç°å±‚&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; *&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; * @å…¬ä¼—å·ï¼šé©¬ä¸ç©ç¼–ç¨‹ï¼Œå›å¤ï¼šåŠ ç¾¤ï¼Œæ·»åŠ é©¬å“¥å¾®ä¿¡ï¼ˆå¤‡æ³¨ï¼šladderï¼‰è·å–æ›´å¤šé¡¹ç›®èµ„æ–™&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@Component&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;UserServiceImpl&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;extends&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;ServiceImpl&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;UserMapper&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;UserDO&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;implements&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;UserService&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;å¼•å…¥-shardingsphere-jdbc&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¼•å…¥-shardingsphere-jdbc&#34;&gt;#&lt;/a&gt; å¼•å…¥ ShardingSphere-JDBC&lt;/h2&gt;
&lt;p&gt;å¼•å…¥ ShardingSphere-JDBC çš„ Maven Jar åŒ…ï¼Œè¿™é‡Œä½¿ç”¨ 5.3.2ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight xml&#34;&gt;&lt;figcaption data-lang=&#34;XML&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;org.apache.shardingsphere&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;shardingsphere-jdbc-core&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;version&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;5.3.2&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;version&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;SpringBoot å’Œ ShardingSphere é…ç½®æ–‡ä»¶çš„å…³è”æ–¹å¼è¯¦æƒ…è§ä¸‹å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230926175048282.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;5.x.x ç‰ˆæœ¬åï¼ŒShardingSphere-JDBC çš„é…ç½®æ–‡ä»¶é…ç½®æ–¹å¼æœ‰äº†å¤§çš„å˜åŒ–ï¼Œä»ä¹‹å‰å’Œ Spring è€¦åˆå˜æ›´ä¸ºå®Œå…¨è§£è€¦ï¼Œå¤§å®¶éœ€è¦æ˜ç¡®ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight yaml&#34;&gt;&lt;figcaption data-lang=&#34;YAML&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6060&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;datasource&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;# æŒ‡å®š ShardingSphere è‡ªå®šä¹‰é©±åŠ¨ç±»&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;driver-class-name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; org.apache.shardingsphere.driver.ShardingSphereDriver&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;# æŒ‡å®š ShardingSphere è‡ªå®šä¹‰é…ç½®æ–‡ä»¶è·¯å¾„åœ°å€&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; jdbc&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;shardingsphere&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;classpath&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;shardingsphere&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;config.yaml&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;åˆ›å»º ShardingSphere è‡ªå®šä¹‰åˆ†ç‰‡é…ç½®æ–‡ä»¶  &lt;code&gt;shardingsphere-config.yaml&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight yaml&#34;&gt;&lt;figcaption data-lang=&#34;YAML&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ•°æ®æºé›†åˆ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;dataSources&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token comment&#34;&gt;# é€»è¾‘æ•°æ®æºåç§°&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;ds_0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;# æ•°æ®æºç±»å‹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;dataSourceClassName&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; com.zaxxer.hikari.HikariDataSource&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;# æ•°æ®åº“é©±åŠ¨&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;driverClassName&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; com.mysql.cj.jdbc.Driver&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;# æ•°æ®åº“è¿æ¥&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;jdbcUrl&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; jdbc&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;mysql&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;//127.0.0.1&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;3306/user_0&lt;span class=&#34;token punctuation&#34;&gt;?&lt;/span&gt;useUnicode=true&lt;span class=&#34;token important&#34;&gt;&amp;amp;characterEncoding=UTF-8&amp;amp;rewriteBatchedStatements=true&amp;amp;allowMultiQueries=true&amp;amp;serverTimezone=Asia/Shanghai&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;# ç”¨æˆ·åï¼Œå¦‚æœæœ¬åœ°æ•°æ®åº“ä¸è¿™ä¸ªä¸ä¸€è‡´ï¼Œéœ€è¦ä¿®æ”¹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; root&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;# å¯†ç ï¼Œå¦‚æœæœ¬åœ°æ•°æ®åº“ä¸è¿™ä¸ªä¸ä¸€è‡´ï¼Œéœ€è¦ä¿®æ”¹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; root&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ShardingSphere è§„åˆ™é…ç½®ï¼ŒåŒ…å«ï¼šæ•°æ®åˆ†ç‰‡ã€æ•°æ®åŠ å¯†ã€è¯»å†™åˆ†ç¦»ç­‰&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;rules&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token tag&#34;&gt;!SHARDING&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;# éœ€è¦æ•°æ®åˆ†ç‰‡çš„è¡¨é›†åˆ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;tables&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token comment&#34;&gt;# é€»è¾‘è¡¨å&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token key atrule&#34;&gt;t_user&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;# çœŸå®å­˜åœ¨æ•°æ®åº“çš„ç‰©ç†è¡¨é›†åˆ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token key atrule&#34;&gt;actualDataNodes&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; ds_0.t_user_$&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;0..1&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;# åˆ†è¡¨ç­–ç•¥&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token key atrule&#34;&gt;tableStrategy&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;          &lt;span class=&#34;token comment&#34;&gt;# å•åˆ†ç‰‡é”®åˆ†è¡¨&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;          &lt;span class=&#34;token key atrule&#34;&gt;standard&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            &lt;span class=&#34;token comment&#34;&gt;# è‡ªå®šä¹‰åˆ†ç‰‡å­—æ®µ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            &lt;span class=&#34;token key atrule&#34;&gt;shardingColumn&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; id&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;31&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            &lt;span class=&#34;token comment&#34;&gt;# è‡ªå®šä¹‰åˆ†ç‰‡ç®—æ³•åç§°ï¼Œå¯¹åº” &amp;#123;rules [0].shardingAlgorithms.user_table_hash_mod&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;32&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            &lt;span class=&#34;token key atrule&#34;&gt;shardingAlgorithmName&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; user_table_hash_mod&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;33&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;# æ•°æ®åˆ†ç‰‡ç®—æ³•å®šä¹‰é›†åˆ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;34&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;shardingAlgorithms&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;35&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token comment&#34;&gt;# è‡ªå®šä¹‰åˆ†ç‰‡ç®—æ³•åç§°&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;36&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token key atrule&#34;&gt;user_table_hash_mod&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;37&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;# åˆ†ç‰‡æ–¹å¼ï¼ŒHASH_MODEï¼ŒæŒ‰ç…§ HASH çš„æ–¹å¼å¯¹åˆ†ç‰‡é”®è¿›è¡Œæ“ä½œï¼Œè·å–çœŸå®çš„ç‰©ç†è¡¨ç´¢å¼•&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;38&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token key atrule&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; HASH_MOD&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;39&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token key atrule&#34;&gt;props&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;40&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;          &lt;span class=&#34;token comment&#34;&gt;# ç‰©ç†è¡¨åˆ†ç‰‡æ•°é‡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;41&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;          &lt;span class=&#34;token key atrule&#34;&gt;sharding-count&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;42&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;props&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;43&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token comment&#34;&gt;# æ˜¯å¦æ‰“å°é€»è¾‘ SQL å’ŒçœŸå® SQLï¼Œå¼€å‘æµ‹è¯•ç¯å¢ƒå»ºè®®å¼€æ”¾ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®å…³é—­&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;44&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;sql-show&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token boolean important&#34;&gt;true&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;æµ‹è¯•åˆ†è¡¨æ•ˆæœ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æµ‹è¯•åˆ†è¡¨æ•ˆæœ&#34;&gt;#&lt;/a&gt; æµ‹è¯•åˆ†è¡¨æ•ˆæœ&lt;/h2&gt;
&lt;p&gt;é¡¹ç›®ä¸­å¼•å…¥äº† Swagger3ï¼Œé€šè¿‡ç•Œé¢ UI å‘é€ä¸€æ¡æ¶ˆæ¯æµ‹è¯•æ•ˆæœã€‚è®¿é—®  &lt;code&gt;http://127.0.0.1:6060/swagger-ui/index.html&lt;/code&gt; ï¼Œè°ƒç”¨å®šä¹‰çš„æ–°å¢æ•°æ®å’ŒæŸ¥è¯¢æ•°æ®æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230926223335777.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹å‡» Execute æ‰§è¡Œæ–¹æ³•è°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230926223434188.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡æ–°å¢ç”¨æˆ·æ–¹æ³•è°ƒç”¨å¾—çŸ¥ï¼Œè¿”å›æ•°æ®ä¸ºæˆåŠŸã€‚å¹¶åœ¨è¿”å›ä¿¡æ¯ä¸­ï¼Œæ·»åŠ äº†ç”¨æˆ· IDï¼Œå¯ä»¥æ ¹æ®è¯¥ ID å»æŸ¥è¯¢æ•°æ®åº“è®°å½•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230926223516210.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡æ•°æ®åº“æ—¥å¿—å¾—çŸ¥ï¼Œè¯¥æ•°æ®è¢«æ–°å¢åˆ°  &lt;code&gt;t_user_1&lt;/code&gt;  è¡¨ä¸­ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight txt&#34;&gt;&lt;figcaption data-lang=&#34;txt&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;2023-09-26T22:34:46.413+08:00  INFO 78131 --- [nio-6060-exec-1] ShardingSphere-SQL                       : Actual SQL: ds_0 ::: INSERT INTO t_user_1  ( id,&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;username,&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;password,&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;id_type,&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;id_card,&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;phone,&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;address,&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;create_time,&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;update_time,&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;del_flag )  VALUES  (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ::: [1695738886407, å…¬ä¼—å·@é©¬ä¸ç©ç¼–ç¨‹, mqEc1mududm63JuxHmpm6jSUHy8xRRsL, 0, 110101202309305156, 15601166692, æ­å·å¸‚é˜¿é‡Œå·´å·´å›­åŒº, 2023-09-26 22:34:46.407, 2023-09-26 22:34:46.407, 0]&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æ‹¿åˆ°åˆšæ‰çš„æ–¹æ³•è¿”å› IDï¼Œæ ¹æ® ID æŸ¥è¯¢è¿™æ¡æ•°æ®çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://images-machen.oss-cn-beijing.aliyuncs.com/image-20230926223811260.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
</content>
        <category term="åˆ†å¸ƒå¼å¾®æœåŠ¡" scheme="http://example.com/categories/distributed-microservices/" />
        <updated>2024-01-26T14:11:07.441Z</updated>
    </entry>
    <entry>
        <id>http://example.com/mq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/</id>
        <title>æ¶ˆæ¯é˜Ÿåˆ—</title>
        <link rel="alternate" href="http://example.com/mq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/"/>
        <content type="html">&lt;h1 id=&#34;æ¶ˆæ¯é˜Ÿåˆ—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶ˆæ¯é˜Ÿåˆ—&#34;&gt;#&lt;/a&gt; æ¶ˆæ¯é˜Ÿåˆ—&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;ç‰¹æŒ‡åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;æ¶ˆæ¯é˜Ÿåˆ—åŸºç¡€çŸ¥è¯†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶ˆæ¯é˜Ÿåˆ—åŸºç¡€çŸ¥è¯†&#34;&gt;#&lt;/a&gt; æ¶ˆæ¯é˜Ÿåˆ—åŸºç¡€çŸ¥è¯†&lt;/h2&gt;
&lt;h3 id=&#34;æ¶ˆæ¯é˜Ÿåˆ—çš„å®šä¹‰&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶ˆæ¯é˜Ÿåˆ—çš„å®šä¹‰&#34;&gt;#&lt;/a&gt; æ¶ˆæ¯é˜Ÿåˆ—çš„å®šä¹‰&lt;/h3&gt;
&lt;p&gt;å¯ä»¥æŠŠæ¶ˆæ¯é˜Ÿåˆ—çœ‹ä½œæ˜¯&lt;font color=&#39;red&#39;&gt;ä¸€ä¸ªå­˜æ”¾æ¶ˆæ¯çš„å®¹å™¨&lt;/font&gt;ï¼Œå½“æˆ‘ä»¬éœ€è¦ä½¿ç”¨æ¶ˆæ¯çš„æ—¶å€™ï¼Œç›´æ¥ä»å®¹å™¨ä¸­å–å‡ºæ¶ˆæ¯ä¾›è‡ªå·±ä½¿ç”¨å³å¯ã€‚ç”±äº&lt;font color=&#39;red&#39;&gt;é˜Ÿåˆ— Queue&lt;/font&gt; æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼Œæ‰€ä»¥æ¶ˆè´¹æ¶ˆæ¯æ—¶ä¹Ÿ&lt;font color=&#39;red&#39;&gt;æŒ‰ç…§é¡ºåºæ¥æ¶ˆè´¹&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/message-queue-small.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ¶ˆæ¯é˜Ÿåˆ—æ˜¯ä¸€ç§ &lt;strong&gt;Pub/Sub æ¨¡å‹ï¼ˆå‘å¸ƒ / è®¢é˜…æ¨¡å‹ï¼‰&lt;/strong&gt;ï¼Œå‚ä¸æ¶ˆæ¯ä¼ é€’çš„åŒæ–¹ç§°ä¸º&lt;strong&gt;ç”Ÿäº§è€…&lt;/strong&gt;å’Œ&lt;strong&gt;æ¶ˆè´¹è€…&lt;/strong&gt;ï¼Œç”Ÿäº§è€…è´Ÿè´£å‘é€æ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…è´Ÿè´£å¤„ç†æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/message-queue-pub-sub-model-63a717b4.png&#34; alt=&#34;å‘å¸ƒ/è®¢é˜…ï¼ˆPub/Subï¼‰æ¨¡å‹&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å‘å¸ƒ/è®¢é˜…ï¼ˆPub/Subï¼‰æ¨¡å‹&lt;/center&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“æ“ä½œç³»ç»Ÿä¸­çš„è¿›ç¨‹é€šä¿¡çš„ä¸€ç§å¾ˆé‡è¦çš„æ–¹å¼å°±æ˜¯æ¶ˆæ¯é˜Ÿåˆ—ã€‚æˆ‘ä»¬è¿™é‡Œæåˆ°çš„æ¶ˆæ¯é˜Ÿåˆ—ç¨å¾®æœ‰ç‚¹åŒºåˆ«ï¼Œ&lt;font color=&#39;red&#39;&gt;æ›´å¤šæŒ‡çš„æ˜¯å„ä¸ªæœåŠ¡ä»¥åŠç³»ç»Ÿå†…éƒ¨å„ä¸ªç»„ä»¶ / æ¨¡å—ä¹‹å‰çš„é€šä¿¡&lt;/font&gt;ï¼Œå±äºä¸€ç§&lt;strong&gt;ä¸­é—´ä»¶&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•æ¥è¯´ï¼š&lt;strong&gt;ä¸­é—´ä»¶æ˜¯ä¸€ç±»æœåŠ¡äºåº”ç”¨è½¯ä»¶çš„è½¯ä»¶ï¼Œåº”ç”¨è½¯ä»¶æ˜¯ä¸ºç”¨æˆ·æœåŠ¡çš„ï¼Œç”¨æˆ·ä¸ä¼šæ¥è§¦æˆ–è€…ä½¿ç”¨åˆ°ä¸­é—´ä»¶ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;éšç€åˆ†å¸ƒå¼å’Œå¾®æœåŠ¡ç³»ç»Ÿçš„å‘å±•ï¼Œæ¶ˆæ¯é˜Ÿåˆ—åœ¨ç³»ç»Ÿè®¾è®¡ä¸­æœ‰äº†æ›´å¤§çš„å‘æŒ¥ç©ºé—´ï¼Œä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—&lt;font color=&#39;red&#39;&gt;å¯ä»¥é™ä½ç³»ç»Ÿè€¦åˆæ€§ã€å®ç°ä»»åŠ¡å¼‚æ­¥ã€æœ‰æ•ˆåœ°è¿›è¡Œæµé‡å‰Šå³°&lt;/font&gt;ï¼Œæ˜¯åˆ†å¸ƒå¼å’Œå¾®æœåŠ¡ç³»ç»Ÿä¸­é‡è¦çš„ç»„ä»¶ä¹‹ä¸€ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ¶ˆæ¯é˜Ÿåˆ—çš„ä½œç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶ˆæ¯é˜Ÿåˆ—çš„ä½œç”¨&#34;&gt;#&lt;/a&gt; æ¶ˆæ¯é˜Ÿåˆ—çš„ä½œç”¨&lt;/h3&gt;
&lt;p&gt;é€šå¸¸æ¥è¯´ï¼Œä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—èƒ½ä¸ºæˆ‘ä»¬çš„ç³»ç»Ÿå¸¦æ¥ä¸‹é¢ä¸‰ç‚¹å¥½å¤„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é€šè¿‡å¼‚æ­¥å¤„ç†æé«˜ç³»ç»Ÿæ€§èƒ½ï¼ˆå‡å°‘å“åº”æ‰€éœ€æ—¶é—´ï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å‰Šå³° / é™æµ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é™ä½ç³»ç»Ÿè€¦åˆæ€§&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®ç°åˆ†å¸ƒå¼äº‹åŠ¡&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœåœ¨é¢è¯•çš„æ—¶å€™ä½ è¢«é¢è¯•å®˜é—®åˆ°è¿™ä¸ªé—®é¢˜çš„è¯ï¼Œä¸€èˆ¬æƒ…å†µæ˜¯ä½ åœ¨ä½ çš„ç®€å†ä¸Šæ¶‰åŠåˆ°æ¶ˆæ¯é˜Ÿåˆ—è¿™æ–¹é¢çš„å†…å®¹ï¼Œè¿™ä¸ªæ—¶å€™æ¨è&lt;font color=&#39;red&#39;&gt;ç»“åˆè‡ªå·±çš„é¡¹ç›®æ¥å›ç­”&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä½œç”¨1é€šè¿‡å¼‚æ­¥å¤„ç†æé«˜ç³»ç»Ÿæ€§èƒ½å‡å°‘å“åº”æ‰€éœ€æ—¶é—´&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½œç”¨1é€šè¿‡å¼‚æ­¥å¤„ç†æé«˜ç³»ç»Ÿæ€§èƒ½å‡å°‘å“åº”æ‰€éœ€æ—¶é—´&#34;&gt;#&lt;/a&gt; ä½œç”¨ 1ï¼šé€šè¿‡å¼‚æ­¥å¤„ç†æé«˜ç³»ç»Ÿæ€§èƒ½ï¼ˆå‡å°‘å“åº”æ‰€éœ€æ—¶é—´ï¼‰&lt;/h4&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/Asynchronous-message-queue.png&#34; alt=&#34;é€šè¿‡å¼‚æ­¥å¤„ç†æé«˜ç³»ç»Ÿæ€§èƒ½&#34; /&gt;&lt;/p&gt;
&lt;center&gt;é€šè¿‡å¼‚æ­¥å¤„ç†æé«˜ç³»ç»Ÿæ€§èƒ½&lt;/center&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æœåŠ¡ç«¯å°†ç”¨æˆ·çš„è¯·æ±‚æ•°æ®å­˜å‚¨åˆ°æ¶ˆæ¯é˜Ÿåˆ—åï¼Œç«‹å³è¿”å›ç»“æœ&lt;/font&gt;ã€‚éšåï¼Œç³»ç»Ÿå†å¯¹æ¶ˆæ¯è¿›è¡Œæ¶ˆè´¹ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºç”¨æˆ·è¯·æ±‚æ•°æ®å†™å…¥æ¶ˆæ¯é˜Ÿåˆ—ä¹‹åå°±ç«‹å³è¿”å›ç»™ç”¨æˆ·äº†ï¼Œä½†æ˜¯è¯·æ±‚æ•°æ®åœ¨åç»­çš„ä¸šåŠ¡æ ¡éªŒã€å†™æ•°æ®åº“ç­‰æ“ä½œä¸­å¯èƒ½å¤±è´¥ã€‚å› æ­¤ï¼Œ&lt;strong&gt;ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œå¼‚æ­¥å¤„ç†ä¹‹åï¼Œéœ€è¦é€‚å½“ä¿®æ”¹ä¸šåŠ¡æµç¨‹è¿›è¡Œé…åˆ&lt;/strong&gt;ï¼Œæ¯”å¦‚ç”¨æˆ·åœ¨æäº¤è®¢å•ä¹‹åï¼Œè®¢å•æ•°æ®å†™å…¥æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸èƒ½ç«‹å³è¿”å›ç”¨æˆ·è®¢å•æäº¤æˆåŠŸï¼Œéœ€è¦åœ¨æ¶ˆæ¯é˜Ÿåˆ—çš„è®¢å•æ¶ˆè´¹è€…è¿›ç¨‹çœŸæ­£å¤„ç†å®Œè¯¥è®¢å•ä¹‹åï¼Œç”šè‡³å‡ºåº“åï¼Œå†é€šè¿‡ç”µå­é‚®ä»¶æˆ–çŸ­ä¿¡é€šçŸ¥ç”¨æˆ·è®¢å•æˆåŠŸï¼Œä»¥å…äº¤æ˜“çº çº·ã€‚è¿™å°±ç±»ä¼¼æˆ‘ä»¬å¹³æ—¶æ‰‹æœºè®¢ç«è½¦ç¥¨å’Œç”µå½±ç¥¨ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä½œç”¨2å‰Šå³°é™æµ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½œç”¨2å‰Šå³°é™æµ&#34;&gt;#&lt;/a&gt; ä½œç”¨ 2ï¼šå‰Šå³° / é™æµ&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;å…ˆå°†çŸ­æ—¶é—´é«˜å¹¶å‘äº§ç”Ÿçš„äº‹åŠ¡æ¶ˆæ¯å­˜å‚¨åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œç„¶ååç«¯æœåŠ¡å†æ…¢æ…¢æ ¹æ®è‡ªå·±çš„èƒ½åŠ›å»æ¶ˆè´¹è¿™äº›æ¶ˆæ¯ï¼Œè¿™æ ·å°±é¿å…å¤§é‡äº‹åŠ¡ç›´æ¥æŠŠåç«¯æœåŠ¡å†²å®ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸¾ä¾‹ï¼šåœ¨ç”µå­å•†åŠ¡ä¸€äº›ç§’æ€ã€ä¿ƒé”€æ´»åŠ¨ä¸­ï¼Œåˆç†ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥æœ‰æ•ˆæŠµå¾¡ä¿ƒé”€æ´»åŠ¨åˆšå¼€å§‹å¤§é‡è®¢å•æ¶Œå…¥å¯¹ç³»ç»Ÿçš„å†²å‡»ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231025224518547.png&#34; alt=&#34;å‰Šå³°&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å‰Šå³°&lt;/center&gt;
&lt;h4 id=&#34;ä½œç”¨3é™ä½ç³»ç»Ÿçš„è€¦åˆæ€§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½œç”¨3é™ä½ç³»ç»Ÿçš„è€¦åˆæ€§&#34;&gt;#&lt;/a&gt; ä½œç”¨ 3ï¼šé™ä½ç³»ç»Ÿçš„è€¦åˆæ€§&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿˜å¯ä»¥é™ä½ç³»ç»Ÿè€¦åˆæ€§ã€‚æˆ‘ä»¬çŸ¥é“å¦‚æœæ¨¡å—ä¹‹é—´ä¸å­˜åœ¨ç›´æ¥è°ƒç”¨ï¼Œé‚£ä¹ˆæ–°å¢æ¨¡å—æˆ–è€…ä¿®æ”¹æ¨¡å—å°±å¯¹å…¶ä»–æ¨¡å—å½±å“è¾ƒå°ï¼Œè¿™æ ·ç³»ç»Ÿçš„å¯æ‰©å±•æ€§æ— ç–‘æ›´å¥½ä¸€äº›ã€‚è¿˜æ˜¯ç›´æ¥ä¸Šå›¾å§ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231025224821246.png&#34; alt=&#34;image-20231025224821246&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç”Ÿäº§è€…ï¼ˆå®¢æˆ·ç«¯ï¼‰å‘é€æ¶ˆæ¯åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­å»ï¼Œæ¥å—è€…ï¼ˆæœåŠ¡ç«¯ï¼‰å¤„ç†æ¶ˆæ¯ï¼Œéœ€è¦æ¶ˆè´¹çš„ç³»ç»Ÿç›´æ¥å»æ¶ˆæ¯é˜Ÿåˆ—è·å–æ¶ˆæ¯è¿›è¡Œæ¶ˆè´¹å³å¯ï¼Œè€Œä¸éœ€è¦å’Œå…¶ä»–ç³»ç»Ÿæœ‰è€¦åˆï¼Œè¿™æ˜¾ç„¶ä¹Ÿæé«˜äº†ç³»ç»Ÿçš„æ‰©å±•æ€§ã€‚&lt;/p&gt;
&lt;p&gt;** æ¶ˆæ¯é˜Ÿåˆ—ä½¿ç”¨ Pub/Sub æ¨¡å¼ï¼ˆå‘å¸ƒ / è®¢é˜…æ¨¡å¼ï¼‰å·¥ä½œï¼Œç”Ÿäº§è€…å‘å¸ƒæ¶ˆæ¯ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªæ¶ˆè´¹è€…è®¢é˜…æ¶ˆæ¯ã€‚** ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°&lt;font color=&#39;red&#39;&gt;ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¹‹é—´æ²¡æœ‰ç›´æ¥è€¦åˆ&lt;/font&gt;ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”Ÿäº§è€…å°†æ¶ˆæ¯å‘é€è‡³åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—å³ç»“æŸå¯¹æ¶ˆæ¯çš„å¤„ç†&lt;/li&gt;
&lt;li&gt;æ¶ˆè´¹è€…ä»åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—è·å–è¯¥æ¶ˆæ¯åè¿›è¡Œåç»­å¤„ç†ï¼Œå¹¶ä¸éœ€è¦çŸ¥é“è¯¥æ¶ˆæ¯ä»ä½•è€Œæ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¯¹æ–°å¢ä¸šåŠ¡ï¼Œåªè¦å¯¹è¯¥ç±»æ¶ˆæ¯æ„Ÿå…´è¶£ï¼Œå³å¯è®¢é˜…è¯¥æ¶ˆæ¯ï¼Œå¯¹åŸæœ‰ç³»ç»Ÿå’Œä¸šåŠ¡æ²¡æœ‰ä»»ä½•å½±å“ï¼Œä»è€Œå®ç°ç½‘ç«™ä¸šåŠ¡çš„å¯æ‰©å±•æ€§è®¾è®¡&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ¶ˆè´¹è€…å¯¹æ¶ˆæ¯è¿›è¡Œè¿‡æ»¤ã€å¤„ç†ã€åŒ…è£…åï¼Œæ„é€ æˆä¸€ä¸ªæ–°çš„æ¶ˆæ¯ç±»å‹ï¼Œå°†æ¶ˆæ¯ç»§ç»­å‘é€å‡ºå»ï¼Œç­‰å¾…å…¶ä»–æ¶ˆè´¹è€…è®¢é˜…è¯¥æ¶ˆæ¯ã€‚å› æ­¤åŸºäºäº‹ä»¶ï¼ˆæ¶ˆæ¯å¯¹è±¡ï¼‰é©±åŠ¨çš„ä¸šåŠ¡æ¶æ„å¯ä»¥æ˜¯ä¸€ç³»åˆ—æµç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸ºäº†é¿å… â€œæ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡å™¨â€ å®•æœºé€ æˆæ¶ˆæ¯ä¸¢å¤±ï¼Œä¼šå°†æˆåŠŸå‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—çš„æ¶ˆæ¯å­˜å‚¨åœ¨ â€œç”Ÿäº§è€…æœåŠ¡å™¨â€ ä¸Šï¼Œç­‰æ¶ˆæ¯çœŸæ­£è¢« â€œæ¶ˆè´¹è€…æœåŠ¡å™¨â€ å¤„ç†åæ‰åˆ é™¤æ¶ˆæ¯&lt;/font&gt;ã€‚åœ¨æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡å™¨å®•æœºåï¼Œç”Ÿäº§è€…æœåŠ¡å™¨ä¼šé€‰æ‹©åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡å™¨é›†ç¾¤ä¸­çš„å…¶ä»–æœåŠ¡å™¨å‘å¸ƒæ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;p&gt;å¤‡æ³¨ï¼šä¸è¦è®¤ä¸ºæ¶ˆæ¯é˜Ÿåˆ—åªèƒ½åˆ©ç”¨å‘å¸ƒ - è®¢é˜…æ¨¡å¼å·¥ä½œï¼Œåªä¸è¿‡åœ¨è§£è€¦è¿™ä¸ªç‰¹å®šä¸šåŠ¡ç¯å¢ƒä¸‹æ˜¯ä½¿ç”¨å‘å¸ƒ - è®¢é˜…æ¨¡å¼çš„ã€‚é™¤äº†å‘å¸ƒ - è®¢é˜…æ¨¡å¼ï¼Œè¿˜æœ‰&lt;strong&gt;ç‚¹å¯¹ç‚¹è®¢é˜…æ¨¡å¼&lt;/strong&gt;ï¼ˆä¸€ä¸ªæ¶ˆæ¯åªæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…ï¼‰ï¼Œæˆ‘ä»¬æ¯”è¾ƒå¸¸ç”¨çš„æ˜¯å‘å¸ƒ - è®¢é˜…æ¨¡å¼ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä½œç”¨4å®ç°åˆ†å¸ƒå¼äº‹åŠ¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½œç”¨4å®ç°åˆ†å¸ƒå¼äº‹åŠ¡&#34;&gt;#&lt;/a&gt; ä½œç”¨ 4ï¼šå®ç°åˆ†å¸ƒå¼äº‹åŠ¡&lt;/h4&gt;
&lt;p&gt;åˆ†å¸ƒå¼äº‹åŠ¡çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€å°±æ˜¯ MQ äº‹åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;RocketMQã€Kafkaã€Pulsarã€QMQ éƒ½æä¾›äº†äº‹åŠ¡ç›¸å…³çš„åŠŸèƒ½ã€‚&lt;font color=&#39;red&#39;&gt;äº‹åŠ¡å…è®¸äº‹ä»¶æµåº”ç”¨å°†ç”Ÿäº§ã€å¤„ç†ã€æ¶ˆè´¹æ¶ˆæ¯çš„æ•´ä¸ªè¿‡ç¨‹å®šä¹‰ä¸ºä¸€ä¸ªåŸå­æ“ä½œ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¯¦ç»†ä»‹ç»å¯ä»¥æŸ¥çœ‹ &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qYXZhZ3VpZGUuY24vZGlzdHJpYnV0ZWQtc3lzdGVtL2Rpc3RyaWJ1dGVkLXRyYW5zYWN0aW9uLmh0bWw=&#34;&gt;åˆ†å¸ƒå¼äº‹åŠ¡è¯¦è§£ (ä»˜è´¹)&lt;/span&gt; è¿™ç¯‡æ–‡ç« ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/07b338324a7d8894b8aef4b659b76d92.png&#34; alt=&#34;åˆ†å¸ƒå¼äº‹åŠ¡è¯¦è§£ - MQäº‹åŠ¡&#34; /&gt;&lt;/p&gt;
&lt;center&gt;åˆ†å¸ƒå¼äº‹åŠ¡è¯¦è§£ - MQäº‹åŠ¡&lt;/center&gt;
&lt;h3 id=&#34;æ¶ˆæ¯é˜Ÿåˆ—å­˜åœ¨çš„é—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶ˆæ¯é˜Ÿåˆ—å­˜åœ¨çš„é—®é¢˜&#34;&gt;#&lt;/a&gt; æ¶ˆæ¯é˜Ÿåˆ—å­˜åœ¨çš„é—®é¢˜&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ç³»ç»Ÿå¯ç”¨æ€§é™ä½&lt;/strong&gt;ï¼šåœ¨åŠ å…¥ MQ ä¹‹å‰ï¼Œä½ ä¸ç”¨è€ƒè™‘&lt;font color=&#39;red&#39;&gt;æ¶ˆæ¯ä¸¢å¤±ã€ MQ æŒ‚æ‰&lt;/font&gt;ç­‰ç­‰çš„æƒ…å†µï¼Œä½†æ˜¯å¼•å…¥ MQ ä¹‹åä½ å°±éœ€è¦å»è€ƒè™‘äº†ï¼&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç³»ç»Ÿå¤æ‚æ€§æé«˜&lt;/strong&gt;ï¼šåŠ å…¥ MQ ä¹‹åï¼Œä½ éœ€è¦&lt;font color=&#39;red&#39;&gt;ä¿è¯æ¶ˆæ¯æ²¡æœ‰è¢«é‡å¤æ¶ˆè´¹ã€å¤„ç†æ¶ˆæ¯ä¸¢å¤±çš„æƒ…å†µã€ä¿è¯æ¶ˆæ¯ä¼ é€’çš„é¡ºåºæ€§&lt;/font&gt;ç­‰ç­‰é—®é¢˜ï¼&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸€è‡´æ€§é—®é¢˜&lt;/strong&gt;ï¼šæ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥å®ç°å¼‚æ­¥ï¼Œç¡®å®å¯ä»¥æé«˜ç³»ç»Ÿå“åº”é€Ÿåº¦ã€‚ä½†æ˜¯ï¼Œä¸‡ä¸€æ¶ˆæ¯çš„çœŸæ­£æ¶ˆè´¹è€…å¹¶æ²¡æœ‰æ­£ç¡®æ¶ˆè´¹æ¶ˆæ¯æ€ä¹ˆåŠï¼Ÿè¿™æ ·å°±ä¼šå¯¼è‡´&lt;font color=&#39;red&#39;&gt;æ•°æ®ä¸ä¸€è‡´&lt;/font&gt;çš„æƒ…å†µäº†ï¼&lt;/p&gt;
&lt;h3 id=&#34;jms-å’Œ-amqp&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#jms-å’Œ-amqp&#34;&gt;#&lt;/a&gt; JMS å’Œ AMQP&lt;/h3&gt;
&lt;h4 id=&#34;jms-å®šä¹‰&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#jms-å®šä¹‰&#34;&gt;#&lt;/a&gt; JMS å®šä¹‰&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;JMSï¼ˆJAVA Message Serviceï¼‰æ˜¯ Java çš„æ¶ˆæ¯æœåŠ¡ï¼Œå…¶ API æ˜¯ä¸€ä¸ªæ¶ˆæ¯æœåŠ¡çš„æ ‡å‡† / è§„èŒƒ&lt;/strong&gt;ã€‚JMS çš„å®¢æˆ·ç«¯ä¹‹é—´å¯ä»¥é€šè¿‡ JMS æœåŠ¡è¿›è¡Œå¼‚æ­¥çš„æ¶ˆæ¯ä¼ è¾“ã€‚å®ƒå…è®¸åº”ç”¨ç¨‹åºç»„ä»¶åŸºäº JavaEE å¹³å°åˆ›å»ºã€å‘é€ã€æ¥æ”¶å’Œè¯»å–æ¶ˆæ¯ã€‚å®ƒä½¿åˆ†å¸ƒå¼é€šä¿¡è€¦åˆåº¦æ›´ä½ï¼Œæ¶ˆæ¯æœåŠ¡æ›´åŠ å¯é ä»¥åŠå¼‚æ­¥æ€§ã€‚&lt;/p&gt;
&lt;p&gt;JMS å®šä¹‰äº†&lt;font color=&#39;gree&#39;&gt;äº”ç§ä¸åŒæ¶ˆæ¯&lt;/font&gt;çš„æ­£æ–‡æ ¼å¼ä»¥åŠè°ƒç”¨çš„æ¶ˆæ¯ç±»å‹ï¼Œå…è®¸ä½ å‘é€å¹¶æ¥æ”¶ä¸€äº›ä¸åŒå½¢å¼çš„æ•°æ®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;StreamMessage&lt;/code&gt; ï¼šJava åŸå§‹å€¼çš„æ•°æ®æµ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;MapMessage&lt;/code&gt; ï¼šä¸€å¥—åç§° - å€¼å¯¹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TextMessage&lt;/code&gt; ï¼šä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ObjectMessage&lt;/code&gt; ï¼šä¸€ä¸ªåºåˆ—åŒ–çš„ Java å¯¹è±¡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;BytesMessage&lt;/code&gt; ï¼šä¸€ä¸ªå­—èŠ‚çš„æ•°æ®æµ&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;jms-ä¸¤ç§æ¶ˆæ¯æ¨¡å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#jms-ä¸¤ç§æ¶ˆæ¯æ¨¡å‹&#34;&gt;#&lt;/a&gt; JMS ä¸¤ç§æ¶ˆæ¯æ¨¡å‹&lt;/h4&gt;
&lt;h5 id=&#34;ç‚¹åˆ°ç‚¹æ¨¡å‹p2p&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç‚¹åˆ°ç‚¹æ¨¡å‹p2p&#34;&gt;#&lt;/a&gt; ç‚¹åˆ°ç‚¹æ¨¡å‹ï¼ˆP2Pï¼‰&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/message-queue-queue-model-3aa809bf.png&#34; alt=&#34;é˜Ÿåˆ—æ¨¡å‹&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨&lt;strong&gt;é˜Ÿåˆ—ï¼ˆQueueï¼‰&lt;strong&gt;ä½œä¸ºæ¶ˆæ¯é€šä¿¡è½½ä½“ï¼Œæ»¡è¶³&lt;/strong&gt;ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…æ¨¡å¼&lt;/strong&gt;ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä¸€æ¡æ¶ˆæ¯åªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…ä½¿ç”¨&lt;/font&gt;&lt;/strong&gt;ï¼Œæœªè¢«æ¶ˆè´¹çš„æ¶ˆæ¯åœ¨é˜Ÿåˆ—ä¸­ä¿ç•™ç›´åˆ°è¢«æ¶ˆè´¹æˆ–è¶…æ—¶ã€‚æ¯”å¦‚ï¼šç”Ÿäº§è€…å‘é€ 100 æ¡æ¶ˆæ¯çš„è¯ï¼Œä¸¤ä¸ªæ¶ˆè´¹è€…æ¥æ¶ˆè´¹ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸¤ä¸ªæ¶ˆè´¹è€…ä¼šæŒ‰ç…§æ¶ˆæ¯å‘é€çš„é¡ºåºå„è‡ªæ¶ˆè´¹ä¸€åŠï¼ˆä¹Ÿå°±æ˜¯ä½ ä¸€ä¸ªæˆ‘ä¸€ä¸ªçš„æ¶ˆè´¹ï¼‰ã€‚&lt;/p&gt;
&lt;h5 id=&#34;å‘å¸ƒè®¢é˜…æ¨¡å‹pubsub&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘å¸ƒè®¢é˜…æ¨¡å‹pubsub&#34;&gt;#&lt;/a&gt; å‘å¸ƒ / è®¢é˜…æ¨¡å‹ï¼ˆPub/Subï¼‰&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://javaguide.cn/assets/message-queue-pub-sub-model-63a717b4.png&#34; alt=&#34;å‘å¸ƒ/è®¢é˜…ï¼ˆPub/Subï¼‰æ¨¡å‹&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å‘å¸ƒ/è®¢é˜…ï¼ˆPub/Subï¼‰æ¨¡å‹&lt;/center&gt;
&lt;p&gt;ä½¿ç”¨&lt;strong&gt;ä¸»é¢˜ï¼ˆTopicï¼‰&lt;strong&gt;ä½œä¸ºæ¶ˆæ¯é€šä¿¡è½½ä½“ï¼Œç±»ä¼¼äº&lt;/strong&gt;å¹¿æ’­æ¨¡å¼&lt;/strong&gt;ï¼›å‘å¸ƒè€…å‘å¸ƒä¸€æ¡æ¶ˆæ¯ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è¯¥æ¶ˆæ¯é€šè¿‡ä¸»é¢˜ä¼ é€’ç»™æ‰€æœ‰çš„è®¢é˜…è€…&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;amqp-å®šä¹‰&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#amqp-å®šä¹‰&#34;&gt;#&lt;/a&gt; AMQP å®šä¹‰&lt;/h4&gt;
&lt;p&gt;AMQPï¼Œå³  &lt;code&gt;Advanced Message Queuing Protocol&lt;/code&gt; ï¼Œä¸€ä¸ªæä¾›ç»Ÿä¸€æ¶ˆæ¯æœåŠ¡çš„åº”ç”¨å±‚æ ‡å‡†&lt;strong&gt;é«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®&lt;/strong&gt;ï¼ˆäºŒè¿›åˆ¶åº”ç”¨å±‚åè®®ï¼‰ï¼Œæ˜¯&lt;font color=&#39;red&#39;&gt;åº”ç”¨å±‚åè®®&lt;/font&gt;çš„ä¸€ä¸ªå¼€æ”¾æ ‡å‡†ï¼Œä¸ºé¢å‘æ¶ˆæ¯çš„ä¸­é—´ä»¶è®¾è®¡ï¼Œå…¼å®¹ JMSã€‚&lt;font color=&#39;red&#39;&gt;åŸºäºæ­¤åè®®çš„å®¢æˆ·ç«¯ä¸æ¶ˆæ¯ä¸­é—´ä»¶å¯ä¼ é€’æ¶ˆæ¯&lt;/font&gt;ï¼Œå¹¶ä¸å—å®¢æˆ·ç«¯ / ä¸­é—´ä»¶äº§å“ï¼Œä¸åŒçš„å¼€å‘è¯­è¨€ç­‰æ¡ä»¶çš„é™åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;RabbitMQ å°±æ˜¯åŸºäº AMQP åè®®å®ç°çš„ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;jms-vs-amqp&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#jms-vs-amqp&#34;&gt;#&lt;/a&gt; JMS vs AMQP&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;JMS&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;AMQP&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å®šä¹‰&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;Java API&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åè®®&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;è·¨è¯­è¨€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¦&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;æ˜¯&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;è·¨å¹³å°&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¦&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;æ˜¯&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æ”¯æŒæ¶ˆæ¯ç±»å‹&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æä¾›ä¸¤ç§æ¶ˆæ¯æ¨¡å‹ï¼šâ‘ P2P;â‘¡Pub/sub&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æä¾›äº†äº”ç§æ¶ˆæ¯æ¨¡å‹ï¼šâ‘ direct exchangeï¼›â‘¡fanout exchangeï¼›â‘¢topic changeï¼›â‘£headers exchangeï¼›â‘¤system exchangeã€‚æœ¬è´¨æ¥è®²ï¼Œåå››ç§å’Œ JMS çš„ pub/sub æ¨¡å‹æ²¡æœ‰å¤ªå¤§å·®åˆ«ï¼Œä»…æ˜¯åœ¨è·¯ç”±æœºåˆ¶ä¸Šåšäº†æ›´è¯¦ç»†çš„åˆ’åˆ†ï¼›&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æ”¯æŒæ¶ˆæ¯ç±»å‹&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;å¤šç§æ¶ˆæ¯ç±»å‹&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;byte []ï¼ˆäºŒè¿›åˆ¶ï¼‰&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;æ€»ç»“ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AMQP ä¸ºæ¶ˆæ¯å®šä¹‰äº†çº¿è·¯å±‚çš„åè®®ï¼Œè€Œ JMS æ‰€å®šä¹‰çš„æ˜¯ API è§„èŒƒã€‚åœ¨ Java ä½“ç³»ä¸­ï¼Œå¤šä¸ª client å‡å¯ä»¥é€šè¿‡ JMS è¿›è¡Œäº¤äº’ï¼Œä¸éœ€è¦åº”ç”¨ä¿®æ”¹ä»£ç ï¼Œä½†æ˜¯å…¶å¯¹è·¨å¹³å°çš„æ”¯æŒè¾ƒå·®ã€‚è€Œ &lt;strong&gt;AMQP å¤©ç„¶å…·æœ‰è·¨å¹³å°ã€è·¨è¯­è¨€ç‰¹æ€§&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JMS æ”¯æŒ  &lt;code&gt;TextMessage&lt;/code&gt; ã€ &lt;code&gt;MapMessage&lt;/code&gt;  ç­‰å¤æ‚çš„æ¶ˆæ¯ç±»å‹&lt;/strong&gt;ï¼›è€Œ &lt;strong&gt;AMQP ä»…æ”¯æŒ  &lt;code&gt;byte[]&lt;/code&gt;  æ¶ˆæ¯ç±»å‹&lt;/strong&gt;ï¼ˆå¤æ‚çš„ç±»å‹å¯åºåˆ—åŒ–åå‘é€ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ç”±äº Exchange æä¾›çš„è·¯ç”±ç®—æ³•ï¼Œ&lt;strong&gt;AMQP å¯ä»¥æä¾›å¤šæ ·åŒ–çš„è·¯ç”±æ–¹å¼&lt;/strong&gt;æ¥ä¼ é€’æ¶ˆæ¯åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œ&lt;strong&gt;è€Œ JMS ä»…æ”¯æŒ P2P å’Œ Pub/Sub æ–¹å¼ä¸¤ç§&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;rpc-å’Œæ¶ˆæ¯é˜Ÿåˆ—çš„åŒºåˆ«&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rpc-å’Œæ¶ˆæ¯é˜Ÿåˆ—çš„åŒºåˆ«&#34;&gt;#&lt;/a&gt; RPC å’Œæ¶ˆæ¯é˜Ÿåˆ—çš„åŒºåˆ«&lt;/h3&gt;
&lt;p&gt;RPC å’Œæ¶ˆæ¯é˜Ÿåˆ—éƒ½æ˜¯åˆ†å¸ƒå¼å¾®æœåŠ¡ç³»ç»Ÿä¸­é‡è¦çš„ç»„ä»¶ä¹‹ä¸€ï¼Œä¸‹é¢æˆ‘ä»¬æ¥ç®€å•å¯¹æ¯”ä¸€ä¸‹ä¸¤è€…ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç”¨é€”&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;RPCï¼šä¸»è¦ç”¨æ¥è§£å†³ä¸¤ä¸ªæœåŠ¡çš„è¿œç¨‹é€šä¿¡é—®é¢˜ï¼Œä¸éœ€è¦äº†è§£åº•å±‚ç½‘ç»œçš„é€šä¿¡æœºåˆ¶ã€‚é€šè¿‡ RPC å¯ä»¥å¸®åŠ©æˆ‘ä»¬&lt;font color=&#39;red&#39;&gt;è¿œç¨‹è°ƒç”¨æŸä¸ªæœåŠ¡çš„æ–¹æ³•&lt;/font&gt;ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±åƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·ç®€å•ã€‚&lt;/li&gt;
&lt;li&gt;æ¶ˆæ¯é˜Ÿåˆ—ï¼šä¸»è¦ç”¨æ¥&lt;font color=&#39;red&#39;&gt;é™ä½ç³»ç»Ÿè€¦åˆæ€§ã€å®ç°ä»»åŠ¡å¼‚æ­¥ã€æµé‡å‰Šå³°&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€šä¿¡æ–¹å¼&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;RPCï¼š&lt;font color=&#39;red&#39;&gt;åŒå‘ç›´æ¥ç½‘ç»œé€šè®¯&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;æ¶ˆæ¯é˜Ÿåˆ—ï¼š&lt;font color=&#39;red&#39;&gt;å•å‘å¼•å…¥ä¸­é—´è½½ä½“&lt;/font&gt;çš„ç½‘ç»œé€šè®¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¶æ„&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;RPCï¼š&lt;font color=&#39;red&#39;&gt;ä¸éœ€è¦å­˜å‚¨æ¶ˆæ¯&lt;/font&gt;ï¼Œå› ä¸ºæ˜¯åŒå‘ç›´æ¥ç½‘ç»œé€šè®¯&lt;/li&gt;
&lt;li&gt;æ¶ˆæ¯é˜Ÿåˆ—ï¼šéœ€è¦æŠŠæ¶ˆæ¯å­˜å‚¨èµ·æ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¯·æ±‚å¤„ç†çš„æ—¶æ•ˆæ€§&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;é€šè¿‡ RPC å‘å‡ºçš„è°ƒç”¨ä¸€èˆ¬ä¼š&lt;font color=&#39;red&#39;&gt;ç«‹å³è¢«å¤„ç†&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;å­˜æ”¾åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯&lt;font color=&#39;red&#39;&gt;å¹¶ä¸ä¸€å®šä¼šç«‹å³è¢«å¤„ç†&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;RPC å’Œæ¶ˆæ¯é˜Ÿåˆ—æœ¬è´¨ä¸Šæ˜¯ç½‘ç»œé€šè®¯çš„ä¸¤ç§ä¸åŒçš„å®ç°æœºåˆ¶ï¼Œä¸¤è€…çš„ç”¨é€”ä¸åŒ&lt;/font&gt;ï¼Œä¸‡ä¸å¯å°†ä¸¤è€…æ··ä¸ºä¸€è°ˆã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ¶ˆæ¯é˜Ÿåˆ—é€‰å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶ˆæ¯é˜Ÿåˆ—é€‰å‹&#34;&gt;#&lt;/a&gt; &lt;mark&gt;æ¶ˆæ¯é˜Ÿåˆ—é€‰å‹&lt;/mark&gt;&lt;/h3&gt;
&lt;h4 id=&#34;å¸¸è§çš„æ¶ˆæ¯é˜Ÿåˆ—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¸¸è§çš„æ¶ˆæ¯é˜Ÿåˆ—&#34;&gt;#&lt;/a&gt; å¸¸è§çš„æ¶ˆæ¯é˜Ÿåˆ—&lt;/h4&gt;
&lt;h5 id=&#34;kafka&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#kafka&#34;&gt;#&lt;/a&gt; Kafka&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;Kafka å®˜ç½‘ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL2thZmthLmFwYWNoZS5vcmcv&#34;&gt;http://kafka.apache.org/&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Kafka æ›´æ–°è®°å½•ï¼ˆå¯ä»¥ç›´è§‚çœ‹åˆ°é¡¹ç›®æ˜¯å¦è¿˜åœ¨ç»´æŠ¤ï¼‰ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9rYWZrYS5hcGFjaGUub3JnL2Rvd25sb2Fkcw==&#34;&gt;https://kafka.apache.org/downloads&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/kafka-logo.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Kafka æ˜¯ LinkedIn å¼€æºçš„ä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;åˆ†å¸ƒå¼æµå¼å¤„ç†å¹³å°&lt;/font&gt;ï¼Œå·²ç»æˆä¸º Apache é¡¶çº§é¡¹ç›®ï¼Œæ—©æœŸè¢«ç”¨æ¥ç”¨äº&lt;font color=&#39;red&#39;&gt;å¤„ç†æµ·é‡çš„æ—¥å¿—&lt;/font&gt;ï¼Œåé¢æ‰æ…¢æ…¢å‘å±•æˆäº†ä¸€æ¬¾åŠŸèƒ½å…¨é¢çš„&lt;font color=&#39;red&#39;&gt;é«˜æ€§èƒ½æ¶ˆæ¯é˜Ÿåˆ—&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æµå¼å¤„ç†å¹³å°å…·æœ‰ä¸‰ä¸ªå…³é”®åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ¶ˆæ¯é˜Ÿåˆ—&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;å‘å¸ƒå’Œè®¢é˜…æ¶ˆæ¯æµ&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æŒä¹…æ–¹å¼å­˜å‚¨æ¶ˆæ¯æµ&lt;/strong&gt;ï¼šKafka ä¼š&lt;font color=&#39;red&#39;&gt;æŠŠæ¶ˆæ¯æŒä¹…åŒ–åˆ°ç£ç›˜&lt;/font&gt;ï¼Œæœ‰æ•ˆåœ°é¿å…äº†æ¶ˆæ¯ä¸¢å¤±çš„é£é™©ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æµå¼å¤„ç†å¹³å°&lt;/strong&gt;ï¼šåœ¨æ¶ˆæ¯å‘å¸ƒçš„æ—¶å€™è¿›è¡Œå¤„ç†ï¼ŒKafka æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„æµå¼å¤„ç†ç±»åº“ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Kafka æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œç”±é€šè¿‡é«˜æ€§èƒ½&lt;font color=&#39;red&#39;&gt; TCP ç½‘ç»œåè®®&lt;/font&gt;è¿›è¡Œé€šä¿¡çš„æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ç»„æˆï¼Œå¯ä»¥éƒ¨ç½²åœ¨åœ¨æœ¬åœ°å’Œäº‘ç¯å¢ƒä¸­çš„è£¸æœºç¡¬ä»¶ã€è™šæ‹Ÿæœºå’Œå®¹å™¨ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Kafka 2.8 ä¹‹å‰ï¼ŒKafka æœ€è¢«å¤§å®¶è¯Ÿç—…çš„å°±æ˜¯å…¶é‡åº¦ä¾èµ–äº Zookeeper åšå…ƒæ•°æ®ç®¡ç†å’Œé›†ç¾¤çš„é«˜å¯ç”¨ã€‚&lt;font color=&#39;red&#39;&gt;åœ¨ Kafka 2.8 ä¹‹åï¼Œå¼•å…¥äº†åŸºäº Raft åè®®çš„ KRaft æ¨¡å¼ï¼Œä¸å†ä¾èµ– Zookeeperï¼Œå¤§å¤§ç®€åŒ–äº† Kafka çš„æ¶æ„&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æç¤ºä¸€ä¸‹ï¼š&lt;font color=&#39;red&#39;&gt;å¦‚æœè¦ä½¿ç”¨ KRaft æ¨¡å¼çš„è¯ï¼Œå»ºè®®é€‰æ‹©è¾ƒé«˜ç‰ˆæœ¬çš„ Kafka&lt;/font&gt;ï¼Œå› ä¸ºè¿™ä¸ªåŠŸèƒ½è¿˜åœ¨æŒç»­å®Œå–„ä¼˜åŒ–ä¸­ã€‚Kafka 3.3.1 ç‰ˆæœ¬æ˜¯ç¬¬ä¸€ä¸ªå°† KRaftï¼ˆKafka Raftï¼‰å…±è¯†åè®®æ ‡è®°ä¸ºç”Ÿäº§å°±ç»ªçš„ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;h5 id=&#34;rocketmq&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rocketmq&#34;&gt;#&lt;/a&gt; RocketMQ&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;RocketMQ å®˜ç½‘ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9yb2NrZXRtcS5hcGFjaGUub3JnLw==&#34;&gt;https://rocketmq.apache.org/&lt;/span&gt; ï¼ˆæ–‡æ¡£å¾ˆè¯¦ç»†ï¼Œæ¨èé˜…è¯»ï¼‰&lt;/p&gt;
&lt;p&gt;RocketMQ æ›´æ–°è®°å½•ï¼ˆå¯ä»¥ç›´è§‚çœ‹åˆ°é¡¹ç›®æ˜¯å¦è¿˜åœ¨ç»´æŠ¤ï¼‰ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9yb2NrZXRtcS9yZWxlYXNlcw==&#34;&gt;https://github.com/apache/rocketmq/releases&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/rocketmq-logo.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;RocketMQ æ˜¯é˜¿é‡Œå¼€æºçš„ä¸€æ¬¾&lt;font color=&#39;red&#39;&gt;äº‘åŸç”Ÿ â€œæ¶ˆæ¯ã€äº‹ä»¶ã€æµâ€ å®æ—¶æ•°æ®å¤„ç†å¹³å°&lt;/font&gt;ï¼Œå€Ÿé‰´äº† Kafkaï¼Œå·²ç»æˆä¸º Apache é¡¶çº§é¡¹ç›®ã€‚&lt;/p&gt;
&lt;p&gt;RocketMQ çš„æ ¸å¿ƒç‰¹æ€§ï¼ˆæ‘˜è‡ª RocketMQ å®˜ç½‘ï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;äº‘åŸç”Ÿ&lt;/strong&gt;ï¼šç”Ÿä¸äº‘ï¼Œé•¿ä¸äº‘ï¼Œ&lt;font color=&#39;red&#39;&gt;æ— é™å¼¹æ€§æ‰©ç¼©ï¼ŒK8s å‹å¥½&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é«˜åå&lt;/strong&gt;ï¼šä¸‡äº¿çº§ååä¿è¯ï¼ŒåŒæ—¶æ»¡è¶³å¾®æœåŠ¡ä¸å¤§æ•°æ®åœºæ™¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æµå¤„ç†&lt;/strong&gt;ï¼šæä¾›è½»é‡ã€é«˜æ‰©å±•ã€é«˜æ€§èƒ½å’Œä¸°å¯ŒåŠŸèƒ½çš„æµè®¡ç®—å¼•æ“ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é‡‘èçº§&lt;/strong&gt;ï¼šé‡‘èçº§çš„ç¨³å®šæ€§ï¼Œå¹¿æ³›ç”¨äºäº¤æ˜“æ ¸å¿ƒé“¾è·¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¶æ„æç®€&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;é›¶å¤–éƒ¨ä¾èµ–&lt;/font&gt;ï¼ŒShared-nothing æ¶æ„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç”Ÿæ€å‹å¥½&lt;/strong&gt;ï¼šæ— ç¼å¯¹æ¥å¾®æœåŠ¡ã€å®æ—¶è®¡ç®—ã€æ•°æ®æ¹–ç­‰å‘¨è¾¹ç”Ÿæ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ ¹æ®å®˜ç½‘ä»‹ç»ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Apache RocketMQ è‡ªè¯ç”Ÿä»¥æ¥ï¼Œå› å…¶æ¶æ„ç®€å•ã€ä¸šåŠ¡åŠŸèƒ½ä¸°å¯Œã€å…·å¤‡æå¼ºå¯æ‰©å±•æ€§ç­‰ç‰¹ç‚¹&lt;font color=&#39;red&#39;&gt;è¢«ä¼—å¤šä¼ä¸šå¼€å‘è€…ä»¥åŠäº‘å‚å•†å¹¿æ³›é‡‡ç”¨&lt;/font&gt;ã€‚å†ç»åä½™å¹´çš„å¤§è§„æ¨¡åœºæ™¯æ‰“ç£¨ï¼ŒRocketMQ å·²ç»æˆä¸º&lt;font color=&#39;red&#39;&gt;ä¸šå†…å…±è¯†çš„é‡‘èçº§å¯é ä¸šåŠ¡æ¶ˆæ¯é¦–é€‰æ–¹æ¡ˆ&lt;/font&gt;ï¼Œè¢«å¹¿æ³›åº”ç”¨äºäº’è”ç½‘ã€å¤§æ•°æ®ã€ç§»åŠ¨äº’è”ç½‘ã€ç‰©è”ç½‘ç­‰é¢†åŸŸçš„ä¸šåŠ¡åœºæ™¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;rabbitmq&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rabbitmq&#34;&gt;#&lt;/a&gt; RabbitMQ&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;RabbitMQ å®˜ç½‘ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cucmFiYml0bXEuY29tLw==&#34;&gt;https://www.rabbitmq.com/&lt;/span&gt; ã€‚&lt;/p&gt;
&lt;p&gt;RabbitMQ æ›´æ–°è®°å½•ï¼ˆå¯ä»¥ç›´è§‚çœ‹åˆ°é¡¹ç›®æ˜¯å¦è¿˜åœ¨ç»´æŠ¤ï¼‰ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cucmFiYml0bXEuY29tL25ld3MuaHRtbA==&#34;&gt;https://www.rabbitmq.com/news.html&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/rabbitmq-logo.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;RabbitMQ æ˜¯é‡‡ç”¨ Erlang è¯­è¨€å®ç° &lt;font color=&#39;red&#39;&gt;AMQP (Advanced Message Queuing Protocolï¼Œé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼‰&lt;/font&gt;çš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œå®ƒæœ€åˆèµ·æºäºé‡‘èç³»ç»Ÿï¼Œç”¨äºåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­&lt;font color=&#39;red&#39;&gt;å­˜å‚¨è½¬å‘æ¶ˆæ¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;RabbitMQ å‘å±•åˆ°ä»Šå¤©ï¼Œè¢«è¶Šæ¥è¶Šå¤šçš„äººè®¤å¯ï¼Œè¿™å’Œå®ƒåœ¨æ˜“ç”¨æ€§ã€æ‰©å±•æ€§ã€å¯é æ€§å’Œé«˜å¯ç”¨æ€§ç­‰æ–¹é¢çš„å“è‘—è¡¨ç°æ˜¯åˆ†ä¸å¼€çš„ã€‚RabbitMQ çš„å…·ä½“ç‰¹ç‚¹å¯ä»¥æ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¯é æ€§&lt;/strong&gt;ï¼šRabbitMQ ä½¿ç”¨ä¸€äº›æœºåˆ¶æ¥ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ï¼Œå¦‚&lt;font color=&#39;red&#39;&gt;æŒä¹…åŒ–ã€ä¼ è¾“ç¡®è®¤ã€å‘å¸ƒç¡®è®¤&lt;/font&gt;ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;çµæ´»çš„è·¯ç”±&lt;/strong&gt;ï¼šåœ¨æ¶ˆæ¯è¿›å…¥é˜Ÿåˆ—ä¹‹å‰ï¼Œ&lt;font color=&#39;red&#39;&gt;é€šè¿‡äº¤æ¢å™¨æ¥è·¯ç”±æ¶ˆæ¯&lt;/font&gt;ã€‚å¯¹äºå…¸å‹çš„è·¯ç”±åŠŸèƒ½ï¼ŒRabbitMQ å·±ç»æä¾›äº†ä¸€äº›å†…ç½®çš„äº¤æ¢å™¨æ¥å®ç°ã€‚é’ˆå¯¹æ›´å¤æ‚çš„è·¯ç”±åŠŸèƒ½ï¼Œå¯ä»¥å°†å¤šä¸ªäº¤æ¢å™¨ç»‘å®šåœ¨ä¸€èµ·ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ’ä»¶æœºåˆ¶æ¥å®ç°è‡ªå·±çš„äº¤æ¢å™¨ã€‚è¿™ä¸ªåé¢ä¼šåœ¨æˆ‘ä»¬è®² RabbitMQ æ ¸å¿ƒæ¦‚å¿µçš„æ—¶å€™è¯¦ç»†ä»‹ç»åˆ°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰©å±•æ€§&lt;/strong&gt;ï¼šå¤šä¸ª RabbitMQ èŠ‚ç‚¹å¯ä»¥ç»„æˆä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;é›†ç¾¤&lt;/font&gt;ï¼Œä¹Ÿå¯ä»¥æ ¹æ®å®é™…ä¸šåŠ¡æƒ…å†µåŠ¨æ€åœ°æ‰©å±•é›†ç¾¤ä¸­èŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é«˜å¯ç”¨æ€§&lt;/strong&gt;ï¼šé˜Ÿåˆ—å¯ä»¥åœ¨é›†ç¾¤ä¸­çš„æœºå™¨ä¸Š&lt;font color=&#39;red&#39;&gt;è®¾ç½®é•œåƒ&lt;/font&gt;ï¼Œä½¿å¾—åœ¨éƒ¨åˆ†èŠ‚ç‚¹å‡ºç°é—®é¢˜çš„æƒ…å†µä¸‹é˜Ÿåˆ—ä»ç„¶å¯ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ”¯æŒå¤šç§åè®®&lt;/strong&gt;ï¼šRabbitMQ é™¤äº†åŸç”Ÿæ”¯æŒ AMQP åè®®ï¼Œè¿˜æ”¯æŒ &lt;font color=&#39;red&#39;&gt;STOMPã€MQTT&lt;/font&gt; ç­‰å¤šç§æ¶ˆæ¯ä¸­é—´ä»¶åè®®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤šè¯­è¨€å®¢æˆ·ç«¯&lt;/strong&gt;ï¼šRabbitMQ å‡ ä¹&lt;font color=&#39;red&#39;&gt;æ”¯æŒæ‰€æœ‰å¸¸ç”¨è¯­è¨€&lt;/font&gt;ï¼Œæ¯”å¦‚ Javaã€Pythonã€Rubyã€PHPã€C#ã€JavaScript ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ˜“ç”¨çš„ç®¡ç†ç•Œé¢&lt;/strong&gt;ï¼šRabbitMQ æä¾›äº†ä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;æ˜“ç”¨çš„ç”¨æˆ·ç•Œé¢&lt;/font&gt;ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥&lt;font color=&#39;red&#39;&gt;ç›‘æ§å’Œç®¡ç†æ¶ˆæ¯ã€é›†ç¾¤ä¸­çš„èŠ‚ç‚¹&lt;/font&gt;ç­‰ã€‚åœ¨å®‰è£… RabbitMQ çš„æ—¶å€™ä¼šä»‹ç»åˆ°ï¼Œå®‰è£…å¥½ RabbitMQ å°±è‡ªå¸¦ç®¡ç†ç•Œé¢ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ’ä»¶æœºåˆ¶&lt;/strong&gt;ï¼šRabbitMQ æä¾›äº†è®¸å¤šæ’ä»¶ï¼Œä»¥å®ç°ä»å¤šæ–¹é¢è¿›è¡Œæ‰©å±•ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç¼–å†™è‡ªå·±çš„æ’ä»¶ã€‚æ„Ÿè§‰è¿™ä¸ªæœ‰ç‚¹ç±»ä¼¼ Dubbo çš„ SPI æœºåˆ¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;activemq&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#activemq&#34;&gt;#&lt;/a&gt; ActiveMQ&lt;/h5&gt;
&lt;p&gt;ç›®å‰å·²ç»è¢«æ·˜æ±°ï¼Œä¸æ¨èä½¿ç”¨ï¼Œä¸å»ºè®®å­¦ä¹ ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å¯¹æ¯”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¯¹æ¯”&#34;&gt;#&lt;/a&gt; å¯¹æ¯”&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å‚è€ƒã€ŠJava å·¥ç¨‹å¸ˆé¢è¯•çªå‡»ç¬¬ 1 å­£ - ä¸­åçŸ³æ‰è€å¸ˆã€‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å¯¹æ¯”æ–¹å‘&lt;/th&gt;
&lt;th&gt;æ¦‚è¦&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;ååé‡&lt;/td&gt;
&lt;td&gt;ä¸‡çº§çš„ ActiveMQ å’Œ RabbitMQ çš„ååé‡ï¼ˆActiveMQ çš„æ€§èƒ½æœ€å·®ï¼‰è¦æ¯”åä¸‡çº§ç”šè‡³æ˜¯ç™¾ä¸‡çº§çš„ &lt;font color=&#39;red&#39;&gt;RocketMQ å’Œ Kafka&lt;/font&gt; ä½ä¸€ä¸ªæ•°é‡çº§ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å¯ç”¨æ€§&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;éƒ½å¯ä»¥å®ç°é«˜å¯ç”¨&lt;/font&gt;ã€‚ActiveMQ å’Œ RabbitMQ éƒ½æ˜¯åŸºäº&lt;font color=&#39;red&#39;&gt;ä¸»ä»æ¶æ„&lt;/font&gt;å®ç°é«˜å¯ç”¨æ€§ã€‚RocketMQ åŸºäº&lt;font color=&#39;red&#39;&gt;åˆ†å¸ƒå¼æ¶æ„&lt;/font&gt;ã€‚ Kafka ä¹Ÿæ˜¯åˆ†å¸ƒå¼çš„ï¼Œä¸€ä¸ªæ•°æ®å¤šä¸ªå‰¯æœ¬ï¼Œå°‘æ•°æœºå™¨å®•æœºï¼Œä¸ä¼šä¸¢å¤±æ•°æ®ï¼Œä¸ä¼šå¯¼è‡´ä¸å¯ç”¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ—¶æ•ˆæ€§&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;RabbitMQ&lt;/font&gt; åŸºäº Erlang å¼€å‘ï¼Œæ‰€ä»¥å¹¶å‘èƒ½åŠ›å¾ˆå¼ºï¼Œæ€§èƒ½æå…¶å¥½ï¼Œå»¶æ—¶å¾ˆä½ï¼Œè¾¾åˆ°å¾®ç§’çº§ï¼Œå…¶ä»–å‡ ä¸ªéƒ½æ˜¯ ms çº§ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;åŠŸèƒ½æ”¯æŒ&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;Pulsar&lt;/font&gt; çš„åŠŸèƒ½æ›´å…¨é¢ï¼Œæ”¯æŒå¤šç§Ÿæˆ·ã€å¤šç§æ¶ˆè´¹æ¨¡å¼å’ŒæŒä¹…æ€§æ¨¡å¼ç­‰åŠŸèƒ½ï¼Œæ˜¯ä¸‹ä¸€ä»£äº‘åŸç”Ÿåˆ†å¸ƒå¼æ¶ˆæ¯æµå¹³å°ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ¶ˆæ¯ä¸¢å¤±&lt;/td&gt;
&lt;td&gt;ActiveMQ å’Œ RabbitMQ ä¸¢å¤±çš„å¯èƒ½æ€§éå¸¸ä½ï¼Œ &lt;font color=&#39;red&#39;&gt;Kafkaã€RocketMQ å’Œ Pulsar&lt;/font&gt; ç†è®ºä¸Šå¯ä»¥åšåˆ° 0 ä¸¢å¤±ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;æ€»ç»“ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ActiveMQ çš„ç¤¾åŒºç®—æ˜¯æ¯”è¾ƒæˆç†Ÿï¼Œä½†æ˜¯è¾ƒç›®å‰æ¥è¯´ï¼ŒActiveMQ çš„æ€§èƒ½æ¯”è¾ƒå·®ï¼Œè€Œä¸”ç‰ˆæœ¬è¿­ä»£å¾ˆæ…¢ï¼Œä¸æ¨èä½¿ç”¨ï¼Œå·²ç»è¢«æ·˜æ±°äº†ã€‚&lt;/li&gt;
&lt;li&gt;RabbitMQ åœ¨ååé‡æ–¹é¢è™½ç„¶ç¨é€Šäº Kafkaã€RocketMQ å’Œ Pulsarï¼Œä½†æ˜¯ç”±äºå®ƒåŸºäº Erlang å¼€å‘ï¼Œæ‰€ä»¥å¹¶å‘èƒ½åŠ›å¾ˆå¼ºï¼Œæ€§èƒ½æå…¶å¥½ï¼Œå»¶æ—¶å¾ˆä½ï¼Œè¾¾åˆ°å¾®ç§’çº§ã€‚ä½†æ˜¯ä¹Ÿå› ä¸º RabbitMQ åŸºäº Erlang å¼€å‘ï¼Œæ‰€ä»¥å›½å†…å¾ˆå°‘æœ‰å…¬å¸æœ‰å®åŠ›åš Erlang æºç çº§åˆ«çš„ç ”ç©¶å’Œå®šåˆ¶ã€‚å¦‚æœä¸šåŠ¡åœºæ™¯å¯¹å¹¶å‘é‡è¦æ±‚ä¸æ˜¯å¤ªé«˜ï¼ˆåä¸‡çº§ã€ç™¾ä¸‡çº§ï¼‰ï¼Œé‚£è¿™å‡ ç§æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼ŒRabbitMQ æˆ–è®¸æ˜¯ä½ çš„é¦–é€‰ã€‚&lt;/li&gt;
&lt;li&gt;RocketMQ å’Œ Pulsar æ”¯æŒå¼ºä¸€è‡´æ€§ï¼Œå¯¹æ¶ˆæ¯ä¸€è‡´æ€§è¦æ±‚æ¯”è¾ƒé«˜çš„åœºæ™¯å¯ä»¥ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;RocketMQ é˜¿é‡Œå‡ºå“ï¼ŒJava ç³»å¼€æºé¡¹ç›®ï¼Œæºä»£ç æˆ‘ä»¬å¯ä»¥ç›´æ¥é˜…è¯»ï¼Œç„¶åå¯ä»¥å®šåˆ¶è‡ªå·±å…¬å¸çš„ MQï¼Œå¹¶ä¸” RocketMQ æœ‰é˜¿é‡Œå·´å·´çš„å®é™…ä¸šåŠ¡åœºæ™¯çš„å®æˆ˜è€ƒéªŒã€‚&lt;/li&gt;
&lt;li&gt;Kafka ä»…ä»…æä¾›è¾ƒå°‘çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œä½†æ˜¯æä¾›è¶…é«˜çš„ååé‡ï¼Œms çº§çš„å»¶è¿Ÿï¼Œæé«˜çš„å¯ç”¨æ€§ä»¥åŠå¯é æ€§ï¼Œè€Œä¸”åˆ†å¸ƒå¼å¯ä»¥ä»»æ„æ‰©å±•ã€‚åŒæ—¶ Kafka æœ€å¥½æ˜¯æ”¯æ’‘è¾ƒå°‘çš„ topic æ•°é‡å³å¯ï¼Œä¿è¯å…¶è¶…é«˜ååé‡ã€‚&lt;font color=&#39;red&#39;&gt;Kafka å”¯ä¸€çš„ä¸€ç‚¹åŠ£åŠ¿æ˜¯æœ‰å¯èƒ½æ¶ˆæ¯é‡å¤æ¶ˆè´¹&lt;/font&gt;ï¼Œé‚£ä¹ˆå¯¹æ•°æ®å‡†ç¡®æ€§ä¼šé€ æˆæå…¶è½»å¾®çš„å½±å“ï¼Œåœ¨å¤§æ•°æ®é¢†åŸŸä¸­ä»¥åŠæ—¥å¿—é‡‡é›†ä¸­ï¼Œè¿™ç‚¹è½»å¾®å½±å“å¯ä»¥å¿½ç•¥è¿™ä¸ªç‰¹æ€§å¤©ç„¶é€‚åˆå¤§æ•°æ®å®æ—¶è®¡ç®—ä»¥åŠæ—¥å¿—æ”¶é›†ã€‚å¦‚æœæ˜¯&lt;font color=&#39;red&#39;&gt;å¤§æ•°æ®é¢†åŸŸçš„å®æ—¶è®¡ç®—ã€æ—¥å¿—é‡‡é›†ç­‰åœºæ™¯&lt;/font&gt;ï¼Œç”¨ Kafka æ˜¯ä¸šå†…æ ‡å‡†çš„ï¼Œç»å¯¹æ²¡é—®é¢˜ï¼Œç¤¾åŒºæ´»è·ƒåº¦å¾ˆé«˜ï¼Œç»å¯¹ä¸ä¼šé»„ï¼Œä½•å†µå‡ ä¹æ˜¯å…¨ä¸–ç•Œè¿™ä¸ªé¢†åŸŸçš„äº‹å®æ€§è§„èŒƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;kafka-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#kafka-2&#34;&gt;#&lt;/a&gt; Kafka&lt;/h2&gt;
&lt;h3 id=&#34;åŸºç¡€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸºç¡€&#34;&gt;#&lt;/a&gt; åŸºç¡€&lt;/h3&gt;
&lt;h4 id=&#34;åŠŸèƒ½-åº”ç”¨åœºæ™¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŠŸèƒ½-åº”ç”¨åœºæ™¯&#34;&gt;#&lt;/a&gt; åŠŸèƒ½ã€åº”ç”¨åœºæ™¯&lt;/h4&gt;
&lt;p&gt;Kafka æ˜¯ä¸€ä¸ª&lt;strong&gt;åˆ†å¸ƒå¼æµå¼å¤„ç†å¹³å°&lt;/strong&gt;ï¼Œæµå¹³å°å…·æœ‰ä¸‰ä¸ªå…³é”®åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ¶ˆæ¯é˜Ÿåˆ—&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;å‘å¸ƒå’Œè®¢é˜…æ¶ˆæ¯æµ&lt;/font&gt;ï¼Œè¿™ä¸ªåŠŸèƒ½ç±»ä¼¼äºæ¶ˆæ¯é˜Ÿåˆ—ï¼Œè¿™ä¹Ÿæ˜¯ Kafka ä¹Ÿè¢«å½’ç±»ä¸ºæ¶ˆæ¯é˜Ÿåˆ—çš„åŸå› ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å®¹é”™çš„æŒä¹…æ–¹å¼å­˜å‚¨è®°å½•æ¶ˆæ¯æµ&lt;/font&gt;&lt;/strong&gt;ï¼šKafka ä¼š&lt;font color=&#39;red&#39;&gt;æŠŠæ¶ˆæ¯æŒä¹…åŒ–åˆ°ç£ç›˜&lt;/font&gt;ï¼Œæœ‰æ•ˆé¿å…äº†æ¶ˆæ¯ä¸¢å¤±çš„é£é™©ã€‚&lt;/li&gt;
&lt;li&gt;**&lt;font color=&#39;red&#39;&gt;æµå¼å¤„ç†å¹³å°&lt;/font&gt;ï¼š** åœ¨æ¶ˆæ¯å‘å¸ƒçš„æ—¶å€™è¿›è¡Œå¤„ç†ï¼ŒKafka æä¾›äº†ä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;å®Œæ•´çš„æµå¼å¤„ç†ç±»åº“&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Kafka ä¸»è¦æœ‰ä¸¤å¤§åº”ç”¨åœºæ™¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ¶ˆæ¯é˜Ÿåˆ—&lt;/font&gt;&lt;/strong&gt;ï¼šå»ºç«‹å®æ—¶æµæ•°æ®ç®¡é“ï¼Œä»¥å¯é åœ°åœ¨ç³»ç»Ÿæˆ–åº”ç”¨ç¨‹åºä¹‹é—´è·å–æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;**&lt;font color=&#39;red&#39;&gt;æ•°æ®å¤„ç†&lt;/font&gt;ï¼š** æ„å»ºå®æ—¶çš„æµæ•°æ®å¤„ç†ç¨‹åºæ¥è½¬æ¢æˆ–å¤„ç†æ•°æ®æµã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ç›¸æ¯”å…¶ä»–-mq-çš„ä¼˜åŠ¿&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç›¸æ¯”å…¶ä»–-mq-çš„ä¼˜åŠ¿&#34;&gt;#&lt;/a&gt; ç›¸æ¯”å…¶ä»– MQ çš„ä¼˜åŠ¿&lt;/h4&gt;
&lt;p&gt;Kafka ç›¸æ¯”å…¶ä»–æ¶ˆæ¯é˜Ÿåˆ—ä¸»è¦çš„ä¼˜åŠ¿å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æè‡´çš„æ€§èƒ½&lt;/font&gt;&lt;/strong&gt;ï¼šåŸºäº Scala å’Œ Java è¯­è¨€å¼€å‘ï¼Œè®¾è®¡ä¸­å¤§é‡ä½¿ç”¨äº†&lt;font color=&#39;red&#39;&gt;æ‰¹é‡å¤„ç†&lt;/font&gt;å’Œ&lt;font color=&#39;red&#39;&gt;å¼‚æ­¥&lt;/font&gt;çš„æ€æƒ³ï¼Œæœ€é«˜&lt;font color=&#39;red&#39;&gt;æ¯ç§’å¯ä»¥å¤„ç†åƒä¸‡çº§åˆ«çš„æ¶ˆæ¯&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç”Ÿæ€ç³»ç»Ÿå…¼å®¹æ€§æ— å¯åŒ¹æ•Œ&lt;/font&gt;&lt;/strong&gt;ï¼šKafka ä¸å‘¨è¾¹ç”Ÿæ€ç³»ç»Ÿçš„å…¼å®¹æ€§æ˜¯æœ€å¥½çš„æ²¡æœ‰ä¹‹ä¸€ï¼Œå°¤å…¶åœ¨å¤§æ•°æ®å’Œæµè®¡ç®—é¢†åŸŸã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;æ¶ˆæ¯æ¨¡å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶ˆæ¯æ¨¡å‹&#34;&gt;#&lt;/a&gt; æ¶ˆæ¯æ¨¡å‹&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;é¢˜å¤–è¯ï¼šæ—©æœŸçš„  &lt;code&gt;JMS&lt;/code&gt;  å’Œ  &lt;code&gt;AMQP&lt;/code&gt;  å±äºæ¶ˆæ¯æœåŠ¡é¢†åŸŸæƒå¨ç»„ç»‡æ‰€åšçš„ç›¸å…³çš„æ ‡å‡†ï¼Œä½†æ˜¯è¿™äº›æ ‡å‡†çš„è¿›åŒ–è·Ÿä¸ä¸Šæ¶ˆæ¯é˜Ÿåˆ—çš„æ¼”è¿›é€Ÿåº¦ï¼Œ&lt;font color=&#39;red&#39;&gt;è¿™äº›æ ‡å‡†å®é™…ä¸Šå·²ç»å±äºåºŸå¼ƒçŠ¶æ€&lt;/font&gt;ã€‚æ‰€ä»¥ï¼Œå¯èƒ½å­˜åœ¨çš„æƒ…å†µæ˜¯ï¼š&lt;font color=&#39;red&#39;&gt;ä¸åŒçš„æ¶ˆæ¯é˜Ÿåˆ—éƒ½æœ‰è‡ªå·±çš„ä¸€å¥—æ¶ˆæ¯æ¨¡å‹&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;é˜Ÿåˆ—æ¨¡å‹p2p&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é˜Ÿåˆ—æ¨¡å‹p2p&#34;&gt;#&lt;/a&gt; é˜Ÿåˆ—æ¨¡å‹ï¼ˆP2Pï¼‰&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;æ—©æœŸçš„æ¶ˆæ¯æ¨¡å‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://oss.javaguide.cn/github/javaguide/high-performance/message-queue/%E9%98%9F%E5%88%97%E6%A8%A1%E5%9E%8B23.png&#34; alt=&#34;é˜Ÿåˆ—æ¨¡å‹&#34; /&gt;&lt;/p&gt;
&lt;center&gt;é˜Ÿåˆ—æ¨¡å‹&lt;/center&gt;
&lt;p&gt;ä½¿ç”¨&lt;strong&gt;é˜Ÿåˆ—ï¼ˆQueueï¼‰&lt;strong&gt;ä½œä¸ºæ¶ˆæ¯é€šä¿¡è½½ä½“ï¼Œæ»¡è¶³ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…æ¨¡å¼ï¼Œ&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;ä¸€æ¡æ¶ˆæ¯åªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…ä½¿ç”¨ï¼Œæœªè¢«æ¶ˆè´¹çš„æ¶ˆæ¯åœ¨é˜Ÿåˆ—ä¸­ä¿ç•™ç›´åˆ°è¢«æ¶ˆè´¹æˆ–è¶…æ—¶&lt;/font&gt;&lt;/strong&gt;ã€‚æ¯”å¦‚ï¼šæˆ‘ä»¬ç”Ÿäº§è€…å‘é€ 100 æ¡æ¶ˆæ¯çš„è¯ï¼Œä¸¤ä¸ªæ¶ˆè´¹è€…æ¥æ¶ˆè´¹ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸¤ä¸ªæ¶ˆè´¹è€…ä¼šæŒ‰ç…§æ¶ˆæ¯å‘é€çš„é¡ºåºå„è‡ªæ¶ˆè´¹ä¸€åŠï¼ˆä¹Ÿå°±æ˜¯ä½ ä¸€ä¸ªæˆ‘ä¸€ä¸ªçš„æ¶ˆè´¹ã€‚ï¼‰&lt;/p&gt;
&lt;p&gt;é˜Ÿåˆ—æ¨¡å‹å­˜åœ¨çš„é—®é¢˜ï¼š&lt;font color=&#39;red&#39;&gt;æ— æ³•å°†ç”Ÿäº§è€…äº§ç”Ÿçš„æ¶ˆæ¯åˆ†å‘ç»™å¤šä¸ªæ¶ˆè´¹è€…ï¼Œå¹¶ä¿è¯æ¯ä¸ªæ¶ˆè´¹è€…éƒ½èƒ½æ¥æ”¶åˆ°å®Œæ•´çš„æ¶ˆæ¯å†…å®¹&lt;/font&gt;ã€‚è¿™ç§æƒ…å†µï¼Œé˜Ÿåˆ—æ¨¡å‹å°±ä¸å¥½è§£å†³äº†ã€‚å¾ˆå¤šæ¯”è¾ƒæ ç²¾çš„äººå°±è¯´ï¼šæˆ‘ä»¬å¯ä»¥ä¸ºæ¯ä¸ªæ¶ˆè´¹è€…åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„é˜Ÿåˆ—ï¼Œè®©ç”Ÿäº§è€…å‘é€å¤šä»½ã€‚è¿™æ˜¯ä¸€ç§éå¸¸æ„šè ¢çš„åšæ³•ï¼Œæµªè´¹èµ„æºä¸è¯´ï¼Œè¿˜è¿èƒŒäº†ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„ç›®çš„ã€‚&lt;/p&gt;
&lt;h5 id=&#34;å‘å¸ƒ-è®¢é˜…æ¨¡å‹pub-sub&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘å¸ƒ-è®¢é˜…æ¨¡å‹pub-sub&#34;&gt;#&lt;/a&gt; å‘å¸ƒ - è®¢é˜…æ¨¡å‹ï¼ˆPub-Subï¼‰&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Kafka é‡‡ç”¨çš„æ¶ˆæ¯æ¨¡å‹&lt;/font&gt;&lt;/strong&gt;ï¼Œä¸ºäº†è§£å†³é˜Ÿåˆ—æ¨¡å‹å­˜åœ¨çš„é—®é¢˜&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://oss.javaguide.cn/java-guide-blog/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%9E%8B.png&#34; alt=&#34;å‘å¸ƒè®¢é˜…æ¨¡å‹&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å‘å¸ƒè®¢é˜…æ¨¡å‹&lt;/center&gt;
&lt;p&gt;å‘å¸ƒ - è®¢é˜…æ¨¡å‹ï¼ˆPub-Subï¼‰ ä½¿ç”¨&lt;strong&gt;ä¸»é¢˜ï¼ˆTopicï¼‰&lt;strong&gt;ä½œä¸ºæ¶ˆæ¯é€šä¿¡è½½ä½“ï¼Œç±»ä¼¼äº&lt;/strong&gt;å¹¿æ’­æ¨¡å¼&lt;/strong&gt;ã€‚&lt;strong&gt;å‘å¸ƒè€…å‘å¸ƒä¸€æ¡æ¶ˆæ¯ï¼Œè¯¥æ¶ˆæ¯é€šè¿‡ä¸»é¢˜ä¼ é€’ç»™æ‰€æœ‰çš„è®¢é˜…è€…ï¼Œåœ¨ä¸€æ¡æ¶ˆæ¯å¹¿æ’­ä¹‹åæ‰è®¢é˜…çš„ç”¨æˆ·åˆ™æ˜¯æ”¶ä¸åˆ°è¯¥æ¡æ¶ˆæ¯çš„&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å‘å¸ƒ - è®¢é˜…æ¨¡å‹ä¸­ï¼Œ&lt;font color=&#39;red&#39;&gt;å¦‚æœåªæœ‰ä¸€ä¸ªè®¢é˜…è€…ï¼Œé‚£å®ƒå’Œé˜Ÿåˆ—æ¨¡å‹å°±åŸºæœ¬æ˜¯ä¸€æ ·çš„äº†&lt;/font&gt;ã€‚æ‰€ä»¥è¯´ï¼Œå‘å¸ƒ - è®¢é˜…æ¨¡å‹åœ¨åŠŸèƒ½å±‚é¢ä¸Šæ˜¯å¯ä»¥å…¼å®¹é˜Ÿåˆ—æ¨¡å‹çš„ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;RocketMQ çš„æ¶ˆæ¯æ¨¡å‹å’Œ Kafka åŸºæœ¬æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ Kafka ä¸­æ²¡æœ‰é˜Ÿåˆ—è¿™ä¸ªæ¦‚å¿µï¼Œä¸ä¹‹å¯¹åº”çš„æ˜¯ Partitionï¼ˆåˆ†åŒºï¼‰ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;æ ¸å¿ƒæ¦‚å¿µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ ¸å¿ƒæ¦‚å¿µ&#34;&gt;#&lt;/a&gt; æ ¸å¿ƒæ¦‚å¿µ&lt;/h3&gt;
&lt;h4 id=&#34;producer-comsumer-broker-topic-partition&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#producer-comsumer-broker-topic-partition&#34;&gt;#&lt;/a&gt; Producerã€Comsumerã€Brokerã€Topicã€Partition&lt;/h4&gt;
&lt;p&gt;Kafka å°†ç”Ÿäº§è€…å‘å¸ƒçš„æ¶ˆæ¯å‘é€åˆ° **Topicï¼ˆä¸»é¢˜ï¼‰** ä¸­ï¼Œéœ€è¦è¿™äº›æ¶ˆæ¯çš„æ¶ˆè´¹è€…å¯ä»¥è®¢é˜…è¿™äº› Topicï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/message-queue20210507200944439.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢è¿™å¼ å›¾ä¹Ÿä¸ºæˆ‘ä»¬å¼•å‡ºäº†ï¼ŒKafka æ¯”è¾ƒé‡è¦çš„å‡ ä¸ªæ¦‚å¿µï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Producerï¼ˆç”Ÿäº§è€…ï¼‰: äº§ç”Ÿæ¶ˆæ¯çš„ä¸€æ–¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Consumerï¼ˆæ¶ˆè´¹è€…ï¼‰: æ¶ˆè´¹æ¶ˆæ¯çš„ä¸€æ–¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Brokerï¼ˆä»£ç†ï¼‰&lt;/strong&gt;: å¯ä»¥çœ‹ä½œæ˜¯&lt;font color=&#39;red&#39;&gt;ä¸€ä¸ªç‹¬ç«‹çš„ Kafka å®ä¾‹&lt;/font&gt;ã€‚å¤šä¸ª Kafka Broker ç»„æˆä¸€ä¸ª Kafka &lt;strong&gt;Clusterï¼ˆé›†ç¾¤ï¼‰&lt;/strong&gt;ã€‚æ¯ä¸ª Broker ä¸­åˆåŒ…å«ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Topicï¼ˆä¸»é¢˜ï¼‰&lt;/strong&gt;: Producer å°†æ¶ˆæ¯å‘é€åˆ°ç‰¹å®šçš„ä¸»é¢˜ï¼ŒConsumer é€šè¿‡è®¢é˜…ç‰¹å®šçš„ Topic (ä¸»é¢˜) æ¥æ¶ˆè´¹æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Partitionï¼ˆåˆ†åŒºï¼‰&lt;/strong&gt;: &lt;font color=&#39;red&#39;&gt;å±äº Topic çš„ä¸€éƒ¨åˆ†&lt;/font&gt;ã€‚ä¸€ä¸ª Topic å¯ä»¥æœ‰å¤šä¸ª Partition ï¼Œå¹¶ä¸” **&lt;font color=&#39;red&#39;&gt;åŒä¸€ Topic ä¸‹çš„ Partition å¯ä»¥åˆ†å¸ƒåœ¨ä¸åŒçš„ Broker ä¸Šï¼Œè¡¨æ˜ä¸€ä¸ª Topic å¯ä»¥æ¨ªè·¨å¤šä¸ª Broker&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;å¤šå‰¯æœ¬æœºåˆ¶replica&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¤šå‰¯æœ¬æœºåˆ¶replica&#34;&gt;#&lt;/a&gt; å¤šå‰¯æœ¬æœºåˆ¶ï¼ˆReplicaï¼‰&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;ç±»ä¼¼äº &lt;strong&gt;Redis ä¸­çš„ä¸»ä»å¤åˆ¶ï¼ˆReplicaï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Kafka ä¸ºåˆ†åŒºï¼ˆPartitionï¼‰å¼•å…¥äº†&lt;strong&gt;å¤šå‰¯æœ¬ï¼ˆReplicaï¼‰æœºåˆ¶&lt;/strong&gt;ã€‚Partition ä¸­çš„å¤šä¸ªå‰¯æœ¬ä¹‹é—´ä¼šæœ‰ä¸€ä¸ªå«åš  &lt;code&gt;leader&lt;/code&gt;  çš„å®¶ä¼™ï¼Œå…¶ä»–å‰¯æœ¬ç§°ä¸º  &lt;code&gt;follower&lt;/code&gt; ã€‚&lt;font color=&#39;red&#39;&gt;å‘é€çš„æ¶ˆæ¯å…ˆè¢«å‘é€åˆ° leader å‰¯æœ¬ï¼Œç„¶å follower å‰¯æœ¬æ‰èƒ½ä» leader å‰¯æœ¬ä¸­æ‹‰å–æ¶ˆæ¯è¿›è¡ŒåŒæ­¥&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…åªä¸ leader å‰¯æœ¬äº¤äº’&lt;/font&gt;&lt;/strong&gt;ã€‚å¯ä»¥ç†è§£ä¸º&lt;font color=&#39;red&#39;&gt;å…¶ä»–å‰¯æœ¬åªæ˜¯ leader å‰¯æœ¬çš„æ‹·è´ï¼Œå®ƒä»¬çš„å­˜åœ¨åªæ˜¯ä¸ºäº†ä¿è¯æ¶ˆæ¯å­˜å‚¨çš„å®‰å…¨æ€§&lt;/font&gt;ã€‚&lt;font color=&#39;red&#39;&gt;å½“ leader å‰¯æœ¬å‘ç”Ÿæ•…éšœæ—¶ä¼šä» follower ä¸­é€‰ä¸¾å‡ºä¸€ä¸ª leaderï¼Œå‰ææ˜¯è¯¥ follower å’Œ leader åŒæ­¥ç¨‹åº¦ä¸€è‡´&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Kafka å¤šå‰¯æœ¬ï¼ˆReplicaï¼‰æœºåˆ¶çš„å¥½å¤„å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è´Ÿè½½å‡è¡¡&lt;/font&gt;&lt;/strong&gt;ï¼šKafka é€šè¿‡ç»™ç‰¹å®š Topic æŒ‡å®šå¤šä¸ª Partitionï¼Œè€Œå„ä¸ª Partition å¯ä»¥åˆ†å¸ƒåœ¨ä¸åŒçš„ Broker ä¸Šï¼Œè¿™æ ·ä¾¿èƒ½æä¾›æ¯”è¾ƒå¥½çš„&lt;font color=&#39;red&#39;&gt;å¹¶å‘èƒ½åŠ›&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ•°æ®å®¹ç¾èƒ½åŠ›&lt;/font&gt;&lt;/strong&gt;ï¼šPartition å¯ä»¥æŒ‡å®šå¯¹åº”çš„ Replica æ•°ï¼Œæå¤§åœ°æé«˜äº†æ¶ˆæ¯å­˜å‚¨çš„å®‰å…¨æ€§ä¸å®¹ç¾èƒ½åŠ›ï¼Œä¸è¿‡ä¹Ÿç›¸åº”åœ°å¢åŠ äº†æ‰€éœ€è¦çš„å­˜å‚¨ç©ºé—´ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;kafka-ä¸-zookeeper-çš„å…³ç³»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#kafka-ä¸-zookeeper-çš„å…³ç³»&#34;&gt;#&lt;/a&gt; Kafka ä¸ Zookeeper çš„å…³ç³»&lt;/h3&gt;
&lt;h4 id=&#34;zookeeper-åœ¨-kafka-ä¸­çš„ä½œç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#zookeeper-åœ¨-kafka-ä¸­çš„ä½œç”¨&#34;&gt;#&lt;/a&gt; Zookeeper åœ¨ Kafka ä¸­çš„ä½œç”¨&lt;/h4&gt;
&lt;p&gt;ä¸‹å›¾å°±æ˜¯æˆ‘çš„æœ¬åœ° Zookeeperï¼Œå®ƒæˆåŠŸå’Œæˆ‘æœ¬åœ°çš„ Kafka å…³è”ä¸Šï¼ˆä»¥ä¸‹æ–‡ä»¶å¤¹ç»“æ„å€ŸåŠ© idea æ’ä»¶ Zookeeper tool å®ç°ï¼‰ã€‚&lt;/p&gt;
&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/zookeeper-kafka.jpg&#34; alt=&#34;img&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;p&gt;ZooKeeper ä¸»è¦ä¸º Kafka æä¾›&lt;strong&gt;å…ƒæ•°æ®çš„ç®¡ç†&lt;/strong&gt;çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒZookeeper ä¸»è¦ä¸º Kafka åšäº†ä¸‹é¢è¿™äº›äº‹æƒ…ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Broker æ³¨å†Œ&lt;/font&gt;&lt;/strong&gt;ï¼šåœ¨ Zookeeper ä¸Šä¼šæœ‰ä¸€ä¸ªä¸“é—¨ç”¨æ¥&lt;font color=&#39;red&#39;&gt;è®°å½• Broker æœåŠ¡å™¨åˆ—è¡¨&lt;/font&gt;çš„èŠ‚ç‚¹ã€‚æ¯ä¸ª Broker åœ¨å¯åŠ¨æ—¶ï¼Œéƒ½ä¼šåˆ° Zookeeper ä¸Šè¿›è¡Œæ³¨å†Œï¼Œå³åˆ°  &lt;code&gt;/brokers/ids&lt;/code&gt;  ä¸‹åˆ›å»ºå±äºè‡ªå·±çš„èŠ‚ç‚¹ã€‚æ¯ä¸ª Broker å°±ä¼šå°†è‡ªå·±çš„ IP åœ°å€å’Œç«¯å£ç­‰ä¿¡æ¯è®°å½•åˆ°è¯¥èŠ‚ç‚¹ä¸­å»&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Topic æ³¨å†Œ&lt;/font&gt;&lt;/strong&gt;ï¼šåœ¨ Kafka ä¸­ï¼Œ&lt;font color=&#39;red&#39;&gt;åŒä¸€ä¸ª Topic çš„æ¶ˆæ¯ä¼šè¢«åˆ†æˆå¤šä¸ª Partition&lt;/font&gt;ï¼Œå¹¶å°†å…¶åˆ†å¸ƒåœ¨å¤šä¸ª Broker ä¸Šã€‚&lt;font color=&#39;red&#39;&gt;è¿™äº› Partition ä¿¡æ¯åŠä¸ Broker çš„å¯¹åº”å…³ç³»ä¹Ÿéƒ½æ˜¯ç”± Zookeeper åœ¨ç»´æŠ¤&lt;/font&gt;ã€‚æ¯”å¦‚æˆ‘åˆ›å»ºäº†ä¸€ä¸ªåå­—ä¸º my-topic çš„ Topic å¹¶ä¸”å®ƒæœ‰ä¸¤ä¸ª Partition ï¼Œå¯¹åº”åˆ° zookeeper ä¸­ä¼šåˆ›å»ºè¿™äº›æ–‡ä»¶å¤¹ï¼š &lt;code&gt;/brokers/topics/my-topic/Partitions/0&lt;/code&gt; ã€ &lt;code&gt;/brokers/topics/my-topic/Partitions/1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è´Ÿè½½å‡è¡¡&lt;/font&gt;&lt;/strong&gt;ï¼šä¸Šé¢ä¹Ÿè¯´è¿‡äº† Kafka é€šè¿‡ç»™ç‰¹å®š Topic æŒ‡å®šå¤šä¸ª Partitionï¼Œè€Œå„ä¸ª Partition å¯ä»¥åˆ†å¸ƒåœ¨ä¸åŒçš„ Broker ä¸Šï¼Œè¿™æ ·ä¾¿èƒ½æä¾›æ¯”è¾ƒå¥½çš„å¹¶å‘èƒ½åŠ›ã€‚&lt;font color=&#39;red&#39;&gt;å¯¹äºåŒä¸€ä¸ª Topic çš„ä¸åŒ Partitionï¼ŒKafka ä¼šå°½åŠ›å°†è¿™äº› Partition åˆ†å¸ƒåˆ°ä¸åŒçš„ Broker æœåŠ¡å™¨ä¸Š&lt;/font&gt;ã€‚
&lt;ul&gt;
&lt;li&gt;å½“ Provider äº§ç”Ÿæ¶ˆæ¯æ—¶ï¼Œä¼šå°½é‡æŠ•é€’åˆ°ä¸åŒ Broker çš„ Partition é‡Œé¢ã€‚&lt;/li&gt;
&lt;li&gt;å½“ Consumer æ¶ˆè´¹æ¶ˆæ¯æ—¶ï¼ŒZookeeper ä¼šå¯ä»¥æ ¹æ®å½“å‰çš„ Partition æ•°é‡ä»¥åŠ Consumer æ•°é‡æ¥å®ç°åŠ¨æ€è´Ÿè½½å‡è¡¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;â€¦â€¦&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;kafka-ä¸å†ä¾èµ–äº-zookeeper&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#kafka-ä¸å†ä¾èµ–äº-zookeeper&#34;&gt;#&lt;/a&gt; Kafka ä¸å†ä¾èµ–äº Zookeeper&lt;/h4&gt;
&lt;p&gt;åœ¨ Kafka 2.8 ä¹‹å‰ï¼ŒKafka æœ€è¢«å¤§å®¶è¯Ÿç—…çš„å°±æ˜¯å…¶é‡åº¦ä¾èµ–äº Zookeeperã€‚&lt;font color=&#39;red&#39;&gt;åœ¨ Kafka 2.8 ä¹‹åï¼Œå¼•å…¥äº†åŸºäº Raft åè®®çš„ KRaft æ¨¡å¼ï¼Œä¸å†ä¾èµ– Zookeeperï¼Œå¤§å¤§ç®€åŒ–äº† Kafka çš„æ¶æ„ï¼Œè®©ä½ å¯ä»¥ä»¥ä¸€ç§è½»é‡çº§çš„æ–¹å¼æ¥ä½¿ç”¨ Kafka&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œè¦æç¤ºä¸€ä¸‹ï¼šå¦‚æœè¦ä½¿ç”¨ KRaft æ¨¡å¼çš„è¯ï¼Œå»ºè®®é€‰æ‹©è¾ƒé«˜ç‰ˆæœ¬çš„ Kafkaï¼Œå› ä¸ºè¿™ä¸ªåŠŸèƒ½è¿˜åœ¨æŒç»­å®Œå–„ä¼˜åŒ–ä¸­ã€‚Kafka 3.3.1 ç‰ˆæœ¬æ˜¯ç¬¬ä¸€ä¸ªå°† KRaftï¼ˆKafka Raftï¼‰å…±è¯†åè®®æ ‡è®°ä¸ºç”Ÿäº§å°±ç»ªçš„ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;![](&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9vc3MuamF2YWd1aWRlLmNuL2dpdGh1Yi9qYXZhZ3VpZGUvaGlnaC1wZXJmb3JtYW5jZS9tZXNzYWdlLXF1ZXVlL2thZmthMy4zLjEta3JhZnQt&#34;&gt;https://oss.javaguide.cn/github/javaguide/high-performance/message-queue/kafka3.3.1-kraft-&lt;/span&gt; production-ready.png)&lt;/p&gt;
&lt;h3 id=&#34;æ¶ˆè´¹é¡ºåº-æ¶ˆæ¯ä¸¢å¤±-é‡å¤æ¶ˆè´¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶ˆè´¹é¡ºåº-æ¶ˆæ¯ä¸¢å¤±-é‡å¤æ¶ˆè´¹&#34;&gt;#&lt;/a&gt; æ¶ˆè´¹é¡ºåºã€æ¶ˆæ¯ä¸¢å¤±ã€é‡å¤æ¶ˆè´¹&lt;/h3&gt;
&lt;h4 id=&#34;å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„æ¶ˆè´¹é¡ºåº&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„æ¶ˆè´¹é¡ºåº&#34;&gt;#&lt;/a&gt; å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„æ¶ˆè´¹é¡ºåºï¼Ÿ&lt;/h4&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„è¿‡ç¨‹ä¸­ç»å¸¸æœ‰ä¸šåŠ¡åœºæ™¯éœ€è¦ä¸¥æ ¼ä¿è¯æ¶ˆæ¯çš„æ¶ˆè´¹é¡ºåºï¼Œæ¯”å¦‚æˆ‘ä»¬åŒæ—¶å‘äº† 2 ä¸ªæ¶ˆæ¯ï¼Œè¿™ 2 ä¸ªæ¶ˆæ¯å¯¹åº”çš„æ“ä½œåˆ†åˆ«å¯¹åº”çš„æ•°æ®åº“æ“ä½œæ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ›´æ”¹ç”¨æˆ·ä¼šå‘˜ç­‰çº§ã€‚&lt;/li&gt;
&lt;li&gt;æ ¹æ®ä¼šå‘˜ç­‰çº§è®¡ç®—è®¢å•ä»·æ ¼ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å‡å¦‚è¿™ä¸¤æ¡æ¶ˆæ¯çš„æ¶ˆè´¹é¡ºåºä¸ä¸€æ ·é€ æˆçš„æœ€ç»ˆç»“æœå°±ä¼šæˆªç„¶ä¸åŒã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“&lt;font color=&#39;red&#39;&gt; Kafka ä¸­ Partition (åˆ†åŒº) æ˜¯çœŸæ­£ä¿å­˜æ¶ˆæ¯çš„åœ°æ–¹&lt;/font&gt;ï¼Œæˆ‘ä»¬å‘é€çš„æ¶ˆæ¯éƒ½è¢«æ”¾åœ¨äº†è¿™é‡Œã€‚è€Œ Partition (åˆ†åŒº) åˆå­˜åœ¨äº Topic (ä¸»é¢˜) æ¦‚å¿µä¸­ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥ç»™ç‰¹å®š Topic æŒ‡å®šå¤šä¸ª Partitionã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://oss.javaguide.cn/github/javaguide/high-performance/message-queue/KafkaTopicPartionsLayout.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ¯æ¬¡æ·»åŠ æ¶ˆæ¯åˆ° Partition (åˆ†åŒº) çš„æ—¶å€™éƒ½ä¼šé‡‡ç”¨ **&lt;font color=&#39;red&#39;&gt;å°¾åŠ æ³•&lt;/font&gt;**ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚ &lt;font color=&#39;red&#39;&gt;Kafka åªèƒ½ä¸ºæˆ‘ä»¬ä¿è¯ Partitionï¼ˆåˆ†åŒºï¼‰ä¸­çš„æ¶ˆæ¯æœ‰åºï¼Œé€šè¿‡ **offsetï¼ˆåç§»é‡ï¼‰** å®ç°&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ¶ˆæ¯åœ¨è¢«è¿½åŠ åˆ° Partition (åˆ†åŒº) çš„æ—¶å€™éƒ½ä¼šåˆ†é…ä¸€ä¸ªç‰¹å®šçš„åç§»é‡ï¼ˆoffsetï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±æœ‰ä¸€ç§å¾ˆç®€å•çš„ä¿è¯æ¶ˆæ¯æ¶ˆè´¹é¡ºåºçš„æ–¹æ³•ï¼š1 ä¸ª Topic åªå¯¹åº”ä¸€ä¸ª Partitionã€‚è¿™æ ·å½“ç„¶å¯ä»¥è§£å†³é—®é¢˜ï¼Œä½†æ˜¯ç ´åäº† Kafka çš„è®¾è®¡åˆè¡·ã€‚&lt;/p&gt;
&lt;p&gt;Kafka ä¸­å‘é€ 1 æ¡æ¶ˆæ¯çš„æ—¶å€™ï¼Œå¯ä»¥æŒ‡å®š topicã€partitionã€keyã€dataï¼ˆæ•°æ®ï¼‰4 ä¸ªå‚æ•°ã€‚å¦‚æœä½ å‘é€æ¶ˆæ¯çš„æ—¶å€™æŒ‡å®šäº† Partition çš„è¯ï¼Œæ‰€æœ‰æ¶ˆæ¯éƒ½ä¼šè¢«å‘é€åˆ°æŒ‡å®šçš„ Partitionã€‚å¹¶ä¸”ï¼Œ&lt;font color=&#39;red&#39;&gt;åŒä¸€ä¸ª key çš„æ¶ˆæ¯å¯ä»¥ä¿è¯åªå‘é€åˆ°åŒä¸€ä¸ª partition&lt;/font&gt;ï¼Œè¿™ä¸ªæˆ‘ä»¬å¯ä»¥é‡‡ç”¨è¡¨ / å¯¹è±¡çš„ id æ¥ä½œä¸º key ã€‚&lt;/p&gt;
&lt;p&gt;æ€»ç»“ä¸€ä¸‹ï¼Œå¯¹äºå¦‚ä½•ä¿è¯ Kafka ä¸­æ¶ˆæ¯æ¶ˆè´¹çš„é¡ºåºï¼Œæœ‰äº†ä¸‹é¢ä¸¤ç§æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;1 ä¸ª Topic åªå¯¹åº”ä¸€ä¸ª Partitionã€‚&lt;/li&gt;
&lt;li&gt;ï¼ˆæ¨èï¼‰&lt;strong&gt;å‘é€æ¶ˆæ¯çš„æ—¶å€™æŒ‡å®š key/Partition&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å½“ç„¶ä¸ä»…ä»…åªæœ‰ä¸Šé¢ä¸¤ç§æ–¹æ³•ï¼Œä¸Šé¢ä¸¤ç§æ–¹æ³•æ˜¯æˆ‘è§‰å¾—æ¯”è¾ƒå¥½ç†è§£çš„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±&#34;&gt;#&lt;/a&gt; å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±ï¼Ÿ&lt;/h4&gt;
&lt;h5 id=&#34;æƒ…å†µ1producer-ä¸¢å¤±æ¶ˆæ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æƒ…å†µ1producer-ä¸¢å¤±æ¶ˆæ¯&#34;&gt;#&lt;/a&gt; æƒ…å†µ 1ï¼šProducer ä¸¢å¤±æ¶ˆæ¯&lt;/h5&gt;
&lt;p&gt;Producer è°ƒç”¨  &lt;code&gt;send&lt;/code&gt;  æ–¹æ³•å‘é€æ¶ˆæ¯ä¹‹åï¼Œæ¶ˆæ¯å¯èƒ½å› ä¸ºç½‘ç»œé—®é¢˜å¹¶æ²¡æœ‰å‘é€è¿‡å»ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸èƒ½é»˜è®¤åœ¨è°ƒç”¨  &lt;code&gt;send&lt;/code&gt;  æ–¹æ³•å‘é€æ¶ˆæ¯ä¹‹åæ¶ˆæ¯å‘é€æˆåŠŸäº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ç¡®å®šæ¶ˆæ¯æ˜¯å‘é€æˆåŠŸï¼Œæˆ‘ä»¬è¦åˆ¤æ–­æ¶ˆæ¯å‘é€çš„ç»“æœã€‚ä½†æ˜¯è¦æ³¨æ„çš„æ˜¯&lt;font color=&#39;red&#39;&gt; Kafka ä¸­ Producer ä½¿ç”¨  &lt;code&gt;send&lt;/code&gt;  æ–¹æ³•å‘é€æ¶ˆæ¯å®é™…ä¸Šæ˜¯å¼‚æ­¥çš„æ“ä½œï¼Œå¯ä»¥é€šè¿‡  &lt;code&gt;get()&lt;/code&gt;  æ–¹æ³•è·å–è°ƒç”¨ç»“æœï¼Œä½†æ˜¯è¿™æ ·ä¹Ÿè®©å®ƒå˜ä¸ºäº†åŒæ­¥æ“ä½œ&lt;/font&gt;ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¯¦ç»†ä»£ç è§è¿™ç¯‡æ–‡ç« ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TXpnMk9UQTBOamswT0E9PSZhbXA7bWlkPTIyNDc0ODYyNjkmYW1wO2lkeD0yJmFtcDtzbj1lYzAwNDE3YWQ2NDFkZDhjM2QxNDVkNzRjYWZhMDljZSZhbXA7Y2hrc209Y2VhMjQ0ZjZmOWQ1Y2RlMGM4ZWIyMzNmY2M0Y2Y4MmUxMWFjZDA2NDQ2NzE5YTdhZjU1MjMwNjQ5ODYzYTNkZGQ5NWY3OGQxMTFkZSZhbXA7dG9rZW49MTYzMzk1NzI2MiZhbXA7bGFuZz16aF9DTiNyZA==&#34;&gt;Kafka ç³»åˆ—ç¬¬ä¸‰ç¯‡ï¼10 åˆ†é’Ÿå­¦ä¼šå¦‚ä½•åœ¨ Spring Boot ç¨‹åºä¸­ä½¿ç”¨ Kafka ä½œä¸ºæ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token class-name&#34;&gt;SendResult&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; sendResult &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; kafkaTemplate&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;send&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;topic&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;sendResult&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getRecordMetadata&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  logger&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;ç”Ÿäº§è€…æˆåŠŸå‘é€æ¶ˆæ¯åˆ°&#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; sendResult&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getProducerRecord&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;topic&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;-&gt; &#34;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; sendRe&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;              sult&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getProducerRecord&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;toString&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ä½†æ˜¯&lt;font color=&#39;red&#39;&gt;ä¸€èˆ¬ä¸æ¨èè¿™ä¹ˆåš&lt;/font&gt;ï¼å¯ä»¥&lt;strong&gt;å€ŸåŠ©Â  &lt;code&gt;ListenableFuture&lt;/code&gt;  ä¸º Producer çš„  &lt;code&gt;send&lt;/code&gt;  æ–¹æ³•æ·»åŠ å›è°ƒå‡½æ•°&lt;/strong&gt;çš„å½¢å¼ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token class-name&#34;&gt;ListenableFuture&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;SendResult&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; future &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; kafkaTemplate&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;send&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;topic&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        future&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;addCallback&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;result &lt;span class=&#34;token operator&#34;&gt;-&gt;&lt;/span&gt; logger&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;ç”Ÿäº§è€…æˆåŠŸå‘é€æ¶ˆæ¯åˆ°topic:&amp;#123;&amp;#125; partition:&amp;#123;&amp;#125;çš„æ¶ˆæ¯&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; result&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getRecordMetadata&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;topic&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; result&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getRecordMetadata&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;partition&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                ex &lt;span class=&#34;token operator&#34;&gt;-&gt;&lt;/span&gt; logger&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;ç”Ÿäº§è€…å‘é€æ¶ˆæ¯å¤±è´¥ï¼ŒåŸå› ï¼š&amp;#123;&amp;#125;&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; ex&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getMessage&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¦‚æœæ¶ˆæ¯å‘é€å¤±è´¥çš„è¯ï¼Œæˆ‘ä»¬æ£€æŸ¥å¤±è´¥çš„åŸå› ä¹‹åé‡æ–°å‘é€å³å¯&lt;/font&gt;&lt;/strong&gt;ï¼&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è¿™é‡Œæ¨è&lt;font color=&#39;red&#39;&gt;ä¸º Producer çš„Â  &lt;code&gt;retries&lt;/code&gt; ï¼ˆé‡è¯•æ¬¡æ•°ï¼‰è®¾ç½®ä¸€ä¸ªæ¯”è¾ƒåˆç†çš„å€¼ï¼Œä¸€èˆ¬æ˜¯ 3 &lt;/font&gt;ï¼Œä½†æ˜¯ä¸ºäº†ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±çš„è¯ä¸€èˆ¬ä¼šè®¾ç½®æ¯”è¾ƒå¤§ä¸€ç‚¹ã€‚è®¾ç½®å®Œæˆä¹‹åï¼Œå½“å‡ºç°ç½‘ç»œé—®é¢˜ä¹‹åèƒ½å¤Ÿè‡ªåŠ¨é‡è¯•æ¶ˆæ¯å‘é€ï¼Œé¿å…æ¶ˆæ¯ä¸¢å¤±ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦å¤–ï¼Œ&lt;font color=&#39;red&#39;&gt;å»ºè®®è¿˜è¦è®¾ç½®é‡è¯•é—´éš”&lt;/font&gt;ï¼Œå› ä¸ºé—´éš”å¤ªå°çš„è¯é‡è¯•çš„æ•ˆæœå°±ä¸æ˜æ˜¾äº†ï¼Œç½‘ç»œæ³¢åŠ¨ä¸€æ¬¡ä½  3 æ¬¡ä¸€ä¸‹å­å°±é‡è¯•å®Œäº†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æƒ…å†µ2consumer-ä¸¢å¤±æ¶ˆæ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æƒ…å†µ2consumer-ä¸¢å¤±æ¶ˆæ¯&#34;&gt;#&lt;/a&gt; æƒ…å†µ 2ï¼šConsumer ä¸¢å¤±æ¶ˆæ¯&lt;/h5&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“æ¶ˆæ¯åœ¨è¢«è¿½åŠ åˆ° Partition (åˆ†åŒº) çš„æ—¶å€™éƒ½ä¼šåˆ†é…ä¸€ä¸ªç‰¹å®šçš„ offsetï¼ˆåç§»é‡ï¼‰ã€‚&lt;font color=&#39;red&#39;&gt;offset è¡¨ç¤º Consumer å½“å‰æ¶ˆè´¹åˆ°çš„ Partition (åˆ†åŒº) çš„æ‰€åœ¨ä½ç½®&lt;/font&gt;ã€‚Kafka é€šè¿‡åç§»é‡ï¼ˆoffsetï¼‰å¯ä»¥ä¿è¯æ¶ˆæ¯åœ¨åˆ†åŒºå†…çš„é¡ºåºæ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/kafka-offset.jpg&#34; alt=&#34;kafka offset&#34; /&gt;&lt;/p&gt;
&lt;center&gt;kafka offset&lt;/center&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å½“ Consumer æ‹‰å–åˆ°äº† Partition çš„æŸä¸ªæ¶ˆæ¯ä¹‹åï¼ŒConsumer ä¼šè‡ªåŠ¨æäº¤äº†  offset &lt;/font&gt;ã€‚è‡ªåŠ¨æäº¤çš„è¯ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œè¯•æƒ³ä¸€ä¸‹ï¼Œå½“ Consumer åˆšæ‹¿åˆ°è¿™ä¸ªæ¶ˆæ¯å‡†å¤‡è¿›è¡ŒçœŸæ­£æ¶ˆè´¹çš„æ—¶å€™ï¼Œçªç„¶æŒ‚æ‰äº†ï¼Œæ¶ˆæ¯å®é™…ä¸Šå¹¶æ²¡æœ‰è¢«æ¶ˆè´¹ï¼Œä½†æ˜¯ offset å´è¢«è‡ªåŠ¨æäº¤äº†ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³åŠæ³•ä¹Ÿæ¯”è¾ƒç²—æš´ï¼Œæˆ‘ä»¬ ** å…³é—­è‡ªåŠ¨æäº¤ offsetï¼Œæ¯æ¬¡åœ¨çœŸæ­£æ¶ˆè´¹å®Œæ¶ˆæ¯ä¹‹åå†æ‰‹åŠ¨æäº¤ offset **ã€‚ ä½†æ˜¯ï¼Œç»†å¿ƒçš„æœ‹å‹ä¸€å®šä¼šå‘ç°ï¼Œ&lt;font color=&#39;red&#39;&gt;è¿™æ ·ä¼šå¸¦æ¥æ¶ˆæ¯è¢«é‡æ–°æ¶ˆè´¹çš„é—®é¢˜&lt;/font&gt;ã€‚æ¯”å¦‚ä½ åˆšåˆšæ¶ˆè´¹å®Œæ¶ˆæ¯ä¹‹åï¼Œè¿˜æ²¡æäº¤ offsetï¼Œç»“æœè‡ªå·±æŒ‚æ‰äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¶ˆæ¯ç†è®ºä¸Šå°±ä¼šè¢«æ¶ˆè´¹ä¸¤æ¬¡ã€‚&lt;/p&gt;
&lt;h5 id=&#34;æƒ…å†µ3kafka-ä¸¢å¤±æ¶ˆæ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æƒ…å†µ3kafka-ä¸¢å¤±æ¶ˆæ¯&#34;&gt;#&lt;/a&gt; æƒ…å†µ 3ï¼šKafka ä¸¢å¤±æ¶ˆæ¯&lt;/h5&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“&lt;font color=&#39;red&#39;&gt; Kafka ä¸º Partition å¼•å…¥äº†å¤šå‰¯æœ¬ï¼ˆReplicaï¼‰æœºåˆ¶&lt;/font&gt;ã€‚Partition ä¸­çš„å¤šä¸ªå‰¯æœ¬ä¹‹é—´ä¼šæœ‰ä¸€ä¸ªå«åš leader çš„å®¶ä¼™ï¼Œå…¶ä»–å‰¯æœ¬ç§°ä¸º followerã€‚æˆ‘ä»¬å‘é€çš„æ¶ˆæ¯ä¼šè¢«å‘é€åˆ° leader å‰¯æœ¬ï¼Œç„¶å follower å‰¯æœ¬æ‰èƒ½ä» leader å‰¯æœ¬ä¸­æ‹‰å–æ¶ˆæ¯è¿›è¡ŒåŒæ­¥ã€‚Producer å’Œ Comsumer åªä¸ leader å‰¯æœ¬äº¤äº’ã€‚å¯ä»¥ç†è§£ä¸ºå…¶ä»– follower å‰¯æœ¬åªæ˜¯ leader å‰¯æœ¬çš„æ‹·è´ï¼Œå®ƒä»¬çš„å­˜åœ¨åªæ˜¯ä¸ºäº†ä¿è¯æ¶ˆæ¯å­˜å‚¨çš„å®‰å…¨æ€§ã€‚&lt;/p&gt;
&lt;p&gt;è¯•æƒ³ä¸€ç§æƒ…å†µï¼š&lt;font color=&#39;red&#39;&gt;å‡å¦‚ leader å‰¯æœ¬æ‰€åœ¨çš„ broker çªç„¶æŒ‚æ‰ï¼Œä½†æ˜¯ leader çš„æ•°æ®è¿˜æœ‰ä¸€äº›æ²¡æœ‰è¢« follower å‰¯æœ¬çš„åŒæ­¥çš„è¯ï¼Œå°±ä¼šé€ æˆ&lt;strong&gt;æ¶ˆæ¯ä¸¢å¤±&lt;/strong&gt;&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è®¾ç½®  &lt;code&gt;acks = all&lt;/code&gt; &lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;acks æ˜¯ Kafka Producer å¾ˆé‡è¦çš„ä¸€ä¸ªå‚æ•°ï¼Œå…¶é»˜è®¤å€¼ä¸º 1ï¼Œä»£è¡¨æˆ‘ä»¬çš„æ¶ˆæ¯è¢« leader å‰¯æœ¬æ¥æ”¶ä¹‹åå°±ç®—è¢«æˆåŠŸå‘é€&lt;/font&gt;ã€‚&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;é…ç½®  &lt;code&gt;acks = all&lt;/code&gt;  è¡¨ç¤ºåªæœ‰æ‰€æœ‰ ISR åˆ—è¡¨çš„å‰¯æœ¬å…¨éƒ¨æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼ŒProducer æ‰ä¼šæ¥æ”¶åˆ°æ¥è‡ªæœåŠ¡å™¨çš„å“åº”&lt;/font&gt;&lt;/strong&gt;ã€‚è¿™ç§æ¨¡å¼æ˜¯&lt;font color=&#39;red&#39;&gt;æœ€é«˜çº§åˆ«ã€æœ€å®‰å…¨&lt;/font&gt;çš„ï¼Œå¯ä»¥ç¡®ä¿ä¸æ­¢ä¸€ä¸ª Broker æ¥æ”¶åˆ°äº†æ¶ˆæ¯ï¼Œä½†å‰¯ä½œç”¨æ˜¯&lt;font color=&#39;red&#39;&gt;å»¶è¿Ÿä¼šå¾ˆé«˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Partition ä¸­çš„æ‰€æœ‰å‰¯æœ¬ç»Ÿç§°ä¸º &lt;strong&gt; &lt;code&gt;AR&lt;/code&gt; &lt;/strong&gt;ï¼ˆAssigned Repllicasï¼‰ã€‚æ‰€æœ‰ä¸ leader å‰¯æœ¬ä¿æŒä¸€å®šç¨‹åº¦åŒæ­¥çš„å‰¯æœ¬ï¼ˆåŒ…æ‹¬ Leader æœ¬èº«ï¼‰ç»„æˆ &lt;strong&gt; &lt;code&gt;ISR&lt;/code&gt; &lt;/strong&gt;ï¼ˆIn-Sync Replicasï¼‰ï¼ŒISR é›†åˆæ˜¯ AR é›†åˆä¸­çš„ä¸€ä¸ªå­é›†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è®¾ç½®  &lt;code&gt;replication.factor &amp;gt;= 3&lt;/code&gt; &lt;/strong&gt;ï¼šä¸ºäº†ä¿è¯ leader å‰¯æœ¬èƒ½æœ‰ follower å‰¯æœ¬èƒ½åŒæ­¥æ¶ˆæ¯ï¼Œå¯ä»¥ **&lt;font color=&#39;red&#39;&gt;ç¡®ä¿æ¯ä¸ª Partition è‡³å°‘æœ‰ 3 ä¸ªå‰¯æœ¬&lt;/font&gt;**ã€‚è™½ç„¶é€ æˆäº†æ•°æ®å†—ä½™ï¼Œä½†æ˜¯å¸¦æ¥äº†&lt;font color=&#39;red&#39;&gt;æ•°æ®çš„å®‰å…¨æ€§&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è®¾ç½®  &lt;code&gt;min.insync.replicas &amp;gt; 1&lt;/code&gt; &lt;/strong&gt;ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä»£è¡¨æ¶ˆæ¯è‡³å°‘è¦è¢«å†™å…¥åˆ° 2 ä¸ªå‰¯æœ¬æ‰ç®—æ˜¯è¢«æˆåŠŸå‘é€&lt;/font&gt;&lt;/strong&gt;ã€‚å…¶é»˜è®¤å€¼ä¸º 1 ï¼Œåœ¨å®é™…ç”Ÿäº§ä¸­åº”å°½é‡é¿å…ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¡®ä¿  &lt;code&gt;replication.factor &amp;gt; min.insync.replicas&lt;/code&gt; &lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;ä¸ºäº†ä¿è¯æ•´ä¸ª Kafka æœåŠ¡çš„é«˜å¯ç”¨æ€§&lt;/font&gt;ã€‚è®¾æƒ³ä¸€ä¸‹å‡å¦‚ä¸¤è€…ç›¸ç­‰çš„è¯ï¼Œåªè¦æ˜¯æœ‰ä¸€ä¸ªå‰¯æœ¬æŒ‚æ‰ï¼Œæ•´ä¸ª Partition å°±æ— æ³•æ­£å¸¸å·¥ä½œäº†ã€‚è¿™æ˜æ˜¾è¿åé«˜å¯ç”¨æ€§ï¼&lt;font color=&#39;red&#39;&gt;ä¸€èˆ¬æ¨èè®¾ç½®æˆ  &lt;code&gt;replication.factor = min.insync.replicas + 1&lt;/code&gt; &lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è®¾ç½®  &lt;code&gt;unclean.leader.election.enable = false&lt;/code&gt; &lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Kafka ä» 0.11.0.0 ç‰ˆæœ¬å¼€å§‹ï¼Œ &lt;code&gt;unclean.leader.election.enable&lt;/code&gt;  å‚æ•°çš„é»˜è®¤å€¼æ”¹ä¸º false&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆ‘ä»¬æœ€å¼€å§‹ä¹Ÿè¯´äº†æˆ‘ä»¬å‘é€çš„æ¶ˆæ¯ä¼šè¢«å‘é€åˆ° leader å‰¯æœ¬ï¼Œç„¶å follower å‰¯æœ¬æ‰èƒ½ä» leader å‰¯æœ¬ä¸­æ‹‰å–æ¶ˆæ¯è¿›è¡ŒåŒæ­¥ï¼Œå¤šä¸ª follower å‰¯æœ¬ä¹‹é—´çš„æ¶ˆæ¯åŒæ­¥æƒ…å†µä¸ä¸€æ ·ã€‚å½“æˆ‘ä»¬é…ç½®äº† unclean.leader.election.enable = false çš„è¯ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å½“ leader å‰¯æœ¬å‘ç”Ÿæ•…éšœæ—¶ï¼Œå°±ä¸ä¼šä»åŒæ­¥ç¨‹åº¦è¾¾ä¸åˆ°è¦æ±‚çš„ follower å‰¯æœ¬ä¸­é€‰æ‹©å‡º leader&lt;/font&gt;&lt;/strong&gt;ï¼Œé™ä½äº†æ¶ˆæ¯ä¸¢å¤±çš„å¯èƒ½æ€§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸è¢«é‡å¤æ¶ˆè´¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸è¢«é‡å¤æ¶ˆè´¹&#34;&gt;#&lt;/a&gt; å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸è¢«é‡å¤æ¶ˆè´¹ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;kafka å‡ºç°æ¶ˆæ¯é‡å¤æ¶ˆè´¹çš„åŸå› ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ ¹æœ¬åŸå› ï¼šConsumer å·²ç»æ¶ˆè´¹äº†æ¶ˆæ¯ï¼Œä½†æ²¡æœ‰æˆåŠŸæäº¤ offset&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç›´æ¥åŸå› ï¼šConsumer ç”±äºå¤„ç†ä¸šåŠ¡æ—¶é—´é•¿æˆ–è€…ç½‘ç»œé“¾æ¥ç­‰åŸå› ï¼Œ&lt;font color=&#39;red&#39;&gt;è®© Kafka è®¤ä¸ºæœåŠ¡å‡æ­»ï¼Œè§¦å‘äº† Partition  &lt;code&gt;rebalance&lt;/code&gt; &lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Consumer æ¶ˆè´¹æ¶ˆæ¯æœåŠ¡åšå¹‚ç­‰æ ¡éªŒ&lt;/strong&gt;ï¼Œæ¯”å¦‚ Redis çš„ setã€MySQL çš„ä¸»é”®ç­‰å¤©ç„¶çš„å¹‚ç­‰åŠŸèƒ½ï¼Œè¿™ç§æ–¹æ³•æœ€æœ‰æ•ˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å°†  &lt;code&gt;enable.auto.commit&lt;/code&gt;  å‚æ•°è®¾ç½®ä¸º falseï¼Œå…³é—­ offset çš„è‡ªåŠ¨æäº¤ï¼Œå¼€å‘è€…åœ¨ä»£ç ä¸­æ‰‹åŠ¨æäº¤ offset&lt;/strong&gt;ã€‚é‚£ä¹ˆè¿™é‡Œä¼šæœ‰ä¸ªé—®é¢˜ï¼šä»€ä¹ˆæ—¶å€™æäº¤ offset åˆé€‚ï¼Ÿ
&lt;ul&gt;
&lt;li&gt;å¤„ç†å®Œæ¶ˆæ¯å†æäº¤ï¼šä¾æ—§æœ‰æ¶ˆæ¯é‡å¤æ¶ˆè´¹çš„é£é™©ï¼Œå’Œè‡ªåŠ¨æäº¤ä¸€æ ·&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‹‰å–åˆ°æ¶ˆæ¯å³æäº¤&lt;/strong&gt;ï¼šä¼šæœ‰æ¶ˆæ¯ä¸¢å¤±çš„é£é™©ã€‚å…è®¸æ¶ˆæ¯å»¶æ—¶çš„åœºæ™¯ï¼Œä¸€èˆ¬ä¼šé‡‡ç”¨è¿™ç§æ–¹å¼ã€‚ç„¶åï¼Œé€šè¿‡å®šæ—¶ä»»åŠ¡åœ¨ä¸šåŠ¡ä¸ç¹å¿™ï¼ˆæ¯”å¦‚å‡Œæ™¨ï¼‰çš„æ—¶å€™åšæ•°æ®å…œåº•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é‡è¯•æœºåˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é‡è¯•æœºåˆ¶&#34;&gt;#&lt;/a&gt; é‡è¯•æœºåˆ¶&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ Kafka å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±ä¸­æåˆ°äº† Kafka çš„é‡è¯•æœºåˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;ç½‘ä¸Šå…³äº Spring Kafka çš„é»˜è®¤é‡è¯•æœºåˆ¶æ–‡ç« å¾ˆå¤šï¼Œä½†å¤§å¤šéƒ½æ˜¯è¿‡æ—¶çš„ï¼Œå’Œå®é™…è¿è¡Œç»“æœå®Œå…¨ä¸ä¸€æ ·ã€‚ä»¥ä¸‹æ˜¯æ ¹æ® &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tdm5yZXBvc2l0b3J5LmNvbS9hcnRpZmFjdC9vcmcuc3ByaW5nZnJhbWV3b3JrLmthZmthL3NwcmluZy1rYWZrYS8yLjkuMw==&#34;&gt;spring-kafka-2.9.3&lt;/span&gt; æºç é‡æ–°æ¢³ç†ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;æ¶ˆè´¹å¤±è´¥åä¼šå…ˆé‡è¯•å¤šæ¬¡é‡è¯•å¤±è´¥åä¼šè·³è¿‡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶ˆè´¹å¤±è´¥åä¼šå…ˆé‡è¯•å¤šæ¬¡é‡è¯•å¤±è´¥åä¼šè·³è¿‡&#34;&gt;#&lt;/a&gt; æ¶ˆè´¹å¤±è´¥åä¼šå…ˆé‡è¯•ï¼Œå¤šæ¬¡é‡è¯•å¤±è´¥åä¼šè·³è¿‡&lt;/h4&gt;
&lt;p&gt;Producer ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Java&#34;&gt; for (int i = 0; i &amp;lt; 10; i++) &amp;#123;
   kafkaTemplate.send(KafkaConst.TEST_TOPIC, String.valueOf(i))
 &amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Comsumer ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Java&#34;&gt;   @KafkaListener(topics = &amp;#123;KafkaConst.TEST_TOPIC&amp;#125;,groupId = &amp;quot;apple&amp;quot;)
   private void customer(String message) throws InterruptedException &amp;#123;
       log.info(&amp;quot;kafka customer:&amp;#123;&amp;#125;&amp;quot;,message);
       Integer n = Integer.parseInt(message);
       if (n%5==0)&amp;#123; // å½“nä¸º0å’Œ5æ—¶æŠ›å‡ºå¼‚å¸¸
           throw new  RuntimeException();
       &amp;#125;
   &amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;åœ¨é»˜è®¤é…ç½®ä¸‹ï¼Œå½“æ¶ˆè´¹å¼‚å¸¸ä¼šè¿›è¡Œé‡è¯•ï¼Œé‡è¯•å¤šæ¬¡åä¼šè·³è¿‡å½“å‰æ¶ˆæ¯ï¼Œç»§ç»­è¿›è¡Œåç»­æ¶ˆæ¯çš„æ¶ˆè´¹ï¼Œä¸ä¼šä¸€ç›´å¡åœ¨å½“å‰æ¶ˆæ¯&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€æ®µæ¶ˆè´¹çš„æ—¥å¿—ï¼Œå¯ä»¥çœ‹å‡ºå½“  &lt;code&gt;test-0@95&lt;/code&gt;  é‡è¯•å¤šæ¬¡åä¼šè¢«è·³è¿‡ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2023&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;08&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;03&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;32.918&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;DEBUG&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;9700&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;ntainer#&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;s&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;kafka&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;listener&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;DefaultErrorHandler&lt;/span&gt;   &lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Skipping&lt;/span&gt; seek of&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; test&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@95&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2023&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;08&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;03&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;32.918&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;TRACE&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;9700&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;ntainer#&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;s&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;kafka&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;listener&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;DefaultErrorHandler&lt;/span&gt;   &lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Seeking&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; test&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;to&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;96&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2023&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;08&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;03&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;32.918&lt;/span&gt;  &lt;span class=&#34;token constant&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;9700&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;ntainer#&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;a&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;k&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;clients&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;consumer&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;KafkaConsumer&lt;/span&gt;     &lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Consumer&lt;/span&gt; clientId&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;consumer&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;apple&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; groupId&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;apple&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Seeking&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;to&lt;/span&gt; &lt;span class=&#34;token namespace&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;96&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; partition test&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;é»˜è®¤é‡è¯•-10-æ¬¡æ—¶é—´é—´éš”ä¸º-0&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é»˜è®¤é‡è¯•-10-æ¬¡æ—¶é—´é—´éš”ä¸º-0&#34;&gt;#&lt;/a&gt; é»˜è®¤é‡è¯• 10 æ¬¡ï¼Œæ—¶é—´é—´éš”ä¸º 0&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;æºç ç•¥äº†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ€»ç»“ï¼š&lt;strong&gt;Kafka Comsumer åœ¨é»˜è®¤é…ç½®ä¸‹ä¼šè¿›è¡Œæœ€å¤š 10 æ¬¡é‡è¯•ï¼Œæ¯æ¬¡é‡è¯•çš„æ—¶é—´é—´éš”ä¸º 0ï¼Œå³ç«‹å³é‡è¯•ã€‚å¦‚æœåœ¨ 10 æ¬¡é‡è¯•åä»ç„¶æ— æ³•æˆåŠŸæ¶ˆè´¹æ¶ˆæ¯ï¼Œåˆ™ä¸å†è¿›è¡Œé‡è¯•ï¼Œè¯¥æ¶ˆæ¯å°†è¢«è§†ä¸ºæ¶ˆè´¹å¤±è´¥&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;è‡ªå®šä¹‰é‡è¯•æ¬¡æ•°-æ—¶é—´é—´éš”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è‡ªå®šä¹‰é‡è¯•æ¬¡æ•°-æ—¶é—´é—´éš”&#34;&gt;#&lt;/a&gt; è‡ªå®šä¹‰é‡è¯•æ¬¡æ•°ã€æ—¶é—´é—´éš”&lt;/h4&gt;
&lt;p&gt;ä»ä¸Šé¢çš„ä»£ç å¯ä»¥çŸ¥é“ï¼Œé»˜è®¤é”™è¯¯å¤„ç†å™¨çš„é‡è¯•æ¬¡æ•°ä»¥åŠæ—¶é—´é—´éš”æ˜¯ç”±  &lt;code&gt;FixedBackOff&lt;/code&gt;  æ§åˆ¶çš„ï¼Œ &lt;code&gt;FixedBackOff&lt;/code&gt;  æ˜¯  &lt;code&gt;DefaultErrorHandler&lt;/code&gt;  åˆå§‹åŒ–æ—¶é»˜è®¤çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥è‡ªå®šä¹‰é‡è¯•æ¬¡æ•°ä»¥åŠæ—¶é—´é—´éš”ï¼Œ&lt;strong&gt;åªéœ€è¦åœ¨  &lt;code&gt;DefaultErrorHandler&lt;/code&gt;  åˆå§‹åŒ–çš„æ—¶å€™ä¼ å…¥è‡ªå®šä¹‰çš„  &lt;code&gt;FixedBackOff&lt;/code&gt;  å³å¯&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é‡æ–°å®ç°ä¸€ä¸ª  &lt;code&gt;KafkaListenerContainerFactory&lt;/code&gt;  ï¼Œè°ƒç”¨  &lt;code&gt;setCommonErrorHandler&lt;/code&gt;  è®¾ç½®æ–°çš„è‡ªå®šä¹‰çš„é”™è¯¯å¤„ç†å™¨å°±å¯ä»¥å®ç°ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@Bean&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;KafkaListenerContainerFactory&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;kafkaListenerContainerFactory&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;ConsumerFactory&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; consumerFactory&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;ConcurrentKafkaListenerContainerFactory&lt;/span&gt; factory &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;ConcurrentKafkaListenerContainerFactory&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;// è‡ªå®šä¹‰é‡è¯•æ—¶é—´é—´éš”ä»¥åŠæ¬¡æ•°&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;FixedBackOff&lt;/span&gt; fixedBackOff &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;FixedBackOff&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    factory&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;setCommonErrorHandler&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;DefaultErrorHandler&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;fixedBackOff&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    factory&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;setConsumerFactory&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;consumerFactory&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; factory&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;é‡è¯•å¤±è´¥åå¦‚ä½•å‘Šè­¦&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é‡è¯•å¤±è´¥åå¦‚ä½•å‘Šè­¦&#34;&gt;#&lt;/a&gt; é‡è¯•å¤±è´¥åï¼Œå¦‚ä½•å‘Šè­¦ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;é‡è¯•å¤±è´¥åé€»è¾‘éœ€è¦æ‰‹åŠ¨å®ç°ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚&lt;strong&gt;ç»§æ‰¿  &lt;code&gt;DefaultErrorHandler&lt;/code&gt;  å¹¶é‡å†™  &lt;code&gt;handleRemaining&lt;/code&gt;  å‡½æ•°ï¼ŒåŠ ä¸Šè‡ªå®šä¹‰çš„å‘Šè­¦ç­‰æ“ä½œ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Java&#34;&gt;@Slf4j
public class DelErrorHandler extends DefaultErrorHandler &amp;#123;

    public DelErrorHandler(FixedBackOff backOff) &amp;#123;
        super(null,backOff);
    &amp;#125;

    @Override
    public void handleRemaining(Exception thrownException, List&amp;lt;ConsumerRecord&amp;lt;?, ?&amp;gt;&amp;gt; records, Consumer&amp;lt;?, ?&amp;gt; consumer, MessageListenerContainer container) &amp;#123;
        super.handleRemaining(thrownException, records, consumer, container);
        log.info(&amp;quot;é‡è¯•å¤šæ¬¡å¤±è´¥&amp;quot;);
        // è‡ªå®šä¹‰æ“ä½œ
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;DefaultErrorHandler&lt;/code&gt;  åªæ˜¯é»˜è®¤çš„ä¸€ä¸ªé”™è¯¯å¤„ç†å™¨ï¼ŒSpring Kafka è¿˜æä¾›äº†  &lt;code&gt;CommonErrorHandler&lt;/code&gt;  æ¥å£ã€‚æ‰‹åŠ¨å®ç°  &lt;code&gt;CommonErrorHandler&lt;/code&gt;  å°±å¯ä»¥å®ç°æ›´å¤šçš„è‡ªå®šä¹‰æ“ä½œï¼Œæœ‰å¾ˆé«˜çš„çµæ´»æ€§ã€‚ä¾‹å¦‚æ ¹æ®ä¸åŒçš„é”™è¯¯ç±»å‹ï¼Œå®ç°ä¸åŒçš„é‡è¯•é€»è¾‘ä»¥åŠä¸šåŠ¡é€»è¾‘ç­‰ã€‚&lt;/p&gt;
&lt;h4 id=&#34;é‡è¯•æœ€å¤§æ¬¡æ•°å¤±è´¥åå¦‚ä½•å†æ¬¡å¤„ç†è¯¥æ¶ˆæ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é‡è¯•æœ€å¤§æ¬¡æ•°å¤±è´¥åå¦‚ä½•å†æ¬¡å¤„ç†è¯¥æ¶ˆæ¯&#34;&gt;#&lt;/a&gt; é‡è¯•æœ€å¤§æ¬¡æ•°å¤±è´¥åï¼Œå¦‚ä½•å†æ¬¡å¤„ç†è¯¥æ¶ˆæ¯ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;å½“è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°åï¼Œæ¶ˆæ¯æ•°æ®ä¼šè¢«ç›´æ¥è·³è¿‡ï¼Œç»§ç»­å‘åè¿›è¡Œã€‚å½“ä»£ç ä¿®å¤åï¼Œå¦‚ä½•é‡æ–°æ¶ˆè´¹è¿™äº›é‡è¯•å¤±è´¥çš„æ¶ˆæ¯æ•°æ®å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ­»ä¿¡é˜Ÿåˆ—ï¼ˆDead Letter Queueï¼Œç®€ç§° DLQï¼‰&lt;/strong&gt; æ˜¯æ¶ˆæ¯ä¸­é—´ä»¶ä¸­çš„ä¸€ç§ç‰¹æ®Šé˜Ÿåˆ—ã€‚å®ƒä¸»è¦ **&lt;font color=&#39;red&#39;&gt;ç”¨äºå¤„ç†æ— æ³•è¢« Comsumer æ­£ç¡®å¤„ç†çš„æ¶ˆæ¯&lt;/font&gt;**ï¼Œé€šå¸¸æ˜¯å› ä¸º&lt;font color=&#39;red&#39;&gt;æ¶ˆæ¯æ ¼å¼é”™è¯¯ã€å¤„ç†å¤±è´¥ã€æ¶ˆè´¹è¶…æ—¶&lt;/font&gt;ç­‰æƒ…å†µå¯¼è‡´çš„æ¶ˆæ¯è¢« &amp;quot;ä¸¢å¼ƒ&amp;quot; æˆ– &amp;quot;æ­»äº¡&amp;quot; çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;å½“æ¶ˆæ¯è¿›å…¥é˜Ÿåˆ—åï¼Œæ¶ˆè´¹è€…ä¼šå°è¯•å¤„ç†å®ƒã€‚å¦‚æœå¤„ç†å¤±è´¥ï¼Œæˆ–è€…è¶…è¿‡ä¸€å®šçš„é‡è¯•æ¬¡æ•°ä»æ— æ³•è¢«æˆåŠŸå¤„ç†ï¼Œæ¶ˆæ¯å¯ä»¥å‘é€åˆ°æ­»ä¿¡é˜Ÿåˆ—ä¸­ï¼Œè€Œä¸æ˜¯è¢«æ°¸ä¹…æ€§åœ°ä¸¢å¼ƒã€‚&lt;font color=&#39;red&#39;&gt;åœ¨æ­»ä¿¡é˜Ÿåˆ—ä¸­ï¼Œå¯ä»¥è¿›ä¸€æ­¥åˆ†æã€å¤„ç†è¿™äº›æ— æ³•æ­£å¸¸æ¶ˆè´¹çš„æ¶ˆæ¯ï¼Œä»¥ä¾¿å®šä½é—®é¢˜ã€ä¿®å¤é”™è¯¯ï¼Œå¹¶é‡‡å–é€‚å½“çš„æªæ–½&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;é‡è¯•æ³¨è§£-retryabletopic&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é‡è¯•æ³¨è§£-retryabletopic&#34;&gt;#&lt;/a&gt; é‡è¯•æ³¨è§£  &lt;code&gt;@RetryableTopic&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;è¿™æ˜¯ Spring Kafka ä¸­çš„ä¸€ä¸ªæ³¨è§£ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç”¨äºé…ç½®æŸä¸ª Topic æ”¯æŒæ¶ˆæ¯é‡è¯•&lt;/font&gt;&lt;/strong&gt;ï¼Œæ›´æ¨èä½¿ç”¨è¿™ä¸ªæ³¨è§£æ¥å®Œæˆé‡è¯•ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Java&#34;&gt;// é‡è¯• 5 æ¬¡ï¼Œé‡è¯•é—´éš” 100 æ¯«ç§’,æœ€å¤§é—´éš” 1 ç§’
@RetryableTopic(
        attempts = &amp;quot;5&amp;quot;,
        backoff = @Backoff(delay = 100, maxDelay = 1000)
)
@KafkaListener(topics = &amp;#123;KafkaConst.TEST_TOPIC&amp;#125;, groupId = &amp;quot;apple&amp;quot;)
private void customer(String message) &amp;#123;
    log.info(&amp;quot;kafka customer:&amp;#123;&amp;#125;&amp;quot;, message);
    Integer n = Integer.parseInt(message);
    if (n % 5 == 0) &amp;#123;
        throw new RuntimeException();
    &amp;#125;
    System.out.println(n);
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å½“è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°åï¼Œå¦‚æœä»ç„¶æ— æ³•æˆåŠŸå¤„ç†æ¶ˆæ¯ï¼Œæ¶ˆæ¯ä¼šè¢«å‘é€åˆ°å¯¹åº”çš„æ­»ä¿¡é˜Ÿåˆ—ä¸­ã€‚&lt;font color=&#39;red&#39;&gt;å¯¹äºæ­»ä¿¡é˜Ÿåˆ—çš„å¤„ç†ï¼Œæ—¢å¯ä»¥ç”¨  &lt;code&gt;@DltHandler&lt;/code&gt;  å¤„ç†ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨  &lt;code&gt;@KafkaListener&lt;/code&gt;  é‡æ–°æ¶ˆè´¹&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é¢è¯•é¢˜kafka-æ¶ˆè´¹ç»„æœ‰ä»€ä¹ˆç‰¹æ€§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•é¢˜kafka-æ¶ˆè´¹ç»„æœ‰ä»€ä¹ˆç‰¹æ€§&#34;&gt;#&lt;/a&gt; ã€é¢è¯•é¢˜ã€‘kafka æ¶ˆè´¹ç»„æœ‰ä»€ä¹ˆç‰¹æ€§ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;Kafka æ¶ˆè´¹ç»„ï¼šæ˜¯ Kafka æä¾›çš„&lt;font color=&#39;red&#39;&gt;å¯æ‰©å±•ã€å…·æœ‰å®¹é”™æ€§çš„ Comsumer æœºåˆ¶&lt;/font&gt;ã€‚åŒä¸€ä¸ªæ¶ˆè´¹ç»„çš„å¤šä¸ª Comsumer èƒ½åˆ†å¸ƒåˆ°å¤šä¸ªç‰©ç†æœºå™¨ä¸Š&lt;font color=&#39;red&#39;&gt;åŠ é€Ÿæ¶ˆè´¹&lt;/font&gt;ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å®ç°&lt;font color=&#39;red&#39;&gt;è´Ÿè½½å‡è¡¡&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å½“æŸä¸ª Comsumer å®•æœºæ—¶ï¼Œå…¶ä»– Comsumer å¯ä»¥ç»§ç»­æ¶ˆè´¹è¯¥ Partition çš„æ•°æ®ï¼Œä»è€Œä¿è¯äº†&lt;font color=&#39;red&#39;&gt;æ•°æ®çš„å¯é æ€§å’ŒæŒä¹…æ€§&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼ŒKafka æ¶ˆè´¹ç»„æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŒä¸€ä¸ªæ¶ˆè´¹ç»„å†…çš„&lt;font color=&#39;red&#39;&gt;æ‰€æœ‰ Comsumer å…±äº«ä¸€ä¸ªå…¬å…± ID&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æ¶ˆè´¹ç»„å†…çš„&lt;font color=&#39;red&#39;&gt;æ¯ä¸ª Comsumer éƒ½æœ‰è‡ªå·±çš„ offset (åç§»é‡)&lt;/font&gt;ï¼Œç”¨äºè®°å½•å·²ç»æ¶ˆè´¹è¿‡çš„æ¶ˆæ¯ä½ç½®ã€‚&lt;/li&gt;
&lt;li&gt;æ¶ˆè´¹ç»„å†…çš„&lt;font color=&#39;red&#39;&gt;æ¯ä¸ª Comsumer å¯ä»¥å¤„ç† Partition ä¸­çš„æ‰€æœ‰æ¶ˆæ¯&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é¢è¯•é¢˜kafka-å¤š-topic-ä¸ºä»€ä¹ˆæœ‰æ€§èƒ½é—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•é¢˜kafka-å¤š-topic-ä¸ºä»€ä¹ˆæœ‰æ€§èƒ½é—®é¢˜&#34;&gt;#&lt;/a&gt; ã€é¢è¯•é¢˜ã€‘kafka å¤š topic ä¸ºä»€ä¹ˆæœ‰æ€§èƒ½é—®é¢˜ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;kafka å¤š topic å¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜çš„&lt;font color=&#39;gree&#39;&gt;åŸå› &lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Partition æ•°é‡å¢åŠ &lt;/strong&gt;ï¼šæ¯ä¸ª topic éƒ½ä¼šè¢«åˆ†æˆå¤šä¸ª Partitionï¼Œå½“æœ‰å¤§é‡çš„ topic å­˜åœ¨æ—¶ï¼Œ Partition æ•°é‡ä¹Ÿä¼šç›¸åº”å¢åŠ ã€‚è¿™ä¼šå¯¼è‡´ Kafka éœ€è¦å¤„ç†æ›´å¤šçš„ Partitionï¼Œå¢åŠ äº†ç³»ç»Ÿçš„è´Ÿè½½å’Œèµ„æºæ¶ˆè€—ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç½‘ç»œå¼€é”€å¢åŠ &lt;/strong&gt;ï¼šKafka çš„å¤š topic ä¼šå¯¼è‡´æ›´å¤šçš„ç½‘ç»œé€šä¿¡å¼€é”€ã€‚å½“ä¸€ä¸ª Producer åŒæ—¶å‘å¤šä¸ª topic å‘é€æ¶ˆæ¯æ—¶ï¼Œéœ€è¦å»ºç«‹å¤šä¸ªç½‘ç»œè¿æ¥ï¼Œå¹¶ä¸”éœ€è¦ç»´æŠ¤å¤šä¸ªç½‘ç»œé€šä¿¡çš„çŠ¶æ€ã€‚è¿™å¢åŠ äº†ç½‘ç»œå¼€é”€å’Œå»¶è¿Ÿã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;èµ„æºç«äº‰&lt;/strong&gt;ï¼šå¤šä¸ª topic åŒæ—¶è¿›è¡Œè¯»å†™æ“ä½œæ—¶ï¼Œä¼šå¼•èµ·èµ„æºçš„ç«äº‰ã€‚ä¾‹å¦‚ï¼Œå¤šä¸ª Comsumer åŒæ—¶æ¶ˆè´¹ä¸åŒçš„ topicï¼Œä¼šå¯¼è‡´ Comsumer ä¹‹é—´çš„ç«äº‰å’Œäº‰å¤ºèµ„æºçš„æƒ…å†µï¼Œä»è€Œå½±å“ç³»ç»Ÿçš„æ€§èƒ½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®åˆ†å¸ƒä¸å‡è¡¡&lt;/strong&gt;ï¼šå½“æœ‰å¤§é‡çš„ topic å­˜åœ¨æ—¶ï¼Œæ•°æ®çš„åˆ†å¸ƒå¯èƒ½ä¼šä¸å‡è¡¡ã€‚æŸäº› topic å¯èƒ½ä¼šæœ‰æ›´å¤šçš„æ•°æ®é‡ï¼Œè€ŒæŸäº› topic å¯èƒ½ä¼šæœ‰è¾ƒå°‘çš„æ•°æ®é‡ã€‚è¿™ä¼š&lt;font color=&#39;red&#39;&gt;å¯¼è‡´æŸäº› broker è´Ÿè½½è¿‡é‡&lt;/font&gt;ï¼Œè€Œå…¶ä»– broker è´Ÿè½½è¾ƒè½»ï¼Œä»è€Œå½±å“æ•´ä¸ªç³»ç»Ÿçš„æ€§èƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸ºäº†è§£å†³è¿™äº›æ€§èƒ½é—®é¢˜ï¼Œå¯ä»¥é‡‡å–ä»¥ä¸‹&lt;font color=&#39;gree&#39;&gt;æªæ–½&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åˆå¹¶ topic&lt;/strong&gt;ï¼šå¦‚æœæœ‰å¤šä¸ª topic çš„æ•°æ®é‡è¾ƒå°ï¼Œå¯ä»¥è€ƒè™‘å°†å®ƒä»¬åˆå¹¶ä¸ºä¸€ä¸ª topicï¼Œå‡å°‘åˆ†åŒºæ•°é‡å’Œç½‘ç»œå¼€é”€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¢åŠ èµ„æº&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;å¢åŠ  Kafka é›†ç¾¤çš„ broker æ•°é‡å’Œ C omsumer æ•°é‡&lt;/font&gt;ï¼Œä»¥ä¾¿æ›´å¥½åœ°å¤„ç†å¤š topic çš„è´Ÿè½½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å‡è¡¡æ•°æ®åˆ†å¸ƒ&lt;/strong&gt;ï¼šé€šè¿‡è°ƒæ•´ Partition åˆ†é…ç­–ç•¥ï¼Œä½¿å¾—æ•°æ®åœ¨å„ä¸ª broker ä¸Šå‡è¡¡åˆ†å¸ƒï¼Œé¿å…è´Ÿè½½ä¸å‡çš„æƒ…å†µã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä½¿ç”¨åˆ†åŒºç­–ç•¥&lt;/strong&gt;ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚ï¼Œåˆç†åœ°é€‰æ‹©åˆ†åŒºç­–ç•¥ï¼Œé¿å…æ•°æ®é›†ä¸­åœ¨æŸä¸ª Partition æˆ–æŸä¸ª broker ä¸Šã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŒ–ç½‘ç»œé€šä¿¡&lt;/strong&gt;ï¼šé€šè¿‡åˆç†çš„ç½‘ç»œé…ç½®å’Œä¼˜åŒ–ï¼Œå‡å°‘ç½‘ç»œå¼€é”€å’Œå»¶è¿Ÿï¼Œæé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;rocketmq-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rocketmq-2&#34;&gt;#&lt;/a&gt; RocketMQ&lt;/h2&gt;
&lt;p&gt;RocketMQ æ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„&lt;strong&gt;åˆ†å¸ƒå¼æ¶ˆæ¯ç³»ç»Ÿ&lt;/strong&gt;ï¼Œå¹¿æ³›åº”ç”¨äºå¤šä¸ªé¢†åŸŸï¼ŒåŒ…æ‹¬å¼‚æ­¥é€šä¿¡è§£è€¦ã€ä¼ä¸šè§£å†³æ–¹æ¡ˆã€é‡‘èæ”¯ä»˜ã€ç”µä¿¡ã€ç”µå­å•†åŠ¡ã€å¿«é€’ç‰©æµã€å¹¿å‘Šè¥é”€ã€ç¤¾äº¤ã€å³æ—¶é€šä¿¡ã€ç§»åŠ¨åº”ç”¨ã€æ‰‹æ¸¸ã€è§†é¢‘ã€ç‰©è”ç½‘ã€è½¦è”ç½‘ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;RocketMQ æºç åœ°å€ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9yb2NrZXRtcQ==&#34;&gt;https://github.com/apache/rocketmq&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;RocketMQ å®˜æ–¹ç½‘ç«™ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9yb2NrZXRtcS5hcGFjaGUub3JnL3poLw==&#34;&gt;https://rocketmq.apache.org&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;æ–‡ç« æè¿° RocketMQ ç›¸å…³æ¦‚å¿µå’ŒçŸ¥è¯†ï¼Œå¦‚æ— ç‰¹åˆ«å£°æ˜ï¼Œå‡æ˜¯  &lt;code&gt;Apache RocketMQ 4.x&lt;/code&gt;  ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRlZS5jb20vbmFnZW9mZmVyL3NwcmluZ2Jvb3QtbGFkZGVy&#34;&gt;ğŸ”¥SpringBoot Ladder&lt;/span&gt;ï¼šä»é›¶åˆ°ä¸€å­¦ä¹  SpringBoot å„ç§ç»„ä»¶æ¡†æ¶å®æˆ˜çš„é¡¹ç›®ï¼Œè®© Demo å˜å¾—ç®€å•ã€‚å’±ä»¬æ–‡ç« ä¸­çš„ RocketMQ ç¤ºä¾‹ä¹Ÿåœ¨è¿™ä¸ªé¡¹ç›®ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä½¿ç”¨åœºæ™¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½¿ç”¨åœºæ™¯&#34;&gt;#&lt;/a&gt; ä½¿ç”¨åœºæ™¯&lt;/h3&gt;
&lt;h4 id=&#34;å¼‚æ­¥è§£è€¦&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¼‚æ­¥è§£è€¦&#34;&gt;#&lt;/a&gt; &lt;mark&gt;å¼‚æ­¥è§£è€¦&lt;/mark&gt;&lt;/h4&gt;
&lt;p&gt;æœ€å¸¸è§çš„ä¸€ä¸ªåœºæ™¯æ˜¯ç”¨æˆ·æ³¨å†Œåï¼Œéœ€è¦å‘é€æ³¨å†Œé‚®ä»¶å’ŒçŸ­ä¿¡é€šçŸ¥ï¼Œä»¥å‘ŠçŸ¥ç”¨æˆ·æ³¨å†ŒæˆåŠŸã€‚ä¼ ç»Ÿçš„åšæ³•æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š&lt;/p&gt;
&lt;h5 id=&#34;ä¸²è¡Œæ–¹å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸²è¡Œæ–¹å¼&#34;&gt;#&lt;/a&gt; ä¸²è¡Œæ–¹å¼&lt;/h5&gt;
&lt;p&gt;ä¸²è¡Œæ–¹å¼ä¸‹çš„æ³¨å†Œæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/p429262.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ•°æ®æµåŠ¨å¦‚ä¸‹æ‰€è¿°ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ‚¨åœ¨æ³¨å†Œé¡µé¢å¡«å†™è´¦å·å’Œå¯†ç å¹¶æäº¤æ³¨å†Œä¿¡æ¯ï¼Œè¿™äº›æ³¨å†Œä¿¡æ¯é¦–å…ˆä¼šè¢«å†™å…¥æ³¨å†Œç³»ç»Ÿã€‚&lt;/li&gt;
&lt;li&gt;æ³¨å†Œä¿¡æ¯å†™å…¥æ³¨å†Œç³»ç»ŸæˆåŠŸåï¼Œå†å‘é€è¯·æ±‚è‡³é‚®ä»¶é€šçŸ¥ç³»ç»Ÿã€‚é‚®ä»¶é€šçŸ¥ç³»ç»Ÿæ”¶åˆ°è¯·æ±‚åå‘ç”¨æˆ·å‘é€é‚®ä»¶é€šçŸ¥ã€‚&lt;/li&gt;
&lt;li&gt;é‚®ä»¶é€šçŸ¥ç³»ç»Ÿæ¥æ”¶æ³¨å†Œç³»ç»Ÿè¯·æ±‚åå†å‘ä¸‹æ¸¸çš„çŸ­ä¿¡é€šçŸ¥ç³»ç»Ÿå‘é€è¯·æ±‚ã€‚çŸ­ä¿¡é€šçŸ¥ç³»ç»Ÿæ”¶åˆ°è¯·æ±‚åå‘ç”¨æˆ·å‘é€çŸ­ä¿¡é€šçŸ¥ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä»¥ä¸Šä¸‰ä¸ªä»»åŠ¡å…¨éƒ¨å®Œæˆåï¼Œæ‰è¿”å›æ³¨å†Œç»“æœåˆ°å®¢æˆ·ç«¯ï¼Œç”¨æˆ·æ‰èƒ½ä½¿ç”¨è´¦å·ç™»å½•ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æ¯ä¸ªä»»åŠ¡è€—æ—¶åˆ†åˆ«ä¸º 50msï¼Œåˆ™ç”¨æˆ·éœ€è¦åœ¨æ³¨å†Œé¡µé¢ç­‰å¾…æ€»å…± 150ms æ‰èƒ½ç™»å½•ã€‚&lt;/p&gt;
&lt;h5 id=&#34;å¹¶è¡Œæ–¹å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¹¶è¡Œæ–¹å¼&#34;&gt;#&lt;/a&gt; å¹¶è¡Œæ–¹å¼&lt;/h5&gt;
&lt;p&gt;å¹¶è¡Œæ–¹å¼ä¸‹çš„æ³¨å†Œæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/p429331.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ•°æ®æµåŠ¨å¦‚ä¸‹æ‰€è¿°ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç”¨æˆ·åœ¨æ³¨å†Œé¡µé¢å¡«å†™è´¦å·å’Œå¯†ç å¹¶æäº¤æ³¨å†Œä¿¡æ¯ï¼Œè¿™äº›æ³¨å†Œä¿¡æ¯é¦–å…ˆä¼šè¢«å†™å…¥æ³¨å†Œç³»ç»Ÿã€‚&lt;/li&gt;
&lt;li&gt;æ³¨å†Œä¿¡æ¯å†™å…¥æ³¨å†Œç³»ç»ŸæˆåŠŸåï¼Œå†&lt;font color=&#39;red&#39;&gt;åŒæ—¶å‘é€è¯·æ±‚è‡³é‚®ä»¶å’ŒçŸ­ä¿¡é€šçŸ¥ç³»ç»Ÿ&lt;/font&gt;ã€‚é‚®ä»¶å’ŒçŸ­ä¿¡é€šçŸ¥ç³»ç»Ÿæ”¶åˆ°è¯·æ±‚ååˆ†åˆ«å‘ç”¨æˆ·å‘é€é‚®ä»¶å’ŒçŸ­ä¿¡é€šçŸ¥ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä»¥ä¸Šä¸¤ä¸ªä»»åŠ¡å…¨éƒ¨å®Œæˆåï¼Œæ‰è¿”å›æ³¨å†Œç»“æœåˆ°å®¢æˆ·ç«¯ï¼Œç”¨æˆ·æ‰èƒ½ä½¿ç”¨è´¦å·ç™»å½•ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æ¯ä¸ªä»»åŠ¡è€—æ—¶åˆ†åˆ«ä¸º 50msï¼Œå…¶ä¸­ï¼Œé‚®ä»¶å’ŒçŸ­ä¿¡é€šçŸ¥å¹¶è¡Œå®Œæˆï¼Œåˆ™ç”¨æˆ·éœ€è¦åœ¨æ³¨å†Œé¡µé¢ç­‰å¾…æ€»å…± 100ms æ‰èƒ½ç™»å½•ã€‚&lt;/p&gt;
&lt;h5 id=&#34;å¼‚æ­¥è§£è€¦-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¼‚æ­¥è§£è€¦-2&#34;&gt;#&lt;/a&gt; å¼‚æ­¥è§£è€¦&lt;/h5&gt;
&lt;p&gt;å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œæ³¨å†ŒåŠŸèƒ½å®é™…åªéœ€è¦æ³¨å†Œç³»ç»Ÿå­˜å‚¨ç”¨æˆ·çš„è´¦æˆ·ä¿¡æ¯åï¼Œè¯¥ç”¨æˆ·ä¾¿å¯ä»¥ç™»å½•ï¼Œåç»­çš„æ³¨å†ŒçŸ­ä¿¡å’Œé‚®ä»¶ä¸æ˜¯å³æ—¶éœ€è¦å…³æ³¨çš„æ­¥éª¤ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ³¨å†Œç³»ç»Ÿè€Œè¨€ï¼Œå‘é€æ³¨å†ŒæˆåŠŸçš„çŸ­ä¿¡å’Œé‚®ä»¶é€šçŸ¥å¹¶ä¸ä¸€å®šè¦ç»‘å®šåœ¨ä¸€èµ·åŒæ­¥å®Œæˆï¼Œæ‰€ä»¥å®é™…&lt;font color=&#39;red&#39;&gt;å½“æ•°æ®å†™å…¥æ³¨å†Œç³»ç»Ÿåï¼Œæ³¨å†Œç³»ç»Ÿå°±å¯ä»¥æŠŠå…¶ä»–çš„æ“ä½œæ”¾å…¥å¯¹åº”çš„ RocketMQ ä¸­ç„¶åé©¬ä¸Šè¿”å›ç”¨æˆ·ç»“æœï¼Œç”± RocketMQ å¼‚æ­¥åœ°è¿›è¡Œè¿™äº›æ“ä½œ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/p429333.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ•°æ®æµåŠ¨å¦‚ä¸‹æ‰€è¿°ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç”¨æˆ·åœ¨æ³¨å†Œé¡µé¢å¡«å†™è´¦å·å’Œå¯†ç å¹¶æäº¤æ³¨å†Œä¿¡æ¯ï¼Œè¿™äº›æ³¨å†Œä¿¡æ¯é¦–å…ˆä¼šè¢«å†™å…¥æ³¨å†Œç³»ç»Ÿã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æ³¨å†Œä¿¡æ¯å†™å…¥æ³¨å†Œç³»ç»ŸæˆåŠŸåï¼Œå†å‘é€æ¶ˆæ¯è‡³ RocketMQã€‚RocketMQ ä¼šé©¬ä¸Šè¿”å›å“åº”ç»™æ³¨å†Œç³»ç»Ÿï¼Œæ³¨å†Œå®Œæˆã€‚ç”¨æˆ·å¯ç«‹å³ç™»å½•ã€‚&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ä¸‹æ¸¸çš„é‚®ä»¶å’ŒçŸ­ä¿¡é€šçŸ¥ç³»ç»Ÿè®¢é˜… RocketMQ çš„æ­¤ç±»æ³¨å†Œè¯·æ±‚æ¶ˆæ¯&lt;/font&gt;ï¼Œå³å¯å‘ç”¨æˆ·å‘é€é‚®ä»¶å’ŒçŸ­ä¿¡é€šçŸ¥ï¼Œå®Œæˆæ‰€æœ‰çš„æ³¨å†Œæµç¨‹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç”¨æˆ·åªéœ€åœ¨æ³¨å†Œé¡µé¢ç­‰å¾…æ³¨å†Œæ•°æ®å†™å…¥æ³¨å†Œç³»ç»Ÿå’Œ RocketMQ çš„æ—¶é—´ï¼Œå³ç­‰å¾… 55ms å³å¯ç™»å½•ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æµé‡å‰Šå³°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æµé‡å‰Šå³°&#34;&gt;#&lt;/a&gt; &lt;mark&gt;æµé‡å‰Šå³°&lt;/mark&gt;&lt;/h4&gt;
&lt;p&gt;æµé‡å‰Šå³°ä¹Ÿæ˜¯ RocketMQ çš„å¸¸ç”¨åœºæ™¯ï¼Œä¸€èˆ¬åœ¨&lt;font color=&#39;red&#39;&gt;ç§’æ€æˆ–å›¢é˜ŸæŠ¢è´­&lt;/font&gt;æ´»åŠ¨ä¸­ä½¿ç”¨å¹¿æ³›ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç§’æ€æˆ–å›¢é˜ŸæŠ¢è´­æ´»åŠ¨ä¸­ï¼Œç”±äº&lt;font color=&#39;red&#39;&gt;ç”¨æˆ·è¯·æ±‚é‡è¾ƒå¤§&lt;/font&gt;ï¼Œå¯¼è‡´æµé‡æš´å¢ï¼Œç§’æ€çš„åº”ç”¨åœ¨å¤„ç†å¦‚æ­¤å¤§é‡çš„è®¿é—®æµé‡åï¼Œä¸‹æ¸¸çš„é€šçŸ¥ç³»ç»Ÿæ— æ³•æ‰¿è½½æµ·é‡çš„è°ƒç”¨é‡ï¼Œç”šè‡³ä¼šå¯¼è‡´ç³»ç»Ÿå´©æºƒç­‰é—®é¢˜è€Œå‘ç”Ÿæ¼é€šçŸ¥çš„æƒ…å†µã€‚ä¸ºè§£å†³è¿™äº›é—®é¢˜ï¼Œ&lt;font color=&#39;red&#39;&gt;å¯åœ¨åº”ç”¨å’Œä¸‹æ¸¸é€šçŸ¥ç³»ç»Ÿä¹‹é—´åŠ å…¥ RocketMQ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://images-machen.oss-cn-beijing.aliyuncs.com/p429350.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç§’æ€å¤„ç†æµç¨‹å¦‚ä¸‹æ‰€è¿°ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç”¨æˆ·å‘èµ·æµ·é‡ç§’æ€è¯·æ±‚åˆ°ç§’æ€ä¸šåŠ¡å¤„ç†ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;li&gt;ç§’æ€å¤„ç†ç³»ç»ŸæŒ‰ç…§ç§’æ€å¤„ç†é€»è¾‘&lt;font color=&#39;red&#39;&gt;å°†æ»¡è¶³ç§’æ€æ¡ä»¶çš„è¯·æ±‚å‘é€ RocketMQ&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ä¸‹æ¸¸çš„é€šçŸ¥ç³»ç»Ÿè®¢é˜… RocketMQ çš„ç§’æ€ç›¸å…³æ¶ˆæ¯&lt;/font&gt;ï¼Œå†å°†ç§’æ€æˆåŠŸçš„æ¶ˆæ¯å‘é€åˆ°ç›¸åº”ç”¨æˆ·ã€‚&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·æ”¶åˆ°ç§’æ€æˆåŠŸçš„é€šçŸ¥ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;é¡ºåºæ¶ˆæ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¡ºåºæ¶ˆæ¯&#34;&gt;#&lt;/a&gt; é¡ºåºæ¶ˆæ¯&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;è¯¦ç»†è¯·è§ â€œæ¶ˆæ¯ç±»å‹ - é¡ºåºæ¶ˆæ¯â€ å°èŠ‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é¡ºåºæ¶ˆæ¯æ˜¯ RocketMQ æä¾›çš„&lt;strong&gt;ä¸€ç§å¯¹æ¶ˆæ¯å‘é€ã€æ¶ˆè´¹é¡ºåºæœ‰ä¸¥æ ¼è¦æ±‚çš„æ¶ˆæ¯&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;åˆ†å¸ƒå¼æ¨¡ç¼“å­˜åŒæ­¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†å¸ƒå¼æ¨¡ç¼“å­˜åŒæ­¥&#34;&gt;#&lt;/a&gt; åˆ†å¸ƒå¼æ¨¡ç¼“å­˜åŒæ­¥&lt;/h4&gt;
&lt;p&gt;åŒåä¸€å¤§ä¿ƒæ—¶ï¼Œå„ä¸ªåˆ†ä¼šåœºä¼šæœ‰ç³ç…æ»¡ç›®çš„å•†å“ï¼Œæ¯ä»¶å•†å“çš„ä»·æ ¼éƒ½ä¼šå®æ—¶å˜åŒ–ã€‚ä½¿ç”¨ç¼“å­˜æŠ€æœ¯ä¹Ÿæ— æ³•æ»¡è¶³å¯¹å•†å“ä»·æ ¼çš„è®¿é—®éœ€æ±‚ï¼Œç¼“å­˜æœåŠ¡å™¨ç½‘å¡æ»¡è½½ã€‚è®¿é—®è¾ƒå¤šæ¬¡å•†å“ä»·æ ¼æŸ¥è¯¢å½±å“ä¼šåœºé¡µé¢çš„æ‰“å¼€é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶éœ€è¦æä¾›ä¸€ç§å¹¿æ’­æœºåˆ¶ï¼Œä¸€æ¡æ¶ˆæ¯æœ¬æ¥åªå¯ä»¥è¢«é›†ç¾¤çš„ä¸€å°æœºå™¨æ¶ˆè´¹ï¼Œå¦‚æœä½¿ç”¨ RocketMQ çš„&lt;strong&gt;å¹¿æ’­æ¶ˆè´¹æ¨¡å¼&lt;/strong&gt;ï¼Œé‚£ä¹ˆ&lt;font color=&#39;red&#39;&gt;è¿™æ¡æ¶ˆæ¯ä¼šè¢«æ‰€æœ‰èŠ‚ç‚¹æ¶ˆè´¹ä¸€æ¬¡ï¼Œç›¸å½“äºæŠŠä»·æ ¼ä¿¡æ¯åŒæ­¥åˆ°éœ€è¦çš„æ¯å°æœºå™¨ä¸Šï¼Œå–ä»£ç¼“å­˜çš„ä½œç”¨&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/TB1ki7KXgMPMeJjy1XdXXasrXXa-1530-1140.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;åˆ†å¸ƒå¼å®šæ—¶å»¶æ—¶è°ƒåº¦&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†å¸ƒå¼å®šæ—¶å»¶æ—¶è°ƒåº¦&#34;&gt;#&lt;/a&gt; åˆ†å¸ƒå¼å®šæ—¶ / å»¶æ—¶è°ƒåº¦&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;è¯¦ç»†è¯·è§ â€œæ¶ˆæ¯ç±»å‹ - å®šæ—¶æ¶ˆæ¯â€ å°èŠ‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;RocketMQ æä¾›&lt;strong&gt;ç²¾ç¡®åº¦åˆ°ç§’çº§çš„åˆ†å¸ƒå¼å®šæ—¶æ¶ˆæ¯èƒ½åŠ›&lt;/strong&gt;ï¼ˆ5.0 æ¶æ„åï¼‰ï¼Œå¯å¹¿æ³›åº”ç”¨äº&lt;font color=&#39;red&#39;&gt;è®¢å•è¶…æ—¶ä¸­å¿ƒå¤„ç†ã€åˆ†å¸ƒå¼å»¶æ—¶è°ƒåº¦ç³»ç»Ÿ&lt;/font&gt;ç­‰åœºæ™¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ¶ˆæ¯ç±»å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶ˆæ¯ç±»å‹&#34;&gt;#&lt;/a&gt; æ¶ˆæ¯ç±»å‹&lt;/h3&gt;
&lt;h4 id=&#34;æ™®é€šæ¶ˆæ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ™®é€šæ¶ˆæ¯&#34;&gt;#&lt;/a&gt; æ™®é€šæ¶ˆæ¯&lt;/h4&gt;
&lt;p&gt;æ™®é€šæ¶ˆæ¯ä¸€èˆ¬åº”ç”¨äºå¾®æœåŠ¡è§£è€¦ã€äº‹ä»¶é©±åŠ¨ã€æ•°æ®é›†æˆç­‰åœºæ™¯ï¼Œè¿™äº›åœºæ™¯å¤§å¤šæ•°è¦æ±‚æ•°æ®ä¼ è¾“é€šé“å…·æœ‰å¯é çš„ä¼ è¾“èƒ½åŠ›ï¼Œä¸”&lt;font color=&#39;red&#39;&gt;å¯¹æ¶ˆæ¯çš„å¤„ç†æ—¶æœºã€å¤„ç†é¡ºåºæ²¡æœ‰ç‰¹åˆ«è¦æ±‚&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥åœ¨çº¿çš„ç”µå•†äº¤æ˜“åœºæ™¯ä¸ºä¾‹ï¼Œä¸Šæ¸¸è®¢å•ç³»ç»Ÿå°†ç”¨æˆ·ä¸‹å•æ”¯ä»˜è¿™ä¸€ä¸šåŠ¡äº‹ä»¶å°è£…æˆç‹¬ç«‹çš„æ™®é€šæ¶ˆæ¯å¹¶å‘é€è‡³ RocketMQ æœåŠ¡ç«¯ï¼Œä¸‹æ¸¸æŒ‰éœ€ä»æœåŠ¡ç«¯è®¢é˜…æ¶ˆæ¯ï¼Œå¹¶æŒ‰ç…§æœ¬åœ°æ¶ˆè´¹é€»è¾‘å¤„ç†ä¸‹æ¸¸ä»»åŠ¡ã€‚&lt;font color=&#39;red&#39;&gt;æ¯ä¸ªæ¶ˆæ¯ä¹‹é—´éƒ½æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œä¸”ä¸éœ€è¦äº§ç”Ÿå…³è”&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–è¿˜æœ‰æ—¥å¿—ç³»ç»Ÿï¼Œä»¥ç¦»çº¿çš„æ—¥å¿—æ”¶é›†åœºæ™¯ä¸ºä¾‹ï¼Œé€šè¿‡åŸ‹ç‚¹ç»„ä»¶æ”¶é›†å‰ç«¯åº”ç”¨çš„ç›¸å…³æ“ä½œæ—¥å¿—ï¼Œå¹¶è½¬å‘åˆ° RocketMQ ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;æ™®é€šæ¶ˆæ¯çš„ç”Ÿå‘½å‘¨æœŸ&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://rocketmq.apache.org/zh/assets/images/lifecyclefornormal-e8a2a7e42a0722f681eb129b51e1bd66.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;åˆå§‹åŒ–ï¼ˆInitializedï¼‰&lt;/font&gt;ï¼šæ¶ˆæ¯è¢« Producer æ„å»ºå¹¶å®Œæˆåˆå§‹åŒ–ï¼Œ&lt;font color=&#39;red&#39;&gt;å¾…å‘é€åˆ°æœåŠ¡ç«¯&lt;/font&gt;çš„çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å¾…æ¶ˆè´¹ï¼ˆReadyï¼‰&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;æ¶ˆæ¯è¢«å‘é€åˆ°æœåŠ¡ç«¯&lt;/font&gt;ï¼Œå¯¹ Consumer å¯è§ï¼Œç­‰å¾…æ¶ˆè´¹çš„çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æ¶ˆè´¹ä¸­ï¼ˆInflightï¼‰&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;æ¶ˆæ¯è¢« Consumer è·å–&lt;/font&gt;ï¼Œå¹¶æŒ‰ç…§å…¶æœ¬åœ°çš„ä¸šåŠ¡é€»è¾‘è¿›è¡Œå¤„ç†çš„è¿‡ç¨‹ã€‚æ­¤æ—¶æœåŠ¡ç«¯ä¼šç­‰å¾… Consumer å®Œæˆæ¶ˆè´¹å¹¶æäº¤æ¶ˆè´¹ç»“æœï¼Œå¦‚æœä¸€å®šæ—¶é—´åæ²¡æœ‰æ”¶åˆ° Consumer çš„å“åº”ï¼ŒRocketMQ ä¼šå¯¹æ¶ˆæ¯è¿›è¡Œ&lt;font color=&#39;red&#39;&gt;é‡è¯•&lt;/font&gt;å¤„ç†ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æ¶ˆè´¹æäº¤ï¼ˆAckedï¼‰&lt;/font&gt;ï¼šConsumer å®Œæˆæ¶ˆè´¹å¤„ç†ï¼Œå¹¶å‘æœåŠ¡ç«¯æäº¤æ¶ˆè´¹ç»“æœï¼ŒæœåŠ¡ç«¯æ ‡è®°å½“å‰æ¶ˆæ¯å·²ç»è¢«å¤„ç†ï¼ˆåŒ…æ‹¬æ¶ˆè´¹æˆåŠŸå’Œå¤±è´¥ï¼‰ã€‚RocketMQ é»˜è®¤æ”¯æŒä¿ç•™æ‰€æœ‰æ¶ˆæ¯ï¼Œæ­¤æ—¶æ¶ˆæ¯æ•°æ®å¹¶ä¸ä¼šç«‹å³è¢«åˆ é™¤ï¼Œ&lt;font color=&#39;red&#39;&gt;åªæ˜¯é€»è¾‘æ ‡è®°å·²æ¶ˆè´¹&lt;/font&gt;ã€‚æ¶ˆæ¯åœ¨ä¿å­˜æ—¶é—´åˆ°æœŸæˆ–å­˜å‚¨ç©ºé—´ä¸è¶³è¢«åˆ é™¤å‰ï¼Œ&lt;font color=&#39;red&#39;&gt;Consumer ä»ç„¶å¯ä»¥å›æº¯æ¶ˆæ¯ï¼Œé‡æ–°æ¶ˆè´¹&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æ¶ˆæ¯åˆ é™¤ï¼ˆDeletedï¼‰&lt;/font&gt;ï¼šRocketMQ æŒ‰ç…§æ¶ˆæ¯ä¿å­˜æœºåˆ¶æ»šåŠ¨æ¸…ç†æœ€æ—©çš„æ¶ˆæ¯æ•°æ®ï¼Œ&lt;font color=&#39;red&#39;&gt;å°†æ¶ˆæ¯ä»ç‰©ç†æ–‡ä»¶ä¸­åˆ é™¤&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å®šæ—¶æ¶ˆæ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®šæ—¶æ¶ˆæ¯&#34;&gt;#&lt;/a&gt; å®šæ—¶æ¶ˆæ¯&lt;/h4&gt;
&lt;p&gt;åœ¨åˆ†å¸ƒå¼å®šæ—¶è°ƒåº¦è§¦å‘ã€ä»»åŠ¡è¶…æ—¶å¤„ç†ç­‰åœºæ™¯ï¼Œéœ€è¦å®ç°ç²¾å‡†ã€å¯é çš„å®šæ—¶äº‹ä»¶è§¦å‘ã€‚ä½¿ç”¨ RocketMQ çš„å®šæ—¶æ¶ˆæ¯å¯ä»¥&lt;font color=&#39;red&#39;&gt;ç®€åŒ–å®šæ—¶è°ƒåº¦ä»»åŠ¡çš„å¼€å‘é€»è¾‘&lt;/font&gt;ï¼Œå®ç°é«˜æ€§èƒ½ã€å¯æ‰©å±•ã€é«˜å¯é çš„å®šæ—¶è§¦å‘èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å®šæ—¶æ¶ˆæ¯ä»…æ”¯æŒåœ¨ MessageType ä¸º Delay çš„ Topic å†…ä½¿ç”¨&lt;/font&gt;&lt;/strong&gt;ï¼Œå³å®šæ—¶æ¶ˆæ¯åªèƒ½å‘é€è‡³ç±»å‹ä¸ºå®šæ—¶æ¶ˆæ¯çš„ Topic ä¸­ï¼Œå‘é€çš„æ¶ˆæ¯çš„ç±»å‹å¿…é¡»å’Œ Topic çš„ç±»å‹ä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;åŸºäºå®šæ—¶æ¶ˆæ¯çš„è¶…æ—¶ä»»åŠ¡å¤„ç†å…·å¤‡å¦‚ä¸‹ä¼˜åŠ¿ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å®šæ—¶ç²¾åº¦é«˜ã€å¼€å‘é—¨æ§›ä½&lt;/font&gt;ï¼šæ¶ˆæ¯å®šæ—¶æ—¶é—´ä¸å­˜åœ¨é˜¶æ¢¯é—´éš”ï¼Œå¯ä»¥è½»æ¾å®ç°ä»»æ„ç²¾åº¦äº‹ä»¶è§¦å‘ï¼Œæ— éœ€ä¸šåŠ¡å»é‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;é«˜æ€§èƒ½ã€å¯æ‰©å±•&lt;/font&gt;ï¼šä¼ ç»Ÿçš„å®šæ—¶å®ç°æ–¹æ¡ˆè¾ƒä¸ºå¤æ‚ï¼Œéœ€è¦è¿›è¡Œæ•°æ®åº“æ‰«æï¼Œå®¹æ˜“é‡åˆ°æ€§èƒ½ç“¶é¢ˆçš„é—®é¢˜ï¼ŒRocketMQ å¯ä»¥åŸºäºå®šæ—¶æ¶ˆæ¯ç‰¹æ€§å®Œæˆäº‹ä»¶é©±åŠ¨ï¼Œå®ç°ç™¾ä¸‡çº§æ¶ˆæ¯ TPS èƒ½åŠ›ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/p433720.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;å®šæ—¶æ¶ˆæ¯çš„ç”Ÿå‘½å‘¨æœŸ&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/lifecyclefordelay-2ce8278df69cd026dd11ffd27ab09a17.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;åˆå§‹åŒ–ï¼ˆInitializedï¼‰&lt;/font&gt;ï¼šæ¶ˆæ¯è¢«ç”Ÿäº§è€…æ„å»ºå¹¶å®Œæˆåˆå§‹åŒ–ï¼Œå¾…å‘é€åˆ°æœåŠ¡ç«¯çš„çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å®šæ—¶ä¸­ï¼ˆIn timingï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šæ¶ˆæ¯è¢«å‘é€åˆ°æœåŠ¡ç«¯ï¼Œå’Œæ™®é€šæ¶ˆæ¯ä¸åŒçš„æ˜¯ï¼Œ&lt;strong&gt;æœåŠ¡ç«¯ä¸ä¼šç›´æ¥æ„å»ºæ¶ˆæ¯ç´¢å¼•ï¼Œè€Œæ˜¯ä¼šå°†å®šæ—¶æ¶ˆæ¯å•ç‹¬å­˜å‚¨åœ¨å®šæ—¶å­˜å‚¨ç³»ç»Ÿä¸­ï¼Œç­‰å¾…å®šæ—¶æ—¶åˆ»åˆ°è¾¾&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å¾…æ¶ˆè´¹ï¼ˆReadyï¼‰&lt;/font&gt;ï¼š&lt;strong&gt;å®šæ—¶æ—¶åˆ»åˆ°è¾¾åï¼ŒæœåŠ¡ç«¯å°†å®šæ—¶æ¶ˆæ¯é‡æ–°å†™å…¥æ™®é€šå­˜å‚¨å¼•æ“ï¼Œå¯¹ä¸‹æ¸¸æ¶ˆè´¹è€…å¯è§&lt;/strong&gt;ï¼Œç­‰å¾…æ¶ˆè´¹è€…æ¶ˆè´¹çš„çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æ¶ˆè´¹ä¸­ï¼ˆInflightï¼‰&lt;/font&gt;ï¼šæ¶ˆæ¯è¢«æ¶ˆè´¹è€…è·å–ï¼Œå¹¶æŒ‰ç…§æ¶ˆè´¹è€…æœ¬åœ°çš„ä¸šåŠ¡é€»è¾‘è¿›è¡Œå¤„ç†çš„è¿‡ç¨‹ã€‚æ­¤æ—¶æœåŠ¡ç«¯ä¼šç­‰å¾…æ¶ˆè´¹è€…å®Œæˆæ¶ˆè´¹å¹¶æäº¤æ¶ˆè´¹ç»“æœï¼Œå¦‚æœä¸€å®šæ—¶é—´åæ²¡æœ‰æ”¶åˆ°æ¶ˆè´¹è€…çš„å“åº”ï¼ŒRocketMQ ä¼šå¯¹æ¶ˆæ¯è¿›è¡Œé‡è¯•å¤„ç†ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æ¶ˆè´¹æäº¤ï¼ˆAckedï¼‰&lt;/font&gt;ï¼šæ¶ˆè´¹è€…å®Œæˆæ¶ˆè´¹å¤„ç†ï¼Œå¹¶å‘æœåŠ¡ç«¯æäº¤æ¶ˆè´¹ç»“æœï¼ŒæœåŠ¡ç«¯æ ‡è®°å½“å‰æ¶ˆæ¯å·²ç»è¢«å¤„ç†ï¼ˆåŒ…æ‹¬æ¶ˆè´¹æˆåŠŸå’Œå¤±è´¥ï¼‰ã€‚RocketMQ é»˜è®¤æ”¯æŒä¿ç•™æ‰€æœ‰æ¶ˆæ¯ï¼Œæ­¤æ—¶æ¶ˆæ¯æ•°æ®å¹¶ä¸ä¼šç«‹å³è¢«åˆ é™¤ï¼Œåªæ˜¯é€»è¾‘æ ‡è®°å·²æ¶ˆè´¹ã€‚æ¶ˆæ¯åœ¨ä¿å­˜æ—¶é—´åˆ°æœŸæˆ–å­˜å‚¨ç©ºé—´ä¸è¶³è¢«åˆ é™¤å‰ï¼Œæ¶ˆè´¹è€…ä»ç„¶å¯ä»¥å›æº¯æ¶ˆæ¯é‡æ–°æ¶ˆè´¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æ¶ˆæ¯åˆ é™¤ï¼ˆDeletedï¼‰&lt;/font&gt;ï¼šApache RocketMQ æŒ‰ç…§æ¶ˆæ¯ä¿å­˜æœºåˆ¶æ»šåŠ¨æ¸…ç†æœ€æ—©çš„æ¶ˆæ¯æ•°æ®ï¼Œå°†æ¶ˆæ¯ä»ç‰©ç†æ–‡ä»¶ä¸­åˆ é™¤ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å®šæ—¶æ¶ˆæ¯çš„å®ç°é€»è¾‘ï¼šå…ˆç»è¿‡å®šæ—¶å­˜å‚¨ç­‰å¾…è§¦å‘ï¼Œ&lt;font color=&#39;red&#39;&gt;å®šæ—¶æ—¶é—´åˆ°è¾¾åæ‰ä¼šè¢«æŠ•é€’ç»™ Consumer&lt;/font&gt;ã€‚å› æ­¤ï¼Œå¦‚æœå°†å¤§é‡å®šæ—¶æ¶ˆæ¯çš„å®šæ—¶æ—¶é—´è®¾ç½®ä¸ºåŒä¸€æ—¶åˆ»ï¼Œåˆ™åˆ°è¾¾è¯¥æ—¶åˆ»åä¼šæœ‰å¤§é‡æ¶ˆæ¯åŒæ—¶éœ€è¦è¢«å¤„ç†ï¼Œä¼šé€ æˆç³»ç»Ÿå‹åŠ›è¿‡å¤§ï¼Œå¯¼è‡´æ¶ˆæ¯åˆ†å‘å»¶è¿Ÿï¼Œå½±å“å®šæ—¶ç²¾åº¦ã€‚&lt;/p&gt;
&lt;h4 id=&#34;é¡ºåºæ¶ˆæ¯-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¡ºåºæ¶ˆæ¯-2&#34;&gt;#&lt;/a&gt; é¡ºåºæ¶ˆæ¯&lt;/h4&gt;
&lt;p&gt;é¡ºåºæ¶ˆæ¯æ˜¯ RocketMQ æä¾›çš„&lt;strong&gt;ä¸€ç§å¯¹æ¶ˆæ¯å‘é€ã€æ¶ˆè´¹é¡ºåºæœ‰ä¸¥æ ¼è¦æ±‚çš„æ¶ˆæ¯&lt;/strong&gt;ã€‚&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;é¡ºåºæ¶ˆæ¯ä»…æ”¯æŒåœ¨ MessageType ä¸º FIFO çš„ Topic å†…ä½¿ç”¨&lt;/font&gt;&lt;/strong&gt;ï¼Œå¯¹äºä¸€ä¸ªæŒ‡å®šçš„ Topicï¼Œæ¶ˆæ¯ä¸¥æ ¼æŒ‰ç…§&lt;font color=&#39;red&#39;&gt;å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰&lt;/font&gt;çš„åŸåˆ™è¿›è¡Œæ¶ˆæ¯å‘å¸ƒå’Œæ¶ˆè´¹ï¼Œå³å…ˆå‘å¸ƒçš„æ¶ˆæ¯å…ˆæ¶ˆè´¹ï¼Œåå‘å¸ƒçš„æ¶ˆæ¯åæ¶ˆè´¹ã€‚&lt;/p&gt;
&lt;p&gt;é¡ºåºæ¶ˆæ¯åˆ†ä¸ºåˆ†åŒºé¡ºåºæ¶ˆæ¯å’Œå…¨å±€é¡ºåºæ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;åˆ†åŒºé¡ºåºæ¶ˆæ¯&lt;/font&gt;&lt;/strong&gt;ï¼šå¯¹äºæŒ‡å®šçš„ä¸€ä¸ª Topicï¼Œæ‰€æœ‰æ¶ˆæ¯&lt;font color=&#39;red&#39;&gt;æ ¹æ® Sharding Key è¿›è¡ŒåŒºå—åˆ†åŒº&lt;/font&gt;ï¼ŒåŒä¸€ä¸ª Partition å†…çš„æ¶ˆæ¯æŒ‰ç…§ä¸¥æ ¼çš„å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰åŸåˆ™è¿›è¡Œå‘å¸ƒå’Œæ¶ˆè´¹ã€‚&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;åŒä¸€ Partition å†…çš„æ¶ˆæ¯ä¿è¯é¡ºåºï¼Œä¸åŒ Partition ä¹‹é—´çš„æ¶ˆæ¯é¡ºåºä¸åšè¦æ±‚&lt;/font&gt;&lt;/strong&gt;ã€‚
&lt;ul&gt;
&lt;li&gt;é€‚ç”¨åœºæ™¯ï¼šé€‚ç”¨äºæ€§èƒ½è¦æ±‚é«˜ï¼Œä»¥ Sharding Key ä½œä¸ºåˆ†åŒºå­—æ®µï¼Œåœ¨åŒä¸€ä¸ªåŒºå—ä¸­ä¸¥æ ¼åœ°æŒ‰ç…§å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰åŸåˆ™è¿›è¡Œæ¶ˆæ¯å‘å¸ƒå’Œæ¶ˆè´¹çš„åœºæ™¯ã€‚&lt;/li&gt;
&lt;li&gt;ç¤ºä¾‹
&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·æ³¨å†Œéœ€è¦&lt;font color=&#39;red&#39;&gt;å‘é€éªŒè¯ç &lt;/font&gt;ï¼Œä»¥ç”¨æˆ· ID ä½œä¸º Sharding Keyï¼Œé‚£ä¹ˆåŒä¸€ä¸ªç”¨æˆ·å‘é€çš„æ¶ˆæ¯éƒ½ä¼šæŒ‰ç…§å‘å¸ƒçš„å…ˆåé¡ºåºæ¥æ¶ˆè´¹ã€‚&lt;/li&gt;
&lt;li&gt;ç”µå•†çš„&lt;font color=&#39;red&#39;&gt;è®¢å•åˆ›å»º&lt;/font&gt;ï¼Œä»¥è®¢å• ID ä½œä¸º Sharding Keyï¼Œé‚£ä¹ˆåŒä¸€ä¸ªè®¢å•ç›¸å…³çš„åˆ›å»ºè®¢å•æ¶ˆæ¯ã€è®¢å•æ”¯ä»˜æ¶ˆæ¯ã€è®¢å•é€€æ¬¾æ¶ˆæ¯ã€è®¢å•ç‰©æµæ¶ˆæ¯éƒ½ä¼šæŒ‰ç…§å‘å¸ƒçš„å…ˆåé¡ºåºæ¥æ¶ˆè´¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å…¨å±€é¡ºåºæ¶ˆæ¯&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¯¹äºæŒ‡å®šçš„ä¸€ä¸ª Topicï¼Œæ‰€æœ‰æ¶ˆæ¯æŒ‰ç…§ä¸¥æ ¼çš„å…ˆå…¥å…ˆå‡ºï¼ˆFIFOï¼‰çš„é¡ºåºæ¥å‘å¸ƒå’Œæ¶ˆè´¹&lt;/font&gt;&lt;/strong&gt;ã€‚
&lt;ul&gt;
&lt;li&gt;é€‚ç”¨åœºæ™¯ï¼šé€‚ç”¨äºæ€§èƒ½è¦æ±‚ä¸é«˜ï¼Œæ‰€æœ‰çš„æ¶ˆæ¯ä¸¥æ ¼æŒ‰ç…§ FIFO åŸåˆ™æ¥å‘å¸ƒå’Œæ¶ˆè´¹çš„åœºæ™¯ã€‚&lt;/li&gt;
&lt;li&gt;ç¤ºä¾‹ï¼šåœ¨è¯åˆ¸å¤„ç†ä¸­ï¼Œä»¥äººæ°‘å¸å…‘æ¢ç¾å…ƒä¸º Topicï¼Œåœ¨ä»·æ ¼ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œå…ˆå‡ºä»·è€…ä¼˜å…ˆå¤„ç†ï¼Œåˆ™å¯ä»¥æŒ‰ç…§ FIFO çš„æ–¹å¼å‘å¸ƒå’Œæ¶ˆè´¹å…¨å±€é¡ºåºæ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å…¨å±€é¡ºåºæ¶ˆæ¯å®é™…ä¸Šæ˜¯ä¸€ç§ç‰¹æ®Šçš„åˆ†åŒºé¡ºåºæ¶ˆæ¯ï¼Œå³ Topic ä¸­åªæœ‰ä¸€ä¸ªåˆ†åŒº&lt;/font&gt;&lt;/strong&gt;ï¼Œå› æ­¤å…¨å±€é¡ºåºå’Œåˆ†åŒºé¡ºåºçš„å®ç°åŸç†ç›¸åŒã€‚å› ä¸ºåˆ†åŒºé¡ºåºæ¶ˆæ¯æœ‰å¤šä¸ªåˆ†åŒºï¼Œæ‰€ä»¥&lt;font color=&#39;red&#39;&gt;åˆ†åŒºé¡ºåºæ¶ˆæ¯æ¯”å…¨å±€é¡ºåºæ¶ˆæ¯çš„å¹¶å‘åº¦å’Œæ€§èƒ½æ›´é«˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/p326576.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å’Œæ™®é€šæ¶ˆæ¯å‘é€ç›¸æ¯”ï¼Œ&lt;font color=&#39;red&#39;&gt;é¡ºåºæ¶ˆæ¯å‘é€å¿…é¡»è¦è®¾ç½®æ¶ˆæ¯ç»„&lt;/font&gt;ï¼ˆæ¨èå®ç° MessageQueueSelector çš„æ–¹å¼ï¼Œè§ä¸‹æ–‡ï¼‰ã€‚è¦ä¿è¯æ¶ˆæ¯çš„é¡ºåºæ€§éœ€è¦å•ä¸€ Producer ä¸²è¡Œå‘é€ã€‚&lt;/p&gt;
&lt;p&gt;å•çº¿ç¨‹ä½¿ç”¨ MessageListenerConcurrently å¯ä»¥é¡ºåºæ¶ˆè´¹ï¼Œå¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä½¿ç”¨ MessageListenerOrderly æ‰èƒ½é¡ºåºæ¶ˆè´¹ã€‚&lt;/p&gt;
&lt;h4 id=&#34;äº‹åŠ¡æ¶ˆæ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#äº‹åŠ¡æ¶ˆæ¯&#34;&gt;#&lt;/a&gt; äº‹åŠ¡æ¶ˆæ¯&lt;/h4&gt;
&lt;h3 id=&#34;åŸºç¡€æ¦‚å¿µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸºç¡€æ¦‚å¿µ&#34;&gt;#&lt;/a&gt; åŸºç¡€æ¦‚å¿µ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;RocketMQ æ¶ˆæ¯æ¨¡å‹ï¼š&lt;strong&gt;åœ¨ä¸€ä¸ª  &lt;code&gt;Topic&lt;/code&gt;  ä¸­é…ç½®å¤šä¸ª  &lt;code&gt;Queue&lt;/code&gt; ï¼Œå¹¶ä¸”æ¯ä¸ª  &lt;code&gt;Queue&lt;/code&gt;  ç»´æŠ¤æ¯ä¸ª  &lt;code&gt;Consumerç»„&lt;/code&gt;  çš„  &lt;code&gt;offset&lt;/code&gt; ï¼ˆæ¶ˆè´¹ä½ç½®ï¼‰&lt;/strong&gt; å®ç°äº† &lt;strong&gt;ä¸»é¢˜æ¨¡å¼ / å‘å¸ƒè®¢é˜…æ¨¡å¼&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;topic-ä¸»é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#topic-ä¸»é¢˜&#34;&gt;#&lt;/a&gt; Topic ä¸»é¢˜&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;Topic æ˜¯æ¶ˆæ¯ä¼ è¾“å’Œå­˜å‚¨çš„é¡¶å±‚å®¹å™¨ï¼Œç”¨äºæ ‡è¯†åŒä¸€ç±»ä¸šåŠ¡é€»è¾‘çš„æ¶ˆæ¯&lt;/strong&gt;ã€‚Topic çš„ä½œç”¨ä¸»è¦å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®šä¹‰æ•°æ®çš„åˆ†ç±»éš”ç¦»&lt;/strong&gt;ï¼šåœ¨ Apache RocketMQ çš„æ–¹æ¡ˆè®¾è®¡ä¸­ï¼Œ&lt;font color=&#39;red&#39;&gt;å»ºè®®å°†ä¸åŒä¸šåŠ¡ç±»å‹çš„æ•°æ®æ‹†åˆ†åˆ°ä¸åŒçš„ Topic ä¸­ç®¡ç†ï¼Œå®ç°å­˜å‚¨çš„éš”ç¦»æ€§å’Œè®¢é˜…éš”ç¦»æ€§&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®šä¹‰æ•°æ®çš„èº«ä»½å’Œæƒé™&lt;/strong&gt;ï¼šApache RocketMQ çš„æ¶ˆæ¯æœ¬èº«æ˜¯åŒ¿åæ— èº«ä»½çš„&lt;font color=&#39;red&#39;&gt;ï¼ŒåŒä¸€åˆ†ç±»çš„æ¶ˆæ¯ä½¿ç”¨ç›¸åŒçš„ Topic æ¥åšèº«ä»½è¯†åˆ«å’Œæƒé™ç®¡ç†&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/archifortopic-ef512066703a22865613ea9216c4c300.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;queue-é˜Ÿåˆ—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#queue-é˜Ÿåˆ—&#34;&gt;#&lt;/a&gt; Queue é˜Ÿåˆ—&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;ç±»ä¼¼äº **Kafka ä¸­çš„ Partitionï¼ˆåˆ†åŒºï¼‰** è¿™ä¸€æ¦‚å¿µï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Queue æ˜¯æ¶ˆæ¯å­˜å‚¨å’Œä¼ è¾“çš„å®é™…å®¹å™¨ï¼Œä¹Ÿæ˜¯æ¶ˆæ¯çš„æœ€å°å­˜å‚¨å•å…ƒ&lt;/strong&gt;ã€‚&lt;font color=&#39;red&#39;&gt;æ¯ä¸ª Topic éƒ½æ˜¯ç”±å¤šä¸ª Queue ç»„æˆçš„&lt;/font&gt;ï¼Œä»¥æ­¤å®ç° Queue æ•°é‡çš„æ°´å¹³æ‹†åˆ†å’Œ Queue å†…éƒ¨çš„æµå¼å­˜å‚¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/archiforqueue-dd6788b33bf2fc96b4a1dab83a1b0d71.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;message-æ¶ˆæ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#message-æ¶ˆæ¯&#34;&gt;#&lt;/a&gt; Message æ¶ˆæ¯&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;Message æ˜¯æœ€å°æ•°æ®ä¼ è¾“å•å…ƒ&lt;/strong&gt;ã€‚Producer å°†ä¸šåŠ¡æ•°æ®çš„è´Ÿè½½å’Œæ‹“å±•å±æ€§åŒ…è£…æˆ Message å‘é€åˆ° Apache RocketMQ æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æŒ‰ç…§ç›¸å…³è¯­ä¹‰å°† Message æŠ•é€’åˆ°æ¶ˆè´¹ç«¯è¿›è¡Œæ¶ˆè´¹ã€‚&lt;/p&gt;
&lt;h4 id=&#34;producer-ç”Ÿäº§è€…&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#producer-ç”Ÿäº§è€…&#34;&gt;#&lt;/a&gt; Producer ç”Ÿäº§è€…&lt;/h4&gt;
&lt;p&gt;å‘å¸ƒæ¶ˆæ¯çš„è§’è‰²ã€‚&lt;strong&gt;Producer é€šè¿‡ MQ çš„è´Ÿè½½å‡è¡¡æ¨¡å—é€‰æ‹©ç›¸åº”çš„ Broker é›†ç¾¤é˜Ÿåˆ—è¿›è¡Œæ¶ˆæ¯æŠ•é€’ï¼ŒæŠ•é€’çš„è¿‡ç¨‹æ”¯æŒå¿«é€Ÿå¤±è´¥å’Œé‡è¯•&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/archiforproducer-ebb8ff832f6e857cbebc2c17c2044a3b.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;consumer-æ¶ˆè´¹è€…&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#consumer-æ¶ˆè´¹è€…&#34;&gt;#&lt;/a&gt; Consumer æ¶ˆè´¹è€…&lt;/h4&gt;
&lt;p&gt;æ¶ˆæ¯æ¶ˆè´¹çš„è§’è‰²ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ”¯æŒä»¥ ** æ¨ï¼ˆpushï¼‰ã€æ‹‰ï¼ˆpullï¼‰** ä¸¤ç§æ¨¡å¼å¯¹æ¶ˆæ¯è¿›è¡Œæ¶ˆè´¹ã€‚&lt;/li&gt;
&lt;li&gt;åŒæ—¶ä¹Ÿæ”¯æŒ&lt;strong&gt;é›†ç¾¤æ–¹å¼&lt;/strong&gt;å’Œ&lt;strong&gt;å¹¿æ’­æ–¹å¼&lt;/strong&gt;çš„æ¶ˆè´¹ã€‚&lt;/li&gt;
&lt;li&gt;æä¾›&lt;strong&gt;å®æ—¶æ¶ˆæ¯è®¢é˜…æœºåˆ¶&lt;/strong&gt;ï¼Œå¯ä»¥æ»¡è¶³å¤§å¤šæ•°ç”¨æˆ·çš„éœ€æ±‚ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/archiforconsumer-24914573add839fdf2ba2cbc0fcab7c4.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;broker-ä»£ç†æœåŠ¡å™¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#broker-ä»£ç†æœåŠ¡å™¨&#34;&gt;#&lt;/a&gt; &lt;mark&gt;Broker ä»£ç†æœåŠ¡å™¨&lt;/mark&gt;&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;Broker è´Ÿè´£æ¶ˆæ¯çš„å­˜å‚¨ã€æŠ•é€’å’ŒæŸ¥è¯¢ï¼Œå¹¶ä¿è¯æœåŠ¡é«˜å¯ç”¨&lt;/strong&gt;ã€‚å…¶å® Broker å°±æ˜¯ MQ æœåŠ¡å™¨ï¼ŒProducer ç”Ÿäº§æ¶ˆæ¯åˆ° Brokerï¼ŒConsumer ä» Broker æ‹‰å–å¹¶æ¶ˆè´¹æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;Brokerã€Topicã€Queue çš„å…³ç³»&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ª Topic ä¸­å­˜åœ¨å¤šä¸ª Queue&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ª Topic åˆ†å¸ƒåœ¨å¤šä¸ª Broker ä¸Šï¼Œè€Œä¸€ä¸ª Broker å¯ä»¥é…ç½®å¤šä¸ª Topicï¼Œå³ &lt;font color=&#39;red&#39;&gt;Topic å’Œ Broker ä¹‹é—´æ˜¯å¤šå¯¹å¤šçš„å…³ç³»&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœæŸä¸ª Topic æ¶ˆæ¯é‡å¾ˆå¤§ï¼Œåº”è¯¥ç»™å®ƒå¤šé…ç½®å‡ ä¸ª Queue (æé«˜å¹¶å‘èƒ½åŠ›)ï¼Œå¹¶ä¸”&lt;strong&gt;å°½é‡å¤šåˆ†å¸ƒåœ¨ä¸åŒ Broker ä¸Šï¼Œä»¥å‡è½»æŸä¸ª Broker çš„å‹åŠ›&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/16ef38687488a5a4.jpg&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Broker é›†ç¾¤éµä» &lt;strong&gt;Master-Slave æ¶æ„&lt;/strong&gt; ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Broker åˆ†ä¸º Master ä¸ Slave&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ª Master å¯ä»¥å¯¹åº”å¤šä¸ª Slaveï¼Œä½†æ˜¯ä¸€ä¸ª Slave åªèƒ½å¯¹åº”ä¸€ä¸ª Master&lt;/li&gt;
&lt;li&gt;Master ä¸ Slave çš„å¯¹åº”å…³ç³»é€šè¿‡æŒ‡å®šç›¸åŒçš„ BrokerNameï¼Œä¸åŒçš„ BrokerId æ¥å®šä¹‰ï¼Œ&lt;font color=&#39;red&#39;&gt;BrokerId ä¸º 0 è¡¨ç¤º Master&lt;/font&gt;ï¼Œé 0 è¡¨ç¤º Slave&lt;/li&gt;
&lt;li&gt;Master ä¹Ÿå¯ä»¥éƒ¨ç½²å¤šä¸ª&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;nameserver-åå­—æœåŠ¡å™¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#nameserver-åå­—æœåŠ¡å™¨&#34;&gt;#&lt;/a&gt; &lt;mark&gt;NameServer åå­—æœåŠ¡å™¨&lt;/mark&gt;&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸º Broker å’Œ Producerã€Consumer è§£è€¦ï¼Œç±»ä¼¼äº SpringCloud ä¸­çš„ Eureka / Nacos&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;NameServer æ˜¯ä¸€ä¸ªç®€å•çš„ &lt;strong&gt;Broker è·¯ç”±æ³¨å†Œä¸­å¿ƒ&lt;/strong&gt;ï¼Œæ”¯æŒ Broker çš„æ³¨å†Œä¸å‘ç°ï¼Œä¸»è¦æä¾›ä¸¤ä¸ªåŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Broker ç®¡ç†&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;NameServer æ¥å—å¹¶ä¿å­˜ Broker æ‰€æäº¤çš„æ³¨å†Œä¿¡æ¯ï¼Œä½œä¸º Broker è·¯ç”±è¡¨çš„åŸºæœ¬æ•°æ®&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æä¾›å¿ƒè·³æ£€æµ‹æœºåˆ¶ï¼Œæ£€æŸ¥ Broker æ˜¯å¦è¿˜å­˜æ´»&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·¯ç”±ä¿¡æ¯ç®¡ç†&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;æ¯ä¸ª NameServer ä¿å­˜äº†å…³äº Broker é›†ç¾¤çš„æ•´ä¸ªè·¯ç”±ä¿¡æ¯ã€ç”¨äºå®¢æˆ·ç«¯æŸ¥è¯¢çš„ Queue ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;Producer å’Œ Consumer é€šè¿‡ NameServer ä¸­çš„ Broker è·¯ç”±è¡¨å°±å¯ä»¥çŸ¥é“æ•´ä¸ª Broker é›†ç¾¤çš„è·¯ç”±ä¿¡æ¯ï¼Œä»è€Œå’Œå¯¹åº”çš„ Broker è¿›è¡Œæ¶ˆæ¯çš„æŠ•é€’å’Œæ¶ˆè´¹&lt;/font&gt;ï¼ˆProducer å’Œ Consumer å®šæœŸä¼šå‘ NameServer æŸ¥è¯¢ç›¸å…³çš„ Broker ä¿¡æ¯ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;NameServer é€šå¸¸ä¼šæœ‰å¤šä¸ªå®ä¾‹éƒ¨ç½²ï¼Œå„å®ä¾‹é—´ç›¸äº’ä¸è¿›è¡Œä¿¡æ¯é€šè®¯&lt;/font&gt;ã€‚&lt;font color=&#39;red&#39;&gt;Broker å‘æ¯ä¸€å° NameServer æ³¨å†Œè‡ªå·±çš„è·¯ç”±ä¿¡æ¯&lt;/font&gt;ï¼Œæ‰€ä»¥æ¯ä¸€ä¸ª NameServer å®ä¾‹ä¸Šé¢éƒ½ä¿å­˜ä¸€ä»½å®Œæ•´çš„è·¯ç”±ä¿¡æ¯ã€‚å½“æŸä¸ª NameServer å› æŸç§åŸå› ä¸‹çº¿äº†ï¼Œå®¢æˆ·ç«¯ä»ç„¶å¯ä»¥å‘å…¶å®ƒ NameServer è·å–è·¯ç”±ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/16ef386c6d1e8bdb.jpg&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;Producerã€Consumerã€Brokerã€NameServer&lt;/center&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸Šå›¾ä¸­çš„å››ä¸ªè§’è‰²å®é™…ä¸Šéƒ½éœ€è¦åšé›†ç¾¤ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/16ef386fa3be1e53.jpg&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å®˜æ–¹æ¶æ„å›¾&lt;/center&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;Broker&lt;/code&gt;  åšäº†é›†ç¾¤ï¼Œå¹¶ä¸”è¿˜è¿›è¡Œäº†ä¸»ä»éƒ¨ç½²&lt;/strong&gt;ï¼šç”±äºæ¶ˆæ¯åˆ†å¸ƒåœ¨å„ä¸ª  &lt;code&gt;Broker&lt;/code&gt;  ä¸Šï¼Œä¸€æ—¦æŸä¸ª  &lt;code&gt;Broker&lt;/code&gt;  å®•æœºï¼Œåˆ™è¯¥  &lt;code&gt;Broker&lt;/code&gt;  ä¸Šçš„æ¶ˆæ¯è¯»å†™éƒ½ä¼šå—åˆ°å½±å“ã€‚æ‰€ä»¥  &lt;code&gt;RocketMQ&lt;/code&gt;  æä¾›äº†  &lt;code&gt;master/slave&lt;/code&gt;  çš„ç»“æ„ï¼Œ &lt;code&gt;salve&lt;/code&gt;  å®šæ—¶ä»  &lt;code&gt;master&lt;/code&gt;  åŒæ­¥æ•°æ® (åŒæ­¥åˆ·ç›˜æˆ–è€…å¼‚æ­¥åˆ·ç›˜)ï¼Œ&lt;strong&gt;å¦‚æœ  &lt;code&gt;master&lt;/code&gt;  å®•æœºï¼Œåˆ™  &lt;code&gt;slave&lt;/code&gt;  æä¾›æ¶ˆè´¹æœåŠ¡ï¼Œä½†æ˜¯ä¸èƒ½å†™å…¥æ¶ˆæ¯&lt;/strong&gt; (åé¢æˆ‘è¿˜ä¼šæåˆ°å“¦)ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸ºäº†ä¿è¯é«˜å¯ç”¨  &lt;code&gt;HA&lt;/code&gt; ï¼Œ &lt;code&gt;NameServer&lt;/code&gt;  ä¹Ÿåšäº†é›†ç¾¤éƒ¨ç½²ï¼Œä½†å®ƒæ˜¯å»ä¸­å¿ƒåŒ–çš„&lt;/strong&gt;ï¼šæ„å‘³ç€  &lt;code&gt;NameServer&lt;/code&gt;  æ²¡æœ‰ master èŠ‚ç‚¹ï¼Œåœ¨  &lt;code&gt;RocketMQ&lt;/code&gt;  ä¸­æ˜¯é€šè¿‡ &lt;strong&gt;å•ä¸ª Broker å’Œæ‰€æœ‰ NameServer ä¿æŒé•¿è¿æ¥&lt;/strong&gt; ï¼Œå¹¶ä¸”  &lt;code&gt;Broker&lt;/code&gt;  ä¼šå®šæœŸå‘æ‰€æœ‰  &lt;code&gt;Nameserver&lt;/code&gt;  å‘é€å¿ƒè·³ï¼Œå…¶ä¸­åŒ…å«äº†è‡ªèº«çš„  &lt;code&gt;Topic&lt;/code&gt;  é…ç½®ä¿¡æ¯ï¼Œè¿™ä¸ªæ­¥éª¤å°±å¯¹åº”å›¾ä¸­çš„  &lt;code&gt;Routing Info&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨  &lt;code&gt;Producer&lt;/code&gt;  éœ€è¦å‘  &lt;code&gt;Broker&lt;/code&gt;  å‘é€æ¶ˆæ¯çš„æ—¶å€™ï¼Œ&lt;strong&gt;éœ€è¦å…ˆä»  &lt;code&gt;NameServer&lt;/code&gt;  è·å–å…³äº  &lt;code&gt;Broker&lt;/code&gt;  çš„è·¯ç”±ä¿¡æ¯&lt;/strong&gt;ï¼Œç„¶åé€šè¿‡ &lt;strong&gt;è½®è¯¢&lt;/strong&gt; çš„æ–¹å¼å‘æ¯ä¸ª Queue ä¸­ç”Ÿäº§æ•°æ®ï¼Œä»¥è¾¾åˆ°&lt;strong&gt;è´Ÿè½½å‡è¡¡&lt;/strong&gt;çš„æ•ˆæœã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Comsumer&lt;/code&gt;  é€šè¿‡  &lt;code&gt;NameServer&lt;/code&gt;  è·å–æ‰€æœ‰  &lt;code&gt;Broker&lt;/code&gt;  çš„è·¯ç”±ä¿¡æ¯åï¼Œå‘  &lt;code&gt;Broker&lt;/code&gt;  å‘é€  &lt;code&gt;Pull&lt;/code&gt;  è¯·æ±‚æ¥è·å–æ¶ˆæ¯æ•°æ®ã€‚ &lt;code&gt;Consumer&lt;/code&gt;  å¯ä»¥ä»¥ä¸¤ç§æ¨¡å¼å¯åŠ¨ â€”â€” &lt;strong&gt;å¹¿æ’­ï¼ˆBroadcastï¼‰å’Œé›†ç¾¤ï¼ˆClusterï¼‰&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;å¹¿æ’­æ¨¡å¼ä¸‹ï¼Œä¸€æ¡æ¶ˆæ¯ä¼šå‘é€ç»™ &lt;strong&gt;åŒä¸€ä¸ªæ¶ˆè´¹ç»„ä¸­çš„æ‰€æœ‰æ¶ˆè´¹è€…&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;é›†ç¾¤æ¨¡å¼ä¸‹æ¶ˆæ¯åªä¼šå‘é€ç»™ä¸€ä¸ªæ¶ˆè´¹è€…&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;éƒ¨ç½²æ¨¡å‹å°ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#éƒ¨ç½²æ¨¡å‹å°ç»“&#34;&gt;#&lt;/a&gt; éƒ¨ç½²æ¨¡å‹å°ç»“&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ¯ä¸ª Broker ä¸ NameServer é›†ç¾¤ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹å»ºç«‹é•¿è¿æ¥ï¼Œå®šæ—¶å°† Topic ä¿¡æ¯æ³¨å†Œåˆ°æ‰€æœ‰ NameServerã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Producer ä¸ NameServer é›†ç¾¤ä¸­çš„å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹å»ºç«‹é•¿è¿æ¥ï¼Œå®šæœŸä» NameServer è·å– Topic/Broker è·¯ç”±ä¿¡æ¯ã€‚å¹¶å‘æä¾› Topic æœåŠ¡çš„ Broker Master å»ºç«‹é•¿è¿æ¥ï¼Œä¸”å®šæ—¶å‘ Broker Master å‘é€å¿ƒè·³ã€‚Producer å®Œå…¨æ— çŠ¶æ€ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Consumer ä¸ NameServer é›†ç¾¤ä¸­çš„å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹å»ºç«‹é•¿è¿æ¥ï¼Œå®šæœŸä» NameServer è·å– Topic/Broker è·¯ç”±ä¿¡æ¯ï¼Œå¹¶å‘æä¾› Topic æœåŠ¡çš„ Broker Masterã€Broker Slave å»ºç«‹é•¿è¿æ¥ï¼Œä¸”å®šæ—¶å‘ Broker Masterã€Broker Slave å‘é€å¿ƒè·³ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;Consumer æ—¢å¯ä»¥ä» Broker Master è®¢é˜…æ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥ä» Broker Slave è®¢é˜…æ¶ˆæ¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å·¥ä½œåŸç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å·¥ä½œåŸç†&#34;&gt;#&lt;/a&gt; å·¥ä½œåŸç†&lt;/h3&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/p68921.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;1-å¯åŠ¨-nameserver&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#1-å¯åŠ¨-nameserver&#34;&gt;#&lt;/a&gt; 1ã€å¯åŠ¨ NameServer&lt;/h4&gt;
&lt;p&gt;å¯åŠ¨ NameServerã€‚NameServer å¯åŠ¨åç›‘å¬ç«¯å£ï¼Œç­‰å¾… Brokerã€Producerã€Consumer è¿æ¥ï¼Œç›¸å½“äºä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;è·¯ç”±æ§åˆ¶ä¸­å¿ƒ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;2-å¯åŠ¨-broker&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#2-å¯åŠ¨-broker&#34;&gt;#&lt;/a&gt; 2ã€å¯åŠ¨ Broker&lt;/h4&gt;
&lt;p&gt;å¯åŠ¨ Brokerã€‚&lt;font color=&#39;red&#39;&gt;ä¸æ‰€æœ‰ NameServer ä¿æŒé•¿è¿æ¥ï¼Œå®šæ—¶å‘é€å¿ƒè·³åŒ…&lt;/font&gt;ï¼ˆåŒ…å«å½“å‰ Broker ä¿¡æ¯ä»¥åŠå­˜å‚¨çš„æ‰€æœ‰ Topic ä¿¡æ¯ï¼‰ã€‚æ³¨å†ŒæˆåŠŸåï¼ŒNameServer é›†ç¾¤ä¸­å°±æœ‰ Topic è·Ÿ Broker çš„æ˜ å°„å…³ç³»ã€‚&lt;/p&gt;
&lt;h4 id=&#34;3-åˆ›å»º-topic&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#3-åˆ›å»º-topic&#34;&gt;#&lt;/a&gt; 3ã€åˆ›å»º Topic&lt;/h4&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;åˆ›å»º Topic æ—¶éœ€è¦æŒ‡å®šè¯¥ Topic è¦å­˜å‚¨åœ¨å“ªäº› Broker ä¸Š&lt;/font&gt;ï¼Œä¹Ÿå¯ä»¥åœ¨å‘é€æ¶ˆæ¯æ—¶è‡ªåŠ¨åˆ›å»º Topicã€‚&lt;/p&gt;
&lt;h4 id=&#34;4-producer-å‘é€æ¶ˆæ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#4-producer-å‘é€æ¶ˆæ¯&#34;&gt;#&lt;/a&gt; 4ã€Producer å‘é€æ¶ˆæ¯&lt;/h4&gt;
&lt;p&gt;Producer å‘é€æ¶ˆæ¯ã€‚å¯åŠ¨æ—¶å…ˆè·Ÿ NameServer é›†ç¾¤ä¸­çš„å…¶ä¸­ä¸€å°å»ºç«‹é•¿è¿æ¥ï¼Œå¹¶ä» NameServer ä¸­æŸ¥è¯¢å½“å‰å‘é€çš„ Topic å­˜åœ¨äºå“ªäº› Broker ä¸Šï¼Œè½®è¯¢ä»å¯¹åº” Broker ä¸Šçš„ Queue åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ª Queueï¼Œç„¶åä¸è¯¥ Queue æ‰€åœ¨çš„ Broker å»ºç«‹é•¿è¿æ¥ï¼Œä»è€Œå‘ Broker å‘æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;h4 id=&#34;5-consumer-æ¥æ”¶æ¶ˆæ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#5-consumer-æ¥æ”¶æ¶ˆæ¯&#34;&gt;#&lt;/a&gt; 5ã€Consumer æ¥æ”¶æ¶ˆæ¯&lt;/h4&gt;
&lt;p&gt;Consumer æ¥å—æ¶ˆæ¯ã€‚è·Ÿå…¶ä¸­ä¸€å° NameServer å»ºç«‹é•¿è¿æ¥ï¼Œè·å–å½“å‰è®¢é˜… Topic å­˜åœ¨äºå“ªäº› Broker ä¸Šï¼Œç„¶åç›´æ¥è·Ÿ Broker å»ºç«‹è¿æ¥é€šé“ï¼Œç„¶åå¼€å§‹æ¶ˆè´¹æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•æ­£ç¡®å‘é€æ¶ˆæ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•æ­£ç¡®å‘é€æ¶ˆæ¯&#34;&gt;#&lt;/a&gt; å¦‚ä½•æ­£ç¡®å‘é€æ¶ˆæ¯&lt;/h3&gt;
&lt;h4 id=&#34;ä¸å»ºè®®å•ä¸€è¿›ç¨‹åˆ›å»ºå¤§é‡-producer&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸å»ºè®®å•ä¸€è¿›ç¨‹åˆ›å»ºå¤§é‡-producer&#34;&gt;#&lt;/a&gt; ä¸å»ºè®®å•ä¸€è¿›ç¨‹åˆ›å»ºå¤§é‡ Producer&lt;/h4&gt;
&lt;p&gt;Apache RocketMQ çš„ Producer å’Œ Topic æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ï¼Œæ”¯æŒåŒä¸€ä¸ª Producer å‘å¤šä¸ª Topic å‘é€æ¶ˆæ¯ã€‚&lt;font color=&#39;red&#39;&gt;å¯¹äº Producer çš„åˆ›å»ºå’Œåˆå§‹åŒ–ï¼Œå»ºè®®éµå¾ªå¤Ÿç”¨å³å¯ã€æœ€å¤§åŒ–å¤ç”¨åŸåˆ™&lt;/font&gt;ï¼Œå¦‚æœæœ‰éœ€è¦å‘é€æ¶ˆæ¯åˆ°å¤šä¸ª Topic çš„åœºæ™¯ï¼Œæ— éœ€ä¸ºæ¯ä¸ª Topic éƒ½åˆ›å»ºä¸€ä¸ª Producerã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä¸å»ºè®®é¢‘ç¹åˆ›å»ºå’Œé”€æ¯-producer&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸å»ºè®®é¢‘ç¹åˆ›å»ºå’Œé”€æ¯-producer&#34;&gt;#&lt;/a&gt; ä¸å»ºè®®é¢‘ç¹åˆ›å»ºå’Œé”€æ¯ Producer&lt;/h4&gt;
&lt;p&gt;Apache RocketMQ çš„ &lt;font color=&#39;red&#39;&gt;Producer æ˜¯å¯ä»¥é‡å¤åˆ©ç”¨çš„åº•å±‚èµ„æº&lt;/font&gt;ï¼Œç±»ä¼¼æ•°æ®åº“çš„è¿æ¥æ± ã€‚å› æ­¤ä¸éœ€è¦åœ¨æ¯æ¬¡å‘é€æ¶ˆæ¯æ—¶åŠ¨æ€åˆ›å»º Producerï¼Œä¸”åœ¨å‘é€ç»“æŸåé”€æ¯ Producerã€‚è¿™æ ·é¢‘ç¹çš„åˆ›å»ºé”€æ¯ä¼šåœ¨æœåŠ¡ç«¯äº§ç”Ÿå¤§é‡çŸ­è¿æ¥è¯·æ±‚ï¼Œä¸¥é‡å½±å“ç³»ç»Ÿæ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;æ­£ç¡®ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token class-name&#34;&gt;Producer&lt;/span&gt; p &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;ProducerBuilder&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;build&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt; i &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;i&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;n&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;i&lt;span class=&#34;token operator&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;Message&lt;/span&gt; m&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;MessageBuilder&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;build&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    p&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;send&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;m&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;p&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;shutdown&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&#34;consumer-åˆ†ç±»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#consumer-åˆ†ç±»&#34;&gt;#&lt;/a&gt; Consumer åˆ†ç±»&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;PushConsumer&lt;/li&gt;
&lt;li&gt;SimpleConsumer&lt;/li&gt;
&lt;li&gt;PullConsumer&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;producer-å’Œ-consumer-åˆ†ç»„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#producer-å’Œ-consumer-åˆ†ç»„&#34;&gt;#&lt;/a&gt; Producer å’Œ Consumer åˆ†ç»„&lt;/h3&gt;
&lt;h4 id=&#34;producer-åˆ†ç»„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#producer-åˆ†ç»„&#34;&gt;#&lt;/a&gt; Producer åˆ†ç»„&lt;/h4&gt;
&lt;p&gt;RocketMQ æœåŠ¡ç«¯ 5.x ç‰ˆæœ¬å¼€å§‹ï¼Œ&lt;strong&gt;Producer æ˜¯åŒ¿åçš„ï¼Œæ— éœ€ç®¡ç† Producer åˆ†ç»„ï¼ˆProducerGroupï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå†å²ç‰ˆæœ¬æœåŠ¡ç«¯ 3.x å’Œ 4.x ç‰ˆæœ¬ï¼Œå·²ç»ä½¿ç”¨çš„ ProducerGroup å¯ä»¥åºŸå¼ƒæ— éœ€å†è®¾ç½®ï¼Œä¸”ä¸ä¼šå¯¹å½“å‰ä¸šåŠ¡äº§ç”Ÿå½±å“ã€‚&lt;/p&gt;
&lt;h4 id=&#34;consumer-åˆ†ç»„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#consumer-åˆ†ç»„&#34;&gt;#&lt;/a&gt; Consumer åˆ†ç»„&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;Consumer åˆ†ç»„æ˜¯å¤šä¸ªæ¶ˆè´¹è¡Œä¸ºä¸€è‡´çš„ Consumer çš„è´Ÿè½½å‡è¡¡åˆ†ç»„&lt;/strong&gt;ã€‚Consumer  åˆ†ç»„ä¸æ˜¯å…·ä½“å®ä½“è€Œæ˜¯ä¸€ä¸ªé€»è¾‘èµ„æºã€‚é€šè¿‡ Consumer åˆ†ç»„å®ç°æ¶ˆè´¹æ€§èƒ½çš„æ°´å¹³æ‰©å±•ä»¥åŠé«˜å¯ç”¨å®¹ç¾ã€‚&lt;/p&gt;
&lt;p&gt;Consumer åˆ†ç»„ä¸­çš„è®¢é˜…å…³ç³»ã€æŠ•é€’é¡ºåºæ€§ã€æ¶ˆè´¹é‡è¯•ç­–ç•¥æ˜¯ä¸€è‡´çš„ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è®¢é˜…å…³ç³»ï¼šApache RocketMQ ä»¥ Consumer åˆ†ç»„çš„ç²’åº¦ç®¡ç†è®¢é˜…å…³ç³»ï¼Œå®ç°è®¢é˜…å…³ç³»çš„ç®¡ç†å’Œè¿½æº¯ã€‚&lt;/li&gt;
&lt;li&gt;æŠ•é€’é¡ºåºæ€§ï¼šApache RocketMQ çš„æœåŠ¡ç«¯å°†æ¶ˆæ¯æŠ•é€’ç»™ Consumer æ¶ˆè´¹æ—¶ï¼Œæ”¯æŒé¡ºåºæŠ•é€’å’Œå¹¶å‘æŠ•é€’ï¼ŒæŠ•é€’æ–¹å¼åœ¨ Consumer åˆ†ç»„ä¸­ç»Ÿä¸€é…ç½®ã€‚&lt;/li&gt;
&lt;li&gt;æ¶ˆè´¹é‡è¯•ç­–ç•¥ï¼šConsumer æ¶ˆè´¹æ¶ˆæ¯å¤±è´¥æ—¶çš„é‡è¯•ç­–ç•¥ï¼ŒåŒ…æ‹¬é‡è¯•æ¬¡æ•°ã€æ­»ä¿¡é˜Ÿåˆ—è®¾ç½®ç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;RocketMQ æœåŠ¡ç«¯ 5.x ç‰ˆæœ¬ï¼šä¸Šè¿° Consumer çš„æ¶ˆè´¹è¡Œä¸ºä»å…³è”çš„ Consumer åˆ†ç»„ä¸­ç»Ÿä¸€è·å–ï¼Œå› æ­¤åŒä¸€åˆ†ç»„å†…æ‰€æœ‰ Consumer çš„æ¶ˆè´¹è¡Œä¸ºå¿…ç„¶æ˜¯ä¸€è‡´çš„ï¼Œå®¢æˆ·ç«¯æ— éœ€å…³æ³¨ã€‚&lt;/p&gt;
&lt;p&gt;RocketMQ æœåŠ¡ç«¯ 3.x/4.x å†å²ç‰ˆæœ¬ï¼šä¸Šè¿°æ¶ˆè´¹é€»è¾‘ç”±æ¶ˆè´¹è€…å®¢æˆ·ç«¯æ¥å£å®šä¹‰ï¼Œå› æ­¤ï¼Œæ‚¨éœ€è¦è‡ªå·±åœ¨æ¶ˆè´¹è€…å®¢æˆ·ç«¯è®¾ç½®æ—¶ä¿è¯åŒä¸€åˆ†ç»„ä¸‹çš„æ¶ˆè´¹è€…çš„æ¶ˆè´¹è¡Œä¸ºä¸€è‡´ã€‚[æ¥è‡ªå®˜æ–¹ç½‘ç«™]&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•è§£å†³é¡ºåºæ¶ˆè´¹-é‡å¤æ¶ˆè´¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•è§£å†³é¡ºåºæ¶ˆè´¹-é‡å¤æ¶ˆè´¹&#34;&gt;#&lt;/a&gt; å¦‚ä½•è§£å†³é¡ºåºæ¶ˆè´¹ã€é‡å¤æ¶ˆè´¹ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;å…¶å®  &lt;code&gt;RocketMQ&lt;/code&gt;  çš„æ¶æ„åŸºæœ¬å’Œ  &lt;code&gt;Kafka&lt;/code&gt;  ç±»ä¼¼ï¼Œåªä¸è¿‡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;RocketMQ çš„æ³¨å†Œä¸­å¿ƒæ˜¯  &lt;code&gt;NameServer&lt;/code&gt; ï¼Œè€Œ Kafka çš„æ˜¯  &lt;code&gt;Zookeeper&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;RocketMQ çš„ **Queueï¼ˆé˜Ÿåˆ—ï¼‰** ç›¸å½“äºæ˜¯ Kafka çš„ &lt;strong&gt;Partitionï¼ˆåˆ†åŒºï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;é¡ºåºæ¶ˆè´¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¡ºåºæ¶ˆè´¹&#34;&gt;#&lt;/a&gt; é¡ºåºæ¶ˆè´¹&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯ä»¥å‚è€ƒ â€œæ¶ˆæ¯ç±»å‹ - é¡ºåºæ¶ˆæ¯â€ å°èŠ‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;RocketMQ&lt;/code&gt;  åœ¨ Topic ä¸Šæ˜¯æ— åºçš„ã€å®ƒåªæœ‰åœ¨ Queue å±‚é¢æ‰ä¿è¯æœ‰åº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æ™®é€šé¡ºåºï¼ˆåˆ†åŒºé¡ºåºæ¶ˆæ¯ï¼‰&lt;/font&gt;ï¼šå¯¹äºä¸€ä¸ª Topicï¼ŒåŒä¸€ Queue å†…çš„æ¶ˆæ¯ä¿è¯é¡ºåºï¼Œä¸åŒ Queue ä¹‹é—´çš„æ¶ˆæ¯é¡ºåºä¸åšè¦æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ä¸¥æ ¼é¡ºåºï¼ˆå…¨å±€é¡ºåºæ¶ˆæ¯ï¼‰&lt;/font&gt;ï¼šå¯¹äºæŒ‡å®šçš„ä¸€ä¸ª Topicï¼Œæ‰€æœ‰æ¶ˆæ¯æŒ‰ç…§ä¸¥æ ¼çš„å…ˆå…¥å…ˆå‡ºï¼ˆFIFOï¼‰çš„é¡ºåºæ¥å‘å¸ƒå’Œæ¶ˆè´¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸¥æ ¼é¡ºåºçš„ä»£ä»·å·¨å¤§ï¼Œè€Œ MQ ä¸€èˆ¬èƒ½å®¹å¿çŸ­æš‚çš„ä¹±åºï¼Œæ‰€ä»¥&lt;font color=&#39;red&#39;&gt;æ¨èä½¿ç”¨æ™®é€šé¡ºåºæ¨¡å¼ï¼&lt;/font&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;åœ¨ Producer ç”Ÿäº§æ¶ˆæ¯çš„æ—¶å€™ï¼Œä¼šè½®è¯¢åŒä¸€ Topic çš„ä¸åŒ Queue æ¥å‘é€æ¶ˆæ¯ã€‚é‚£ä¹ˆå¦‚æœæ­¤æ—¶æˆ‘æœ‰å‡ ä¸ªæ¶ˆæ¯åˆ†åˆ«æ˜¯åŒä¸€ä¸ªè®¢å•çš„åˆ›å»ºã€æ”¯ä»˜ã€å‘è´§ï¼Œ&lt;font color=&#39;red&#39;&gt;åœ¨è½®è¯¢çš„ç­–ç•¥ä¸‹è¿™&lt;strong&gt;ä¸‰ä¸ªæ¶ˆæ¯ä¼šè¢«å‘é€åˆ°ä¸åŒçš„ Queue&lt;/strong&gt;ï¼Œé‚£ä¹ˆæ­¤æ—¶å°±æ— æ³•ä½¿ç”¨Â  &lt;code&gt;RocketMQ&lt;/code&gt;  çš„é˜Ÿåˆ—æœ‰åºç‰¹æ€§æ¥ä¿è¯æ¶ˆæ¯æœ‰åºæ€§äº†&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/16ef3874585e096e.jpg&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ³•å¾ˆç®€å•ï¼Œ&lt;strong&gt;åªéœ€è¦å°†åŒä¸€è¯­ä¹‰ä¸‹çš„æ¶ˆæ¯æ”¾å…¥åŒä¸€ä¸ªé˜Ÿåˆ—&lt;/strong&gt;ï¼ˆæ¯”å¦‚è¿™é‡Œæ˜¯åŒä¸€ä¸ªè®¢å•)ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ &lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Hash å–æ¨¡æ³•&lt;/font&gt;&lt;/strong&gt; æ¥ä¿è¯åŒä¸€ä¸ªè®¢å•åœ¨åŒä¸€ä¸ªé˜Ÿåˆ—ä¸­å°±è¡Œäº†ã€‚&lt;/p&gt;
&lt;p&gt;RocketMQ å®ç°äº†ä¸¤ç§&lt;font color=&#39;gree&#39;&gt; Queue é€‰æ‹©ç®—æ³•&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;è½®è¯¢ç®—æ³•&lt;/font&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å‘æ¶ˆæ¯æŒ‡å®šçš„ Topic æ‰€åœ¨ Queue ä¸­ä¾æ¬¡å‘é€æ¶ˆæ¯&lt;/font&gt;ï¼Œä¿è¯æ¶ˆæ¯å‡åŒ€åˆ†å¸ƒ&lt;/li&gt;
&lt;li&gt;æ˜¯ RocketMQ &lt;font color=&#39;red&#39;&gt;é»˜è®¤&lt;/font&gt;é˜Ÿåˆ—é€‰æ‹©ç®—æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æœ€å°æŠ•é€’å»¶è¿Ÿç®—æ³•&lt;/font&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ¯æ¬¡æ¶ˆæ¯æŠ•é€’çš„æ—¶å€™ç»Ÿè®¡æ¶ˆæ¯æŠ•é€’çš„å»¶è¿Ÿï¼Œ&lt;font color=&#39;red&#39;&gt;ä¼˜å…ˆé€‰æ‹©æ¶ˆæ¯å»¶æ—¶å°çš„ Queue&lt;/font&gt;ï¼Œå¯¼è‡´æ¶ˆæ¯åˆ†å¸ƒä¸å‡åŒ€ï¼ŒæŒ‰ç…§å¦‚ä¸‹è®¾ç½®å³å¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;producer&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;setSendLatencyFaultEnable&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token boolean&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ç»§æ‰¿  &lt;code&gt;MessageQueueSelector&lt;/code&gt;  å®ç°è‡ªå®šä¹‰çš„é€‰æ‹©ç®—æ³•&lt;/font&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token class-name&#34;&gt;SendResult&lt;/span&gt; sendResult &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; producer&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;send&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;msg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;MessageQueueSelector&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token annotation punctuation&#34;&gt;@Override&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;MessageQueue&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;MessageQueue&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; mqs&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Message&lt;/span&gt; msg&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Object&lt;/span&gt; arg&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ä» mqs ä¸­é€‰æ‹©ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¯ä»¥æ ¹æ® msg ç‰¹ç‚¹é€‰æ‹©&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ç‰¹æ®Šæƒ…å†µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç‰¹æ®Šæƒ…å†µ&#34;&gt;#&lt;/a&gt; ç‰¹æ®Šæƒ…å†µ&lt;/h4&gt;
&lt;h5 id=&#34;å‘é€å¼‚å¸¸&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘é€å¼‚å¸¸&#34;&gt;#&lt;/a&gt; å‘é€å¼‚å¸¸&lt;/h5&gt;
&lt;p&gt;é€‰æ‹© Queue åä¼šä¸ Broker å»ºç«‹è¿æ¥ï¼Œé€šè¿‡ç½‘ç»œè¯·æ±‚å°†æ¶ˆæ¯å‘é€åˆ° Broker ä¸Šï¼Œå¦‚æœ Broker æŒ‚äº†æˆ–è€…ç½‘ç»œæ³¢åŠ¨å‘é€æ¶ˆæ¯è¶…æ—¶ï¼Œæ­¤æ—¶ RocketMQ ä¼šè¿›è¡Œé‡è¯•ã€‚&lt;/p&gt;
&lt;p&gt;é‡æ–°é€‰æ‹©å…¶ä»– Broker ä¸­çš„ Queue è¿›è¡Œå‘é€ï¼Œé»˜è®¤é‡è¯•ä¸¤æ¬¡ï¼Œå¯ä»¥æ‰‹åŠ¨è®¾ç½®ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;producer&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;setRetryTimesWhenSendFailed&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;æ¶ˆæ¯è¿‡å¤§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶ˆæ¯è¿‡å¤§&#34;&gt;#&lt;/a&gt; æ¶ˆæ¯è¿‡å¤§&lt;/h5&gt;
&lt;p&gt;æ¶ˆæ¯è¶…è¿‡ 4k æ—¶ RocketMQ ä¼šå°†æ¶ˆæ¯å‹ç¼©åå†å‘é€åˆ° Broker ä¸Šï¼Œå‡å°‘ç½‘ç»œèµ„æºçš„å ç”¨ã€‚&lt;/p&gt;
&lt;h4 id=&#34;é‡å¤æ¶ˆè´¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é‡å¤æ¶ˆè´¹&#34;&gt;#&lt;/a&gt; é‡å¤æ¶ˆè´¹&lt;/h4&gt;
&lt;p&gt;éœ€æ±‚ï¼šæœ‰ä¸€ä¸ªè®¢å•çš„å¤„ç†ç§¯åˆ†çš„ç³»ç»Ÿ FrancisQï¼Œæ¯å½“æ¥ä¸€ä¸ªæ¶ˆæ¯çš„æ—¶å€™å®ƒå°±è´Ÿè´£ä¸ºåˆ›å»ºè¿™ä¸ªè®¢å•çš„ç”¨æˆ·çš„ç§¯åˆ†åŠ ä¸Šç›¸åº”çš„æ•°å€¼ã€‚å¯æ˜¯æœ‰ä¸€æ¬¡ï¼Œæ¶ˆæ¯é˜Ÿåˆ—å‘é€ç»™è®¢å•ç³»ç»Ÿ FrancisQ çš„è®¢å•ä¿¡æ¯ï¼Œå…¶è¦æ±‚æ˜¯ç»™ FrancisQ çš„ç§¯åˆ†åŠ ä¸Š 500ã€‚ä½†æ˜¯ç§¯åˆ†ç³»ç»Ÿåœ¨æ”¶åˆ° FrancisQ çš„è®¢å•ä¿¡æ¯å¤„ç†å®Œæˆä¹‹åè¿”å›ç»™æ¶ˆæ¯é˜Ÿåˆ—å¤„ç†æˆåŠŸçš„ä¿¡æ¯çš„æ—¶å€™å‡ºç°äº†ç½‘ç»œæ³¢åŠ¨ (å½“ç„¶è¿˜æœ‰å¾ˆå¤šç§æƒ…å†µï¼Œæ¯”å¦‚ Broker æ„å¤–é‡å¯ç­‰ç­‰)ï¼Œè¿™æ¡å›åº”æ²¡æœ‰å‘é€æˆåŠŸã€‚é‚£ä¹ˆï¼Œæ¶ˆæ¯é˜Ÿåˆ—æ²¡æ”¶åˆ°ç§¯åˆ†ç³»ç»Ÿçš„å›åº”ä¼šä¸ä¼šå°è¯•é‡å‘è¿™ä¸ªæ¶ˆæ¯ï¼Ÿé—®é¢˜å°±æ¥äº†ï¼Œæˆ‘å†å‘è¿™ä¸ªæ¶ˆæ¯ï¼Œä¸‡ä¸€å®ƒåˆç»™ FrancisQ çš„è´¦æˆ·åŠ ä¸Š 500 ç§¯åˆ†æ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;è§£å†³æ–¹æ³•ï¼š&lt;strong&gt;è®© Consumer å®ç°å¹‚ç­‰æ ¡éªŒ&lt;/strong&gt;ï¼å³&lt;font color=&#39;red&#39;&gt;å¯¹åŒä¸€ä¸ªæ¶ˆæ¯çš„å¤„ç†ç»“æœï¼Œæ‰§è¡Œå¤šå°‘æ¬¡éƒ½ä¸å˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¹‚ç­‰æ“ä½œçš„ç‰¹ç‚¹ï¼šå…¶æ‰§è¡Œä»»æ„å¤šæ¬¡æ‰€äº§ç”Ÿçš„å½±å“ï¼Œå‡ä¸æ‰§è¡Œä¸€æ¬¡çš„å½±å“ç›¸åŒã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é‚£ä¹ˆå¦‚ä½•ç»™ä¸šåŠ¡å®ç°å¹‚ç­‰å‘¢ï¼Ÿè¿™ä¸ªè¿˜æ˜¯éœ€è¦ç»“åˆå…·ä½“çš„ä¸šåŠ¡çš„ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥ä½¿ç”¨ **&lt;font color=&#39;cornflowerblue&#39;&gt;å†™å…¥  &lt;code&gt;Redis&lt;/code&gt; &lt;/font&gt;** æ¥ä¿è¯ï¼Œå› ä¸º  &lt;code&gt;Redis&lt;/code&gt;  çš„  &lt;code&gt;key&lt;/code&gt;  å’Œ  &lt;code&gt;value&lt;/code&gt;  å°±æ˜¯å¤©ç„¶æ”¯æŒå¹‚ç­‰çš„ã€‚&lt;/li&gt;
&lt;li&gt;å¯ä»¥ä½¿ç”¨ **&lt;font color=&#39;cornflowerblue&#39;&gt;æ•°æ®åº“æ’å…¥æ³•&lt;/font&gt;**ï¼ŒåŸºäºæ•°æ®åº“çš„&lt;font color=&#39;red&#39;&gt;å”¯ä¸€é”®&lt;/font&gt;æ¥ä¿è¯é‡å¤æ•°æ®ä¸ä¼šè¢«æ’å…¥å¤šæ¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éœ€è¦æ ¹æ®ç‰¹å®šåœºæ™¯ä½¿ç”¨ç‰¹å®šçš„è§£å†³æ–¹æ¡ˆï¼Œä½ è¦çŸ¥é“ä½ çš„æ¶ˆæ¯æ¶ˆè´¹æ˜¯å¦æ˜¯å®Œå…¨ä¸å¯é‡å¤æ¶ˆè´¹è¿˜æ˜¯å¯ä»¥å¿å—é‡å¤æ¶ˆè´¹çš„ï¼Œç„¶åå†é€‰æ‹©å¼ºæ ¡éªŒå’Œå¼±æ ¡éªŒçš„æ–¹å¼ã€‚æ¯•ç«Ÿåœ¨ CS é¢†åŸŸè¿˜æ˜¯å¾ˆå°‘æœ‰æŠ€æœ¯é“¶å¼¹çš„è¯´æ³•ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;è€Œåœ¨äº’è”ç½‘é¢†åŸŸï¼Œå¹‚ç­‰ä¸ä»…ä»…é€‚ç”¨äº **&lt;font color=&#39;red&#39;&gt;æ¶ˆæ¯é˜Ÿåˆ—çš„é‡å¤æ¶ˆè´¹é—®é¢˜&lt;/font&gt;&lt;strong&gt;ï¼Œä¹ŸåŒæ ·é€‚ç”¨äºåœ¨å…¶ä»–åœºæ™¯ä¸­æ¥è§£å†³&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;é‡å¤è¯·æ±‚æˆ–è€…é‡å¤è°ƒç”¨çš„é—®é¢˜&lt;/font&gt;**ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯”å¦‚å°† HTTP æœåŠ¡è®¾è®¡æˆå¹‚ç­‰çš„&lt;font color=&#39;red&#39;&gt;è§£å†³å‰ç«¯æˆ–è€… APP é‡å¤æäº¤è¡¨å•æ•°æ®çš„é—®é¢˜&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;å¯ä»¥å°†ä¸€ä¸ªå¾®æœåŠ¡è®¾è®¡æˆå¹‚ç­‰çš„ï¼Œè§£å†³  &lt;code&gt;RPC&lt;/code&gt;  æ¡†æ¶&lt;font color=&#39;red&#39;&gt;è‡ªåŠ¨é‡è¯•å¯¼è‡´çš„é‡å¤è°ƒç”¨é—®é¢˜&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å¦‚ä½•å®ç°åˆ†å¸ƒå¼äº‹åŠ¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•å®ç°åˆ†å¸ƒå¼äº‹åŠ¡&#34;&gt;#&lt;/a&gt; å¦‚ä½•å®ç°åˆ†å¸ƒå¼äº‹åŠ¡ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;äº‹åŠ¡æŒ‡çš„æ˜¯è¦ä¹ˆéƒ½æ‰§è¡Œï¼Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œã€‚åœ¨åˆ†å¸ƒå¼æ¶æ„ä¸­ï¼Œå¾ˆå¤šæœåŠ¡æ˜¯éƒ¨ç½²åœ¨ä¸åŒç³»ç»Ÿä¹‹é—´çš„ï¼Œé‚£ä¹ˆå¦‚ä½•å®ç°åˆ†å¸ƒå¼äº‹åŠ¡å‘¢ï¼Ÿå¸¸è§çš„åˆ†å¸ƒå¼äº‹åŠ¡å®ç°æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;2PCï¼ˆä¸¤é˜¶æ®µæäº¤ï¼‰&lt;/font&gt;ï¼šä¼˜ç‚¹æ˜¯ç®€å•ï¼Œç¼ºç‚¹æ˜¯åŒæ­¥é˜»å¡ã€ä¸­å¿ƒåŒ–é—®é¢˜ã€æ•°æ®ä¸ä¸€è‡´ã€å¤ªè¿‡ä¿å®ˆ...&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;TCCï¼ˆTry Confirm/Cancelï¼‰&lt;/font&gt;ï¼šä¹Ÿæ˜¯ 2PC çš„ä¸€ç§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;äº‹åŠ¡æ¶ˆæ¯ï¼ˆhalf åŠæ¶ˆæ¯æœºåˆ¶ï¼‰&lt;/font&gt;ï¼šRocketMQ æ”¯æŒè¿™ç§ç±»å‹çš„æ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ä¸‰ç§å®ç°éƒ½æœ‰ç‰¹å®šçš„ä½¿ç”¨åœºæ™¯å’Œå„è‡ªçš„å±€é™ï¼Œå¹¶ä¸å®Œç¾ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;RocketMQ ä¸­ä½¿ç”¨çš„æ˜¯&lt;strong&gt;äº‹åŠ¡æ¶ˆæ¯ï¼ˆhalf åŠæ¶ˆæ¯æœºåˆ¶ï¼‰ + äº‹åŠ¡åæŸ¥æœºåˆ¶&lt;/strong&gt;æ¥è§£å†³åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜çš„ï¼Œå¯ä»¥å¯¹ç…§ç€å›¾è¿›è¡Œç†è§£ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/16ef38798d7a987f.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ç¬¬ 1 æ­¥å‘é€çš„ half æ¶ˆæ¯ï¼Œå®ƒçš„æ„æ€æ˜¯&lt;font color=&#39;red&#39;&gt;åœ¨äº‹åŠ¡æäº¤ä¹‹å‰ï¼Œå¯¹äº Consumer æ¥è¯´è¿™ä¸ªæ¶ˆæ¯æ˜¯ä¸å¯è§çš„&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œå¦‚ä½•åšåˆ°å†™å…¥æ¶ˆæ¯ä½†æ˜¯å¯¹ Consumer ä¸å¯è§å‘¢ï¼ŸRocketMQ äº‹åŠ¡æ¶ˆæ¯çš„åšæ³•æ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ¶ˆæ¯æ˜¯ half æ¶ˆæ¯ï¼Œå°†å¤‡ä»½åŸæ¶ˆæ¯çš„ Topic ä¸æ¶ˆæ¯æ¶ˆè´¹é˜Ÿåˆ—&lt;/li&gt;
&lt;li&gt;ç„¶å&lt;strong&gt;æ”¹å˜ Topic ä¸º RMQ_SYS_TRANS_HALF_TOPIC&lt;/strong&gt;ï¼Œç”±äº Consumer æœªè®¢é˜…è¯¥ Topicï¼Œæ•…æ— æ³•æ¶ˆè´¹ half ç±»å‹çš„æ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;li&gt;ç„¶å &lt;strong&gt;RocketMQ ä¼šå¼€å¯ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œä»è¯¥ Topic ä¸­æ‹‰å–æ¶ˆæ¯è¿›è¡Œæ¶ˆè´¹&lt;/strong&gt;ï¼Œæ ¹æ® Producer ç»„è·å–ä¸€ä¸ªæœåŠ¡æä¾›è€…ï¼Œå‘é€å›æŸ¥äº‹åŠ¡çŠ¶æ€è¯·æ±‚ï¼Œæ ¹æ®äº‹åŠ¡çŠ¶æ€æ¥å†³å®šæ˜¯æäº¤æˆ–å›æ»šæ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰ä»ç¬¬ 5 æ­¥å¼€å§‹çš„&lt;font color=&#39;red&#39;&gt;äº‹åŠ¡åæŸ¥æœºåˆ¶&lt;/font&gt;ï¼Œå¦‚æœå‡ºç°ç½‘è·¯æ³¢åŠ¨ç¬¬ 4 æ­¥æ²¡æœ‰å‘é€æˆåŠŸï¼Œè¿™æ ·å°±ä¼šäº§ç”Ÿ MQ ä¸çŸ¥é“æ˜¯ä¸æ˜¯éœ€è¦ç»™ Consumer æ¶ˆè´¹çš„é—®é¢˜ã€‚åœ¨  &lt;code&gt;RocketMQ&lt;/code&gt;  ä¸­å°±æ˜¯ä½¿ç”¨çš„ä¸Šè¿°çš„äº‹åŠ¡åæŸ¥æ¥è§£å†³çš„ï¼Œè€Œåœ¨  &lt;code&gt;Kafka&lt;/code&gt;  ä¸­é€šå¸¸æ˜¯ç›´æ¥æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸è®©ç”¨æˆ·æ¥è‡ªè¡Œè§£å†³ã€‚&lt;/p&gt;
&lt;p&gt;ä½ è¿˜éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ &lt;code&gt;MQ Server&lt;/code&gt;  æŒ‡å‘ç³»ç»Ÿ B çš„æ“ä½œå·²ç»å’Œç³»ç»Ÿ A ä¸ç›¸å…³äº†ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„åˆ†å¸ƒå¼äº‹åŠ¡æ˜¯ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æœ¬åœ°äº‹åŠ¡å’Œå­˜å‚¨æ¶ˆæ¯åˆ°æ¶ˆæ¯é˜Ÿåˆ—æ‰æ˜¯åŒä¸€ä¸ªäº‹åŠ¡&lt;/font&gt;&lt;/strong&gt;ã€‚è¿™æ ·ä¹Ÿå°±äº§ç”Ÿäº†äº‹åŠ¡çš„&lt;font color=&#39;red&#39;&gt;æœ€ç»ˆä¸€è‡´æ€§&lt;/font&gt;ï¼Œå› ä¸ºæ•´ä¸ªè¿‡ç¨‹æ˜¯å¼‚æ­¥çš„ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ¯ä¸ªç³»ç»Ÿåªè¦ä¿è¯å®ƒè‡ªå·±é‚£ä¸€éƒ¨åˆ†çš„äº‹åŠ¡å°±è¡Œäº†&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•è§£å†³æ¶ˆæ¯å †ç§¯é—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•è§£å†³æ¶ˆæ¯å †ç§¯é—®é¢˜&#34;&gt;#&lt;/a&gt; å¦‚ä½•è§£å†³æ¶ˆæ¯å †ç§¯é—®é¢˜ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;åœ¨ä¸Šé¢æˆ‘ä»¬æåˆ°äº†æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸€ä¸ªå¾ˆé‡è¦çš„åŠŸèƒ½ â€”â€”&lt;strong&gt; å‰Šå³°&lt;/strong&gt;ã€‚é‚£ä¹ˆå¦‚æœè¿™ä¸ªå³°å€¼å¤ªå¤§äº†å¯¼è‡´æ¶ˆæ¯å †ç§¯åœ¨é˜Ÿåˆ—ä¸­æ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å…¶å®è¿™ä¸ªé—®é¢˜å¯ä»¥å°†å®ƒå¹¿ä¹‰åŒ–ï¼Œå› ä¸ºäº§ç”Ÿæ¶ˆæ¯å †ç§¯çš„æ ¹æºå…¶å®å°±åªæœ‰ä¸¤ä¸ªï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Producer ç”Ÿäº§å¤ªå¿«ï¼š&lt;strong&gt;é™æµé™çº§&lt;/strong&gt;ï¼Œæˆ–è€…&lt;strong&gt;å¢åŠ  Consumer å®ä¾‹&lt;/strong&gt;ä»¥æ°´å¹³æ‰©å±•æ¶ˆè´¹èƒ½åŠ›ï¼ˆ&lt;font color=&#39;red&#39;&gt;åŒæ—¶è¿˜éœ€è¦å¢åŠ æ¯ä¸ª Topic çš„ Queue æ•°é‡&lt;/font&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åˆ«å¿˜äº†åœ¨  &lt;code&gt;RocketMQ&lt;/code&gt;  ä¸­ï¼Œ&lt;strong&gt;ä¸€ä¸ª Queue åªä¼šè¢«ä¸€ä¸ª Consumer æ¶ˆè´¹&lt;/strong&gt; ï¼Œå¦‚æœä½ ä»…ä»…æ˜¯å¢åŠ  Consumer å®ä¾‹å°±ä¼šå‡ºç°æˆ‘ä¸€å¼€å§‹ç»™ä½ ç”»çš„æ¶æ„å›¾çš„é‚£ç§æƒ…å†µï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/16ef387d939ab66d.jpg&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Consumer æ¶ˆè´¹å¤ªæ…¢ï¼šå…ˆæ£€æŸ¥ &lt;strong&gt;Consumer æ˜¯å¦å‡ºç°äº†å¤§é‡çš„æ¶ˆè´¹é”™è¯¯&lt;/strong&gt;ï¼Œæˆ–è€…æ‰“å°æ—¥å¿—æŸ¥çœ‹æ˜¯å¦æœ‰å“ªä¸€ä¸ªçº¿ç¨‹å¡æ­»ï¼Œå¯¼è‡´äº†é”èµ„æºä¸é‡Šæ”¾ç­‰é—®é¢˜ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å›æº¯æ¶ˆè´¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å›æº¯æ¶ˆè´¹&#34;&gt;#&lt;/a&gt; å›æº¯æ¶ˆè´¹&lt;/h3&gt;
&lt;p&gt;å›æº¯æ¶ˆè´¹æ˜¯æŒ‡  &lt;code&gt;Consumer&lt;/code&gt;  å·²ç»æ¶ˆè´¹æˆåŠŸçš„æ¶ˆæ¯ï¼Œç”±äºä¸šåŠ¡ä¸Šéœ€æ±‚éœ€è¦é‡æ–°æ¶ˆè´¹ã€‚åœ¨  &lt;code&gt;RocketMQ&lt;/code&gt;  ä¸­ï¼Œ &lt;code&gt;Broker&lt;/code&gt;  åœ¨å‘  &lt;code&gt;Consumer&lt;/code&gt;  æŠ•é€’æˆåŠŸæ¶ˆæ¯åï¼Œ&lt;font color=&#39;red&#39;&gt;æ¶ˆæ¯ä»ç„¶éœ€è¦ä¿ç•™&lt;/font&gt;ã€‚å¹¶ä¸”é‡æ–°æ¶ˆè´¹ä¸€èˆ¬æ˜¯æŒ‰ç…§æ—¶é—´ç»´åº¦ï¼Œä¾‹å¦‚ç”±äº  &lt;code&gt;Consumer&lt;/code&gt;  ç³»ç»Ÿæ•…éšœï¼Œæ¢å¤åéœ€è¦é‡æ–°æ¶ˆè´¹ 1 å°æ—¶å‰çš„æ•°æ®ï¼Œé‚£ä¹ˆ  &lt;code&gt;Broker&lt;/code&gt;  è¦æä¾›ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥æŒ‰ç…§æ—¶é—´ç»´åº¦æ¥å›é€€æ¶ˆè´¹è¿›åº¦ã€‚ &lt;code&gt;RocketMQ&lt;/code&gt;  æ”¯æŒæŒ‰ç…§æ—¶é—´å›æº¯æ¶ˆè´¹ï¼Œæ—¶é—´ç»´åº¦ç²¾ç¡®åˆ°æ¯«ç§’ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•ä¿è¯é«˜æ€§èƒ½è¯»å†™&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•ä¿è¯é«˜æ€§èƒ½è¯»å†™&#34;&gt;#&lt;/a&gt; å¦‚ä½•ä¿è¯é«˜æ€§èƒ½è¯»å†™ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯å‚è€ƒ â€œJava IO - IO æ¨¡å‹ - NIOâ€ å°èŠ‚ï¼Œç•¥äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;ä¼ ç»Ÿ IO æ–¹å¼ï¼šå³  &lt;code&gt;read + write&lt;/code&gt; ï¼Œæ•´ä¸ªè¿‡ç¨‹ä¼šå‘ç”Ÿ 4 æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œ 4 æ¬¡æ•°æ®çš„æ‹·è´ï¼Œè¿™åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ä¼šä¸¥é‡å½±å“è¯»å†™æ€§èƒ½ï¼Œæ•…å¼•å…¥äº†é›¶æ‹·è´æŠ€æœ¯ã€‚
&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·è°ƒç”¨ read () æ–¹æ³•ï¼Œå¼€å§‹è¯»å–æ•°æ®ï¼Œæ­¤æ—¶å‘ç”Ÿä¸€æ¬¡ä¸Šä¸‹æ–‡ä»ç”¨æˆ·æ€åˆ°å†…æ ¸æ€çš„åˆ‡æ¢ï¼Œä¹Ÿå°±æ˜¯å›¾ç¤ºçš„åˆ‡æ¢ 1&lt;/li&gt;
&lt;li&gt;å°†ç£ç›˜æ•°æ®é€šè¿‡ DMA æ‹·è´åˆ°å†…æ ¸ç¼“å­˜åŒº&lt;/li&gt;
&lt;li&gt;å°†å†…æ ¸ç¼“å­˜åŒºçš„æ•°æ®æ‹·è´åˆ°ç”¨æˆ·ç¼“å†²åŒºï¼Œè¿™æ ·ç”¨æˆ·ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å†™çš„ä»£ç å°±èƒ½æ‹¿åˆ°æ–‡ä»¶çš„æ•°æ®&lt;/li&gt;
&lt;li&gt;read () æ–¹æ³•è¿”å›ï¼Œæ­¤æ—¶å°±ä¼šä»å†…æ ¸æ€åˆ‡æ¢åˆ°ç”¨æˆ·æ€ï¼Œä¹Ÿå°±æ˜¯å›¾ç¤ºçš„åˆ‡æ¢ 2&lt;/li&gt;
&lt;li&gt;å½“æˆ‘ä»¬æ‹¿åˆ°æ•°æ®ä¹‹åï¼Œå°±å¯ä»¥è°ƒç”¨ write () æ–¹æ³•ï¼Œæ­¤æ—¶ä¸Šä¸‹æ–‡ä¼šä»ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€ï¼Œå³å›¾ç¤ºåˆ‡æ¢ 3&lt;/li&gt;
&lt;li&gt;CPU å°†ç”¨æˆ·ç¼“å†²åŒºçš„æ•°æ®æ‹·è´åˆ° Socket ç¼“å†²åŒº&lt;/li&gt;
&lt;li&gt;å°† Socket ç¼“å†²åŒºæ•°æ®æ‹·è´è‡³ç½‘å¡&lt;/li&gt;
&lt;li&gt;write () æ–¹æ³•è¿”å›ï¼Œä¸Šä¸‹æ–‡é‡æ–°ä»å†…æ ¸æ€åˆ‡æ¢åˆ°ç”¨æˆ·æ€ï¼Œå³å›¾ç¤ºåˆ‡æ¢ 4&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é›¶æ‹·è´æŠ€æœ¯
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;mmap&lt;/code&gt; ï¼š&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sendfile&lt;/code&gt; ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åˆ·ç›˜æœºåˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ·ç›˜æœºåˆ¶&#34;&gt;#&lt;/a&gt; åˆ·ç›˜æœºåˆ¶&lt;/h3&gt;
&lt;h4 id=&#34;åŒæ­¥åˆ·ç›˜-å¼‚æ­¥åˆ·ç›˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŒæ­¥åˆ·ç›˜-å¼‚æ­¥åˆ·ç›˜&#34;&gt;#&lt;/a&gt; åŒæ­¥åˆ·ç›˜ã€å¼‚æ­¥åˆ·ç›˜&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨å•ä¸ªèŠ‚ç‚¹å±‚é¢&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/16ef387fba311cda-20230814005009889.jpg&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;åŒæ­¥åˆ·ç›˜&lt;/font&gt;ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;éœ€è¦ç­‰å¾…ä¸€ä¸ªåˆ·ç›˜æˆåŠŸçš„  &lt;code&gt;ACK&lt;/code&gt; &lt;/font&gt;&lt;/strong&gt; ï¼Œå¯¹&lt;font color=&#39;red&#39;&gt;æ¶ˆæ¯å¯é æ€§&lt;/font&gt;æ¥è¯´æ˜¯ä¸€ç§ä¸é”™çš„ä¿éšœï¼Œä½†æ˜¯&lt;font color=&#39;red&#39;&gt;æ€§èƒ½ä¸Šä¼šæœ‰è¾ƒå¤§å½±å“&lt;/font&gt;ï¼Œä¸€èˆ¬é€‚ç”¨äºé‡‘èç­‰ç‰¹å®šä¸šåŠ¡åœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å¼‚æ­¥åˆ·ç›˜&lt;/font&gt;ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¼€å¯ä¸€ä¸ªçº¿ç¨‹å»å¼‚æ­¥åœ°æ‰§è¡Œåˆ·ç›˜æ“ä½œ&lt;/font&gt;&lt;/strong&gt;ã€‚æ¶ˆæ¯åˆ·ç›˜é‡‡ç”¨åå°å¼‚æ­¥çº¿ç¨‹æäº¤çš„æ–¹å¼è¿›è¡Œï¼Œ&lt;font color=&#39;red&#39;&gt;é™ä½äº†è¯»å†™å»¶è¿Ÿ&lt;/font&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;æé«˜äº†  &lt;code&gt;MQ&lt;/code&gt;  çš„æ€§èƒ½å’Œååé‡&lt;/font&gt;ï¼Œä¸€èˆ¬é€‚ç”¨äºå¦‚å‘éªŒè¯ç ç­‰&lt;font color=&#39;red&#39;&gt;å¯¹äºæ¶ˆæ¯ä¿è¯è¦æ±‚ä¸å¤ªé«˜&lt;/font&gt;çš„ä¸šåŠ¡åœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬åœ°ï¼Œ&lt;strong&gt;å¼‚æ­¥åˆ·ç›˜åªæœ‰åœ¨  &lt;code&gt;Broker&lt;/code&gt;  æ„å¤–å®•æœºçš„æ—¶å€™ä¼šä¸¢å¤±éƒ¨åˆ†æ•°æ®&lt;/strong&gt;ï¼Œä½ å¯ä»¥è®¾ç½®  &lt;code&gt;Broker&lt;/code&gt;  çš„å‚æ•°  &lt;code&gt;FlushDiskType&lt;/code&gt;  æ¥è°ƒæ•´ä½ çš„åˆ·ç›˜ç­–ç•¥ (ASYNC_FLUSH æˆ–è€… SYNC_FLUSH)ã€‚&lt;/p&gt;
&lt;h4 id=&#34;åŒæ­¥å¤åˆ¶-å¼‚æ­¥å¤åˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŒæ­¥å¤åˆ¶-å¼‚æ­¥å¤åˆ¶&#34;&gt;#&lt;/a&gt; åŒæ­¥å¤åˆ¶ã€å¼‚æ­¥å¤åˆ¶&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ Broker ä¸»ä»æ¨¡å¼ä¸‹ï¼Œmaster è¿”å›æ¶ˆæ¯ç»™å®¢æˆ·ç«¯æ—¶æ˜¯å¦éœ€è¦åŒæ­¥ slave&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;åŒæ­¥å¤åˆ¶&lt;/font&gt;ï¼šä¹Ÿå« â€œåŒæ­¥åŒå†™â€ï¼Œå³&lt;strong&gt;åªæœ‰æ¶ˆæ¯åŒæ­¥åŒå†™åˆ°ä¸»ä»èŠ‚ç‚¹ä¸Šæ—¶ï¼Œæ‰è¿”å›å†™å…¥æˆåŠŸ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å¼‚æ­¥å¤åˆ¶&lt;/font&gt;ï¼š&lt;strong&gt;æ¶ˆæ¯å†™å…¥ä¸»èŠ‚ç‚¹ä¹‹åï¼Œç›´æ¥è¿”å›å†™å…¥æˆåŠŸ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œå¾ˆå¤šäº‹æƒ…æ˜¯æ²¡æœ‰å®Œç¾çš„æ–¹æ¡ˆçš„ï¼Œå°±æ¯”å¦‚æˆ‘ä»¬è¿›è¡Œæ¶ˆæ¯å†™å…¥çš„èŠ‚ç‚¹è¶Šå¤šå°±æ›´èƒ½ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ï¼Œä½†æ˜¯éšä¹‹çš„æ€§èƒ½ä¹Ÿä¼šä¸‹é™ï¼Œæ‰€ä»¥éœ€è¦ç¨‹åºå‘˜æ ¹æ®ç‰¹å®šä¸šåŠ¡åœºæ™¯å»é€‰æ‹©é€‚åº”çš„ä¸»ä»å¤åˆ¶æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¼‚æ­¥å¤åˆ¶ä¸ä¼šåƒå¼‚æ­¥åˆ·ç›˜é‚£æ ·å½±å“æ¶ˆæ¯çš„å¯é æ€§&lt;/font&gt;ï¼Œå› ä¸ºä¸¤è€…æ˜¯ä¸åŒçš„æ¦‚å¿µï¼Œå¯¹äºæ¶ˆæ¯å¯é æ€§æ˜¯é€šè¿‡ä¸åŒçš„åˆ·ç›˜ç­–ç•¥ä¿è¯çš„ï¼Œè€Œåƒå¼‚æ­¥åŒæ­¥å¤åˆ¶ç­–ç•¥&lt;font color=&#39;red&#39;&gt;ä»…ä»…æ˜¯å½±å“åˆ°äº†å¯ç”¨æ€§&lt;/font&gt;ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå…¶ä¸»è¦åŸå› æ˜¯ &lt;strong&gt; &lt;code&gt;RocketMQ&lt;/code&gt;  æ˜¯ä¸æ”¯æŒè‡ªåŠ¨ä¸»ä»åˆ‡æ¢çš„ï¼Œå½“ master èŠ‚ç‚¹æŒ‚æ‰ä¹‹åï¼ŒProducer å°±ä¸èƒ½å†ç»™è¿™ä¸ª master èŠ‚ç‚¹ç”Ÿäº§æ¶ˆæ¯äº†&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚è¿™ä¸ªæ—¶å€™é‡‡ç”¨å¼‚æ­¥å¤åˆ¶çš„æ–¹å¼ï¼Œåœ¨ä¸»èŠ‚ç‚¹è¿˜æœªå‘é€å®Œéœ€è¦åŒæ­¥çš„æ¶ˆæ¯çš„æ—¶å€™ä¸»èŠ‚ç‚¹æŒ‚æ‰äº†ï¼Œè¿™ä¸ªæ—¶å€™ä»èŠ‚ç‚¹å°±å°‘äº†ä¸€éƒ¨åˆ†æ¶ˆæ¯ã€‚ä½†æ˜¯æ­¤æ—¶ç”Ÿäº§è€…æ— æ³•å†ç»™ä¸»èŠ‚ç‚¹ç”Ÿäº§æ¶ˆæ¯äº†ï¼Œ&lt;strong&gt;æ¶ˆè´¹è€…å¯ä»¥è‡ªåŠ¨åˆ‡æ¢åˆ°ä»èŠ‚ç‚¹è¿›è¡Œæ¶ˆè´¹&lt;/strong&gt; (ä»…ä»…æ˜¯æ¶ˆè´¹)ï¼Œæ‰€ä»¥åœ¨ä¸»èŠ‚ç‚¹æŒ‚æ‰çš„æ—¶é—´åªä¼šäº§ç”Ÿä¸»ä»ç»“ç‚¹çŸ­æš‚çš„æ¶ˆæ¯ä¸ä¸€è‡´çš„æƒ…å†µï¼Œé™ä½äº†å¯ç”¨æ€§ï¼Œè€Œå½“ä¸»èŠ‚ç‚¹é‡å¯ä¹‹åï¼Œä»èŠ‚ç‚¹é‚£éƒ¨åˆ†æœªæ¥å¾—åŠå¤åˆ¶çš„æ¶ˆæ¯è¿˜ä¼šç»§ç»­å¤åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å•ä¸»ä»æ¶æ„ä¸­ï¼Œå¦‚æœä¸€ä¸ªä¸»èŠ‚ç‚¹æŒ‚æ‰äº†ï¼Œé‚£ä¹ˆä¹Ÿå°±æ„å‘³ç€æ•´ä¸ªç³»ç»Ÿä¸èƒ½å†ç”Ÿäº§äº†ã€‚é‚£ä¹ˆè¿™ä¸ªå¯ç”¨æ€§çš„é—®é¢˜èƒ½å¦è§£å†³å‘¢ï¼Ÿ&lt;strong&gt;ä¸€ä¸ªä¸»ä»ä¸è¡Œé‚£å°±å¤šä¸ªä¸»ä»çš„å‘—&lt;/strong&gt;ï¼Œåˆ«å¿˜äº†åœ¨æˆ‘ä»¬æœ€åˆçš„æ¶æ„å›¾ä¸­ï¼Œæ¯ä¸ª  &lt;code&gt;Topic&lt;/code&gt;  æ˜¯åˆ†å¸ƒåœ¨ä¸åŒ  &lt;code&gt;Broker&lt;/code&gt;  ä¸­çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/16ef38687488a5asadasfg4.jpg&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿™ç§å¤åˆ¶æ–¹å¼åŒæ ·ä¹Ÿä¼šå¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯æ— æ³•ä¿è¯ &lt;strong&gt;ä¸¥æ ¼é¡ºåº&lt;/strong&gt; ã€‚åœ¨ä¸Šæ–‡ä¸­æˆ‘ä»¬æåˆ°äº†å¦‚ä½•ä¿è¯çš„æ¶ˆæ¯é¡ºåºæ€§æ˜¯é€šè¿‡å°†ä¸€ä¸ªè¯­ä¹‰çš„æ¶ˆæ¯å‘é€åœ¨åŒä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œä½¿ç”¨  &lt;code&gt;Topic&lt;/code&gt;  ä¸‹çš„é˜Ÿåˆ—æ¥ä¿è¯é¡ºåºæ€§çš„ã€‚å¦‚æœæ­¤æ—¶æˆ‘ä»¬ä¸»èŠ‚ç‚¹ A è´Ÿè´£çš„æ˜¯è®¢å• A çš„ä¸€ç³»åˆ—è¯­ä¹‰æ¶ˆæ¯ï¼Œç„¶åå®ƒæŒ‚äº†ï¼Œè¿™æ ·å…¶ä»–èŠ‚ç‚¹æ˜¯æ— æ³•ä»£æ›¿ä¸»èŠ‚ç‚¹ A çš„ï¼Œå¦‚æœæˆ‘ä»¬ä»»æ„èŠ‚ç‚¹éƒ½å¯ä»¥å­˜å…¥ä»»ä½•æ¶ˆæ¯ï¼Œé‚£å°±æ²¡æœ‰é¡ºåºæ€§å¯è¨€äº†ã€‚&lt;/p&gt;
&lt;p&gt;è€Œåœ¨  &lt;code&gt;RocketMQ&lt;/code&gt;  ä¸­é‡‡ç”¨äº†  &lt;code&gt;Dledger&lt;/code&gt;  è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä»–è¦æ±‚åœ¨å†™å…¥æ¶ˆæ¯çš„æ—¶å€™ï¼Œè¦æ±‚&lt;strong&gt;è‡³å°‘æ¶ˆæ¯å¤åˆ¶åˆ°åŠæ•°ä»¥ä¸Šçš„èŠ‚ç‚¹ä¹‹å&lt;/strong&gt;ï¼Œæ‰ç»™å®¢â¼¾ç«¯è¿”å›å†™â¼ŠæˆåŠŸï¼Œå¹¶ä¸”å®ƒæ˜¯â½€æŒé€šè¿‡é€‰ä¸¾æ¥åŠ¨æ€åˆ‡æ¢ä¸»èŠ‚ç‚¹çš„ã€‚è¿™é‡Œæˆ‘å°±ä¸å±•å¼€è¯´æ˜äº†ï¼Œè¯»è€…å¯ä»¥è‡ªå·±å»äº†è§£ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¹Ÿä¸æ˜¯è¯´  &lt;code&gt;Dledger&lt;/code&gt;  æ˜¯ä¸ªå®Œç¾çš„æ–¹æ¡ˆï¼Œè‡³å°‘åœ¨  &lt;code&gt;Dledger&lt;/code&gt;  é€‰ä¸¾è¿‡ç¨‹ä¸­æ˜¯æ— æ³•æä¾›æœåŠ¡çš„ï¼Œè€Œä¸”ä»–å¿…é¡»è¦ä½¿ç”¨ä¸‰ä¸ªèŠ‚ç‚¹æˆ–ä»¥ä¸Šï¼Œå¦‚æœå¤šæ•°èŠ‚ç‚¹åŒæ—¶æŒ‚æ‰ä»–ä¹Ÿæ˜¯æ— æ³•ä¿è¯å¯ç”¨æ€§çš„ï¼Œè€Œä¸”è¦æ±‚æ¶ˆæ¯å¤åˆ¶åŠæ•°ä»¥ä¸ŠèŠ‚ç‚¹çš„æ•ˆç‡å’Œç›´æ¥å¼‚æ­¥å¤åˆ¶è¿˜æ˜¯æœ‰ä¸€å®šçš„å·®è·çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;å­˜å‚¨æœºåˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å­˜å‚¨æœºåˆ¶&#34;&gt;#&lt;/a&gt; å­˜å‚¨æœºåˆ¶&lt;/h4&gt;
&lt;h3 id=&#34;åŠ¨æ‰‹å‘ä¸€æ¡æ¶ˆæ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŠ¨æ‰‹å‘ä¸€æ¡æ¶ˆæ¯&#34;&gt;#&lt;/a&gt; åŠ¨æ‰‹å‘ä¸€æ¡æ¶ˆæ¯&lt;/h3&gt;
&lt;h4 id=&#34;1-å¯åŠ¨-rocketmq&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#1-å¯åŠ¨-rocketmq&#34;&gt;#&lt;/a&gt; 1ã€å¯åŠ¨ RocketMQ&lt;/h4&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;å®‰è£… NameServer&lt;/font&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;-d&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;9876&lt;/span&gt;:9876 &lt;span class=&#34;token parameter variable&#34;&gt;--name&lt;/span&gt; rmqnamesrv foxiswho/rocketmq:server-4.5.1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;å®‰è£… Broker&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;1ï¼‰æ–°å»ºé…ç½®ç›®å½•ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯ Windows éœ€è¦æ›¿æ¢ä¸º Windows çš„ç”µè„‘è·¯å¾„ï¼Œå’Œ Linux è¿˜æ˜¯æœ‰ç‚¹å·®å¼‚ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$&amp;#123;&lt;span class=&#34;token environment constant&#34;&gt;HOME&lt;/span&gt;&amp;#125;&lt;/span&gt;/docker/software/rocketmq/conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;2ï¼‰æ–°å»ºé…ç½®æ–‡ä»¶ broker.confã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;brokerClusterName &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; DefaultCluster&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;brokerName &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; broker-a&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;brokerId &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;deleteWhen &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; 04&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;fileReservedTime &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;48&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;brokerRole &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; ASYNC_MASTER&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;flushDiskType &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; ASYNC_FLUSH&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ­¤å¤„ä¸ºæœ¬åœ° ip, å¦‚æœéƒ¨ç½²æœåŠ¡å™¨ï¼Œéœ€è¦å¡«å†™æœåŠ¡å™¨å¤–ç½‘ ip&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;brokerIP1 &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; xx.xx.xx.xx&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;3ï¼‰åˆ›å»ºå®¹å™¨ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;-d&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;10911&lt;/span&gt;:10911 &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;10909&lt;/span&gt;:10909 &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;--name&lt;/span&gt; rmqbroker &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;--link&lt;/span&gt; rmqnamesrv:namesrv &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;$&amp;#123;&lt;span class=&#34;token environment constant&#34;&gt;HOME&lt;/span&gt;&amp;#125;&lt;/span&gt;/docker/software/rocketmq/conf/broker.conf:/etc/rocketmq/broker.conf &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-e&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;NAMESRV_ADDR=namesrv:9876&#34;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-e&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;JAVA_OPTS=-Duser.home=/opt&#34;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-e&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;JAVA_OPT_EXT=-server -Xms512m -Xmx512m&#34;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;foxiswho/rocketmq:broker-4.5.1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;å®‰è£… RocketMQ æ§åˆ¶å°&lt;/font&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; pull pangliang/rocketmq-console-ng&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;-d&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;--link&lt;/span&gt; rmqnamesrv:namesrv &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-e&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;JAVA_OPTS=-Drocketmq.config.namesrvAddr=namesrv:9876 -Drocketmq.config.isVIPChannel=false&#34;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;--name&lt;/span&gt; rmqconsole &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;8088&lt;/span&gt;:8080 &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-t&lt;/span&gt; pangliang/rocketmq-console-ng&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è¿è¡ŒæˆåŠŸï¼Œç¨ç­‰å‡ ç§’å¯åŠ¨æ—¶é—´ï¼Œæµè§ˆå™¨è¾“å…¥  &lt;code&gt;localhost:8088&lt;/code&gt;  æŸ¥çœ‹æ§åˆ¶å°ã€‚&lt;/p&gt;
&lt;h4 id=&#34;2-å‘é€æ™®é€šæ¶ˆæ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#2-å‘é€æ™®é€šæ¶ˆæ¯&#34;&gt;#&lt;/a&gt; 2ã€å‘é€æ™®é€šæ¶ˆæ¯&lt;/h4&gt;
&lt;p&gt;ä¸‹è¿°å®Œæ•´ Demo è¯¦æƒ…æŸ¥çœ‹&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRlZS5jb20vbmFnZW9mZmVyL3NwcmluZ2Jvb3QtbGFkZGVyL3RyZWUvbWFpbi9tcS1yb2NrZXRtcS00eA==&#34;&gt; springboot-ladder/mq-rocketmq-4x&lt;/span&gt; é¡¹ç›®æ¨¡å—ã€‚&lt;/p&gt;
&lt;h5 id=&#34;21-å¼•å…¥-rocketmq-ä¾èµ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#21-å¼•å…¥-rocketmq-ä¾èµ–&#34;&gt;#&lt;/a&gt; 2.1ã€å¼•å…¥ RocketMQ ä¾èµ–&lt;/h5&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.rocketmq&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;rocketmq-spring-boot-starter&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;2.2.3&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;22-å¯åŠ¨è‡ªåŠ¨è£…é…&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#22-å¯åŠ¨è‡ªåŠ¨è£…é…&#34;&gt;#&lt;/a&gt; 2.2ã€å¯åŠ¨è‡ªåŠ¨è£…é…&lt;/h5&gt;
&lt;p&gt;å› ä¸ºå’±ä»¬ Demo ä¸­ä½¿ç”¨çš„æ˜¯ SpringBoot3ï¼ŒRocketMQ æœ€æ–°ç‰ˆæœ¬ 2.2.3 æ²¡æœ‰é€‚é… SpringBoot3ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨æå®šè‡ªåŠ¨è£…é…ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœ SpringBoot2 ç‰ˆæœ¬ï¼Œå°±ä¸éœ€è¦æ‰§è¡Œè¿™ä¸€æ­¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;resources ç›®å½•ä¸‹åˆ›å»º META-INF/spring ç›®å½•ï¼Œå¹¶åˆ›å»º &lt;code&gt;org.springframework.boot.autoconfigure.AutoConfiguration.imports&lt;/code&gt;  æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight properties&#34;&gt;&lt;figcaption data-lang=&#34;.properties&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# RocketMQ 2.2.3 version does not adapt to SpringBoot3&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230924172750462.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;23-producer&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#23-producer&#34;&gt;#&lt;/a&gt; 2.3ã€Producer&lt;/h5&gt;
&lt;p&gt;é…ç½®æ–‡ä»¶ä¸­å¼•å…¥ RocketMQ ç›¸å…³é…ç½®å®šä¹‰ï¼Œæ¯”å¦‚è¿æ¥ NameServer åœ°å€ç­‰ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight yaml&#34;&gt;&lt;figcaption data-lang=&#34;YAML&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6060&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;rocketmq&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;name-server&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 127.0.0.1&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;9876&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# NameServer åœ°å€&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;producer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;group&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; rocketmq&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;4x&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;service_common&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;message&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;execute_pg &lt;span class=&#34;token comment&#34;&gt;# å…¨å±€å‘é€è€…ç»„å®šä¹‰&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å®šä¹‰æ¶ˆæ¯ç”Ÿäº§è€…ï¼Œé€šè¿‡  &lt;code&gt;RocketMQTemplate&lt;/code&gt;  å‘ RocketMQ å‘é€æ™®é€šå¸¸è§„æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;cn&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;hutool&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;core&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;util&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;StrUtil&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;com&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;alibaba&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;fastjson&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;JSON&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;com&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;nageoffer&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;springbootladder&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;rocketmq4x&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;event&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;GeneralMessageEvent&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;lombok&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;RequiredArgsConstructor&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;lombok&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;extern&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;slf4j&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Slf4j&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;org&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;apache&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;rocketmq&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;client&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;producer&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;SendResult&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;org&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;apache&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;rocketmq&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;common&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;message&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;MessageConst&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;org&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;apache&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;rocketmq&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;spring&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;core&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;RocketMQTemplate&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;org&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;springframework&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;messaging&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Message&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;org&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;springframework&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;messaging&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;support&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;MessageBuilder&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;org&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;springframework&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;stereotype&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Component&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; * æ™®é€šæ¶ˆæ¯å‘é€è€…&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; *&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; * @å…¬ä¼—å·ï¼šé©¬ä¸ç©ç¼–ç¨‹ï¼Œå›å¤ï¼šåŠ ç¾¤ï¼Œæ·»åŠ é©¬å“¥å¾®ä¿¡ï¼ˆå¤‡æ³¨ï¼šladderï¼‰è·å–æ›´å¤šé¡¹ç›®èµ„æ–™&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@Slf4j&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@Component&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@RequiredArgsConstructor&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;GeneralMessageDemoProduce&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;RocketMQTemplate&lt;/span&gt; rocketMQTemplate&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * å‘é€æ™®é€šæ¶ˆæ¯&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     *&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * @param topic            æ¶ˆæ¯å‘é€ä¸»é¢˜ï¼Œç”¨äºæ ‡è¯†åŒä¸€ç±»ä¸šåŠ¡é€»è¾‘çš„æ¶ˆæ¯&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * @param tag              æ¶ˆæ¯çš„è¿‡æ»¤æ ‡ç­¾ï¼Œæ¶ˆè´¹è€…å¯é€šè¿‡ Tag å¯¹æ¶ˆæ¯è¿›è¡Œè¿‡æ»¤ï¼Œä»…æ¥æ”¶æŒ‡å®šæ ‡ç­¾çš„æ¶ˆæ¯ã€‚&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * @param keys             æ¶ˆæ¯ç´¢å¼•é”®ï¼Œå¯æ ¹æ®å…³é”®å­—ç²¾ç¡®æŸ¥æ‰¾æŸæ¡æ¶ˆæ¯&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;31&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * @param messageSendEvent æ™®é€šæ¶ˆæ¯å‘é€äº‹ä»¶ï¼Œè‡ªå®šä¹‰å¯¹è±¡ï¼Œæœ€ç»ˆéƒ½ä¼šåºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;32&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * @return æ¶ˆæ¯å‘é€ RocketMQ è¿”å›ç»“æœ&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;33&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;34&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;SendResult&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;sendMessage&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; topic&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; tag&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; keys&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;GeneralMessageEvent&lt;/span&gt; messageSendEvent&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;35&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token class-name&#34;&gt;SendResult&lt;/span&gt; sendResult&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;36&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;37&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            &lt;span class=&#34;token class-name&#34;&gt;StringBuilder&lt;/span&gt; destinationBuilder &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;StrUtil&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;builder&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;topic&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;38&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;StrUtil&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;isNotBlank&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;tag&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;39&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                destinationBuilder&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;:&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;tag&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;40&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;41&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            &lt;span class=&#34;token class-name&#34;&gt;Message&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; message &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;MessageBuilder&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;42&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                    &lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;withPayload&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;messageSendEvent&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;43&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                    &lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;setHeader&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;MessageConst&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token constant&#34;&gt;PROPERTY_KEYS&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; keys&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;44&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                    &lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;setHeader&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;MessageConst&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token constant&#34;&gt;PROPERTY_TAGS&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; tag&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;45&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                    &lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;build&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;46&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            sendResult &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; rocketMQTemplate&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;syncSend&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;47&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                    destinationBuilder&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;toString&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;48&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                    message&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;49&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                    &lt;span class=&#34;token number&#34;&gt;2000L&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;50&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            &lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;51&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            log&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;[æ™®é€šæ¶ˆæ¯] æ¶ˆæ¯å‘é€ç»“æœï¼š&amp;#123;&amp;#125;ï¼Œæ¶ˆæ¯IDï¼š&amp;#123;&amp;#125;ï¼Œæ¶ˆæ¯Keysï¼š&amp;#123;&amp;#125;&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; sendResult&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getSendStatus&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; sendResult&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getMsgId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; keys&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;52&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Throwable&lt;/span&gt; ex&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;53&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            log&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;[æ™®é€šæ¶ˆæ¯] æ¶ˆæ¯å‘é€å¤±è´¥ï¼Œæ¶ˆæ¯ä½“ï¼š&amp;#123;&amp;#125;&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;JSON&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;toJSONString&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;messageSendEvent&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; ex&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;54&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            &lt;span class=&#34;token keyword&#34;&gt;throw&lt;/span&gt; ex&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;55&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;56&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; sendResult&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;57&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;58&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;24-consumer&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#24-consumer&#34;&gt;#&lt;/a&gt; 2.4ã€Consumer&lt;/h5&gt;
&lt;p&gt;å®šä¹‰æ¶ˆæ¯æ¶ˆè´¹è€…ï¼Œä» RocketMQ Broker æ‹‰å–å¯¹åº” Topic Tag çš„æ¶ˆæ¯åˆ—è¡¨ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;com&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;alibaba&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;fastjson&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;JSON&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;com&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;nageoffer&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;springbootladder&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;rocketmq4x&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;event&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;GeneralMessageEvent&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;lombok&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;RequiredArgsConstructor&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;lombok&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;extern&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;slf4j&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Slf4j&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;org&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;apache&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;rocketmq&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;spring&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;annotation&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;RocketMQMessageListener&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;org&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;apache&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;rocketmq&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;spring&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;core&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;RocketMQListener&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;org&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;springframework&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;stereotype&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Component&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; * æ™®é€šæ¶ˆæ¯æ¶ˆè´¹è€…&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; *&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; * @å…¬ä¼—å·ï¼šé©¬ä¸ç©ç¼–ç¨‹ï¼Œå›å¤ï¼šåŠ ç¾¤ï¼Œæ·»åŠ é©¬å“¥å¾®ä¿¡ï¼ˆå¤‡æ³¨ï¼šladderï¼‰è·å–æ›´å¤šé¡¹ç›®èµ„æ–™&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@Slf4j&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@Component&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@RequiredArgsConstructor&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@RocketMQMessageListener&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        topic &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;rocketmq-demo_common-message_topic&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        selectorExpression &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;general&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        consumerGroup &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;rocketmq-demo_general-message_cg&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;GeneralMessageDemoConsume&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;implements&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;RocketMQListener&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;GeneralMessageEvent&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token annotation punctuation&#34;&gt;@Override&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;onMessage&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;GeneralMessageEvent&lt;/span&gt; message&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        log&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;æ¥åˆ°åˆ°RocketMQæ¶ˆæ¯ï¼Œæ¶ˆæ¯ä½“ï¼š&amp;#123;&amp;#125;&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;JSON&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;toJSONString&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;message&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;25-å‘é€ä¸€æ¡æ¶ˆæ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#25-å‘é€ä¸€æ¡æ¶ˆæ¯&#34;&gt;#&lt;/a&gt; 2.5ã€å‘é€ä¸€æ¡æ¶ˆæ¯&lt;/h5&gt;
&lt;p&gt;å®šä¹‰æ¶ˆæ¯å‘é€ç¨‹åºï¼Œè¿™é‡Œä¸ºäº†é¿å…ç±»è¿‡å¤šï¼Œç›´æ¥å†™åœ¨ SpringBoot çš„å¯åŠ¨ç¨‹åºé‡Œã€‚å‘é€æ™®é€šæ¶ˆæ¯çš„æ–¹æ³•è¿”å›å€¼å°±æ˜¯å‘é€ RocketMQ Broker è¿”å›çš„çŠ¶æ€ç ï¼ŒæˆåŠŸçš„è¯å°±æ˜¯  &lt;code&gt;SEND_OK&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;com&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;nageoffer&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;springbootladder&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;rocketmq4x&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;event&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;GeneralMessageEvent&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;com&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;nageoffer&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;springbootladder&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;rocketmq4x&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;produce&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;GeneralMessageDemoProduce&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;io&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;swagger&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;v3&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;oas&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;annotations&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Operation&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;io&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;swagger&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;v3&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;oas&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;annotations&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;tags&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Tag&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;lombok&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;RequiredArgsConstructor&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;org&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;apache&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;rocketmq&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;client&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;producer&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;SendResult&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;org&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;springframework&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;boot&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;SpringApplication&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;org&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;springframework&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;boot&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;autoconfigure&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;SpringBootApplication&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;org&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;springframework&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;web&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;bind&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;annotation&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;PostMapping&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;org&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;springframework&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;web&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;bind&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;annotation&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;RestController&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;java&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;util&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;UUID&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@RestController&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@RequiredArgsConstructor&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@SpringBootApplication&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@Tag&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;name &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;RocketMQå‘é€ç¤ºä¾‹&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; description &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;RocketMQå‘é€ç¤ºä¾‹å¯åŠ¨å™¨&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;RocketMQDemoApplication&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;GeneralMessageDemoProduce&lt;/span&gt; generalMessageDemoProduce&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token annotation punctuation&#34;&gt;@PostMapping&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;/test/send/general-message&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token annotation punctuation&#34;&gt;@Operation&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;summary &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;å‘é€RocketMQæ™®é€šæ¶ˆæ¯&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;sendGeneralMessage&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; keys &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;UUID&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;randomUUID&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;toString&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token class-name&#34;&gt;GeneralMessageEvent&lt;/span&gt; generalMessageEvent &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;GeneralMessageEvent&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;builder&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                &lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;æ¶ˆæ¯å…·ä½“å†…å®¹ï¼Œå¯ä»¥æ˜¯è‡ªå®šä¹‰å¯¹è±¡ï¼Œæœ€ç»ˆéƒ½ä¼šåºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²ã€‚å¦‚æœæ˜¯å–æ¶ˆè®¢å•ï¼Œè¿™é‡Œåº”è¯¥æ˜¯è®¢å•IDæˆ–è€…ç›¸å…³è”çš„ä¿¡æ¯&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                &lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;keys&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;keys&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                &lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;build&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token class-name&#34;&gt;SendResult&lt;/span&gt; sendResult &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; generalMessageDemoProduce&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;sendMessage&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;31&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                &lt;span class=&#34;token string&#34;&gt;&#34;rocketmq-demo_common-message_topic&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;32&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                &lt;span class=&#34;token string&#34;&gt;&#34;general&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;33&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                keys&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;34&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                generalMessageEvent&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;35&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;36&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; sendResult&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getSendStatus&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;37&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;38&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;39&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; args&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;40&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token class-name&#34;&gt;SpringApplication&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;RocketMQDemoApplication&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; args&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;41&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;42&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é¡¹ç›®ä¸­å¼•å…¥äº† Swagger3ï¼Œé€šè¿‡ç•Œé¢ UI å‘é€ä¸€æ¡æ¶ˆæ¯æµ‹è¯•æ•ˆæœã€‚è®¿é—®  &lt;code&gt;http://127.0.0.1:6060/swagger-ui/index.html&lt;/code&gt; ï¼Œè°ƒç”¨å®šä¹‰çš„å‘é€ RocketMQ æ™®é€šæ¶ˆæ¯æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230924173811738.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹å‡» Execute æ‰§è¡Œæ–¹æ³•è°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://images-machen.oss-cn-beijing.aliyuncs.com/image-20230924173837160.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡æ–¹æ³•è°ƒç”¨å¾—çŸ¥ï¼Œè¿”å›æ•°æ®ä¸ºæˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://images-machen.oss-cn-beijing.aliyuncs.com/image-20230924173948187.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¹Ÿèƒ½çœ‹åˆ° RocketMQ å¯¹åº”çš„ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å¯¹åº”æ—¥å¿—ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight text&#34;&gt;&lt;figcaption data-lang=&#34;text&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;2023-09-24T17:38:57.457+08:00  INFO 48437 --- [nio-6060-exec-6] c.n.s.r.p.GeneralMessageDemoProduce      : [æ™®é€šæ¶ˆæ¯] æ¶ˆæ¯å‘é€ç»“æœï¼šSEND_OKï¼Œæ¶ˆæ¯IDï¼š7F000001BD35251A69D77A3BC5280002ï¼Œæ¶ˆæ¯Keysï¼š7a60c853-08dc-46cd-a647-398d45b54966&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;2023-09-24T17:38:57.459+08:00  INFO 48437 --- [al-message_cg_3] c.n.s.r.c.GeneralMessageDemoConsume      : æ¥åˆ°RocketMQæ¶ˆæ¯ï¼Œæ¶ˆæ¯ä½“ï¼š&amp;#123;&#34;body&#34;:&#34;æ¶ˆæ¯å…·ä½“å†…å®¹ï¼Œå¯ä»¥æ˜¯è‡ªå®šä¹‰å¯¹è±¡ï¼Œæœ€ç»ˆéƒ½ä¼šåºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²ã€‚å¦‚æœæ˜¯å–æ¶ˆè®¢å•ï¼Œè¿™é‡Œåº”è¯¥æ˜¯è®¢å•IDæˆ–è€…ç›¸å…³è”çš„ä¿¡æ¯&#34;,&#34;keys&#34;:&#34;7a60c853-08dc-46cd-a647-398d45b54966&#34;&amp;#125;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;3-æ‰©å±•æ¡†æ¶-springcloud-stream&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#3-æ‰©å±•æ¡†æ¶-springcloud-stream&#34;&gt;#&lt;/a&gt; 3ã€æ‰©å±•æ¡†æ¶ SpringCloud Stream&lt;/h4&gt;
&lt;p&gt;Spring Cloud Stream æ˜¯ä¸€ä¸ª&lt;strong&gt;ç”¨äºæ„å»ºåŸºäºæ¶ˆæ¯çš„å¾®æœåŠ¡åº”ç”¨&lt;/strong&gt;æ¡†æ¶ã€‚å®ƒåŸºäº SpringBoot æ¥åˆ›å»ºå…·æœ‰ç”Ÿäº§çº§åˆ«çš„å•æœº Spring åº”ç”¨ï¼Œå¹¶ä¸”ä½¿ç”¨  &lt;code&gt;Spring Integration&lt;/code&gt;  ä¸ Broker è¿›è¡Œè¿æ¥ã€‚&lt;/p&gt;
&lt;p&gt;Spring Cloud Stream æä¾›äº†æ¶ˆæ¯ä¸­é—´ä»¶é…ç½®çš„ç»Ÿä¸€æŠ½è±¡ï¼Œæ¨å‡ºäº† publish-subscribeã€consumer groupsã€partition è¿™äº›ç»Ÿä¸€çš„æ¦‚å¿µã€‚&lt;/p&gt;
&lt;p&gt;Spring Cloud Stream å†…éƒ¨æœ‰ä¸¤ä¸ªæ¦‚å¿µï¼šBinder å’Œ Bindingã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Binder&lt;/code&gt; ï¼šè·Ÿå¤–éƒ¨æ¶ˆæ¯ä¸­é—´ä»¶é›†æˆçš„ç»„ä»¶ï¼Œç”¨æ¥åˆ›å»º Bindingï¼Œå„æ¶ˆæ¯ä¸­é—´ä»¶éƒ½æœ‰è‡ªå·±çš„ Binder å®ç°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¯”å¦‚  &lt;code&gt;Kafka&lt;/code&gt;  çš„å®ç°  &lt;code&gt;KafkaMessageChannelBinder&lt;/code&gt; ï¼Œ &lt;code&gt;RabbitMQ&lt;/code&gt;  çš„å®ç°  &lt;code&gt;RabbitMessageChannelBinder&lt;/code&gt;  ä»¥åŠ  &lt;code&gt;RocketMQ&lt;/code&gt;  çš„å®ç°  &lt;code&gt;RocketMQMessageChannelBinder&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Binding&lt;/code&gt; ï¼šåŒ…æ‹¬ Input Binding å’Œ Output Bindingã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Binding åœ¨æ¶ˆæ¯ä¸­é—´ä»¶ä¸åº”ç”¨ç¨‹åºæä¾›çš„ Provider å’Œ Consumer ä¹‹é—´æä¾›äº†ä¸€ä¸ªæ¡¥æ¢ï¼Œå®ç°äº†å¼€å‘è€…åªéœ€ä½¿ç”¨åº”ç”¨ç¨‹åºçš„ Provider æˆ– Consumer ç”Ÿäº§æˆ–æ¶ˆè´¹æ•°æ®å³å¯ï¼Œå±è”½äº†å¼€å‘è€…ä¸åº•å±‚æ¶ˆæ¯ä¸­é—´ä»¶çš„æ¥è§¦ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹å›¾æ˜¯ Spring Cloud Stream çš„æ¶æ„è®¾è®¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/68747470733a2f2f646f63732e737072696e672e696f2f737072696e672d636c6f75642d73747265616d2f646f63732f63757272656e742f7265666572656e63652f68746d6c2f696d616765732f534353742d776974682d62696e6465722e706e67.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;SpringCloud Stream RocketMQ ä¸æ˜¯å’±ä»¬æœ¬æ¬¡ä»‹ç»çš„é‡ç‚¹ï¼Œæ‰€ä»¥åªæ˜¯æŠ›ç –å¼•ç‰ï¼Œå¤§å®¶éœ€è¦äº†è§£è¯¦æƒ…å‚è€ƒï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2FsaWJhYmEvc3ByaW5nLWNsb3VkLWFsaWJhYmEvYmxvYi8yLjIueC9zcHJpbmctY2xvdWQtYWxpYmFiYS1leGFtcGxlcy9yb2NrZXRtcS1leGFtcGxlL3JlYWRtZS16aC5tZA==&#34;&gt;RocketMQ Example&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&#34;éƒ¨ç½²æ¶æ„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#éƒ¨ç½²æ¶æ„&#34;&gt;#&lt;/a&gt; éƒ¨ç½²æ¶æ„&lt;/h3&gt;
&lt;h4 id=&#34;æœ¬åœ°éƒ¨ç½²&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æœ¬åœ°éƒ¨ç½²&#34;&gt;#&lt;/a&gt; æœ¬åœ°éƒ¨ç½²&lt;/h4&gt;
&lt;h5 id=&#34;å•ç»„èŠ‚ç‚¹å•å‰¯æœ¬æ¨¡å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å•ç»„èŠ‚ç‚¹å•å‰¯æœ¬æ¨¡å¼&#34;&gt;#&lt;/a&gt; å•ç»„èŠ‚ç‚¹å•å‰¯æœ¬æ¨¡å¼&lt;/h5&gt;
&lt;p&gt;è¿™ç§æ–¹å¼é£é™©è¾ƒå¤§ï¼Œå› ä¸º Broker åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸€æ—¦ Broker é‡å¯æˆ–è€…å®•æœºæ—¶ï¼Œä¼šå¯¼è‡´æ•´ä¸ªæœåŠ¡ä¸å¯ç”¨ã€‚ä¸å»ºè®®çº¿ä¸Šç¯å¢ƒä½¿ç”¨ï¼Œå¯ä»¥ç”¨äºæœ¬åœ°æµ‹è¯•ã€‚&lt;/p&gt;
&lt;h5 id=&#34;å¤šç»„èŠ‚ç‚¹é›†ç¾¤å•å‰¯æœ¬æ¨¡å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¤šç»„èŠ‚ç‚¹é›†ç¾¤å•å‰¯æœ¬æ¨¡å¼&#34;&gt;#&lt;/a&gt; å¤šç»„èŠ‚ç‚¹ï¼ˆé›†ç¾¤ï¼‰å•å‰¯æœ¬æ¨¡å¼&lt;/h5&gt;
&lt;p&gt;ä¸€ä¸ªé›†ç¾¤å†…å…¨éƒ¨éƒ¨ç½² Master è§’è‰²ï¼Œä¸éƒ¨ç½² Slave å‰¯æœ¬ï¼Œä¾‹å¦‚ 2 ä¸ª Master æˆ–è€… 3 ä¸ª Masterï¼Œè¿™ç§æ¨¡å¼çš„ä¼˜ç¼ºç‚¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ï¼Œå•ä¸ª Master å®•æœºæˆ–é‡å¯ç»´æŠ¤å¯¹åº”ç”¨æ— å½±å“ï¼Œåœ¨ç£ç›˜é…ç½®ä¸º RAID10 æ—¶ï¼Œå³ä½¿æœºå™¨å®•æœºä¸å¯æ¢å¤æƒ…å†µä¸‹ï¼Œç”±äº RAID10 ç£ç›˜éå¸¸å¯é ï¼Œæ¶ˆæ¯ä¹Ÿä¸ä¼šä¸¢ï¼ˆå¼‚æ­¥åˆ·ç›˜ä¸¢å¤±å°‘é‡æ¶ˆæ¯ï¼ŒåŒæ­¥åˆ·ç›˜ä¸€æ¡ä¸ä¸¢ï¼‰ï¼Œæ€§èƒ½æœ€é«˜ï¼›&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼šå•å°æœºå™¨å®•æœºæœŸé—´ï¼Œè¿™å°æœºå™¨ä¸Šæœªè¢«æ¶ˆè´¹çš„æ¶ˆæ¯åœ¨æœºå™¨æ¢å¤ä¹‹å‰ä¸å¯è®¢é˜…ï¼Œæ¶ˆæ¯å®æ—¶æ€§ä¼šå—åˆ°å½±å“ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ç”Ÿäº§éƒ¨ç½²&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç”Ÿäº§éƒ¨ç½²&#34;&gt;#&lt;/a&gt; ç”Ÿäº§éƒ¨ç½²&lt;/h4&gt;
&lt;h5 id=&#34;å¤šèŠ‚ç‚¹é›†ç¾¤å¤šå‰¯æœ¬æ¨¡å¼å¼‚æ­¥å¤åˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¤šèŠ‚ç‚¹é›†ç¾¤å¤šå‰¯æœ¬æ¨¡å¼å¼‚æ­¥å¤åˆ¶&#34;&gt;#&lt;/a&gt; å¤šèŠ‚ç‚¹ï¼ˆé›†ç¾¤ï¼‰å¤šå‰¯æœ¬æ¨¡å¼ï¼šå¼‚æ­¥å¤åˆ¶&lt;/h5&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æ¯ä¸ª Master é…ç½®ä¸€ä¸ª Slave&lt;/font&gt;ï¼Œæœ‰å¤šç»„ Master-Slaveï¼ŒHA é‡‡ç”¨&lt;strong&gt;å¼‚æ­¥å¤åˆ¶&lt;/strong&gt;æ–¹å¼ï¼Œä¸»å¤‡æœ‰çŸ­æš‚æ¶ˆæ¯å»¶è¿Ÿï¼ˆæ¯«ç§’çº§ï¼‰ï¼Œè¿™ç§æ¨¡å¼çš„ä¼˜ç¼ºç‚¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼šå³ä½¿ç£ç›˜æŸåï¼Œæ¶ˆæ¯ä¸¢å¤±çš„éå¸¸å°‘ï¼Œä¸”æ¶ˆæ¯å®æ—¶æ€§ä¸ä¼šå—å½±å“ï¼ŒåŒæ—¶ Master å®•æœºåï¼Œæ¶ˆè´¹è€…ä»ç„¶å¯ä»¥ä» Slave æ¶ˆè´¹ï¼Œè€Œä¸”æ­¤è¿‡ç¨‹å¯¹åº”ç”¨é€æ˜ï¼Œä¸éœ€è¦äººå·¥å¹²é¢„ï¼Œæ€§èƒ½åŒå¤š Master æ¨¡å¼å‡ ä¹ä¸€æ ·ï¼›&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼šMaster å®•æœºï¼Œç£ç›˜æŸåæƒ…å†µä¸‹ä¼šä¸¢å¤±å°‘é‡æ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å¤šèŠ‚ç‚¹é›†ç¾¤å¤šå‰¯æœ¬æ¨¡å¼åŒæ­¥åŒå†™&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¤šèŠ‚ç‚¹é›†ç¾¤å¤šå‰¯æœ¬æ¨¡å¼åŒæ­¥åŒå†™&#34;&gt;#&lt;/a&gt; å¤šèŠ‚ç‚¹ï¼ˆé›†ç¾¤ï¼‰å¤šå‰¯æœ¬æ¨¡å¼ï¼šåŒæ­¥åŒå†™&lt;/h5&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æ¯ä¸ª Master é…ç½®ä¸€ä¸ª Slave&lt;/font&gt;ï¼Œæœ‰å¤šå¯¹ Master-Slaveï¼ŒHA é‡‡ç”¨&lt;strong&gt;åŒæ­¥åŒå†™&lt;/strong&gt;æ–¹å¼ï¼Œå³åªæœ‰ä¸»å¤‡éƒ½å†™æˆåŠŸï¼Œæ‰å‘åº”ç”¨è¿”å›æˆåŠŸï¼Œè¿™ç§æ¨¡å¼çš„ä¼˜ç¼ºç‚¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼šæ•°æ®ä¸æœåŠ¡éƒ½æ— å•ç‚¹æ•…éšœï¼ŒMaster å®•æœºæƒ…å†µä¸‹ï¼Œæ¶ˆæ¯æ— å»¶è¿Ÿï¼ŒæœåŠ¡å¯ç”¨æ€§ä¸æ•°æ®å¯ç”¨æ€§éƒ½éå¸¸é«˜ï¼›&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼šæ€§èƒ½æ¯”å¼‚æ­¥å¤åˆ¶æ¨¡å¼ç•¥ä½ï¼ˆå¤§çº¦ä½ 10% å·¦å³ï¼‰ï¼Œå‘é€å•ä¸ªæ¶ˆæ¯çš„ RT ä¼šç•¥é«˜ï¼Œä¸”ç›®å‰ç‰ˆæœ¬åœ¨ä¸»èŠ‚ç‚¹å®•æœºåï¼Œå¤‡æœºä¸èƒ½è‡ªåŠ¨åˆ‡æ¢ä¸ºä¸»æœºã€‚&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="æ¶ˆæ¯é˜Ÿåˆ—" scheme="http://example.com/categories/mq/" />
        <updated>2024-01-25T18:59:25.893Z</updated>
    </entry>
    <entry>
        <id>http://example.com/docker/docker-javaguide/</id>
        <title>docker-javaguide</title>
        <link rel="alternate" href="http://example.com/docker/docker-javaguide/"/>
        <content type="html">&lt;h1 id=&#34;docker-æ ¸å¿ƒæ¦‚å¿µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker-æ ¸å¿ƒæ¦‚å¿µ&#34;&gt;#&lt;/a&gt; Docker æ ¸å¿ƒæ¦‚å¿µ&lt;/h1&gt;
&lt;h2 id=&#34;å®¹å™¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®¹å™¨&#34;&gt;#&lt;/a&gt; å®¹å™¨&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Docker æ˜¯ä¸–ç•Œé¢†å…ˆçš„è½¯ä»¶å®¹å™¨å¹³å°&lt;/strong&gt;ï¼Œæ‰€ä»¥æƒ³è¦ææ‡‚ Docker çš„æ¦‚å¿µæˆ‘ä»¬å¿…é¡»å…ˆä»å®¹å™¨å¼€å§‹è¯´èµ·ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®¹å™¨æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®¹å™¨æ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; å®¹å™¨æ˜¯ä»€ä¹ˆ&lt;/h3&gt;
&lt;p&gt;ä¸€å¥è¯æ¦‚æ‹¬å®¹å™¨ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å®¹å™¨å°±æ˜¯å°†è½¯ä»¶æ‰“åŒ…æˆæ ‡å‡†åŒ–å•å…ƒï¼Œä»¥ç”¨äºå¼€å‘ã€äº¤ä»˜å’Œéƒ¨ç½²ã€‚&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®¹å™¨é•œåƒæ˜¯è½»é‡çš„ã€å¯æ‰§è¡Œçš„ç‹¬ç«‹è½¯ä»¶åŒ…&lt;/strong&gt;ï¼ŒåŒ…å«è½¯ä»¶è¿è¡Œæ‰€éœ€çš„æ‰€æœ‰å†…å®¹ï¼šä»£ç ã€è¿è¡Œæ—¶ç¯å¢ƒã€ç³»ç»Ÿå·¥å…·ã€ç³»ç»Ÿåº“å’Œè®¾ç½®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®¹å™¨åŒ–è½¯ä»¶é€‚ç”¨äºåŸºäº Linux å’Œ Windows çš„åº”ç”¨ï¼Œåœ¨ä»»ä½•ç¯å¢ƒä¸­éƒ½èƒ½å¤Ÿå§‹ç»ˆå¦‚ä¸€åœ°è¿è¡Œã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®¹å™¨èµ‹äºˆäº†è½¯ä»¶ç‹¬ç«‹æ€§&lt;/strong&gt;ï¼Œä½¿å…¶å…å—å¤–åœ¨ç¯å¢ƒå·®å¼‚ï¼ˆä¾‹å¦‚ï¼Œå¼€å‘å’Œé¢„æ¼”ç¯å¢ƒçš„å·®å¼‚ï¼‰çš„å½±å“ï¼Œä»è€Œæœ‰åŠ©äºå‡å°‘å›¢é˜Ÿé—´åœ¨ç›¸åŒåŸºç¡€è®¾æ–½ä¸Šè¿è¡Œä¸åŒè½¯ä»¶æ—¶çš„å†²çªã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœéœ€è¦é€šä¿—åœ°æè¿°å®¹å™¨çš„è¯ï¼Œæˆ‘è§‰å¾—å®¹å™¨å°±æ˜¯ä¸€ä¸ªå­˜æ”¾ä¸œè¥¿çš„åœ°æ–¹ï¼Œå°±åƒä¹¦åŒ…å¯ä»¥è£…å„ç§æ–‡å…·ã€è¡£æŸœå¯ä»¥æ”¾å„ç§è¡£æœã€é‹æ¶å¯ä»¥æ”¾å„ç§é‹å­ä¸€æ ·ã€‚æˆ‘ä»¬ç°åœ¨æ‰€è¯´çš„å®¹å™¨å­˜æ”¾çš„ä¸œè¥¿å¯èƒ½æ›´åå‘äºåº”ç”¨æ¯”å¦‚ç½‘ç«™ã€ç¨‹åºç”šè‡³æ˜¯ç³»ç»Ÿç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/container.png&#34; alt=&#34;è®¤è¯†å®¹å™¨&#34; /&gt;&lt;/p&gt;
&lt;center&gt;è®¤è¯†å®¹å™¨&lt;/center&gt;
&lt;h3 id=&#34;å›¾è§£ç‰©ç†æœº-è™šæ‹Ÿæœº-å®¹å™¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å›¾è§£ç‰©ç†æœº-è™šæ‹Ÿæœº-å®¹å™¨&#34;&gt;#&lt;/a&gt; å›¾è§£ï¼šç‰©ç†æœºã€è™šæ‹Ÿæœºã€å®¹å™¨&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ç‰©ç†æœºï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://oss.javaguide.cn/github/javaguide/tools/docker/%E7%89%A9%E7%90%86%E6%9C%BA%E5%9B%BE%E8%A7%A3.jpeg&#34; alt=&#34;ç‰©ç†æœº&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è™šæ‹Ÿæœºï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://oss.javaguide.cn/github/javaguide/tools/docker/%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%9B%BE%E8%A7%A3.jpeg&#34; alt=&#34;è™šæ‹Ÿæœº&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®¹å™¨ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://oss.javaguide.cn/javaguide/image-20211110104003678.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡ä¸Šé¢è¿™ä¸‰å¼ æŠ½è±¡å›¾ï¼Œæˆ‘ä»¬å¯ä»¥å¤§æ¦‚é€šè¿‡ç±»æ¯”æ¦‚æ‹¬å‡ºï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å®¹å™¨è™šæ‹ŸåŒ–çš„æ˜¯æ“ä½œç³»ç»Ÿè€Œä¸æ˜¯ç¡¬ä»¶ï¼Œå®¹å™¨ä¹‹é—´æ˜¯å…±äº«åŒä¸€å¥—æ“ä½œç³»ç»Ÿèµ„æºçš„&lt;/font&gt;ã€‚è™šæ‹ŸæœºæŠ€æœ¯æ˜¯è™šæ‹Ÿå‡ºä¸€å¥—ç¡¬ä»¶åï¼Œåœ¨å…¶ä¸Šè¿è¡Œä¸€ä¸ªå®Œæ•´æ“ä½œç³»ç»Ÿã€‚&lt;font color=&#39;red&#39;&gt;å› æ­¤å®¹å™¨çš„éš”ç¦»çº§åˆ«ä¼šç¨ä½ä¸€äº›&lt;/font&gt;ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;docker-æ€æƒ³&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker-æ€æƒ³&#34;&gt;#&lt;/a&gt; Docker æ€æƒ³&lt;/h2&gt;
&lt;h3 id=&#34;docker-æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker-æ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; Docker æ˜¯ä»€ä¹ˆ&lt;/h3&gt;
&lt;p&gt;é€šè¿‡å››ç‚¹å‘ä½ è¯´æ˜ Docker åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Docker æ˜¯ä¸–ç•Œé¢†å…ˆçš„&lt;font color=&#39;red&#39;&gt;è½¯ä»¶å®¹å™¨å¹³å°&lt;/font&gt;ï¼ŒåŸºäº&lt;font color=&#39;red&#39;&gt; Go è¯­è¨€&lt;/font&gt; è¿›è¡Œå¼€å‘å®ç°ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Docker å¯ä»¥&lt;font color=&#39;red&#39;&gt;å¯¹è¿›ç¨‹è¿›è¡Œå°è£…éš”ç¦»&lt;/font&gt;ï¼Œå±äºæ“ä½œç³»ç»Ÿå±‚é¢çš„è™šæ‹ŸåŒ–æŠ€æœ¯&lt;/strong&gt;ã€‚ç”±äºéš”ç¦»çš„è¿›ç¨‹ç‹¬ç«‹äºå®¿ä¸»å’Œå…¶å®ƒçš„éš”ç¦»çš„è¿›ç¨‹ï¼Œå› æ­¤ä¹Ÿç§°å…¶ä¸ºå®¹å™¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Docker èƒ½å¤Ÿè‡ªåŠ¨æ‰§è¡Œé‡å¤æ€§ä»»åŠ¡ï¼Œä¾‹å¦‚æ­å»ºå’Œé…ç½®å¼€å‘ç¯å¢ƒ&lt;/font&gt;ï¼Œä»è€Œè§£æ”¾äº†å¼€å‘äººå‘˜ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°&lt;font color=&#39;red&#39;&gt;åˆ›å»ºå’Œä½¿ç”¨å®¹å™¨&lt;/font&gt;ï¼ŒæŠŠè‡ªå·±çš„åº”ç”¨æ”¾å…¥å®¹å™¨ã€‚å®¹å™¨è¿˜å¯ä»¥è¿›è¡Œ&lt;font color=&#39;red&#39;&gt;ç‰ˆæœ¬ç®¡ç†ã€å¤åˆ¶ã€åˆ†äº«ã€ä¿®æ”¹&lt;/font&gt;ï¼Œå°±åƒç®¡ç†æ™®é€šçš„ä»£ç ä¸€æ ·ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;docker-æ€æƒ³-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker-æ€æƒ³-2&#34;&gt;#&lt;/a&gt; Docker æ€æƒ³&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é›†è£…ç®±&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ‡å‡†åŒ–&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;è¿è¾“æ–¹å¼&lt;/li&gt;
&lt;li&gt;å­˜å‚¨æ–¹å¼&lt;/li&gt;
&lt;li&gt;API æ¥å£&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éš”ç¦»&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;docker-å®¹å™¨çš„ç‰¹ç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker-å®¹å™¨çš„ç‰¹ç‚¹&#34;&gt;#&lt;/a&gt; Docker å®¹å™¨çš„ç‰¹ç‚¹&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è½»é‡&lt;/font&gt;&lt;/strong&gt; : åœ¨ä¸€å°æœºå™¨ä¸Šè¿è¡Œçš„å¤šä¸ª Docker å®¹å™¨å¯ä»¥&lt;font color=&#39;red&#39;&gt;å…±äº«è¿™å°æœºå™¨çš„æ“ä½œç³»ç»Ÿå†…æ ¸&lt;/font&gt;ï¼›å®ƒä»¬èƒ½å¤Ÿè¿…é€Ÿå¯åŠ¨ï¼Œåªéœ€&lt;font color=&#39;red&#39;&gt;å ç”¨å¾ˆå°‘çš„è®¡ç®—å’Œå†…å­˜èµ„æº&lt;/font&gt;ã€‚é•œåƒæ˜¯é€šè¿‡æ–‡ä»¶ç³»ç»Ÿå±‚è¿›è¡Œæ„é€ çš„ï¼Œå¹¶å…±äº«ä¸€äº›å…¬å…±æ–‡ä»¶ã€‚è¿™æ ·å°±èƒ½å°½é‡é™ä½ç£ç›˜ç”¨é‡ï¼Œå¹¶èƒ½æ›´å¿«åœ°ä¸‹è½½é•œåƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ ‡å‡†&lt;/font&gt;&lt;/strong&gt; : Docker å®¹å™¨&lt;font color=&#39;red&#39;&gt;åŸºäºå¼€æ”¾å¼æ ‡å‡†&lt;/font&gt;ï¼Œèƒ½å¤Ÿåœ¨æ‰€æœ‰ä¸»æµ Linux ç‰ˆæœ¬ã€Microsoft Windows ä»¥åŠåŒ…æ‹¬ VMã€è£¸æœºæœåŠ¡å™¨å’Œäº‘åœ¨å†…çš„ä»»ä½•åŸºç¡€è®¾æ–½ä¸Šè¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å®‰å…¨&lt;/font&gt;&lt;/strong&gt; : Docker èµ‹äºˆåº”ç”¨çš„éš”ç¦»æ€§ä¸ä»…é™äºå½¼æ­¤éš”ç¦»ï¼Œè¿˜ç‹¬ç«‹äºåº•å±‚çš„åŸºç¡€è®¾æ–½ã€‚Docker &lt;font color=&#39;red&#39;&gt;é»˜è®¤æä¾›æœ€å¼ºçš„éš”ç¦»&lt;/font&gt;ï¼Œå› æ­¤åº”ç”¨å‡ºç°é—®é¢˜ï¼Œä¹Ÿåªæ˜¯å•ä¸ªå®¹å™¨çš„é—®é¢˜ï¼Œè€Œä¸ä¼šæ³¢åŠåˆ°æ•´å°æœºå™¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸ºä»€ä¹ˆä½¿ç”¨-docker&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸ºä»€ä¹ˆä½¿ç”¨-docker&#34;&gt;#&lt;/a&gt; ä¸ºä»€ä¹ˆä½¿ç”¨ Docker&lt;/h3&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å€ŸåŠ© Dockerï¼Œå¼€å‘è€…å¯ä»¥å°†ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…&lt;strong&gt;æ‰“åŒ…&lt;/strong&gt;åˆ°ä¸€ä¸ª&lt;strong&gt;è½»é‡çº§ã€å¯ç§»æ¤&lt;/strong&gt;çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨&lt;font color=&#39;red&#39;&gt;æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£&lt;/font&gt;ï¼ˆç±»ä¼¼ iPhone çš„ appï¼‰ï¼Œæ›´é‡è¦çš„æ˜¯å®¹å™¨æ€§èƒ½&lt;font color=&#39;red&#39;&gt;å¼€é”€æä½&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¼ ç»Ÿçš„å¼€å‘æµç¨‹ä¸­ï¼Œæˆ‘ä»¬çš„é¡¹ç›®é€šå¸¸éœ€è¦ä½¿ç”¨ MySQLã€Redisã€FastDFS ç­‰ç­‰ç¯å¢ƒï¼Œè¿™äº›ç¯å¢ƒéƒ½æ˜¯éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»è¿›è¡Œä¸‹è½½å¹¶é…ç½®çš„ï¼Œå®‰è£…é…ç½®æµç¨‹æå…¶å¤æ‚ï¼Œè€Œä¸”ä¸åŒç³»ç»Ÿä¸‹çš„æ“ä½œä¹Ÿä¸ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;Docker çš„å‡ºç°å®Œç¾åœ°è§£å†³äº†è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬&lt;font color=&#39;red&#39;&gt;å¯ä»¥åœ¨å®¹å™¨ä¸­å®‰è£… MySQLã€Redis ç­‰è½¯ä»¶ç¯å¢ƒï¼Œä½¿å¾—åº”ç”¨å’Œç¯å¢ƒæ¶æ„åˆ†å¼€&lt;/font&gt;ï¼Œå®ƒçš„ä¼˜åŠ¿åœ¨äºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä¸€è‡´çš„è¿è¡Œç¯å¢ƒ&lt;/font&gt;ï¼šDocker çš„é•œåƒæä¾›äº†é™¤å†…æ ¸å¤–å®Œæ•´çš„è¿è¡Œæ—¶ç¯å¢ƒï¼Œç¡®ä¿äº†åº”ç”¨è¿è¡Œç¯å¢ƒä¸€è‡´æ€§ï¼Œä»è€Œä¸ä¼šå†å‡ºç° â€œè¿™æ®µä»£ç åœ¨æˆ‘æœºå™¨ä¸Šæ²¡é—®é¢˜å•Šâ€ è¿™ç±»é—®é¢˜ï¼›&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¿«é€Ÿå¯åŠ¨&lt;/font&gt;ï¼šå¯ä»¥åšåˆ°ç§’çº§ã€ç”šè‡³æ¯«ç§’çº§çš„å¯åŠ¨æ—¶é—´ï¼Œå¤§å¤§çš„èŠ‚çº¦äº†å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²çš„æ—¶é—´ï¼›&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;éš”ç¦»æ€§&lt;/font&gt;ï¼šé¿å…å…¬ç”¨çš„æœåŠ¡å™¨ï¼Œèµ„æºä¼šå®¹æ˜“å—åˆ°å…¶ä»–ç”¨æˆ·çš„å½±å“ï¼›&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¼¹æ€§ä¼¸ç¼©ï¼Œå¿«é€Ÿæ‰©å±•&lt;/font&gt;ï¼šå–„äºå¤„ç†é›†ä¸­çˆ†å‘çš„æœåŠ¡å™¨ä½¿ç”¨å‹åŠ›ï¼›&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è¿ç§»æ–¹ä¾¿&lt;/font&gt;ï¼šå¯ä»¥å¾ˆè½»æ˜“çš„å°†åœ¨ä¸€ä¸ªå¹³å°ä¸Šè¿è¡Œçš„åº”ç”¨ï¼Œè¿ç§»åˆ°å¦ä¸€ä¸ªå¹³å°ä¸Šï¼Œè€Œä¸ç”¨æ‹…å¿ƒè¿è¡Œç¯å¢ƒçš„å˜åŒ–å¯¼è‡´åº”ç”¨æ— æ³•æ­£å¸¸è¿è¡Œçš„æƒ…å†µï¼›&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æŒç»­äº¤ä»˜å’Œéƒ¨ç½²&lt;/font&gt;ï¼šä½¿ç”¨ Docker å¯ä»¥é€šè¿‡å®šåˆ¶åº”ç”¨é•œåƒæ¥å®ç°æŒç»­é›†æˆã€æŒç»­äº¤ä»˜ã€éƒ¨ç½²ï¼›&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å®¹å™¨-vs-è™šæ‹Ÿæœº&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®¹å™¨-vs-è™šæ‹Ÿæœº&#34;&gt;#&lt;/a&gt; å®¹å™¨ vs è™šæ‹Ÿæœº&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;å®¹å™¨æ˜¯ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå¸¸ä¸è™šæ‹Ÿæœºä½œæ¯”è¾ƒã€‚è€Œ &lt;font color=&#39;red&#39;&gt;Docker åªæ˜¯å®¹å™¨çš„ä¸€ç§å®ç°&lt;/font&gt;ï¼Œæ˜¯ä¸€ä¸ªå®¹å™¨åŒ–çš„è§£å†³æ–¹æ¡ˆå’Œå¹³å°ã€‚ä¸è¦æŠŠäºŒè€…æ··ä¸ºä¸€è°ˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ¯å½“è¯´èµ·å®¹å™¨ï¼Œæˆ‘ä»¬ä¸å¾—ä¸å°†å…¶ä¸è™šæ‹Ÿæœºåšä¸€ä¸ªæ¯”è¾ƒã€‚å°±æˆ‘è€Œè¨€ï¼Œå¯¹äºä¸¤è€…æ— æ‰€è°“è°ä¼šå–ä»£è°ï¼Œè€Œæ˜¯&lt;font color=&#39;red&#39;&gt;ä¸¤è€…å¯ä»¥å’Œè°å…±å­˜&lt;/font&gt;ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç®€å•æ¥è¯´ï¼š&lt;strong&gt;å®¹å™¨å’Œè™šæ‹Ÿæœºå…·æœ‰ç›¸ä¼¼çš„èµ„æºéš”ç¦»å’Œåˆ†é…ä¼˜åŠ¿ï¼Œä½†åŠŸèƒ½æœ‰æ‰€ä¸åŒï¼Œå› ä¸º&lt;font color=&#39;red&#39;&gt;å®¹å™¨è™šæ‹ŸåŒ–çš„æ˜¯æ“ä½œç³»ç»Ÿï¼Œè€Œä¸æ˜¯ç¡¬ä»¶ï¼Œå› æ­¤å®¹å™¨æ›´å®¹æ˜“ç§»æ¤ï¼Œæ•ˆç‡ä¹Ÿæ›´é«˜&lt;/font&gt;ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20240121175824099.png&#34; alt=&#34;image-20240121175824099&#34; /&gt;&lt;/p&gt;
&lt;center&gt;è™šæ‹ŸåŒ–ï¼ˆHypervisorï¼‰æŠ€æœ¯&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20240121180015087.png&#34; alt=&#34;image-20240121180015087&#34; /&gt;&lt;/p&gt;
&lt;center&gt;è™šæ‹Ÿæœºï¼ˆVMï¼‰ç¤ºæ„å›¾&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20240121180238543.png&#34; alt=&#34;image-20240121180238543&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å®¹å™¨ç¤ºæ„å›¾&lt;/center&gt;
&lt;h3 id=&#34;å¯¹æ¯”å›¾&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¯¹æ¯”å›¾&#34;&gt;#&lt;/a&gt; å¯¹æ¯”å›¾&lt;/h3&gt;
&lt;p&gt;ä¼ ç»Ÿè™šæ‹ŸæœºæŠ€æœ¯ï¼ˆVMï¼‰æ˜¯è™šæ‹Ÿå‡ºä¸€å¥—ç¡¬ä»¶åï¼Œåœ¨å…¶ä¸Šè¿è¡Œä¸€ä¸ªå®Œæ•´æ“ä½œç³»ç»Ÿï¼Œåœ¨è¯¥ç³»ç»Ÿä¸Šå†è¿è¡Œæ‰€éœ€åº”ç”¨è¿›ç¨‹ï¼›è€Œ&lt;font color=&#39;red&#39;&gt;å®¹å™¨å†…çš„åº”ç”¨è¿›ç¨‹ç›´æ¥è¿è¡Œäºå®¿ä¸»çš„å†…æ ¸ï¼Œå®¹å™¨å†…æ²¡æœ‰è‡ªå·±çš„å†…æ ¸&lt;/font&gt;ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰è¿›è¡Œç¡¬ä»¶è™šæ‹Ÿã€‚&lt;font color=&#39;red&#39;&gt;å› æ­¤å®¹å™¨è¦æ¯”ä¼ ç»Ÿè™šæ‹Ÿæœºæ›´ä¸ºè½»ä¾¿&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/2e2b95eebf60b6d03f6c1476f4d7c697.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;äºŒè€…æ€»ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#äºŒè€…æ€»ç»“&#34;&gt;#&lt;/a&gt; äºŒè€…æ€»ç»“&lt;/h3&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/4ef8691d67eb1eb53217099d0a691eb5.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å®¹å™¨æ˜¯ä¸€ä¸ªåº”ç”¨å±‚æŠ½è±¡ï¼Œç”¨äºå°†ä»£ç å’Œä¾èµ–èµ„æºæ‰“åŒ…åœ¨ä¸€èµ·ã€‚å¤šä¸ªå®¹å™¨å¯ä»¥åœ¨åŒä¸€å°æœºå™¨ä¸Šè¿è¡Œï¼Œå…±äº«æ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œä½†å„è‡ªä½œä¸ºç‹¬ç«‹çš„è¿›ç¨‹åœ¨ç”¨æˆ·ç©ºé—´ä¸­è¿è¡Œ&lt;/font&gt;&lt;/strong&gt;ã€‚ä¸è™šæ‹Ÿæœºç›¸æ¯”ï¼Œ &lt;strong&gt;å®¹å™¨å ç”¨çš„ç©ºé—´è¾ƒå°‘&lt;/strong&gt;ï¼ˆå®¹å™¨é•œåƒå¤§å°é€šå¸¸åªæœ‰å‡ åå…†ï¼‰ï¼Œ&lt;strong&gt;ç¬é—´å°±èƒ½å®Œæˆå¯åŠ¨&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è™šæ‹Ÿæœº (VM) æ˜¯ä¸€ä¸ªç‰©ç†ç¡¬ä»¶å±‚æŠ½è±¡ï¼Œç”¨äºå°†ä¸€å°æœåŠ¡å™¨å˜æˆå¤šå°æœåŠ¡å™¨&lt;/font&gt;ã€‚&lt;/strong&gt; ç®¡ç†ç¨‹åºå…è®¸å¤šä¸ª VM åœ¨ä¸€å°æœºå™¨ä¸Šè¿è¡Œã€‚æ¯ä¸ª VM éƒ½åŒ…å«ä¸€æ•´å¥—æ“ä½œç³»ç»Ÿã€ä¸€ä¸ªæˆ–å¤šä¸ªåº”ç”¨ã€å¿…è¦çš„äºŒè¿›åˆ¶æ–‡ä»¶å’Œåº“èµ„æºï¼Œå› æ­¤ &lt;strong&gt;å ç”¨å¤§é‡ç©ºé—´&lt;/strong&gt; ã€‚è€Œä¸” VM &lt;strong&gt;å¯åŠ¨ä¹Ÿååˆ†ç¼“æ…¢&lt;/strong&gt; ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é€šè¿‡ Docker å®˜ç½‘ï¼Œæˆ‘ä»¬çŸ¥é“äº†è¿™ä¹ˆå¤š Docker çš„ä¼˜åŠ¿ï¼Œä½†æ˜¯å¤§å®¶ä¹Ÿæ²¡æœ‰å¿…è¦å®Œå…¨å¦å®šè™šæ‹ŸæœºæŠ€æœ¯ï¼Œå› ä¸ºä¸¤è€…æœ‰ä¸åŒçš„ä½¿ç”¨åœºæ™¯ã€‚&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è™šæ‹Ÿæœºæ›´æ“…é•¿äºå½»åº•éš”ç¦»æ•´ä¸ªè¿è¡Œç¯å¢ƒ&lt;/font&gt;&lt;/strong&gt;ã€‚ä¾‹å¦‚ï¼Œäº‘æœåŠ¡æä¾›å•†é€šå¸¸é‡‡ç”¨è™šæ‹ŸæœºæŠ€æœ¯éš”ç¦»ä¸åŒçš„ç”¨æˆ·ã€‚è€Œ &lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Docker é€šå¸¸ç”¨äºéš”ç¦»ä¸åŒçš„åº”ç”¨&lt;/font&gt;&lt;/strong&gt; ï¼Œä¾‹å¦‚å‰ç«¯ï¼Œåç«¯ä»¥åŠæ•°æ®åº“ã€‚&lt;/p&gt;
&lt;h3 id=&#34;äºŒè€…å¯å…±å­˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#äºŒè€…å¯å…±å­˜&#34;&gt;#&lt;/a&gt; äºŒè€…å¯å…±å­˜&lt;/h3&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/056c87751b9dd7b56f4264240fe96d00.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;Dockerä¸è™šæ‹Ÿæœºçš„å…±å­˜å…³ç³»&lt;/center&gt;
&lt;h2 id=&#34;docker-åŸºæœ¬æ¦‚å¿µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker-åŸºæœ¬æ¦‚å¿µ&#34;&gt;#&lt;/a&gt; Docker åŸºæœ¬æ¦‚å¿µ&lt;/h2&gt;
&lt;p&gt;Docker ä¸­æœ‰éå¸¸é‡è¦çš„ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µï¼Œç†è§£äº†è¿™ä¸‰ä¸ªæ¦‚å¿µï¼Œå°±ç†è§£äº† Docker çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;é•œåƒï¼ˆImageï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;Image æ˜¯ä¸€ä¸ªåªè¯»çš„æ¨¡æ¿&lt;/font&gt;ï¼Œå¯ä»¥ç”¨æ¥åˆ›å»ºå¤šä¸ª Container ã€‚ç›¸å½“äºæ˜¯ä¸€ä¸ª root æ–‡ä»¶ç³»ç»Ÿï¼Œæ˜¯&lt;font color=&#39;red&#39;&gt;ç”¨äºåˆ›å»º Container çš„æ¨¡æ¿&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å®¹å™¨ï¼ˆContainerï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;Container æ˜¯ Image çš„ä¸€ä¸ªè¿è¡Œå®ä¾‹&lt;/font&gt;ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªç‹¬ç«‹çš„å¯ç§»æ¤çš„ç¯å¢ƒï¼Œå¯ä»¥åœ¨è¿™ä¸ªç¯å¢ƒä¸­è¿è¡Œåº”ç”¨ç¨‹åºã€‚Image å’Œ Container çš„å…³ç³»ï¼Œå°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„ç±»å’Œå®ä¾‹ä¸€æ ·ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Image æ˜¯é™æ€çš„å®šä¹‰ï¼ˆç±»ï¼‰ï¼ŒContainer æ˜¯ Image è¿è¡Œæ—¶çš„å®ä½“ï¼ˆå®ä¾‹ï¼‰&lt;/font&gt;&lt;/strong&gt;ã€‚Container æ˜¯ç‹¬ç«‹è¿è¡Œçš„ä¸€ä¸ªæˆ–ä¸€ç»„åº”ç”¨ï¼Œ&lt;font color=&#39;red&#39;&gt;æ˜¯ Image è¿è¡Œæ—¶çš„å®ä½“&lt;/font&gt;ï¼Œå¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ä»“åº“ï¼ˆRepositoryï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šç”¨æ¥&lt;font color=&#39;red&#39;&gt;å­˜æ”¾ Image &lt;/font&gt;çš„ä»“åº“ï¼Œç±»ä¼¼äºä»£ç æ§åˆ¶ä¸­å¿ƒã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æ³¨å†Œè¡¨ï¼ˆRegistryï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;åŒ…å«å¤šä¸ª Repositoryï¼Œæ¯ä¸ª Repository å¯ä»¥åŒ…å«å¤šä¸ª Tagï¼Œæ¯ä¸ª Tag å¯¹åº”ä¸€ä¸ª Image &lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç†è§£äº†è¿™ä¸‰ä¸ªæ¦‚å¿µï¼Œå°±ç†è§£äº†&lt;font color=&#39;red&#39;&gt; Docker çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/docker-overview.png&#34; alt=&#34;An Introductory Guide To Docker for Beginners&#34; /&gt;&lt;/p&gt;
&lt;center&gt;Docker åŸºæœ¬æ¦‚å¿µ&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20240121181052546.png&#34; alt=&#34;image-20240121181052546&#34; /&gt;&lt;/p&gt;
&lt;center&gt;Docker æ¶æ„&lt;/center&gt;
&lt;h3 id=&#34;é•œåƒimageä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é•œåƒimageä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿ&#34;&gt;#&lt;/a&gt; é•œåƒï¼ˆImageï¼‰ï¼šä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿ&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æ“ä½œç³»ç»Ÿåˆ†ä¸ºå†…æ ¸å’Œç”¨æˆ·ç©ºé—´&lt;/strong&gt;ã€‚å¯¹äº Linux è€Œè¨€ï¼Œå†…æ ¸å¯åŠ¨åï¼Œä¼šæŒ‚è½½ root æ–‡ä»¶ç³»ç»Ÿä¸ºå…¶æä¾›ç”¨æˆ·ç©ºé—´æ”¯æŒã€‚è€Œ Image å°±ç›¸å½“äºæ˜¯ä¸€ä¸ª root æ–‡ä»¶ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Image æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œé™¤äº†&lt;font color=&#39;red&#39;&gt;æä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€çš„ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶&lt;/font&gt;å¤–ï¼Œè¿˜&lt;font color=&#39;red&#39;&gt;åŒ…å«äº†ä¸€äº›ä¸ºè¿è¡Œæ—¶å‡†å¤‡çš„é…ç½®å‚æ•°ï¼ˆå¦‚åŒ¿åå·ã€ç¯å¢ƒå˜é‡ã€ç”¨æˆ·ç­‰ï¼‰&lt;/font&gt;ã€‚&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;Image ä¸åŒ…å«ä»»ä½•åŠ¨æ€æ•°æ®ï¼Œå…¶å†…å®¹åœ¨æ„å»ºä¹‹åä¹Ÿä¸ä¼šè¢«æ”¹å˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Docker è®¾è®¡æ—¶ï¼Œå°±å……åˆ†åˆ©ç”¨ &lt;strong&gt;Union FS&lt;/strong&gt; çš„æŠ€æœ¯ï¼Œå°†å…¶è®¾è®¡ä¸º&lt;strong&gt;åˆ†å±‚å­˜å‚¨çš„æ¶æ„&lt;/strong&gt;ã€‚Image å®é™…æ˜¯ç”±å¤šå±‚æ–‡ä»¶ç³»ç»Ÿè”åˆç»„æˆã€‚&lt;/p&gt;
&lt;p&gt;**&lt;font color=&#39;red&#39;&gt;Image æ˜¯é€å±‚æ„å»ºçš„ï¼Œå‰ä¸€å±‚æ˜¯åä¸€å±‚çš„åŸºç¡€ã€‚æ¯ä¸€å±‚æ„å»ºå®Œå°±ä¸ä¼šå†å‘ç”Ÿæ”¹å˜ï¼Œåä¸€å±‚ä¸Šçš„ä»»ä½•æ”¹å˜åªå‘ç”Ÿåœ¨è‡ªå·±è¿™ä¸€å±‚ã€‚&lt;/font&gt;** æ¯”å¦‚ï¼Œåˆ é™¤å‰ä¸€å±‚æ–‡ä»¶çš„æ“ä½œï¼Œå®é™…ä¸æ˜¯çœŸçš„åˆ é™¤å‰ä¸€å±‚çš„æ–‡ä»¶ï¼Œè€Œæ˜¯ä»…åœ¨å½“å‰å±‚æ ‡è®°ä¸ºè¯¥æ–‡ä»¶å·²åˆ é™¤ã€‚åœ¨æœ€ç»ˆå®¹å™¨è¿è¡Œçš„æ—¶å€™ï¼Œè™½ç„¶ä¸ä¼šçœ‹åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯å®é™…ä¸Šè¯¥æ–‡ä»¶ä¼šä¸€ç›´è·Ÿéš Image ã€‚å› æ­¤åœ¨æ„å»º Image çš„æ—¶å€™ï¼Œéœ€è¦é¢å¤–å°å¿ƒï¼Œæ¯ä¸€å±‚å°½é‡åªåŒ…å«è¯¥å±‚éœ€è¦æ·»åŠ çš„ä¸œè¥¿ï¼Œä»»ä½•é¢å¤–çš„ä¸œè¥¿åº”è¯¥åœ¨è¯¥å±‚æ„å»ºç»“æŸå‰æ¸…ç†æ‰ã€‚&lt;/p&gt;
&lt;p&gt;åˆ†å±‚å­˜å‚¨çš„ç‰¹å¾è¿˜ä½¿å¾—&lt;font color=&#39;red&#39;&gt; Image çš„å¤ç”¨ã€å®šåˆ¶&lt;/font&gt;å˜çš„æ›´ä¸ºå®¹æ˜“ã€‚ç”šè‡³å¯ä»¥ç”¨ä¹‹å‰æ„å»ºå¥½çš„ Image ä½œä¸ºåŸºç¡€å±‚ï¼Œç„¶åè¿›ä¸€æ­¥æ·»åŠ æ–°çš„å±‚ï¼Œä»¥å®šåˆ¶è‡ªå·±æ‰€éœ€çš„å†…å®¹ï¼Œæ„å»ºæ–°çš„ Image ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®¹å™¨containerimage-è¿è¡Œæ—¶çš„å®ä½“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®¹å™¨containerimage-è¿è¡Œæ—¶çš„å®ä½“&#34;&gt;#&lt;/a&gt; å®¹å™¨ï¼ˆContainerï¼‰ï¼šImage è¿è¡Œæ—¶çš„å®ä½“&lt;/h3&gt;
&lt;p&gt;é•œåƒï¼ˆImageï¼‰å’Œå®¹å™¨ï¼ˆContainerï¼‰çš„å…³ç³»ï¼Œå°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„ ç±» å’Œ å®ä¾‹ ä¸€æ ·ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Image æ˜¯é™æ€çš„å®šä¹‰ï¼ŒContainer æ˜¯ Image è¿è¡Œæ—¶çš„å®ä½“&lt;/font&gt;ã€‚Container å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Container çš„å®è´¨æ˜¯è¿›ç¨‹ï¼Œä½†ä¸ç›´æ¥åœ¨å®¿ä¸»æ‰§è¡Œçš„è¿›ç¨‹ä¸åŒï¼Œ&lt;font color=&#39;red&#39;&gt;Container è¿›ç¨‹è¿è¡Œäºå±äºè‡ªå·±çš„ç‹¬ç«‹çš„å‘½åç©ºé—´&lt;/font&gt;ã€‚å‰é¢è®²è¿‡ Image ä½¿ç”¨çš„æ˜¯åˆ†å±‚å­˜å‚¨ï¼Œ&lt;font color=&#39;red&#39;&gt;Container ä¹Ÿæ˜¯åˆ†å±‚å­˜å‚¨&lt;/font&gt;ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Container å­˜å‚¨å±‚çš„ç”Ÿå­˜å‘¨æœŸå’Œ Container ä¸€æ ·&lt;/font&gt;ï¼ŒContainer æ¶ˆäº¡æ—¶ï¼ŒContainer å­˜å‚¨å±‚ä¹Ÿéšä¹‹æ¶ˆäº¡ã€‚å› æ­¤ï¼Œä»»ä½•ä¿å­˜äº Container å­˜å‚¨å±‚çš„ä¿¡æ¯éƒ½ä¼šéš Container åˆ é™¤è€Œä¸¢å¤±ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æŒ‰ç…§ Docker æœ€ä½³å®è·µçš„è¦æ±‚ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Container ä¸åº”è¯¥å‘å…¶å­˜å‚¨å±‚å†…å†™å…¥ä»»ä½•æ•°æ®&lt;/font&gt;&lt;/strong&gt; ï¼Œå®¹å™¨å­˜å‚¨å±‚è¦ä¿æŒæ— çŠ¶æ€åŒ–ã€‚&lt;strong&gt;æ‰€æœ‰çš„æ–‡ä»¶å†™å…¥æ“ä½œï¼Œéƒ½åº”è¯¥ä½¿ç”¨æ•°æ®å·ï¼ˆVolumeï¼‰ã€æˆ–è€…ç»‘å®šå®¿ä¸»ç›®å½•&lt;/strong&gt;ï¼Œåœ¨è¿™äº›ä½ç½®çš„è¯»å†™ä¼šè·³è¿‡å®¹å™¨å­˜å‚¨å±‚ï¼Œç›´æ¥å¯¹å®¿ä¸» (æˆ–ç½‘ç»œå­˜å‚¨) å‘ç”Ÿè¯»å†™ï¼Œå…¶æ€§èƒ½å’Œç¨³å®šæ€§æ›´é«˜ã€‚&lt;font color=&#39;red&#39;&gt;æ•°æ®å·çš„ç”Ÿå­˜å‘¨æœŸç‹¬ç«‹äºå®¹å™¨ï¼Œå®¹å™¨æ¶ˆäº¡ï¼Œæ•°æ®å·ä¸ä¼šæ¶ˆäº¡&lt;/font&gt;ã€‚å› æ­¤ï¼Œ&lt;strong&gt;ä½¿ç”¨æ•°æ®å·åï¼Œå®¹å™¨å¯ä»¥éšæ„åˆ é™¤ã€é‡æ–° run ï¼Œæ•°æ®å´ä¸ä¼šä¸¢å¤±ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä»“åº“repositoryé›†ä¸­å­˜æ”¾-image-æ–‡ä»¶çš„åœ°æ–¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»“åº“repositoryé›†ä¸­å­˜æ”¾-image-æ–‡ä»¶çš„åœ°æ–¹&#34;&gt;#&lt;/a&gt; ä»“åº“ï¼ˆRepositoryï¼‰ï¼šé›†ä¸­å­˜æ”¾ Image æ–‡ä»¶çš„åœ°æ–¹&lt;/h3&gt;
&lt;h4 id=&#34;æ¦‚å¿µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¦‚å¿µ&#34;&gt;#&lt;/a&gt; æ¦‚å¿µ&lt;/h4&gt;
&lt;p&gt;Image æ„å»ºå®Œæˆåï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„åœ¨å½“å‰å®¿ä¸»ä¸Šè¿è¡Œï¼Œä½†æ˜¯ï¼Œ&lt;strong&gt;å¦‚æœéœ€è¦åœ¨å…¶å®ƒæœåŠ¡å™¨ä¸Šä½¿ç”¨è¿™ä¸ª Imageï¼Œæˆ‘ä»¬å°±éœ€è¦&lt;font color=&#39;red&#39;&gt;ä¸€ä¸ªé›†ä¸­çš„å­˜å‚¨ã€åˆ†å‘ Image çš„æœåŠ¡&lt;/font&gt;ï¼ŒDocker Registry å°±æ˜¯è¿™æ ·çš„æœåŠ¡ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä¸€ä¸ª Registry ä¸­å¯ä»¥åŒ…å«å¤šä¸ª Repositoryï¼Œæ¯ä¸ª Repository å¯ä»¥åŒ…å«å¤šä¸ª Tagï¼Œæ¯ä¸ª Tag å¯¹åº”ä¸€ä¸ª Image&lt;/font&gt;&lt;/strong&gt;ã€‚æ‰€ä»¥è¯´ï¼šé•œåƒä»“åº“æ˜¯ Docker ç”¨æ¥é›†ä¸­å­˜æ”¾é•œåƒæ–‡ä»¶çš„åœ°æ–¹ï¼Œç±»ä¼¼äºæˆ‘ä»¬ä¹‹å‰å¸¸ç”¨çš„ä»£ç ä»“åº“ã€‚&lt;/p&gt;
&lt;p&gt;é€šå¸¸ï¼Œ&lt;strong&gt;ä¸€ä¸ª Repository ä¼šåŒ…å«åŒä¸€ä¸ªè½¯ä»¶ä¸åŒç‰ˆæœ¬çš„ Image&lt;/strong&gt;ï¼Œè€Œ &lt;strong&gt;tag å°±å¸¸ç”¨äºå¯¹åº”è¯¥è½¯ä»¶çš„å„ä¸ªç‰ˆæœ¬&lt;/strong&gt; ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ &lt;code&gt;&amp;lt;ä»“åº“å&amp;gt;:&amp;lt;æ ‡ç­¾&amp;gt;&lt;/code&gt;  çš„æ ¼å¼æ¥æŒ‡å®šå…·ä½“æ˜¯è¿™ä¸ªè½¯ä»¶å“ªä¸ªç‰ˆæœ¬çš„é•œåƒã€‚å¦‚æœä¸ç»™å‡ºæ ‡ç­¾ï¼Œå°†ä»¥ latest ä½œä¸ºé»˜è®¤æ ‡ç­¾ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;è¿™é‡Œè¡¥å……ä¸€ä¸‹ &lt;code&gt; Docker Registry å…¬å¼€æœåŠ¡&lt;/code&gt; å’Œ &lt;code&gt;ç§æœ‰ Docker Registry &lt;/code&gt; çš„æ¦‚å¿µï¼š&lt;/p&gt;
&lt;h4 id=&#34;registry-å…¬å¼€æœåŠ¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#registry-å…¬å¼€æœåŠ¡&#34;&gt;#&lt;/a&gt; Registry å…¬å¼€æœåŠ¡&lt;/h4&gt;
&lt;p&gt;Docker Registry å…¬å¼€æœåŠ¡æ˜¯å¼€æ”¾ç»™ç”¨æˆ·ä½¿ç”¨ã€å…è®¸ç”¨æˆ·ç®¡ç† Image çš„ Registry æœåŠ¡ã€‚ä¸€èˆ¬è¿™ç±»å…¬å¼€æœåŠ¡&lt;font color=&#39;red&#39;&gt;å…è®¸ç”¨æˆ·å…è´¹ä¸Šä¼ ã€ä¸‹è½½å…¬å¼€çš„ Image&lt;/font&gt;ï¼Œå¹¶å¯èƒ½æä¾›æ”¶è´¹æœåŠ¡ä¾›ç”¨æˆ·ç®¡ç†ç§æœ‰ Image ã€‚&lt;font color=&#39;red&#39;&gt;æœ€å¸¸ä½¿ç”¨çš„ Registry å…¬å¼€æœåŠ¡æ˜¯å®˜æ–¹çš„ &lt;strong&gt;Docker Hub&lt;/strong&gt; ï¼Œè¿™ä¹Ÿæ˜¯é»˜è®¤çš„ Registry&lt;/font&gt;ï¼Œå¹¶æ‹¥æœ‰å¤§é‡çš„é«˜è´¨é‡çš„å®˜æ–¹é•œåƒï¼Œç½‘å€ä¸ºï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9odWIuZG9ja2VyLmNvbS8=&#34;&gt;https://hub.docker.com/&lt;/span&gt; ã€‚å®˜æ–¹æ˜¯è¿™æ ·ä»‹ç» Docker Hub çš„ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Docker Hub æ˜¯ Docker å®˜æ–¹æä¾›çš„ä¸€é¡¹æœåŠ¡ï¼Œç”¨äºä¸æ‚¨çš„å›¢é˜ŸæŸ¥æ‰¾å’Œå…±äº«å®¹å™¨é•œåƒã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ¯”å¦‚æˆ‘ä»¬æƒ³è¦æœç´¢è‡ªå·±æƒ³è¦çš„é•œåƒï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20240120142613581.png&#34; alt=&#34;åˆ©ç”¨Docker Hub æœç´¢é•œåƒ&#34; /&gt;&lt;/p&gt;
&lt;center&gt;åˆ©ç”¨Docker Hub æœç´¢é•œåƒ&lt;/center&gt;
&lt;p&gt;åœ¨ Docker Hub çš„æœç´¢ç»“æœä¸­ï¼Œæœ‰å‡ é¡¹å…³é”®çš„ä¿¡æ¯æœ‰åŠ©äºæˆ‘ä»¬é€‰æ‹©åˆé€‚çš„é•œåƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;OFFICIAL Image&lt;/strong&gt;ï¼šä»£è¡¨é•œåƒä¸º Docker å®˜æ–¹æä¾›å’Œç»´æŠ¤ï¼Œç›¸å¯¹æ¥è¯´ç¨³å®šæ€§å’Œå®‰å…¨æ€§è¾ƒé«˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Stars&lt;/strong&gt;ï¼šå’Œç‚¹èµå·®ä¸å¤šçš„æ„æ€ï¼Œç±»ä¼¼ GitHub çš„ Starã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Downloads&lt;/strong&gt;ï¼šä»£è¡¨é•œåƒè¢«æ‹‰å–çš„æ¬¡æ•°ï¼ŒåŸºæœ¬ä¸Šèƒ½å¤Ÿè¡¨ç¤ºé•œåƒè¢«ä½¿ç”¨çš„é¢‘åº¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å½“ç„¶ï¼Œé™¤äº†ç›´æ¥é€šè¿‡ Docker Hub ç½‘ç«™æœç´¢é•œåƒè¿™ç§æ–¹å¼å¤–ï¼Œæˆ‘ä»¬&lt;font color=&#39;red&#39;&gt;è¿˜å¯ä»¥é€šè¿‡  &lt;code&gt;docker search&lt;/code&gt;  è¿™ä¸ªå‘½ä»¤æœç´¢ Docker Hub ä¸­çš„é•œåƒ&lt;/font&gt;ï¼Œæœç´¢çš„ç»“æœæ˜¯ä¸€è‡´çš„ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;figcaption data-lang=&#34;sh&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;âœ  ~ &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; search mysql&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;NAME                              DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;mysql                             MySQL is a widely used, open-source relationâ€¦   &lt;span class=&#34;token number&#34;&gt;8763&lt;/span&gt;                &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;OK&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;mariadb                           MariaDB is a community-developed fork of MySâ€¦   &lt;span class=&#34;token number&#34;&gt;3073&lt;/span&gt;                &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;OK&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;mysql/mysql-server                Optimized MySQL Server Docker images. Createâ€¦   &lt;span class=&#34;token number&#34;&gt;650&lt;/span&gt;                                     &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;OK&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;åœ¨å›½å†…è®¿é—® &lt;strong&gt;Docker Hub&lt;/strong&gt; å¯èƒ½ä¼šæ¯”è¾ƒæ…¢ï¼Œ&lt;font color=&#39;red&#39;&gt;å›½å†…ä¹Ÿæœ‰ä¸€äº›äº‘æœåŠ¡å•†&lt;/font&gt;æä¾›ç±»ä¼¼äº Docker Hub çš„å…¬å¼€æœåŠ¡ã€‚æ¯”å¦‚ &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cudGVueGNsb3VkLmNvbS8=&#34;&gt;æ—¶é€Ÿäº‘é•œåƒåº“&lt;/span&gt;ã€&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuMTYzeXVuLmNvbS9wcm9kdWN0L3JlcG8=&#34;&gt;ç½‘æ˜“äº‘é•œåƒæœåŠ¡&lt;/span&gt;ã€&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuZGFvY2xvdWQuaW8v&#34;&gt;DaoCloud é•œåƒå¸‚åœº&lt;/span&gt;ã€&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuYWxpeXVuLmNvbS9wcm9kdWN0L2NvbnRhaW5lcnNlcnZpY2U/dXRtX2NvbnRlbnQ9c2VfMTI5MjgzNg==&#34;&gt;é˜¿é‡Œäº‘é•œåƒåº“&lt;/span&gt;ç­‰ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç§æœ‰-registry&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç§æœ‰-registry&#34;&gt;#&lt;/a&gt; ç§æœ‰ Registry&lt;/h4&gt;
&lt;p&gt;é™¤äº†ä½¿ç”¨å…¬å¼€æœåŠ¡å¤–ï¼Œç”¨æˆ·è¿˜å¯ä»¥ **&lt;font color=&#39;red&#39;&gt;åœ¨æœ¬åœ°æ­å»ºç§æœ‰ Docker Registry&lt;/font&gt;** ã€‚Docker å®˜æ–¹æä¾›äº† Docker Registry é•œåƒï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨åšä¸ºç§æœ‰ Registry æœåŠ¡ã€‚å¼€æºçš„ Docker Registry é•œåƒåªæä¾›äº† Docker Registry API çš„æœåŠ¡ç«¯å®ç°ï¼Œè¶³ä»¥æ”¯æŒ docker å‘½ä»¤ï¼Œä¸å½±å“ä½¿ç”¨ã€‚ä½†ä¸åŒ…å«å›¾å½¢ç•Œé¢ï¼Œä»¥åŠé•œåƒç»´æŠ¤ã€ç”¨æˆ·ç®¡ç†ã€è®¿é—®æ§åˆ¶ç­‰é«˜çº§åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;h3 id=&#34;dockerfile&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#dockerfile&#34;&gt;#&lt;/a&gt; Dockerfile&lt;/h3&gt;
&lt;p&gt;å®¹å™¨åŒ–çš„è¿‡ç¨‹åŒ…æ‹¬ä¸‰ä¸ªæ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç¼–å†™ Dockerfile&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ Dockerfile &lt;strong&gt;æ„å»º Image&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ Image &lt;strong&gt;åˆ›å»ºå’Œè¿è¡Œ Container&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å…¶ä¸­ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Dockerfile æ˜¯ä¸€ä¸ªåŒ…å«æŒ‡ä»¤çš„æ–‡æœ¬æ–‡ä»¶&lt;/font&gt;&lt;/strong&gt;ï¼Œç”¨äºå‘Šè¯‰ Docker å¦‚ä½•æ„å»ºåº”ç”¨ç¨‹åºçš„ Imageï¼ŒåŒ…æ‹¬åº”ç”¨ç¨‹åºçš„å‘½ä»¤ã€ä¾èµ–ã€é…ç½®ç¯å¢ƒå’Œè¿è¡Œç¯å¢ƒç­‰å†…å®¹ã€‚&lt;font color=&#39;red&#39;&gt;ä¸€èˆ¬åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º  &lt;code&gt;Dockerfile&lt;/code&gt;  çš„æ–‡ä»¶&lt;/font&gt;ï¼Œç¬¬ä¸€ä¸ªå­—æ¯ D å¤§å†™ï¼Œå…¶ä»–éƒ½å°å†™ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰äº† Image ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨è¯¥ Image æ¥åˆ›å»º Containerï¼Œå¹¶&lt;font color=&#39;red&#39;&gt;åœ¨ Container ä¸­è¿è¡Œåº”ç”¨ç¨‹åº&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20240121194842382.png&#34; alt=&#34;image-20240121194842382&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;docker-compose&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker-compose&#34;&gt;#&lt;/a&gt; Docker Compose&lt;/h3&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;docker compose å¯ä»¥å®šä¹‰å’Œè¿è¡Œå¤šä¸ª docker å®¹å™¨å’Œåº”ç”¨ç¨‹åºï¼Œè§£å†³æœåŠ¡ä¹‹é—´å…³è”å…³ç³»çš„é—®é¢˜&lt;/font&gt;ã€‚é€šè¿‡ä¸€ä¸ªå•ç‹¬çš„  &lt;code&gt;docker-compose.yml&lt;/code&gt;  é…ç½®æ–‡ä»¶ï¼Œå°†ä¸€ç»„äº’ç›¸å…³è”çš„å®¹å™¨ç»„åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªé¡¹ç›®ï¼Œç„¶å&lt;font color=&#39;red&#39;&gt;ä½¿ç”¨ä¸€æ¡å‘½ä»¤  &lt;code&gt;docker compose up&lt;/code&gt;  å°±å¯ä»¥å¯åŠ¨ã€åœæ­¢æˆ–é‡å»ºè¿™äº›æœåŠ¡ï¼Œæ–¹ä¾¿ç®¡ç†&lt;/font&gt;ã€‚è¿™å¯¹äºæé«˜å¼€å‘æ•ˆç‡å’Œå‡å°‘æ²Ÿé€šæˆæœ¬éå¸¸æœ‰ç”¨ï¼Œå»ºè®®åˆå­¦è€…å­¦ä¹ ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20240121194754264.png&#34; alt=&#34;image-20240121194754264&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;docker-å¸¸è§å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker-å¸¸è§å‘½ä»¤&#34;&gt;#&lt;/a&gt; Docker å¸¸è§å‘½ä»¤&lt;/h2&gt;
&lt;h3 id=&#34;åŸºæœ¬å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸºæœ¬å‘½ä»¤&#34;&gt;#&lt;/a&gt; åŸºæœ¬å‘½ä»¤&lt;/h3&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;figcaption data-lang=&#34;sh&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; version &lt;span class=&#34;token comment&#34;&gt;# æŸ¥çœ‹ docker ç‰ˆæœ¬&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; images &lt;span class=&#34;token comment&#34;&gt;# æŸ¥çœ‹æ‰€æœ‰å·²ä¸‹è½½é•œåƒï¼Œç­‰ä»·äºï¼šdocker image ls å‘½ä»¤&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; container &lt;span class=&#34;token function&#34;&gt;ls&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# æŸ¥çœ‹æ‰€æœ‰å®¹å™¨&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;ps&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;#æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; image prune &lt;span class=&#34;token comment&#34;&gt;# æ¸…ç†ä¸´æ—¶çš„ã€æ²¡æœ‰è¢«ä½¿ç”¨çš„é•œåƒæ–‡ä»¶ã€‚-a, --all: åˆ é™¤æ‰€æœ‰æ²¡æœ‰ç”¨çš„é•œåƒï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸´æ—¶æ–‡ä»¶ï¼›&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&#34;æ‹‰å–é•œåƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ‹‰å–é•œåƒ&#34;&gt;#&lt;/a&gt; æ‹‰å–é•œåƒ&lt;/h3&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;figcaption data-lang=&#34;sh&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; search mysql &lt;span class=&#34;token comment&#34;&gt;# æŸ¥çœ‹ mysql ç›¸å…³é•œåƒ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; pull mysql:5.7 &lt;span class=&#34;token comment&#34;&gt;# æ‹‰å– mysql é•œåƒ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; image &lt;span class=&#34;token function&#34;&gt;ls&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# æŸ¥çœ‹æ‰€æœ‰å·²ä¸‹è½½é•œåƒ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&#34;åˆ é™¤é•œåƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ é™¤é•œåƒ&#34;&gt;#&lt;/a&gt; åˆ é™¤é•œåƒ&lt;/h3&gt;
&lt;p&gt;æ¯”å¦‚æˆ‘ä»¬è¦åˆ é™¤æˆ‘ä»¬ä¸‹è½½çš„ mysql é•œåƒã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡  &lt;code&gt;docker rmi [image]&lt;/code&gt;  ï¼ˆç­‰ä»·äº &lt;code&gt;docker image rm [image]&lt;/code&gt; ï¼‰åˆ é™¤é•œåƒä¹‹å‰&lt;font color=&#39;red&#39;&gt;é¦–å…ˆè¦ç¡®ä¿è¿™ä¸ªé•œåƒæ²¡æœ‰è¢«å®¹å™¨å¼•ç”¨&lt;/font&gt;ï¼ˆå¯ä»¥é€šè¿‡ tag åç§°æˆ–è€… image ID åˆ é™¤ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼Œé€šè¿‡æˆ‘ä»¬å‰é¢è®²çš„ &lt;code&gt;docker ps&lt;/code&gt;  å‘½ä»¤å³å¯æŸ¥çœ‹ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;âœ  ~ &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;ps&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                               NAMES&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;c4cd691d9f80        mysql:5.7           &lt;span class=&#34;token string&#34;&gt;&#34;docker-entrypoint.sâ€¦&#34;&lt;/span&gt;   &lt;span class=&#34;token number&#34;&gt;7&lt;/span&gt; weeks ago         Up &lt;span class=&#34;token number&#34;&gt;12&lt;/span&gt; days          &lt;span class=&#34;token number&#34;&gt;0.0&lt;/span&gt;.0.0:3306-&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;3306&lt;/span&gt;/tcp, &lt;span class=&#34;token number&#34;&gt;33060&lt;/span&gt;/tcp   mysql&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ° mysql æ­£åœ¨è¢« id ä¸º c4cd691d9f80 çš„å®¹å™¨å¼•ç”¨ï¼Œæˆ‘ä»¬éœ€è¦é¦–å…ˆé€šè¿‡  &lt;code&gt;docker stop c4cd691d9f80&lt;/code&gt;  æˆ–è€…  &lt;code&gt;docker stop mysql&lt;/code&gt;  æš‚åœè¿™ä¸ªå®¹å™¨ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åæŸ¥çœ‹ mysql é•œåƒçš„ id&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;âœ  ~ &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; images&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;REPOSITORY              TAG                 IMAGE ID            CREATED             SIZE&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;mysql                   &lt;span class=&#34;token number&#34;&gt;5.7&lt;/span&gt;                 f6509bac4980        &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt; months ago        373MB&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;font color=&#39;red&#39;&gt;é€šè¿‡ IMAGE ID æˆ–è€… REPOSITORY åå­—å³å¯åˆ é™¤&lt;/font&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; rmi f6509bac4980 &lt;span class=&#34;token comment&#34;&gt;#  æˆ–è€… docker rmi mysql&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;docker-ä¸¤å¥å£å·&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker-ä¸¤å¥å£å·&#34;&gt;#&lt;/a&gt; Docker ä¸¤å¥å£å·&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;â€œBuild, Ship and Runï¼ˆæ­å»ºã€å‘é€ã€è¿è¡Œï¼‰â€&lt;/font&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;â€œBuildâ€‚onceï¼ŒRunâ€‚anywhereï¼ˆæ­å»ºä¸€æ¬¡ï¼Œåˆ°å¤„èƒ½ç”¨ï¼‰â€&lt;/font&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœä½ æœç´¢ Docker å®˜ç½‘ï¼Œä¼šå‘ç°å¦‚ä¸‹çš„å­—æ ·ï¼š&lt;strong&gt;â€œDocker - Build, Ship, and Run Any App, Anywhereâ€&lt;/strong&gt;ã€‚é‚£ä¹ˆ Build, Ship, and Run åˆ°åº•æ˜¯åœ¨å¹²ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/docker-build-ship-run.jpg&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Buildï¼ˆæ„å»ºé•œåƒï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šé•œåƒå°±åƒæ˜¯é›†è£…ç®±ï¼ŒåŒ…æ‹¬æ–‡ä»¶ä»¥åŠè¿è¡Œç¯å¢ƒç­‰ç­‰èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Shipï¼ˆè¿è¾“é•œåƒï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šä¸»æœºå’Œä»“åº“é—´è¿è¾“ï¼Œè¿™é‡Œçš„ä»“åº“å°±åƒæ˜¯è¶…çº§ç å¤´ä¸€æ ·ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Runï¼ˆè¿è¡Œé•œåƒï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šè¿è¡Œçš„é•œåƒå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®¹å™¨å°±æ˜¯è¿è¡Œç¨‹åºçš„åœ°æ–¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Docker è¿è¡Œè¿‡ç¨‹ä¹Ÿå°±æ˜¯å»ä»“åº“æŠŠé•œåƒæ‹‰åˆ°æœ¬åœ°ï¼Œç„¶åç”¨ä¸€æ¡å‘½ä»¤æŠŠé•œåƒè¿è¡Œèµ·æ¥å˜æˆå®¹å™¨&lt;/font&gt;ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¹Ÿå¸¸å¸¸å°† Docker ç§°ä¸ºç å¤´å·¥äººæˆ–ç å¤´è£…å¸å·¥ï¼Œè¿™å’Œ Docker çš„ä¸­æ–‡ç¿»è¯‘æ¬è¿å·¥äººå¦‚å‡ºä¸€è¾™ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;docker-åº•å±‚åŸç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker-åº•å±‚åŸç†&#34;&gt;#&lt;/a&gt; Docker åº•å±‚åŸç†&lt;/h2&gt;
&lt;h3 id=&#34;è™šæ‹ŸåŒ–æŠ€æœ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è™šæ‹ŸåŒ–æŠ€æœ¯&#34;&gt;#&lt;/a&gt; è™šæ‹ŸåŒ–æŠ€æœ¯&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆï¼ŒDocker &lt;strong&gt;å®¹å™¨è™šæ‹ŸåŒ–æŠ€æœ¯&lt;/strong&gt;ä¸ºåŸºç¡€çš„è½¯ä»¶ï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯è™šæ‹ŸåŒ–æŠ€æœ¯å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç®€å•ç‚¹æ¥è¯´ï¼Œè™šæ‹ŸåŒ–æŠ€æœ¯å¯ä»¥è¿™æ ·å®šä¹‰ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è™šæ‹ŸåŒ–æŠ€æœ¯æ˜¯ä¸€ç§èµ„æºç®¡ç†æŠ€æœ¯ï¼Œæ˜¯å°†è®¡ç®—æœºçš„å„ç§&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU4JUE4JTg4JUU3JUFFJTk3JUU2JUE5JTlGJUU3JUE3JTkxJUU1JUFEJUI4&#34;&gt;å®ä½“èµ„æº&lt;/span&gt;ï¼ˆ&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvQ1BV&#34;&gt;CPU&lt;/span&gt;ã€&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU1JTg2JTg1JUU1JUFEJTk4&#34;&gt;å†…å­˜&lt;/span&gt;ã€&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU3JUEzJTgxJUU3JTlCJTk4JUU3JUE5JUJBJUU5JTk3JUI0&#34;&gt;ç£ç›˜ç©ºé—´&lt;/span&gt;ã€&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU3JUI2JUIyJUU4JUI3JUFGJUU5JTgxJUE5JUU5JTg1JThEJUU1JTk5JUE4&#34;&gt;ç½‘ç»œé€‚é…å™¨&lt;/span&gt;ç­‰ï¼‰ï¼Œäºˆä»¥æŠ½è±¡ã€è½¬æ¢åå‘ˆç°å‡ºæ¥å¹¶å¯ä¾›åˆ†å‰²ã€ç»„åˆä¸ºä¸€ä¸ªæˆ–å¤šä¸ªç”µè„‘é…ç½®ç¯å¢ƒã€‚ç”±æ­¤ï¼Œæ‰“ç ´å®ä½“ç»“æ„é—´çš„ä¸å¯åˆ‡å‰²çš„éšœç¢ï¼Œä½¿ç”¨æˆ·å¯ä»¥æ¯”åŸæœ¬çš„é…ç½®æ›´å¥½çš„æ–¹å¼æ¥åº”ç”¨è¿™äº›ç”µè„‘ç¡¬ä»¶èµ„æºã€‚è¿™äº›èµ„æºçš„æ–°è™šæ‹Ÿéƒ¨åˆ†æ˜¯ä¸å—ç°æœ‰èµ„æºçš„æ¶è®¾æ–¹å¼ï¼Œåœ°åŸŸæˆ–ç‰©ç†é…ç½®æ‰€é™åˆ¶ã€‚ä¸€èˆ¬æ‰€æŒ‡çš„è™šæ‹ŸåŒ–èµ„æºåŒ…æ‹¬è®¡ç®—èƒ½åŠ›å’Œæ•°æ®å­˜å‚¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;docker-åŸºäº-lxc-è™šæ‹Ÿå®¹å™¨æŠ€æœ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker-åŸºäº-lxc-è™šæ‹Ÿå®¹å™¨æŠ€æœ¯&#34;&gt;#&lt;/a&gt; Docker åŸºäº LXC è™šæ‹Ÿå®¹å™¨æŠ€æœ¯&lt;/h3&gt;
&lt;p&gt;Docker æŠ€æœ¯æ˜¯åŸºäº &lt;strong&gt;LXCï¼ˆLinux container- Linux å®¹å™¨ï¼‰è™šæ‹Ÿå®¹å™¨æŠ€æœ¯&lt;/strong&gt;çš„ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;LXCï¼Œå…¶åç§°æ¥è‡ª Linux è½¯ä»¶å®¹å™¨ï¼ˆLinux Containersï¼‰çš„ç¼©å†™ï¼Œä¸€ç§æ“ä½œç³»ç»Ÿå±‚è™šæ‹ŸåŒ–ï¼ˆOperating systemâ€“level virtualizationï¼‰æŠ€æœ¯ï¼Œä¸º Linux å†…æ ¸å®¹å™¨åŠŸèƒ½çš„ä¸€ä¸ªç”¨æˆ·ç©ºé—´æ¥å£ã€‚å®ƒå°†åº”ç”¨è½¯ä»¶ç³»ç»Ÿæ‰“åŒ…æˆä¸€ä¸ªè½¯ä»¶å®¹å™¨ï¼ˆContainerï¼‰ï¼Œå†…å«åº”ç”¨è½¯ä»¶æœ¬èº«çš„ä»£ç ï¼Œä»¥åŠæ‰€éœ€è¦çš„æ“ä½œç³»ç»Ÿæ ¸å¿ƒå’Œåº“ã€‚é€šè¿‡ç»Ÿä¸€çš„åå­—ç©ºé—´å’Œå…±ç”¨ API æ¥åˆ†é…ä¸åŒè½¯ä»¶å®¹å™¨çš„å¯ç”¨ç¡¬ä»¶èµ„æºï¼Œåˆ›é€ å‡ºåº”ç”¨ç¨‹åºçš„ç‹¬ç«‹æ²™ç®±è¿è¡Œç¯å¢ƒï¼Œä½¿å¾— Linux ç”¨æˆ·å¯ä»¥å®¹æ˜“çš„åˆ›å»ºå’Œç®¡ç†ç³»ç»Ÿæˆ–åº”ç”¨å®¹å™¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;LXC æŠ€æœ¯ä¸»è¦æ˜¯å€ŸåŠ© Linux å†…æ ¸ä¸­æä¾›çš„ CGroup åŠŸèƒ½å’Œ namespace æ¥å®ç°çš„ï¼Œé€šè¿‡ LXC å¯ä»¥ä¸ºè½¯ä»¶æä¾›ä¸€ä¸ªç‹¬ç«‹çš„æ“ä½œç³»ç»Ÿè¿è¡Œç¯å¢ƒ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;cgroup å’Œ namespace ä»‹ç»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;namespace æ˜¯ Linux å†…æ ¸ç”¨æ¥éš”ç¦»å†…æ ¸èµ„æºçš„æ–¹å¼ã€‚&lt;/font&gt;&lt;/strong&gt; é€šè¿‡ namespace å¯ä»¥è®©ä¸€äº›è¿›ç¨‹åªèƒ½çœ‹åˆ°ä¸è‡ªå·±ç›¸å…³çš„ä¸€éƒ¨åˆ†èµ„æºï¼Œè€Œå¦å¤–ä¸€äº›è¿›ç¨‹ä¹Ÿåªèƒ½çœ‹åˆ°ä¸å®ƒä»¬è‡ªå·±ç›¸å…³çš„èµ„æºï¼Œè¿™ä¸¤æ‹¨è¿›ç¨‹æ ¹æœ¬å°±æ„Ÿè§‰ä¸åˆ°å¯¹æ–¹çš„å­˜åœ¨ã€‚å…·ä½“çš„å®ç°æ–¹å¼æ˜¯æŠŠä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹çš„ç›¸å…³èµ„æºæŒ‡å®šåœ¨åŒä¸€ä¸ª namespace ä¸­ã€‚Linux namespaces æ˜¯å¯¹å…¨å±€ç³»ç»Ÿèµ„æºçš„ä¸€ç§å°è£…éš”ç¦»ï¼Œä½¿å¾—å¤„äºä¸åŒ namespace çš„è¿›ç¨‹æ‹¥æœ‰ç‹¬ç«‹çš„å…¨å±€ç³»ç»Ÿèµ„æºï¼Œæ”¹å˜ä¸€ä¸ª namespace ä¸­çš„ç³»ç»Ÿèµ„æºåªä¼šå½±å“å½“å‰ namespace é‡Œçš„è¿›ç¨‹ï¼Œå¯¹å…¶ä»– namespace ä¸­çš„è¿›ç¨‹æ²¡æœ‰å½±å“ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;CGroup æ˜¯ Control Groups çš„ç¼©å†™ï¼Œæ˜¯ Linux å†…æ ¸æä¾›çš„ä¸€ç§å¯ä»¥é™åˆ¶ã€è®°å½•ã€éš”ç¦»è¿›ç¨‹ç»„ (process groups) æ‰€ä½¿ç”¨çš„ç‰©åŠ›èµ„æº (å¦‚ cpu memory i/o ç­‰ç­‰) çš„æœºåˆ¶&lt;/font&gt;ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;cgroup å’Œ namespace ä¸¤è€…å¯¹æ¯”ï¼š&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ä¸¤è€…éƒ½æ˜¯å°†è¿›ç¨‹è¿›è¡Œåˆ†ç»„&lt;/font&gt;ï¼Œä½†æ˜¯ä¸¤è€…çš„ä½œç”¨è¿˜æ˜¯æœ‰æœ¬è´¨åŒºåˆ«ã€‚&lt;font color=&#39;red&#39;&gt;namespace æ˜¯ä¸ºäº†éš”ç¦»è¿›ç¨‹ç»„ä¹‹é—´çš„èµ„æºï¼Œè€Œ cgroup æ˜¯ä¸ºäº†å¯¹ä¸€ç»„è¿›ç¨‹è¿›è¡Œç»Ÿä¸€çš„èµ„æºç›‘æ§å’Œé™åˆ¶&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ€»ç»“&#34;&gt;#&lt;/a&gt; æ€»ç»“&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡ä¸»è¦æŠŠ Docker ä¸­çš„ä¸€äº›å¸¸è§æ¦‚å¿µåšäº†è¯¦ç»†çš„é˜è¿°ï¼Œä½†æ˜¯å¹¶ä¸æ¶‰åŠ Docker çš„å®‰è£…ã€é•œåƒçš„ä½¿ç”¨ã€å®¹å™¨çš„æ“ä½œç­‰å†…å®¹ã€‚è¿™éƒ¨åˆ†ä¸œè¥¿ï¼Œå¸Œæœ›è¯»è€…è‡ªå·±å¯ä»¥é€šè¿‡é˜…è¯»ä¹¦ç±ä¸å®˜æ–¹æ–‡æ¡£çš„å½¢å¼æŒæ¡ã€‚å¦‚æœè§‰å¾—å®˜æ–¹æ–‡æ¡£é˜…è¯»èµ·æ¥å¾ˆè´¹åŠ›çš„è¯ï¼Œè¿™é‡Œæ¨èä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ã€ŠDocker æŠ€æœ¯å…¥é—¨ä¸å®æˆ˜ç¬¬äºŒç‰ˆã€‹[&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly95ZWFzeS5naXRib29rLmlvL2RvY2tlcl9wcmFjdGljZS8=&#34;&gt;å‰è¨€ - Docker â€” ä»å…¥é—¨åˆ°å®è·µ (gitbook.io)&lt;/span&gt;]&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC81MzI2MDA5OA==&#34;&gt;10 åˆ†é’Ÿçœ‹æ‡‚ Docker å’Œ K8S&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuaW5mb3EuY24vYXJ0aWNsZS90ZTcwRmxTeXhobHRMMUNyN2d6TQ==&#34;&gt;ä»é›¶å¼€å§‹å…¥é—¨ K8sï¼šè¯¦è§£ K8s å®¹å™¨åŸºæœ¬æ¦‚å¿µ&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;docker-å®æˆ˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker-å®æˆ˜&#34;&gt;#&lt;/a&gt; Docker å®æˆ˜&lt;/h1&gt;
&lt;h2 id=&#34;å®‰è£…&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®‰è£…&#34;&gt;#&lt;/a&gt; å®‰è£…&lt;/h2&gt;
&lt;h3 id=&#34;windows&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#windows&#34;&gt;#&lt;/a&gt; Windows&lt;/h3&gt;
&lt;h3 id=&#34;mac&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mac&#34;&gt;#&lt;/a&gt; Mac&lt;/h3&gt;
&lt;p&gt;ç›´æ¥ä½¿ç”¨ Homebrew å®‰è£…å³å¯&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;figcaption data-lang=&#34;sh&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;brew &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;--cask&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&#34;linux&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#linux&#34;&gt;#&lt;/a&gt; Linux&lt;/h3&gt;
&lt;p&gt;ä¸‹é¢æ¥çœ‹çœ‹ Linux ä¸­å¦‚ä½•å®‰è£… Dockerï¼Œè¿™é‡Œä»¥ &lt;strong&gt;CentOS7&lt;/strong&gt; ä¸ºä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æµ‹è¯•æˆ–å¼€å‘ç¯å¢ƒä¸­ï¼ŒDocker å®˜æ–¹ä¸ºäº†ç®€åŒ–å®‰è£…æµç¨‹ï¼Œæä¾›äº†ä¸€å¥—ä¾¿æ·çš„å®‰è£…è„šæœ¬ï¼Œæ‰§è¡Œè¿™ä¸ªè„šæœ¬åå°±ä¼šè‡ªåŠ¨åœ°å°†ä¸€åˆ‡å‡†å¤‡å·¥ä½œåšå¥½ï¼Œå¹¶ä¸”æŠŠ Docker çš„ç¨³å®šç‰ˆæœ¬å®‰è£…åœ¨ç³»ç»Ÿä¸­ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;curl&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-fsSL&lt;/span&gt; get.docker.com &lt;span class=&#34;token parameter variable&#34;&gt;-o&lt;/span&gt; get-docker.sh&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sh&lt;/span&gt; get-docker.sh &lt;span class=&#34;token parameter variable&#34;&gt;--mirror&lt;/span&gt; Aliyun&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å®‰è£…å®Œæˆåç›´æ¥å¯åŠ¨æœåŠ¡ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;systemctl start &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æ¨èè®¾ç½®å¼€æœºè‡ªå¯ï¼Œæ‰§è¡ŒæŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;systemctl &lt;span class=&#34;token builtin class-name&#34;&gt;enable&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;å‡ ä¸ªæ¦‚å¿µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‡ ä¸ªæ¦‚å¿µ&#34;&gt;#&lt;/a&gt; å‡ ä¸ªæ¦‚å¿µ&lt;/h2&gt;
&lt;h3 id=&#34;é•œåƒimage&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é•œåƒimage&#34;&gt;#&lt;/a&gt; é•œåƒï¼ˆImageï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;Image æ˜¯ä¸€ä¸ªåªè¯»çš„æ¨¡æ¿ï¼Œå¯ä»¥ç”¨æ¥åˆ›å»ºå¤šä¸ª ContainerÂ &lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®¹å™¨container&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®¹å™¨container&#34;&gt;#&lt;/a&gt; å®¹å™¨ï¼ˆContainerï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;Container æ˜¯æ ¹æ® Image åˆ›å»ºçš„è¿è¡Œå®ä¾‹&lt;/font&gt;ï¼ŒDocker åˆ©ç”¨ Container ç‹¬ç«‹è¿è¡Œä¸€ä¸ªæˆ–ä¸€ç»„åº”ç”¨ã€‚å®ƒå¯ä»¥è¢«å¯åŠ¨ã€å¼€å§‹ã€åœæ­¢ã€åˆ é™¤ï¼Œæ¯ä¸ª Container éƒ½æ˜¯ç›¸äº’éš”ç¦»çš„ã€ä¿è¯å®‰å…¨çš„å¹³å°ã€‚ å¯ä»¥æŠŠ Container çœ‹ä½œæ˜¯ä¸€ä¸ªç®€æ˜“çš„ Linux ç¯å¢ƒå’Œè¿è¡Œåœ¨å…¶ä¸­çš„åº”ç”¨ç¨‹åºã€‚Container çš„å®šä¹‰å’Œ Image å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€å †å±‚çš„ç»Ÿä¸€è§†è§’ï¼Œ&lt;font color=&#39;red&#39;&gt;å”¯ä¸€åŒºåˆ«åœ¨äº Container çš„æœ€ä¸Šé¢é‚£ä¸€å±‚æ˜¯å¯è¯»å¯å†™çš„&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä»“åº“repository&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»“åº“repository&#34;&gt;#&lt;/a&gt; ä»“åº“ï¼ˆRepositoryï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ä»“åº“ï¼ˆRepositoryï¼‰æ˜¯é›†ä¸­å­˜æ”¾ Image æ–‡ä»¶çš„åœºæ‰€&lt;/font&gt;ã€‚ä»“åº“ï¼ˆRepositoryï¼‰å’Œä»“åº“æ³¨å†ŒæœåŠ¡å™¨ï¼ˆRegistryï¼‰æ˜¯æœ‰åŒºåˆ«çš„ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Registry ä¸Šå¾€å¾€å­˜æ”¾ç€å¤šä¸ª Repositoryï¼Œæ¯ä¸ª Repository ä¸­åˆåŒ…å«äº†å¤šä¸ª Imageï¼Œæ¯ä¸ª Image æœ‰ä¸åŒçš„ Tag&lt;/font&gt;&lt;/strong&gt;ã€‚Repository åˆ†ä¸ºå…¬å¼€ Repository å’Œç§æœ‰ Repository ä¸¤ç§å½¢å¼ï¼Œ&lt;font color=&#39;red&#39;&gt;æœ€å¤§çš„å…¬å¼€ Repository æ˜¯ DockerHub&lt;/font&gt;ï¼Œå­˜æ”¾äº†æ•°é‡åºå¤§çš„é•œåƒä¾›ç”¨æˆ·ä¸‹è½½ï¼Œ&lt;font color=&#39;red&#39;&gt;å›½å†…çš„å…¬å¼€ä»“åº“æœ‰é˜¿é‡Œäº‘ã€ç½‘æ˜“äº‘&lt;/font&gt;ç­‰&lt;/p&gt;
&lt;h3 id=&#34;æ€»ç»“-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ€»ç»“-2&#34;&gt;#&lt;/a&gt; æ€»ç»“&lt;/h3&gt;
&lt;p&gt;é€šä¿—ç‚¹è¯´ï¼Œä¸€ä¸ª Image å°±ä»£è¡¨ä¸€ä¸ªè½¯ä»¶ï¼›è€ŒåŸºäºæŸä¸ª Image è¿è¡Œå°±æ˜¯ç”Ÿæˆä¸€ä¸ªç¨‹åºå®ä¾‹ï¼Œè¿™ä¸ªç¨‹åºå®ä¾‹å°±æ˜¯ Container ï¼›è€Œ Repository æ˜¯ç”¨æ¥å­˜å‚¨ Docker ä¸­æ‰€æœ‰ Image çš„ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ Repository åˆåˆ†ä¸ºè¿œç¨‹ Repository å’Œæœ¬åœ° Repositoryã€‚&lt;/p&gt;
&lt;p&gt;å’Œ Maven ç±»ä¼¼ï¼Œå€˜è‹¥æ¯æ¬¡éƒ½ä»è¿œç¨‹ä¸‹è½½ä¾èµ–ï¼Œåˆ™ä¼šå¤§å¤§é™ä½æ•ˆç‡ã€‚ä¸ºæ­¤ï¼ŒMaven çš„ç­–ç•¥æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®ä¾èµ–æ—¶ï¼Œå°†å…¶ä¸‹è½½åˆ°æœ¬åœ°ä»“åº“ï¼Œç¬¬äºŒæ¬¡ã€ç¬¬ä¸‰æ¬¡ä½¿ç”¨æ—¶ç›´æ¥ç”¨æœ¬åœ°ä»“åº“çš„ä¾èµ–å³å¯ï¼ŒDocker çš„è¿œç¨‹ Repository å’Œæœ¬åœ° Repository çš„ä½œç”¨ä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åˆä½“éªŒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆä½“éªŒ&#34;&gt;#&lt;/a&gt; åˆä½“éªŒ&lt;/h2&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬æ¥å¯¹ Docker è¿›è¡Œä¸€ä¸ªåˆæ­¥çš„ä½¿ç”¨ï¼Œè¿™é‡Œä»¥ä¸‹è½½ä¸€ä¸ª MySQL çš„é•œåƒä¸ºä¾‹ &lt;code&gt;(åœ¨CentOS7ä¸‹è¿›è¡Œ)&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;å’Œ GitHub ä¸€æ ·ï¼ŒDocker ä¹Ÿæä¾›äº†ä¸€ä¸ª DockerHub ç”¨äºæŸ¥è¯¢å„ç§é•œåƒçš„åœ°å€å’Œå®‰è£…æ•™ç¨‹ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬å…ˆè®¿é—® DockerHubï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9odWIuZG9ja2VyLmNvbS8=&#34;&gt;https://hub.docker.com/&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/dockerhub-com.png&#34; alt=&#34;DockerHub&#34; /&gt;&lt;/p&gt;
&lt;center&gt;DockerHub&lt;/center&gt;
&lt;p&gt;åœ¨å·¦ä¸Šè§’çš„æœç´¢æ¡†ä¸­è¾“å…¥ &lt;code&gt;MySQL&lt;/code&gt;  å¹¶å›è½¦ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/dockerhub-mysql.png&#34; alt=&#34;DockerHub æœç´¢ MySQL&#34; /&gt;&lt;/p&gt;
&lt;center&gt;DockerHub æœç´¢ MySQL&lt;/center&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ç›¸å…³ MySQL çš„é•œåƒéå¸¸å¤šï¼Œè‹¥å³ä¸Šè§’æœ‰ &lt;code&gt;OFFICIAL IMAGE&lt;/code&gt;  æ ‡è¯†ï¼Œåˆ™è¯´æ˜æ˜¯å®˜æ–¹é•œåƒï¼Œæ‰€ä»¥æˆ‘ä»¬ç‚¹å‡»ç¬¬ä¸€ä¸ª MySQL é•œåƒï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/dockerhub-mysql-official-image.png&#34; alt=&#34;MySQL å®˜æ–¹é•œåƒ&#34; /&gt;&lt;/p&gt;
&lt;center&gt;MySQL å®˜æ–¹é•œåƒ&lt;/center&gt;
&lt;p&gt;å³è¾¹æä¾›äº†ä¸‹è½½ MySQL é•œåƒçš„æŒ‡ä»¤ä¸º &lt;code&gt;docker pull MySQL&lt;/code&gt; ï¼Œä½†è¯¥æŒ‡ä»¤å§‹ç»ˆä¼šä¸‹è½½ MySQL é•œåƒçš„æœ€æ–°ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;è‹¥æ˜¯æƒ³ä¸‹è½½æŒ‡å®šç‰ˆæœ¬çš„é•œåƒï¼Œåˆ™ç‚¹å‡»ä¸‹é¢çš„ &lt;code&gt;View Available Tags&lt;/code&gt; ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/dockerhub-mysql-view-available-tags.png&#34; alt=&#34;æŸ¥çœ‹å…¶ä»–ç‰ˆæœ¬çš„ MySQL&#34; /&gt;&lt;/p&gt;
&lt;center&gt;æŸ¥çœ‹å…¶ä»–ç‰ˆæœ¬çš„ MySQL&lt;/center&gt;
&lt;p&gt;è¿™é‡Œå°±å¯ä»¥çœ‹åˆ°å„ç§ç‰ˆæœ¬çš„é•œåƒï¼Œå³è¾¹æœ‰ä¸‹è½½çš„æŒ‡ä»¤ï¼Œæ‰€ä»¥è‹¥æ˜¯æƒ³ä¸‹è½½ 5.7.32 ç‰ˆæœ¬çš„ MySQL é•œåƒï¼Œåˆ™æ‰§è¡Œï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; pull MySQL:5.7.32&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;hr /&gt;
&lt;p&gt;ç„¶è€Œä¸‹è½½é•œåƒçš„è¿‡ç¨‹æ˜¯éå¸¸æ…¢çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é…ç½®ä¸€ä¸‹é•œåƒæºåŠ é€Ÿä¸‹è½½ï¼Œè®¿é—® &lt;code&gt;é˜¿é‡Œäº‘&lt;/code&gt; å®˜ç½‘ï¼Œç‚¹å‡»&lt;font color=&#39;red&#39;&gt;æ§åˆ¶å°&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/docker-aliyun-mirror-admin.png&#34; alt=&#34;é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ&#34; /&gt;&lt;/p&gt;
&lt;center&gt;é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ&lt;/center&gt;
&lt;p&gt;ç„¶åç‚¹å‡»å·¦ä¸Šè§’çš„èœå•ï¼Œåœ¨å¼¹çª—çš„çª—å£ä¸­ï¼Œå°†é¼ æ ‡æ‚¬åœåœ¨&lt;font color=&#39;red&#39;&gt;äº§å“ä¸æœåŠ¡&lt;/font&gt;ä¸Šï¼Œå¹¶åœ¨å³ä¾§æœç´¢&lt;font color=&#39;red&#39;&gt;å®¹å™¨é•œåƒæœåŠ¡&lt;/font&gt;ï¼Œæœ€åç‚¹å‡»å®¹å™¨é•œåƒæœåŠ¡ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/docker-aliyun-mirror-admin-accelerator.png&#34; alt=&#34;é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ&#34; /&gt;&lt;/p&gt;
&lt;center&gt;é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ&lt;/center&gt;
&lt;p&gt;ç‚¹å‡»å·¦ä¾§çš„é•œåƒåŠ é€Ÿå™¨ï¼Œå¹¶ä¾æ¬¡æ‰§è¡Œå³ä¾§çš„é…ç½®æŒ‡ä»¤å³å¯ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; /etc/docker&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;tee&lt;/span&gt; /etc/docker/daemon.json &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&amp;lt;-&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;EOF&#39;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&amp;#123;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &#34;registry-mirrors&#34;: [&#34;https://679xpnpz.mirror.aliyuncs.com&#34;]&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&amp;#125;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;EOF&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; systemctl daemon-reload&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; systemctl restart &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;image-æŒ‡ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#image-æŒ‡ä»¤&#34;&gt;#&lt;/a&gt; Image æŒ‡ä»¤&lt;/h2&gt;
&lt;p&gt;è‹¥æƒ³ **&lt;font color=&#39;red&#39;&gt;æŸ¥çœ‹ Docker ä¸­å½“å‰æ‹¥æœ‰å“ªäº›é•œåƒ&lt;/font&gt;**ï¼Œåˆ™å¯ä»¥ä½¿ç”¨  &lt;code&gt;docker images&lt;/code&gt;  å‘½ä»¤ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@izrcf5u3j3q8xaz ~&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# docker images&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;REPOSITORY    TAG       IMAGE ID       CREATED         SIZE&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;MySQL         &lt;span class=&#34;token number&#34;&gt;5.7&lt;/span&gt;.32    f07dfa83b528   &lt;span class=&#34;token number&#34;&gt;11&lt;/span&gt; days ago     448MB&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;tomcat        latest    feba8d001e3f   &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; weeks ago     649MB&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;nginx         latest    ae2feff98a0c   &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; weeks ago     133MB&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;hello-world   latest    bf756fb1ae65   &lt;span class=&#34;token number&#34;&gt;12&lt;/span&gt; months ago   &lt;span class=&#34;token number&#34;&gt;13&lt;/span&gt;.3kB&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å…¶ä¸­ &lt;code&gt;REPOSITORY&lt;/code&gt; &lt;font color=&#39;red&#39;&gt;ä¸ºé•œåƒå&lt;/font&gt;ï¼Œ &lt;code&gt;TAG&lt;/code&gt;  ä¸ºç‰ˆæœ¬æ ‡å¿—ï¼Œ &lt;code&gt;IMAGE ID&lt;/code&gt;  ä¸ºé•œåƒ id (å”¯ä¸€çš„)ï¼Œ &lt;code&gt;CREATED&lt;/code&gt;  ä¸ºåˆ›å»ºæ—¶é—´ï¼Œæ³¨æ„è¿™ä¸ªæ—¶é—´å¹¶ä¸æ˜¯æˆ‘ä»¬å°†é•œåƒä¸‹è½½åˆ° Docker ä¸­çš„æ—¶é—´ï¼Œè€Œæ˜¯&lt;font color=&#39;red&#39;&gt;é•œåƒåˆ›å»ºè€…åˆ›å»ºçš„æ—¶é—´&lt;/font&gt;ï¼Œ &lt;code&gt;SIZE&lt;/code&gt;  ä¸ºé•œåƒå¤§å°ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;è¯¥æŒ‡ä»¤èƒ½å¤Ÿ **&lt;font color=&#39;red&#39;&gt;æ ¹æ®é•œåƒåæŸ¥è¯¢æŒ‡å®šé•œåƒ&lt;/font&gt;**ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; image MySQL&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è‹¥å¦‚æ­¤åšï¼Œåˆ™ä¼šæŸ¥è¯¢å‡º Docker ä¸­çš„æ‰€æœ‰ MySQL é•œåƒï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@izrcf5u3j3q8xaz ~&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# docker images MySQL&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;REPOSITORY   TAG       IMAGE ID       CREATED         SIZE&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;MySQL        &lt;span class=&#34;token number&#34;&gt;5.6&lt;/span&gt;       0ebb5600241d   &lt;span class=&#34;token number&#34;&gt;11&lt;/span&gt; days ago     302MB&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;MySQL        &lt;span class=&#34;token number&#34;&gt;5.7&lt;/span&gt;.32    f07dfa83b528   &lt;span class=&#34;token number&#34;&gt;11&lt;/span&gt; days ago     448MB&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;MySQL        &lt;span class=&#34;token number&#34;&gt;5.5&lt;/span&gt;       d404d78aa797   &lt;span class=&#34;token number&#34;&gt;20&lt;/span&gt; months ago   205MB&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è¯¥æŒ‡ä»¤è¿˜èƒ½å¤Ÿæºå¸¦ &lt;code&gt;-q&lt;/code&gt;  å‚æ•°ï¼š &lt;code&gt;docker images -q&lt;/code&gt;  ï¼Œ  &lt;code&gt;-q&lt;/code&gt; &lt;font color=&#39;red&#39;&gt;è¡¨ç¤ºä»…æ˜¾ç¤ºé•œåƒçš„ id&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@izrcf5u3j3q8xaz ~&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# docker images -q&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;0ebb5600241d&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;f07dfa83b528&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;feba8d001e3f&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;d404d78aa797&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;hr /&gt;
&lt;p&gt;è‹¥æ˜¯è¦ **&lt;font color=&#39;red&#39;&gt;ä¸‹è½½æŒ‡å®šç‰ˆæœ¬çš„é•œåƒ&lt;/font&gt;**ï¼Œåˆ™ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; pull MySQL:5.7&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;code&gt;docker pull&lt;/code&gt;  æ˜¯å›ºå®šçš„ï¼Œåé¢å†™ä¸Šéœ€è¦ä¸‹è½½çš„é•œåƒååŠç‰ˆæœ¬æ ‡å¿—ï¼›è‹¥æ˜¯ä¸å†™ç‰ˆæœ¬æ ‡å¿—ï¼Œè€Œæ˜¯ç›´æ¥æ‰§è¡Œ &lt;code&gt;docker pull MySQL&lt;/code&gt; ï¼Œåˆ™ä¼šä¸‹è½½é•œåƒçš„æœ€æ–°ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬åœ¨ä¸‹è½½é•œåƒå‰æˆ‘ä»¬éœ€è¦ **&lt;font color=&#39;red&#39;&gt;æœç´¢ä¸€ä¸‹é•œåƒæœ‰å“ªäº›ç‰ˆæœ¬&lt;/font&gt;** æ‰èƒ½å¯¹æŒ‡å®šç‰ˆæœ¬è¿›è¡Œä¸‹è½½ï¼Œä½¿ç”¨æŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;figcaption data-lang=&#34;sh&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; search MySQL&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/docker-search-mysql-terminal.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¸è¿‡è¯¥æŒ‡ä»¤åªèƒ½æŸ¥çœ‹ MySQL ç›¸å…³çš„é•œåƒä¿¡æ¯ï¼Œè€Œä¸èƒ½çŸ¥é“æœ‰å“ªäº›ç‰ˆæœ¬ï¼Œè‹¥æƒ³çŸ¥é“ç‰ˆæœ¬ï¼Œåˆ™åªèƒ½è¿™æ ·æŸ¥è¯¢ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; search MySQL:5.5&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è‹¥æ˜¯æŸ¥è¯¢çš„ç‰ˆæœ¬ä¸å­˜åœ¨ï¼Œåˆ™ç»“æœä¸ºç©ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/docker-search-mysql-404-terminal.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;**&lt;font color=&#39;red&#39;&gt;åˆ é™¤é•œåƒ&lt;/font&gt;** ä½¿ç”¨æŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; image &lt;span class=&#34;token function&#34;&gt;rm&lt;/span&gt; MySQL:5.5&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è‹¥æ˜¯ä¸æŒ‡å®šç‰ˆæœ¬ï¼Œåˆ™é»˜è®¤åˆ é™¤çš„ä¹Ÿæ˜¯æœ€æ–°ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜å¯ä»¥é€šè¿‡&lt;font color=&#39;red&#39;&gt;æŒ‡å®šé•œåƒ id è¿›è¡Œåˆ é™¤&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; image &lt;span class=&#34;token function&#34;&gt;rm&lt;/span&gt; bf756fb1ae65&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ç„¶è€Œæ­¤æ—¶æŠ¥é”™äº†ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@izrcf5u3j3q8xaz ~&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# docker image rm bf756fb1ae65&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Error response from daemon: conflict: unable to delete bf756fb1ae65 &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;must be forced&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; - image is being used by stopped container d5b6c177c151&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è¿™æ˜¯å› ä¸ºè¦åˆ é™¤çš„ &lt;code&gt;hello-world&lt;/code&gt;  é•œåƒæ­£åœ¨è¿è¡Œä¸­ï¼Œæ‰€ä»¥æ— æ³•åˆ é™¤é•œåƒï¼Œæ­¤æ—¶éœ€è¦&lt;font color=&#39;red&#39;&gt;å¼ºåˆ¶æ‰§è¡Œåˆ é™¤&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; image &lt;span class=&#34;token function&#34;&gt;rm&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-f&lt;/span&gt; bf756fb1ae65&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;font color=&#39;red&#39;&gt;è¯¥æŒ‡ä»¤ä¼šå°†é•œåƒå’Œé€šè¿‡è¯¥é•œåƒæ‰§è¡Œçš„å®¹å™¨å…¨éƒ¨åˆ é™¤ï¼Œè°¨æ…ä½¿ç”¨&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Docker è¿˜æä¾›äº† **&lt;font color=&#39;red&#39;&gt;åˆ é™¤é•œåƒçš„ç®€åŒ–ç‰ˆæœ¬&lt;/font&gt;**ï¼š &lt;code&gt;docker rmi é•œåƒå:ç‰ˆæœ¬æ ‡å¿—&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶æˆ‘ä»¬å³å¯å€ŸåŠ© &lt;code&gt;rmi&lt;/code&gt;  å’Œ &lt;code&gt;-q&lt;/code&gt;  è¿›è¡Œä¸€äº›è”åˆæ“ä½œï¼Œæ¯”å¦‚ç°åœ¨æƒ³åˆ é™¤æ‰€æœ‰çš„ MySQL é•œåƒï¼Œé‚£ä¹ˆä½ éœ€è¦æŸ¥è¯¢å‡º MySQL é•œåƒçš„ idï¼Œå¹¶æ ¹æ®è¿™äº› id ä¸€ä¸ªä¸€ä¸ªåœ°æ‰§è¡Œ &lt;code&gt;docker rmi&lt;/code&gt;  è¿›è¡Œåˆ é™¤ï¼Œä½†æ˜¯ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; rmi &lt;span class=&#34;token parameter variable&#34;&gt;-f&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;&lt;span class=&#34;token variable&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; images MySQL &lt;span class=&#34;token parameter variable&#34;&gt;-q&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é¦–å…ˆé€šè¿‡ &lt;code&gt;docker images MySQL -q&lt;/code&gt;  æŸ¥è¯¢å‡º MySQL çš„æ‰€æœ‰é•œåƒ idï¼Œ &lt;code&gt;-q&lt;/code&gt;  è¡¨ç¤ºä»…æŸ¥è¯¢ idï¼Œå¹¶å°†è¿™äº› id ä½œä¸ºå‚æ•°ä¼ é€’ç»™ &lt;code&gt;docker rmi -f&lt;/code&gt;  æŒ‡ä»¤ï¼Œè¿™æ ·æ‰€æœ‰çš„ MySQL é•œåƒå°±éƒ½è¢«åˆ é™¤äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;container-æŒ‡ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#container-æŒ‡ä»¤&#34;&gt;#&lt;/a&gt; Container æŒ‡ä»¤&lt;/h2&gt;
&lt;p&gt;æŒæ¡äº†é•œåƒçš„ç›¸å…³æŒ‡ä»¤ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸‹å®¹å™¨çš„æŒ‡ä»¤ï¼Œå®¹å™¨æ˜¯åŸºäºé•œåƒçš„ã€‚&lt;/p&gt;
&lt;p&gt;è‹¥éœ€è¦ **&lt;font color=&#39;red&#39;&gt;é€šè¿‡ Image è¿è¡Œä¸€ä¸ª Container&lt;/font&gt;**ï¼Œåˆ™ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run tomcat:8.0-jre8&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å½“ç„¶äº†ï¼Œè¿è¡Œçš„å‰ææ˜¯ä½ æ‹¥æœ‰è¿™ä¸ªé•œåƒï¼Œæ‰€ä»¥&lt;font color=&#39;red&#39;&gt;å…ˆä¸‹è½½é•œåƒ&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; pull tomcat:8.0-jre8&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;hr /&gt;
&lt;p&gt;ä¸‹è½½å®Œæˆåå°±å¯ä»¥è¿è¡Œäº†ï¼Œè¿è¡Œå **&lt;font color=&#39;red&#39;&gt;æŸ¥çœ‹ä¸€ä¸‹å½“å‰è¿è¡Œçš„ Container&lt;/font&gt;**ï¼š &lt;code&gt;docker ps&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/docker-ps-terminal.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ &lt;code&gt;CONTAINER_ID&lt;/code&gt;  ä¸ºå®¹å™¨çš„ idï¼Œ &lt;code&gt;IMAGE&lt;/code&gt;  ä¸ºé•œåƒåï¼Œ &lt;code&gt;COMMAND&lt;/code&gt; &lt;font color=&#39;red&#39;&gt;ä¸ºå®¹å™¨å†…æ‰§è¡Œçš„å‘½ä»¤&lt;/font&gt;ï¼Œ &lt;code&gt;CREATED&lt;/code&gt;  ä¸ºå®¹å™¨çš„åˆ›å»ºæ—¶é—´ï¼Œ &lt;code&gt;STATUS&lt;/code&gt;  ä¸ºå®¹å™¨çš„çŠ¶æ€ï¼Œ &lt;code&gt;PORTS&lt;/code&gt; &lt;font color=&#39;red&#39;&gt;ä¸ºå®¹å™¨å†…æœåŠ¡ç›‘å¬çš„ç«¯å£&lt;/font&gt;ï¼Œ &lt;code&gt;NAMES&lt;/code&gt; &lt;font color=&#39;red&#39;&gt;ä¸ºå®¹å™¨çš„åç§°&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥æŒ‡ä»¤æœ‰å‡ ä¸ªå‚æ•°ï¼Œæ¯”å¦‚ &lt;code&gt;-a&lt;/code&gt; ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;ps&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-a&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è¯¥å‚æ•°ä¼š&lt;font color=&#39;red&#39;&gt;å°†è¿è¡Œå’Œéè¿è¡Œçš„å®¹å™¨å…¨éƒ¨åˆ—ä¸¾å‡ºæ¥&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-q&lt;/code&gt;  å‚æ•°å°†&lt;font color=&#39;red&#39;&gt;æŸ¥è¯¢ç»“æœåªæ˜¾ç¤ºå®¹å™¨ id&lt;/font&gt;ï¼š &lt;code&gt;docker ps -q&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@izrcf5u3j3q8xaz ~&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# docker ps -q&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;f3aac8ee94a3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;074bf575249b&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;1d557472a708&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;4421848ba294&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è‹¥æ˜¯ç»„åˆä½¿ç”¨ï¼Œåˆ™æŸ¥è¯¢è¿è¡Œå’Œéè¿è¡Œçš„æ‰€æœ‰å®¹å™¨ idï¼š &lt;code&gt;docker ps -qa&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@izrcf5u3j3q8xaz ~&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# docker ps -aq&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;f3aac8ee94a3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;7f7b0e80c841&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;074bf575249b&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;a1e830bddc4c&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;1d557472a708&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;4421848ba294&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;b0440c0a219a&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;c2f5d78c5d1a&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;5831d1bab2a6&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;d5b6c177c151&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;hr /&gt;
&lt;p&gt;é€šè¿‡è¯¥æ–¹å¼è¿è¡Œçš„ tomcat æ˜¯ä¸èƒ½ç›´æ¥è¢«å¤–éƒ¨è®¿é—®çš„ï¼Œå› ä¸ºå®¹å™¨å…·æœ‰éš”ç¦»æ€§ï¼Œè‹¥æ˜¯æƒ³ç›´æ¥é€šè¿‡ 8080 ç«¯å£è®¿é—®å®¹å™¨å†…éƒ¨çš„ tomcatï¼Œåˆ™éœ€è¦ **&lt;font color=&#39;red&#39;&gt;å¯¹å®¿ä¸»æœºç«¯å£ä¸ Container å†…çš„ç«¯å£è¿›è¡Œæ˜ å°„&lt;/font&gt;**ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;8080&lt;/span&gt;:8080 tomcat:8.0-jre8&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è§£é‡Šä¸€ä¸‹è¿™ä¸¤ä¸ªç«¯å£çš„ä½œç”¨ ( &lt;code&gt;8080:8080&lt;/code&gt; )ï¼Œ&lt;font color=&#39;red&#39;&gt;ç¬¬ä¸€ä¸ªä¸ºå®¿ä¸»æœºç«¯å£ï¼Œç¬¬äºŒä¸ªä¸ºå®¹å™¨å†…çš„ç«¯å£&lt;/font&gt;ï¼Œå¤–éƒ¨è®¿é—® 8080 ç«¯å£å°±ä¼šé€šè¿‡æ˜ å°„è®¿é—®å®¹å™¨å†…çš„ 8080 ç«¯å£ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶å¤–éƒ¨å°±å¯ä»¥è®¿é—® Tomcat äº†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/docker-run-tomact-8080.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è‹¥æ˜¯è¿™æ ·è¿›è¡Œæ˜ å°„ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;8088&lt;/span&gt;:8080 tomcat:8.0-jre8&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;åˆ™å¤–éƒ¨éœ€è®¿é—® 8088 ç«¯å£æ‰èƒ½è®¿é—® tomcatï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯æ¬¡è¿è¡Œçš„å®¹å™¨éƒ½æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥&lt;font color=&#39;red&#39;&gt;åŒæ—¶è¿è¡Œå¤šä¸ª tomcat å®¹å™¨å¹¶ä¸ä¼šäº§ç”Ÿç«¯å£çš„å†²çª&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;é€šè¿‡ &lt;code&gt;-d&lt;/code&gt; ï¼Œå®¹å™¨è¿˜èƒ½å¤Ÿä»¥åå°çš„æ–¹å¼è¿è¡Œ&lt;/font&gt;ï¼Œè¿™æ ·å°±ä¸ä¼šå ç”¨ç»ˆç«¯ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;-d&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;8080&lt;/span&gt;:8080 tomcat:8.0-jre8&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¯åŠ¨å®¹å™¨æ—¶é»˜è®¤ä¼šç»™å®¹å™¨ä¸€ä¸ªåç§°ï¼Œä½†&lt;font color=&#39;red&#39;&gt;å®¹å™¨åç§°å…¶å®æ˜¯å¯ä»¥é€šè¿‡ &lt;code&gt;--name&lt;/code&gt;  è®¾ç½®çš„&lt;/font&gt;ï¼Œä½¿ç”¨æŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;-d&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;8080&lt;/span&gt;:8080 &lt;span class=&#34;token parameter variable&#34;&gt;--name&lt;/span&gt; tomcat01 tomcat:8.0-jre8&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æ­¤æ—¶çš„å®¹å™¨åç§°å³ä¸º tomcat01ï¼Œ&lt;font color=&#39;red&#39;&gt;å®¹å™¨åç§°å¿…é¡»æ˜¯å”¯ä¸€çš„&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;æ¥ä¸‹æ¥æ˜¯ **&lt;font color=&#39;red&#39;&gt;å®¹å™¨çš„è¿è¡Œã€é‡å¯ã€æš‚åœã€æ€æ­»&lt;/font&gt;** æŒ‡ä»¤ï¼Œå› ä¸ºéå¸¸ç®€å•ï¼Œå°±ä¸è¿‡å¤šä»‹ç»äº†ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; start c2f5d78c5d1a&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é€šè¿‡è¯¥æŒ‡ä»¤èƒ½å¤Ÿå°†å·²ç»åœæ­¢è¿è¡Œçš„å®¹å™¨è¿è¡Œèµ·æ¥ï¼Œå¯ä»¥é€šè¿‡å®¹å™¨çš„ id å¯åŠ¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å®¹å™¨çš„åç§°å¯åŠ¨ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; restart c2f5d78c5d1a&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è¯¥æŒ‡ä»¤èƒ½å¤Ÿé‡å¯æŒ‡å®šçš„å®¹å™¨ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; stop c2f5d78c5d1a&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è¯¥æŒ‡ä»¤èƒ½å¤Ÿåœæ­¢æŒ‡å®šçš„å®¹å™¨ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;kill&lt;/span&gt; c2f5d78c5d1a&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è¯¥æŒ‡ä»¤èƒ½å¤Ÿç›´æ¥æ€æ­»æŒ‡å®šçš„å®¹å™¨ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸ŠæŒ‡ä»¤&lt;font color=&#39;red&#39;&gt;éƒ½èƒ½å¤Ÿé€šè¿‡å®¹å™¨çš„ id å’Œå®¹å™¨åç§°ä¸¤ç§æ–¹å¼é…åˆä½¿ç”¨&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;å½“å®¹å™¨è¢«åœæ­¢ä¹‹åï¼Œå®¹å™¨è™½ç„¶ä¸å†è¿è¡Œäº†ï¼Œä½†ä»ç„¶æ˜¯å­˜åœ¨çš„ï¼Œè‹¥æ˜¯æƒ³ **&lt;font color=&#39;red&#39;&gt;åˆ é™¤å®¹å™¨&lt;/font&gt;**ï¼Œåˆ™ä½¿ç”¨æŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rm&lt;/span&gt; d5b6c177c151&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯&lt;font color=&#39;red&#39;&gt;å®¹å™¨çš„ id æ— éœ€å…¨éƒ¨å†™å‡ºæ¥ï¼Œåªéœ€å”¯ä¸€æ ‡è¯†å³å¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è‹¥æ˜¯æƒ³ **&lt;font color=&#39;red&#39;&gt;åˆ é™¤æ­£åœ¨è¿è¡Œçš„å®¹å™¨&lt;/font&gt;**ï¼Œåˆ™éœ€è¦æ·»åŠ  &lt;code&gt;-f&lt;/code&gt;  å‚æ•°å¼ºåˆ¶åˆ é™¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rm&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-f&lt;/span&gt; d5b6c177c151&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è‹¥æ˜¯æƒ³ **&lt;font color=&#39;red&#39;&gt;åˆ é™¤æ‰€æœ‰å®¹å™¨&lt;/font&gt;**ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ç»„åˆæŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rm&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-f&lt;/span&gt; &lt;span class=&#34;token variable&#34;&gt;&lt;span class=&#34;token variable&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;ps&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-qa&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å…ˆé€šè¿‡ &lt;code&gt;docker ps -qa&lt;/code&gt;  æŸ¥è¯¢å‡ºæ‰€æœ‰å®¹å™¨çš„ idï¼Œç„¶åé€šè¿‡ &lt;code&gt;docker rm -f&lt;/code&gt;  è¿›è¡Œåˆ é™¤ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;å½“å®¹å™¨ä»¥åå°çš„æ–¹å¼è¿è¡Œæ—¶ï¼Œæˆ‘ä»¬æ— æ³•çŸ¥æ™“å®¹å™¨çš„è¿è¡ŒçŠ¶æ€ï¼Œè‹¥æ­¤æ—¶éœ€è¦ **&lt;font color=&#39;red&#39;&gt;æŸ¥çœ‹å®¹å™¨çš„è¿è¡Œæ—¥å¿—&lt;/font&gt;**ï¼Œåˆ™ä½¿ç”¨æŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; logs 289cc00dc5ed&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è¿™æ ·çš„æ–¹å¼æ˜¾ç¤ºçš„æ—¥å¿—å¹¶ä¸æ˜¯å®æ—¶çš„ï¼Œè‹¥æ˜¯æƒ³&lt;font color=&#39;red&#39;&gt;å®æ—¶æ˜¾ç¤º&lt;/font&gt;ï¼Œéœ€è¦ä½¿ç”¨ &lt;code&gt;-f&lt;/code&gt;  å‚æ•°ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; logs &lt;span class=&#34;token parameter variable&#34;&gt;-f&lt;/span&gt; 289cc00dc5ed&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é€šè¿‡ &lt;code&gt;-t&lt;/code&gt;  å‚æ•°è¿˜èƒ½å¤Ÿ&lt;font color=&#39;red&#39;&gt;æ˜¾ç¤ºæ—¥å¿—çš„æ—¶é—´æˆ³&lt;/font&gt;ï¼Œé€šå¸¸ä¸ &lt;code&gt;-f&lt;/code&gt;  å‚æ•°è”åˆä½¿ç”¨ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; logs &lt;span class=&#34;token parameter variable&#34;&gt;-ft&lt;/span&gt; 289cc00dc5ed&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æŸ¥çœ‹å®¹å™¨å†…è¿è¡Œäº†å“ªäº›è¿›ç¨‹&lt;/font&gt;&lt;/strong&gt;ï¼Œå¯ä»¥ä½¿ç”¨æŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;top&lt;/span&gt; 289cc00dc5ed&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è‹¥æ˜¯ **&lt;font color=&#39;red&#39;&gt;æƒ³ä¸å®¹å™¨è¿›è¡Œäº¤äº’&lt;/font&gt;**ï¼Œåˆ™ä½¿ç”¨æŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token builtin class-name&#34;&gt;exec&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-it&lt;/span&gt; 289cc00dc5ed &lt;span class=&#34;token function&#34;&gt;bash&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æ­¤æ—¶ç»ˆç«¯å°†ä¼šè¿›å…¥å®¹å™¨å†…éƒ¨ï¼Œæ‰§è¡Œçš„æŒ‡ä»¤éƒ½å°†åœ¨å®¹å™¨ä¸­ç”Ÿæ•ˆ&lt;/font&gt;ï¼Œåœ¨å®¹å™¨å†…åªèƒ½æ‰§è¡Œä¸€äº›æ¯”è¾ƒç®€å•çš„æŒ‡ä»¤ï¼Œå¦‚ï¼šlsã€cd ç­‰ï¼Œè‹¥æ˜¯æƒ³é€€å‡ºå®¹å™¨ç»ˆç«¯ï¼Œé‡æ–°å›åˆ° CentOS ä¸­ï¼Œåˆ™æ‰§è¡Œ &lt;code&gt;exit&lt;/code&gt;  å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬å·²ç»èƒ½å¤Ÿè¿›å…¥å®¹å™¨ç»ˆç«¯æ‰§è¡Œç›¸å…³æ“ä½œäº†ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•å‘ tomcat å®¹å™¨ä¸­éƒ¨ç½²ä¸€ä¸ªé¡¹ç›®å‘¢ï¼Ÿ&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;cp&lt;/span&gt; ./test.html 289cc00dc5ed:/usr/local/tomcat/webapps&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é€šè¿‡ &lt;code&gt;docker cp&lt;/code&gt;  æŒ‡ä»¤èƒ½å¤Ÿå°†æ–‡ä»¶ä» CentOS å¤åˆ¶åˆ°å®¹å™¨ä¸­ï¼Œ &lt;code&gt;./test.html&lt;/code&gt;  ä¸º CentOS ä¸­çš„èµ„æºè·¯å¾„ï¼Œ &lt;code&gt;289cc00dc5ed&lt;/code&gt;  ä¸ºå®¹å™¨ idï¼Œ &lt;code&gt;/usr/local/tomcat/webapps&lt;/code&gt;  ä¸ºå®¹å™¨çš„èµ„æºè·¯å¾„ï¼Œæ­¤æ—¶ &lt;code&gt;test.html&lt;/code&gt;  æ–‡ä»¶å°†ä¼šè¢«å¤åˆ¶åˆ°è¯¥è·¯å¾„ä¸‹ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@izrcf5u3j3q8xaz ~&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# docker exec -it 289cc00dc5ed bash&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;root@289cc00dc5ed:/usr/local/tomcat&lt;span class=&#34;token comment&#34;&gt;# cd webapps&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;root@289cc00dc5ed:/usr/local/tomcat/webapps&lt;span class=&#34;token comment&#34;&gt;# ls&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;test.html&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;root@289cc00dc5ed:/usr/local/tomcat/webapps&lt;span class=&#34;token comment&#34;&gt;#&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è‹¥æ˜¯æƒ³å°†å®¹å™¨å†…çš„æ–‡ä»¶å¤åˆ¶åˆ° CentOS ä¸­ï¼Œåˆ™åè¿‡æ¥å†™å³å¯ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;cp&lt;/span&gt; 289cc00dc5ed:/usr/local/tomcat/webapps/test.html ./&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æ‰€ä»¥ç°åœ¨è‹¥æ˜¯æƒ³è¦éƒ¨ç½²é¡¹ç›®ï¼Œåˆ™å…ˆå°†é¡¹ç›®ä¸Šä¼ åˆ° CentOSï¼Œç„¶åå°†é¡¹ç›®ä» CentOS å¤åˆ¶åˆ°å®¹å™¨å†…ï¼Œæ­¤æ—¶å¯åŠ¨å®¹å™¨å³å¯ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;è™½ç„¶ä½¿ç”¨ Docker å¯åŠ¨è½¯ä»¶ç¯å¢ƒéå¸¸ç®€å•ï¼Œä½†åŒæ—¶ä¹Ÿé¢ä¸´ç€ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ— æ³• **&lt;font color=&#39;red&#39;&gt;æŸ¥çœ‹å®¹å™¨å†…éƒ¨å…·ä½“çš„ç»†èŠ‚ï¼Œæ¯”å¦‚ç›‘å¬çš„ç«¯å£ã€ç»‘å®šçš„ ip åœ°å€ç­‰ç­‰&lt;/font&gt;**ï¼Œå¥½åœ¨è¿™äº› Docker éƒ½å¸®æˆ‘ä»¬æƒ³åˆ°äº†ï¼Œåªéœ€ä½¿ç”¨æŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; inspect 923c969b0d91&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/docker-inspect-terminal.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;æœ€åå†ä»‹ç»å‡ ä¸ªå®¹å™¨å’Œé•œåƒç›¸å…³çš„æŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; commit &lt;span class=&#34;token parameter variable&#34;&gt;-m&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;æè¿°ä¿¡æ¯&#34;&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-a&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;é•œåƒä½œè€…&#34;&lt;/span&gt; tomcat01 my_tomcat:1.0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;blockquote&gt;
&lt;p&gt;tomcat01 ä¸º Container åç§°ï¼Œmy_tomcat ä¸ºæ‰“åŒ…åçš„ Image åç§°ï¼Œ1.0 æ˜¯å¯¹åº”çš„ tagã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¯¥æŒ‡ä»¤èƒ½å¤Ÿ **&lt;font color=&#39;red&#39;&gt;å°† Container æ‰“åŒ…æˆä¸€ä¸ª Image&lt;/font&gt;**ï¼Œæ­¤æ—¶æŸ¥è¯¢é•œåƒï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@centos-7 _data&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# docker images&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;my_tomcat           &lt;span class=&#34;token number&#34;&gt;1.0&lt;/span&gt;                 79ab047fade5        &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; seconds ago       463MB&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;tomcat              &lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt;                   a041be4a5ba5        &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; weeks ago         533MB&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;MySQL               latest              db2b37ec6181        &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; months ag&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è‹¥æ˜¯æƒ³ **&lt;font color=&#39;red&#39;&gt;å°† Image å¤‡ä»½å‡ºæ¥&lt;/font&gt;** å‡ºæ¥ï¼Œåˆ™å¯ä»¥ä½¿ç”¨æŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; save my_tomcat:1.0 &lt;span class=&#34;token parameter variable&#34;&gt;-o&lt;/span&gt; my-tomcat-1.0.tar&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@centos-7 ~&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# docker save my_tomcat:1.0 -o my-tomcat-1.0.tar&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@centos-7 ~&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# ls&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;anaconda-ks.cfg  initial-setup-ks.cfg  å…¬å…±  è§†é¢‘  æ–‡æ¡£  éŸ³ä¹&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;get-docker.sh    my-tomcat-1.0.tar     æ¨¡æ¿  å›¾ç‰‡  ä¸‹è½½  æ¡Œé¢&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å°† .tar æ ¼å¼çš„ Image åŠ è½½åˆ° Docker ä¸­&lt;/font&gt;&lt;/strong&gt;ï¼Œæ‰§è¡ŒæŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; load &lt;span class=&#34;token parameter variable&#34;&gt;-i&lt;/span&gt; my-tomcat-1.0.tar&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;root@centos-7 ~&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# docker load -i my-tomcat-1.0.tar&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;b28ef0b6fef8: Loading layer &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;  &lt;span class=&#34;token number&#34;&gt;105&lt;/span&gt;.5MB/105.5MB&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;0b703c74a09c: Loading layer &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;  &lt;span class=&#34;token number&#34;&gt;23&lt;/span&gt;.99MB/23.99MB&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Loaded image: my_tomcat:1.0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@centos-7 ~&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# docker images&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;my_tomcat           &lt;span class=&#34;token number&#34;&gt;1.0&lt;/span&gt;                 79ab047fade5        &lt;span class=&#34;token number&#34;&gt;7&lt;/span&gt; minutes ag&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;æ•°æ®å·volume&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®å·volume&#34;&gt;#&lt;/a&gt; æ•°æ®å·ï¼ˆvolumeï¼‰&lt;/h2&gt;
&lt;p&gt;å­¦ä¹ äº†å®¹å™¨çš„ç›¸å…³æŒ‡ä»¤ä¹‹åï¼Œæˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹&lt;font color=&#39;red&#39;&gt; Docker ä¸­çš„æ•°æ®å·ï¼Œå®ƒèƒ½å¤Ÿå®ç°&lt;strong&gt;å®¿ä¸»æœºä¸å®¹å™¨ä¹‹é—´çš„æ–‡ä»¶å…±äº«&lt;/strong&gt;ï¼Œå®ƒçš„å¥½å¤„åœ¨äºæˆ‘ä»¬&lt;strong&gt;å¯¹å®¿ä¸»æœºçš„æ–‡ä»¶è¿›è¡Œä¿®æ”¹å°†ç›´æ¥å½±å“å®¹å™¨&lt;/strong&gt;ï¼Œè€Œæ— éœ€å†å°†å®¿ä¸»æœºçš„æ–‡ä»¶å†å¤åˆ¶åˆ°å®¹å™¨ä¸­&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨è‹¥æ˜¯æƒ³å°†å®¿ä¸»æœºä¸­ &lt;code&gt;/opt/apps&lt;/code&gt;  ç›®å½•ä¸å®¹å™¨ä¸­ &lt;code&gt;webapps&lt;/code&gt;  ç›®å½• **&lt;font color=&#39;red&#39;&gt;åšä¸€ä¸ªæ•°æ®å·&lt;/font&gt;**ï¼Œåˆ™åº”è¯¥é€šè¿‡ &lt;code&gt;-v&lt;/code&gt;  å‚æ•°è¿™æ ·ç¼–å†™æŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;-d&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;8080&lt;/span&gt;:8080 &lt;span class=&#34;token parameter variable&#34;&gt;--name&lt;/span&gt; tomcat01 &lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; /opt/apps:/usr/local/tomcat/webapps tomcat:8.0-jre8&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ç„¶è€Œæ­¤æ—¶è®¿é—® tomcat ä¼šå‘ç°æ— æ³•è®¿é—®ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/docker-data-volume-webapp-8080.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¿™å°±è¯´æ˜æˆ‘ä»¬çš„æ•°æ®å·è®¾ç½®æˆåŠŸäº†ï¼ŒDocker ä¼šå°†å®¹å™¨å†…çš„ &lt;code&gt;webapps&lt;/code&gt;  ç›®å½•ä¸ &lt;code&gt;/opt/apps&lt;/code&gt;  ç›®å½•è¿›è¡ŒåŒæ­¥ï¼Œè€Œæ­¤æ—¶ &lt;code&gt;/opt/apps&lt;/code&gt;  ç›®å½•æ˜¯ç©ºçš„ï¼Œå¯¼è‡´ &lt;code&gt;webapps&lt;/code&gt;  ç›®å½•ä¹Ÿä¼šå˜æˆç©ºç›®å½•ï¼Œæ‰€ä»¥å°±è®¿é—®ä¸åˆ°äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶æˆ‘ä»¬åªéœ€å‘ &lt;code&gt;/opt/apps&lt;/code&gt;  ç›®å½•ä¸‹æ·»åŠ æ–‡ä»¶ï¼Œå°±ä¼šä½¿å¾— &lt;code&gt;webapps&lt;/code&gt;  ç›®å½•ä¹Ÿä¼šæ‹¥æœ‰ç›¸åŒçš„æ–‡ä»¶ï¼Œè¾¾åˆ°æ–‡ä»¶å…±äº«ï¼Œæµ‹è¯•ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@centos-7 opt&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# cd apps/&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@centos-7 apps&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# vim test.html&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@centos-7 apps&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# ls&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;test.html&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@centos-7 apps&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# cat test.html&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;h&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;1&lt;/span&gt;&gt;&lt;/span&gt;This is a &lt;span class=&#34;token builtin class-name&#34;&gt;test&lt;/span&gt; html&lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;/h&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;1&lt;/span&gt;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;åœ¨ &lt;code&gt;/opt/apps&lt;/code&gt;  ç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ª  &lt;code&gt;test.html&lt;/code&gt;  æ–‡ä»¶ï¼Œé‚£ä¹ˆå®¹å™¨å†…çš„ &lt;code&gt;webapps&lt;/code&gt;  ç›®å½•æ˜¯å¦ä¼šæœ‰è¯¥æ–‡ä»¶å‘¢ï¼Ÿè¿›å…¥å®¹å™¨çš„ç»ˆç«¯ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@centos-7 apps&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# docker exec -it tomcat01 bash&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;root@115155c08687:/usr/local/tomcat&lt;span class=&#34;token comment&#34;&gt;# cd webapps/&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;root@115155c08687:/usr/local/tomcat/webapps&lt;span class=&#34;token comment&#34;&gt;# ls&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;test.html&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å®¹å™¨å†…ç¡®å®å·²ç»æœ‰äº†è¯¥æ–‡ä»¶ï¼Œé‚£æ¥ä¸‹æ¥æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªç®€å•çš„ Web åº”ç”¨ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;HelloServlet&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;extends&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;HttpServlet&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token annotation punctuation&#34;&gt;@Override&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;protected&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;doGet&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;HttpServletRequest&lt;/span&gt; req&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;HttpServletResponse&lt;/span&gt; resp&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;ServletException&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;IOException&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        resp&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getWriter&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;Hello World!&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token annotation punctuation&#34;&gt;@Override&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;protected&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;doPost&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;HttpServletRequest&lt;/span&gt; req&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;HttpServletResponse&lt;/span&gt; resp&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;ServletException&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;IOException&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token function&#34;&gt;doGet&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;req&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;resp&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ Servletï¼Œæˆ‘ä»¬å°†å…¶æ‰“åŒ…ä¸Šä¼ åˆ° &lt;code&gt;/opt/apps&lt;/code&gt;  ä¸­ï¼Œé‚£ä¹ˆå®¹å™¨å†…è‚¯å®šå°±ä¼šåŒæ­¥åˆ°è¯¥æ–‡ä»¶ï¼Œæ­¤æ—¶è¿›è¡Œè®¿é—®ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/docker-data-volume-webapp-8080-hello-world.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;è¿™ç§æ–¹å¼è®¾ç½®çš„æ•°æ®å·ç§°ä¸º&lt;font color=&#39;red&#39;&gt;è‡ªå®šä¹‰æ•°æ®å·&lt;/font&gt;ï¼Œå› ä¸ºæ•°æ®å·çš„ç›®å½•æ˜¯ç”±æˆ‘ä»¬è‡ªå·±è®¾ç½®çš„ï¼ŒDocker è¿˜ä¸ºæˆ‘ä»¬æä¾›äº† **&lt;font color=&#39;red&#39;&gt;å¦å¤–ä¸€ç§è®¾ç½®æ•°æ®å·çš„æ–¹å¼&lt;/font&gt;**ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;-d&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;8080&lt;/span&gt;:8080 &lt;span class=&#34;token parameter variable&#34;&gt;--name&lt;/span&gt; tomcat01 &lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; aa:/usr/local/tomcat/webapps tomcat:8.0-jre8&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æ­¤æ—¶çš„ &lt;code&gt;aa&lt;/code&gt;  å¹¶ä¸æ˜¯æ•°æ®å·çš„ç›®å½•ï¼Œè€Œæ˜¯&lt;font color=&#39;red&#39;&gt;æ•°æ®å·çš„åˆ«å&lt;/font&gt;ï¼ŒDocker ä¼šä¸ºæˆ‘ä»¬è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåä¸º &lt;code&gt;aa&lt;/code&gt;  çš„æ•°æ®å·ï¼Œå¹¶ä¸”ä¼šå°†å®¹å™¨å†… &lt;code&gt;webapps&lt;/code&gt;  ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹å¤åˆ¶åˆ°æ•°æ®å·ä¸­ï¼Œ&lt;font color=&#39;red&#39;&gt;è¯¥æ•°æ®å·çš„ä½ç½®åœ¨&lt;/font&gt; &lt;code&gt;/var/lib/docker/volumes&lt;/code&gt;  ç›®å½•ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@centos-7 volumes&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# pwd&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;/var/lib/docker/volumes&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@centos-7 volumes&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# cd aa/&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@centos-7 aa&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# ls&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;_data&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@centos-7 aa&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# cd _data/&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@centos-7 _data&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# ls&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docs  examples  host-manager  manager  ROOT&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æ­¤æ—¶æˆ‘ä»¬åªéœ€ä¿®æ”¹è¯¥ç›®å½•çš„å†…å®¹å°±èƒ½èƒ½å¤Ÿå½±å“åˆ°å®¹å™¨ã€‚&lt;/p&gt;
</content>
        <category term="docker" scheme="http://example.com/categories/docker/" />
        <updated>2024-01-19T03:24:09.063Z</updated>
    </entry>
    <entry>
        <id>http://example.com/project/12306/12306%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</id>
        <title>12306é¡¹ç›®å­¦ä¹ ç¬”è®°</title>
        <link rel="alternate" href="http://example.com/project/12306/12306%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
        <content type="html">&lt;h1 id=&#34;é¡¹ç›®ä»‹ç»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¡¹ç›®ä»‹ç»&#34;&gt;#&lt;/a&gt; é¡¹ç›®ä»‹ç»&lt;/h1&gt;
&lt;h2 id=&#34;é¡¹ç›®ç®€ä»‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¡¹ç›®ç®€ä»‹&#34;&gt;#&lt;/a&gt; é¡¹ç›®ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;æä¾›äº†ä¸¤ç§ç‰ˆæœ¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;SpringBoot èšåˆæœåŠ¡ç‰ˆæœ¬&lt;/strong&gt;ï¼šé€‚åˆæµ‹è¯•å’Œéƒ¨ç½²ï¼Œå¯ä»¥ç›´æ¥å¯åŠ¨  &lt;code&gt;aggregation-service&lt;/code&gt;  èšåˆæœåŠ¡å’Œç½‘å…³æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SpringCloud å¾®æœåŠ¡ç‰ˆæœ¬&lt;/strong&gt;ï¼šé€‚åˆå­¦ä¹ å¾®æœåŠ¡è®¾è®¡ï¼Œå¯ä»¥åˆ†åˆ«å¯åŠ¨æ”¯ä»˜ã€è®¢å•ã€ç”¨æˆ·ã€è´­ç¥¨å’Œç½‘å…³æœåŠ¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/12306-base-biz-20230801.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;12306åŸºç¡€ä¸šåŠ¡&lt;/center&gt;
&lt;p&gt;åœ¨ç³»ç»Ÿè®¾è®¡ä¸­ï¼Œé‡‡ç”¨æœ€æ–° JDK17 + SpringBoot3&amp;amp;SpringCloud &lt;strong&gt;å¾®æœåŠ¡æ¶æ„&lt;/strong&gt;ï¼Œæ„å»ºé«˜å¹¶å‘ã€å¤§æ•°æ®é‡ä¸‹ä»ç„¶èƒ½æä¾›é«˜æ•ˆå¯é çš„ 12306 è´­ç¥¨æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1676637853202-c2af9e93-fe03-4c01-9fed-20ca07263476.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å¸¸è§çš„å¾®æœåŠ¡æ¶æ„&lt;/center&gt;
&lt;p&gt;ä¸‹æ–¹çš„&lt;strong&gt;æ¶æ„å›¾&lt;/strong&gt;å…¨é¢æè¿°äº†é¡¹ç›®çš„æœåŠ¡é›†åˆã€ç»„ä»¶åº“åˆ—è¡¨å’ŒåŸºç¡€è®¾ç½®å±‚ç­‰è¦ç´ ï¼Œæœ‰åŠ©äºç”¨æˆ·å¿«é€Ÿäº†è§£ 12306 å¹³å°çš„é¡¶å±‚è®¾è®¡å’Œä¸šåŠ¡ç»†èŠ‚ï¼Œä»é›¶åˆ°ä¸€è¿›è¡Œæ„å»ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230802104007774.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;12306é¡¹ç›®æ¶æ„å›¾&lt;/center&gt;
&lt;p&gt;é¡¹ç›®ä¸­çš„æ–‡æ¡£åŒ…æ‹¬ä¸‰éƒ¨åˆ†ï¼Œ&lt;strong&gt;å¿«é€Ÿå¼€å§‹&lt;/strong&gt;ã€&lt;strong&gt;æ ¸å¿ƒæŠ€æœ¯æ–‡æ¡£&lt;/strong&gt;ä»¥åŠ&lt;strong&gt;ä»é›¶åˆ°ä¸€å¼€å‘&lt;/strong&gt;ã€‚å¯æ ¹æ®è‡ªå·±çš„å…´è¶£é€‰æ‹©æ·±å…¥äº†è§£æ ¸å¿ƒæŠ€æœ¯æˆ–ä»é›¶åˆ°ä¸€å¤åˆ»ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://images-machen.oss-cn-beijing.aliyuncs.com/12306%E6%96%87%E7%AB%A0%E7%BB%93%E6%9E%84-20230917.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;12306æ–‡ç« ç»“æ„&lt;/center&gt;
&lt;h2 id=&#34;æŠ€æœ¯æ¶æ„é€‰å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æŠ€æœ¯æ¶æ„é€‰å‹&#34;&gt;#&lt;/a&gt; æŠ€æœ¯æ¶æ„é€‰å‹&lt;/h2&gt;
&lt;h2 id=&#34;æ¥å£æ–‡æ¡£&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¥å£æ–‡æ¡£&#34;&gt;#&lt;/a&gt; æ¥å£æ–‡æ¡£&lt;/h2&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9hcGlmb3guY29tL2FwaWRvYy9zaGFyZWQtODZkOWQzYmUtOGExNS00NTNmLTg1YTYtNDQyMDE4MGE5MTVlL2FwaS04NTYyNzc3OA==&#34;&gt;ç”¨æˆ·ç™»å½• - 12306 (apifox.com)&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&#34;å­¦ä¹ è·¯çº¿&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å­¦ä¹ è·¯çº¿&#34;&gt;#&lt;/a&gt; å­¦ä¹ è·¯çº¿&lt;/h2&gt;
&lt;p&gt;12306 é“è·¯è´­ç¥¨ç³»ç»Ÿçš„å­¦ä¹ ä¸»è¦åˆ†ä¸ºä¸‰å—ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç»„ä»¶åº“å¼€å‘&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸šåŠ¡æ¢³ç†&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸šåŠ¡ç³»ç»Ÿå¼€å‘&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20240119014418408.png&#34; alt=&#34;image-20240119014418408&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;ç»„ä»¶åº“å¼€å‘&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç»„ä»¶åº“å¼€å‘&#34;&gt;#&lt;/a&gt; ç»„ä»¶åº“å¼€å‘&lt;/h3&gt;
&lt;p&gt;ç»„ä»¶åº“çš„äº§å‡ºæºäº&lt;font color=&#39;red&#39;&gt;å¯¹å…¬å…±åŠŸèƒ½çš„å°è£…&lt;/font&gt;ï¼Œé¿å…äº†åœ¨ä¸åŒé¡¹ç›®ä¹‹é—´ç›¸äº’å¤åˆ¶ä»£ç çš„æƒ…å†µã€‚å½“ç„¶ï¼Œå¦‚æœè¿™ç§å¤åˆ¶ä»£ç çš„æ–¹å¼å‡ºç°é—®é¢˜ï¼Œé‚£ä¹ˆéœ€è¦åŒæ—¶å¯¹æ‰€æœ‰é¡¹ç›®è¿›è¡Œæ”¹é€ ï¼Œä»æˆæœ¬å’Œä¼˜é›…è®¾è®¡çš„è§’åº¦æ¥çœ‹å¹¶ä¸å¯å–ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ç»Ÿä¸€å„ä¸ªé¡¹ç›®å¯èƒ½ä½¿ç”¨çš„å…¬å…±å†…å®¹ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œè§„åˆ’äº†å¸¸ç”¨ä¸”é€šç”¨çš„åŠŸèƒ½ç‚¹ï¼Œä¾›å¤§å®¶ä½¿ç”¨ï¼Œä»¥æé«˜ç¼–ç æ•ˆç‡ã€‚å¦‚æœæœ‰ä¸€äº›å¥½çš„æƒ³æ³•ï¼Œåœ¨é€šç”¨çš„å‰æä¸‹ï¼Œå¯ä»¥è”ç³»æˆ‘ä»¬å°†å…¶åŠ å…¥åˆ°å„è‡ªè¯­ä¹‰çš„èµ·å§‹åŒ…ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ç»„ä»¶åº“çš„å¼€å‘å®—æ—¨æ˜¯æ±‡æ€»èµ„æºï¼Œæ›´é«˜æ•ˆåœ°æä¾›ä¸šåŠ¡æ•æ·å¼€å‘çš„èƒ½åŠ›ï¼Œåç»­çš„è¿­ä»£ä¹Ÿå°†éµå¾ªè¿™ä¸€åŸåˆ™ã€‚ç›®å‰ï¼Œè¿™åªæ˜¯ä¸€ä¸ªèµ·ç‚¹ï¼Œæ˜¯æ•´ä½“è§„åˆ’çš„ä¸€éƒ¨åˆ†ï¼Œè¿˜æœ‰è®¸å¤šå¯ä»¥æå‡çš„ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰&lt;font color=&#39;red&#39;&gt;å·²æœ‰ç»„ä»¶å¦‚ä¸‹&lt;/font&gt;ï¼Œå¯èƒ½æ–°å¢åŠ çš„ç»„ä»¶æ›´æ–°ä¸åŠæ—¶ï¼Œå®é™…ä»¥ä»£ç åº“  &lt;code&gt;/frameworks&lt;/code&gt;  ç›®å½•ä¸‹ä¸ºå‡†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://user-images.githubusercontent.com/77398366/229265310-7fa8b406-b621-4334-91d6-911c0b95dce3.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä¸šåŠ¡æ¢³ç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸šåŠ¡æ¢³ç†&#34;&gt;#&lt;/a&gt; ä¸šåŠ¡æ¢³ç†&lt;/h3&gt;
&lt;p&gt;åœ¨ 12306 é“è·¯è´­ç¥¨ç³»ç»Ÿä¸­ï¼ŒåŒ…æ‹¬ä¼šå‘˜ã€è´­ç¥¨ã€è®¢å•ã€æ”¯ä»˜ä»¥åŠç½‘å…³æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/12306_biz_20230720-1.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;ç³»ç»Ÿå¼€å‘&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç³»ç»Ÿå¼€å‘&#34;&gt;#&lt;/a&gt; ç³»ç»Ÿå¼€å‘&lt;/h3&gt;
&lt;p&gt;å½“ä½ å¯¹ 12306 ç³»ç»Ÿçš„ä¸šåŠ¡æœ‰äº†åˆæ­¥è®¤è¯†ï¼Œå°±å¯ä»¥è€ƒè™‘å¯¹è¿™ä¸ªç³»ç»Ÿè¿›è¡Œä»é›¶åˆ°ä¸€çš„å¼€å‘ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ­£å¼å¼€å‘æ¡†æ¶ä¹‹å‰ï¼Œä½ éœ€è¦æŠŠä¸€äº›&lt;strong&gt;å‰ç½®æŠ€æœ¯&lt;/strong&gt;éƒ½æœ‰ä¸€å®šçš„æŒæ¡ã€‚ä¸ç„¶ææœ‰å¯èƒ½æ˜¯ç¨€é‡Œç³Šæ¶‚çš„å†™ï¼Œè™½ç„¶å†™å®Œäº†ï¼Œä½†æ˜¯å¸æ”¶æƒ…å†µè¾¾ä¸åˆ°æœ€ç»ˆçš„ç†æƒ³æ•ˆæœã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;æŠ€æœ¯&lt;/th&gt;
&lt;th&gt;åç§°&lt;/th&gt;
&lt;th&gt;ç‰ˆæœ¬&lt;/th&gt;
&lt;th&gt;å®˜ç½‘&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;Spring Boot&lt;/td&gt;
&lt;td&gt;åŸºç¡€æ¡†æ¶&lt;/td&gt;
&lt;td&gt;3.0.7&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9zcHJpbmcuaW8vcHJvamVjdHMvc3ByaW5nLWJvb3Q=&#34;&gt;https://spring.io/projects/spring-boot(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;MyBatis-Plus&lt;/td&gt;
&lt;td&gt;æŒä¹…å±‚æ¡†æ¶&lt;/td&gt;
&lt;td&gt;3.5.3.1&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9iYW9taWRvdS5jb20v&#34;&gt;https://baomidou.com(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;HikariCP&lt;/td&gt;
&lt;td&gt;æ•°æ®åº“è¿æ¥æ± &lt;/td&gt;
&lt;td&gt;5.0.1&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2JyZXR0d29vbGRyaWRnZS9IaWthcmlDUA==&#34;&gt;https://github.com/brettwooldridge/HikariCP(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;Redis&lt;/td&gt;
&lt;td&gt;åˆ†å¸ƒå¼ç¼“å­˜æ•°æ®åº“&lt;/td&gt;
&lt;td&gt;Latest&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9yZWRpcy5pby8=&#34;&gt;https://redis.io(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;RocketMQ&lt;/td&gt;
&lt;td&gt;æ¶ˆæ¯é˜Ÿåˆ—&lt;/td&gt;
&lt;td&gt;2.2.3&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9yb2NrZXRtcS5hcGFjaGUub3JnLw==&#34;&gt;https://rocketmq.apache.org(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;ShardingSphere&lt;/td&gt;
&lt;td&gt;æ•°æ®åº“ç”Ÿæ€ç³»ç»Ÿ&lt;/td&gt;
&lt;td&gt;5.3.2&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9zaGFyZGluZ3NwaGVyZS5hcGFjaGUub3JnLw==&#34;&gt;https://shardingsphere.apache.org(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;SpringCloud Alibaba&lt;/td&gt;
&lt;td&gt;åˆ†å¸ƒå¼æ¡†æ¶&lt;/td&gt;
&lt;td&gt;2022.0.0.0-RC2&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2FsaWJhYmEvc3ByaW5nLWNsb3VkLWFsaWJhYmE=&#34;&gt;https://github.com/alibaba/spring-cloud-alibaba(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;SpringCloud Gateway&lt;/td&gt;
&lt;td&gt;ç½‘å…³æ¡†æ¶&lt;/td&gt;
&lt;td&gt;2022.0.3&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9zcHJpbmcuaW8vcHJvamVjdHMvc3ByaW5nLWNsb3VkLWdhdGV3YXk=&#34;&gt;https://spring.io/projects/spring-cloud-gateway(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;FastJson2&lt;/td&gt;
&lt;td&gt;JSON åºåˆ—åŒ–å·¥å…·&lt;/td&gt;
&lt;td&gt;2.0.36&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2FsaWJhYmEvZmFzdGpzb24y&#34;&gt;https://github.com/alibaba/fastjson2(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;Canal&lt;/td&gt;
&lt;td&gt;BinLog è®¢é˜…ç»„ä»¶&lt;/td&gt;
&lt;td&gt;1.1.6&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2FsaWJhYmEvY2FuYWw=&#34;&gt;https://github.com/alibaba/canal(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;td&gt;HuTool&lt;/td&gt;
&lt;td&gt;å°è€Œå…¨çš„å·¥å…·é›†é¡¹ç›®&lt;/td&gt;
&lt;td&gt;5.8.2&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9odXRvb2wuY24v&#34;&gt;https://hutool.cn(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;Swagger3&lt;/td&gt;
&lt;td&gt;é¡¹ç›® API æ–‡æ¡£æ¡†æ¶&lt;/td&gt;
&lt;td&gt;3.x&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL3N3YWdnZXIuaW8v&#34;&gt;http://swagger.io(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;td&gt;Knife4j&lt;/td&gt;
&lt;td&gt;Swagger å¢å¼ºæ¡†æ¶&lt;/td&gt;
&lt;td&gt;3.x&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9kb2MueGlhb21pbmZvLmNvbS8=&#34;&gt;https://doc.xiaominfo.com(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;td&gt;Maven&lt;/td&gt;
&lt;td&gt;é¡¹ç›®æ„å»ºç®¡ç†&lt;/td&gt;
&lt;td&gt;3.9.1&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL21hdmVuLmFwYWNoZS5vcmcv&#34;&gt;http://maven.apache.org(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;td&gt;Redisson&lt;/td&gt;
&lt;td&gt;Redis Java å®¢æˆ·ç«¯&lt;/td&gt;
&lt;td&gt;3.21.3&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9yZWRpc3Nvbi5vcmcv&#34;&gt;https://redisson.org(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;16&lt;/td&gt;
&lt;td&gt;Sentinel&lt;/td&gt;
&lt;td&gt;æµæ§é˜²æŠ¤æ¡†æ¶&lt;/td&gt;
&lt;td&gt;1.8.6&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2FsaWJhYmEvU2VudGluZWw=&#34;&gt;https://github.com/alibaba/Sentinel(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;17&lt;/td&gt;
&lt;td&gt;Hippo4j&lt;/td&gt;
&lt;td&gt;åŠ¨æ€çº¿ç¨‹æ± æ¡†æ¶&lt;/td&gt;
&lt;td&gt;1.5.0&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9oaXBwbzRqLmNuLw==&#34;&gt;https://hippo4j.cn(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;18&lt;/td&gt;
&lt;td&gt;XXL-Job&lt;/td&gt;
&lt;td&gt;åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡æ¡†æ¶&lt;/td&gt;
&lt;td&gt;2.4.0&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL3d3dy54dXh1ZWxpLmNvbS94eGwtam9i&#34;&gt;http://www.xuxueli.com/xxl-job(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;19&lt;/td&gt;
&lt;td&gt;SkyWalking&lt;/td&gt;
&lt;td&gt;åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªæ¡†æ¶&lt;/td&gt;
&lt;td&gt;9.5.0&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9za3l3YWxraW5nLmFwYWNoZS5vcmcv&#34;&gt;https://skywalking.apache.org(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;JetCache&lt;/td&gt;
&lt;td&gt;Java ç¼“å­˜æ¡†æ¶&lt;/td&gt;
&lt;td&gt;2.7.3&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2FsaWJhYmEvamV0Y2FjaGU=&#34;&gt;https://github.com/alibaba/jetcache(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;21&lt;/td&gt;
&lt;td&gt;TTL&lt;/td&gt;
&lt;td&gt;å¢å¼ºç‰ˆ ThreadLocal&lt;/td&gt;
&lt;td&gt;2.14.3&lt;/td&gt;
&lt;td&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2FsaWJhYmEvdHJhbnNtaXR0YWJsZS10aHJlYWQtbG9jYWw=&#34;&gt;https://github.com/alibaba/transmittable-thread-local(opens new window)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;å¦å¤–ï¼Œæˆ‘ä»¬åœ¨æ‰‹æ‘¸æ‰‹ä»é›¶åˆ°ä¸€å¼€å‘ç« èŠ‚ä¸­ï¼Œä¼šæœ‰éå¸¸è¯¦ç»†çš„ç³»åˆ—æ•™ç¨‹ï¼Œå¸®åŠ©å¤§å®¶æ¢³ç†ä»¥åŠå¼€å‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230917193923363.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;å¿«é€Ÿå¼€å§‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¿«é€Ÿå¼€å§‹&#34;&gt;#&lt;/a&gt; å¿«é€Ÿå¼€å§‹&lt;/h1&gt;
&lt;h2 id=&#34;å…‹éš†é¡¹ç›®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å…‹éš†é¡¹ç›®&#34;&gt;#&lt;/a&gt; å…‹éš†é¡¹ç›®&lt;/h2&gt;
&lt;h3 id=&#34;æ‹‰å–é¡¹ç›®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ‹‰å–é¡¹ç›®&#34;&gt;#&lt;/a&gt; æ‹‰å–é¡¹ç›®&lt;/h3&gt;
&lt;p&gt;æ‰“å¼€ Gitee é¡¹ç›®åœ°å€ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRlZS5jb20vbmFnZW9mZmVyLzEyMzA2&#34;&gt;https://gitee.com/nageoffer/12306&lt;/span&gt; å¤åˆ¶å¯¹åº”çš„ SSH æˆ– HTTP å…‹éš†åœ°å€ã€‚&lt;/p&gt;
&lt;p&gt;12306 ç°åœ¨çš„ä»£ç è¿˜åœ¨ä¸æ–­æ›´æ–°è¿­ä»£ï¼Œæ¯æ¬¡æ‰“å¼€é¡¹ç›®éƒ½å¯ä»¥é€‰æ‹©  &lt;code&gt;Pull&lt;/code&gt;  ä¸‹æœ€æ–°ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;æ‰“å¼€ IntelliJ  IDEAï¼Œèœå•æ é¡¶éƒ¨æ‰¾åˆ°  &lt;code&gt;Git -&amp;gt; Clone&lt;/code&gt;  é€‰é¡¹ï¼Œç­‰å¾…å…‹éš†åŠ Maven åˆå§‹åŒ–å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;æ‹‰ä¸‹æ¥åï¼Œå¯åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ  &lt;code&gt;mvn clean install&lt;/code&gt;  æµ‹è¯•æ˜¯å¦å…·å¤‡è¿è¡Œç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;âš ï¸&lt;/strong&gt; &lt;strong&gt;é‡è¦æç¤ºã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å»ºè®®å¤§å®¶åœ¨æ‰“å¼€é¡¹ç›®æ—¶ï¼Œéƒ½æ‰§è¡Œä¸‹  &lt;code&gt;Update Project&lt;/code&gt;  æµç¨‹&lt;/font&gt;ï¼Œå› ä¸ºä»£ç ç›®å‰è¿˜åœ¨å¿«é€Ÿè¿­ä»£ä¸­ï¼Œé¿å…é”™è¿‡æ–°åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æœåŠ¡æ¨¡å—åˆ—è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æœåŠ¡æ¨¡å—åˆ—è¡¨&#34;&gt;#&lt;/a&gt; æœåŠ¡æ¨¡å—åˆ—è¡¨&lt;/h3&gt;
&lt;h4 id=&#34;springboot-å•ä½“ç‰ˆæœ¬&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#springboot-å•ä½“ç‰ˆæœ¬&#34;&gt;#&lt;/a&gt; SpringBoot å•ä½“ç‰ˆæœ¬&lt;/h4&gt;
&lt;p&gt;å¦‚æœä½ æƒ³&lt;font color=&#39;red&#39;&gt;ä»¥å°æˆæœ¬å¯åŠ¨å‰åç«¯ç³»ç»Ÿ&lt;/font&gt;ï¼Œåç«¯é¡¹ç›®ä»…å¯åŠ¨  &lt;code&gt;aggregation-service&lt;/code&gt;  å’Œ  &lt;code&gt;gateway-service&lt;/code&gt;  æœåŠ¡å³å¯ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Qï¼š &lt;code&gt;aggregation-service&lt;/code&gt;  æœåŠ¡æ˜¯åšä»€ä¹ˆçš„ï¼Ÿ&lt;/p&gt;
&lt;p&gt;Aï¼šä¸ºäº†å‡å°‘å¤§å®¶æœ¬åœ°å¯åŠ¨å†…å­˜å‹åŠ›ä»¥åŠæœåŠ¡å™¨éƒ¨ç½²å‹åŠ›ï¼Œå°†è®¢å•ã€æ”¯ä»˜ã€ç”¨æˆ·ä»¥åŠè´­ç¥¨ç³»ç»Ÿè¿›è¡Œäº†èšåˆï¼Œå¯åŠ¨ç½‘å…³å’Œ  &lt;code&gt;aggregation-service&lt;/code&gt;  æœåŠ¡å³å¯äº«å— 12306 è´­ç¥¨ç³»ç»Ÿå…¨éƒ¨åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;springcloud-åˆ†å¸ƒå¼ç‰ˆæœ¬&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#springcloud-åˆ†å¸ƒå¼ç‰ˆæœ¬&#34;&gt;#&lt;/a&gt; SpringCloud åˆ†å¸ƒå¼ç‰ˆæœ¬&lt;/h4&gt;
&lt;p&gt;å¦‚æœä½ æ˜¯æƒ³è·‘&lt;font color=&#39;red&#39;&gt;å¾®æœåŠ¡å…¨æµç¨‹&lt;/font&gt;ï¼Œéœ€ä¾æ¬¡å¯åŠ¨  &lt;code&gt;pay-service&lt;/code&gt; ã€ &lt;code&gt;order-service&lt;/code&gt; ã€ &lt;code&gt;ticket-service&lt;/code&gt; ã€ &lt;code&gt;user-service&lt;/code&gt;  ä»¥åŠ  &lt;code&gt;gateway-service&lt;/code&gt;  ç­‰æœåŠ¡ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;figcaption data-lang=&#34;plain&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ aggregation-service  || -- # èšåˆæœåŠ¡&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ gateway-service  || -- # ç½‘å…³æœåŠ¡&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ order-service  || -- # è®¢å•æœåŠ¡&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ pay-service  || -- # æ”¯ä»˜æœåŠ¡&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ ticket-service  || -- # è´­ç¥¨æœåŠ¡&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â””â”€â”€ user-service  || -- # ç”¨æˆ·æœåŠ¡&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&#34;é¡¹ç›®å·¥ç¨‹çš„ç›®å½•ç»“æ„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¡¹ç›®å·¥ç¨‹çš„ç›®å½•ç»“æ„&#34;&gt;#&lt;/a&gt; é¡¹ç›®å·¥ç¨‹çš„ç›®å½•ç»“æ„&lt;/h3&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ checkstyle  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# ä»£ç æ ¼å¼æ£€æŸ¥ç»„ä»¶&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ 12306_checkstyle.xml  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# ä»£ç æ ¼å¼æ£€æŸ¥ç»„ä»¶è§„åˆ™é…ç½®&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â””â”€â”€ 12306_checkstyle_suppression.xml  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# å¿½ç•¥ä»£ç æ ¼å¼æ£€æŸ¥ç»„ä»¶è§„åˆ™é…ç½®&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ console-vue  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;#  12306 å‰ç«¯æ§åˆ¶å°é¡¹ç›®&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ README.md&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ babel.config.js&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ jsconfig.json&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ node_modules&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ package.json&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ public&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ src&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ vue.config.js&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â””â”€â”€ yarn.lock&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ dependencies  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;#  12306 åç«¯é¡¹ç›®å…¨å±€ä¾èµ–ç‰ˆæœ¬æ§åˆ¶&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â””â”€â”€ pom.xml&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ &lt;span class=&#34;token function&#34;&gt;format&lt;/span&gt;  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;#  12306 åç«¯é¡¹ç›®æ ¼å¼åŒ–ç»„ä»¶&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ 12306_spotless_formatter.xml  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;#  12306 åç«¯é¡¹ç›®æ ¼å¼åŒ–ç»„ä»¶è§„åˆ™é…ç½®&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â””â”€â”€ license-header  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;#  12306 åç«¯é¡¹ç›®å¼€æºåè®®å¤´æ ¼å¼åŒ–&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ frameworks  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;#  12306 åŸºç¡€æ¶æ„ç»„ä»¶åº“&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ base  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;#  12306 é¡¶å±‚æŠ½è±¡åŸºç¡€ç»„ä»¶&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ bizs  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;#  12306 ä¸šåŠ¡ç›¸å…³åŸºç¡€ç»„ä»¶ï¼Œæ¯”å¦‚ç”¨æˆ·ä¸Šä¸‹æ–‡ç­‰&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ cache  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 ç¼“å­˜åŸºç¡€ç»„ä»¶&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ common  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 å…¬å…±å·¥å…·åŒ…ç»„ä»¶&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ convention  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 é¡¹ç›®è§„çº¦ç»„ä»¶&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ database  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 æ•°æ®åº“æŒä¹…å±‚ç»„ä»¶&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ designpattern  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 è®¾è®¡æ¨¡å¼æŠ½è±¡åŸºç¡€ç»„ä»¶&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ distributedid  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 åˆ†å¸ƒå¼ ID åŸºç¡€ç»„ä»¶&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ idempotent  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 å¹‚ç­‰åŸºç¡€ç»„ä»¶ï¼ŒåŒ…æ‹¬ HTTP åŠä¸åŒæ¶ˆæ¯é˜Ÿåˆ—å®ç°&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ log  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 æ—¥å¿—æ‰“å°åŸºç¡€ç»„ä»¶åº“&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â””â”€â”€ web  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 Web ç›¸å…³åŸºç¡€ç»„ä»¶åº“&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;31&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ pom.xml&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;32&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ resources  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 é¡¹ç›®æ•°æ®åº“åˆå§‹åŒ–åŠå…¶å®ƒ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;33&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ data  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 æ•°æ®åº“æ•°æ®åˆå§‹åŒ–&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;34&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â””â”€â”€ db  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 æ•°æ®åº“åˆå§‹åŒ–&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;35&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ services  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 åç«¯é¡¹ç›®é›†åˆ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;36&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ aggregation-service  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 SpringBoot èšåˆæ¨¡å¼æœåŠ¡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;37&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ gateway-service  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 ç½‘å…³æœåŠ¡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;38&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ order-service  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 è®¢å•æœåŠ¡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;39&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ pay-service  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 æ”¯ä»˜æœåŠ¡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;40&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ ticket-service  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 è´­ç¥¨æœåŠ¡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;41&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â””â”€â”€ user-service  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 ç”¨æˆ·æœåŠ¡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;42&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ pom.xml&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;43&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â””â”€â”€ tests  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 å•å…ƒæµ‹è¯•é›†åˆ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;44&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”‚   â”œâ”€â”€ general  &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; -- &lt;span class=&#34;token comment&#34;&gt;# 12306 é€šç”¨å•å…ƒæµ‹è¯•&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;45&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â””â”€â”€ pom.xml&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;46&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ LICENSE&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;47&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ mvnw&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;48&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ mvnw.cmd&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;49&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ pom.xml&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;50&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ README.md&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&#34;è®¾ç½®-jdk-ç‰ˆæœ¬&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è®¾ç½®-jdk-ç‰ˆæœ¬&#34;&gt;#&lt;/a&gt; è®¾ç½® JDK ç‰ˆæœ¬&lt;/h3&gt;
&lt;p&gt;12306 ç³»ç»Ÿæ¡†æ¶åº•å±‚ä¾èµ– SpringBoot3ï¼Œè€Œè¿™ä¸ªç‰ˆæœ¬å¯¹ JDK çš„è¦æ±‚æœ€ä½æ˜¯ 17ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ **&lt;font color=&#39;red&#39;&gt;å°†é¡¹ç›®çš„ JDK ä¿®æ”¹ä¸º 17 ç‰ˆæœ¬&lt;/font&gt;**ï¼Œé¿å…é¡¹ç›®ç¼–è¯‘æˆ–è¿è¡ŒæŠ¥é”™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ•°æ®åº“åˆå§‹åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®åº“åˆå§‹åŒ–&#34;&gt;#&lt;/a&gt; æ•°æ®åº“åˆå§‹åŒ–&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸‹æ–‡ä¸­ Linux è·¯å¾„ä¸­å‡ºç°çš„ç¬¦å·  &lt;code&gt;~&lt;/code&gt;  è¡¨ç¤ºæ ¹è·¯å¾„  &lt;code&gt;$&amp;#123;HOME&amp;#125;&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;å®‰è£…-mysql-5736&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®‰è£…-mysql-5736&#34;&gt;#&lt;/a&gt; å®‰è£… MySQL 5.7.36&lt;/h3&gt;
&lt;p&gt;Windowsã€Linux ä»¥åŠ Mac M1 ä»¥ä¸‹ç”µè„‘é€šè¿‡ä»¥ä¸‹ Docker å‘½ä»¤ä¸‹è½½ MySQL é•œåƒï¼Œå¹¶å¯åŠ¨ MySQL å®¹å™¨ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;--name&lt;/span&gt; mysql &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3306&lt;/span&gt;:3306 &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-e&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;MYSQL_ROOT_HOST&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;%&#39;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-e&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;root &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-d&lt;/span&gt; mysql:5.7.36&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;--name mysql&lt;/code&gt; ï¼šæŒ‡å®šå®¹å™¨çš„åç§°ä¸º mysqlã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-p 3306:3306&lt;/code&gt; ï¼šå°†å®¹å™¨çš„ 3306 ç«¯å£æŒ‚è½½åˆ°å®¿ä¸»æœºçš„ 3306 ç«¯å£ä¸Šã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-e MYSQL_ROOT_HOST=&#39;%&#39;&lt;/code&gt; ï¼šå…è®¸ root ç”¨æˆ·åœ¨ä»»ä½•ä¸»æœºè®¿é—®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-e MYSQL_ROOT_PASSWORD=root&lt;/code&gt; ï¼šæŒ‡å®š MySQL çš„ root ç”¨æˆ·çš„å¯†ç ä¸º rootã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-d&lt;/code&gt; ï¼šä»¥åå°çš„æ–¹å¼è¿è¡Œï¼Œåé¢æ˜¯  &lt;code&gt;Image:Tag&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å°† MySQL å®¹å™¨å†…çš„é…ç½®æ–‡ä»¶å¤åˆ¶åˆ° Linux ä¸­ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# åœ¨ Linux ä¸­æ–°å»ºæœ¬åœ°ç›®å½•ï½/docker/software/mysql/confã€‚-p è¡¨ç¤ºæ²¡æœ‰è¯¥ç›®å½•åˆ™è‡ªåŠ¨åˆ›å»ºã€‚&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; ~/docker/software/mysql/conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å°† MySQL å®¹å™¨å†…çš„é…ç½®æ–‡ä»¶å¤åˆ¶åˆ° Linux æœ¬åœ°ç›®å½•ä¸­&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;cp&lt;/span&gt; mysql:/etc/mysql/mysql.conf.d/mysqld.cnf ~/docker/software/mysql/conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;åœ¨ Linux ä¸­æ‰“å¼€  &lt;code&gt;~/docker/software/mysql/conf&lt;/code&gt;  mysqld.cnf æ–‡ä»¶ï¼Œå¢åŠ ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ºäº†åç»­ Canal å¯¹æ¥ï¼Œè¿™é‡Œç›´æ¥å¼€å¯ BinLog ç›¸å…³é…ç½®&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# åœ¨ Linux ä¸­æ‰“å¼€é…ç½®æ–‡ä»¶&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;vim&lt;/span&gt; ~/docker/software/mysql/conf/mysqld.cnf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å‘é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼Œæ³¨æ„æ˜¯åœ¨åœ¨ [mysqld] ç›®å½•ä¸­&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;log-bin&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;mysql-bin  &lt;span class=&#34;token comment&#34;&gt;# å¼€å¯ binlog&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;binlog-format&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;ROW  &lt;span class=&#34;token comment&#34;&gt;# é€‰æ‹© ROW æ¨¡å¼&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;server-id&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# é…ç½® MySQL replaction éœ€è¦å®šä¹‰ï¼Œä¸è¦å’Œ canal çš„ slaveId é‡å¤&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;åˆ é™¤åŸ MySQL å®¹å™¨ï¼Œé€šè¿‡æ–°é…ç½®åˆ›å»ºæ–°çš„å®¹å™¨ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# åˆ é™¤è¿è¡Œä¸­çš„ MySQL å®¹å™¨&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;rm&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-f&lt;/span&gt; mysql&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# è¿è¡Œ Docker å®¹å™¨å‘½ä»¤&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;--name&lt;/span&gt; mysql &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3306&lt;/span&gt;:3306 &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; /etc/localtime:/etc/localtime &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; ~/docker/software/mysql/conf:/etc/mysql/mysql.conf.d &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; ~/docker/software/mysql/log:/var/log/mysql &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; ~/docker/software/mysql/data:/var/lib/mysql &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-e&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;root &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-d&lt;/span&gt; mysql:5.7.36&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/etc/localtime&lt;/code&gt; ï¼šæ—¶é—´åŒæ­¥&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/docker/software/mysql/conf&lt;/code&gt; ï¼šåŒæ­¥ MySQL é…ç½®æ–‡ä»¶ï¼Œä¸Šé¢é…ç½®çš„å†…å®¹å°±ä¼šè¦†ç›–å®¹å™¨ä¸­çš„é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/docker/software/mysql/log&lt;/code&gt; ï¼šåŒæ­¥ MySQL æ—¥å¿—ç›®å½•&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/docker/software/mysql/data&lt;/code&gt; ï¼šåŒæ­¥ MySQL çš„ä¸€äº›æ–‡ä»¶å†…å®¹ï¼ˆå¯¹æ•°æ®è¿›è¡Œå¤‡ä»½ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;MYSQL_ROOT_PASSWORD=root&lt;/code&gt; ï¼šé»˜è®¤ root çš„å¯†ç æ˜¯ root&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿›å…¥åˆ° MySQL çš„å‘½ä»¤è¡Œæ¨¡å¼æ¥ç»™ root è´¦å·æˆæƒæ‰€æœ‰ ip èƒ½å¤Ÿè®¿é—®ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ä½¿ç”¨ MySQL å®¹å™¨ä¸­çš„å‘½ä»¤è¡Œ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token builtin class-name&#34;&gt;exec&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-it&lt;/span&gt; mysql /bin/bash&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ä½¿ç”¨ MySQL å‘½ä»¤æ‰“å¼€å®¢æˆ·ç«¯ï¼š&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;mysql &lt;span class=&#34;token parameter variable&#34;&gt;-uroot&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-proot&lt;/span&gt; --default-character-set&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;utf8&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ¥ç€åˆ›å»ºä¸€ä¸ªè´¦æˆ·ï¼Œè¯¥è´¦å·æ‰€æœ‰ IP éƒ½èƒ½å¤Ÿè®¿é—®&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;grant all privileges on *.* to &lt;span class=&#34;token string&#34;&gt;&#39;root&#39;&lt;/span&gt; @&lt;span class=&#34;token string&#34;&gt;&#39;%&#39;&lt;/span&gt; identified by &lt;span class=&#34;token string&#34;&gt;&#39;root&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# åˆ·æ–°ç”Ÿæ•ˆ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;FLUSH PRIVILEGES&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æŸ¥çœ‹ binlog æ—¥å¿—æ˜¯å¦å·²ç»å¼€å¯ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æŸ¥çœ‹ binlog æ—¥å¿—æ˜¯å¦å¼€å¯&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;show variables like &lt;span class=&#34;token string&#34;&gt;&#39;log_%&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æŸ¥çœ‹ä¸»ç»“ç‚¹å½“å‰çŠ¶æ€&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;show master status&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¦‚æœ log_bin ä¸º ONï¼Œå³ä¸ºå¼€å¯çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1670219063740-9658993e-ac4f-42dc-9634-d716a07dc08c.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºäº†é¿å…ä»¥åæ¯æ¬¡å¯åŠ¨ Linux æœåŠ¡å™¨éƒ½éœ€è¦æ‰‹åŠ¨è¿è¡Œ MySQL ç­‰å®¹å™¨ï¼Œå¯ä»¥å°†å…¶ä¿®æ”¹ä¸º **&lt;font color=&#39;red&#39;&gt;å¼€æœºæ—¶è‡ªåŠ¨è¿è¡Œ&lt;/font&gt;**ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; update mysql &lt;span class=&#34;token parameter variable&#34;&gt;--restart&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;always&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é‡å¯ Linux åï¼Œé€šè¿‡  &lt;code&gt;sudo docker ps&lt;/code&gt;  å‘½ä»¤éªŒè¯ MySQL å·²ç»è‡ªåŠ¨è¿è¡Œã€‚&lt;/p&gt;
&lt;h3 id=&#34;é€šè¿‡-navicat-idea-å»ºç«‹æ•°æ®åº“è¿æ¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é€šè¿‡-navicat-idea-å»ºç«‹æ•°æ®åº“è¿æ¥&#34;&gt;#&lt;/a&gt; é€šè¿‡ Navicat / IDEA å»ºç«‹æ•°æ®åº“è¿æ¥&lt;/h3&gt;
&lt;p&gt;è‡ªå®šä¹‰è¿æ¥åï¼ŒIP å¡«å†™ Linux çš„ IP åœ°å€ï¼Œç«¯å£å·é»˜è®¤ä¸º 3306ï¼Œç”¨æˆ·åå’Œå¯†ç é»˜è®¤ä¸º rootã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20240124161737463.png&#34; alt=&#34;image-20240124161737463&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20240124162008565.png&#34; alt=&#34;image-20240124162008565&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;å»ºåº“å»ºè¡¨-åˆå§‹åŒ–æ•°æ®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å»ºåº“å»ºè¡¨-åˆå§‹åŒ–æ•°æ®&#34;&gt;#&lt;/a&gt; å»ºåº“å»ºè¡¨ &amp;amp; åˆå§‹åŒ–æ•°æ®&lt;/h3&gt;
&lt;p&gt;ä¸¤ç§å¯åŠ¨æ¨¡å¼åˆ†åˆ«å¯¹åº”ä¸åŒçš„æ•°æ®åº“è¡¨æ¨¡å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SpringBoot æ¨¡å¼ï¼šä»…åˆ†è¡¨ï¼Œä¸åˆ†åº“ã€‚æ•°æ®åº“åç§°æ˜¯ç»Ÿä¸€çš„  &lt;code&gt;12306&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;SpringCloud æ¨¡å¼ï¼šåˆ†åº“åˆåˆ†è¡¨&lt;/font&gt;&lt;/strong&gt;ã€‚æ•°æ®åº“åç§°æ˜¯  &lt;code&gt;12306_ä¸šåŠ¡_åˆ†åº“æ•°&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸¤ç§æ¨¡å¼çš„åˆ†è¡¨æ¨¡å¼ä¸€è‡´ã€‚æ‰€ä»¥è¯´ï¼Œå¯åŠ¨ SpringBoot æ¨¡å¼æ—¶ï¼Œå¯¼å…¥ 12306 æ•°æ®åº“ã€‚&lt;font color=&#39;red&#39;&gt;å¯åŠ¨ SpringCloud æ—¶ï¼Œéœ€è¦åˆ›å»ºä¸ 12306 ç›¸å…³çš„æ•°æ®åº“åŠè¡¨ç»“æ„&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œå¯åŠ¨ SpringCloud æ¨¡å¼ï¼Œæ‰§è¡Œæ•°æ®åº“å»ºè¡¨è¯­å¥å’Œåˆå§‹åŒ–æ•°æ® SQL æ–‡ä»¶ï¼Œæ–‡ä»¶å¤¹åœ°å€ï¼š &lt;code&gt;/resources/&amp;#123;data or db&amp;#125;/12306-springcloud-xx.sql&lt;/code&gt; ï¼Œå¦‚æœåç»­é‡åˆ°ä»£ç ä¸­å…³äºæ•°æ®åº“ç›¸å…³çš„æŠ¥é”™ï¼Œé‡æ–°æ‰§è¡Œä¸‹å¯¹åº”åº“çš„ SQL æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;MySQL æ•°æ®åº“ä¸­åˆ›å»ºå¤šä¸ª 12306 ä¸šåŠ¡ç›¸å…³ DBï¼Œä»¥ä¸‹&lt;strong&gt;å»ºåº“ SQL å¯ä»¥åœ¨ IDEA æ’ä»¶ â€œæ•°æ®åº“â€ ä¸­é€šè¿‡æ–°å»º â€œæŸ¥è¯¢æ§åˆ¶å°â€ æ‰§è¡Œ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20240124162134366.png&#34; alt=&#34;image-20240124162134366&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20240124162215075.png&#34; alt=&#34;image-20240124162215075&#34; /&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DATABASE&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/*!32312 IF NOT EXISTS*/&lt;/span&gt; &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;12306_ticket&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci */&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DATABASE&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/*!32312 IF NOT EXISTS*/&lt;/span&gt; &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;12306_order_0&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci */&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DATABASE&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/*!32312 IF NOT EXISTS*/&lt;/span&gt; &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;12306_order_1&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci */&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DATABASE&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/*!32312 IF NOT EXISTS*/&lt;/span&gt; &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;12306_pay_0&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci */&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DATABASE&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/*!32312 IF NOT EXISTS*/&lt;/span&gt; &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;12306_pay_1&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci */&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DATABASE&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/*!32312 IF NOT EXISTS*/&lt;/span&gt; &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;12306_user_0&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci */&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DATABASE&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/*!32312 IF NOT EXISTS*/&lt;/span&gt; &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;12306_user_1&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci */&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;1ï¼‰è¿›å…¥  &lt;code&gt;12306_ticket&lt;/code&gt;  æ•°æ®åº“ **&lt;font color=&#39;red&#39;&gt;ä¾æ¬¡å¯¼å…¥&lt;/font&gt;** é¡¹ç›®ä¸­ä¸‹è¿°å»ºè¡¨ SQL è¯­å¥ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ€å¥½åœ¨ Navicat ä¸­æ‰§è¡Œä»¥ä¸‹ SQL æ–‡ä»¶ï¼Œå› ä¸ºåœ¨ IDEA ä¸­å¯èƒ½ä¼šé‡åˆ°æœ€å¤§å †ç©ºé—´ä¸è¶³çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;resources/db/12306-springcloud-ticket.sql&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;resources/data/12306-springcloud-ticket.sql&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;2ï¼‰è¿›å…¥  &lt;code&gt;12306_user_0&lt;/code&gt;  æ•°æ®åº“ **&lt;font color=&#39;red&#39;&gt;ä¾æ¬¡å¯¼å…¥&lt;/font&gt;** é¡¹ç›®ä¸­ä¸‹è¿°å»ºè¡¨ SQL è¯­å¥ï¼Œè¯¥ SQL æ–‡ä»¶åŒ…å«äº†  &lt;code&gt;12306_user_0&lt;/code&gt;  å’Œ  &lt;code&gt;12306_user_1&lt;/code&gt;  ä¸¤ä¸ªæ•°æ®åº“çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;resources/db/12306-springcloud-user.sql&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;resources/data/12306-springcloud-user.sql&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;3ï¼‰è¿›å…¥  &lt;code&gt;12306_pay_0&lt;/code&gt;  æ•°æ®åº“å¯¼å…¥é¡¹ç›®ä¸­ä¸‹è¿°å»ºè¡¨ SQL è¯­å¥ï¼Œè¯¥ SQL æ–‡ä»¶åŒ…å«äº†  &lt;code&gt;12306_pay_0&lt;/code&gt;  å’Œ  &lt;code&gt;12306_pay_1&lt;/code&gt;  ä¸¤ä¸ªæ•°æ®åº“çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;resources/db/12306-springcloud-pay.sql&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;4ï¼‰è¿›å…¥  &lt;code&gt;12306_order_0&lt;/code&gt;  æ•°æ®åº“å¯¼å…¥é¡¹ç›®ä¸­ä¸‹è¿°å»ºè¡¨ SQL è¯­å¥ï¼Œè¯¥ SQL æ–‡ä»¶åŒ…å«äº†  &lt;code&gt;12306_order_0&lt;/code&gt;  å’Œ  &lt;code&gt;12306_order_1&lt;/code&gt;  ä¸¤ä¸ªæ•°æ®åº“çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;resources/db/12306-springcloud-order.sql&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&#34;ä¿®æ”¹-mysql-ç›¸å…³çš„é¡¹ç›®é…ç½®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¿®æ”¹-mysql-ç›¸å…³çš„é¡¹ç›®é…ç½®&#34;&gt;#&lt;/a&gt; ä¿®æ”¹ MySQL ç›¸å…³çš„é¡¹ç›®é…ç½®&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;åœ¨ Linux æœåŠ¡å™¨ä¸­åˆ›å»ºå¥½ MySQL åï¼Œç”±äºé¡¹ç›®ä¸­é»˜è®¤çš„é…ç½®ä¿¡æ¯æ˜¯è¿æ¥åˆ°æœ¬åœ°çš„ MySQL ä¸Šï¼Œå› æ­¤é»˜è®¤çš„ IP å…¨æ˜¯ 127.0.0.1ï¼Œéœ€è¦ä¿®æ”¹æˆè‡ªå·±çš„ Linux æœåŠ¡å™¨ IPï¼Œå³ 192.168.0.2&lt;/font&gt;&lt;/strong&gt;ã€‚éœ€è¦ä¿®æ”¹é¡¹ç›®çš„æ•°æ®åº“é…ç½®ä¿¡æ¯ï¼Œç¼ºç‚¹æ˜¯åœ¨ä¹‹å update project æ—¶å¯èƒ½å†²çªï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸»è¦æ˜¯ç¡®è®¤ä¸‰ä¸ªé…ç½®å‚æ•° &lt;code&gt;jdbcUrl&lt;/code&gt; ã€ &lt;code&gt;username&lt;/code&gt; ã€ &lt;code&gt;password&lt;/code&gt; ï¼Œä¸»è¦æ˜¯ &lt;strong&gt;IP åœ°å€ã€ç«¯å£å·ã€æ•°æ®åº“åç§°ã€ç”¨æˆ·åã€å¯†ç &lt;/strong&gt;ï¼Œå¦‚æœä¸ä¸€è‡´è¯·è®°å¾—ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;ç‰¹åˆ«åœ°ï¼Œå¦‚æœ &lt;strong&gt;&lt;font color=&#39;red&#39;&gt;MySQL/Redis/Nacos/RocketMQ&lt;/font&gt;&lt;/strong&gt; æ˜¯å®‰è£…åœ¨ Linux ä¸­ï¼Œé‚£ä¹ˆéœ€è¦å°†  &lt;code&gt;127.0.0.1&lt;/code&gt;  ä¿®æ”¹ä¸º Linux çš„ IP åœ°å€ï¼Œä¾‹å¦‚æˆ‘çš„æ˜¯  &lt;code&gt;192.168.0.2&lt;/code&gt;  ï¼Œåç»­ä¼šè¯´æ˜ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä»¥ SpringBoot å•ä½“æœåŠ¡ä¸¾ä¾‹ï¼Œä¿®æ”¹  &lt;code&gt;aggregation-service&lt;/code&gt;  ç›®å½•ä¸­çš„  &lt;code&gt;shardingsphere-config-dev.yaml&lt;/code&gt;  å³å¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1691894880930-7aee6932-b5a5-458f-84bb-dacf70fe4b78.png&#34; alt=&#34;image.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ SpringCloud å¾®æœåŠ¡ä¸¾ä¾‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;aggregation-service&lt;/code&gt; ï¼šç”±äºæˆ‘é‡‡ç”¨çš„ SpringCloud å¾®æœåŠ¡æ¨¡å¼ä¸æ¶‰åŠè¯¥ serviceï¼Œå› æ­¤ä¸ç”¨ä¿®æ”¹ç›¸å…³é…ç½®æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;gateway-service&lt;/code&gt; ï¼šè¯¥ service ä¸æ¶‰åŠ MySQL é…ç½®ï¼Œä¸ç”¨ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;order-service&lt;/code&gt; ã€ &lt;code&gt;pay-service&lt;/code&gt; ã€ &lt;code&gt;user-service&lt;/code&gt; ï¼šä¿®æ”¹å„è‡ªç›®å½•ä¸‹çš„  &lt;code&gt;shardingsphere-config.yaml&lt;/code&gt;  æ–‡ä»¶ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸»è¦æ˜¯ jdbcUrl å‚æ•°ï¼Œå°†å…¶ä¸­çš„ 127.0.0.1 ä¿®æ”¹æˆ Linux æœåŠ¡å™¨ IPï¼Œå³ 192.168.0.2&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20240124235121774.png&#34; alt=&#34;image-20240124235121774&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ticket-service&lt;/code&gt; ï¼šä¿®æ”¹ç›®å½•ä¸‹çš„  &lt;code&gt;application.yaml&lt;/code&gt;  æ–‡ä»¶ï¼Œ&lt;font color=&#39;red&#39;&gt;å°† spring.datasource.url ä¸­çš„ 127.0.0.1 ä¿®æ”¹ä¸º 192.168.0.2&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20240124235317255.png&#34; alt=&#34;image-20240124235317255&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å®‰è£…åç«¯ç¯å¢ƒä¸­é—´ä»¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®‰è£…åç«¯ç¯å¢ƒä¸­é—´ä»¶&#34;&gt;#&lt;/a&gt; å®‰è£…åç«¯ç¯å¢ƒï¼ˆä¸­é—´ä»¶ï¼‰&lt;/h2&gt;
&lt;h3 id=&#34;äº‘ç¯å¢ƒå®‰è£…&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#äº‘ç¯å¢ƒå®‰è£…&#34;&gt;#&lt;/a&gt; äº‘ç¯å¢ƒå®‰è£…&lt;/h3&gt;
&lt;h3 id=&#34;linux-æœåŠ¡å™¨å®‰è£…&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#linux-æœåŠ¡å™¨å®‰è£…&#34;&gt;#&lt;/a&gt; Linux æœåŠ¡å™¨å®‰è£…&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;å•Šå•Šå•Šå•Šå•Šå•Šå•Š Linux è™šæ‹Ÿæœºçš„ç©ºé—´ä¸å¤Ÿï¼Œå‘å‡ºå°–é”çš„çˆ†é¸£å£°ï¼ï¼ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;redis-latest&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-latest&#34;&gt;#&lt;/a&gt; Redis Latest&lt;/h4&gt;
&lt;p&gt;é€šè¿‡ç®€æ˜“ç‰ˆæ–¹å¼å®‰è£…ï¼Œä¸»æ‰“çš„å°±æ˜¯æœ‰é—®é¢˜é“²äº†é‡è£…ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;:6379 &lt;span class=&#34;token parameter variable&#34;&gt;--name&lt;/span&gt; redis  &lt;span class=&#34;token parameter variable&#34;&gt;-d&lt;/span&gt; redis redis-server &lt;span class=&#34;token parameter variable&#34;&gt;--requirepass&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;123456&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;åŒæ ·åœ°ï¼Œä¹Ÿå°† Redis ä¿®æ”¹ä¸º **&lt;font color=&#39;red&#39;&gt;å¼€æœºæ—¶è‡ªåŠ¨è¿è¡Œ&lt;/font&gt;**ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; update redis &lt;span class=&#34;token parameter variable&#34;&gt;--restart&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;always&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;rocketmq-451&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rocketmq-451&#34;&gt;#&lt;/a&gt; RocketMQ 4.5.1&lt;/h4&gt;
&lt;h5 id=&#34;å®‰è£…-nameserver&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®‰è£…-nameserver&#34;&gt;#&lt;/a&gt; å®‰è£… NameServer&lt;/h5&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;-d&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;9876&lt;/span&gt;:9876 &lt;span class=&#34;token parameter variable&#34;&gt;--name&lt;/span&gt; rmqnamesrv foxiswho/rocketmq:server-4.5.1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;å®‰è£…-brocker&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®‰è£…-brocker&#34;&gt;#&lt;/a&gt; å®‰è£… Brocker&lt;/h5&gt;
&lt;p&gt;1ï¼‰æ–°å»ºé…ç½®ç›®å½•&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; ~/docker/software/rocketmq/conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;2ï¼‰æ–°å»ºé…ç½®æ–‡ä»¶ broker.conf&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;brokerClusterName &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; DefaultCluster&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;brokerName &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; broker-a&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;brokerId &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;deleteWhen &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; 04&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;fileReservedTime &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;48&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;brokerRole &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; ASYNC_MASTER&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;flushDiskType &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; ASYNC_FLUSH&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ­¤å¤„ä¸ºæœ¬åœ° ip, å¦‚æœéƒ¨ç½²æœåŠ¡å™¨ï¼Œéœ€è¦å¡«å†™æœåŠ¡å™¨å¤–ç½‘ ip, ä¾‹å¦‚ 192.168.0.2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;brokerIP1 &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; xx.xx.xx.xx&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;3ï¼‰åˆ›å»ºå®¹å™¨&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;-d&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;10911&lt;/span&gt;:10911 &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;10909&lt;/span&gt;:10909 &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;--name&lt;/span&gt; rmqbroker &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;--link&lt;/span&gt; rmqnamesrv:namesrv &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; ~/docker/software/rocketmq/conf/broker.conf:/etc/rocketmq/broker.conf &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-e&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;NAMESRV_ADDR=namesrv:9876&#34;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-e&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;JAVA_OPTS=-Duser.home=/opt&#34;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-e&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;JAVA_OPT_EXT=-server -Xms512m -Xmx512m&#34;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;foxiswho/rocketmq:broker-4.5.1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;å®‰è£…-rocketmq-æ§åˆ¶å°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®‰è£…-rocketmq-æ§åˆ¶å°&#34;&gt;#&lt;/a&gt; å®‰è£… rocketmq æ§åˆ¶å°&lt;/h5&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; pull apacherocketmq/rocketmq-dashboard&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;-d&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;--link&lt;/span&gt; rmqnamesrv:namesrv &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-e&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;JAVA_OPTS=-Drocketmq.config.namesrvAddr=namesrv:9876 -Drocketmq.config.isVIPChannel=false&#34;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;--name&lt;/span&gt; rmqconsole &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;8088&lt;/span&gt;:8080 &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-t&lt;/span&gt; apacherocketmq/rocketmq-dashboard&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è¿è¡ŒæˆåŠŸï¼Œç¨ç­‰å‡ ç§’å¯åŠ¨æ—¶é—´ï¼Œæµè§ˆå™¨è¾“å…¥  &lt;code&gt;localhost:8088&lt;/code&gt;  æŸ¥çœ‹ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ ·åœ°ï¼Œä¹Ÿå°† NameServerã€Brockerã€rocketmq æ§åˆ¶å° ä¿®æ”¹ä¸º **&lt;font color=&#39;red&#39;&gt;å¼€æœºæ—¶è‡ªåŠ¨è¿è¡Œ&lt;/font&gt;**ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; update rmqnamesrv &lt;span class=&#34;token parameter variable&#34;&gt;--restart&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;always&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; update rmqbroker &lt;span class=&#34;token parameter variable&#34;&gt;--restart&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;always&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; update rmqconsole &lt;span class=&#34;token parameter variable&#34;&gt;--restart&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;always&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;nacos-212&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#nacos-212&#34;&gt;#&lt;/a&gt; Nacos 2.1.2&lt;/h4&gt;
&lt;p&gt;é€šè¿‡ç®€æ˜“ç‰ˆæ–¹å¼å®‰è£…ï¼Œä¸»æ‰“çš„å°±æ˜¯æœ‰é—®é¢˜é“²äº†é‡è£…ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-d&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;8848&lt;/span&gt;:8848 &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;9848&lt;/span&gt;:9848 &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;--name&lt;/span&gt; nacos2 &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-e&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;MODE&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;standalone &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-e&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;TIME_ZONE&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Asia/Shanghai&#39;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;nacos/nacos-server:v2.1.2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è¿è¡ŒæˆåŠŸï¼Œç¨ç­‰å‡ ç§’å¯åŠ¨æ—¶é—´ï¼Œæµè§ˆå™¨è¾“å…¥  &lt;code&gt;http://localhost:8848/nacos/index.html&lt;/code&gt;  æŸ¥çœ‹æ§åˆ¶å°ï¼Œç”¨æˆ·åå’Œå¯†ç å‡ä¸º nacosã€‚&lt;/p&gt;
&lt;p&gt;åŒæ ·åœ°ï¼Œä¹Ÿå°† Nacos2 ä¿®æ”¹ä¸º **&lt;font color=&#39;red&#39;&gt;å¼€æœºæ—¶è‡ªåŠ¨è¿è¡Œ&lt;/font&gt;**ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; update nacos2 &lt;span class=&#34;token parameter variable&#34;&gt;--restart&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;always&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;ä¿®æ”¹ä¸­é—´ä»¶ç›¸å…³çš„é¡¹ç›®é…ç½®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¿®æ”¹ä¸­é—´ä»¶ç›¸å…³çš„é¡¹ç›®é…ç½®&#34;&gt;#&lt;/a&gt; ä¿®æ”¹ä¸­é—´ä»¶ç›¸å…³çš„é¡¹ç›®é…ç½®&lt;/h4&gt;
&lt;p&gt;å¦‚æœ &lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Redis/Nacos/RocketMQ&lt;/font&gt;&lt;/strong&gt; æ˜¯å®‰è£…åœ¨ Linux ä¸­ï¼Œé‚£ä¹ˆéœ€è¦ä¿®æ”¹é¡¹ç›®ä¸­çš„é…ç½®ä¿¡æ¯ã€‚&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;é€šè¿‡æ·»åŠ  VM optionsï¼ˆJVM å‚æ•°ï¼‰ä¿®æ”¹å„ service çš„é…ç½®ä¿¡æ¯ï¼Œå¥½å¤„æ˜¯ä¸éœ€è¦ä¿®æ”¹é¡¹ç›®ä»£ç ï¼Œä¸ä¼šå†²çª&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;VM options æ·»åŠ æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§„åˆ™ 1ï¼š-D å¼€å¤´ + å‚æ•°å = å‚æ•°å€¼&lt;/li&gt;
&lt;li&gt;è§„åˆ™ 2ï¼š= ä¸¤ä¾§æ²¡æœ‰ç©ºæ ¼&lt;/li&gt;
&lt;li&gt;è§„åˆ™ 3ï¼šä¸åŒå‚æ•°ä¹‹é—´ç©ºæ ¼åˆ†éš”&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;// å¦‚ä¸‹æ‰€ç¤ºæˆ‘ä»¬å¢åŠ ä¸¤ä¸ªå‚æ•° Env å’Œ Name&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-DEnv&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;prod &lt;span class=&#34;token parameter variable&#34;&gt;-DName&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;zhangsan&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/42bafc4558f74e6b83e543042cecca90.png&#34; alt=&#34;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;VM options è·å–æ–¹æ³•ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;// System.getProperty (&#34;å‚æ•°å&#34;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token class-name&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getProperty&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;Env&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token class-name&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getProperty&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;Name&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç”±æ­¤å¾—çŸ¥ï¼ŒVM options å¯ä»¥ä»»æ„è®¾ç½®ï¼Œå³ä½¿æ˜¯æ— ç”¨çš„å‚æ•°ä¹Ÿæ²¡æœ‰å…³ç³»ï¼&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œå‚è€ƒä»¥ä¸‹ VM options ç¤ºä¾‹æ¨¡æ¿ï¼Œæ ¹æ®å®é™…æƒ…å†µç»™å‡ºå„ä¸ª service çš„å…·ä½“ VM å‚æ•°ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;-Dspring.data.redis.password=Sm9sVXBOYJjI030b5tz0trjpzvZzRhtZmEbv0uOImcD1wEDOPfeaqNU4PxHob/Wp
-Dspring.data.redis.port=19389
-Dunique-name=-è‡ªå®šä¹‰åç§°ï¼Œå¯ä»¥åˆ‡æ¢ä¸ºè‡ªå·±çš„åç§°
-Dframework.cache.redis.prefix=è‡ªå®šä¹‰åç§°ï¼Œå¯ä»¥åˆ‡æ¢ä¸ºè‡ªå·±çš„åç§°:
-Dspring.data.redis.host=RedisåŸŸå
-Drocketmq.name-server=RocketMQåŸŸå
-Dspring.cloud.nacos.discovery.server-addr=NacosåŸŸå
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;aggregation-service&lt;/code&gt; ï¼šSpringCloud å¾®æœåŠ¡æ¨¡å¼å¹¶ä¸ä½¿ç”¨è¯¥ serviceï¼Œå› æ­¤ä¸ç”¨ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;gateway-service&lt;/code&gt; ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;-Dunique-name&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;-fantedong&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;-Dspring.cloud.nacos.discovery.server-addr&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;.0.2:8848&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;order-service&lt;/code&gt; ã€ &lt;code&gt;pay-service&lt;/code&gt; ã€ &lt;code&gt;ticket-service&lt;/code&gt; ï¼šå¯¹æˆ‘è€Œè¨€ï¼ŒRedis åœ¨å®‰è£…æ—¶è®¾å®šçš„ password æ­£å¥½æ˜¯é¡¹ç›®ä¸­é…ç½®çš„åŸå§‹å¯†ç  123456ï¼Œport ä¹Ÿæ­£å¥½æ˜¯ 6379ï¼Œå› æ­¤è¿™ä¸¤ä¸ªå‚æ•°ä¸éœ€è¦ä¿®æ”¹ã€‚è®¾ç½®è‡ªå®šä¹‰åç§° unique-name ä¸º fantedong ã€‚ç„¶åå› ä¸º Redis æ˜¯åœ¨è‡ªå·±çš„ Linux æœåŠ¡å™¨ä¸­çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦è®¾ç½® framework.cache.redis.prefix ã€‚&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç”±äº Redis/RocketMQ/Nacos éƒ½æ˜¯å®‰è£…åœ¨ Linux æœåŠ¡å™¨ä¸­ï¼Œå› æ­¤éœ€è¦ä¿®æ”¹å¡«å†™æœåŠ¡å™¨çš„ IP åœ°å€ï¼Œå³ 192.168.0.2 &lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;-Dunique-name&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;-fantedong&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-Dspring.data.redis.host&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;.0.2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;-Drocketmq.name-server&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;.0.2:9876&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;-Dspring.cloud.nacos.discovery.server-addr&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;.0.2:8848&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;user-service&lt;/code&gt; ï¼šæ²¡æœ‰ç”¨åˆ° RocketMQ ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;-Dunique-name&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;-fantedong&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-Dspring.data.redis.host&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;.0.2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;-Dspring.cloud.nacos.discovery.server-addr&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;.0.2:8848&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç„¶åï¼Œå› ä¸º VM options å¯ä»¥ä»»æ„è®¾ç½®ï¼Œå›¾ä¸ªæ–¹ä¾¿çœäº‹ï¼Œè¿™é‡Œä¸º  &lt;code&gt;gateway-service&lt;/code&gt; ã€ &lt;code&gt;order-service&lt;/code&gt; ã€ &lt;code&gt;pay-service&lt;/code&gt; ã€ &lt;code&gt;ticket-service&lt;/code&gt; ã€ &lt;code&gt;user-service&lt;/code&gt;  å‡æ·»åŠ ä»¥ä¸‹ VM optionsï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;-Dunique-name&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;-fantedong&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-Dspring.data.redis.host&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;.0.2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;-Drocketmq.name-server&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;.0.2:9876&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;-Dspring.cloud.nacos.discovery.server-addr&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;.0.2:8848&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;å¯åŠ¨åç«¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¯åŠ¨åç«¯&#34;&gt;#&lt;/a&gt; å¯åŠ¨åç«¯&lt;/h2&gt;
&lt;h3 id=&#34;å°†-gateway-service-é…ç½®ä¸ºåˆ†å¸ƒå¼æ–¹å¼å¯åŠ¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°†-gateway-service-é…ç½®ä¸ºåˆ†å¸ƒå¼æ–¹å¼å¯åŠ¨&#34;&gt;#&lt;/a&gt; å°† gateway-service é…ç½®ä¸ºåˆ†å¸ƒå¼æ–¹å¼å¯åŠ¨&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;gateway-service&lt;/code&gt;  é…ç½®ä¸­é»˜è®¤æ˜¯ SpringBoot å•ä½“æ¨¡å¼ï¼Œå¦‚æœæ˜¯ä»¥åˆ†å¸ƒå¼æ–¹å¼å¯åŠ¨ï¼Œéœ€è¦ä¿®æ”¹  &lt;code&gt;application.yaml&lt;/code&gt;  é…ç½®æ–‡ä»¶ä¸­çš„å±æ€§ã€‚&lt;/p&gt;
&lt;p&gt;SpringBoot å•ä½“æ¨¡å¼ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight yaml&#34;&gt;&lt;figcaption data-lang=&#34;YAML&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;9000&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;application&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; index12306&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;gateway$&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;unique&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;name&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;service&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;profiles&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;active&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; aggregation&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;# active: dev&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;cloud&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token key atrule&#34;&gt;discovery&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token key atrule&#34;&gt;server-addr&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 127.0.0.1&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;8848&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;SpringCloud åˆ†å¸ƒå¼æ¨¡å¼ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight yaml&#34;&gt;&lt;figcaption data-lang=&#34;YAML&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;9000&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;application&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; index12306&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;gateway$&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;unique&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;name&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;service&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;profiles&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;# active: aggregation&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;active&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; dev&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;cloud&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token key atrule&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token key atrule&#34;&gt;discovery&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token key atrule&#34;&gt;server-addr&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 127.0.0.1&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;8848&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å°†  &lt;code&gt;spring.profiles.active&lt;/code&gt;  ä» aggregation ä¿®æ”¹ä¸ºäº† devã€‚&lt;/p&gt;
&lt;p&gt;aggregation ä»£è¡¨ç€èšåˆæ¨¡å¼ä¹Ÿå°±æ˜¯ SpringBoot å•ä½“æ¨¡å¼ï¼Œdev æ˜¯åˆ†å¸ƒå¼æ¨¡å¼ï¼Œåˆ†åˆ«å¯¹åº”ä¸¤ä¸ªé…ç½®æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1691039852586-c1cadfec-3770-4eb0-89b1-7625d640c559.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡ Spring æœºåˆ¶ï¼ŒåŠ è½½ä¸åŒçš„é…ç½®æ–‡ä»¶ï¼Œèµ·åˆ°ç½‘å…³è°ƒç”¨ä¸åŒæ¨¡å¼æœåŠ¡çš„ä½œç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æ˜Ÿçƒå°ä¼™ä¼´ä¿®æ”¹ç½‘å…³é…ç½®åï¼Œé—®é¢˜å¾—åˆ°è§£å†³ã€‚&lt;/p&gt;
&lt;p&gt;å®é™…ä¸Šï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è¿˜æ˜¯å»ºè®®é€šè¿‡æ·»åŠ  VM options çš„æ–¹å¼æ›´æ”¹æ­¤é…ç½®&lt;/font&gt;&lt;/strong&gt;ï¼Œåªéœ€åœ¨&lt;a href=&#34;#%E4%BF%AE%E6%94%B9%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9B%B8%E5%85%B3%E7%9A%84%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE&#34;&gt;ä¿®æ”¹ä¸­é—´ä»¶ç›¸å…³çš„é¡¹ç›®é…ç½®&lt;/a&gt;ä¸­æœ€åç¡®å®šçš„ VM options åŸºç¡€ä¸Šæ·»åŠ ä¸€è¡Œ  &lt;code&gt;-Dspring.profiles.active=dev&lt;/code&gt;  å³å¯ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;-Dunique-name&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;-fantedong&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-Dspring.data.redis.host&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;.0.2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;-Drocketmq.name-server&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;.0.2:9876&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;-Dspring.cloud.nacos.discovery.server-addr&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;.0.2:8848&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-Dspring.profiles.active&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;dev&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ä»…ä¿®æ”¹ GatewayServiceApplication çš„è¿è¡Œé…ç½®å³å¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¯åŠ¨åç«¯æœåŠ¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¯åŠ¨åç«¯æœåŠ¡&#34;&gt;#&lt;/a&gt; å¯åŠ¨åç«¯æœåŠ¡&lt;/h3&gt;
&lt;p&gt;å¦‚æœä½ æƒ³&lt;font color=&#39;red&#39;&gt;ä»¥å°æˆæœ¬å¯åŠ¨å‰åç«¯ç³»ç»Ÿï¼ˆSpringBootï¼‰&lt;/font&gt;ï¼Œåç«¯é¡¹ç›®ä»…å¯åŠ¨  &lt;code&gt;aggregation-service&lt;/code&gt;  å’Œ  &lt;code&gt;gateway-service&lt;/code&gt;  æœåŠ¡å³å¯ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Qï¼š &lt;code&gt;aggregation-service&lt;/code&gt;  æœåŠ¡æ˜¯åšä»€ä¹ˆçš„ï¼Ÿ&lt;/p&gt;
&lt;p&gt;Aï¼šä¸ºäº†å‡å°‘å¤§å®¶æœ¬åœ°å¯åŠ¨å†…å­˜å‹åŠ›ä»¥åŠæœåŠ¡å™¨éƒ¨ç½²å‹åŠ›ï¼Œå°†è®¢å•ã€æ”¯ä»˜ã€ç”¨æˆ·ä»¥åŠè´­ç¥¨ç³»ç»Ÿè¿›è¡Œäº†èšåˆï¼Œå¯åŠ¨ç½‘å…³å’Œ  &lt;code&gt;aggregation-service&lt;/code&gt;  æœåŠ¡å³å¯äº«å— 12306 è´­ç¥¨ç³»ç»Ÿå…¨éƒ¨åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœä½ æ˜¯æƒ³è·‘&lt;font color=&#39;red&#39;&gt;å¾®æœåŠ¡å…¨æµç¨‹ï¼ˆSpringCloudï¼‰&lt;/font&gt;ï¼Œéœ€ä¾æ¬¡å¯åŠ¨  &lt;code&gt;pay-service&lt;/code&gt; ã€ &lt;code&gt;order-service&lt;/code&gt; ã€ &lt;code&gt;ticket-service&lt;/code&gt; ã€ &lt;code&gt;user-service&lt;/code&gt;  ä»¥åŠ  &lt;code&gt;gateway-service&lt;/code&gt;  ç­‰æœåŠ¡ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;figcaption data-lang=&#34;plain&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ aggregation-service  || -- # èšåˆæœåŠ¡&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ gateway-service  || -- # ç½‘å…³æœåŠ¡&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ order-service  || -- # è®¢å•æœåŠ¡&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ pay-service  || -- # æ”¯ä»˜æœåŠ¡&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â”œâ”€â”€ ticket-service  || -- # è´­ç¥¨æœåŠ¡&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;â””â”€â”€ user-service  || -- # ç”¨æˆ·æœåŠ¡&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;å®‰è£…å‰ç«¯ç¯å¢ƒnodejs&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®‰è£…å‰ç«¯ç¯å¢ƒnodejs&#34;&gt;#&lt;/a&gt; å®‰è£…å‰ç«¯ç¯å¢ƒï¼ˆNodejsï¼‰&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;å‚è€ƒï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cueXVxdWUuY29tL21hZ2VzdGFjay8xMjMwNi9vZ3BieXAzb290ZzlhMnNr&#34;&gt;å¿«é€Ÿå¯åŠ¨ä¹‹å‰ç«¯é¡¹ç›® (yuque.com)&lt;/span&gt;ï¼Œå¯†ç  gv4g&lt;/p&gt;
&lt;p&gt;å› ä¸ºæˆ‘æœ¬åœ°å·²ç»å®‰è£…ï¼Œä¸”ç‰ˆæœ¬åœ¨ 16.20.0 ä»¥ä¸Šï¼Œæ•…ç•¥è¿‡è¯¥å†…å®¹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;å¯åŠ¨å‰ç«¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¯åŠ¨å‰ç«¯&#34;&gt;#&lt;/a&gt; å¯åŠ¨å‰ç«¯&lt;/h2&gt;
&lt;p&gt;Windows ç”¨æˆ·é€šè¿‡ cmd å·¥å…·è¿›å…¥  &lt;code&gt;12306/console-vue&lt;/code&gt;  ç›®å½•æ‰§è¡Œï¼Œä¾æ¬¡æ‰§è¡Œä¸‹è¿°å‘½ä»¤ï¼š&lt;/p&gt;
&lt;p&gt;1ï¼‰å®‰è£… yarn&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-g&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;yarn&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;2ï¼‰ä¸‹è½½ä¾èµ–&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;yarn&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;3ï¼‰å‰ç«¯è°ƒç”¨æœ¬åœ°&lt;/p&gt;
&lt;p&gt;æ£€æŸ¥ vue.config.js é…ç½®æ–‡ä»¶ä¸­ target æ˜¯å¦ä¸ºï¼š &lt;code&gt;http://127.0.0.1:9000&lt;/code&gt; ï¼Œå¦‚æœä¸æ˜¯éœ€è¦ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1690859640845-75424af8-057c-4833-a03b-ffd32fc4bf00.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;4ï¼‰å¯åŠ¨é¡¹ç›®&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;yarn&lt;/span&gt; serve&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¯åŠ¨æˆåŠŸåï¼Œä¼šå‡ºç°ä»¥ä¸‹ä¿¡æ¯ï¼Œè®¿é—®ä»»æ„ä¸€ä¸ªéƒ½å¯ä»¥ç™»å½• 12306 Web æ§åˆ¶å°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1690105184349-91b68fe7-7978-4fa4-85fe-4dfbdb9e25c0.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é¦–é¡µæŸ¥è¯¢è½¦æ¬¡ä¿¡æ¯æ˜¯ä¸æ¶‰åŠç™»å½•çš„ï¼Œä½†æ˜¯å¦‚æœæƒ³ä½“éªŒè´­ç¥¨ï¼Œéœ€è¦ç”¨æˆ·ç™»å½•æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;é»˜è®¤ç”¨æˆ·åå’Œå¯†ç ï¼šadmin/admin123456&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1690615839081-d8103138-9e4d-4424-8976-2c36490835d3.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;é—®é¢˜è°ƒè¯•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é—®é¢˜è°ƒè¯•&#34;&gt;#&lt;/a&gt; é—®é¢˜è°ƒè¯•&lt;/h2&gt;
&lt;h3 id=&#34;pay-service-ç›®å½•ä¸‹çš„-payserviceapplicationjava-å¯åŠ¨ç±»æ— æ³•è¯†åˆ«&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#pay-service-ç›®å½•ä¸‹çš„-payserviceapplicationjava-å¯åŠ¨ç±»æ— æ³•è¯†åˆ«&#34;&gt;#&lt;/a&gt; pay-service ç›®å½•ä¸‹çš„ PayServiceApplication.java å¯åŠ¨ç±»æ— æ³•è¯†åˆ«&lt;/h3&gt;
&lt;p&gt;è§£å†³æ–¹æ³•æ˜¯å³é”®è¯¥ç›®å½•ä¸‹çš„ java æ–‡ä»¶å¤¹ï¼Œæ ‡è®°ä¸º  &lt;code&gt;sources root&lt;/code&gt;  ç›®å½•ï¼Œç„¶åå³é”® pay-service ç›®å½•ï¼Œé€‰æ‹©  &lt;code&gt;maven-é‡æ–°åŠ è½½é¡¹ç›®&lt;/code&gt; ï¼Œè§£å†³ã€‚&lt;/p&gt;
&lt;h3 id=&#34;windows-ç³»ç»Ÿå¯åŠ¨æ”¯ä»˜æœåŠ¡æ—¶æŠ¥é”™-command-line-is-too-long-shorten-the-command-line-and-rerun&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#windows-ç³»ç»Ÿå¯åŠ¨æ”¯ä»˜æœåŠ¡æ—¶æŠ¥é”™-command-line-is-too-long-shorten-the-command-line-and-rerun&#34;&gt;#&lt;/a&gt; Windows ç³»ç»Ÿå¯åŠ¨æ”¯ä»˜æœåŠ¡æ—¶æŠ¥é”™ Command line is too long Shorten the command line and rerun&lt;/h3&gt;
&lt;p&gt;è¯¥é—®é¢˜ä»… Windows ç³»ç»Ÿç”µè„‘ä¼šå‡ºç°ã€‚&lt;/p&gt;
&lt;p&gt;é—®é¢˜ç°çŠ¶ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1691204207160-af495b10-eb96-4ea4-976f-f2bbc4575324.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ³•ï¼š&lt;/p&gt;
&lt;p&gt;1ï¼‰æ‰“å¼€æœåŠ¡æ§åˆ¶å™¨&lt;/p&gt;
&lt;p&gt;2ï¼‰é€‰æ‹©æ”¯ä»˜æœåŠ¡ PayServiceApplicationï¼Œç‚¹å‡» Modify optionsï¼Œç‚¹å‡» shorten command line&lt;/p&gt;
&lt;p&gt;3ï¼‰é€‰æ‹© JAR manifest&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20240125031400152.png&#34; alt=&#34;image-20240125031400152&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;linux-æœåŠ¡å™¨çš„ç£ç›˜ç©ºé—´ä¸è¶³æ— æ³•é€šè¿‡-docker-è¿è¡Œ-mysql&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#linux-æœåŠ¡å™¨çš„ç£ç›˜ç©ºé—´ä¸è¶³æ— æ³•é€šè¿‡-docker-è¿è¡Œ-mysql&#34;&gt;#&lt;/a&gt; Linux æœåŠ¡å™¨çš„ç£ç›˜ç©ºé—´ä¸è¶³ï¼Œæ— æ³•é€šè¿‡ docker è¿è¡Œ MySQL&lt;/h3&gt;
&lt;p&gt;ç›®å‰æƒ³æ³•ï¼šè½¬åˆ° Windows æœ¬åœ°è¿è¡Œ MySQL ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ç”¨æˆ·ä½“ç³»å»ºè®¾æ¦‚è¦&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç”¨æˆ·ä½“ç³»å»ºè®¾æ¦‚è¦&#34;&gt;#&lt;/a&gt; ç”¨æˆ·ä½“ç³»å»ºè®¾æ¦‚è¦&lt;/h1&gt;
&lt;h2 id=&#34;ä¸šåŠ¡åˆ†æ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸šåŠ¡åˆ†æ&#34;&gt;#&lt;/a&gt; ä¸šåŠ¡åˆ†æ&lt;/h2&gt;
&lt;p&gt;12306 é“è·¯è´­ç¥¨ç³»ç»Ÿä¸­ï¼Œå­˜åœ¨ä¸¤ç±»ç”¨æˆ·ï¼Œåˆ†åˆ«æ˜¯ï¼š&lt;strong&gt;ä¼šå‘˜&lt;/strong&gt;ï¼ˆå³å½“å‰è´¦æˆ·ç™»å½•ç”¨æˆ·ï¼‰ä»¥åŠ&lt;strong&gt;ä¹˜è½¦äºº&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¼šå‘˜ç”¨æˆ·&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¼šå‘˜ç”¨æˆ·&#34;&gt;#&lt;/a&gt; ä¼šå‘˜ç”¨æˆ·&lt;/h3&gt;
&lt;p&gt;ä¼šå‘˜æ”¯æŒåœ¨ç³»ç»Ÿä¸­è‡ªè¡Œ&lt;font color=&#39;red&#39;&gt;æ³¨å†Œ&lt;/font&gt;ï¼Œéœ€è¦æ³¨å†Œè€…æä¾›ç”¨æˆ·åã€å¯†ç ã€è¯ä»¶ç±»å‹ã€è¯ä»¶å·ã€çœŸå®å§“åã€æ‰‹æœºå·ã€é‚®ç®±ä»¥åŠæ—…å®¢ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ï¼Œç”¨æˆ·åå’Œè¯ä»¶å·ç å…¨å±€å”¯ä¸€ï¼Œä¸å…è®¸æ³¨å†Œè€…é‡å¤ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä¼šå‘˜&lt;font color=&#39;red&#39;&gt;ç™»å½•&lt;/font&gt;ç³»ç»Ÿæ—¶ï¼Œæ”¯æŒç”¨æˆ·å / é‚®ç®± / æ‰‹æœºå·ç ä¸‰ç§ç™»å½•æ–¹å¼ï¼Œæ­é…å¯†ç å®Œæˆç³»ç»Ÿç”¨æˆ·ç™»å½•è¡Œä¸ºã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¹˜è½¦äºº&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¹˜è½¦äºº&#34;&gt;#&lt;/a&gt; ä¹˜è½¦äºº&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ªæ³¨å†Œä¼šå‘˜å¯ä»¥æ·»åŠ å¤šä¸ªä¹˜è½¦äººã€‚&lt;font color=&#39;red&#39;&gt;æ·»åŠ ä¹˜è½¦äºº&lt;/font&gt;æ—¶éœ€è¦å¡«å†™çœŸå®å§“åã€èº«ä»½è¯ã€æ‰‹æœºå·ç­‰ï¼Œæ–°å¢ä¹˜è½¦äººéœ€è¦é€šè¿‡å®åè®¤è¯å®¡æ ¸ï¼Œå®¡æ ¸é€šè¿‡æ–¹å¯æˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;ä¼šå‘˜é€‰æ‹©äº¤é€šå·¥å…·ï¼ˆç«è½¦ã€é«˜é“ç­‰ï¼‰è¿›è¡Œä¹°ç¥¨æ—¶ï¼Œå¯ä»¥é€‰æ‹©å¤šä¸ªä¹˜è½¦äººè¿›è¡Œ&lt;font color=&#39;red&#39;&gt;è´­ç¥¨&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¼šå‘˜å¯ä»¥é€šè¿‡å·²æ”¯ä»˜è®¢å•æŸ¥çœ‹æ‰€æœ‰è®¢å•ä¿¡æ¯ï¼Œä¹˜è½¦äººä¹Ÿå¯é€šè¿‡è®¢å•æ ‡ç­¾é¡µä¸­æœ¬äººè½¦ç¥¨&lt;font color=&#39;red&#39;&gt;æŸ¥çœ‹è‡ªå·±æˆ–å…¶ä»–ä¼šå‘˜è´­ä¹°ä¸ºè‡ªå·±è´­ä¹°çš„è®¢å•ä¿¡æ¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸šåŠ¡éš¾ç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸šåŠ¡éš¾ç‚¹&#34;&gt;#&lt;/a&gt; ä¸šåŠ¡éš¾ç‚¹&lt;/h2&gt;
&lt;p&gt;ç”±äºç¯‡å¹…æ‰€é™ï¼Œæœ¬æ–‡æ— æ³•è¯¦å°½è§£ç­”ä»¥ä¸‹ä¸šåŠ¡éš¾ç‚¹ï¼Œä½†è¿™äº›é—®é¢˜éƒ½ä¼šåœ¨åç»­çš„æ‰‹æ‘¸æ‰‹æ•™å­¦ç³»åˆ—ä¸­é€ä¸€é˜è¿°ï¼Œå¹¶ç»™å‡ºè¾ƒä¼˜è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•ç¡®å®šä¿¡æ¯çœŸå®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•ç¡®å®šä¿¡æ¯çœŸå®&#34;&gt;#&lt;/a&gt; å¦‚ä½•ç¡®å®šä¿¡æ¯çœŸå®&lt;/h3&gt;
&lt;p&gt;å½“ç”¨æˆ·åœ¨ 12306 ç½‘ç«™æ³¨å†Œæ–°è´¦å·æˆ–è€…ä¸ºè‡ªå·±çš„è´¦å·æ·»åŠ æ–°çš„ä¹˜è½¦äººæ—¶ï¼Œç³»ç»Ÿéœ€è¦ç¡®ä¿ç”¨æˆ·æäº¤çš„å„é¡¹ä¿¡æ¯æ˜¯çœŸå®å‡†ç¡®çš„ï¼Œè€Œä¸æ˜¯è™šå‡çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å…¶ä¸­å°±æ¶‰åŠåˆ°ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µ â€”â€” ç”¨æˆ·ä¿¡æ¯çš„è®¤è¯ã€‚å¯¹ç”¨æˆ·æäº¤çš„ä¿¡æ¯è¿›è¡Œè®¤è¯ï¼Œå°±æ˜¯è¦éªŒè¯ä¿¡æ¯çš„çœŸå®æ€§ï¼Œç¡®è®¤è¿™ç¡®å®æ˜¯æœ¬äººè‡ªæ„¿æäº¤çš„çœŸå®ä¿¡æ¯ï¼Œä¸æ˜¯å…¶ä»–äººå†’å……çš„ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆå¦‚ä½•è¿›è¡Œæœ‰æ•ˆçš„ç”¨æˆ·ä¿¡æ¯è®¤è¯å‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜å¯ä»¥ç®€åŒ–ä¸ºä¸€ä¸ªæ ¸å¿ƒç‚¹ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä½ éœ€è¦å‘ç³»ç»Ÿè¯æ˜ä½ å°±æ˜¯ä½ æœ¬äººï¼Œä½ æä¾›çš„ä¿¡æ¯éƒ½æ˜¯çœŸçš„ã€‚&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œåœ¨æ³¨å†Œæ—¶ï¼Œä½ æäº¤äº†è‡ªå·±çš„èº«ä»½è¯å·ç ã€‚ä½†æ˜¯ç³»ç»Ÿæ€ä¹ˆç¡®è®¤ä½ æäº¤çš„èº«ä»½è¯å·ç çœŸçš„å±äºä½ è‡ªå·±ï¼Œè€Œæ˜¯é€šè¿‡éæ³•é€”å¾„è·å–ç„¶åå†’å……ä»–äººçš„å‘¢ï¼Ÿè¿™å°±éœ€è¦è¿›è¡Œç”¨æˆ·è®¤è¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1689686443768-96ffcb9d-8062-45f5-b37f-abc2f7ecd418.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è®¸å¤šäº‘æœåŠ¡æä¾›å•†å¼€æ”¾äº†&lt;font color=&#39;red&#39;&gt;æ”¶è´¹çš„èº«ä»½éªŒè¯æ¥å£&lt;/font&gt;ï¼Œè¿™äº›æ¥å£åº•å±‚ä¸»è¦è°ƒç”¨å…¬å®‰éƒ¨é—¨çš„èº«ä»½æ ¸éªŒç³»ç»Ÿï¼Œå¹¶&lt;font color=&#39;red&#39;&gt;åœ¨äº‘æœåŠ¡ç«¯å¢åŠ ç¼“å­˜å±‚&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;12306 ä¸­çš„ä¿¡æ¯å‡†ç¡®æ€§æ ¡éªŒä¸»è¦åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ³¨å†Œä¼šå‘˜æ—¶ï¼Œæ ¡éªŒç”¨æˆ·åã€è¯ä»¶å·ã€æ‰‹æœºå·æ˜¯å¦åŒ¹é…ï¼Œç¡®ä¿è´¦å·ä¿¡æ¯çœŸå®æœ‰æ•ˆã€‚&lt;/li&gt;
&lt;li&gt;æ·»åŠ ä¹˜è½¦äººæ—¶ï¼Œæ ¡éªŒä¹˜è½¦äººå§“åã€èº«ä»½è¯å·æ˜¯å¦çœŸå®åŒ¹é…ï¼Œå¹¶æ ¡éªŒæ‰‹æœºå·å¯ç”¨æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœ 12306 çš„ç”¨æˆ·éªŒè¯ä¾èµ–æ”¶è´¹çš„äº‘æœåŠ¡æˆ–å…¬å®‰æ¥å£ï¼Œä¸ºäº†ä¼˜åŒ–æˆæœ¬å’Œæ€§èƒ½ï¼Œå…¶åº•å±‚ç³»ç»Ÿå¾ˆå¯èƒ½é‡‡ç”¨ç¼“å­˜æœºåˆ¶æ¥å‡å°‘å¯¹å¤–éƒ¨æœåŠ¡çš„ç›´æ¥è°ƒç”¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ•°åäº¿çº§æ•°æ®é‡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°åäº¿çº§æ•°æ®é‡&#34;&gt;#&lt;/a&gt; æ•°åäº¿çº§æ•°æ®é‡&lt;/h3&gt;
&lt;p&gt;æ ¹æ® 2022 å¹´çš„å…¨å›½äººå£ç»Ÿè®¡æ•°æ®ï¼Œç°æœ‰ 14 äº¿å¤šæ€»äººå£ï¼Œæ¯å¹´æ–°ç”Ÿäººå£çº¦ 956 ä¸‡ã€‚ä¸ºä¾¿äºåç»­ä¸šåŠ¡æ•°æ®è§„æ¨¡çš„åˆ¤æ–­ï¼Œæœ¬æ–‡å…ˆåŸºäºè¿™ä¸€äººå£æ€»é‡å’Œå¢é•¿æ•°æ®è¿›è¡Œä¼°ç®—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1689686443741-a20b8648-5921-4888-8179-30a21c17f93e.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ ¹æ®ç³»ç»Ÿè®¾è®¡çš„å‡è®¾ï¼Œ12306 çš„æ³¨å†Œç”¨æˆ·è§„æ¨¡çº¦ä¸º 10 äº¿ï¼Œæ¯å¹´æ–°å¢ç”¨æˆ·çº¦ 500 ä¸‡ã€‚&lt;/p&gt;
&lt;p&gt;è€ƒè™‘åˆ°ä¼šå‘˜å¯æ·»åŠ å¤šåä¹˜è½¦äººï¼Œä¸”ä¸€å®¶å¤šäººå¯èƒ½åˆ†åˆ«æ‹¥æœ‰è´¦å·ï¼Œä¼°ç®—ä¹˜è½¦äººæ•°æ®é‡å¤§çº¦ä¸ºæ³¨å†Œç”¨æˆ·çš„ 2-3 å€ï¼Œç²—ç•¥ä¼°ç®—çº¦ 30 äº¿å·¦å³ã€‚&lt;/p&gt;
&lt;p&gt;é‰´äºä¼šå‘˜å’Œä¹˜è½¦äººæ•°æ®è§„æ¨¡éƒ½å·²è¶…è¿‡ 10 äº¿çº§åˆ«ï¼Œè¿œè¶…å‡ºå•æœº MySQL æ•°æ®åº“çš„å¤„ç†èƒ½åŠ›ï¼Œæ‰€ä»¥éœ€ä½¿ç”¨åˆ†åº“åˆ†è¡¨æˆ–åˆ†å¸ƒå¼æ•°æ®åº“æ¥æ”¯æ’‘&lt;font color=&#39;red&#39;&gt;æµ·é‡ç”¨æˆ· / ä¹˜è½¦äººæ•°æ®&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;è€ƒè™‘åˆ°&lt;u&gt;åˆ†å¸ƒå¼æ•°æ®åº“&lt;/u&gt;æ™®åŠç‡è¾ƒä½ï¼Œ&lt;u&gt;åˆ†åº“åˆ†è¡¨&lt;/u&gt;æŠ€æœ¯ä»æ˜¯å¤§å¤šæ•°å…¬å¸çš„é€‰æ‹©&lt;/font&gt;ï¼Œæ‰€ä»¥åç»­æ–‡ç« å…³äºå¤§æ•°æ®é‡çš„è§£å†³æ–¹æ¡ˆä¼šä»¥åˆ†åº“åˆ†è¡¨æŠ€æœ¯æ¥è¯´æ˜ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½¿ç”¨åˆ†åº“åˆ†è¡¨æŠ€æœ¯ï¼Œé¢è¯•ä¸­è¿™äº›é—®é¢˜éƒ½æ˜¯æ— æ³•é¿å…ä¼šè¢«é—®åˆ°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€‰æ‹©åˆ†åº“è¿˜æ˜¯åˆ†è¡¨ï¼Œè¿˜æ˜¯é€‰æ‹©åˆ†åº“åˆ†è¡¨ï¼ŸåŸºäºä»€ä¹ˆè€ƒè™‘ï¼Ÿ&lt;/li&gt;
&lt;li&gt;é€‰æ‹©å“ªä¸ªå­—æ®µä½œä¸ºåˆ†ç‰‡é”®ï¼Ÿé€‰æ‹©å•ä¸ªåˆ†ç‰‡é”®è¿˜æ˜¯å¤åˆåˆ†ç‰‡é”®ï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚ä½•åœ¨è€ä¸šåŠ¡ä¸Šå¹³æ»‘ä¸Šçº¿åˆ†åº“åˆ†è¡¨ï¼Ÿå‡ºç°é—®é¢˜å¦‚ä½•å¿«é€Ÿå›æ»šï¼Ÿ&lt;/li&gt;
&lt;li&gt;æ‹†åˆ†åå‡ºç°å•è¡¨æ•°æ®é‡è¿‡å¤§ï¼Œå¦‚ä½•ç»§ç»­æ‰©å®¹ï¼Ÿæ‰©å•è¡¨è¿˜æ˜¯æ•´ä½“æ‰©ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä¼šå‘˜å¤šç§ç™»å½•ç±»å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¼šå‘˜å¤šç§ç™»å½•ç±»å‹&#34;&gt;#&lt;/a&gt; ä¼šå‘˜å¤šç§ç™»å½•ç±»å‹&lt;/h3&gt;
&lt;p&gt;æ ¹æ®å‰æ–‡å¯¹ 12306 ç³»ç»Ÿè®¾è®¡çš„è®¨è®ºåˆ†æï¼Œæˆ‘ä»¬å·²ç»å¾—çŸ¥ä¼šå‘˜è¡¨é¢„è®¡ä¼šé‡‡ç”¨åˆ†åº“åˆ†è¡¨æŠ€æœ¯æ¥åº”å¯¹å¤§è§„æ¨¡çš„è®¿é—®å‹åŠ›å’Œæµ·é‡ç”¨æˆ·æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯åœ¨å…·ä½“çš„ç™»å½•ç¯èŠ‚ï¼Œç”±äºç³»ç»Ÿæ”¯æŒä¼šå‘˜ä½¿ç”¨ç”¨æˆ·åã€æ‰‹æœºå·ä»¥åŠé‚®ç®±ç­‰å¤šç§æ–¹å¼è¿›è¡Œç™»å½•ï¼Œè¿™å°±å­˜åœ¨ä¸€ä¸ªæ¯”è¾ƒæ£˜æ‰‹çš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ç”±äºç™»å½•æ—¶æ— æ³•ç¡®å®šç”¨æˆ·çš„åˆ†ç‰‡é”®ï¼Œä½¿å¾—ç³»ç»Ÿæ— æ³•ç›´æ¥é”å®šç”¨æˆ·çš„æ•°æ®ä½äºå“ªä¸ªæ•°æ®åº“æˆ–è€…å“ªå¼ è¡¨ä¸­ã€‚ä¸ºäº†æ‰¾åˆ°ç”¨æˆ·çš„æ•°æ®ï¼Œåªèƒ½å¯¹å…¨éƒ¨çš„æ•°æ®åº“å’Œè¡¨è¿›è¡Œæ‰«ææŸ¥è¯¢ï¼Œè¿™å°±é€ æˆäº†æ‰€è°“çš„ â€œè¯»è¯·æ±‚æ‰©æ•£â€ é—®é¢˜ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŸæœ¬è¯»è¯·æ±‚å¯ä»¥ç›´æ¥å®šä½åˆ°æŸä¸ªæ•°æ®åº“æŸå¼ è¡¨ï¼Œç°åœ¨å´è¦å¤šå¤„æŸ¥è¯¢ï¼Œæ— ç–‘å¤§å¤§å¢åŠ äº†ç³»ç»Ÿçš„æŸ¥è¯¢è´Ÿè½½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ä¸€æ—¦å‡ºç°äº†è¯»è¯·æ±‚æ‰©æ•£é—®é¢˜ï¼ŒåŠ¿å¿…ä¼šå¯¼è‡´ç”¨æˆ·çš„ç™»å½•è¯·æ±‚å“åº”æ—¶é—´å˜é•¿ï¼Œä¸¥é‡çš„è¯è¿˜å¯èƒ½é€ æˆç™»å½•è¶…æ—¶ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä¼šå‘˜æ³¨å†Œç¼“å­˜ç©¿é€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¼šå‘˜æ³¨å†Œç¼“å­˜ç©¿é€&#34;&gt;#&lt;/a&gt; ä¼šå‘˜æ³¨å†Œç¼“å­˜ç©¿é€&lt;/h3&gt;
&lt;p&gt;åœ¨é«˜å¹¶å‘çš„ä¼šå‘˜æ³¨å†Œåœºæ™¯ä¸‹ï¼Œå¯èƒ½ä¼šå‡ºç° **&lt;font color=&#39;red&#39;&gt;ç¼“å­˜ç©¿é€é—®é¢˜&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¼“å­˜ç©¿é€è¯´ç®€å•ç‚¹å°±æ˜¯ &lt;strong&gt;å¤§é‡è¯·æ±‚çš„ key æ—¢ä¸å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œä¹Ÿä¸å­˜åœ¨äºæ•°æ®åº“ä¸­ï¼Œè¿›è¡Œäº†ä¸¤æ¬¡æ— ç”¨çš„æŸ¥è¯¢ï¼Œæœ€ç»ˆè¿”å›ç©ºæ•°æ®&lt;/strong&gt;ã€‚è¿™å°±å¯¼è‡´è¿™äº›è¯·æ±‚ç›´æ¥åˆ°äº†æ•°æ®åº“ä¸Šï¼Œæ ¹æœ¬æ²¡æœ‰ç»è¿‡ç¼“å­˜è¿™ä¸€å±‚ï¼Œ&lt;font color=&#39;red&#39;&gt;å¯¹æ•°æ®åº“é€ æˆäº†å·¨å¤§çš„å‹åŠ›&lt;/font&gt;ï¼Œå¯èƒ½ç›´æ¥å°±è¢«è¿™ä¹ˆå¤šè¯·æ±‚å¼„å®•æœºäº†ã€‚&lt;/p&gt;
&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-cache-penetration.png&#34; alt=&#34;ç¼“å­˜ç©¿é€&#34; style=&#34;zoom: 67%;&#34; /&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸»è¦åŸå› å¯èƒ½æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·æ³¨å†Œæ—¶ï¼Œéœ€è¦éªŒè¯ç”¨æˆ·åæ˜¯å¦å·²å­˜åœ¨ï¼Œè¿™é€šå¸¸éœ€è¦æŸ¥è¯¢æ•°æ®åº“ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœç¼“å­˜ä¸­æ²¡æœ‰è¯¥ç”¨æˆ·åï¼Œå°±ä¼šå»æ•°æ®åº“æŸ¥è¯¢ï¼Œå¦‚æœæ•°æ®åº“ä¸­ä¹Ÿæ²¡æœ‰ï¼Œå°±å¯ä»¥åˆ¤æ–­è¯¥ç”¨æˆ·åå¯ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½æœ‰å¤§é‡çš„æ–°ç”¨æˆ·åŒæ—¶æ³¨å†Œï¼Œè¾“å…¥çš„ç”¨æˆ·åææœ‰å¯èƒ½éƒ½ä¸å­˜åœ¨äºæ•°æ®åº“ä¸­ã€‚è¿™å°†å¯¼è‡´å¤§é‡çš„ç¼“å­˜ä¸å­˜åœ¨ï¼Œéƒ½å»æŸ¥è¯¢æ•°æ®åº“ï¼Œé€ æˆæ•°æ®åº“å‹åŠ›å‰§å¢ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ä¸”è¿™äº›æŸ¥è¯¢æ•°æ®åº“çš„ Key éƒ½ä¸ä¼šè¢«ç¼“å­˜ï¼Œå› ä¸ºæ•°æ®åº“ä¸­æ²¡æœ‰ï¼Œä¸ä¼šå†™å…¥ç¼“å­˜&lt;/font&gt;ã€‚é‚£ä¹ˆè¿™äº› Key å¯¹åº”çš„ Null å€¼ä¹Ÿä¸ä¼šè¢«ç¼“å­˜ï¼Œé€ æˆæ¯æ¬¡è¯·æ±‚éƒ½æŸ¥ä¸åˆ°ç¼“å­˜ï¼Œç›´æ¥æŸ¥è¯¢æ•°æ®åº“ã€‚&lt;/li&gt;
&lt;li&gt;è¿™æ ·å°±å½¢æˆäº†ç¼“å­˜ç©¿é€æƒ…å†µã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è€Œä¸”æç«¯æƒ…å†µä¸‹ï¼Œæ³¨å†Œçš„æµç¨‹å¯èƒ½æ˜¯æ¶æ„è¯·æ±‚è®¿é—®ã€‚æ³¨å†Œè¯·æ±‚ç¼“å­˜ç©¿é€æµç¨‹å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1689686443736-10dd98ef-e609-4bcf-90a6-0e73789ca084.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œåœ¨ç”¨æˆ·æ³¨å†Œåœºæ™¯ä¸‹ï¼Œéœ€è¦æ³¨æ„é˜²æ­¢ç¼“å­˜ç©¿é€ï¼Œå¸¸è§çš„å¤„ç†æ–¹å¼æœ‰ä¸‹è¿°è¿™äº›ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;&lt;strong&gt;ç¼“å­˜ä¸å­˜åœ¨çš„ Key&lt;/strong&gt;&lt;/font&gt;ï¼Œvalue è®¾ä¸º Nullï¼Œå¹¶è®¾ç½®çŸ­æš‚è¿‡æœŸæ—¶é—´ï¼ˆå¦‚ 60 ç§’ï¼‰ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¼Šç«¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‡è®¾ç”¨æˆ· A æ³¨å†Œ username ä¸º magestackï¼ŒæŸ¥è¯¢ DB ä¸å­˜åœ¨ï¼Œè¿”å›è¯·æ±‚æˆåŠŸï¼Œå¹¶æ”¾å…¥ Redis ç¼“å­˜ã€‚&lt;font color=&#39;red&#39;&gt;ä½†æ˜¯ç”¨æˆ· A å¹¶æ²¡æœ‰ä½¿ç”¨è¯¥å€¼ä½œä¸º username&lt;/font&gt;ã€‚ï¼ˆå¦‚ä½•ç†è§£ï¼Ÿï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚æœæœ‰å¦ä¸€ä¸ªç”¨æˆ· B æ³¨å†Œ username ä¸º magestackï¼Œå°†è¿”å›å¤±è´¥ã€‚ä¹Ÿå°±æ˜¯è¯´æ¯å°è¯•ä¸€æ¬¡ä¸å­˜åœ¨çš„ç”¨æˆ·åï¼Œè¯¥å€¼ 60 ç§’å†…éƒ½ä¸å¯è¢«æ³¨å†Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»“è®ºï¼š&lt;font color=&#39;red&#39;&gt;å¯¹ç”¨æˆ·ä½¿ç”¨ä½“éªŒä¸å‹å¥½&lt;/font&gt;ã€‚æ­¤å¤–ï¼Œå¦‚æœæœ‰å¤§é‡å¹¶å‘è¯·æ±‚æŸ¥è¯¢ä¸å­˜åœ¨çš„ç”¨æˆ·åï¼Œå¯èƒ½ä¼šå¯¼è‡´&lt;font color=&#39;red&#39;&gt;æ•°æ®åº“çŸ­æ—¶é—´å†…è¢«æ‰“æŒ‚&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;åœ¨ç¼“å­˜ä¹‹å‰ï¼Œä½¿ç”¨&lt;strong&gt;å¸ƒéš†è¿‡æ»¤å™¨&lt;/strong&gt;&lt;/font&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;å…¶å·¥ä½œç‰¹ç‚¹æ˜¯ â€”â€” å½“å®ƒåˆ¤æ–­æŸä¸ªå…ƒç´ å­˜åœ¨ï¼Œå°æ¦‚ç‡ä¼šè¯¯åˆ¤ï¼›å½“å®ƒåˆ¤æ–­æŸä¸ªå…ƒç´ ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå…ƒç´ ä¸€å®šä¸åœ¨&lt;/font&gt;ã€‚å› æ­¤å¯ä»¥å°†æ‰€æœ‰å·²æ³¨å†Œçš„ç”¨æˆ·åå­˜å…¥å¸ƒéš†è¿‡æ»¤å™¨ï¼Œ&lt;font color=&#39;red&#39;&gt;åˆ¤æ–­æ—¶å…ˆåˆ¤æ–­è¯¥ç”¨æˆ·åæ˜¯å¦åœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­ï¼Œä¸åœ¨çš„ä¸€å®šä¸å­˜åœ¨&lt;/font&gt;ï¼Œé¿å…ç›´æ¥æŸ¥è¯¢æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-cache-penetration-bloom-filter.png&#34; alt=&#34;åŠ å…¥å¸ƒéš†è¿‡æ»¤å™¨ä¹‹åçš„ç¼“å­˜å¤„ç†æµç¨‹å›¾&#34; /&gt;&lt;/p&gt;
&lt;center&gt;åŠ å…¥å¸ƒéš†è¿‡æ»¤å™¨ä¹‹åçš„ç¼“å­˜å¤„ç†æµç¨‹å›¾&lt;/center&gt;
&lt;blockquote&gt;
&lt;p&gt;å¼Šç«¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿™ç§è§£å†³æ–¹æ¡ˆç®—æ˜¯ç½‘ä¸Šå…«è‚¡è¯´çš„æ¯”è¾ƒå¤šçš„ä¸€ä¸ªç‰ˆæœ¬ã€‚ä½†æ˜¯ä¾ç„¶ä¸èƒ½è§£å†³å®é™…åœºæ™¯é—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å¦‚æœç”¨æˆ·æ³¨é”€äº†è´¦å·ï¼Œè¯¥ç”¨æˆ·åå°±å¯ä»¥å†æ¬¡è¢«ä½¿ç”¨ã€‚ç„¶è€Œï¼Œ&lt;strong&gt;å¸ƒéš†è¿‡æ»¤å™¨ç”±äºæ— æ³•åˆ é™¤å…ƒç´ &lt;/strong&gt;ï¼Œå› æ­¤æ— æ³•å¤„ç†è¿™ç§æƒ…å†µã€‚&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»“è®ºï¼šå¸ƒéš†è¿‡æ»¤å™¨ä¸èƒ½åˆ é™¤å…ƒç´ çš„é™åˆ¶ï¼Œå¯¼è‡´è¯¥æ–¹æ¡ˆæ— æ³•æ­£å¼ä½¿ç”¨ç”Ÿäº§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ä½¿ç”¨ç¡®å®šçš„æ•°æ®ç»“æ„ï¼ˆå¦‚ &lt;strong&gt;Redis çš„ Set é›†åˆ&lt;/strong&gt;ï¼‰æ¥å­˜å‚¨å·²æ³¨å†Œç”¨æˆ·å&lt;/font&gt;ï¼Œåˆ¤æ–­æ—¶æ£€æŸ¥æ˜¯å¦åœ¨é›†åˆå†…ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¼Šç«¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ°¸ä¹…å­˜å‚¨åå‡ äº¿çš„ç”¨æˆ·ä¿¡æ¯åˆ° Redis ç¼“å­˜ä¸­æ˜¾ç„¶ä¸å¤ªç°å®ï¼Œå› ä¸ºè¿™ä¼š&lt;font color=&#39;red&#39;&gt;å ç”¨å¤§é‡çš„å†…å­˜èµ„æº&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å³ä½¿æ˜¯ä¸´æ—¶å­˜å‚¨ï¼Œå¦‚æœåœ¨ç¼“å­˜ä¸­æŸ¥è¯¢ä¸åˆ°æ•°æ®ï¼Œ&lt;font color=&#39;red&#39;&gt;ä»ç„¶æ— æ³•é¿å…æŸ¥è¯¢æ•°æ®åº“çš„åœºæ™¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ­¤å¤–ï¼Œ&lt;font color=&#39;red&#39;&gt;å¯¹äºè¿™ä¹ˆå¤šçš„ç”¨æˆ·ä¿¡æ¯ï¼Œæ˜¯å¦åº”è¯¥å°†å…¶å­˜å‚¨åœ¨ä¸€ä¸ª Key ä¸­å‘¢ï¼Ÿæ˜¾ç„¶æ˜¯ä¸å¯è¡Œçš„&lt;/font&gt;ã€‚å³ä½¿è¿›è¡Œåˆ†ç‰‡ï¼Œä¹Ÿä¼šå¢åŠ ç³»ç»Ÿçš„å¤æ‚åº¦ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æˆ‘ä»¬å¸¸è¯´çš„ Redis æ•°æ®ç»“æ„ï¼Œå…¶å®éƒ½æ˜¯é’ˆå¯¹ value çš„æ•°æ®ç±»å‹è€Œè¨€çš„ï¼Œå› ä¸º Redis æœ¬èº«ä»…ä»…æ˜¯ä¸€ä¸ªå­˜å‚¨ key-value é”®å€¼å¯¹æ•°æ®çš„å†…å­˜æ•°æ®åº“ï¼Œå› æ­¤ key ä¸€èˆ¬ä¸º String ã€‚æ‰€ä»¥è¿™é‡Œæ‰è¯´ â€œå°†é‚£ä¹ˆå¤šç”¨æˆ·ä¿¡æ¯å­˜å‚¨åœ¨ä¸€ä¸ª key ä¸­æ˜¯ä¸å¯è¡Œçš„â€ï¼Œç›¸å½“äºä¸€ä¸ª key å¯¹åº”çš„ value ä¸­å­˜å‚¨äº†æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»“è®ºï¼šç”±äºè¯¥æ–¹æ¡ˆ&lt;font color=&#39;red&#39;&gt;å ç”¨å†…å­˜è¾ƒå¤šä¸”å¤æ‚åº¦è¾ƒé«˜&lt;/font&gt;ï¼Œå› æ­¤ä¸é€‚åˆå®é™…åº”ç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é’ˆå¯¹é«˜å¹¶å‘æ³¨å†Œåœºæ™¯ï¼Œå¯ä»¥å…ˆæŸ¥è¯¢ç¼“å­˜ï¼Œ&lt;font color=&#39;cornflowerblue&#39;&gt;å¦‚æœç¼“å­˜ä¸å‘½ä¸­ï¼Œåˆ™ä½¿ç”¨&lt;strong&gt;åˆ†å¸ƒå¼é”&lt;/strong&gt;æ¥ä¿è¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—®æ•°æ®åº“&lt;/font&gt;ï¼Œé¿å…é‡å¤æŸ¥è¯¢ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¼Šç«¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç›¸å¯¹äºä¸Šè¿°è§£å†³æ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥è§£å†³ä¼šå‘˜æ³¨å†Œç¼“å­˜ç©¿é€çš„é—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;ä½†æ˜¯ï¼Œå¦‚æœåœ¨ç”¨æˆ·æ³¨å†Œé«˜å³°æœŸï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—®æ•°æ®åº“ï¼Œè¿™&lt;font color=&#39;red&#39;&gt;å¯èƒ½ä¼šå¯¼è‡´å¤§é‡ç”¨æˆ·çš„æ³¨å†Œè¯·æ±‚ç¼“æ…¢æˆ–è¶…æ—¶&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»“è®ºï¼š&lt;font color=&#39;red&#39;&gt;è¿™å¯¹ç”¨æˆ·çš„ä½¿ç”¨ä½“éªŒæ¥è¯´å¹¶ä¸å‹å¥½&lt;/font&gt;ï¼Œå› æ­¤æˆ‘ä»¬ä¸å»ºè®®ä½¿ç”¨è¯¥æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä»çœŸå®ä¸šåŠ¡åœºæ™¯æ¥çœ‹ï¼Œä¸Šé¢è¿™äº›è§£å†³æ–¹æ¡ˆéƒ½å­˜åœ¨å¼Šç«¯ï¼Œä¸èƒ½é€‚ç”¨äºçœŸå®åœºæ™¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ•æ„Ÿä¿¡æ¯æ³„éœ²&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•æ„Ÿä¿¡æ¯æ³„éœ²&#34;&gt;#&lt;/a&gt; æ•æ„Ÿä¿¡æ¯æ³„éœ²&lt;/h3&gt;
&lt;p&gt;åœ¨ 12306 ç³»ç»Ÿä¸­ï¼Œå­˜åœ¨è¾ƒå¤šçš„æ•æ„Ÿä¿¡æ¯ï¼Œæ¯”å¦‚ä¼šå‘˜æˆ–è€…ä¹˜è½¦äººçš„å§“åã€æ‰‹æœºå·ã€é‚®ç®±ã€è¯ä»¶å·ç ä»¥åŠä½å€ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ•°æ®åº“ä¸­å°†æ‰‹æœºå·æˆ–èº«ä»½è¯å·ç­‰æ•æ„Ÿä¸ªäººä¿¡æ¯å­˜æ˜æ–‡ä¼šå¸¦æ¥ä»¥ä¸‹å®‰å…¨é—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æ˜æ–‡å­˜å‚¨å¯èƒ½ä¼šç›´æ¥æ³„éœ²ç”¨æˆ·éšç§&lt;/font&gt;ï¼Œä¸€æ—¦æ•°æ®åº“è¢«æ”»å‡»æˆ–æ•°æ®æ³„éœ²ï¼Œä¸ªäººæ•æ„Ÿä¿¡æ¯å°±ä¼šè¢«å®Œå…¨æš´éœ²ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æ˜æ–‡å­˜å‚¨æé«˜äº†å†…éƒ¨äººå‘˜æ»¥ç”¨æ•°æ®çš„é£é™©&lt;/font&gt;ï¼Œæ¶æ„æŸ¥è¯¢å’Œä½¿ç”¨ä¸ªäººæ•æ„Ÿä¿¡æ¯çš„æˆæœ¬å¾ˆä½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸ºæ­¤ï¼Œå¦‚ä½•é€‰æ‹©&lt;strong&gt;å°†ç”¨æˆ·ä¿¡æ¯åŠ å¯†å­˜å‚¨&lt;/strong&gt;ï¼Œä»¥åŠ&lt;strong&gt;å¦‚ä½•å¹³æ»‘è¿‡åº¦è½¬æ¢ç°æœ‰ä¸šåŠ¡ä¸­çš„æ˜æ–‡æ•°æ®ä¸ºå¯†æ–‡&lt;/strong&gt;ï¼Œå°±æ˜¯ä¸ªéœ€è¦è€ƒè™‘çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å°ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°ç»“&#34;&gt;#&lt;/a&gt; å°ç»“&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡é€šè¿‡å¯¹ 12306 é“è·¯è´­ç¥¨ç³»ç»Ÿçš„ä¸šåŠ¡è¿›è¡Œåˆ†æï¼Œæå‡ºäº†å‡ ä¸ªå…³é”®çš„ä¸šåŠ¡éš¾ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚ä½•ç¡®å®šç”¨æˆ·æ³¨å†Œä¿¡æ¯çš„çœŸå®æ€§ï¼Œå¯èƒ½éœ€è¦è°ƒç”¨ç¬¬ä¸‰æ–¹å®åè®¤è¯æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;é¢å¯¹äº¿çº§ç”¨æˆ·é‡ï¼Œéœ€è¦ä½¿ç”¨åˆ†åº“åˆ†è¡¨æŠ€æœ¯æ¥æ”¯æ’‘æµ·é‡æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;æ”¯æŒå¤šç§ç™»å½•æ–¹å¼ä¼šé€ æˆè¯»è¯·æ±‚æ‰©æ•£ï¼Œéœ€è¦è§£å†³ç”¨æˆ·å®šä½é—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;é«˜å¹¶å‘åœºæ™¯ä¸‹ç¼“å­˜ç©¿é€é—®é¢˜éœ€è¦æœ‰æ•ˆè§£å†³ï¼Œé¿å…æ•°æ®åº“å‹åŠ›è¿‡å¤§ã€‚&lt;/li&gt;
&lt;li&gt;æ˜æ–‡å­˜å‚¨ç”¨æˆ·æ•æ„Ÿä¿¡æ¯ä¼šé€ æˆå®‰å…¨éšæ‚£ï¼Œéœ€è¦å¯¹å…³é”®æ•°æ®åŠ å¯†ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™äº›é—®é¢˜åœ¨å¤§å‹ä¸šåŠ¡ç³»ç»Ÿä¸­æ™®éå­˜åœ¨ï¼Œéœ€è¦ç³»ç»Ÿæ€§åœ°è€ƒè™‘æŠ€æœ¯é€‰å‹å’Œæ–¹æ¡ˆè®¾è®¡ï¼Œæ‰èƒ½æ„å»ºä¸€ä¸ªé«˜æ€§èƒ½ã€å®‰å…¨çš„ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;h1 id=&#34;ä¸­é—´ä»¶å­¦ä¹ &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸­é—´ä»¶å­¦ä¹ &#34;&gt;#&lt;/a&gt; ä¸­é—´ä»¶å­¦ä¹ &lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;RocketMQï¼ˆæ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9uYWdlb2ZmZXIuY29tL3JvY2tldG1xL3JlYWRtZS8=&#34;&gt;ä»é›¶åˆ°ä¸€å­¦ä¹  RocketMQ | æ‹¿ä¸ª offer - å¼€æº &amp;amp; é¡¹ç›®å®æˆ˜ (nageoffer.com)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;ShardingSphere-JDBCï¼ˆåˆ†åº“åˆ†è¡¨ï¼‰ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9uYWdlb2ZmZXIuY29tL3NoYXJkaW5nc3BoZXJlLWpkYmMvcmVhZG1lLw==&#34;&gt;ä»é›¶åˆ°ä¸€å­¦ä¹  Sharding-JDBC | æ‹¿ä¸ª offer - å¼€æº &amp;amp; é¡¹ç›®å®æˆ˜ (nageoffer.com)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;ShardingSphere-Proxy&lt;/li&gt;
&lt;li&gt;Canal&lt;/li&gt;
&lt;li&gt;Redisson&lt;/li&gt;
&lt;li&gt;Sentinel&lt;/li&gt;
&lt;li&gt;Hippo4j&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;æ ¸å¿ƒæŠ€æœ¯æ–‡æ¡£&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ ¸å¿ƒæŠ€æœ¯æ–‡æ¡£&#34;&gt;#&lt;/a&gt; æ ¸å¿ƒæŠ€æœ¯æ–‡æ¡£&lt;/h1&gt;
</content>
        <updated>2024-01-18T12:27:39.117Z</updated>
    </entry>
    <entry>
        <id>http://example.com/distributed-microservices/API%E7%BD%91%E5%85%B3&amp;SpringCloud%20Gateway/</id>
        <title>APIç½‘å…³ &amp; SpringCloud Gateway</title>
        <link rel="alternate" href="http://example.com/distributed-microservices/API%E7%BD%91%E5%85%B3&amp;SpringCloud%20Gateway/"/>
        <content type="html">&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/spring-cloud-gateway-workflow.png&#34; alt=&#34;Spring Cloud Gateway çš„å·¥ä½œæµç¨‹&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;apiç½‘å…³åŸºç¡€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#apiç½‘å…³åŸºç¡€&#34;&gt;#&lt;/a&gt; API ç½‘å…³åŸºç¡€&lt;/h1&gt;
&lt;h2 id=&#34;ç½‘å…³æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç½‘å…³æ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; ç½‘å…³æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h2&gt;
&lt;p&gt;å¾®æœåŠ¡èƒŒæ™¯ä¸‹ï¼Œä¸€ä¸ªç³»ç»Ÿè¢«æ‹†åˆ†ä¸ºå¤šä¸ªæœåŠ¡ï¼Œä½†æ˜¯åƒå®‰å…¨è®¤è¯ï¼Œæµé‡æ§åˆ¶ï¼Œæ—¥å¿—ï¼Œç›‘æ§ç­‰åŠŸèƒ½æ˜¯æ¯ä¸ªæœåŠ¡éƒ½éœ€è¦çš„ï¼Œ&lt;font color=&#39;red&#39;&gt;æ²¡æœ‰ç½‘å…³çš„è¯ï¼Œå°±éœ€è¦åœ¨æ¯ä¸ªæœåŠ¡ä¸­å•ç‹¬å®ç°è¿™äº›åŠŸèƒ½&lt;/font&gt;ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬åšäº†å¾ˆå¤šé‡å¤çš„äº‹æƒ…ï¼Œå¹¶ä¸”æ²¡æœ‰ä¸€ä¸ªå…¨å±€çš„è§†å›¾æ¥ç»Ÿä¸€ç®¡ç†è¿™äº›åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/api-gateway-overview.png&#34; alt=&#34;ç½‘å…³ç¤ºæ„å›¾&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ç½‘å…³ç¤ºæ„å›¾&lt;/center&gt;
&lt;p&gt;ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç½‘å…³å¯ä»¥ä¸ºæˆ‘ä»¬æä¾›&lt;font color=&#39;red&#39;&gt;è¯·æ±‚è½¬å‘ã€å®‰å…¨è®¤è¯ï¼ˆèº«ä»½ / æƒé™è®¤è¯ï¼‰ã€æµé‡æ§åˆ¶ã€è´Ÿè½½å‡è¡¡ã€é™çº§ç†”æ–­ã€æ—¥å¿—ã€ç›‘æ§ã€å‚æ•°æ ¡éªŒã€åè®®è½¬æ¢&lt;/font&gt;ç­‰åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šé¢ä»‹ç»äº†è¿™ä¹ˆå¤šåŠŸèƒ½ï¼Œå®é™…ä¸Šï¼Œç½‘å…³ä¸»è¦åšäº†ä¸¤ä»¶äº‹æƒ…ï¼š&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;è¯·æ±‚è½¬å‘&lt;/font&gt;&lt;/strong&gt; + &lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;è¯·æ±‚è¿‡æ»¤&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºå¼•å…¥ç½‘å…³ä¹‹åï¼Œä¼šå¤šä¸€æ­¥ç½‘ç»œè½¬å‘ï¼Œå› æ­¤æ€§èƒ½ä¼šæœ‰ä¸€ç‚¹å½±å“ï¼ˆå‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œå°¤å…¶æ˜¯å†…ç½‘è®¿é—®çš„æƒ…å†µä¸‹ï¼‰ã€‚å¦å¤–ï¼Œæˆ‘ä»¬&lt;font color=&#39;red&#39;&gt;éœ€è¦ä¿éšœç½‘å…³æœåŠ¡çš„é«˜å¯ç”¨ï¼Œé¿å…å•ç‚¹é£é™©&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ&lt;font color=&#39;red&#39;&gt;ç½‘å…³æœåŠ¡å¤–å±‚é€šè¿‡  &lt;code&gt;Nginx&lt;/code&gt; ï¼ˆå…¶ä»–è´Ÿè½½å‡è¡¡è®¾å¤‡ / è½¯ä»¶ä¹Ÿè¡Œï¼‰è¿›â¾è´Ÿè½½è½¬å‘ï¼Œä»¥è¾¾åˆ°â¾¼å¯â½¤&lt;/font&gt;ã€‚Nginx åœ¨éƒ¨ç½²çš„æ—¶å€™ï¼Œå°½é‡ä¹Ÿè¦è€ƒè™‘é«˜å¯ç”¨ï¼Œé¿å…å•ç‚¹é£é™©ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/server-load-balancing.png&#34; alt=&#34;åŸºäº Nginx çš„æœåŠ¡ç«¯è´Ÿè½½å‡è¡¡&#34; /&gt;&lt;/p&gt;
&lt;center&gt;åŸºäº Nginx çš„æœåŠ¡ç«¯è´Ÿè½½å‡è¡¡&lt;/center&gt;
&lt;h2 id=&#34;ç½‘å…³çš„åŠŸèƒ½&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç½‘å…³çš„åŠŸèƒ½&#34;&gt;#&lt;/a&gt; ç½‘å…³çš„åŠŸèƒ½&lt;/h2&gt;
&lt;p&gt;ç»å¤§éƒ¨åˆ†ç½‘å…³å¯ä»¥æä¾›ä¸‹é¢è¿™äº›åŠŸèƒ½ï¼ˆæœ‰ä¸€äº›åŠŸèƒ½éœ€è¦å€ŸåŠ©å…¶ä»–æ¡†æ¶æˆ–è€…ä¸­é—´ä»¶ï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¯·æ±‚è½¬å‘&lt;/strong&gt;ï¼šå°†è¯·æ±‚è½¬å‘åˆ°ç›®æ ‡å¾®æœåŠ¡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è´Ÿè½½å‡è¡¡&lt;/strong&gt;ï¼šæ ¹æ®å„ä¸ªå¾®æœåŠ¡å®ä¾‹çš„è´Ÿè½½æƒ…å†µæˆ–è€…å…·ä½“çš„è´Ÿè½½å‡è¡¡ç­–ç•¥é…ç½®å¯¹è¯·æ±‚å®ç°åŠ¨æ€çš„è´Ÿè½½å‡è¡¡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å®‰å…¨è®¤è¯&lt;/strong&gt;ï¼šå¯¹ç”¨æˆ·è¯·æ±‚è¿›è¡Œèº«ä»½éªŒè¯ï¼Œå¹¶ä»…å…è®¸å¯ä¿¡å®¢æˆ·ç«¯è®¿é—® APIï¼Œå¹¶ä¸”è¿˜èƒ½å¤Ÿä½¿ç”¨ç±»ä¼¼ RBAC ç­‰æ–¹å¼æ¥æˆæƒã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å‚æ•°æ ¡éªŒ&lt;/strong&gt;ï¼šæ”¯æŒå‚æ•°æ˜ å°„ä¸æ ¡éªŒé€»è¾‘ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ—¥å¿—è®°å½•&lt;/strong&gt;ï¼šè®°å½•æ‰€æœ‰è¯·æ±‚çš„è¡Œä¸ºæ—¥å¿—ä¾›åç»­ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç›‘æ§å‘Šè­¦&lt;/strong&gt;ï¼šä»ä¸šåŠ¡æŒ‡æ ‡ã€æœºå™¨æŒ‡æ ‡ã€JVM æŒ‡æ ‡ç­‰æ–¹é¢è¿›è¡Œç›‘æ§ï¼Œå¹¶æä¾›é…å¥—çš„å‘Šè­¦æœºåˆ¶ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æµé‡æ§åˆ¶&lt;/strong&gt;ï¼šå¯¹è¯·æ±‚çš„æµé‡è¿›è¡Œæ§åˆ¶ï¼Œä¹Ÿå°±æ˜¯é™åˆ¶æŸä¸€æ—¶åˆ»å†…çš„è¯·æ±‚æ•°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç†”æ–­é™çº§&lt;/strong&gt;ï¼šå®æ—¶ç›‘æ§è¯·æ±‚çš„ç»Ÿè®¡ä¿¡æ¯ï¼Œè¾¾åˆ°é…ç½®çš„å¤±è´¥é˜ˆå€¼åï¼Œè‡ªåŠ¨ç†”æ–­ï¼Œè¿”å›é»˜è®¤å€¼ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å“åº”ç¼“å­˜&lt;/strong&gt;ï¼šå½“ç”¨æˆ·è¯·æ±‚è·å–çš„æ˜¯ä¸€äº›é™æ€çš„æˆ–æ›´æ–°ä¸é¢‘ç¹çš„æ•°æ®æ—¶ï¼Œä¸€æ®µæ—¶é—´å†…å¤šæ¬¡è¯·æ±‚è·å–åˆ°çš„æ•°æ®å¾ˆå¯èƒ½æ˜¯ä¸€æ ·çš„ã€‚å¯¹äºè¿™ç§æƒ…å†µå¯ä»¥å°†å“åº”ç¼“å­˜èµ·æ¥ã€‚è¿™æ ·ç”¨æˆ·è¯·æ±‚å¯ä»¥ç›´æ¥åœ¨ç½‘å…³å±‚å¾—åˆ°å“åº”æ•°æ®ï¼Œæ— éœ€å†å»è®¿é—®ä¸šåŠ¡æœåŠ¡ï¼Œå‡è½»ä¸šåŠ¡æœåŠ¡çš„è´Ÿæ‹…ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å“åº”èšåˆ&lt;/strong&gt;ï¼šæŸäº›æƒ…å†µä¸‹ç”¨æˆ·è¯·æ±‚è¦è·å–çš„å“åº”å†…å®¹å¯èƒ½ä¼šæ¥è‡ªäºå¤šä¸ªä¸šåŠ¡æœåŠ¡ã€‚ç½‘å…³ä½œä¸ºä¸šåŠ¡æœåŠ¡çš„è°ƒç”¨æ–¹ï¼Œå¯ä»¥æŠŠå¤šä¸ªæœåŠ¡çš„å“åº”æ•´åˆèµ·æ¥ï¼Œå†ä¸€å¹¶è¿”å›ç»™ç”¨æˆ·ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç°åº¦å‘å¸ƒ&lt;/strong&gt;ï¼šå°†è¯·æ±‚åŠ¨æ€åˆ†æµåˆ°ä¸åŒçš„æœåŠ¡ç‰ˆæœ¬ï¼ˆæœ€åŸºæœ¬çš„ä¸€ç§ç°åº¦å‘å¸ƒï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¼‚å¸¸å¤„ç†&lt;/strong&gt;ï¼šå¯¹äºä¸šåŠ¡æœåŠ¡è¿”å›çš„å¼‚å¸¸å“åº”ï¼Œå¯ä»¥åœ¨ç½‘å…³å±‚åœ¨è¿”å›ç»™ç”¨æˆ·ä¹‹å‰åšè½¬æ¢å¤„ç†ã€‚è¿™æ ·å¯ä»¥æŠŠä¸€äº›ä¸šåŠ¡ä¾§è¿”å›çš„å¼‚å¸¸ç»†èŠ‚éšè—ï¼Œè½¬æ¢æˆç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤ºè¿”å›ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;API æ–‡æ¡£ï¼š&lt;/strong&gt; å¦‚æœè®¡åˆ’å°† API æš´éœ²ç»™ç»„ç»‡ä»¥å¤–çš„å¼€å‘äººå‘˜ï¼Œé‚£ä¹ˆå¿…é¡»è€ƒè™‘ä½¿ç”¨ API æ–‡æ¡£ï¼Œä¾‹å¦‚ Swagger æˆ– OpenAPIã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åè®®è½¬æ¢&lt;/strong&gt;ï¼šé€šè¿‡åè®®è½¬æ¢æ•´åˆåå°åŸºäº RESTã€AMQPã€Dubbo ç­‰ä¸åŒé£æ ¼å’Œå®ç°æŠ€æœ¯çš„å¾®æœåŠ¡ï¼Œé¢å‘ Web Mobileã€å¼€æ”¾å¹³å°ç­‰ç‰¹å®šå®¢æˆ·ç«¯æä¾›ç»Ÿä¸€æœåŠ¡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¯ä¹¦ç®¡ç†&lt;/strong&gt;ï¼šå°† SSL è¯ä¹¦éƒ¨ç½²åˆ° API ç½‘å…³ï¼Œç”±ä¸€ä¸ªç»Ÿä¸€çš„å…¥å£ç®¡ç†æ¥å£ï¼Œé™ä½äº†è¯ä¹¦æ›´æ¢æ—¶çš„å¤æ‚åº¦ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹å›¾æ¥æºäº [ç™¾äº¿è§„æ¨¡ API ç½‘å…³æœåŠ¡ Shepherd çš„è®¾è®¡ä¸å®ç° - ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ - 2021 è¿™ç¯‡æ–‡ç« ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/up-35e102c633bbe8e0dea1e075ea3fee5dcfb.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;å¸¸è§çš„ç½‘å…³ç³»ç»Ÿ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¸¸è§çš„ç½‘å…³ç³»ç»Ÿ&#34;&gt;#&lt;/a&gt; å¸¸è§çš„ç½‘å…³ç³»ç»Ÿ&lt;/h2&gt;
&lt;h3 id=&#34;netflix-zuul&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#netflix-zuul&#34;&gt;#&lt;/a&gt; Netflix Zuul&lt;/h3&gt;
&lt;p&gt;Zuul æ˜¯ Netflix å¼€å‘çš„ä¸€æ¬¾æä¾›åŠ¨æ€è·¯ç”±ã€ç›‘æ§ã€å¼¹æ€§ã€å®‰å…¨çš„ç½‘å…³æœåŠ¡ï¼ŒåŸºäº Java æŠ€æœ¯æ ˆå¼€å‘ï¼Œå¯ä»¥å’Œ Eurekaã€Ribbonã€Hystrix ç­‰ç»„ä»¶é…åˆä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;Zuul æ ¸å¿ƒæ¶æ„å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/zuul-core-architecture.webp&#34; alt=&#34;Zuul æ ¸å¿ƒæ¶æ„&#34; /&gt;&lt;/p&gt;
&lt;center&gt;Zuul æ ¸å¿ƒæ¶æ„&lt;/center&gt;
&lt;p&gt;Zuul ä¸»è¦é€šè¿‡&lt;font color=&#39;red&#39;&gt;è¿‡æ»¤å™¨&lt;/font&gt;ï¼ˆç±»ä¼¼äº AOPï¼‰æ¥è¿‡æ»¤è¯·æ±‚ï¼Œä»è€Œå®ç°ç½‘å…³å¿…å¤‡çš„å„ç§åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/zuul-request-lifecycle.webp&#34; alt=&#34;Zuul è¯·æ±‚å£°æ˜å‘¨æœŸ&#34; /&gt;&lt;/p&gt;
&lt;center&gt;Zuul è¯·æ±‚å£°æ˜å‘¨æœŸ&lt;/center&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥&lt;font color=&#39;red&#39;&gt;è‡ªå®šä¹‰è¿‡æ»¤å™¨æ¥å¤„ç†è¯·æ±‚&lt;/font&gt;ï¼Œå¹¶ä¸”ï¼ŒZuul ç”Ÿæ€æœ¬èº«å°±æœ‰å¾ˆå¤šç°æˆçš„è¿‡æ»¤å™¨ä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚å°±æ¯”å¦‚&lt;font color=&#39;red&#39;&gt;é™æµ&lt;/font&gt;å¯ä»¥ç›´æ¥ç”¨å›½å¤–æœ‹å‹å†™çš„ &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL21hcmNvc2JhcmJlcm8vc3ByaW5nLWNsb3VkLXp1dWwtcmF0ZWxpbWl0&#34;&gt;spring-cloud-zuul-ratelimit&lt;/span&gt; (è¿™é‡Œåªæ˜¯ä¸¾ä¾‹è¯´æ˜ï¼Œä¸€èˆ¬æ˜¯é…åˆ hystrix æ¥åšé™æµ)ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight xml&#34;&gt;&lt;figcaption data-lang=&#34;XML&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;org.springframework.cloud&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;spring-cloud-starter-netflix-zuul&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;com.marcosbarbero.cloud&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;spring-cloud-zuul-ratelimit&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;version&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;2.2.0.RELEASE&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;version&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9uZXRmbGl4dGVjaGJsb2cuY29tL2Fubm91bmNpbmctenV1bC1lZGdlLXNlcnZpY2UtaW4tdGhlLWNsb3VkLWFiM2FmNWJlMDhlZQ==&#34;&gt;Zuul 1.x&lt;/span&gt; åŸºäºåŒæ­¥ IOï¼Œæ€§èƒ½è¾ƒå·®ã€‚&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9uZXRmbGl4dGVjaGJsb2cuY29tL29wZW4tc291cmNpbmctenV1bC0yLTgyZWE0NzZjYjJiMw==&#34;&gt;Zuul 2.x&lt;/span&gt; &lt;font color=&#39;red&#39;&gt;åŸºäº Netty å®ç°äº†å¼‚æ­¥ IO&lt;/font&gt;ï¼Œæ€§èƒ½å¾—åˆ°äº†å¤§å¹…æ”¹è¿›ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/zuul2-core-architecture.png&#34; alt=&#34;Zuul2 æ¶æ„&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;GitHub åœ°å€ï¼š &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL05ldGZsaXgvenV1bA==&#34;&gt;https://github.com/Netflix/zuul&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®˜æ–¹ Wikiï¼š &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL05ldGZsaXgvenV1bC93aWtp&#34;&gt;https://github.com/Netflix/zuul/wiki&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;spring-cloud-gateway&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#spring-cloud-gateway&#34;&gt;#&lt;/a&gt; Spring Cloud Gateway&lt;/h3&gt;
&lt;p&gt;SpringCloud Gateway å±äº Spring Cloud ç”Ÿæ€ç³»ç»Ÿä¸­çš„ç½‘å…³ï¼Œå…¶è¯ç”Ÿçš„ç›®æ ‡æ˜¯&lt;font color=&#39;red&#39;&gt;ä¸ºäº†æ›¿ä»£è€ç‰Œç½‘å…³ &lt;strong&gt;Zuul&lt;/strong&gt;&lt;/font&gt;ã€‚å‡†ç¡®ç‚¹æ¥è¯´ï¼Œåº”è¯¥æ˜¯ Zuul 1.xã€‚SpringCloud Gateway èµ·æ­¥è¦æ¯” Zuul 2.x æ›´æ—©ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æå‡ç½‘å…³çš„æ€§èƒ½ï¼ŒSpringCloud Gateway &lt;font color=&#39;red&#39;&gt;åŸºäº Spring WebFlux&lt;/font&gt; ã€‚Spring WebFlux ä½¿ç”¨ Reactor åº“æ¥å®ç°&lt;font color=&#39;red&#39;&gt;å“åº”å¼ç¼–ç¨‹æ¨¡å‹&lt;/font&gt;ï¼Œåº•å±‚&lt;font color=&#39;red&#39;&gt;åŸºäº Netty å®ç°åŒæ­¥éé˜»å¡çš„ I/O&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;![img](&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9vc3MuamF2YWd1aWRlLmNuL2dpdGh1Yi9qYXZhZ3VpZGUvc3lzdGVtLWRlc2lnbi9kaXN0cmlidXRlZC1zeXN0ZW0vYXBpLWdhdGV3YXkvc3ByaW5nY2xvdWQtZ2F0ZXdheS0=&#34;&gt;https://oss.javaguide.cn/github/javaguide/system-design/distributed-system/api-gateway/springcloud-gateway-&lt;/span&gt; demo.png)&lt;/p&gt;
&lt;p&gt;Spring Cloud Gateway ä¸ä»…æä¾›ç»Ÿä¸€çš„è·¯ç”±æ–¹å¼ï¼Œå¹¶ä¸” **&lt;font color=&#39;red&#39;&gt;åŸºäº Filter é“¾&lt;/font&gt;** çš„æ–¹å¼æä¾›äº†ç½‘å…³åŸºæœ¬çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼šå®‰å…¨ï¼Œç›‘æ§ / æŒ‡æ ‡ï¼Œé™æµã€‚&lt;/p&gt;
&lt;p&gt;Spring Cloud Gateway å’Œ Zuul 2.x çš„å·®åˆ«ä¸å¤§ï¼Œä¹Ÿæ˜¯é€šè¿‡è¿‡æ»¤å™¨æ¥å¤„ç†è¯·æ±‚ã€‚ä¸è¿‡ï¼Œç›®å‰æ›´åŠ &lt;font color=&#39;red&#39;&gt;æ¨èä½¿ç”¨ Spring Cloud Gateway &lt;/font&gt;è€Œé Zuulï¼ŒSpring Cloud ç”Ÿæ€å¯¹å…¶æ”¯æŒæ›´åŠ å‹å¥½ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Github åœ°å€ï¼š &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL3NwcmluZy1jbG91ZC9zcHJpbmctY2xvdWQtZ2F0ZXdheQ==&#34;&gt;https://github.com/spring-cloud/spring-cloud-gateway&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;å®˜ç½‘ï¼š &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9zcHJpbmcuaW8vcHJvamVjdHMvc3ByaW5nLWNsb3VkLWdhdGV3YXk=&#34;&gt;https://spring.io/projects/spring-cloud-gateway&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;openresty&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#openresty&#34;&gt;#&lt;/a&gt; OpenResty&lt;/h3&gt;
&lt;p&gt;æ ¹æ®å®˜æ–¹ä»‹ç»ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;OpenResty æ˜¯ä¸€ä¸ªåŸºäº Nginx ä¸ Lua çš„é«˜æ€§èƒ½ Web å¹³å°ï¼Œå…¶å†…éƒ¨é›†æˆäº†å¤§é‡ç²¾è‰¯çš„ Lua åº“ã€ç¬¬ä¸‰æ–¹æ¨¡å—ä»¥åŠå¤§å¤šæ•°çš„ä¾èµ–é¡¹ã€‚ç”¨äºæ–¹ä¾¿åœ°æ­å»ºèƒ½å¤Ÿå¤„ç†è¶…é«˜å¹¶å‘ã€æ‰©å±•æ€§æé«˜çš„åŠ¨æ€ Web åº”ç”¨ã€Web æœåŠ¡å’ŒåŠ¨æ€ç½‘å…³ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/api-gatewaynginx-lua-openresty.png&#34; alt=&#34;OpenResty å’Œ Nginx ä»¥åŠ Lua çš„å…³ç³»&#34; /&gt; OpenResty å’Œ Nginx ä»¥åŠ Lua çš„å…³ç³»&lt;/p&gt;
&lt;p&gt;OpenResty åŸºäº Nginxï¼Œä¸»è¦è¿˜æ˜¯çœ‹ä¸­äº†å…¶ä¼˜ç§€çš„é«˜å¹¶å‘èƒ½åŠ›ã€‚ä¸è¿‡ï¼Œç”±äº Nginx é‡‡ç”¨ C è¯­è¨€å¼€å‘ï¼ŒäºŒæ¬¡å¼€å‘é—¨æ§›è¾ƒé«˜ã€‚å¦‚æœæƒ³åœ¨ Nginx ä¸Šå®ç°ä¸€äº›è‡ªå®šä¹‰çš„é€»è¾‘æˆ–åŠŸèƒ½ï¼Œå°±éœ€è¦ç¼–å†™ C è¯­è¨€çš„æ¨¡å—ï¼Œå¹¶é‡æ–°ç¼–è¯‘ Nginxã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒOpenResty é€šè¿‡å®ç°  &lt;code&gt;ngx_lua&lt;/code&gt;  å’Œ  &lt;code&gt;stream_lua&lt;/code&gt;  ç­‰ Nginx æ¨¡å—ï¼ŒæŠŠ Lua/LuaJIT å®Œç¾åœ°æ•´åˆè¿›äº† Nginxï¼Œä»è€Œè®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨ Nginx å†…éƒ¨é‡ŒåµŒå…¥ Lua è„šæœ¬ï¼Œä½¿å¾—å¯ä»¥é€šè¿‡ç®€å•çš„ Lua è¯­è¨€æ¥æ‰©å±•ç½‘å…³çš„åŠŸèƒ½ï¼Œæ¯”å¦‚å®ç°è‡ªå®šä¹‰çš„è·¯ç”±è§„åˆ™ã€è¿‡æ»¤å™¨ã€ç¼“å­˜ç­–ç•¥ç­‰ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Lua æ˜¯ä¸€ç§éå¸¸å¿«é€Ÿçš„åŠ¨æ€è„šæœ¬è¯­è¨€ï¼Œå®ƒçš„è¿è¡Œé€Ÿåº¦æ¥è¿‘äº C è¯­è¨€ã€‚LuaJIT æ˜¯ Lua çš„ä¸€ä¸ªå³æ—¶ç¼–è¯‘å™¨ï¼Œå®ƒå¯ä»¥æ˜¾è‘—æé«˜ Lua ä»£ç çš„æ‰§è¡Œæ•ˆç‡ã€‚LuaJIT å°†ä¸€äº›å¸¸ç”¨çš„ Lua å‡½æ•°å’Œå·¥å…·åº“é¢„ç¼–è¯‘å¹¶ç¼“å­˜ï¼Œè¿™æ ·åœ¨ä¸‹æ¬¡è°ƒç”¨æ—¶å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ç¼“å­˜çš„å­—èŠ‚ç ï¼Œä»è€Œå¤§å¤§åŠ å¿«äº†æ‰§è¡Œé€Ÿåº¦ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å…³äº OpenResty çš„å…¥é—¨ä»¥åŠç½‘å…³å®‰å…¨å®æˆ˜æ¨èé˜…è¯»è¿™ç¯‡æ–‡ç« ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvM0hnbFpzMDZXOTV2RjN0U2EzS3JYdw==&#34;&gt;æ¯ä¸ªåç«¯éƒ½åº”è¯¥äº†è§£çš„ OpenResty å…¥é—¨ä»¥åŠç½‘å…³å®‰å…¨å®æˆ˜&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Github åœ°å€ï¼š &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL29wZW5yZXN0eS9vcGVucmVzdHk=&#34;&gt;https://github.com/openresty/openresty&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;å®˜ç½‘åœ°å€ï¼š &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9vcGVucmVzdHkub3JnLw==&#34;&gt;https://openresty.org/&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;kong&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#kong&#34;&gt;#&lt;/a&gt; Kong&lt;/h3&gt;
&lt;p&gt;Kong æ˜¯ä¸€æ¬¾åŸºäº &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL29wZW5yZXN0eS8=&#34;&gt;OpenResty&lt;/span&gt; ï¼ˆNginx + Luaï¼‰çš„é«˜æ€§èƒ½ã€äº‘åŸç”Ÿã€å¯æ‰©å±•ã€ç”Ÿæ€ä¸°å¯Œçš„ç½‘å…³ç³»ç»Ÿï¼Œä¸»è¦ç”± 3 ä¸ªç»„ä»¶ç»„æˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Kong Serverï¼šåŸºäº Nginx çš„æœåŠ¡å™¨ï¼Œç”¨æ¥æ¥æ”¶ API è¯·æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;Apache Cassandra/PostgreSQLï¼šç”¨æ¥å­˜å‚¨æ“ä½œæ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;Kong Dashboardï¼šå®˜æ–¹æ¨è UI ç®¡ç†å·¥å…·ï¼Œå½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ RESTful æ–¹å¼ ç®¡ç† Admin apiã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/kong-way.webp&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç”±äºé»˜è®¤ä½¿ç”¨ Apache Cassandra/PostgreSQL å­˜å‚¨æ•°æ®ï¼ŒKong çš„&lt;font color=&#39;red&#39;&gt;æ•´ä¸ªæ¶æ„æ¯”è¾ƒè‡ƒè‚¿ï¼Œå¹¶ä¸”ä¼šå¸¦æ¥é«˜å¯ç”¨çš„é—®é¢˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Kong æä¾›äº†&lt;font color=&#39;red&#39;&gt;æ’ä»¶æœºåˆ¶&lt;/font&gt;æ¥æ‰©å±•å…¶åŠŸèƒ½ï¼Œæ’ä»¶åœ¨ API è¯·æ±‚å“åº”å¾ªç¯çš„ç”Ÿå‘½å‘¨æœŸä¸­è¢«æ‰§è¡Œã€‚æ¯”å¦‚åœ¨æœåŠ¡ä¸Šå¯ç”¨ Zipkin æ’ä»¶ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;figcaption data-lang=&#34;sh&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;curl&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-X&lt;/span&gt; POST http://kong:8001/services/&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;service&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;/plugins &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;--data&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;name=zipkin&#34;&lt;/span&gt;  &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;--data&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;config.http_endpoint=http://your.zipkin.collector:9411/api/v2/spans&#34;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token parameter variable&#34;&gt;--data&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;config.sample_ratio=0.001&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;Kong æœ¬èº«å°±æ˜¯ä¸€ä¸ª Lua åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”æ˜¯åœ¨ Openresty çš„åŸºç¡€ä¹‹ä¸Šåšäº†ä¸€å±‚å°è£…çš„åº”ç”¨ã€‚å½’æ ¹ç»“åº•å°±æ˜¯åˆ©ç”¨ Lua åµŒå…¥ Nginx çš„æ–¹å¼ï¼Œèµ‹äºˆäº† Nginx å¯ç¼–ç¨‹çš„èƒ½åŠ›ï¼Œè¿™æ ·ä»¥æ’ä»¶çš„å½¢å¼åœ¨ Nginx è¿™ä¸€å±‚èƒ½å¤Ÿåšåˆ°æ— é™æƒ³è±¡çš„äº‹æƒ…ã€‚ä¾‹å¦‚é™æµã€å®‰å…¨è®¿é—®ç­–ç•¥ã€è·¯ç”±ã€è´Ÿè½½å‡è¡¡ç­‰ç­‰ã€‚ç¼–å†™ä¸€ä¸ª Kong æ’ä»¶ï¼Œå°±æ˜¯æŒ‰ç…§ Kong æ’ä»¶ç¼–å†™è§„èŒƒï¼Œå†™ä¸€ä¸ªè‡ªå·±è‡ªå®šä¹‰çš„ Lua è„šæœ¬ï¼Œç„¶ååŠ è½½åˆ° Kong ä¸­ï¼Œæœ€åå¼•ç”¨å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/kong-gateway-overview.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é™¤äº† Luaï¼ŒKong è¿˜å¯ä»¥åŸºäº Go ã€JavaScriptã€Python ç­‰è¯­è¨€å¼€å‘æ’ä»¶ï¼Œå¾—ç›Šäºå¯¹åº”çš„ PDKï¼ˆæ’ä»¶å¼€å‘å·¥å…·åŒ…ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å…³äº Kong æ’ä»¶çš„è¯¦ç»†ä»‹ç»ï¼Œæ¨èé˜…è¯»å®˜æ–¹æ–‡æ¡£ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9kb2NzLmtvbmdocS5jb20vZ2F0ZXdheS9sYXRlc3Qva29uZy1wbHVnaW5zLw==&#34;&gt;https://docs.konghq.com/gateway/latest/kong-plugins/&lt;/span&gt;ï¼Œå†™çš„æ¯”è¾ƒè¯¦ç»†ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Github åœ°å€ï¼š &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL0tvbmcva29uZw==&#34;&gt;https://github.com/Kong/kong&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;å®˜ç½‘åœ°å€ï¼š &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9rb25naHEuY29tL2tvbmc=&#34;&gt;https://konghq.com/kong&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;apisix&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#apisix&#34;&gt;#&lt;/a&gt; APISIX&lt;/h3&gt;
&lt;p&gt;APISIX æ˜¯ä¸€æ¬¾åŸºäº OpenResty å’Œ etcd çš„é«˜æ€§èƒ½ã€äº‘åŸç”Ÿã€å¯æ‰©å±•çš„ç½‘å…³ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;etcd æ˜¯ä½¿ç”¨ Go è¯­è¨€å¼€å‘çš„ä¸€ä¸ªå¼€æºçš„ã€é«˜å¯ç”¨çš„åˆ†å¸ƒå¼ key-value å­˜å‚¨ç³»ç»Ÿï¼Œä½¿ç”¨ Raft åè®®åšåˆ†å¸ƒå¼å…±è¯†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸ä¼ ç»Ÿ API ç½‘å…³ç›¸æ¯”ï¼ŒAPISIX å…·æœ‰&lt;font color=&#39;red&#39;&gt;åŠ¨æ€è·¯ç”±&lt;/font&gt;å’Œ&lt;font color=&#39;red&#39;&gt;æ’ä»¶çƒ­åŠ è½½&lt;/font&gt;ï¼Œç‰¹åˆ«é€‚åˆå¾®æœåŠ¡ç³»ç»Ÿä¸‹çš„ API ç®¡ç†ã€‚å¹¶ä¸”ï¼ŒAPISIX ä¸ SkyWalkingï¼ˆåˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªç³»ç»Ÿï¼‰ã€Zipkinï¼ˆåˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªç³»ç»Ÿï¼‰ã€Prometheusï¼ˆç›‘æ§ç³»ç»Ÿï¼‰ ç­‰ DevOps ç”Ÿæ€å·¥å…·å¯¹æ¥éƒ½ååˆ†æ–¹ä¾¿ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/apisix-architecture.png&#34; alt=&#34;APISIX æ¶æ„å›¾&#34; /&gt;&lt;/p&gt;
&lt;center&gt;APISIX æ¶æ„å›¾&lt;/center&gt;
&lt;p&gt;ä½œä¸º Nginx å’Œ Kong çš„æ›¿ä»£é¡¹ç›®ï¼Œ&lt;font color=&#39;red&#39;&gt;APISIX ç›®å‰å·²ç»æ˜¯ Apache é¡¶çº§å¼€æºé¡¹ç›®ï¼Œå¹¶ä¸”æ˜¯æœ€å¿«æ¯•ä¸šçš„å›½äº§å¼€æºé¡¹ç›®&lt;/font&gt;ã€‚å›½å†…ç›®å‰å·²ç»æœ‰å¾ˆå¤šçŸ¥åä¼ä¸šï¼ˆæ¯”å¦‚é‡‘å±±ã€æœ‰èµã€çˆ±å¥‡è‰ºã€è…¾è®¯ã€è´å£³ï¼‰ä½¿ç”¨ APISIX å¤„ç†æ ¸å¿ƒçš„ä¸šåŠ¡æµé‡ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®å®˜ç½‘ä»‹ç»ï¼šâ€œAPISIX å·²ç»ç”Ÿäº§å¯ç”¨ï¼ŒåŠŸèƒ½ã€æ€§èƒ½ã€æ¶æ„å…¨é¢ä¼˜äº Kongâ€ã€‚&lt;/p&gt;
&lt;p&gt;APISIX åŒæ ·æ”¯æŒå®šåˆ¶åŒ–çš„æ’ä»¶å¼€å‘ã€‚å¼€å‘è€…é™¤äº†èƒ½å¤Ÿä½¿ç”¨ Lua è¯­è¨€å¼€å‘æ’ä»¶ï¼Œè¿˜èƒ½é€šè¿‡ä¸‹é¢ä¸¤ç§æ–¹å¼å¼€å‘æ¥é¿å¼€ Lua è¯­è¨€çš„å­¦ä¹ æˆæœ¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡ Plugin Runner æ¥æ”¯æŒæ›´å¤šçš„ä¸»æµç¼–ç¨‹è¯­è¨€ï¼ˆæ¯”å¦‚ Javaã€Pythonã€Go ç­‰ç­‰ï¼‰ã€‚é€šè¿‡è¿™æ ·çš„æ–¹å¼ï¼Œå¯ä»¥è®©åç«¯å·¥ç¨‹å¸ˆé€šè¿‡æœ¬åœ° RPC é€šä¿¡ï¼Œä½¿ç”¨ç†Ÿæ‚‰çš„ç¼–ç¨‹è¯­è¨€å¼€å‘ APISIX çš„æ’ä»¶ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å‡å°‘äº†å¼€å‘æˆæœ¬ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ï¼Œä½†æ˜¯åœ¨æ€§èƒ½ä¸Šä¼šæœ‰ä¸€äº›æŸå¤±ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ Wasmï¼ˆWebAssemblyï¼‰ å¼€å‘æ’ä»¶ã€‚Wasm è¢«åµŒå…¥åˆ°äº† APISIX ä¸­ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ Wasm å»ç¼–è¯‘æˆ Wasm çš„å­—èŠ‚ç åœ¨ APISIX ä¸­è¿è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Wasm æ˜¯åŸºäºå †æ ˆçš„è™šæ‹Ÿæœºçš„äºŒè¿›åˆ¶æŒ‡ä»¤æ ¼å¼ï¼Œä¸€ç§ä½çº§æ±‡ç¼–è¯­è¨€ï¼Œæ—¨åœ¨éå¸¸æ¥è¿‘å·²ç¼–è¯‘çš„æœºå™¨ä»£ç ï¼Œå¹¶ä¸”éå¸¸æ¥è¿‘æœ¬æœºæ€§èƒ½ã€‚Wasm æœ€åˆæ˜¯ä¸ºæµè§ˆå™¨æ„å»ºçš„ï¼Œä½†æ˜¯éšç€æŠ€æœ¯çš„æˆç†Ÿï¼Œåœ¨æœåŠ¡å™¨ç«¯çœ‹åˆ°äº†è¶Šæ¥è¶Šå¤šçš„ç”¨ä¾‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/up-a240d3b113cde647f5850f4c7cc55d4ff5c.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Github åœ°å€ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9hcGlzaXg=&#34;&gt;https://github.com/apache/apisix&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;å®˜ç½‘åœ°å€ï¼š &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9hcGlzaXguYXBhY2hlLm9yZy96aC8=&#34;&gt;https://apisix.apache.org/zh/&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;shenyu&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#shenyu&#34;&gt;#&lt;/a&gt; Shenyu&lt;/h3&gt;
&lt;p&gt;Shenyu æ˜¯ä¸€æ¬¾&lt;font color=&#39;red&#39;&gt;åŸºäº WebFlux &lt;/font&gt;çš„å¯æ‰©å±•ã€é«˜æ€§èƒ½ã€&lt;font color=&#39;red&#39;&gt;å“åº”å¼ç½‘å…³&lt;/font&gt;ï¼ŒApache é¡¶çº§å¼€æºé¡¹ç›®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/shenyu-architecture.png&#34; alt=&#34;Shenyu æ¶æ„&#34; /&gt;&lt;/p&gt;
&lt;center&gt;Shenyu æ¶æ„&lt;/center&gt;
&lt;p&gt;Shenyu é€šè¿‡&lt;font color=&#39;red&#39;&gt;æ’ä»¶&lt;/font&gt;æ‰©å±•åŠŸèƒ½ï¼Œæ’ä»¶æ˜¯ ShenYu çš„çµé­‚ï¼Œå¹¶ä¸”æ’ä»¶ä¹Ÿæ˜¯å¯æ‰©å±•å’Œçƒ­æ’æ‹”çš„ã€‚ä¸åŒçš„æ’ä»¶å®ç°ä¸åŒçš„åŠŸèƒ½ã€‚Shenyu è‡ªå¸¦äº†è¯¸å¦‚&lt;font color=&#39;red&#39;&gt;é™æµã€ç†”æ–­ã€è½¬å‘ã€é‡å†™ã€é‡å®šå‘ã€å’Œè·¯ç”±ç›‘æ§&lt;/font&gt;ç­‰æ’ä»¶ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Github åœ°å€ï¼š &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9pbmN1YmF0b3Itc2hlbnl1&#34;&gt;https://github.com/apache/incubator-shenyu&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;å®˜ç½‘åœ°å€ï¼š &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9zaGVueXUuYXBhY2hlLm9yZy8=&#34;&gt;https://shenyu.apache.org/&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å¦‚ä½•é€‰æ‹©&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•é€‰æ‹©&#34;&gt;#&lt;/a&gt; å¦‚ä½•é€‰æ‹©ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;ä¸Šé¢ä»‹ç»çš„å‡ ä¸ªå¸¸è§çš„ç½‘å…³ç³»ç»Ÿï¼Œæœ€å¸¸ç”¨çš„æ˜¯ Spring Cloud Gatewayã€Kongã€APISIX è¿™ä¸‰ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå…¬å¸ä¸šåŠ¡ä»¥ Java ä¸ºä¸»è¦å¼€å‘è¯­è¨€çš„æƒ…å†µä¸‹ï¼ŒSpring Cloud Gateway é€šå¸¸æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œå…¶ä¼˜ç‚¹æœ‰ï¼šç®€å•æ˜“ç”¨ã€æˆç†Ÿç¨³å®šã€ä¸ Spring Cloud ç”Ÿæ€ç³»ç»Ÿå…¼å®¹ã€Spring ç¤¾åŒºæˆç†Ÿç­‰ç­‰ã€‚ä¸è¿‡ï¼ŒSpring Cloud Gateway ä¹Ÿæœ‰ä¸€äº›å±€é™æ€§å’Œä¸è¶³ä¹‹å¤„ï¼Œä¸€èˆ¬è¿˜éœ€è¦ç»“åˆå…¶ä»–ç½‘å…³ä¸€èµ·ä½¿ç”¨æ¯”å¦‚ OpenRestyã€‚å¹¶ä¸”ï¼Œ&lt;font color=&#39;red&#39;&gt;Spring Cloud Gateway çš„æ€§èƒ½ç›¸æ¯”è¾ƒäº Kong å’Œ APISIX è¿˜æ˜¯å·®ä¸€äº›&lt;/font&gt;ã€‚å¦‚æœå¯¹æ€§èƒ½è¦æ±‚æ¯”è¾ƒé«˜çš„è¯ï¼ŒSpring Cloud Gateway ä¸æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;Kong å’Œ APISIX åŠŸèƒ½æ›´ä¸°å¯Œï¼Œæ€§èƒ½æ›´å¼ºå¤§ï¼ŒæŠ€æœ¯æ¶æ„æ›´è´´åˆäº‘åŸç”Ÿã€‚Kong æ˜¯å¼€æº API ç½‘å…³çš„é¼»ç¥–ï¼Œç”Ÿæ€ä¸°å¯Œï¼Œç”¨æˆ·ç¾¤ä½“åºå¤§ã€‚APISIX å±äºåæ¥è€…ï¼Œæ›´ä¼˜ç§€ä¸€äº›ï¼Œæ ¹æ® APISIX å®˜ç½‘ä»‹ç»ï¼šâ€œAPISIX å·²ç»ç”Ÿäº§å¯ç”¨ï¼ŒåŠŸèƒ½ã€æ€§èƒ½ã€æ¶æ„å…¨é¢ä¼˜äº Kongâ€ã€‚ä¸‹é¢ç®€å•å¯¹æ¯”ä¸€ä¸‹äºŒè€…ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;APISIX åŸºäº etcd æ¥åšé…ç½®ä¸­å¿ƒï¼Œä¸å­˜åœ¨å•ç‚¹é—®é¢˜ï¼Œäº‘åŸç”Ÿå‹å¥½ï¼›è€Œ&lt;font color=&#39;red&#39;&gt; Kong åŸºäº Apache Cassandra/PostgreSQL ï¼Œå­˜åœ¨å•ç‚¹é£é™©&lt;/font&gt;ï¼Œéœ€è¦é¢å¤–çš„åŸºç¡€è®¾æ–½ä¿éšœåšé«˜å¯ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;APISIX æ”¯æŒçƒ­æ›´æ–°ï¼Œå¹¶ä¸”å®ç°äº†æ¯«ç§’çº§åˆ«çš„çƒ­æ›´æ–°å“åº”ï¼›è€Œ&lt;font color=&#39;red&#39;&gt; Kong ä¸æ”¯æŒçƒ­æ›´æ–°&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;APISIX çš„æ€§èƒ½è¦ä¼˜äº Kong &lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;APISIX æ”¯æŒçš„æ’ä»¶æ›´å¤š&lt;/font&gt;ï¼ŒåŠŸèƒ½æ›´ä¸°å¯Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;springcloud-gateway-å¸¸è§é—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#springcloud-gateway-å¸¸è§é—®é¢˜&#34;&gt;#&lt;/a&gt; SpringCloud Gateway å¸¸è§é—®é¢˜&lt;/h1&gt;
&lt;h2 id=&#34;æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; æ˜¯ä»€ä¹ˆ&lt;/h2&gt;
&lt;p&gt;Spring Cloud Gateway å±äº Spring Cloud ç”Ÿæ€ç³»ç»Ÿä¸­çš„ç½‘å…³ï¼Œå…¶è¯ç”Ÿçš„ç›®æ ‡æ˜¯ä¸ºäº†æ›¿ä»£è€ç‰Œç½‘å…³ &lt;strong&gt;Zuul&lt;/strong&gt;ã€‚å‡†ç¡®ç‚¹æ¥è¯´ï¼Œåº”è¯¥æ˜¯ Zuul 1.xã€‚Spring Cloud Gateway èµ·æ­¥è¦æ¯” Zuul 2.x æ›´æ—©ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æå‡ç½‘å…³çš„æ€§èƒ½ï¼ŒSpring Cloud Gateway åŸºäº Spring WebFlux ã€‚Spring WebFlux ä½¿ç”¨ Reactor åº“æ¥å®ç°å“åº”å¼ç¼–ç¨‹æ¨¡å‹ï¼Œåº•å±‚åŸºäº Netty å®ç°åŒæ­¥éé˜»å¡çš„ I/Oã€‚&lt;/p&gt;
&lt;p&gt;![img](&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9vc3MuamF2YWd1aWRlLmNuL2dpdGh1Yi9qYXZhZ3VpZGUvc3lzdGVtLWRlc2lnbi9kaXN0cmlidXRlZC1zeXN0ZW0vYXBpLWdhdGV3YXkvc3ByaW5nY2xvdWQtZ2F0ZXdheS0=&#34;&gt;https://oss.javaguide.cn/github/javaguide/system-design/distributed-system/api-gateway/springcloud-gateway-&lt;/span&gt; demo.png)&lt;/p&gt;
&lt;p&gt;Spring Cloud Gateway ä¸ä»…æä¾›ç»Ÿä¸€çš„è·¯ç”±æ–¹å¼ï¼Œå¹¶ä¸”åŸºäº Filter é“¾çš„æ–¹å¼æä¾›äº†ç½‘å…³åŸºæœ¬çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼šå®‰å…¨ï¼Œç›‘æ§ / æŒ‡æ ‡ï¼Œé™æµã€‚&lt;/p&gt;
&lt;p&gt;Spring Cloud Gateway å’Œ Zuul 2.x çš„å·®åˆ«ä¸å¤§ï¼Œä¹Ÿæ˜¯é€šè¿‡è¿‡æ»¤å™¨æ¥å¤„ç†è¯·æ±‚ã€‚ä¸è¿‡ï¼Œç›®å‰æ›´åŠ æ¨èä½¿ç”¨ Spring Cloud Gateway è€Œé Zuulï¼ŒSpring Cloud ç”Ÿæ€å¯¹å…¶æ”¯æŒæ›´åŠ å‹å¥½ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;GitHub åœ°å€ï¼š &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL3NwcmluZy1jbG91ZC9zcHJpbmctY2xvdWQtZ2F0ZXdheQ==&#34;&gt;https://github.com/spring-cloud/spring-cloud-gateway&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;å®˜ç½‘ï¼š &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9zcHJpbmcuaW8vcHJvamVjdHMvc3ByaW5nLWNsb3VkLWdhdGV3YXk=&#34;&gt;https://spring.io/projects/spring-cloud-gateway&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="åˆ†å¸ƒå¼å¾®æœåŠ¡" scheme="http://example.com/categories/distributed-microservices/" />
        <updated>2024-01-06T04:04:44.202Z</updated>
    </entry>
    <entry>
        <id>http://example.com/distributed-microservices/%E5%88%86%E5%B8%83%E5%BC%8FID&amp;%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81&amp;%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1&amp;%E5%88%86%E5%B8%83%E5%BC%8F%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83/</id>
        <title>åˆ†å¸ƒå¼ID&amp;åˆ†å¸ƒå¼é”&amp;åˆ†å¸ƒå¼äº‹åŠ¡&amp;åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ</title>
        <link rel="alternate" href="http://example.com/distributed-microservices/%E5%88%86%E5%B8%83%E5%BC%8FID&amp;%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81&amp;%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1&amp;%E5%88%86%E5%B8%83%E5%BC%8F%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83/"/>
        <content type="html">&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/distributed-lock.png&#34; alt=&#34;åˆ†å¸ƒå¼é”&#34; /&gt;&lt;/p&gt;
</content>
        <category term="åˆ†å¸ƒå¼å¾®æœåŠ¡" scheme="http://example.com/categories/distributed-microservices/" />
        <updated>2024-01-06T04:02:34.051Z</updated>
    </entry>
    <entry>
        <id>http://example.com/distributed-microservices/%E5%88%86%E5%B8%83%E5%BC%8F%E7%90%86%E8%AE%BA&amp;%E7%AE%97%E6%B3%95&amp;%E5%8D%8F%E8%AE%AE/</id>
        <title>åˆ†å¸ƒå¼ç†è®º&amp;ç®—æ³•&amp;åè®®</title>
        <link rel="alternate" href="http://example.com/distributed-microservices/%E5%88%86%E5%B8%83%E5%BC%8F%E7%90%86%E8%AE%BA&amp;%E7%AE%97%E6%B3%95&amp;%E5%8D%8F%E8%AE%AE/"/>
        <content type="html">&lt;h1 id=&#34;cap-base-ç†è®ºè¯¦è§£&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#cap-base-ç†è®ºè¯¦è§£&#34;&gt;#&lt;/a&gt; CAP &amp;amp; BASE ç†è®ºè¯¦è§£&lt;/h1&gt;
&lt;h2 id=&#34;cap-ç†è®º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#cap-ç†è®º&#34;&gt;#&lt;/a&gt; CAP ç†è®º&lt;/h2&gt;
&lt;h3 id=&#34;ç®€ä»‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®€ä»‹&#34;&gt;#&lt;/a&gt; ç®€ä»‹&lt;/h3&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231217154635468.png&#34; alt=&#34;CAPç†è®º&#34; /&gt;&lt;/p&gt;
&lt;p&gt;CAP ç†è®ºæŒ‡çš„æ˜¯ **&lt;font color=&#39;#B32015&#39;&gt;åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œåœ¨è®¾è®¡è¯»å†™æ“ä½œæ—¶ï¼Œåªèƒ½åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸‰ç‚¹ä¸­çš„ä¸¤ä¸ªï¼šä¸€è‡´æ€§ï¼ˆCï¼‰ã€å¯ç”¨æ€§ï¼ˆAï¼‰ã€åˆ†åŒºå®¹é”™æ€§ï¼ˆPï¼‰&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ä¸€è‡´æ€§ï¼ˆ &lt;code&gt;C&lt;/code&gt; onsistencyï¼‰&lt;/font&gt;ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¤šä¸ªä¸»æœºä¹‹é—´æ˜¯å¦èƒ½å¤Ÿä¿æŒæ•°æ®ä¸€è‡´çš„ç‰¹æ€§ã€‚å³ï¼Œ&lt;font color=&#39;red&#39;&gt;å½“ç³»ç»Ÿæ•°æ®å‘ç”Ÿæ›´æ–°æ“ä½œåï¼Œå„ä¸ªä¸»æœºä¸­çš„æ•°æ®ä»ç„¶å¤„äºä¸€è‡´çš„çŠ¶æ€&lt;/font&gt;ã€‚æ‰€æœ‰èŠ‚ç‚¹è®¿é—®åŒä¸€ä»½æœ€æ–°çš„æ•°æ®å‰¯æœ¬ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å¯ç”¨æ€§ï¼ˆ &lt;code&gt;A&lt;/code&gt; vailabilityï¼‰&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;ç³»ç»Ÿæä¾›çš„æœåŠ¡å¿…é¡»ä¸€ç›´å¤„äºå¯ç”¨çš„çŠ¶æ€&lt;/font&gt;ã€‚å³ï¼Œå¯¹äºç”¨æˆ·çš„æ¯ä¸€ä¸ªè¯·æ±‚ï¼Œç³»ç»Ÿï¼ˆéæ•…éšœèŠ‚ç‚¹ï¼‰æ€»æ˜¯å¯ä»¥åœ¨æœ‰é™çš„æ—¶é—´å†…å¯¹ç”¨æˆ·åšå‡ºåˆç†å“åº”ï¼ˆä¸æ˜¯é”™è¯¯ / è¶…æ—¶çš„å“åº”ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;åˆ†åŒºå®¹é”™æ€§ï¼ˆ &lt;code&gt;P&lt;/code&gt; artition toleranceï¼‰&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨é‡åˆ°ä»»ä½•&lt;strong&gt;ç½‘ç»œåˆ†åŒºæ•…éšœ&lt;/strong&gt;æ—¶ï¼Œä»èƒ½å¤Ÿä¿è¯å¯¹å¤–æä¾›ï¼ˆæ»¡è¶³ä¸€è‡´æ€§å’Œå¯ç”¨æ€§çš„ï¼‰æœåŠ¡&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/partition-tolerance.png&#34; alt=&#34;partition-tolerance&#34; /&gt;&lt;/p&gt;
&lt;center&gt;partition-tolerance&lt;/center&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ç½‘ç»œåˆ†åŒº&lt;/strong&gt;ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå¤šä¸ªèŠ‚ç‚¹ä¹‹é—´çš„ç½‘ç»œæœ¬æ¥æ˜¯è¿é€šçš„ï¼Œä½†æ˜¯å› ä¸ºæŸäº›æ•…éšœï¼ˆæ¯”å¦‚éƒ¨åˆ†èŠ‚ç‚¹ç½‘ç»œå‡ºäº†é—®é¢˜ï¼‰&lt;font color=&#39;red&#39;&gt;æŸäº›èŠ‚ç‚¹ä¹‹é—´ä¸è¿é€šäº†ï¼Œæ•´ä¸ªç½‘ç»œå°±åˆ†æˆäº†å‡ å—åŒºåŸŸ&lt;/font&gt;ï¼Œè¿™å°±å«ç½‘ç»œåˆ†åŒºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä¸æ˜¯æ‰€è°“çš„3é€‰2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸æ˜¯æ‰€è°“çš„3é€‰2&#34;&gt;#&lt;/a&gt; ä¸æ˜¯æ‰€è°“çš„ â€œ3 é€‰ 2â€&lt;/h3&gt;
&lt;p&gt;å¤§éƒ¨åˆ†äººè§£é‡Šè¿™ä¸€å®šå¾‹æ—¶ï¼Œå¸¸å¸¸ç®€å•çš„è¡¨è¿°ä¸ºï¼šâ€œä¸€è‡´æ€§ã€å¯ç”¨æ€§ã€åˆ†åŒºå®¹å¿æ€§ä¸‰è€…ä½ åªèƒ½åŒæ—¶è¾¾åˆ°å…¶ä¸­ä¸¤ä¸ªï¼Œä¸å¯èƒ½åŒæ—¶è¾¾åˆ°â€ã€‚å®é™…ä¸Šè¿™æ˜¯ä¸€ä¸ªéå¸¸å…·æœ‰è¯¯å¯¼æ€§è´¨çš„è¯´æ³•ï¼Œè€Œä¸”åœ¨ CAP ç†è®ºè¯ç”Ÿ 12 å¹´ä¹‹åï¼ŒCAP ä¹‹çˆ¶ä¹Ÿåœ¨ 2012 å¹´é‡å†™äº†ä¹‹å‰çš„è®ºæ–‡ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å½“å‘ç”Ÿç½‘ç»œåˆ†åŒºçš„æ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬è¦ç»§ç»­æœåŠ¡ï¼Œé‚£ä¹ˆå¼ºä¸€è‡´æ€§å’Œå¯ç”¨æ€§åªèƒ½ 2 é€‰ 1ã€‚ä¹Ÿå°±æ˜¯è¯´å½“ç½‘ç»œåˆ†åŒºä¹‹å P æ˜¯å‰æï¼Œå†³å®šäº† P ä¹‹åæ‰æœ‰ C å’Œ A çš„é€‰æ‹©ã€‚ä¹Ÿå°±æ˜¯è¯´åˆ†åŒºå®¹é”™æ€§ï¼ˆPartition toleranceï¼‰æˆ‘ä»¬æ˜¯å¿…é¡»è¦å®ç°çš„ã€‚&lt;/p&gt;
&lt;p&gt;ç®€è€Œè¨€ä¹‹å°±æ˜¯ï¼š&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;CAP ç†è®ºä¸­åˆ†åŒºå®¹é”™æ€§ P æ˜¯ä¸€å®šè¦æ»¡è¶³çš„ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šï¼Œåªèƒ½æ»¡è¶³å¯ç”¨æ€§ A æˆ–è€…å¼ºä¸€è‡´æ€§ C&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å› æ­¤ï¼Œ&lt;font color=&#39;red&#39;&gt;åˆ†å¸ƒå¼ç³»ç»Ÿç†è®ºä¸Šä¸å¯èƒ½é€‰æ‹© CA æ¶æ„ï¼Œåªèƒ½é€‰æ‹© CP æˆ–è€… AP æ¶æ„&lt;/font&gt;ã€‚æ¯”å¦‚ ZooKeeperã€HBase å°±æ˜¯ CP æ¶æ„ï¼ŒCassandraã€Eureka å°±æ˜¯ AP æ¶æ„ï¼ŒNacos ä¸ä»…æ”¯æŒ CP æ¶æ„ä¹Ÿæ”¯æŒ AP æ¶æ„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºå•¥ä¸å¯èƒ½é€‰æ‹© CA æ¶æ„å‘¢ï¼Ÿä¸¾ä¸ªä¾‹å­ï¼šè‹¥ç³»ç»Ÿå‡ºç° â€œåˆ†åŒºâ€ï¼Œç³»ç»Ÿä¸­çš„æŸä¸ªèŠ‚ç‚¹åœ¨è¿›è¡Œå†™æ“ä½œã€‚ä¸ºäº†ä¿è¯ Cï¼Œå¿…é¡»è¦ç¦æ­¢å…¶ä»–èŠ‚ç‚¹çš„è¯»å†™æ“ä½œï¼Œè¿™å°±å’Œ A å‘ç”Ÿå†²çªäº†ã€‚å¦‚æœä¸ºäº†ä¿è¯ Aï¼Œå…¶ä»–èŠ‚ç‚¹çš„è¯»å†™æ“ä½œæ­£å¸¸çš„è¯ï¼Œé‚£å°±å’Œ C å‘ç”Ÿå†²çªäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;é€‰æ‹© CP è¿˜æ˜¯ AP çš„å…³é”®åœ¨äºå½“å‰çš„ä¸šåŠ¡åœºæ™¯ï¼Œæ²¡æœ‰å®šè®ºï¼Œæ¯”å¦‚å¯¹äºéœ€è¦ç¡®ä¿å¼ºä¸€è‡´æ€§çš„åœºæ™¯å¦‚é“¶è¡Œä¸€èˆ¬ä¼šé€‰æ‹©ä¿è¯ CP ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œéœ€è¦è¡¥å……è¯´æ˜çš„ä¸€ç‚¹æ˜¯ï¼š&lt;font color=&#39;red&#39;&gt;å¦‚æœç½‘ç»œåˆ†åŒºæ­£å¸¸çš„è¯ï¼ˆç³»ç»Ÿåœ¨ç»å¤§éƒ¨åˆ†æ—¶å€™æ‰€å¤„çš„çŠ¶æ€ï¼‰ï¼Œä¹Ÿå°±è¯´ä¸éœ€è¦ä¿è¯ P çš„æ—¶å€™ï¼ŒC å’Œ A èƒ½å¤ŸåŒæ—¶ä¿è¯ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;h3 id=&#34;cap-å®é™…åº”ç”¨æ¡ˆä¾‹æ³¨å†Œä¸­å¿ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#cap-å®é™…åº”ç”¨æ¡ˆä¾‹æ³¨å†Œä¸­å¿ƒ&#34;&gt;#&lt;/a&gt; CAP å®é™…åº”ç”¨æ¡ˆä¾‹ï¼šæ³¨å†Œä¸­å¿ƒ&lt;/h3&gt;
&lt;p&gt;æˆ‘è¿™é‡Œä»¥æ³¨å†Œä¸­å¿ƒæ¥æ¢è®¨ä¸€ä¸‹ CAP çš„å®é™…åº”ç”¨ã€‚è€ƒè™‘åˆ°å¾ˆå¤šå°ä¼™ä¼´ä¸çŸ¥é“æ³¨å†Œä¸­å¿ƒæ˜¯å¹²å˜›çš„ï¼Œè¿™é‡Œç®€å•ä»¥ Dubbo ä¸ºä¾‹è¯´ä¸€è¯´ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹å›¾æ˜¯ Dubbo çš„æ¶æ„å›¾ã€‚æ³¨å†Œä¸­å¿ƒ Registry åœ¨å…¶ä¸­æ‰®æ¼”äº†ä»€ä¹ˆè§’è‰²å‘¢ï¼Ÿæä¾›äº†ä»€ä¹ˆæœåŠ¡å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æ³¨å†Œä¸­å¿ƒè´Ÿè´£æœåŠ¡åœ°å€çš„æ³¨å†Œä¸æŸ¥æ‰¾ï¼Œç›¸å½“äºæœåŠ¡çš„ç›®å½•ï¼ŒæœåŠ¡æä¾›è€…å’Œæ¶ˆè´¹è€…åªåœ¨å¯åŠ¨æ—¶ä¸æ³¨å†Œä¸­å¿ƒäº¤äº’ï¼Œæ³¨å†Œä¸­å¿ƒä¸è½¬å‘è¯·æ±‚ï¼Œå‹åŠ›è¾ƒå°&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231217154850034.png&#34; alt=&#34;image-20231217154850034&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¸¸è§çš„å¯ä»¥ä½œä¸ºæ³¨å†Œä¸­å¿ƒçš„ç»„ä»¶æœ‰ï¼šZooKeeperã€Eurekaã€Nacos...ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;**ZooKeeper ä¿è¯çš„æ˜¯ CPã€‚** ä»»ä½•æ—¶åˆ»å¯¹ ZooKeeper çš„è¯»è¯·æ±‚éƒ½èƒ½å¾—åˆ°ä¸€è‡´æ€§çš„ç»“æœï¼Œä½†æ˜¯ï¼Œ&lt;font color=&#39;red&#39;&gt;ZooKeeper ä¸ä¿è¯æ¯æ¬¡è¯·æ±‚çš„å¯ç”¨æ€§ï¼Œæ¯”å¦‚åœ¨ Leader é€‰ä¸¾è¿‡ç¨‹ä¸­ï¼Œæˆ–è€…åŠæ•°ä»¥ä¸Šçš„æœºå™¨ä¸å¯ç”¨çš„æ—¶å€™ï¼Œæˆ–è€…å½“ Leader èŠ‚ç‚¹ä¸­çš„æ•°æ®å‘ç”Ÿäº†å˜åŒ–ä½† Follower è¿˜æ²¡æœ‰åŒæ­¥å®Œæˆä¹‹å‰ï¼Œæ•´ä¸ª ZooKeeper é›†ç¾¤æ˜¯ä¸å¯¹å¤–æä¾›æœåŠ¡çš„&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Eureka ä¿è¯çš„åˆ™æ˜¯ APã€‚&lt;/strong&gt; Eureka åœ¨è®¾è®¡çš„æ—¶å€™å°±æ˜¯ä¼˜å…ˆä¿è¯ A ï¼ˆå¯ç”¨æ€§ï¼‰ã€‚&lt;font color=&#39;red&#39;&gt;åœ¨ Eureka ä¸­ä¸å­˜åœ¨ä»€ä¹ˆ Leader èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€æ ·çš„ã€å¹³ç­‰çš„&lt;/font&gt;ã€‚å› æ­¤ Eureka ä¸ä¼šåƒ ZooKeeper é‚£æ ·å‡ºç°é€‰ä¸¾è¿‡ç¨‹ä¸­æˆ–è€…åŠæ•°ä»¥ä¸Šçš„æœºå™¨ä¸å¯ç”¨çš„æ—¶å€™æœåŠ¡å°±æ˜¯ä¸å¯ç”¨çš„æƒ…å†µã€‚ &lt;font color=&#39;red&#39;&gt;Eureka ä¿è¯å³ä½¿å¤§éƒ¨åˆ†èŠ‚ç‚¹æŒ‚æ‰ä¹Ÿä¸ä¼šå½±å“æ­£å¸¸æä¾›æœåŠ¡ï¼Œåªè¦æœ‰ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¯ç”¨çš„å°±è¡Œäº†ï¼Œåªä¸è¿‡è¿™ä¸ªèŠ‚ç‚¹ä¸Šçš„æ•°æ®å¯èƒ½å¹¶ä¸æ˜¯æœ€æ–°çš„&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Nacos ä¸ä»…æ”¯æŒ CP ä¹Ÿæ”¯æŒ APã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ğŸ› ä¿®æ­£ï¼ˆå‚è§ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL1NuYWlsY2xpbWIvSmF2YUd1aWRlL2lzc3Vlcy8xOTA2&#34;&gt;issue#1906&lt;/span&gt;ï¼‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;ZooKeeper é€šè¿‡å¯çº¿æ€§åŒ–ï¼ˆLinearizableï¼‰å†™å…¥ã€å…¨å±€ FIFO é¡ºåºè®¿é—®ç­‰æœºåˆ¶æ¥ä¿éšœæ•°æ®ä¸€è‡´æ€§ã€‚å¤šèŠ‚ç‚¹éƒ¨ç½²çš„æƒ…å†µä¸‹ï¼Œ ZooKeeper é›†ç¾¤å¤„äº Quorum æ¨¡å¼ã€‚Quorum æ¨¡å¼ä¸‹çš„ ZooKeeper é›†ç¾¤ï¼Œæ˜¯ä¸€ç»„ ZooKeeper æœåŠ¡å™¨èŠ‚ç‚¹ç»„æˆçš„é›†åˆï¼Œå…¶ä¸­å¤§å¤šæ•°èŠ‚ç‚¹å¿…é¡»åŒæ„ä»»ä½•å˜æ›´æ‰èƒ½è¢«è§†ä¸ºæœ‰æ•ˆã€‚&lt;/p&gt;
&lt;p&gt;ç”±äº Quorum æ¨¡å¼ä¸‹çš„è¯»è¯·æ±‚ä¸ä¼šè§¦å‘å„ä¸ª ZooKeeper èŠ‚ç‚¹ä¹‹é—´çš„æ•°æ®åŒæ­¥ï¼Œå› æ­¤åœ¨æŸäº›æƒ…å†µä¸‹è¿˜æ˜¯å¯èƒ½ä¼šå­˜åœ¨è¯»å–åˆ°æ—§æ•°æ®çš„æƒ…å†µï¼Œå¯¼è‡´ä¸åŒçš„å®¢æˆ·ç«¯è§†å›¾ä¸Šçœ‹åˆ°çš„ç»“æœä¸åŒï¼Œè¿™å¯èƒ½æ˜¯ç”±äºç½‘ç»œå»¶è¿Ÿã€ä¸¢åŒ…ã€é‡ä¼ ç­‰åŸå› é€ æˆçš„ã€‚ZooKeeper ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæä¾›äº† Watcher æœºåˆ¶å’Œç‰ˆæœ¬å·æœºåˆ¶æ¥å¸®åŠ©å®¢æˆ·ç«¯æ£€æµ‹æ•°æ®çš„å˜åŒ–å’Œç‰ˆæœ¬å·çš„å˜æ›´ï¼Œä»¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å°ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°ç»“&#34;&gt;#&lt;/a&gt; å°ç»“&lt;/h3&gt;
&lt;p&gt;åœ¨è¿›è¡Œåˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡å’Œå¼€å‘æ—¶ï¼Œæˆ‘ä»¬ä¸åº”è¯¥ä»…ä»…å±€é™åœ¨ CAP é—®é¢˜ä¸Šï¼Œè¿˜è¦å…³æ³¨ç³»ç»Ÿçš„æ‰©å±•æ€§ã€å¯ç”¨æ€§ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;åœ¨ç³»ç»Ÿå‘ç”Ÿ â€œåˆ†åŒºâ€ çš„æƒ…å†µä¸‹ï¼ŒCAP ç†è®ºåªèƒ½æ»¡è¶³ CP æˆ–è€… AP&lt;/font&gt;ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„å‰ææ˜¯ç³»ç»Ÿå‘ç”Ÿäº† â€œåˆ†åŒºâ€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¦‚æœç³»ç»Ÿæ²¡æœ‰å‘ç”Ÿ â€œåˆ†åŒºâ€ çš„è¯ï¼ŒèŠ‚ç‚¹é—´çš„ç½‘ç»œè¿æ¥é€šä¿¡æ­£å¸¸çš„è¯ï¼Œä¹Ÿå°±ä¸å­˜åœ¨ P äº†ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥åŒæ—¶ä¿è¯ C å’Œ A äº†&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ€»ç»“ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¦‚æœç³»ç»Ÿå‘ç”Ÿ â€œåˆ†åŒºâ€ï¼Œæˆ‘ä»¬è¦è€ƒè™‘é€‰æ‹© CP è¿˜æ˜¯ APã€‚å¦‚æœç³»ç»Ÿæ²¡æœ‰å‘ç”Ÿ â€œåˆ†åŒºâ€ çš„è¯ï¼Œæˆ‘ä»¬è¦æ€è€ƒå¦‚ä½•ä¿è¯ CA ã€‚&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;base-ç†è®º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#base-ç†è®º&#34;&gt;#&lt;/a&gt; BASE ç†è®º&lt;/h2&gt;
&lt;h3 id=&#34;ç®€ä»‹-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®€ä»‹-2&#34;&gt;#&lt;/a&gt; ç®€ä»‹&lt;/h3&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;BASE æ˜¯å¯¹ CAP ä¸­ä¸€è‡´æ€§ C å’Œå¯ç”¨æ€§ A æƒè¡¡çš„ç»“æœ&lt;/font&gt;ï¼Œå…¶æ¥æºäºå¯¹å¤§è§„æ¨¡äº’è”ç½‘ç³»ç»Ÿåˆ†å¸ƒå¼å®è·µçš„æ€»ç»“ï¼Œæ˜¯åŸºäº CAP å®šç†é€æ­¥æ¼”åŒ–è€Œæ¥çš„ï¼Œå®ƒå¤§å¤§é™ä½äº†æˆ‘ä»¬å¯¹ç³»ç»Ÿçš„è¦æ±‚ï¼Œç”±ä»¥ä¸‹ä¸‰ä¸ªçŸ­è¯­çš„ç®€å†™ç»„æˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt; &lt;code&gt;B&lt;/code&gt; asically  &lt;code&gt;A&lt;/code&gt; vailableï¼ˆåŸºæœ¬å¯ç”¨ï¼‰&lt;/font&gt;ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿåœ¨å‡ºç°ä¸å¯é¢„çŸ¥æ•…éšœçš„æ—¶å€™ï¼Œ&lt;font color=&#39;red&#39;&gt;å…è®¸æŸå¤±éƒ¨åˆ†å¯ç”¨æ€§&lt;/font&gt;ã€‚ä½†è¿™ç»ä¸ç­‰ä»·äºç³»ç»Ÿä¸å¯ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt; &lt;code&gt;S&lt;/code&gt; oft stateï¼ˆè½¯çŠ¶æ€ï¼‰&lt;/font&gt;ï¼šå…è®¸ç³»ç»Ÿæ•°æ®å­˜åœ¨çš„ä¸­é—´çŠ¶æ€ï¼Œå¹¶è®¤ä¸ºè¯¥ä¸­é—´çŠ¶æ€çš„å­˜åœ¨ä¸ä¼šå½±å“ç³»ç»Ÿçš„æ•´ä½“å¯ç”¨æ€§ã€‚å³ï¼Œ&lt;font color=&#39;red&#39;&gt;å…è®¸ç³»ç»Ÿä¸»æœºé—´è¿›è¡Œæ•°æ®åŒæ­¥çš„è¿‡ç¨‹å­˜åœ¨ä¸€å®šå»¶æ—¶&lt;/font&gt;ã€‚è½¯çŠ¶æ€ï¼Œå…¶å®å°±æ˜¯ä¸€ç§ç°åº¦çŠ¶æ€ï¼Œè¿‡æ¸¡çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt; &lt;code&gt;E&lt;/code&gt; ventually consistentï¼ˆæœ€ç»ˆä¸€è‡´æ€§ï¼‰&lt;/font&gt;ï¼šå¼ºè°ƒçš„æ˜¯ç³»ç»Ÿä¸­æ‰€æœ‰çš„æ•°æ®å‰¯æœ¬ï¼Œåœ¨ç»è¿‡ä¸€æ®µæ—¶é—´çš„åŒæ­¥åï¼Œæœ€ç»ˆèƒ½å¤Ÿè¾¾åˆ°ä¸€ä¸ªä¸€è‡´çš„çŠ¶æ€ã€‚å› æ­¤ï¼Œæœ€ç»ˆä¸€è‡´æ€§çš„æœ¬è´¨æ˜¯&lt;font color=&#39;red&#39;&gt;éœ€è¦ç³»ç»Ÿä¿è¯æœ€ç»ˆæ•°æ®èƒ½å¤Ÿè¾¾åˆ°ä¸€è‡´ï¼Œè€Œä¸éœ€è¦ä¿è¯ç³»ç»Ÿæ•°æ®çš„å®æ—¶ä¸€è‡´æ€§&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ ¸å¿ƒæ€æƒ³&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ ¸å¿ƒæ€æƒ³&#34;&gt;#&lt;/a&gt; æ ¸å¿ƒæ€æƒ³&lt;/h3&gt;
&lt;p&gt;BASE ç†è®ºçš„æ ¸å¿ƒæ€æƒ³ï¼š&lt;font color=&#39;red&#39;&gt;å³ä½¿æ— æ³•åšåˆ°å¼ºä¸€è‡´æ€§ C ï¼Œä½†æ¯ä¸ªç³»ç»Ÿéƒ½å¯ä»¥æ ¹æ®è‡ªèº«çš„ä¸šåŠ¡ç‰¹ç‚¹ï¼Œé‡‡ç”¨é€‚å½“çš„æ–¹å¼æ¥ä½¿ç³»ç»Ÿè¾¾åˆ°æœ€ç»ˆä¸€è‡´æ€§ EÂ &lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯ **&lt;font color=&#39;red&#39;&gt;ç‰ºç‰²æ•°æ®çš„å¼ºä¸€è‡´æ€§ C æ¥æ»¡è¶³ç³»ç»Ÿçš„åŸºæœ¬å¯ç”¨æ€§ BA&lt;/font&gt;** ï¼Œç³»ç»Ÿä¸­ä¸€éƒ¨åˆ†æ•°æ®ä¸å¯ç”¨æˆ–è€…ä¸ä¸€è‡´æ—¶ï¼Œä»éœ€è¦ä¿æŒç³»ç»Ÿæ•´ä½“ â€œåŸºæœ¬å¯ç”¨â€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;**BASE ç†è®ºæœ¬è´¨ä¸Šæ˜¯å¯¹ CAP çš„å»¶ä¼¸å’Œè¡¥å……ï¼Œæ›´å…·ä½“åœ°è¯´ï¼Œæ˜¯å¯¹ CAP ä¸­ AP æ–¹æ¡ˆçš„ä¸€ä¸ªè¡¥å……ã€‚**AP æ–¹æ¡ˆåªæ˜¯åœ¨ç³»ç»Ÿå‘ç”Ÿåˆ†åŒºçš„æ—¶å€™æ”¾å¼ƒä¸€è‡´æ€§ï¼Œè€Œä¸æ˜¯æ°¸è¿œæ”¾å¼ƒä¸€è‡´æ€§ã€‚&lt;font color=&#39;red&#39;&gt;åœ¨åˆ†åŒºæ•…éšœæ¢å¤åï¼Œç³»ç»Ÿåº”è¯¥è¾¾åˆ°æœ€ç»ˆä¸€è‡´æ€§&lt;/font&gt;ã€‚è¿™ä¸€ç‚¹å…¶å®å°±æ˜¯ BASE ç†è®ºå»¶ä¼¸çš„åœ°æ–¹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸‰è¦ç´ &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸‰è¦ç´ &#34;&gt;#&lt;/a&gt; ä¸‰è¦ç´ &lt;/h3&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxOC81LzI0LzE2MzkxNDgwNmQ5ZTE1YzY&#34; alt=&#34;BASEç†è®ºä¸‰è¦ç´ &#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;åŸºæœ¬å¯ç”¨ba&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸºæœ¬å¯ç”¨ba&#34;&gt;#&lt;/a&gt; åŸºæœ¬å¯ç”¨ï¼ˆBAï¼‰&lt;/h4&gt;
&lt;p&gt;åŸºæœ¬å¯ç”¨æ˜¯æŒ‡åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨å‡ºç°ä¸å¯é¢„çŸ¥æ•…éšœçš„æ—¶å€™ï¼Œ&lt;font color=&#39;red&#39;&gt;å…è®¸æŸå¤±éƒ¨åˆ†å¯ç”¨æ€§&lt;/font&gt;ã€‚ä½†æ˜¯ï¼Œè¿™ç»ä¸ç­‰ä»·äºç³»ç»Ÿä¸å¯ç”¨ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å“åº”æ—¶é—´ä¸Šçš„æŸå¤±&lt;/strong&gt;ï¼šæ­£å¸¸æƒ…å†µä¸‹ï¼Œå¤„ç†ç”¨æˆ·è¯·æ±‚éœ€è¦ 0.5s è¿”å›ç»“æœï¼Œä½†æ˜¯ç”±äºç³»ç»Ÿå‡ºç°æ•…éšœï¼Œå¤„ç†ç”¨æˆ·è¯·æ±‚çš„æ—¶é—´å˜ä¸º 3 sã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç³»ç»ŸåŠŸèƒ½ä¸Šçš„æŸå¤±&lt;/strong&gt;ï¼šæ­£å¸¸æƒ…å†µä¸‹ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ç³»ç»Ÿçš„å…¨éƒ¨åŠŸèƒ½ï¼Œä½†æ˜¯ç”±äºç³»ç»Ÿè®¿é—®é‡çªç„¶å‰§å¢ï¼Œç³»ç»Ÿçš„éƒ¨åˆ†éæ ¸å¿ƒåŠŸèƒ½æ— æ³•ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;è½¯çŠ¶æ€s&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è½¯çŠ¶æ€s&#34;&gt;#&lt;/a&gt; è½¯çŠ¶æ€ï¼ˆSï¼‰&lt;/h4&gt;
&lt;p&gt;è½¯çŠ¶æ€æŒ‡å…è®¸ç³»ç»Ÿä¸­çš„æ•°æ®å­˜åœ¨ä¸­é—´çŠ¶æ€ï¼ˆ&lt;strong&gt;CAP ç†è®ºä¸­çš„æ•°æ®ä¸ä¸€è‡´&lt;/strong&gt;ï¼‰ï¼Œå¹¶è®¤ä¸ºè¯¥ä¸­é—´çŠ¶æ€çš„å­˜åœ¨ä¸ä¼šå½±å“ç³»ç»Ÿçš„æ•´ä½“å¯ç”¨æ€§ï¼Œå³&lt;font color=&#39;red&#39;&gt;å…è®¸ç³»ç»Ÿåœ¨ä¸åŒèŠ‚ç‚¹çš„æ•°æ®å‰¯æœ¬ä¹‹é—´è¿›è¡Œæ•°æ®åŒæ­¥çš„è¿‡ç¨‹å­˜åœ¨å»¶æ—¶&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æœ€ç»ˆä¸€è‡´æ€§e&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æœ€ç»ˆä¸€è‡´æ€§e&#34;&gt;#&lt;/a&gt; æœ€ç»ˆä¸€è‡´æ€§ï¼ˆEï¼‰&lt;/h4&gt;
&lt;p&gt;æœ€ç»ˆä¸€è‡´æ€§å¼ºè°ƒçš„æ˜¯&lt;font color=&#39;red&#39;&gt;ç³»ç»Ÿä¸­æ‰€æœ‰çš„æ•°æ®å‰¯æœ¬ï¼Œåœ¨ç»è¿‡ä¸€æ®µæ—¶é—´çš„åŒæ­¥åï¼Œæœ€ç»ˆèƒ½å¤Ÿè¾¾åˆ°ä¸€ä¸ªä¸€è‡´çš„çŠ¶æ€&lt;/font&gt;ã€‚å› æ­¤ï¼Œæœ€ç»ˆä¸€è‡´æ€§çš„æœ¬è´¨æ˜¯éœ€è¦ç³»ç»Ÿä¿è¯æœ€ç»ˆæ•°æ®èƒ½å¤Ÿè¾¾åˆ°ä¸€è‡´ï¼Œ&lt;font color=&#39;red&#39;&gt;è€Œä¸éœ€è¦å®æ—¶ä¿è¯ç³»ç»Ÿæ•°æ®çš„å¼ºä¸€è‡´æ€§&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åˆ†å¸ƒå¼ä¸€è‡´æ€§çš„ 3 ç§çº§åˆ«ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å¼ºä¸€è‡´æ€§&lt;/strong&gt;ï¼šç³»ç»Ÿå†™å…¥äº†ä»€ä¹ˆï¼Œè¯»å‡ºæ¥çš„å°±æ˜¯ä»€ä¹ˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼±ä¸€è‡´æ€§&lt;/strong&gt;ï¼šä¸ä¸€å®šå¯ä»¥è¯»å–åˆ°æœ€æ–°å†™å…¥çš„å€¼ï¼Œä¹Ÿä¸ä¿è¯å¤šå°‘æ—¶é—´ä¹‹åè¯»å–åˆ°çš„æ•°æ®æ˜¯æœ€æ–°çš„ï¼Œåªæ˜¯ä¼šå°½é‡ä¿è¯æŸä¸ªæ—¶åˆ»è¾¾åˆ°æ•°æ®ä¸€è‡´çš„çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ€ç»ˆä¸€è‡´æ€§&lt;/strong&gt;ï¼šå¼±ä¸€è‡´æ€§çš„å‡çº§ç‰ˆï¼Œç³»ç»Ÿä¼šä¿è¯åœ¨ä¸€å®šæ—¶é—´å†…è¾¾åˆ°æ•°æ®ä¸€è‡´çš„çŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä¸šç•Œæ¯”è¾ƒæ¨å´‡æ˜¯æœ€ç»ˆä¸€è‡´æ€§çº§åˆ«ï¼Œä½†æ˜¯æŸäº›å¯¹æ•°æ®ä¸€è‡´è¦æ±‚ååˆ†ä¸¥æ ¼çš„åœºæ™¯æ¯”å¦‚é“¶è¡Œè½¬è´¦è¿˜æ˜¯è¦ä¿è¯å¼ºä¸€è‡´æ€§ã€‚&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é‚£å®ç°æœ€ç»ˆä¸€è‡´æ€§çš„å…·ä½“æ–¹å¼æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL2drLmxpbmsvYS8xMHJaTQ==&#34;&gt;ã€Šåˆ†å¸ƒå¼åè®®ä¸ç®—æ³•å®æˆ˜ã€‹&lt;/span&gt; ä¸­æ˜¯è¿™æ ·ä»‹ç»ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¯»æ—¶ä¿®å¤&lt;/strong&gt;ï¼šåœ¨è¯»å–æ•°æ®æ—¶ï¼Œæ£€æµ‹æ•°æ®çš„ä¸ä¸€è‡´ï¼Œè¿›è¡Œä¿®å¤ã€‚æ¯”å¦‚ Cassandra çš„ Read Repair å®ç°ï¼Œå…·ä½“æ¥è¯´ï¼Œåœ¨å‘ Cassandra ç³»ç»ŸæŸ¥è¯¢æ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœæ£€æµ‹åˆ°ä¸åŒèŠ‚ç‚¹çš„å‰¯æœ¬æ•°æ®ä¸ä¸€è‡´ï¼Œç³»ç»Ÿå°±è‡ªåŠ¨ä¿®å¤æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å†™æ—¶ä¿®å¤&lt;/font&gt;&lt;/strong&gt;: åœ¨å†™å…¥æ•°æ®ï¼Œæ£€æµ‹æ•°æ®çš„ä¸ä¸€è‡´æ—¶ï¼Œè¿›è¡Œä¿®å¤ã€‚æ¯”å¦‚ Cassandra çš„ Hinted Handoff å®ç°ã€‚å…·ä½“æ¥è¯´ï¼ŒCassandra é›†ç¾¤çš„èŠ‚ç‚¹ä¹‹é—´è¿œç¨‹å†™æ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœå†™å¤±è´¥ å°±å°†æ•°æ®ç¼“å­˜ä¸‹æ¥ï¼Œç„¶åå®šæ—¶é‡ä¼ ï¼Œä¿®å¤æ•°æ®çš„ä¸ä¸€è‡´æ€§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼‚æ­¥ä¿®å¤&lt;/strong&gt;ï¼šè¿™ä¸ªæ˜¯æœ€å¸¸ç”¨çš„æ–¹å¼ï¼Œé€šè¿‡å®šæ—¶å¯¹è´¦æ£€æµ‹å‰¯æœ¬æ•°æ®çš„ä¸€è‡´æ€§ï¼Œå¹¶ä¿®å¤ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ¯”è¾ƒæ¨è &lt;strong&gt;å†™æ—¶ä¿®å¤&lt;/strong&gt;ï¼Œè¿™ç§æ–¹å¼å¯¹æ€§èƒ½æ¶ˆè€—æ¯”è¾ƒä½ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å°ç»“-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°ç»“-2&#34;&gt;#&lt;/a&gt; å°ç»“&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;ACID æ˜¯æ•°æ®åº“äº‹åŠ¡å®Œæ•´æ€§çš„ç†è®ºï¼ŒCAP æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡ç†è®ºï¼ŒBASE æ˜¯ CAP ç†è®ºä¸­ AP æ–¹æ¡ˆçš„å»¶ä¼¸ã€‚&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&#34;paxos-ç®—æ³•è¯¦è§£&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#paxos-ç®—æ³•è¯¦è§£&#34;&gt;#&lt;/a&gt; Paxos ç®—æ³•è¯¦è§£&lt;/h1&gt;
&lt;h2 id=&#34;èƒŒæ™¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#èƒŒæ™¯&#34;&gt;#&lt;/a&gt; èƒŒæ™¯&lt;/h2&gt;
&lt;p&gt;Paxos ç®—æ³•æ˜¯ Leslie Lamportï¼ˆ&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU4JThFJUIxJUU2JTk2JUFGJUU1JTg4JUE5JUMyJUI3JUU1JTg1JUIwJUU0JUJDJUFGJUU3JTg5JUI5&#34;&gt;è±æ–¯åˆ©ãƒ»å…°ä¼¯ç‰¹&lt;/span&gt;ï¼‰åœ¨ 1990 å¹´æå‡ºäº†ä¸€ç§ **&lt;font color=&#39;#B32015&#39;&gt;åˆ†å¸ƒå¼ç³»ç»Ÿå…±è¯†ç®—æ³•&lt;/font&gt;**ã€‚è¿™ä¹Ÿæ˜¯ç¬¬ä¸€ä¸ªè¢«è¯æ˜å®Œå¤‡çš„å…±è¯†ç®—æ³•ï¼ˆå‰ææ˜¯ä¸å­˜åœ¨æ‹œå åº­å°†å†›é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰æ¶æ„èŠ‚ç‚¹ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ä»‹ç» Paxos ç®—æ³•ï¼Œå…°ä¼¯ç‰¹ä¸“é—¨å†™äº†ä¸€ç¯‡å¹½é»˜é£è¶£çš„è®ºæ–‡ã€‚åœ¨è¿™ç¯‡è®ºæ–‡ä¸­ï¼Œä»–è™šæ‹Ÿäº†ä¸€ä¸ªå«åš Paxos çš„å¸Œè…ŠåŸé‚¦æ¥æ›´å½¢è±¡åŒ–åœ°ä»‹ç» Paxos ç®—æ³•ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œå®¡ç¨¿äººå¹¶ä¸è®¤å¯è¿™ç¯‡è®ºæ–‡çš„å¹½é»˜ã€‚äºæ˜¯ï¼Œä»–ä»¬å°±ç»™å…°ä¼¯ç‰¹è¯´ï¼šâ€œå¦‚æœä½ æƒ³è¦æˆåŠŸå‘è¡¨è¿™ç¯‡è®ºæ–‡çš„è¯ï¼Œå¿…é¡»åˆ é™¤æ‰€æœ‰ Paxos ç›¸å…³çš„æ•…äº‹èƒŒæ™¯â€ã€‚å…°ä¼¯ç‰¹ä¸€å¬å°±ä¸å¼€å¿ƒäº†ï¼šâ€œæˆ‘å‡­ä»€ä¹ˆä¿®æ”¹å•Šï¼Œä½ ä»¬è¿™äº›å®¡ç¨¿äººå°±æ˜¯ç¼ºä¹å¹½é»˜ç»†èƒï¼Œå‘ä¸äº†å°±ä¸å‘äº†å‘—ï¼â€ã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯ä¹ï¼Œæå‡º Paxos ç®—æ³•çš„é‚£ç¯‡è®ºæ–‡åœ¨å½“æ—¶å¹¶æ²¡æœ‰è¢«æˆåŠŸå‘è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;ç›´åˆ° 1998 å¹´ï¼Œç³»ç»Ÿç ”ç©¶ä¸­å¿ƒ (Systems Research Centerï¼ŒSRCï¼‰çš„ä¸¤ä¸ªæŠ€æœ¯ç ”ç©¶å‘˜éœ€è¦æ‰¾ä¸€äº›åˆé€‚çš„åˆ†å¸ƒå¼ç®—æ³•æ¥æœåŠ¡ä»–ä»¬æ­£åœ¨æ„å»ºçš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼ŒPaxos ç®—æ³•åˆšå¥½å¯ä»¥è§£å†³ä»–ä»¬çš„éƒ¨åˆ†éœ€æ±‚ã€‚å› æ­¤ï¼Œå…°ä¼¯ç‰¹å°±æŠŠè®ºæ–‡å‘ç»™äº†ä»–ä»¬ã€‚åœ¨çœ‹äº†è®ºæ–‡ä¹‹åï¼Œè¿™ä¿©å¤§ä½¬è§‰å¾—è®ºæ–‡è¿˜æ˜¯æŒºä¸é”™çš„ã€‚äºæ˜¯ï¼Œå…°ä¼¯ç‰¹åœ¨ 1998 å¹´é‡æ–°å‘è¡¨è®ºæ–‡ &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL2xhbXBvcnQuYXp1cmV3ZWJzaXRlcy5uZXQvcHVicy9sYW1wb3J0LXBheG9zLnBkZg==&#34;&gt;ã€ŠThe Part-Time Parliamentã€‹&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è®ºæ–‡å‘è¡¨ä¹‹åï¼Œå„è·¯å­¦è€…ç›´å‘¼çœ‹ä¸æ‡‚ï¼Œè¨€è¯­ä¸­è¿˜ç•¥æ˜¾è°ƒä¾ƒä¹‹æ„ã€‚è¿™è°å¿å¾—äº†ï¼Œåœ¨ 2001 å¹´çš„æ—¶å€™ï¼Œå…°ä¼¯ç‰¹ä¸“é—¨åˆå†™äº†ä¸€ç¯‡ &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL2xhbXBvcnQuYXp1cmV3ZWJzaXRlcy5uZXQvcHVicy9wYXhvcy1zaW1wbGUucGRm&#34;&gt;ã€ŠPaxos Made Simpleã€‹&lt;/span&gt; çš„è®ºæ–‡æ¥ç®€åŒ–å¯¹ Paxos çš„ä»‹ç»ï¼Œä¸»è¦è®²è¿°&lt;font color=&#39;red&#39;&gt;ä¸¤é˜¶æ®µå…±è¯†åè®®&lt;/font&gt;éƒ¨åˆ†ï¼Œé¡ºä¾¿è¿˜ä¸å¿˜å˜²è®½ä¸€ä¸‹è¿™ç¾¤å­¦è€…ã€‚&lt;/p&gt;
&lt;p&gt;ã€ŠPaxos Made Simpleã€‹è¿™ç¯‡è®ºæ–‡å°± 14 é¡µï¼Œç›¸æ¯”äº ã€ŠThe Part-Time Parliamentã€‹çš„ 33 é¡µç²¾ç®€äº†ä¸å°‘ã€‚æœ€å…³é”®çš„æ˜¯è¿™ç¯‡è®ºæ–‡çš„æ‘˜è¦å°±ä¸€å¥è¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/paxos-made-simple-L9ik01kM.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The Paxos algorithm, when presented in plain English, is very simple.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç¿»è¯‘è¿‡æ¥çš„æ„æ€å¤§æ¦‚å°±æ˜¯ï¼š&lt;font color=&#39;red&#39;&gt;å½“æˆ‘ç”¨æ— ä¿®é¥°çš„è‹±æ–‡æ¥æè¿°æ—¶ï¼ŒPaxos ç®—æ³•çœŸå¿ƒç®€å•ï¼&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;æœ‰æ²¡æœ‰æ„Ÿè§‰åˆ°æ¥è‡ªå…°ä¼¯ç‰¹å¤§ä½¬æ»¡æ»¡åœ°å˜²è®½çš„å‘³é“ï¼Ÿ&lt;/p&gt;
&lt;h2 id=&#34;ä»‹ç»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»‹ç»&#34;&gt;#&lt;/a&gt; ä»‹ç»&lt;/h2&gt;
&lt;p&gt;Paxos ç®—æ³•æ˜¯ç¬¬ä¸€ä¸ªè¢«è¯æ˜å®Œå¤‡çš„åˆ†å¸ƒå¼ç³»ç»Ÿå…±è¯†ç®—æ³•ã€‚å…±è¯†ç®—æ³•çš„ä½œç”¨æ˜¯ **&lt;font color=&#39;red&#39;&gt;è®©åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å¤šä¸ªèŠ‚ç‚¹ä¹‹é—´å¯¹æŸä¸ªææ¡ˆï¼ˆProposalï¼‰è¾¾æˆä¸€è‡´çš„çœ‹æ³•&lt;/font&gt;**ã€‚ææ¡ˆçš„å«ä¹‰åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ååˆ†å®½æ³›ï¼Œåƒå“ªä¸€ä¸ªèŠ‚ç‚¹æ˜¯ Leader èŠ‚ç‚¹ã€å¤šä¸ªäº‹ä»¶å‘ç”Ÿçš„é¡ºåºç­‰ç­‰éƒ½å¯ä»¥æ˜¯ä¸€ä¸ªææ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;å…°ä¼¯ç‰¹å½“æ—¶æå‡ºçš„ Paxos ç®—æ³•ä¸»è¦åŒ…å« 2 ä¸ªéƒ¨åˆ†:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;Basic Paxos ç®—æ³•&lt;/font&gt;&lt;/strong&gt;ï¼šæè¿°çš„æ˜¯&lt;font color=&#39;red&#39;&gt;å¤šèŠ‚ç‚¹ä¹‹é—´å¦‚ä½•å°±æŸä¸ªå€¼ (ææ¡ˆ Value) è¾¾æˆå…±è¯†&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;Multi-Paxos æ€æƒ³&lt;/font&gt;&lt;/strong&gt;ï¼šæè¿°çš„æ˜¯æ‰§è¡Œå¤šä¸ª Basic Paxos å®ä¾‹ï¼Œå°±ä¸€ç³»åˆ—å€¼è¾¾æˆå…±è¯†ã€‚&lt;font color=&#39;red&#39;&gt;Multi-Paxos è¯´ç™½äº†å°±æ˜¯æ‰§è¡Œå¤šæ¬¡ Basic Paxos &lt;/font&gt;ï¼Œæ ¸å¿ƒè¿˜æ˜¯ Basic Paxos ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç”±äº Paxos ç®—æ³•åœ¨å›½é™…ä¸Šè¢«å…¬è®¤çš„éå¸¸éš¾ä»¥ç†è§£å’Œå®ç°ï¼Œå› æ­¤ä¸æ–­æœ‰äººå°è¯•ç®€åŒ–è¿™ä¸€ç®—æ³•ã€‚åˆ°äº† 2013 å¹´æ‰è¯ç”Ÿäº†&lt;font color=&#39;red&#39;&gt;ä¸€ä¸ªæ¯” Paxos ç®—æ³•æ›´æ˜“ç†è§£å’Œå®ç°çš„å…±è¯†ç®—æ³• â€”&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qYXZhZ3VpZGUuY24vZGlzdHJpYnV0ZWQtc3lzdGVtL3RoZW9yZW0mYW1wO2FsZ29yaXRobSZhbXA7cHJvdG9jb2wvcmFmdC1hbGdvcml0aG0uaHRtbA==&#34;&gt;Raft ç®—æ³•&lt;/span&gt;&lt;/font&gt; ã€‚æ›´å…·ä½“ç‚¹æ¥è¯´ï¼Œ&lt;font color=&#39;red&#39;&gt;Raft æ˜¯ Multi-Paxos çš„ä¸€ä¸ªç®€åŒ–å˜ç§&lt;/font&gt;ï¼Œå…¶ç®€åŒ–äº† Multi-Paxos çš„æ€æƒ³ï¼Œå˜å¾—æ›´å®¹æ˜“è¢«ç†è§£ä»¥åŠå·¥ç¨‹å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;é’ˆå¯¹æ²¡æœ‰æ¶æ„èŠ‚ç‚¹çš„æƒ…å†µï¼Œé™¤äº† Raft ç®—æ³•ä¹‹å¤–ï¼Œå½“å‰æœ€å¸¸ç”¨çš„ä¸€äº›å…±è¯†ç®—æ³•æ¯”å¦‚ &lt;strong&gt;ZAB åè®®&lt;/strong&gt;ã€ &lt;strong&gt;Fast Paxos&lt;/strong&gt; ç®—æ³•éƒ½æ˜¯åŸºäº Paxos ç®—æ³•æ”¹è¿›çš„ã€‚&lt;/p&gt;
&lt;p&gt;é’ˆå¯¹å­˜åœ¨æ¶æ„èŠ‚ç‚¹çš„æƒ…å†µï¼Œä¸€èˆ¬ä½¿ç”¨çš„æ˜¯ &lt;strong&gt;å·¥ä½œé‡è¯æ˜ï¼ˆPOWï¼ŒProof-of-Workï¼‰&lt;/strong&gt;ã€ &lt;strong&gt;æƒç›Šè¯æ˜ï¼ˆPoSï¼ŒProof-of-Stake ï¼‰&lt;/strong&gt; ç­‰å…±è¯†ç®—æ³•ã€‚è¿™ç±»å…±è¯†ç®—æ³•æœ€å…¸å‹çš„åº”ç”¨å°±æ˜¯&lt;font color=&#39;red&#39;&gt;åŒºå—é“¾&lt;/font&gt;ï¼Œå°±æ¯”å¦‚è¯´å‰æ®µæ—¶é—´ä»¥å¤ªåŠå®˜æ–¹å®£å¸ƒå…¶å…±è¯†æœºåˆ¶æ­£åœ¨ä»å·¥ä½œé‡è¯æ˜ (PoW) è½¬å˜ä¸ºæƒç›Šè¯æ˜ (PoS)ã€‚&lt;/p&gt;
&lt;p&gt;åŒºå—é“¾ç³»ç»Ÿä½¿ç”¨çš„å…±è¯†ç®—æ³•éœ€è¦è§£å†³çš„æ ¸å¿ƒé—®é¢˜æ˜¯ **&lt;font color=&#39;red&#39;&gt;æ‹œå åº­å°†å†›é—®é¢˜&lt;/font&gt;** ï¼Œè¿™å’Œæˆ‘ä»¬æ—¥å¸¸æ¥è§¦åˆ°çš„ ZooKeeperã€Etcdã€Consul ç­‰åˆ†å¸ƒå¼ä¸­é—´ä»¶ä¸å¤ªä¸€æ ·ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬æ¥å¯¹ Paxos ç®—æ³•çš„å®šä¹‰åšä¸€ä¸ªæ€»ç»“ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Paxos ç®—æ³•æ˜¯å…°ä¼¯ç‰¹åœ¨ 1990 å¹´æå‡ºäº†ä¸€ç§åˆ†å¸ƒå¼ç³»ç»Ÿå…±è¯†ç®—æ³•ã€‚&lt;/li&gt;
&lt;li&gt;å…°ä¼¯ç‰¹å½“æ—¶æå‡ºçš„ Paxos ç®—æ³•ä¸»è¦åŒ…å« 2 ä¸ªéƒ¨åˆ†: Basic Paxos ç®—æ³•å’Œ Multi-Paxos æ€æƒ³ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;Raft ç®—æ³•ã€ZAB åè®®ã€ Fast Paxos ç®—æ³•éƒ½æ˜¯åŸºäº Paxos ç®—æ³•æ”¹è¿›è€Œæ¥&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;basic-paxos-ç®—æ³•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#basic-paxos-ç®—æ³•&#34;&gt;#&lt;/a&gt; Basic Paxos ç®—æ³•&lt;/h2&gt;
&lt;p&gt;Basic Paxos ä¸­å­˜åœ¨ 3 ä¸ªé‡è¦çš„è§’è‰²ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æè®®è€…ï¼ˆProposerï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šä¹Ÿå¯ä»¥å«åšåè°ƒè€…ï¼ˆcoordinatorï¼‰ï¼Œæè®®è€…&lt;font color=&#39;red&#39;&gt;è´Ÿè´£æ¥å—å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¹¶å‘èµ·ææ¡ˆ&lt;/font&gt;ã€‚ææ¡ˆä¿¡æ¯é€šå¸¸åŒ…æ‹¬ææ¡ˆç¼–å· (Proposal ID) ã€æè®®çš„å€¼ (Value)ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æ¥å—è€…ï¼ˆAcceptorï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šä¹Ÿå¯ä»¥å«åšæŠ•ç¥¨å‘˜ï¼ˆvoterï¼‰ï¼Œ&lt;font color=&#39;red&#39;&gt;è´Ÿè´£å¯¹æè®®è€…çš„ææ¡ˆè¿›è¡ŒæŠ•ç¥¨ï¼ŒåŒæ—¶éœ€è¦è®°ä½è‡ªå·±çš„æŠ•ç¥¨å†å²&lt;/font&gt;ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å­¦ä¹ è€…ï¼ˆLearnerï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;å¦‚æœæœ‰è¶…è¿‡åŠæ•°æ¥å—è€…å°±æŸä¸ªæè®®è¾¾æˆäº†å…±è¯†ï¼Œé‚£ä¹ˆå­¦ä¹ è€…å°±éœ€è¦æ¥å—è¿™ä¸ªæè®®ï¼Œå¹¶å°±è¯¥æè®®ä½œå‡ºè¿ç®—ï¼Œç„¶åå°†è¿ç®—ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/up-890fa3212e8bf72886a595a34654918486c.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ºäº†å‡å°‘å®ç°è¯¥ç®—æ³•æ‰€éœ€çš„èŠ‚ç‚¹æ•°ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥èº«å…¼å¤šä¸ªè§’è‰²&lt;/font&gt;ã€‚å¹¶ä¸”ï¼Œä¸€ä¸ªææ¡ˆè¢«é€‰å®šéœ€è¦è¢«åŠæ•°ä»¥ä¸Šçš„ Acceptor æ¥å—ã€‚è¿™æ ·çš„è¯ï¼ŒBasic Paxos ç®—æ³•è¿˜&lt;font color=&#39;red&#39;&gt;å…·å¤‡å®¹é”™æ€§ï¼Œåœ¨å°‘äºä¸€åŠçš„èŠ‚ç‚¹å‡ºç°æ•…éšœæ—¶ï¼Œé›†ç¾¤ä»èƒ½æ­£å¸¸å·¥ä½œ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;multi-paxos-æ€æƒ³&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#multi-paxos-æ€æƒ³&#34;&gt;#&lt;/a&gt; Multi Paxos æ€æƒ³&lt;/h2&gt;
&lt;p&gt;Basic Paxos ç®—æ³•çš„ä»…èƒ½å°±å•ä¸ªå€¼è¾¾æˆå…±è¯†ï¼Œä¸ºäº†èƒ½å¤Ÿå¯¹ä¸€ç³»åˆ—çš„å€¼è¾¾æˆå…±è¯†ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ° Multi Paxos æ€æƒ³ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;âš ï¸&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼šMulti-Paxos åªæ˜¯ä¸€ç§æ€æƒ³ï¼Œè¿™ç§æ€æƒ³çš„æ ¸å¿ƒå°±æ˜¯&lt;font color=&#39;red&#39;&gt;é€šè¿‡å¤šä¸ª Basic Paxos å®ä¾‹å°±ä¸€ç³»åˆ—å€¼è¾¾æˆå…±è¯†&lt;/font&gt;ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒBasic Paxos æ˜¯ Multi-Paxos æ€æƒ³çš„æ ¸å¿ƒï¼ŒMulti-Paxos å°±æ˜¯å¤šæ‰§è¡Œå‡ æ¬¡ Basic Paxosã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç”±äºå…°ä¼¯ç‰¹æåˆ°çš„ Multi-Paxos æ€æƒ³ç¼ºå°‘ä»£ç å®ç°çš„å¿…è¦ç»†èŠ‚ (æ¯”å¦‚æ€ä¹ˆé€‰ä¸¾é¢†å¯¼è€…)ï¼Œæ‰€ä»¥&lt;font color=&#39;red&#39;&gt;åœ¨ç†è§£å’Œå®ç°ä¸Šæ¯”è¾ƒå›°éš¾&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œä¹Ÿä¸éœ€è¦æ‹…å¿ƒï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦è‡ªå·±å®ç°åŸºäº Multi-Paxos æ€æƒ³çš„å…±è¯†ç®—æ³•ï¼Œä¸šç•Œå·²ç»æœ‰äº†æ¯”è¾ƒå‡ºåçš„å®ç°ã€‚&lt;font color=&#39;red&#39;&gt;åƒ Raft ç®—æ³•å°±æ˜¯ Multi-Paxos çš„ä¸€ä¸ªå˜ç§ï¼Œå…¶ç®€åŒ–äº† Multi-Paxos çš„æ€æƒ³ï¼Œå˜å¾—æ›´å®¹æ˜“è¢«ç†è§£ä»¥åŠå·¥ç¨‹å®ç°ï¼Œå®é™…é¡¹ç›®ä¸­å¯ä»¥ä¼˜å…ˆè€ƒè™‘ Raft ç®—æ³•&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h1 id=&#34;raft-ç®—æ³•è¯¦è§£&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#raft-ç®—æ³•è¯¦è§£&#34;&gt;#&lt;/a&gt; Raft ç®—æ³•è¯¦è§£&lt;/h1&gt;
&lt;h2 id=&#34;èƒŒæ™¯-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#èƒŒæ™¯-2&#34;&gt;#&lt;/a&gt; èƒŒæ™¯&lt;/h2&gt;
&lt;p&gt;å½“ä»Šçš„æ•°æ®ä¸­å¿ƒå’Œåº”ç”¨ç¨‹åºåœ¨é«˜åº¦åŠ¨æ€çš„ç¯å¢ƒä¸­è¿è¡Œï¼Œä¸ºäº†åº”å¯¹é«˜åº¦åŠ¨æ€çš„ç¯å¢ƒï¼Œå®ƒä»¬é€šè¿‡é¢å¤–çš„æœåŠ¡å™¨è¿›è¡Œæ¨ªå‘æ‰©å±•ï¼Œå¹¶ä¸”æ ¹æ®éœ€æ±‚è¿›è¡Œæ‰©å±•å’Œæ”¶ç¼©ã€‚åŒæ—¶ï¼ŒæœåŠ¡å™¨å’Œç½‘ç»œæ•…éšœä¹Ÿå¾ˆå¸¸è§ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œ&lt;font color=&#39;red&#39;&gt;ç³»ç»Ÿå¿…é¡»åœ¨æ­£å¸¸æ“ä½œæœŸé—´å¤„ç†æœåŠ¡å™¨çš„ä¸Šä¸‹çº¿ã€‚å®ƒä»¬å¿…é¡»å¯¹å˜æ•…åšå‡ºååº”å¹¶åœ¨å‡ ç§’é’Ÿå†…è‡ªåŠ¨é€‚åº”&lt;/font&gt;ï¼›å¯¹å®¢æˆ·æ¥è¯´çš„è¯ï¼Œæ˜æ˜¾çš„ä¸­æ–­é€šå¸¸æ˜¯ä¸å¯æ¥å—çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¹¸è¿çš„æ˜¯ï¼Œ&lt;font color=&#39;red&#39;&gt;åˆ†å¸ƒå¼å…±è¯†&lt;/font&gt;å¯ä»¥å¸®åŠ©åº”å¯¹è¿™äº›æŒ‘æˆ˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ‹œå åº­å°†å†›é—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ‹œå åº­å°†å†›é—®é¢˜&#34;&gt;#&lt;/a&gt; æ‹œå åº­å°†å†›é—®é¢˜&lt;/h3&gt;
&lt;p&gt;åœ¨ä»‹ç»å…±è¯†ç®—æ³•ä¹‹å‰ï¼Œå…ˆä»‹ç»ä¸€ä¸ªç®€åŒ–ç‰ˆæ‹œå åº­å°†å†›çš„ä¾‹å­æ¥å¸®åŠ©ç†è§£å…±è¯†ç®—æ³•ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å‡è®¾å¤šä½æ‹œå åº­å°†å†›ä¸­æ²¡æœ‰å›å†›ï¼Œä¿¡ä½¿çš„ä¿¡æ¯å¯é ä½†æœ‰å¯èƒ½è¢«æš—æ€çš„æƒ…å†µä¸‹ï¼Œå°†å†›ä»¬å¦‚ä½•è¾¾æˆæ˜¯å¦è¦è¿›æ”»çš„ä¸€è‡´æ€§å†³å®šï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆå¤§è‡´å¯ä»¥ç†è§£æˆï¼š&lt;font color=&#39;red&#39;&gt;å…ˆåœ¨æ‰€æœ‰çš„å°†å†›ä¸­é€‰å‡ºä¸€ä¸ªå¤§å°†å†›ï¼Œç”¨æ¥åšå‡ºæ‰€æœ‰çš„å†³å®š&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¾‹å¦‚ä¸‹ï¼šå‡å¦‚ç°åœ¨ä¸€å…±æœ‰ 3 ä¸ªå°†å†› Aï¼ŒB å’Œ Cï¼Œæ¯ä¸ªå°†å†›éƒ½æœ‰ä¸€ä¸ªéšæœºæ—¶é—´çš„å€’è®¡æ—¶å™¨ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å‡è®¾ A å°†å†›çš„å€’è®¡æ—¶å…ˆç»“æŸï¼Œè¿™ä¸ªå°†å†›å°±æŠŠè‡ªå·±å½“æˆå¤§å°†å†›å€™é€‰äººï¼Œç„¶åæ´¾ä¿¡ä½¿ä¼ é€’é€‰ä¸¾æŠ•ç¥¨çš„ä¿¡æ¯ç»™å°†å†› B å’Œ Cï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœå°†å†› B å’Œ C è¿˜æ²¡æœ‰æŠŠè‡ªå·±å½“ä½œå€™é€‰äººï¼ˆè‡ªå·±çš„å€’è®¡æ—¶è¿˜æ²¡æœ‰ç»“æŸï¼‰ï¼Œå¹¶ä¸”æ²¡æœ‰æŠŠé€‰ä¸¾ç¥¨æŠ•ç»™å…¶ä»–äººï¼Œå®ƒä»¬å°±ä¼šæŠŠç¥¨æŠ•ç»™å°†å†› Aï¼›&lt;/li&gt;
&lt;li&gt;ä¿¡ä½¿å›åˆ°å°†å†› A æ—¶ï¼Œå®ƒçŸ¥é“è‡ªå·±æ”¶åˆ°äº†è¶³å¤Ÿçš„ç¥¨æ•°ï¼Œæˆä¸ºäº†å¤§å°†å†›ï¼Œæ­¤åæ˜¯å¦éœ€è¦è¿›æ”»å°±ç”±å¤§å°†å†› A å†³å®šï¼›&lt;/li&gt;
&lt;li&gt;ç„¶å A å°†å†›å†å»æ´¾ä¿¡ä½¿é€šçŸ¥å¦å¤–ä¸¤ä¸ªå°†å†›ï¼Œè‡ªå·±å·²ç»æˆä¸ºäº†å¤§å°†å†›ã€‚å¦‚æœä¸€æ®µæ—¶é—´è¿˜æ²¡æ”¶åˆ°å°†å†› B å’Œ C çš„å›å¤ï¼ˆä¿¡ä½¿å¯èƒ½ä¼šè¢«æš—æ€ï¼‰ï¼Œé‚£å°±å†é‡æ´¾ä¸€ä¸ªä¿¡ä½¿ï¼Œç›´åˆ°æ”¶åˆ°å›å¤ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å…±è¯†ç®—æ³•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å…±è¯†ç®—æ³•&#34;&gt;#&lt;/a&gt; å…±è¯†ç®—æ³•&lt;/h3&gt;
&lt;p&gt;å…±è¯†æ˜¯å¯å®¹é”™ç³»ç»Ÿä¸­çš„ä¸€ä¸ªåŸºæœ¬é—®é¢˜ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å³ä½¿é¢å¯¹æ•…éšœï¼ŒæœåŠ¡å™¨ä¹Ÿå¯ä»¥åœ¨å…±äº«çŠ¶æ€ä¸Šè¾¾æˆä¸€è‡´&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å…±è¯†ç®—æ³•å…è®¸&lt;font color=&#39;red&#39;&gt;ä¸€ç»„èŠ‚ç‚¹åƒä¸€ä¸ªæ•´ä½“ä¸€æ ·ä¸€èµ·å·¥ä½œï¼Œå³ä½¿å…¶ä¸­çš„ä¸€äº›èŠ‚ç‚¹å‡ºç°æ•…éšœä¹Ÿèƒ½å¤Ÿç»§ç»­å·¥ä½œä¸‹å»&lt;/font&gt;ï¼Œå…¶æ­£ç¡®æ€§ä¸»è¦æ˜¯æºäºå¤åˆ¶çŠ¶æ€æœºçš„æ€§è´¨ï¼šä¸€ç»„  &lt;code&gt;Server&lt;/code&gt;  çš„çŠ¶æ€æœºè®¡ç®—ç›¸åŒçŠ¶æ€çš„å‰¯æœ¬ï¼Œå³ä½¿æœ‰ä¸€éƒ¨åˆ†çš„  &lt;code&gt;Server&lt;/code&gt;  å®•æœºäº†ï¼Œå®ƒä»¬ä»ç„¶èƒ½å¤Ÿç»§ç»­è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/paxos-rsm-architecture.png&#34; alt=&#34;rsm-architecture.png&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å¤åˆ¶çŠ¶æ€æœºæ¶æ„&lt;/center&gt;
&lt;p&gt;ä¸€èˆ¬é€šè¿‡ä½¿ç”¨&lt;font color=&#39;red&#39;&gt;å¤åˆ¶æ—¥å¿—&lt;/font&gt;æ¥å®ç°å¤åˆ¶çŠ¶æ€æœºã€‚æ¯ä¸ª  &lt;code&gt;Server&lt;/code&gt;  å­˜å‚¨ç€ä¸€ä»½åŒ…æ‹¬å‘½ä»¤åºåˆ—çš„æ—¥å¿—æ–‡ä»¶ï¼ŒçŠ¶æ€æœºä¼šæŒ‰é¡ºåºæ‰§è¡Œè¿™äº›å‘½ä»¤ã€‚å› ä¸ºæ¯ä¸ªæ—¥å¿—åŒ…å«ç›¸åŒçš„å‘½ä»¤ï¼Œå¹¶ä¸”é¡ºåºä¹Ÿç›¸åŒï¼Œæ‰€ä»¥æ¯ä¸ªçŠ¶æ€æœºå¤„ç†ç›¸åŒçš„å‘½ä»¤åºåˆ—ã€‚ç”±äºçŠ¶æ€æœºæ˜¯ç¡®å®šæ€§çš„ï¼Œæ‰€ä»¥å¤„ç†ç›¸åŒçš„çŠ¶æ€ï¼Œå¾—åˆ°ç›¸åŒçš„è¾“å‡ºã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œ&lt;font color=&#39;red&#39;&gt;å…±è¯†ç®—æ³•çš„å·¥ä½œå°±æ˜¯ä¿æŒå¤åˆ¶æ—¥å¿—çš„ä¸€è‡´æ€§&lt;/font&gt;ã€‚æœåŠ¡å™¨ä¸Šçš„å…±è¯†æ¨¡å—ä»å®¢æˆ·ç«¯æ¥æ”¶å‘½ä»¤å¹¶å°†å®ƒä»¬æ·»åŠ åˆ°æ—¥å¿—ä¸­ã€‚å®ƒä¸å…¶ä»–æœåŠ¡å™¨ä¸Šçš„å…±è¯†æ¨¡å—é€šä¿¡ï¼Œä»¥ç¡®ä¿å³ä½¿æŸäº›æœåŠ¡å™¨å‘ç”Ÿæ•…éšœã€‚æ¯ä¸ªæ—¥å¿—æœ€ç»ˆåŒ…å«ç›¸åŒé¡ºåºçš„è¯·æ±‚ã€‚ä¸€æ—¦å‘½ä»¤è¢«æ­£ç¡®åœ°å¤åˆ¶ï¼Œå®ƒä»¬å°±è¢«ç§°ä¸ºå·²æäº¤ã€‚æ¯ä¸ªæœåŠ¡å™¨çš„çŠ¶æ€æœºæŒ‰ç…§æ—¥å¿—é¡ºåºå¤„ç†å·²æäº¤çš„å‘½ä»¤ï¼Œå¹¶å°†è¾“å‡ºè¿”å›ç»™å®¢æˆ·ç«¯ã€‚å› æ­¤ï¼Œè¿™äº›æœåŠ¡å™¨å½¢æˆäº†ä¸€ä¸ªå•ä¸€çš„ã€é«˜åº¦å¯é çš„çŠ¶æ€æœºã€‚&lt;/p&gt;
&lt;p&gt;é€‚ç”¨äºå®é™…ç³»ç»Ÿçš„å…±è¯†ç®—æ³•é€šå¸¸å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®‰å…¨ã€‚ç¡®ä¿åœ¨éæ‹œå åº­æ¡ä»¶ï¼ˆä¹Ÿå°±æ˜¯ä¸Šæ–‡ä¸­æåˆ°çš„ç®€æ˜“ç‰ˆæ‹œå åº­ï¼‰ä¸‹çš„å®‰å…¨æ€§ï¼ŒåŒ…æ‹¬ç½‘ç»œå»¶è¿Ÿã€åˆ†åŒºã€åŒ…ä¸¢å¤±ã€å¤åˆ¶å’Œé‡æ–°æ’åºã€‚&lt;/li&gt;
&lt;li&gt;é«˜å¯ç”¨ã€‚åªè¦å¤§å¤šæ•°æœåŠ¡å™¨éƒ½æ˜¯å¯æ“ä½œçš„ï¼Œå¹¶ä¸”å¯ä»¥ç›¸äº’é€šä¿¡ï¼Œä¹Ÿå¯ä»¥ä¸å®¢æˆ·ç«¯è¿›è¡Œé€šä¿¡ï¼Œé‚£ä¹ˆè¿™äº›æœåŠ¡å™¨å°±å¯ä»¥çœ‹ä½œå®Œå…¨åŠŸèƒ½å¯ç”¨çš„ã€‚å› æ­¤ï¼Œä¸€ä¸ªå…¸å‹çš„ç”±äº”å°æœåŠ¡å™¨ç»„æˆçš„é›†ç¾¤å¯ä»¥å®¹å¿ä»»ä½•ä¸¤å°æœåŠ¡å™¨ç«¯æ•…éšœã€‚å‡è®¾æœåŠ¡å™¨å› åœæ­¢è€Œå‘ç”Ÿæ•…éšœï¼›å®ƒä»¬ç¨åå¯èƒ½ä¼šä»ç¨³å®šå­˜å‚¨ä¸Šçš„çŠ¶æ€ä¸­æ¢å¤å¹¶é‡æ–°åŠ å…¥é›†ç¾¤ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€è‡´æ€§ä¸ä¾èµ–æ—¶åºã€‚é”™è¯¯çš„æ—¶é’Ÿå’Œæç«¯çš„æ¶ˆæ¯å»¶è¿Ÿï¼Œåœ¨æœ€åçš„æƒ…å†µä¸‹ä¹Ÿåªä¼šé€ æˆå¯ç”¨æ€§é—®é¢˜ï¼Œè€Œä¸ä¼šäº§ç”Ÿä¸€è‡´æ€§é—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨é›†ç¾¤ä¸­å¤§å¤šæ•°æœåŠ¡å™¨å“åº”ï¼Œå‘½ä»¤å°±å¯ä»¥å®Œæˆï¼Œä¸ä¼šè¢«å°‘æ•°è¿è¡Œç¼“æ…¢çš„æœåŠ¡å™¨æ¥å½±å“æ•´ä½“ç³»ç»Ÿæ€§èƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;raft-ç®—æ³•åŸºç¡€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#raft-ç®—æ³•åŸºç¡€&#34;&gt;#&lt;/a&gt; Raft ç®—æ³•åŸºç¡€&lt;/h2&gt;
&lt;p&gt;Raft ç®—æ³•æ˜¯ä¸€ç§ **&lt;font color=&#39;#B32015&#39;&gt;é€šè¿‡å¯¹æ—¥å¿—å¤åˆ¶ç®¡ç†æ¥è¾¾åˆ°é›†ç¾¤èŠ‚ç‚¹ä¸€è‡´æ€§&lt;/font&gt;** çš„ç®—æ³•ã€‚è¿™ä¸ªæ—¥å¿—å¤åˆ¶ç®¡ç†å‘ç”Ÿåœ¨é›†ç¾¤èŠ‚ç‚¹ä¸­çš„ Leader ä¸ Followers ä¹‹é—´ã€‚&lt;font color=&#39;red&#39;&gt;Raft é€šè¿‡é€‰ä¸¾å‡ºçš„ Leader èŠ‚ç‚¹è´Ÿè´£ç®¡ç†æ—¥å¿—å¤åˆ¶è¿‡ç¨‹ï¼Œä»¥å®ç°å„ä¸ªèŠ‚ç‚¹é—´æ•°æ®çš„ä¸€è‡´æ€§&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;èŠ‚ç‚¹ç±»å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#èŠ‚ç‚¹ç±»å‹&#34;&gt;#&lt;/a&gt; èŠ‚ç‚¹ç±»å‹&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ª Raft é›†ç¾¤åŒ…æ‹¬è‹¥å¹²æœåŠ¡å™¨ï¼Œåœ¨ä»»æ„çš„æ—¶é—´ï¼Œæ¯ä¸ªæœåŠ¡å™¨ä¸€å®šä¼šå¤„äºä»¥ä¸‹&lt;font color=&#39;red&#39;&gt;ä¸‰ä¸ªçŠ¶æ€&lt;/font&gt;ä¸­çš„ä¸€ä¸ªï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Leader&lt;/code&gt; ï¼šè´Ÿè´£å‘èµ·å¿ƒè·³ï¼›å“åº”å®¢æˆ·ç«¯çš„è¯»å†™è¯·æ±‚ï¼›åˆ›å»ºã€åŒæ­¥ï¼ˆå¤åˆ¶ï¼‰æ—¥å¿—ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Candidate&lt;/code&gt; ï¼šLeader é€‰ä¸¾çš„å€™é€‰äººï¼Œç”± Follower è½¬åŒ–è€Œæ¥ï¼›å‘èµ·æŠ•ç¥¨å‚ä¸ç«é€‰ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Follower&lt;/code&gt; ï¼šå¯ä»¥å¤„ç†å®¢æˆ·ç«¯çš„è¯»è¯·æ±‚ï¼›æ¥å— Leader çš„å¿ƒè·³ï¼›åŒæ­¥æ¥è‡ªäº Leader çš„æ—¥å¿—ï¼›å½“æ¥æ”¶åˆ°å…¶å®ƒ Candidate çš„æŠ•ç¥¨è¯·æ±‚åï¼Œå¯ä»¥è¿›è¡ŒæŠ•ç¥¨ï¼›å½“ Leader æŒ‚äº†åï¼Œä¼šè½¬å˜ä¸º Candidate å‘èµ· Leader é€‰ä¸¾ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨æ­£å¸¸çš„æƒ…å†µä¸‹ï¼Œåªæœ‰ä¸€ä¸ªæœåŠ¡å™¨æ˜¯ Leaderï¼Œå‰©ä¸‹çš„æœåŠ¡å™¨æ˜¯ Followerã€‚Follower æ˜¯è¢«åŠ¨çš„ï¼Œå®ƒä»¬ä¸ä¼šå‘é€ä»»ä½•è¯·æ±‚ï¼Œåªæ˜¯å“åº”æ¥è‡ª Leader å’Œ Candidate çš„è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/paxos-server-state.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä»»æœŸterm&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»»æœŸterm&#34;&gt;#&lt;/a&gt; ä»»æœŸï¼ˆtermï¼‰&lt;/h3&gt;
&lt;p&gt;å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ&lt;font color=&#39;red&#39;&gt;raft ç®—æ³•å°†æ—¶é—´åˆ’åˆ†ä¸ºä»»æ„é•¿åº¦çš„ä»»æœŸï¼ˆtermï¼‰ï¼Œä»»æœŸç”¨è¿ç»­çš„æ•°å­—è¡¨ç¤ºï¼Œçœ‹ä½œå½“å‰ term å·&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯ä¸€ä¸ªä»»æœŸçš„å¼€å§‹éƒ½æ˜¯ä¸€æ¬¡é€‰ä¸¾ï¼Œåœ¨é€‰ä¸¾å¼€å§‹æ—¶ï¼Œä¸€ä¸ªæˆ–å¤šä¸ª Candidate ä¼šå°è¯•æˆä¸º Leaderã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸€ä¸ª Candidate èµ¢å¾—äº†é€‰ä¸¾ï¼Œå®ƒå°±ä¼šåœ¨è¯¥ä»»æœŸå†…æ‹…ä»» Leaderã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰é€‰å‡º Leaderï¼Œå°†ä¼šå¼€å¯å¦ä¸€ä¸ªä»»æœŸï¼Œå¹¶ç«‹åˆ»å¼€å§‹ä¸‹ä¸€æ¬¡é€‰ä¸¾ã€‚ã€t3ã€‘&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;raft ç®—æ³•ä¿è¯åœ¨ç»™å®šçš„ä¸€ä¸ªä»»æœŸæœ€å°‘è¦æœ‰ä¸€ä¸ª Leader&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»»æœŸè§„åˆ™ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šå­˜å‚¨å½“å‰çš„ term å·ï¼Œå½“æœåŠ¡å™¨ä¹‹é—´è¿›è¡Œé€šä¿¡æ—¶ä¼šäº¤æ¢å½“å‰çš„ term å·ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœæœ‰æœåŠ¡å™¨å‘ç°è‡ªå·±çš„ term å·æ¯”å…¶ä»–äººå°ï¼Œé‚£ä¹ˆä»–ä¼šæ›´æ–°åˆ°è¾ƒå¤§çš„ term å€¼ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸€ä¸ª Candidate æˆ–è€… Leader å‘ç°è‡ªå·±çš„ term è¿‡æœŸäº†ï¼Œä»–ä¼šç«‹å³é€€å›æˆ Followerï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸€å°æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚çš„ term å·æ˜¯è¿‡æœŸçš„ï¼Œé‚£ä¹ˆå®ƒä¼šæ‹’ç»æ­¤æ¬¡è¯·æ±‚ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/paxos-term.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ—¥å¿—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ—¥å¿—&#34;&gt;#&lt;/a&gt; æ—¥å¿—&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;entry&lt;/code&gt;  ï¼šæ¯ä¸€ä¸ªäº‹ä»¶æˆä¸º entryï¼Œåªæœ‰ Leader å¯ä»¥åˆ›å»º entryã€‚entry çš„å†…å®¹ä¸º  &lt;code&gt;&amp;lt;term,index,cmd&amp;gt;&lt;/code&gt;  å…¶ä¸­ cmd æ˜¯å¯ä»¥åº”ç”¨åˆ°çŠ¶æ€æœºçš„æ“ä½œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;log&lt;/code&gt;  ï¼š&lt;font color=&#39;red&#39;&gt;ç”± entry æ„æˆçš„æ•°ç»„&lt;/font&gt;ï¼Œæ¯ä¸€ä¸ª entry éƒ½æœ‰ä¸€ä¸ªè¡¨æ˜è‡ªå·±åœ¨ log ä¸­çš„ indexã€‚åªæœ‰ Leader æ‰å¯ä»¥æ”¹å˜å…¶ä»–èŠ‚ç‚¹çš„ logã€‚entry æ€»æ˜¯å…ˆè¢« Leader æ·»åŠ åˆ°è‡ªå·±çš„ log æ•°ç»„ä¸­ï¼Œç„¶åå†å‘èµ·å…±è¯†è¯·æ±‚ï¼Œè·å¾—åŒæ„åæ‰ä¼šè¢« Leader æäº¤ç»™çŠ¶æ€æœºã€‚Follower åªèƒ½ä» Leader è·å–æ–°æ—¥å¿—å’Œå½“å‰çš„ commitIndexï¼Œç„¶åæŠŠå¯¹åº”çš„ entry åº”ç”¨åˆ°è‡ªå·±çš„çŠ¶æ€æœºä¸­ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;leader-é€‰ä¸¾&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#leader-é€‰ä¸¾&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸLeader é€‰ä¸¾&lt;/mark&gt;&lt;/h2&gt;
&lt;p&gt;Raft ç®—æ³•ä½¿ç”¨&lt;font color=&#39;red&#39;&gt;å¿ƒè·³æœºåˆ¶&lt;/font&gt;æ¥è§¦å‘é›†ç¾¤ä¸­ Leader çš„é€‰ä¸¾ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸€å°æœåŠ¡å™¨èƒ½å¤Ÿæ”¶åˆ°æ¥è‡ª Leader æˆ–è€… Candidate çš„æœ‰æ•ˆä¿¡æ¯ï¼Œé‚£ä¹ˆå®ƒä¼šä¸€ç›´ä¿æŒä¸º Follower çŠ¶æ€ï¼Œå¹¶ä¸”åˆ·æ–°è‡ªå·±çš„ electionElapsedï¼ˆé€‰ä¸¾å·²ç”¨æ—¶é—´ï¼‰ï¼Œé‡æ–°è®¡æ—¶ã€‚&lt;/p&gt;
&lt;p&gt;Leader ä¼šå‘æ‰€æœ‰çš„ Follower å‘¨æœŸæ€§å‘é€å¿ƒè·³æ¥ä¿è¯è‡ªå·±çš„ Leader åœ°ä½ã€‚&lt;font color=&#39;red&#39;&gt;å¦‚æœä¸€ä¸ª Follower åœ¨ä¸€ä¸ªå¿ƒè·³è¶…æ—¶å‘¨æœŸå†…æ²¡æœ‰æ”¶åˆ° Leader çš„å¿ƒè·³ä¿¡æ¯ï¼Œåˆ™è®¤ä¸º Leader æŒ‚äº†ï¼Œè¿™å«åš&lt;strong&gt;é€‰ä¸¾è¶…æ—¶&lt;/strong&gt;&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å¼€å§‹æ–°çš„é€‰ä¸¾ï¼ŒFollower ä¼šè‡ªå¢è‡ªå·±çš„ term å·ï¼Œå¹¶ä¸”è½¬æ¢çŠ¶æ€ä¸º Candidateã€‚ç„¶åä»–ä¼šå‘æ‰€æœ‰èŠ‚ç‚¹å‘èµ· RequestVoteRPC è¯·æ±‚ï¼Œ Candidate çš„çŠ¶æ€ä¼šæŒç»­åˆ°ä»¥ä¸‹æƒ…å†µå‘ç”Ÿï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;è¯¥èŠ‚ç‚¹èµ¢å¾—é€‰ä¸¾&lt;/font&gt;ã€‚æ¡ä»¶æ˜¯è¯¥ Candidate &lt;font color=&#39;red&#39;&gt;åœ¨ä¸€ä¸ªä»»æœŸå†…ï¼Œæ”¶åˆ°äº†æ¥è‡ªé›†ç¾¤å†…çš„å¤šæ•°é€‰ç¥¨ &lt;code&gt;ï¼ˆN/2+1ï¼‰&lt;/code&gt; &lt;/font&gt;ï¼Œå®ƒå°±å¯ä»¥æˆä¸º Leaderã€‚ç„¶åä¼šå°†æ¶ˆæ¯å¹¿æ’­ç»™æ‰€æœ‰å…¶å®ƒèŠ‚ç‚¹ï¼Œé€šçŸ¥å¤§å®¶æˆ‘æ˜¯æ–°çš„ Leader äº†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;å…¶ä»–èŠ‚ç‚¹èµ¢å¾—é€‰ä¸¾&lt;/font&gt;ã€‚åœ¨è¯¥ Candidate ç­‰å¾…é€‰ç¥¨çš„æ—¶å€™ï¼Œå®ƒå¯èƒ½&lt;font color=&#39;red&#39;&gt;æ”¶åˆ°å…¶ä»–èŠ‚ç‚¹å£°æ˜è‡ªå·±æ˜¯ Leader çš„å¿ƒè·³&lt;/font&gt;ï¼Œæ­¤æ—¶æœ‰ä¸¤ç§æƒ…å†µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å¯¹æ–¹çš„ term å· â‰¥ è‡ªå·±çš„ term å·ï¼Œè¯´æ˜å¯¹æ–¹å·²ç»æˆä¸º Leaderï¼Œåˆ™è‡ªå·±å›é€€ä¸º Follower&lt;/font&gt; ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹æ–¹çš„ term å· ï¼œ è‡ªå·±çš„ term å·ï¼Œé‚£ä¹ˆä¼šæ‹’ç»è¯¥è¯·æ±‚ï¼Œå¹¶è®©å¯¹æ–¹èŠ‚ç‚¹æ›´æ–° term ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;ä¸€è½®é€‰ä¸¾ç»“æŸæ— äººèƒœå‡ºï¼Œé‡æ–°é€‰ä¸¾&lt;/font&gt;ã€‚ç”±äºå¯èƒ½&lt;font color=&#39;red&#39;&gt;åŒä¸€æ—¶åˆ»å‡ºç°å¤šä¸ª Candidateï¼Œå¯¼è‡´æ²¡æœ‰ Candidate è·å¾—å¤§å¤šæ•°é€‰ç¥¨ï¼ˆå³ï¼šæ²¡æœ‰æ”¶åˆ°è¿‡åŠé€‰ç¥¨ï¼Œä¹Ÿæ²¡æœ‰æ”¶åˆ°æ–° Leader é€šçŸ¥ï¼‰&lt;/font&gt;ã€‚å¦‚æœæ²¡æœ‰å…¶ä»–æ‰‹æ®µæ¥é‡æ–°åˆ†é…é€‰ç¥¨çš„è¯ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šæ— é™é‡å¤ä¸‹å»ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;raft ä½¿ç”¨äº† **&lt;font color=&#39;red&#39;&gt;éšæœºçš„é€‰ä¸¾è¶…æ—¶æ—¶é—´&lt;/font&gt;**ï¼ˆ &lt;code&gt;randomized election timeouts   &lt;/code&gt; ï¼‰æ¥é¿å…ä¸Šè¿°æƒ…å†µã€‚&lt;font color=&#39;red&#39;&gt;å…¶ä¼šä¸ºè¿™äº› Follower éšæœºåˆ†é…ä¸€ä¸ªé€‰ä¸¾å‘èµ·æ—¶é—´ election timeoutï¼Œåªæœ‰åˆ°è¾¾äº† election timeout æ—¶é—´çš„ Follower æ‰èƒ½è½¬å˜ä¸º candidateï¼Œå¦åˆ™ç­‰å¾…&lt;/font&gt;ã€‚é‚£ä¹ˆ election timeout è¾ƒå°çš„ Follower åˆ™ä¼šè½¬å˜ä¸º candidate ç„¶åå…ˆå‘èµ·é€‰ä¸¾ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å…¶ä¼šä¼˜å…ˆè·å–åˆ°è¿‡åŠé€‰ç¥¨æˆä¸ºæ–°çš„ leaderã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ—¥å¿—å¤åˆ¶æ•°æ®åŒæ­¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ—¥å¿—å¤åˆ¶æ•°æ®åŒæ­¥&#34;&gt;#&lt;/a&gt; æ—¥å¿—å¤åˆ¶ï¼ˆæ•°æ®åŒæ­¥ï¼‰&lt;/h2&gt;
&lt;p&gt;ä¸€æ—¦é€‰å‡ºäº† Leaderï¼Œå®ƒå°±å¼€å§‹æ¥å—å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚&lt;font color=&#39;red&#39;&gt;æ¯ä¸€ä¸ªå®¢æˆ·ç«¯çš„è¯·æ±‚éƒ½åŒ…å«ä¸€æ¡éœ€è¦è¢«å¤åˆ¶çŠ¶æ€æœºï¼ˆ &lt;code&gt;Replicated State Machine&lt;/code&gt; ï¼‰æ‰§è¡Œçš„å‘½ä»¤&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Leader æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åï¼Œä¼šç”Ÿæˆä¸€ä¸ª entryï¼ŒåŒ…å« &lt;code&gt;&amp;lt;index,term,cmd&amp;gt;&lt;/code&gt; ã€‚å°†è¿™ä¸ª entry æ·»åŠ åˆ°è‡ªå·±çš„æ—¥å¿—æœ«å°¾åï¼Œ&lt;font color=&#39;red&#39;&gt;å‘æ‰€æœ‰çš„èŠ‚ç‚¹å¹¿æ’­è¯¥ entryï¼Œè¦æ±‚å…¶ä»–æœåŠ¡å™¨å¤åˆ¶è¿™æ¡ entry&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¦‚æœ Follower æ¥å—è¯¥ entryï¼Œåˆ™ä¼šå°† entry æ·»åŠ åˆ°è‡ªå·±çš„æ—¥å¿—åé¢&lt;/font&gt;ï¼ŒåŒæ—¶è¿”å›ç»™ Leader åŒæ„ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœ Leader æ”¶åˆ°äº†å¤šæ•°çš„æˆåŠŸå“åº”ï¼Œ&lt;font color=&#39;red&#39;&gt;Leader ä¼šå°†è¿™ä¸ª entry åº”ç”¨åˆ°è‡ªå·±çš„çŠ¶æ€æœºä¸­&lt;/font&gt;ï¼Œä¹‹åå¯ä»¥è®¤ä¸ºè¿™ä¸ª entry æ˜¯ committed çš„ï¼Œå¹¶ä¸”å‘å®¢æˆ·ç«¯è¿”å›æ‰§è¡Œç»“æœã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;raft ä¿è¯ä»¥ä¸‹ä¸¤ä¸ªæ€§è´¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ä¸¤ä¸ªæ—¥å¿—é‡Œï¼Œæœ‰ä¸¤ä¸ª entry æ‹¥æœ‰ç›¸åŒçš„ index å’Œ termï¼Œé‚£ä¹ˆå®ƒä»¬ä¸€å®šæœ‰ç›¸åŒçš„ cmd&lt;/li&gt;
&lt;li&gt;åœ¨ä¸¤ä¸ªæ—¥å¿—é‡Œï¼Œæœ‰ä¸¤ä¸ª entry æ‹¥æœ‰ç›¸åŒçš„ index å’Œ termï¼Œé‚£ä¹ˆå®ƒä»¬å‰é¢çš„ entry ä¹Ÿä¸€å®šç›¸åŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;é€šè¿‡ â€œä»…æœ‰ Leader å¯ä»¥ç”Ÿæˆ entryâ€ æ¥ä¿è¯ç¬¬ä¸€ä¸ªæ€§è´¨ï¼Œç¬¬äºŒä¸ªæ€§è´¨éœ€è¦ **&lt;font color=&#39;red&#39;&gt;ä¸€è‡´æ€§æ£€æŸ¥&lt;/font&gt;** æ¥è¿›è¡Œä¿è¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒLeader å’Œ Follower çš„æ—¥å¿—ä¿æŒä¸€è‡´ï¼Œç„¶åï¼ŒLeader çš„å´©æºƒä¼šå¯¼è‡´æ—¥å¿—ä¸ä¸€æ ·ï¼Œè¿™æ ·ä¸€è‡´æ€§æ£€æŸ¥ä¼šäº§ç”Ÿå¤±è´¥ã€‚&lt;font color=&#39;red&#39;&gt;Leader é€šè¿‡å¼ºåˆ¶ Follower å¤åˆ¶è‡ªå·±çš„æ—¥å¿—æ¥å¤„ç†æ—¥å¿—çš„ä¸ä¸€è‡´&lt;/font&gt;ã€‚è¿™å°±æ„å‘³ç€ï¼Œåœ¨ Follower ä¸Šçš„å†²çªæ—¥å¿—ä¼šè¢« Leader çš„æ—¥å¿—è¦†ç›–ã€‚ä¸ºäº†ä½¿å¾— Follower çš„æ—¥å¿—å’Œ Leader çš„æ—¥å¿—ä¸€è‡´ï¼ŒLeader éœ€è¦æ‰¾åˆ° Follower ä¸å®ƒæ—¥å¿—ä¸€è‡´çš„åœ°æ–¹ï¼Œç„¶ååˆ é™¤ Follower åœ¨è¯¥ä½ç½®ä¹‹åçš„æ—¥å¿—ï¼Œæ¥ç€æŠŠ Leader è‡ªå·±åœ¨è¿™ä¹‹åçš„æ—¥å¿—å‘é€ç»™ Followerã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;Leader ç»™æ¯ä¸€ä¸ª Follower ç»´æŠ¤äº†ä¸€ä¸ª  &lt;code&gt;nextIndex&lt;/code&gt; ï¼Œå®ƒè¡¨ç¤º Leader å°†è¦å‘é€ç»™è¯¥ Follower çš„ä¸‹ä¸€æ¡æ—¥å¿—æ¡ç›®çš„ç´¢å¼•&lt;/font&gt;ã€‚å½“ä¸€ä¸ª Leader å¼€å§‹æŒæƒæ—¶ï¼Œå®ƒä¼šå°†  &lt;code&gt;nextIndex&lt;/code&gt;  åˆå§‹åŒ–ä¸ºå®ƒçš„æœ€æ–°çš„æ—¥å¿—æ¡ç›®ç´¢å¼•æ•° + 1ã€‚å¦‚æœä¸€ä¸ª Follower çš„æ—¥å¿—å’Œ Leader çš„ä¸ä¸€è‡´ï¼Œ &lt;code&gt;AppendEntries&lt;/code&gt;  ä¸€è‡´æ€§æ£€æŸ¥ä¼šåœ¨ä¸‹ä¸€æ¬¡  &lt;code&gt;AppendEntries RPC&lt;/code&gt;  æ—¶è¿”å›å¤±è´¥ã€‚åœ¨å¤±è´¥ä¹‹åï¼ŒLeader ä¼šå°†  &lt;code&gt;nextIndex&lt;/code&gt;  é€’å‡ç„¶åé‡è¯•  &lt;code&gt;AppendEntries RPC&lt;/code&gt; ã€‚&lt;font color=&#39;red&#39;&gt;æœ€ç»ˆ  &lt;code&gt;nextIndex&lt;/code&gt;  ä¼šè¾¾åˆ°ä¸€ä¸ª Leader å’Œ Follower æ—¥å¿—ä¸€è‡´çš„åœ°æ–¹&lt;/font&gt;ã€‚è¿™æ—¶ï¼Œ &lt;code&gt;AppendEntries&lt;/code&gt;  ä¼šè¿”å›æˆåŠŸï¼ŒFollower ä¸­å†²çªçš„æ—¥å¿—æ¡ç›®éƒ½è¢«ç§»é™¤äº†ï¼Œå¹¶ä¸”æ·»åŠ æ‰€ç¼ºå°‘çš„ä¸Šäº† Leader çš„æ—¥å¿—æ¡ç›®ã€‚&lt;font color=&#39;red&#39;&gt;ä¸€æ—¦  &lt;code&gt;AppendEntries&lt;/code&gt;  è¿”å›æˆåŠŸï¼ŒFollower å’Œ Leader çš„æ—¥å¿—å°±ä¸€è‡´äº†ï¼Œè¿™æ ·çš„çŠ¶æ€ä¼šä¿æŒåˆ°è¯¥ä»»æœŸç»“æŸ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;leader-å®•æœºå¤„ç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#leader-å®•æœºå¤„ç†&#34;&gt;#&lt;/a&gt; Leader å®•æœºå¤„ç†&lt;/h2&gt;
&lt;h3 id=&#34;è¯·æ±‚åˆ°è¾¾å‰-leader-æŒ‚äº†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¯·æ±‚åˆ°è¾¾å‰-leader-æŒ‚äº†&#34;&gt;#&lt;/a&gt; è¯·æ±‚åˆ°è¾¾å‰ Leader æŒ‚äº†&lt;/h3&gt;
&lt;p&gt;Leader åœ¨ client å‘é€å†™æ“ä½œè¯·æ±‚åˆ°è¾¾ä¹‹å‰å°±æŒ‚äº†ï¼Œå› ä¸ºè¯·æ±‚è¿˜æ²¡æœ‰åˆ°è¾¾é›†ç¾¤ï¼Œæ‰€ä»¥è¿™ä¸ªè¯·æ±‚å¯¹äºé›†ç¾¤æ¥è¯´å°±æ²¡æœ‰å­˜åœ¨è¿‡ï¼Œ&lt;font color=&#39;red&#39;&gt;å¯¹é›†ç¾¤æ•°æ®çš„ä¸€è‡´æ€§æ²¡æœ‰ä»»ä½•å½±å“&lt;/font&gt;ã€‚Leader æŒ‚äº†ä¹‹åï¼Œ&lt;font color=&#39;red&#39;&gt;ä¼šé€‰ä¸¾äº§ç”Ÿæ–°çš„ Leader&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äº Stale Leader ï¼ˆæ—§é¢†å¯¼ï¼‰å¹¶æœªå‘ client å‘é€æˆåŠŸå¤„ç†å“åº”ï¼Œæ‰€ä»¥&lt;font color=&#39;red&#39;&gt; client ä¼šé‡æ–°å‘é€è¯¥å†™æ“ä½œè¯·æ±‚&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æœªå¼€å§‹åŒæ­¥æ•°æ®å‰-leader-æŒ‚äº†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æœªå¼€å§‹åŒæ­¥æ•°æ®å‰-leader-æŒ‚äº†&#34;&gt;#&lt;/a&gt; æœªå¼€å§‹åŒæ­¥æ•°æ®å‰ Leader æŒ‚äº†&lt;/h3&gt;
&lt;p&gt;client å‘é€å†™æ“ä½œè¯·æ±‚ç»™ Leaderï¼Œè¯·æ±‚åˆ°è¾¾ Leader åï¼ŒLeader è¿˜æ²¡æœ‰å¼€å§‹å‘ Followers å‘å‡ºæ•°æ®å°±æŒ‚äº†ã€‚è¿™æ—¶é›†ç¾¤ä¼š&lt;font color=&#39;red&#39;&gt;é€‰ä¸¾äº§ç”Ÿæ–°çš„ Leader&lt;/font&gt;ã€‚&lt;font color=&#39;red&#39;&gt;Stale Leader é‡å¯åä¼šä½œä¸º Follower é‡æ–°åŠ å…¥é›†ç¾¤ï¼Œå¹¶åŒæ­¥æ–° Leader ä¸­çš„æ•°æ®ä»¥ä¿è¯æ•°æ®ä¸€è‡´æ€§&lt;/font&gt;ã€‚ä¹‹å‰æ¥æ”¶åˆ° client çš„æ•°æ®è¢«ä¸¢å¼ƒã€‚&lt;/p&gt;
&lt;p&gt;ç”±äº Stale Leader å¹¶æœªå‘ client å‘é€æˆåŠŸå¤„ç†å“åº”ï¼Œæ‰€ä»¥&lt;font color=&#39;red&#39;&gt; client ä¼šé‡æ–°å‘é€è¯¥å†™æ“ä½œè¯·æ±‚&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åŒæ­¥å®Œéƒ¨åˆ†å-leader-æŒ‚äº†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŒæ­¥å®Œéƒ¨åˆ†å-leader-æŒ‚äº†&#34;&gt;#&lt;/a&gt; åŒæ­¥å®Œéƒ¨åˆ†å Leader æŒ‚äº†&lt;/h3&gt;
&lt;p&gt;client å‘é€å†™æ“ä½œè¯·æ±‚ç»™ Leaderï¼ŒLeader æ¥æ”¶å®Œæ•°æ®åå‘æ‰€æœ‰ Follower å‘é€æ•°æ®ã€‚åœ¨éƒ¨åˆ† Follower æ¥æ”¶åˆ°æ•°æ®å Leader æŒ‚äº†ã€‚ç”±äº Leader æŒ‚äº†ï¼Œå°±&lt;font color=&#39;red&#39;&gt;ä¼šå‘èµ·æ–°çš„ Leader é€‰ä¸¾&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;è‹¥ Leader äº§ç”Ÿäºå·²å®Œæˆæ•°æ®æ¥æ”¶çš„ Follower&lt;/font&gt;ï¼Œå…¶ä¼šç»§ç»­å°†å‰é¢æ¥æ”¶åˆ°çš„å†™æ“ä½œè¯·æ±‚è½¬æ¢ä¸ºæ—¥å¿—ï¼Œå¹¶å†™å…¥åˆ°æœ¬åœ°çŠ¶æ€æœºï¼Œå¹¶å‘æ‰€æœ‰ Flollower å‘å‡ºè¯¢é—®ã€‚åœ¨è·å–è¿‡åŠåŒæ„å“åº”åä¼šå‘æ‰€æœ‰ Followers å‘é€ commit æŒ‡ä»¤ï¼ŒåŒæ—¶å‘ client è¿›è¡Œå“åº”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;è‹¥ Leader äº§ç”Ÿäºå°šæœªå®Œæˆæ•°æ®æ¥æ”¶çš„ Follower&lt;/font&gt;ï¼Œé‚£ä¹ˆåŸæ¥å·²å®Œæˆæ¥æ”¶çš„ Follower åˆ™ä¼šæ”¾å¼ƒæ›¾æ¥æ”¶åˆ°çš„æ•°æ®ã€‚ç”±äº client æ²¡æœ‰æ¥æ”¶åˆ°å“åº”ï¼Œæ‰€ä»¥ client ä¼šé‡æ–°å‘é€è¯¥å†™æ“ä½œè¯·æ±‚ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;commit-é€šçŸ¥å‘å‡ºå-leader-æŒ‚äº†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#commit-é€šçŸ¥å‘å‡ºå-leader-æŒ‚äº†&#34;&gt;#&lt;/a&gt; commit é€šçŸ¥å‘å‡ºå Leader æŒ‚äº†&lt;/h3&gt;
&lt;p&gt;client å‘é€å†™æ“ä½œè¯·æ±‚ç»™ Leaderï¼Œ Leader ä¹ŸæˆåŠŸå‘æ‰€æœ‰ Followers å‘å‡ºçš„ commit æŒ‡ä»¤ï¼Œå¹¶å‘ client å‘å‡ºå“åº”åï¼ŒLeader æŒ‚äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äº Stale Leader å·²ç»å‘ client å‘é€æˆåŠŸæ¥æ”¶å“åº”ï¼Œä¸” commit é€šçŸ¥å·²ç»å‘å‡ºï¼Œè¯´æ˜&lt;font color=&#39;red&#39;&gt;è¿™ä¸ªå†™æ“ä½œè¯·æ±‚å·²ç»è¢« server æˆåŠŸå¤„ç†&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å®‰å…¨æ€§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®‰å…¨æ€§&#34;&gt;#&lt;/a&gt; å®‰å…¨æ€§&lt;/h2&gt;
&lt;h3 id=&#34;é€‰ä¸¾é™åˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é€‰ä¸¾é™åˆ¶&#34;&gt;#&lt;/a&gt; é€‰ä¸¾é™åˆ¶&lt;/h3&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;Leader éœ€è¦ä¿è¯è‡ªå·±å­˜å‚¨å…¨éƒ¨å·²ç»æäº¤çš„æ—¥å¿—æ¡ç›®&lt;/font&gt;ã€‚è¿™æ ·æ‰å¯ä»¥ä½¿æ—¥å¿—æ¡ç›®åªæœ‰ä¸€ä¸ªæµå‘ï¼šä» Leader æµå‘ Followerï¼ŒLeader æ°¸è¿œä¸ä¼šè¦†ç›–å·²ç»å­˜åœ¨çš„æ—¥å¿—æ¡ç›®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æ¯ä¸ª Candidate å‘é€ RequestVoteRPC æ—¶ï¼Œéƒ½ä¼šå¸¦ä¸Šæœ€åä¸€ä¸ª entry çš„ä¿¡æ¯ã€‚æ‰€æœ‰èŠ‚ç‚¹æ”¶åˆ°æŠ•ç¥¨ä¿¡æ¯æ—¶ï¼Œä¼šå¯¹è¯¥ entry è¿›è¡Œæ¯”è¾ƒï¼Œ&lt;strong&gt;å¦‚æœå‘ç°è‡ªå·±çš„æ—¥å¿—æ›´æ–°ï¼Œåˆ™æ‹’ç»æŠ•ç¥¨ç»™è¯¥ Candidate&lt;/strong&gt;&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åˆ¤æ–­æ—¥å¿—æ–°æ—§çš„æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœä¸¤ä¸ªæ—¥å¿—çš„ term ä¸åŒï¼Œterm å¤§çš„æ›´æ–°&lt;/li&gt;
&lt;li&gt;å¦‚æœ term ç›¸åŒï¼Œæ›´é•¿çš„ index æ›´æ–°&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;èŠ‚ç‚¹å´©æºƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#èŠ‚ç‚¹å´©æºƒ&#34;&gt;#&lt;/a&gt; èŠ‚ç‚¹å´©æºƒ&lt;/h3&gt;
&lt;p&gt;å¦‚æœ Leader å´©æºƒï¼Œé›†ç¾¤ä¸­çš„èŠ‚ç‚¹åœ¨ electionTimeout æ—¶é—´å†…æ²¡æœ‰æ”¶åˆ° Leader çš„å¿ƒè·³ä¿¡æ¯å°±ä¼šè§¦å‘æ–°ä¸€è½®çš„ Leader é€‰ä¸¾ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;åœ¨ Leader é€‰ä¸¾æœŸé—´ï¼Œæ•´ä¸ªé›†ç¾¤å¯¹å¤–æ˜¯ä¸å¯ç”¨çš„&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ Follower å’Œ Candidate å´©æºƒï¼Œå¤„ç†æ–¹å¼ä¼šç®€å•å¾ˆå¤šã€‚ä¹‹åå‘é€ç»™å®ƒçš„ RequestVoteRPC å’Œ AppendEntriesRPC ä¼šå¤±è´¥ã€‚ç”±äº raft çš„æ‰€æœ‰è¯·æ±‚éƒ½æ˜¯å¹‚ç­‰çš„ï¼Œæ‰€ä»¥å¤±è´¥çš„è¯ä¼šæ— é™çš„é‡è¯•ã€‚å¦‚æœå´©æºƒæ¢å¤åï¼Œå°±å¯ä»¥æ”¶åˆ°æ–°çš„è¯·æ±‚ï¼Œç„¶åé€‰æ‹©è¿½åŠ æˆ–è€…æ‹’ç» entryã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ—¶é—´ä¸å¯ç”¨æ€§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ—¶é—´ä¸å¯ç”¨æ€§&#34;&gt;#&lt;/a&gt; æ—¶é—´ä¸å¯ç”¨æ€§&lt;/h3&gt;
&lt;p&gt;raft çš„è¦æ±‚ä¹‹ä¸€å°±æ˜¯&lt;font color=&#39;red&#39;&gt;å®‰å…¨æ€§ä¸ä¾èµ–äºæ—¶é—´ï¼šç³»ç»Ÿä¸èƒ½ä»…ä»…å› ä¸ºä¸€äº›äº‹ä»¶å‘ç”Ÿçš„æ¯”é¢„æƒ³çš„å¿«ä¸€äº›æˆ–è€…æ…¢ä¸€äº›å°±äº§ç”Ÿé”™è¯¯&lt;/font&gt;ã€‚ä¸ºäº†ä¿è¯ä¸Šè¿°è¦æ±‚ï¼Œæœ€å¥½èƒ½æ»¡è¶³ä»¥ä¸‹çš„æ—¶é—´æ¡ä»¶ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;broadcastTime &amp;lt;&amp;lt; electionTimeout &amp;lt;&amp;lt; MTBF
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;broadcastTime&lt;/code&gt; ï¼šå‘å…¶ä»–èŠ‚ç‚¹å¹¶å‘å‘é€æ¶ˆæ¯çš„å¹³å‡å“åº”æ—¶é—´ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;electionTimeout&lt;/code&gt; ï¼šé€‰ä¸¾è¶…æ—¶æ—¶é—´ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;MTBF(mean time between failures)&lt;/code&gt; ï¼šå•å°æœºå™¨çš„å¹³å‡å¥åº·æ—¶é—´ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;broadcastTime&lt;/code&gt;  åº”è¯¥æ¯” &lt;code&gt;electionTimeout&lt;/code&gt;  å°ä¸€ä¸ªæ•°é‡çº§ï¼Œä¸ºçš„æ˜¯ä½¿ &lt;code&gt;Leader&lt;/code&gt;  èƒ½å¤ŸæŒç»­å‘é€å¿ƒè·³ä¿¡æ¯ï¼ˆheartbeatï¼‰æ¥é˜»æ­¢ &lt;code&gt;Follower&lt;/code&gt;  å¼€å§‹é€‰ä¸¾ï¼›&lt;/p&gt;
&lt;p&gt;&lt;code&gt;electionTimeout&lt;/code&gt;  ä¹Ÿè¦æ¯” &lt;code&gt;MTBF&lt;/code&gt;  å°å‡ ä¸ªæ•°é‡çº§ï¼Œä¸ºçš„æ˜¯ä½¿å¾—ç³»ç»Ÿç¨³å®šè¿è¡Œã€‚å½“ &lt;code&gt;Leader&lt;/code&gt;  å´©æºƒæ—¶ï¼Œå¤§çº¦ä¼šåœ¨æ•´ä¸ª &lt;code&gt;electionTimeout&lt;/code&gt;  çš„æ—¶é—´å†…ä¸å¯ç”¨ï¼›æˆ‘ä»¬å¸Œæœ›è¿™ç§æƒ…å†µä»…å å…¨éƒ¨æ—¶é—´çš„å¾ˆå°ä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äº &lt;code&gt;broadcastTime&lt;/code&gt;  å’Œ &lt;code&gt;MTBF&lt;/code&gt;  æ˜¯ç”±ç³»ç»Ÿå†³å®šçš„å±æ€§ï¼Œå› æ­¤éœ€è¦å†³å®š &lt;code&gt;electionTimeout&lt;/code&gt;  çš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼ŒbroadcastTime ä¸€èˆ¬ä¸º  &lt;code&gt;0.5ï½20ms&lt;/code&gt; ï¼ŒelectionTimeout å¯ä»¥è®¾ç½®ä¸º  &lt;code&gt;10ï½500ms&lt;/code&gt; ï¼ŒMTBF ä¸€èˆ¬ä¸ºä¸€ä¸¤ä¸ªæœˆã€‚&lt;/p&gt;
&lt;h2 id=&#34;åŠ¨ç”»æ¼”ç¤º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŠ¨ç”»æ¼”ç¤º&#34;&gt;#&lt;/a&gt; åŠ¨ç”»æ¼”ç¤º&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL3RoZXNlY3JldGxpdmVzb2ZkYXRhLmNvbS9yYWZ0Lw==&#34;&gt;http://thesecretlivesofdata.com/raft/&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;raft-æ¦‚è¿°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#raft-æ¦‚è¿°&#34;&gt;#&lt;/a&gt; raft æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218145626883.png&#34; alt=&#34;image-20231218145626883&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218145641429.png&#34; alt=&#34;image-20231218145641429&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;leader-é€‰ä¸¾-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#leader-é€‰ä¸¾-2&#34;&gt;#&lt;/a&gt; Leader é€‰ä¸¾&lt;/h3&gt;
&lt;p&gt;åœ¨ Raft ä¸­ï¼Œæœ‰ä¸¤ä¸ªæ§åˆ¶é€‰ä¸¾çš„è¶…æ—¶è®¾ç½®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt; &lt;code&gt;election timeout&lt;/code&gt; ï¼ˆé€‰ä¸¾è¶…æ—¶ï¼‰&lt;/font&gt;ï¼šè¡¨ç¤º Follower ç­‰å¾…è½¬å˜ä¸º Candidate çš„å€’è®¡æ—¶é—´ï¼Œéšæœºè®¾ç½®åœ¨ 150ms ~ 300ms ä¹‹é—´ã€‚æŸä¸ª Follower ç‡å…ˆé€‰ä¸¾è¶…æ—¶åï¼Œå®ƒæˆä¸º Candidateï¼Œå¼€å§‹æ–°çš„é€‰ä¸¾ä»»æœŸï¼ˆterm åŠ  1ï¼‰ï¼Œå¹¶ä¸ºè‡ªå·±æŠ•ä¸€ç¥¨ï¼ŒåŒæ—¶å‘å…¶ä»–èŠ‚ç‚¹å‘é€è¯·æ±‚æŠ•ç¥¨çš„æ¶ˆæ¯ã€‚å¦‚æœæ¥æ”¶èŠ‚ç‚¹åœ¨æœ¬ä»»æœŸå†…å°šæœªæŠ•ç¥¨ï¼Œé‚£ä¹ˆå®ƒå°†æŠ•ç¥¨ç»™ Candidateã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt; &lt;code&gt;heartbeat timeout&lt;/code&gt; ï¼ˆå¿ƒè·³è¶…æ—¶ï¼‰&lt;/font&gt;ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218110127195.png&#34; alt=&#34;image-20231218110127195&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ã€&lt;font color=&#39;cornflowerblue&#39;&gt;election timeoutï¼ˆé€‰ä¸¾è¶…æ—¶ï¼‰&lt;/font&gt;&lt;/font&gt;è¡¨ç¤º Follower ç­‰å¾…è½¬å˜ä¸º Candidate çš„å€’è®¡æ—¶é—´ï¼Œéšæœºè®¾ç½®åœ¨ 150ms ~ 300ms ä¹‹é—´ã€‚ã€‘&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218142116228.png&#34; alt=&#34;image-20231218142116228&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ã€æŸä¸ª Follower ç‡å…ˆé€‰ä¸¾è¶…æ—¶åï¼Œå®ƒæˆä¸º Candidateï¼Œå¼€å§‹æ–°çš„é€‰ä¸¾ä»»æœŸï¼ˆterm åŠ 1ï¼‰ï¼Œå¹¶ä¸ºè‡ªå·±æŠ•ä¸€ç¥¨ã€‘&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218142238093.png&#34; alt=&#34;image-20231218142238093&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ã€åŒæ—¶ Candidate å‘å…¶ä»–èŠ‚ç‚¹å‘é€è¯·æ±‚æŠ•ç¥¨çš„æ¶ˆæ¯ã€‘&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218142326741.png&#34; alt=&#34;image-20231218142326741&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ã€å¦‚æœæ¥æ”¶èŠ‚ç‚¹åœ¨æœ¬ä»»æœŸå†…å°šæœªæŠ•ç¥¨ï¼Œé‚£ä¹ˆå®ƒå°†æŠ•ç¥¨ç»™ Candidateã€‘&lt;/center&gt;
&lt;center&gt;ã€èŠ‚ç‚¹é‡ç½®å…¶é€‰ä¸¾è¶…æ—¶ã€‘&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218143246476.png&#34; alt=&#34;image-20231218143246476&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ã€ä¸€æ—¦ Candidate è·å¾—å¤šæ•°ç¥¨ï¼Œä»–å°±ä¼šæˆä¸º Leaderã€‘&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218143321866.png&#34; alt=&#34;image-20231218143321866&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ã€Leader å¼€å§‹å‘å…¶ Follower å‘¨æœŸæ€§åœ°å‘é€ Append Entries æ¶ˆæ¯ã€‚è¿™äº›æ¶ˆæ¯æŒ‰ç…§&lt;font color=&#39;cornflowerblue&#39;&gt; heartbeat timeoutï¼ˆå¿ƒè·³è¶…æ—¶ï¼‰&lt;/font&gt;&lt;/font&gt;æŒ‡å®šçš„æ—¶é—´é—´éš”å‘é€ã€‚ã€‘&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218143548477.png&#34; alt=&#34;image-20231218143548477&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ã€ç„¶å Followers å›å¤æ¯æ¡ Append Entries æ¶ˆæ¯ã€‚ã€‘&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144001221.png&#34; alt=&#34;image-20231218144001221&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ã€è¿™ä¸ªé€‰ä¸¾ term å°†æŒç»­åˆ°æŸä¸ª Follower åœæ­¢æ¥æ”¶å¿ƒè·³ï¼Œå¹¶æˆä¸º Candidate ä¸ºæ­¢ã€‚è®©æˆ‘ä»¬é˜»æ­¢ Leader å¹¶è§‚çœ‹é‡æ–°é€‰ä¸¾çš„å‘ç”Ÿã€‚ã€‘&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144043076.png&#34; alt=&#34;image-20231218144043076&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ã€èŠ‚ç‚¹ B ç°åœ¨æ˜¯ç¬¬ 2 ä¸ª term çš„ Leaderã€‚éœ€è¦å¤šæ•°ç¥¨æ‰èƒ½ä¿è¯æ¯ä¸ªä»»æœŸåªèƒ½é€‰ä¸¾ä¸€åé¢†å¯¼äººã€‚å¦‚æœä¸¤ä¸ªèŠ‚ç‚¹åŒæ—¶æˆä¸ºå€™é€‰äººï¼Œåˆ™å¯èƒ½ä¼šå‘ç”Ÿ&lt;font color=&#39;red&#39;&gt;åˆ†è£‚æŠ•ç¥¨&lt;/font&gt;&lt;/font&gt;ã€‚ã€‘&lt;/center&gt;
&lt;hr /&gt;
&lt;p&gt;åˆ†è£‚æŠ•ç¥¨çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144355618.png&#34; alt=&#34;image-20231218144355618&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144415586.png&#34; alt=&#34;image-20231218144415586&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144428586.png&#34; alt=&#34;image-20231218144428586&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144443566.png&#34; alt=&#34;image-20231218144443566&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144459719.png&#34; alt=&#34;image-20231218144459719&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ—¥å¿—å¤åˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ—¥å¿—å¤åˆ¶&#34;&gt;#&lt;/a&gt; æ—¥å¿—å¤åˆ¶&lt;/h3&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144528293.png&#34; alt=&#34;image-20231218144528293&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144543849.png&#34; alt=&#34;image-20231218144543849&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144606513.png&#34; alt=&#34;image-20231218144606513&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144617130.png&#34; alt=&#34;image-20231218144617130&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144634196.png&#34; alt=&#34;image-20231218144634196&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144648281.png&#34; alt=&#34;image-20231218144648281&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144657566.png&#34; alt=&#34;image-20231218144657566&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144711183.png&#34; alt=&#34;image-20231218144711183&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144727919.png&#34; alt=&#34;image-20231218144727919&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144744496.png&#34; alt=&#34;image-20231218144744496&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144802996.png&#34; alt=&#34;image-20231218144802996&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144841610.png&#34; alt=&#34;image-20231218144841610&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144911945.png&#34; alt=&#34;image-20231218144911945&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144924949.png&#34; alt=&#34;image-20231218144924949&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144938649.png&#34; alt=&#34;image-20231218144938649&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218144957469.png&#34; alt=&#34;image-20231218144957469&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218145013862.png&#34; alt=&#34;image-20231218145013862&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218145026793.png&#34; alt=&#34;image-20231218145026793&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218145349524.png&#34; alt=&#34;image-20231218145349524&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218145426830.png&#34; alt=&#34;image-20231218145426830&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218145447316.png&#34; alt=&#34;image-20231218145447316&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218145505919.png&#34; alt=&#34;image-20231218145505919&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231218145519321.png&#34; alt=&#34;image-20231218145519321&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;gossip-åè®®è¯¦è§£&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#gossip-åè®®è¯¦è§£&#34;&gt;#&lt;/a&gt; Gossip åè®®è¯¦è§£&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;gossipï¼šé—²è¯ã€æµè¨€èœšè¯­&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;èƒŒæ™¯-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#èƒŒæ™¯-3&#34;&gt;#&lt;/a&gt; èƒŒæ™¯&lt;/h2&gt;
&lt;p&gt;åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œä¸åŒçš„èŠ‚ç‚¹è¿›è¡Œæ•°æ® / ä¿¡æ¯å…±äº«æ˜¯ä¸€ä¸ªåŸºæœ¬çš„éœ€æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ç§æ¯”è¾ƒç®€å•ç²—æš´çš„æ–¹æ³•å°±æ˜¯&lt;strong&gt;é›†ä¸­å¼å‘æ•£æ¶ˆæ¯&lt;/strong&gt;ï¼Œç®€å•æ¥è¯´å°±æ˜¯&lt;font color=&#39;red&#39;&gt;ä¸€ä¸ªä¸»èŠ‚ç‚¹åŒæ—¶å…±äº«æœ€æ–°ä¿¡æ¯ç»™å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹&lt;/font&gt;ï¼Œæ¯”è¾ƒé€‚åˆä¸­å¿ƒåŒ–ç³»ç»Ÿã€‚è¿™ç§æ–¹æ³•çš„ç¼ºé™·ä¹Ÿå¾ˆæ˜æ˜¾ï¼ŒèŠ‚ç‚¹å¤šçš„æ—¶å€™ä¸å…‰&lt;font color=&#39;red&#39;&gt;åŒæ­¥æ¶ˆæ¯çš„æ•ˆç‡ä½ï¼Œè¿˜å¤ªä¾èµ–ä¸ä¸­å¿ƒèŠ‚ç‚¹ï¼Œå­˜åœ¨å•ç‚¹é£é™©é—®é¢˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯ï¼Œ&lt;strong&gt;åˆ†æ•£å¼å‘æ•£æ¶ˆæ¯&lt;/strong&gt;çš„ &lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;Gossip åè®®&lt;/font&gt;&lt;/strong&gt; å°±è¯ç”Ÿäº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä»‹ç»-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»‹ç»-2&#34;&gt;#&lt;/a&gt; ä»‹ç»&lt;/h2&gt;
&lt;p&gt;Gossip åè®® ä¹Ÿå« Epidemic åè®®ï¼ˆæµè¡Œç—…åè®®ï¼‰æˆ–è€… Epidemic propagation ç®—æ³•ï¼ˆç–«æƒ…ä¼ æ’­ç®—æ³•ï¼‰ï¼Œåˆ«åå¾ˆå¤šã€‚ä¸è¿‡è¿™äº›åå­—çš„ç‰¹ç‚¹éƒ½å…·æœ‰ **&lt;font color=&#39;red&#39;&gt;éšæœºä¼ æ’­ç‰¹æ€§&lt;/font&gt;**ï¼ˆè”æƒ³ä¸€ä¸‹ç—…æ¯’ä¼ æ’­ã€ç™Œç»†èƒæ‰©æ•£ç­‰ç”Ÿæ´»ä¸­å¸¸è§çš„æƒ…æ™¯ï¼‰ï¼Œè¿™ä¹Ÿæ­£æ˜¯ Gossip åè®®æœ€ä¸»è¦çš„ç‰¹ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;Gossip åè®®æœ€æ—©æ˜¯åœ¨ ACM ä¸Šçš„ä¸€ç¯‡ 1987 å¹´å‘è¡¨çš„è®ºæ–‡ &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9kbC5hY20ub3JnL2RvaS8xMC4xMTQ1LzQxODQwLjQxODQx&#34;&gt;ã€ŠEpidemic Algorithms for Replicated Database Maintenanceã€‹&lt;/span&gt;ä¸­è¢«æå‡ºçš„ã€‚æ ¹æ®è®ºæ–‡æ ‡é¢˜ï¼Œæˆ‘ä»¬å¤§æ¦‚å°±èƒ½çŸ¥é“ Gossip åè®®å½“æ—¶æå‡ºçš„ä¸»è¦åº”ç”¨æ˜¯åœ¨&lt;font color=&#39;red&#39;&gt;åˆ†å¸ƒå¼æ•°æ®åº“ç³»ç»Ÿä¸­å„ä¸ªå‰¯æœ¬èŠ‚ç‚¹åŒæ­¥æ•°æ®&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ­£å¦‚ Gossip åè®®å…¶åä¸€æ ·ï¼Œè¿™æ˜¯&lt;font color=&#39;red&#39;&gt;ä¸€ç§éšæœºä¸”å¸¦æœ‰ä¼ æŸ“æ€§çš„æ–¹å¼ï¼Œå°†ä¿¡æ¯ä¼ æ’­åˆ°æ•´ä¸ªç½‘ç»œä¸­ï¼Œå¹¶åœ¨ä¸€å®šæ—¶é—´å†…ï¼Œä½¿å¾—ç³»ç»Ÿå†…çš„æ‰€æœ‰èŠ‚ç‚¹æ•°æ®ä¸€è‡´&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Gossip åè®®ä¸‹ï¼Œ&lt;font color=&#39;red&#39;&gt;æ²¡æœ‰æ‰€è°“çš„ä¸­å¿ƒèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹å‘¨æœŸæ€§åœ°éšæœºæ‰¾ä¸€ä¸ªèŠ‚ç‚¹äº’ç›¸åŒæ­¥å½¼æ­¤çš„ä¿¡æ¯&lt;/font&gt;ï¼Œç†è®ºä¸Šæ¥è¯´ï¼Œå„ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€æœ€ç»ˆä¼šä¿æŒä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬æ¥å¯¹ Gossip åè®®çš„å®šä¹‰åšä¸€ä¸ªæ€»ç»“ï¼š&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;Gossip åè®®æ˜¯ä¸€ç§å…è®¸åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å…±äº«çŠ¶æ€çš„å»ä¸­å¿ƒåŒ–é€šä¿¡åè®®ï¼Œé€šè¿‡è¿™ç§é€šä¿¡åè®®ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¿¡æ¯ä¼ æ’­ç»™ç½‘ç»œæˆ–é›†ç¾¤ä¸­çš„æ‰€æœ‰æˆå‘˜ã€‚&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;åº”ç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åº”ç”¨&#34;&gt;#&lt;/a&gt; åº”ç”¨&lt;/h2&gt;
&lt;p&gt;NoSQL æ•°æ®åº“ Redis å’Œ Apache Cassandraã€æœåŠ¡ç½‘æ ¼è§£å†³æ–¹æ¡ˆ Consul ç­‰çŸ¥åé¡¹ç›®éƒ½ç”¨åˆ°äº† Gossip åè®®ï¼Œå­¦ä¹  Gossip åè®®æœ‰åŠ©äºæˆ‘ä»¬ææ¸…å¾ˆå¤šæŠ€æœ¯çš„åº•å±‚åŸç†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è¿™é‡Œä»¥ &lt;font color=&#39;gree&#39;&gt;Redis Cluster&lt;/font&gt; ä¸ºä¾‹è¯´æ˜ Gossip åè®®çš„å®é™…åº”ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„åˆ†å¸ƒå¼ç¼“å­˜ Redis çš„å®˜æ–¹é›†ç¾¤è§£å†³æ–¹æ¡ˆï¼ˆ3.0 ç‰ˆæœ¬å¼•å…¥ï¼‰ Redis Cluster å°±æ˜¯&lt;font color=&#39;red&#39;&gt;åŸºäº Gossip åè®®æ¥å®ç°é›†ç¾¤ä¸­å„ä¸ªèŠ‚ç‚¹æ•°æ®çš„æœ€ç»ˆä¸€è‡´æ€§&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/up-fcacc1eefca6e51354a5f1fc9f2919f51ec.png&#34; alt=&#34;Redis çš„å®˜æ–¹é›†ç¾¤è§£å†³æ–¹æ¡ˆ&#34; /&gt;&lt;/p&gt;
&lt;center&gt;Redis çš„å®˜æ–¹é›†ç¾¤è§£å†³æ–¹æ¡ˆ&lt;/center&gt;
&lt;p&gt;Redis Cluster æ˜¯ä¸€ä¸ªå…¸å‹çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å„ä¸ªèŠ‚ç‚¹éœ€è¦äº’ç›¸é€šä¿¡ã€‚æ—¢ç„¶è¦ç›¸äº’é€šä¿¡å°±è¦éµå¾ªä¸€è‡´çš„é€šä¿¡åè®®ï¼Œ&lt;font color=&#39;red&#39;&gt;Redis Cluster ä¸­çš„å„ä¸ªèŠ‚ç‚¹åŸºäº &lt;strong&gt;Gossip åè®®&lt;/strong&gt; æ¥è¿›è¡Œé€šä¿¡å…±äº«ä¿¡æ¯ï¼Œæ¯ä¸ª Redis èŠ‚ç‚¹éƒ½ç»´æŠ¤äº†ä¸€ä»½é›†ç¾¤çš„çŠ¶æ€ä¿¡æ¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Redis Cluster çš„èŠ‚ç‚¹ä¹‹é—´ä¼šç›¸äº’å‘é€å¤šç§ Gossip æ¶ˆæ¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;MEET&lt;/font&gt;&lt;/strong&gt;ï¼šåœ¨ Redis Cluster ä¸­çš„æŸä¸ª Redis èŠ‚ç‚¹ä¸Šæ‰§è¡Œ  &lt;code&gt;CLUSTER MEET ip port&lt;/code&gt;  å‘½ä»¤ï¼Œ&lt;font color=&#39;red&#39;&gt;å¯ä»¥å‘æŒ‡å®šçš„ Redis èŠ‚ç‚¹å‘é€ä¸€æ¡ MEET ä¿¡æ¯ï¼Œç”¨äºå°†å…¶æ·»åŠ è¿› Redis Cluster æˆä¸ºæ–°çš„ Redis èŠ‚ç‚¹&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;PING/PONG&lt;/font&gt;&lt;/strong&gt;ï¼šRedis Cluster ä¸­çš„èŠ‚ç‚¹éƒ½ä¼š&lt;font color=&#39;red&#39;&gt;å®šæ—¶åœ°å‘å…¶ä»–èŠ‚ç‚¹å‘é€ PING æ¶ˆæ¯ï¼Œæ¥äº¤æ¢å„ä¸ªèŠ‚ç‚¹çŠ¶æ€ä¿¡æ¯ï¼Œæ£€æŸ¥å„ä¸ªèŠ‚ç‚¹çŠ¶æ€&lt;/font&gt;ï¼ŒåŒ…æ‹¬åœ¨çº¿çŠ¶æ€ã€ç–‘ä¼¼ä¸‹çº¿çŠ¶æ€ PFAIL å’Œå·²ä¸‹çº¿çŠ¶æ€ FAILã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;FAIL&lt;/font&gt;&lt;/strong&gt;ï¼šRedis Cluster ä¸­çš„èŠ‚ç‚¹ A å‘ç° B èŠ‚ç‚¹ PFAILï¼Œå¹¶ä¸”åœ¨ä¸‹çº¿æŠ¥å‘Šçš„æœ‰æ•ˆæœŸé™å†…é›†ç¾¤ä¸­åŠæ•°ä»¥ä¸Šçš„èŠ‚ç‚¹å°† B èŠ‚ç‚¹æ ‡è®°ä¸º PFAILï¼ŒèŠ‚ç‚¹ A å°±ä¼šå‘é›†ç¾¤å¹¿æ’­ä¸€æ¡ FAIL æ¶ˆæ¯ï¼Œé€šçŸ¥å…¶ä»–èŠ‚ç‚¹å°†æ•…éšœèŠ‚ç‚¹ B æ ‡è®°ä¸º FAIL ã€‚&lt;/li&gt;
&lt;li&gt;â€¦â€¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹å›¾å°±æ˜¯ä¸»ä»æ¶æ„çš„ Redis Cluster çš„ç¤ºæ„å›¾ï¼Œå›¾ä¸­çš„è™šçº¿ä»£è¡¨çš„å°±æ˜¯å„ä¸ªèŠ‚ç‚¹ä¹‹é—´ä½¿ç”¨ Gossip è¿›è¡Œé€šä¿¡ ï¼Œå®çº¿è¡¨ç¤ºä¸»ä»å¤åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-cluster-gossip-fO4qDqt2.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æœ‰äº† Redis Cluster ä¹‹åï¼Œä¸éœ€è¦ä¸“é—¨éƒ¨ç½² Sentinel é›†ç¾¤æœåŠ¡äº†ã€‚&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Redis Cluster ç›¸å½“äºæ˜¯å†…ç½®äº† Sentinel æœºåˆ¶ï¼Œå†…éƒ¨çš„å„ä¸ªèŠ‚ç‚¹é€šè¿‡ Gossip åè®®äº’ç›¸æ¢æµ‹å¥åº·çŠ¶æ€ï¼Œåœ¨æ•…éšœæ—¶å¯ä»¥è‡ªåŠ¨åˆ‡æ¢&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ¶ˆæ¯ä¼ æ’­æ¨¡å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶ˆæ¯ä¼ æ’­æ¨¡å¼&#34;&gt;#&lt;/a&gt; æ¶ˆæ¯ä¼ æ’­æ¨¡å¼&lt;/h2&gt;
&lt;p&gt;Gossip è®¾è®¡äº†ä¸¤ç§å¯èƒ½çš„æ¶ˆæ¯ä¼ æ’­æ¨¡å¼ï¼š&lt;strong&gt;åç†µï¼ˆAnti-Entropyï¼‰&lt;/strong&gt; å’Œ &lt;strong&gt;ä¼ è°£ï¼ˆRumor-Mongeringï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åç†µanti-entropy&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åç†µanti-entropy&#34;&gt;#&lt;/a&gt; åç†µï¼ˆAnti-Entropyï¼‰&lt;/h3&gt;
&lt;p&gt;æ ¹æ®ç»´åŸºç™¾ç§‘ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç†µçš„æ¦‚å¿µæœ€æ—©èµ·æºäº&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU3JTg5JUE5JUU3JTkwJTg2JUU1JUFEJUE2&#34;&gt;ç‰©ç†å­¦&lt;/span&gt;ï¼Œç”¨äºåº¦é‡ä¸€ä¸ªçƒ­åŠ›å­¦ç³»ç»Ÿçš„æ··ä¹±ç¨‹åº¦ã€‚ç†µæœ€å¥½ç†è§£ä¸º&lt;font color=&#39;red&#39;&gt;ä¸ç¡®å®šæ€§çš„é‡åº¦&lt;/font&gt;ï¼Œè€Œä¸æ˜¯ç¡®å®šæ€§çš„é‡åº¦ï¼Œå› ä¸ºè¶Šéšæœºçš„ä¿¡æºçš„ç†µè¶Šå¤§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥æŠŠåç†µä¸­çš„ç†µç†è§£ä¸ºèŠ‚ç‚¹ä¹‹é—´æ•°æ®çš„æ··ä¹±ç¨‹åº¦ / å·®å¼‚æ€§ï¼Œ&lt;font color=&#39;red&#39;&gt;åç†µå°±æ˜¯æŒ‡æ¶ˆé™¤ä¸åŒèŠ‚ç‚¹ä¸­æ•°æ®çš„å·®å¼‚ï¼Œæå‡èŠ‚ç‚¹é—´æ•°æ®çš„ç›¸ä¼¼åº¦ï¼Œä»è€Œé™ä½ç†µå€¼&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å…·ä½“æ˜¯å¦‚ä½•åç†µçš„å‘¢ï¼Ÿ&lt;font color=&#39;red&#39;&gt;é›†ç¾¤ä¸­çš„èŠ‚ç‚¹ï¼Œæ¯éš”æ®µæ—¶é—´å°±éšæœºé€‰æ‹©æŸä¸ªå…¶ä»–èŠ‚ç‚¹ï¼Œç„¶åé€šè¿‡äº’ç›¸äº¤æ¢è‡ªå·±çš„æ‰€æœ‰æ•°æ®ï¼Œæ¥æ¶ˆé™¤ä¸¤è€…ä¹‹é—´çš„å·®å¼‚ï¼Œå®ç°æ•°æ®çš„æœ€ç»ˆä¸€è‡´æ€§&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å®ç°åç†µçš„æ—¶å€™ï¼Œä¸»è¦æœ‰æ¨ã€æ‹‰å’Œæ¨æ‹‰ä¸‰ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¨ï¼šå°±æ˜¯å°†è‡ªå·±çš„æ‰€æœ‰å‰¯æœ¬æ•°æ®ï¼Œæ¨ç»™å¯¹æ–¹ï¼Œä¿®å¤å¯¹æ–¹å‰¯æœ¬ä¸­çš„ç†µã€‚&lt;/li&gt;
&lt;li&gt;æ‹‰ï¼šå°±æ˜¯æ‹‰å–å¯¹æ–¹çš„æ‰€æœ‰å‰¯æœ¬æ•°æ®ï¼Œä¿®å¤è‡ªå·±å‰¯æœ¬ä¸­çš„ç†µã€‚&lt;/li&gt;
&lt;li&gt;æ¨æ‹‰ï¼šå°±æ˜¯åŒæ—¶ä¿®å¤è‡ªå·±å‰¯æœ¬å’Œå¯¹æ–¹å‰¯æœ¬ä¸­çš„ç†µã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¼ªä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/up-df16e98bf71e872a7e1f01ca31cee93d77b.png&#34; alt=&#34;åç†µä¼ªä»£ç &#34; /&gt;&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬å®é™…åº”ç”¨åœºæ™¯ä¸­ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸€èˆ¬ä¸ä¼šé‡‡ç”¨éšæœºçš„èŠ‚ç‚¹è¿›è¡Œåç†µ&lt;/font&gt;ï¼Œè€Œæ˜¯éœ€è¦å¯ä»¥çš„è®¾è®¡ä¸€ä¸ªé—­ç¯ã€‚è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¸€ä¸ªç¡®å®šçš„æ—¶é—´èŒƒå›´å†…å®ç°å„ä¸ªèŠ‚ç‚¹æ•°æ®çš„æœ€ç»ˆä¸€è‡´æ€§ï¼Œè€Œä¸æ˜¯åŸºäºéšæœºçš„æ¦‚ç‡ã€‚åƒ  &lt;code&gt;InfluxDB&lt;/code&gt;  å°±æ˜¯è¿™æ ·æ¥å®ç°åç†µçš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/%E5%8F%8D%E7%86%B5-%E9%97%AD%E7%8E%AF-TwBsP6eP.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;èŠ‚ç‚¹ A æ¨é€æ•°æ®ç»™èŠ‚ç‚¹ Bï¼ŒèŠ‚ç‚¹ B è·å–åˆ°èŠ‚ç‚¹ A ä¸­çš„æœ€æ–°æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;èŠ‚ç‚¹ B æ¨é€æ•°æ®ç»™ Cï¼ŒèŠ‚ç‚¹ C è·å–åˆ°èŠ‚ç‚¹ Aï¼ŒB ä¸­çš„æœ€æ–°æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;èŠ‚ç‚¹ C æ¨é€æ•°æ®ç»™ Aï¼ŒèŠ‚ç‚¹ A è·å–åˆ°èŠ‚ç‚¹ Bï¼ŒC ä¸­çš„æœ€æ–°æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;èŠ‚ç‚¹ A å†æ¨é€æ•°æ®ç»™ B å½¢æˆé—­ç¯ï¼Œè¿™æ ·èŠ‚ç‚¹ B å°±è·å–åˆ°èŠ‚ç‚¹ C ä¸­çš„æœ€æ–°æ•°æ®ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è™½ç„¶åç†µå¾ˆç®€å•å®ç”¨ï¼Œ&lt;font color=&#39;red&#39;&gt;ä½†æ˜¯èŠ‚ç‚¹è¿‡å¤šæˆ–è€…èŠ‚ç‚¹åŠ¨æ€å˜åŒ–çš„è¯ï¼Œåç†µå°±ä¸å¤ªé€‚ç”¨äº†&lt;/font&gt;ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬æƒ³è¦å®ç°æœ€ç»ˆä¸€è‡´æ€§å°±è¦é  ä¼ è°£ (Rumor mongering) ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¼ è°£rumor-mongering&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¼ è°£rumor-mongering&#34;&gt;#&lt;/a&gt; ä¼ è°£ï¼ˆRumor-Mongeringï¼‰&lt;/h3&gt;
&lt;p&gt;è°£è¨€ä¼ æ’­æŒ‡çš„æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ä¸€æ—¦æœ‰äº†æ–°æ•°æ®ä¹‹åï¼Œå°±ä¼šå˜ä¸ºæ´»è·ƒèŠ‚ç‚¹ï¼Œæ´»è·ƒèŠ‚ç‚¹ä¼šå‘¨æœŸæ€§åœ°è”ç³»å…¶ä»–èŠ‚ç‚¹å‘å…¶å‘é€æ–°æ•°æ®ï¼Œç›´åˆ°æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½å­˜å‚¨äº†è¯¥æ–°æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆä¸‹å›¾æ¥è‡ªäº&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tYW5hZ2VtZW50ZnJvbXNjcmF0Y2gud29yZHByZXNzLmNvbS8yMDE2LzA0LzAxL2ludHJvZHVjdGlvbi10by1nb3NzaXAv&#34;&gt; INTRODUCTION TO GOSSIP&lt;/span&gt; è¿™ç¯‡æ–‡ç« ï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;ä¼ªä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/20210605170707933.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è°£è¨€ä¼ æ’­æ¯”è¾ƒé€‚åˆèŠ‚ç‚¹æ•°é‡æ¯”è¾ƒå¤šçš„æƒ…å†µï¼Œä¸è¿‡ï¼Œè¿™ç§æ¨¡å¼ä¸‹&lt;font color=&#39;red&#39;&gt;è¦å°½é‡é¿å…ä¼ æ’­çš„ä¿¡æ¯åŒ…ä¸èƒ½å¤ªå¤§ï¼Œé¿å…ç½‘ç»œæ¶ˆè€—å¤ªå¤§&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å°ç»“-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°ç»“-3&#34;&gt;#&lt;/a&gt; å°ç»“&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åç†µï¼ˆAnti-Entropyï¼‰ä¼šä¼ æ’­èŠ‚ç‚¹çš„æ‰€æœ‰æ•°æ®ï¼Œè€Œè°£è¨€ä¼ æ’­ï¼ˆRumor-Mongeringï¼‰åªä¼šä¼ æ’­èŠ‚ç‚¹æ–°å¢çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸€èˆ¬ä¼šç»™åç†µè®¾è®¡ä¸€ä¸ªé—­ç¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è°£è¨€ä¼ æ’­ï¼ˆRumor-Mongeringï¼‰æ¯”è¾ƒé€‚åˆèŠ‚ç‚¹æ•°é‡æ¯”è¾ƒå¤šæˆ–è€…èŠ‚ç‚¹åŠ¨æ€å˜åŒ–çš„åœºæ™¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä¼˜ç¼ºç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¼˜ç¼ºç‚¹&#34;&gt;#&lt;/a&gt; ä¼˜ç¼ºç‚¹&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜åŠ¿ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1ã€ç›¸æ¯”äºå…¶ä»–åˆ†å¸ƒå¼åè®® / ç®—æ³•æ¥è¯´ï¼Œ&lt;font color=&#39;red&#39;&gt;Gossip åè®®ç†è§£èµ·æ¥éå¸¸ç®€å•&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;2ã€èƒ½å¤Ÿå®¹å¿ç½‘ç»œä¸ŠèŠ‚ç‚¹çš„éšæ„åœ°å¢åŠ æˆ–è€…å‡å°‘ï¼Œå®•æœºæˆ–è€…é‡å¯ï¼Œå› ä¸º Gossip åè®®ä¸‹è¿™äº›&lt;font color=&#39;red&#39;&gt;èŠ‚ç‚¹éƒ½æ˜¯å¹³ç­‰çš„ï¼Œå»ä¸­å¿ƒåŒ–çš„&lt;/font&gt;ã€‚æ–°å¢åŠ æˆ–è€…é‡å¯çš„èŠ‚ç‚¹åœ¨ç†æƒ³æƒ…å†µä¸‹æœ€ç»ˆæ˜¯ä¸€å®šä¼šå’Œå…¶ä»–èŠ‚ç‚¹çš„çŠ¶æ€è¾¾åˆ°ä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;3ã€&lt;font color=&#39;red&#39;&gt;é€Ÿåº¦ç›¸å¯¹è¾ƒå¿«&lt;/font&gt;ã€‚èŠ‚ç‚¹æ•°é‡æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œæ‰©æ•£é€Ÿåº¦æ¯”ä¸€ä¸ªä¸»èŠ‚ç‚¹å‘å…¶ä»–èŠ‚ç‚¹ä¼ æ’­ä¿¡æ¯è¦æ›´å¿«ï¼ˆå¤šæ’­ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¼ºé™·&lt;/strong&gt; :&lt;/p&gt;
&lt;p&gt;1ã€æ¶ˆæ¯éœ€è¦é€šè¿‡å¤šä¸ªä¼ æ’­çš„è½®æ¬¡æ‰èƒ½ä¼ æ’­åˆ°æ•´ä¸ªç½‘ç»œä¸­ï¼Œå› æ­¤ï¼Œ&lt;font color=&#39;red&#39;&gt;å¿…ç„¶ä¼šå‡ºç°å„èŠ‚ç‚¹çŠ¶æ€ä¸ä¸€è‡´çš„æƒ…å†µ&lt;/font&gt;ã€‚æ¯•ç«Ÿï¼ŒGossip åè®®å¼ºè°ƒçš„æ˜¯æœ€ç»ˆä¸€è‡´ï¼Œè‡³äºè¾¾åˆ°å„ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€ä¸€è‡´éœ€è¦å¤šé•¿æ—¶é—´ï¼Œè°ä¹Ÿæ— ä»å¾—çŸ¥ã€‚&lt;/p&gt;
&lt;p&gt;2ã€ç”±äºæ‹œå åº­å°†å†›é—®é¢˜ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸å…è®¸å­˜åœ¨æ¶æ„èŠ‚ç‚¹&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;3ã€å¯èƒ½ä¼šå‡ºç°&lt;font color=&#39;red&#39;&gt;æ¶ˆæ¯å†—ä½™&lt;/font&gt;çš„é—®é¢˜ã€‚ç”±äºæ¶ˆæ¯ä¼ æ’­çš„éšæœºæ€§ï¼ŒåŒä¸€ä¸ªèŠ‚ç‚¹å¯èƒ½ä¼šé‡å¤æ”¶åˆ°ç›¸åŒçš„æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ€»ç»“&#34;&gt;#&lt;/a&gt; æ€»ç»“&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Gossip åè®®æ˜¯ä¸€ç§&lt;font color=&#39;red&#39;&gt;å…è®¸åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å…±äº«çŠ¶æ€&lt;/font&gt;çš„é€šä¿¡åè®®ï¼Œé€šè¿‡è¿™ç§é€šä¿¡åè®®ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¿¡æ¯ä¼ æ’­ç»™ç½‘ç»œæˆ–é›†ç¾¤ä¸­çš„æ‰€æœ‰æˆå‘˜ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Gossip åè®®è¢« Redisã€Apache Cassandraã€Consul ç­‰é¡¹ç›®åº”ç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è°£è¨€ä¼ æ’­ï¼ˆRumor-Mongeringï¼‰æ¯”è¾ƒé€‚åˆèŠ‚ç‚¹æ•°é‡æ¯”è¾ƒå¤šæˆ–è€…èŠ‚ç‚¹åŠ¨æ€å˜åŒ–çš„åœºæ™¯&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="åˆ†å¸ƒå¼å¾®æœåŠ¡" scheme="http://example.com/categories/distributed-microservices/" />
        <updated>2023-12-16T07:52:05.004Z</updated>
    </entry>
    <entry>
        <id>http://example.com/photography/%E6%95%85%E5%AE%AB%E9%9B%AA%E6%99%AF/</id>
        <title>æ•…å®«é›ªæ™¯</title>
        <link rel="alternate" href="http://example.com/photography/%E6%95%85%E5%AE%AB%E9%9B%AA%E6%99%AF/"/>
        <content type="html">&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b2e7bc458853aef44253b.jpg&#34; alt=&#34;&#34; /&gt;&lt;br /&gt;
&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b2f71c458853aef4833c3.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b2f9cc458853aef48dd81.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3842c458853aef69a74d.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b2fe1c458853aef4a0229.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b301ec458853aef4b1989.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b30a0c458853aef4d2cdd.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3433c458853aef5b2a28.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b30efc458853aef4e8321.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3380c458853aef58a96f.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b33c1c458853aef59833b.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b33e6c458853aef5a136f.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3486c458853aef5c3243.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b34c2c458853aef5d1fa7.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3536c458853aef5ec5bc.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3570c458853aef5fb89f.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3571c458853aef5fbdad.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3571c458853aef5fbbf1.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3570c458853aef5fbaa4.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3570c458853aef5fb9a7.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3649c458853aef62aa57.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3648c458853aef62a962.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3648c458853aef62a8b6.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3648c458853aef62a821.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3648c458853aef62a77b.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b36aec458853aef6420a6.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b36efc458853aef650fe3.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b36edc458853aef650c52.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b36edc458853aef650b88.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b36ecc458853aef650a34.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b36eec458853aef650e56.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3803c458853aef68dfd7.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3843c458853aef69a8d7.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3842c458853aef69a646.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3842c458853aef69a581.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3935c458853aef6ce27d.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3842c458853aef69a4b4.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3935c458853aef6ce387.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3935c458853aef6ce43a.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/657b3935c458853aef6ce316.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
</content>
        <category term="æ‘„å½±" scheme="http://example.com/categories/photography/" />
        <updated>2023-12-13T16:00:00.000Z</updated>
    </entry>
    <entry>
        <id>http://example.com/photography/%E4%B8%AD%E6%B3%95%E5%A4%A7%E5%AD%A6%E6%97%A7%E5%9D%80&amp;%E5%8C%97%E6%B5%B7%E5%85%AC%E5%9B%AD/</id>
        <title>äº¬ç§‹çš„èƒ¶ç‰‡å‘³</title>
        <link rel="alternate" href="http://example.com/photography/%E4%B8%AD%E6%B3%95%E5%A4%A7%E5%AD%A6%E6%97%A7%E5%9D%80&amp;%E5%8C%97%E6%B5%B7%E5%85%AC%E5%9B%AD/"/>
        <content type="html">&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/656f27bac458853aef5f729f.jpg&#34; alt=&#34;&#34; /&gt;&lt;br /&gt;
&lt;img data-src=&#34;https://pic.imgdb.cn/item/656f2724c458853aef5c162b.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/656f27b9c458853aef5f7159.jpg&#34; alt=&#34;&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/656f2723c458853aef5c1132.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/656f2722c458853aef5c0e99.jpg&#34; alt=&#34;&#34; title=&#34;æ ‘å½±æ–‘é©³&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/656f2723c458853aef5c1279.jpg&#34; alt=&#34;&#34; title=&#34;åœ¨å…‰é‡Œ&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/656f2723c458853aef5c1476.jpg&#34; alt=&#34;&#34; title=&#34;æ—¥è½åŒ—æµ·&#34; /&gt;&lt;/p&gt;
</content>
        <category term="æ‘„å½±" scheme="http://example.com/categories/photography/" />
        <updated>2023-12-03T02:40:32.059Z</updated>
    </entry>
    <entry>
        <id>http://example.com/database/redis/%E5%B0%9A%E7%A1%85%E8%B0%B7-%E5%91%A8%E9%98%B3-Redis7/</id>
        <title>Redis7-å°šç¡…è°·-å‘¨é˜³</title>
        <link rel="alternate" href="http://example.com/database/redis/%E5%B0%9A%E7%A1%85%E8%B0%B7-%E5%91%A8%E9%98%B3-Redis7/"/>
        <content type="html">&lt;h1 id=&#34;å…¥é—¨ç¯‡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å…¥é—¨ç¯‡&#34;&gt;#&lt;/a&gt; å…¥é—¨ç¯‡&lt;/h1&gt;
&lt;h2 id=&#34;1-rediså…¥é—¨æ¦‚è¿°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#1-rediså…¥é—¨æ¦‚è¿°&#34;&gt;#&lt;/a&gt; 1ã€Redis å…¥é—¨æ¦‚è¿°&lt;/h2&gt;
&lt;h3 id=&#34;redisæ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redisæ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; Redis æ˜¯ä»€ä¹ˆ&lt;/h3&gt;
&lt;p&gt;Redisï¼š &lt;code&gt;RE&lt;/code&gt; mote  &lt;code&gt;Di&lt;/code&gt; ctionary  &lt;code&gt;S&lt;/code&gt; erverï¼ˆè¿œç¨‹å­—å…¸æœåŠ¡å™¨ï¼‰ï¼Œä¸€ç§åŸºäº&lt;strong&gt; Key-Value&lt;/strong&gt; çš„&lt;strong&gt;å†…å­˜&lt;/strong&gt;æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;p&gt;Remote Dictionary Server (è¿œç¨‹å­—å…¸æœåŠ¡) æ˜¯å®Œå…¨å¼€æºçš„ï¼Œä½¿ç”¨&lt;font color=&#39;red&#39;&gt;ANSIC è¯­è¨€&lt;/font&gt;ç¼–å†™éµå®ˆ BSD åè®®ï¼Œæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„&lt;font color=&#39;red&#39;&gt;Key-Value&lt;/font&gt;æ•°æ®åº“æä¾›äº†ä¸°å¯Œçš„æ•°æ®ç»“æ„ï¼Œä¾‹å¦‚ Stringã€Hashã€Listã€Setã€SortedSet ç­‰ç­‰ã€‚æ•°æ®æ˜¯å­˜åœ¨&lt;font color=&#39;red&#39;&gt;å†…å­˜ä¸­çš„&lt;/font&gt;ï¼ŒåŒæ—¶ Redis&lt;font color=&#39;red&#39;&gt;æ”¯æŒäº‹åŠ¡ã€æŒä¹…åŒ–ã€LUA è„šæœ¬ã€å‘å¸ƒ / è®¢é˜…ã€ç¼“å­˜æ·˜æ±°ã€æµæŠ€æœ¯ç­‰&lt;/font&gt;å¤šç§åŠŸèƒ½ç‰¹æ€§æä¾›äº†&lt;font color=&#39;red&#39;&gt;ä¸»ä»æ¨¡å¼&lt;/font&gt;ã€&lt;font color=&#39;red&#39;&gt;Redis Sentinel&lt;/font&gt;å’Œ&lt;font color=&#39;red&#39;&gt;Redis Cluster é›†ç¾¤æ¶æ„&lt;/font&gt;æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;h3 id=&#34;redisçš„åŠŸèƒ½ä¸ä¼˜åŠ¿&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redisçš„åŠŸèƒ½ä¸ä¼˜åŠ¿&#34;&gt;#&lt;/a&gt; Redis çš„åŠŸèƒ½ä¸ä¼˜åŠ¿&lt;/h3&gt;
&lt;p&gt;Redis çš„ä¸»æµåŠŸèƒ½ä¸åº”ç”¨å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;orange&#39;&gt;åˆ†å¸ƒå¼ç¼“å­˜&lt;/font&gt;&lt;/strong&gt;ï¼Œå¸® MySQL å‡è´Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230802153755454.png&#34; alt=&#34;image-20230802153755454&#34; /&gt;&lt;/p&gt;
&lt;p&gt;MySQL ä¸ Redis çš„å¯¹æ¯”ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MySQL æ˜¯å…³ç³»å‹æ•°æ®åº“ï¼ŒRedis æ˜¯&lt;font color=&#39;red&#39;&gt;key-value&lt;/font&gt;æ•°æ®åº“ï¼ˆNoSQL çš„ä¸€ç§ï¼‰&lt;/li&gt;
&lt;li&gt;MySQL ä¸»è¦å­˜å‚¨åœ¨ç£ç›˜ï¼ŒRedis æ•°æ®æ“ä½œä¸»è¦åœ¨&lt;font color=&#39;red&#39;&gt;å†…å­˜&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;Redis åœ¨ä¸€äº›åœºæ™¯ä¸­æ˜æ˜¾ä¼˜äº MySQLï¼Œä¾‹å¦‚è®¡æ•°å™¨ã€æ’è¡Œæ¦œç­‰&lt;/li&gt;
&lt;li&gt;Redis é€šå¸¸ç”¨äºä¸€äº›ç‰¹å®šåœºæ™¯ï¼Œéœ€è¦ä¸ Mysql ä¸€èµ·é…åˆä½¿ç”¨ï¼Œä¸¤è€…å¹¶ä¸æ˜¯ç›¸äº’æ›¿æ¢å’Œç«äº‰å…³ç³»ï¼Œè€Œæ˜¯å…±ç”¨å’Œ&lt;strong&gt;é…åˆä½¿ç”¨&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å†…å­˜å­˜å‚¨&lt;/strong&gt;å’Œ&lt;strong&gt;æŒä¹…åŒ–&lt;/strong&gt;ï¼ˆRDB+AOFï¼‰ï¼šRedis æ”¯æŒå¼‚æ­¥å°†å†…å­˜ä¸­çš„æ•°æ®å†™åˆ°ç¡¬ç›˜ä¸Šï¼ŒåŒæ—¶ä¸å½±å“ç»§ç»­æœåŠ¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é«˜å¯ç”¨æ¶æ„æ­é…&lt;/strong&gt;ï¼šé¿å…æŸå° Redis æŒ‚äº†åï¼Œå½±å“ç³»ç»Ÿè¿è¡Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å•æœº&lt;/li&gt;
&lt;li&gt;ä¸»ä»&lt;/li&gt;
&lt;li&gt;å“¨å…µ&lt;/li&gt;
&lt;li&gt;é›†ç¾¤&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åˆ†å¸ƒå¼é”&lt;/strong&gt;ï¼šè·¨æœåŠ¡å™¨åŠ é”&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¶ˆæ¯é˜Ÿåˆ—å¹³å°&lt;/strong&gt;ï¼šReids&lt;font color=&#39;red&#39;&gt;æä¾› list å’Œ set æ“ä½œ&lt;/font&gt;ï¼Œè¿™ä½¿å¾— Redis èƒ½ä½œä¸ºä¸€ä¸ªå¾ˆå¥½çš„æ¶ˆæ¯é˜Ÿåˆ—å¹³å°æ¥ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é€šè¿‡ Reids çš„é˜Ÿåˆ—åŠŸèƒ½åš&lt;strong&gt;è´­ä¹°é™åˆ¶&lt;/strong&gt;ã€‚æ¯”å¦‚åˆ°èŠ‚å‡æ—¥æˆ–è€…æ¨å¹¿æœŸé—´ï¼Œè¿›è¡Œä¸€äº›æ´»åŠ¨ï¼Œå¯¹ç”¨æˆ·è´­ä¹°è¡Œä¸ºè¿›è¡Œé™åˆ¶ï¼Œé™åˆ¶ä»Šå¤©åªèƒ½è´­ä¹°å‡ æ¬¡å•†å“æˆ–è€…ä¸€æ®µæ—¶é—´å†…åªèƒ½è´­ä¹°ä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ’è¡Œæ¦œ&lt;/strong&gt; +&lt;strong&gt; ç‚¹èµ&lt;/strong&gt;ï¼šRedis æä¾›çš„&lt;font color=&#39;red&#39;&gt;zset æ•°æ®ç±»å‹&lt;/font&gt;èƒ½å¤Ÿå¿«é€Ÿå®ç°è¿™äº›å¤æ‚çš„æ’è¡Œæ¦œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Redis çš„æ€»ä½“åŠŸèƒ½æ¦‚è§ˆå›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230802154814479.png&#34; alt=&#34;image-20230802154814479&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Redis çš„ä¼˜åŠ¿ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¯»å†™æ€§èƒ½æé«˜&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®ç±»å‹ä¸°å¯Œ&lt;/strong&gt;ï¼šä¸ä»…æ”¯æŒ&lt;font color=&#39;red&#39;&gt;key-value&lt;/font&gt;ç±»å‹çš„æ•°æ®ï¼ŒåŒæ—¶è¿˜æä¾›&lt;font color=&#39;red&#39;&gt;listï¼Œsetï¼Œzsetï¼Œhash&lt;/font&gt;ç­‰æ•°æ®ç»“æ„çš„å­˜å‚¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ”¯æŒæ•°æ®æŒä¹…åŒ–&lt;/strong&gt;ï¼šå¯å°†å†…å­˜ä¸­çš„æ•°æ®å­˜å…¥ç£ç›˜ä¸­ï¼Œé‡å¯æ—¶å†åŠ è½½åˆ°å†…å­˜ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ”¯æŒæ•°æ®å¤‡ä»½&lt;/strong&gt;ï¼Œå³ master-slave æ¨¡å¼çš„æ•°æ®å¤‡ä»½&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å°ç»“ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230802155434366.png&#34; alt=&#34;image-20230802155434366&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;redisä¸‹è½½&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redisä¸‹è½½&#34;&gt;#&lt;/a&gt; Redis ä¸‹è½½&lt;/h3&gt;
&lt;p&gt;è‹±æ–‡å®˜ç½‘ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9yZWRpcy5pby8=&#34;&gt;https://redis.io/&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ä¸­æ–‡ç½‘ç«™ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL3d3dy5yZWRpcy5jbi8=&#34;&gt;http://www.redis.cn/&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹è½½ç½‘ç«™ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9kb3dubG9hZC5yZWRpcy5pby9yZWxlYXNlcy8=&#34;&gt;https://download.redis.io/releases/&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ä¸­æ–‡æ–‡æ¡£ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cucmVkaXMuY29tLmNuL2RvY3VtZW50YXRpb24uaHRtbA==&#34;&gt;https://www.redis.com.cn/documentation.html&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Redis æºç ç½‘ç«™ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL3JlZGlzL3JlZGlz&#34;&gt;https://github.com/redis/redis&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Redis åœ¨çº¿æµ‹è¯•ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly90cnkucmVkaXMuaW8v&#34;&gt;https://try.redis.io/&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Redis å‘½ä»¤å‚è€ƒï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL2RvYy5yZWRpc2ZhbnMuY29tLw==&#34;&gt;http://doc.redisfans.com/&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&#34;redisæ€ä¹ˆç©&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redisæ€ä¹ˆç©&#34;&gt;#&lt;/a&gt; Redis æ€ä¹ˆç©&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å¤šç§æ•°æ®ç±»å‹åŸºæœ¬æ“ä½œå’Œé…ç½®&lt;/li&gt;
&lt;li&gt;æŒä¹…åŒ–å’Œå¤åˆ¶ï¼ŒRDB/AOF&lt;/li&gt;
&lt;li&gt;äº‹åŠ¡çš„æ§åˆ¶&lt;/li&gt;
&lt;li&gt;å¤åˆ¶ï¼Œé›†ç¾¤ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;redisçš„è¿­ä»£å†å²&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redisçš„è¿­ä»£å†å²&#34;&gt;#&lt;/a&gt; Redis çš„è¿­ä»£å†å²&lt;/h3&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230802161140294.png&#34; alt=&#34;image-20230802161140294&#34; /&gt;&lt;/p&gt;
&lt;center&gt;Redisé‡è¦ç‰ˆæœ¬&lt;/center&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;5.0 ç‰ˆæœ¬&lt;/font&gt;æ˜¯ç›´æ¥å‡çº§åˆ°&lt;font color=&#39;red&#39;&gt;6.0 ç‰ˆæœ¬&lt;/font&gt;ï¼Œå¯¹äºè¿™ä¸ªæ¿€è¿›çš„å‡çº§ï¼ŒRedis ä¹‹çˆ¶ antirez è¡¨ç°å¾—å¾ˆæœ‰ä¿¡å¿ƒå’Œå…´å¥‹ï¼Œæ‰€ä»¥ç¬¬ä¸€æ—¶é—´å‘æ–‡æ¥é˜è¿° 6.0 çš„ä¸€äº›é‡å¤§åŠŸèƒ½ &amp;quot;Redis 6.0.0 GA is out!&amp;quot;&lt;/p&gt;
&lt;p&gt;éšå Redis å†æ¥å†å‰ï¼Œç›´æ¥ç‹ç‚¸&lt;font color=&#39;red&#39;&gt;Redis7.0&lt;/font&gt;---2023 å¹´çˆ†æ¬¾ã€‚2022 å¹´ 4 æœˆ 27 æ—¥ Redis æ­£å¼å‘å¸ƒäº† 7.0 æ›´æ–°ï¼ˆå…¶å®æ—©åœ¨ 2022 å¹´ 1 æœˆ 31 æ—¥ï¼ŒRedis å·²ç»é¢„å‘å¸ƒäº† 7.0rc-1ï¼Œç»è¿‡ç¤¾åŒºçš„è€ƒéªŒåï¼Œç¡®è®¤æ²¡é‡å¤§ Bug æ‰ä¼šæ­£å¼å‘å¸ƒï¼‰&lt;/p&gt;
&lt;p&gt;Redis&lt;strong&gt; ç‰ˆæœ¬çš„å‘½åè§„åˆ™&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç‰ˆæœ¬å·ç¬¬äºŒä½å¦‚æœæ˜¯å¥‡æ•°ï¼Œåˆ™ä¸ºéç¨³å®šç‰ˆæœ¬ã€‚å¦‚ 2.7ã€2.9ã€3.1&lt;/li&gt;
&lt;li&gt;ç‰ˆæœ¬å·ç¬¬äºŒä½å¦‚æœæ˜¯å¶æ•°ï¼Œåˆ™ä¸ºç¨³å®šç‰ˆæœ¬ã€‚å¦‚ 2.6ã€2.8ã€3.0ã€3.2&lt;/li&gt;
&lt;li&gt;å½“å‰å¥‡æ•°ç‰ˆæœ¬å°±æ˜¯ä¸‹ä¸€ä¸ªç¨³å®šç‰ˆæœ¬çš„å¼€å‘ç‰ˆæœ¬ã€‚å¦‚ 2.9 ç‰ˆæœ¬æ˜¯ 3.0 ç‰ˆæœ¬çš„å¼€å‘ç‰ˆæœ¬&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;redis7çš„æ–°ç‰¹æ€§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis7çš„æ–°ç‰¹æ€§&#34;&gt;#&lt;/a&gt; Redis7 çš„æ–°ç‰¹æ€§&lt;/h3&gt;
&lt;p&gt;å¯ä»¥ä» redis çš„ GitHub çš„ releases ä¸­æŸ¥çœ‹å½“å‰ç‰ˆæœ¬çš„æ–°ç‰¹æ€§ï¼ŒRedis7 çš„éƒ¨åˆ†æ–°ç‰¹æ€§æ€»è§ˆï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230802162007264.png&#34; alt=&#34;image-20230802162007264&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Redis Functionsï¼šRedis å‡½æ•°ï¼Œä¸€ç§æ–°çš„é€šè¿‡æœåŠ¡ç«¯è„šæœ¬æ‰©å±• Redis çš„æ–¹å¼ï¼Œå‡½æ•°ä¸æ•°æ®æœ¬èº«ä¸€èµ·å­˜å‚¨ã€‚ç®€è¨€ä¹‹ï¼Œredis è‡ªå·±è¦å»&lt;font color=&#39;red&#39;&gt;æŠ¢å¤º Lua è„šæœ¬çš„é¥­ç¢—&lt;/font&gt;ï¼Œä½†æ˜¯ Lua å·²ç»ç¨³å®šä¸”æ™®åŠï¼Œæ‰€ä»¥ Redis Functions&lt;font color=&#39;red&#39;&gt;æ²¡å¿…è¦å­¦&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230802162230304.png&#34; alt=&#34;image-20230802162230304&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Client-eviction&lt;/strong&gt;ï¼šå®¢æˆ·ç«¯ç›¸å…³ä¼˜åŒ–ï¼Œèƒ½è®©æ›´å¤š client è¿æ¥ä¸Š&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;é™åˆ¶å®¢æˆ·ç«¯å†…å­˜ä½¿ç”¨&lt;/font&gt;ï¼Œä¸€æ—¦ Redis è¿æ¥è¾ƒå¤šï¼Œå†åŠ ä¸Šæ¯ä¸ªè¿æ¥çš„å†…å­˜å ç”¨éƒ½æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼ŒRedis æ€»è¿æ¥å†…å­˜å ç”¨å¯èƒ½ä¼šè¾¾åˆ° maxmemory çš„ä¸Šé™ï¼Œå¯ä»¥å¢åŠ å…è®¸é™åˆ¶æ‰€æœ‰å®¢æˆ·ç«¯çš„æ€»å†…å­˜ä½¿ç”¨é‡é…ç½®é¡¹ï¼Œredis.config ä¸­å¯¹åº”çš„é…ç½®é¡¹ï¼Œæœ‰ä¸¤ç§é…ç½®å½¢å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æŒ‡å®šå†…å­˜å¤§å°&lt;/font&gt;ã€‚ä¾‹å¦‚ maxmemory-clients 1g&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;åŸºäº maxmemory çš„ç™¾åˆ†æ¯”&lt;/font&gt;ã€‚ä¾‹å¦‚ maxmemory-clients 10%&lt;/li&gt;
&lt;/ul&gt;
&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230802162439869.png&#34; alt=&#34;image-20230802162439869&#34; style=&#34;zoom:80%;&#34; /&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Multi-part AOF&lt;/strong&gt;ï¼šå¤š AOF æ–‡ä»¶æ”¯æŒï¼ŒAOF æ–‡ä»¶ç”±ä¸€ä¸ªå˜æˆäº†å¤šä¸ªï¼Œä¸»è¦åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š&lt;font color=&#39;red&#39;&gt;åŸºæœ¬æ–‡ä»¶ (base files)&lt;/font&gt;ã€&lt;font color=&#39;red&#39;&gt;å¢é‡æ–‡ä»¶ (incr files)&lt;/font&gt;ï¼Œè¯·æ³¨æ„è¿™äº›æ–‡ä»¶åç§°æ˜¯å¤æ•°å½¢å¼è¯´æ˜æ¯ä¸€ç±»æ–‡ä»¶ä¸ä»…ä»…åªæœ‰ä¸€ä¸ªã€‚åœ¨æ­¤ä¹‹å¤–è¿˜å¼•å…¥äº†ä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;æ¸…å•æ–‡ä»¶ (manifest) &lt;/font&gt;ç”¨äºè·Ÿè¸ªæ–‡ä»¶ä»¥åŠæ–‡ä»¶çš„åˆ›å»ºå’Œåº”ç”¨é¡ºåºï¼ˆæ¢å¤ï¼‰ã€‚æ€§èƒ½æ€¥å‰§ä¸Šå‡ï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒ AOFRW å¼‚æ­¥è¯»å†™æ—¶çš„è¿ç»´ç—›ç‚¹&lt;/p&gt;
&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230802163004405.png&#34; alt=&#34;image-20230802163004405&#34; style=&#34;zoom:80%;&#34; /&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;config å‘½ä»¤å¢å¼º&lt;/strong&gt;ï¼šå¯¹äº&lt;font color=&#39;red&#39;&gt;Config Set å’Œ Get å‘½ä»¤&lt;/font&gt;ï¼Œæ”¯æŒåœ¨ä¸€æ¬¡è°ƒç”¨è¿‡ç¨‹ä¸­&lt;font color=&#39;red&#39;&gt;ä¼ é€’å¤šä¸ªé…ç½®å‚æ•°&lt;/font&gt;ã€‚ä¾‹å¦‚ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨æ‰§è¡Œä¸€æ¬¡ Config Set å‘½ä»¤ä¸­æ›´æ”¹å¤šä¸ªå‚æ•°ï¼š config set maxmemory 10000001 maxmemory-clients 50% port 6399&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è®¿é—®å®‰å…¨æ€§å¢å¼º ACL V2&lt;/strong&gt;ï¼šè®¿é—®æ§åˆ¶ï¼Œåœ¨ redis.conf é…ç½®æ–‡ä»¶ä¸­ï¼Œ&lt;font color=&#39;red&#39;&gt;protected-mode é»˜è®¤ä¸º yes&lt;/font&gt;ï¼Œåªæœ‰å½“ä½ å¸Œæœ›ä½ çš„å®¢æˆ·ç«¯åœ¨æ²¡æœ‰æˆæƒçš„æƒ…å†µä¸‹å¯ä»¥è¿æ¥åˆ° Redis server çš„æ—¶å€™å¯ä»¥å°† protected-mode è®¾ç½®ä¸º no&lt;/p&gt;
&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230802163118585.png&#34; alt=&#34;image-20230802163118585&#34; style=&#34;zoom:80%;&#34; /&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;listpack ç´§å‡‘åˆ—è¡¨è°ƒæ•´&lt;/strong&gt;ï¼šlistpack æ˜¯ç”¨æ¥&lt;font color=&#39;red&#39;&gt;æ›¿ä»£ ziplist çš„æ–°æ•°æ®ç»“æ„&lt;/font&gt;ï¼Œåœ¨ 7.0 ç‰ˆæœ¬å·²ç»æ²¡æœ‰ ziplist çš„é…ç½®äº†ï¼ˆ6.0 ç‰ˆæœ¬ä»…éƒ¨åˆ†æ•°æ®ç±»å‹ä½œä¸ºè¿‡æ¸¡é˜¶æ®µåœ¨ä½¿ç”¨ï¼‰ï¼Œlistpack å·²ç»æ›¿æ¢äº† ziplist ç±»ä¼¼ hash-max-ziplist-entries çš„é…ç½®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RDB ä¿å­˜æ—¶é—´è°ƒæ•´ï¼šå°†æŒä¹…åŒ–æ–‡ä»¶ RDB çš„ä¿å­˜è§„åˆ™å‘ç”Ÿäº†æ”¹å˜ï¼Œå°¤å…¶æ˜¯æ—¶é—´è®°å½•é¢‘åº¦å˜åŒ–&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‘½ä»¤æ–°å¢å’Œå˜åŠ¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Zset (æœ‰åºé›†åˆ) å¢åŠ  ZMPOPã€BZMPOPã€ZINTERCARD ç­‰å‘½ä»¤&lt;/li&gt;
&lt;li&gt;Set (é›†åˆ) å¢åŠ  SINTERCARD å‘½ä»¤&lt;/li&gt;
&lt;li&gt;LIST (åˆ—è¡¨) å¢åŠ  LMPOPã€BLMPOP ï¼Œä»æä¾›çš„é”®ååˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªéç©ºåˆ—è¡¨é”®ä¸­å¼¹å‡ºä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ€§èƒ½èµ„æºåˆ©ç”¨ç‡ã€å®‰å…¨ã€ç­‰æ”¹è¿›&lt;/strong&gt;ï¼šè‡ªèº«&lt;font color=&#39;red&#39;&gt;åº•å±‚éƒ¨åˆ†ä¼˜åŒ–&lt;/font&gt;æ”¹åŠ¨ï¼ŒRedis æ ¸å¿ƒåœ¨è®¸å¤šæ–¹é¢è¿›è¡Œäº†é‡æ„å’Œæ”¹è¿›&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ä¸»åŠ¨ç¢ç‰‡æ•´ç† V2&lt;/font&gt;ï¼šå¢å¼ºç‰ˆä¸»åŠ¨ç¢ç‰‡æ•´ç†ï¼Œé…åˆ Jemalloc ç‰ˆæœ¬æ›´æ–°ï¼Œæ›´å¿«æ›´æ™ºèƒ½ï¼Œå»¶æ—¶æ›´ä½&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;HyperLogLog æ”¹è¿›&lt;/font&gt;ï¼šåœ¨ Redis5.0 ä¸­ï¼ŒHyperLogLog ç®—æ³•å¾—åˆ°æ”¹è¿›ï¼Œä¼˜åŒ–äº†è®¡æ•°ç»Ÿè®¡æ—¶çš„å†…å­˜ä½¿ç”¨æ•ˆç‡ï¼Œ7 æ›´åŠ ä¼˜ç§€&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æ›´å¥½çš„å†…å­˜ç»Ÿè®¡æŠ¥å‘Š&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸ä¸ºäº† API å‘åå…¼å®¹ï¼Œæˆ‘ä»¬å°†&lt;font color=&#39;red&#39;&gt;ä¸å†ä½¿ç”¨ slave ä¸€è¯&lt;/font&gt;......(æ”¿æ²»æ­£ç¡®)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;2-rediså®‰è£…ä¸é…ç½®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#2-rediså®‰è£…ä¸é…ç½®&#34;&gt;#&lt;/a&gt; 2ã€Redis å®‰è£…ä¸é…ç½®&lt;/h2&gt;
&lt;p&gt;Redis ä¸€èˆ¬åœ¨&lt;strong&gt; Linux ç¯å¢ƒ&lt;/strong&gt;ä¸Šä½¿ç”¨ï¼Œé‚£ä¹ˆå°±æœ‰ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è´­ä¹°äº‘æœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;VMWare æœ¬åœ°è™šæ‹Ÿæœº&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éœ€è¦ç¡®ä¿ Linux æ˜¯ 64 ä½çš„ï¼Œå‘½ä»¤ &lt;code&gt;getconf LONG_BIT&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;linuxç¯å¢ƒéœ€è¦gccç¼–è¯‘ç¯å¢ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#linuxç¯å¢ƒéœ€è¦gccç¼–è¯‘ç¯å¢ƒ&#34;&gt;#&lt;/a&gt; Linux ç¯å¢ƒéœ€è¦ gcc ç¼–è¯‘ç¯å¢ƒ&lt;/h3&gt;
&lt;p&gt;å®‰è£… gccï¼š &lt;code&gt;yum -y install gcc-c++&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹ gcc ç‰ˆæœ¬ï¼š &lt;code&gt;gcc -v&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;redis7å®‰è£…æ­¥éª¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis7å®‰è£…æ­¥éª¤&#34;&gt;#&lt;/a&gt; Redis7 å®‰è£…æ­¥éª¤&lt;/h3&gt;
&lt;p&gt;è‡³å°‘ 6.0.8 ä»¥ä¸Šï¼Œæœ¬æ¬¡ä½¿ç”¨ Redis7.0&lt;/p&gt;
&lt;p&gt;å…·ä½“å®‰è£…æµç¨‹çœ‹è„‘å›¾ã€‚&lt;/p&gt;
&lt;h2 id=&#34;3-redisçš„10ç§æ•°æ®ç±»å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#3-redisçš„10ç§æ•°æ®ç±»å‹&#34;&gt;#&lt;/a&gt; &lt;mark&gt;3ã€Redis çš„ 10 ç§æ•°æ®ç±»å‹&lt;/mark&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;å‰æ–‡å·²å£°æ˜è¿‡ Redis æ˜¯åŸºäº Key-Value çš„ï¼Œè€Œ&lt;strong&gt; key ç±»å‹ä¸€èˆ¬æ˜¯ String&lt;/strong&gt;ï¼Œè¿™é‡Œæ‰€ä»‹ç»çš„&lt;strong&gt; 10 ç§æ•°æ®ç±»å‹æŒ‡çš„æ˜¯ value çš„æ•°æ®ç±»å‹&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;10ç§æ•°æ®ç±»å‹value&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#10ç§æ•°æ®ç±»å‹value&#34;&gt;#&lt;/a&gt; 10 ç§æ•°æ®ç±»å‹ (value)&lt;/h3&gt;
&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230803183405953.png&#34; alt=&#34;image-20230803183405953&#34; style=&#34;zoom:67%;&#34; /&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å­—ç¬¦ä¸²ï¼ˆStringï¼‰&lt;/strong&gt;ï¼š60% çš„åœºæ™¯ï¼Œå¸¸ç”¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;String æ˜¯ redis&lt;font color=&#39;red&#39;&gt;æœ€åŸºæœ¬çš„ç±»å‹&lt;/font&gt;ï¼Œä¸€ä¸ª key å¯¹åº”ä¸€ä¸ª valueã€‚&lt;/li&gt;
&lt;li&gt;String ç±»å‹æ˜¯&lt;font color=&#39;orange&#39;&gt;äºŒè¿›åˆ¶å®‰å…¨&lt;/font&gt;çš„ï¼Œæ„æ€æ˜¯ redis çš„ String&lt;font color=&#39;red&#39;&gt;å¯ä»¥åŒ…å«ä»»ä½•æ•°æ®&lt;/font&gt;ï¼Œæ¯”å¦‚&lt;font color=&#39;red&#39;&gt;jpg å›¾ç‰‡&lt;/font&gt;æˆ–è€…&lt;font color=&#39;red&#39;&gt;åºåˆ—åŒ–çš„å¯¹è±¡&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;String ç±»å‹æ˜¯ Redis æœ€åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œä¸€ä¸ª redis ä¸­&lt;font color=&#39;red&#39;&gt;å­—ç¬¦ä¸² value æœ€å¤šå¯ä»¥æ˜¯ 512M&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åˆ—è¡¨ï¼ˆListï¼‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Redis åˆ—è¡¨æ˜¯ç®€å•çš„&lt;font color=&#39;red&#39;&gt;å­—ç¬¦ä¸²åˆ—è¡¨&lt;/font&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;æŒ‰ç…§æ’å…¥é¡ºåºæ’åº&lt;/font&gt;ã€‚ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°åˆ—è¡¨çš„&lt;font color=&#39;red&#39;&gt;å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰&lt;/font&gt;æˆ–è€…&lt;font color=&#39;red&#39;&gt;å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;å®ƒçš„åº•å±‚å®é™…æ˜¯ä¸ª&lt;font color=&#39;orange&#39;&gt;åŒç«¯é“¾è¡¨&lt;/font&gt;ï¼Œæœ€å¤šå¯ä»¥åŒ…å«&lt;font color=&#39;red&#39;&gt; 2&lt;sup&gt;32&lt;/sup&gt; - 1 &lt;/font&gt;ä¸ªå…ƒç´  (4294967295, æ¯ä¸ªåˆ—è¡¨è¶…è¿‡ 40 äº¿ä¸ªå…ƒç´ )&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å“ˆå¸Œé›†ï¼ˆHashï¼‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Redis hash æ˜¯ä¸€ä¸ª String ç±»å‹çš„&lt;font color=&#39;orange&#39;&gt; fieldï¼ˆå­—æ®µï¼‰ å’Œ valueï¼ˆå€¼ï¼‰ çš„æ˜ å°„è¡¨&lt;/font&gt;ï¼Œhash ç‰¹åˆ«é€‚åˆç”¨äº&lt;font color=&#39;red&#39;&gt;å­˜å‚¨å¯¹è±¡&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;Redis ä¸­æ¯ä¸ª hash å¯ä»¥å­˜å‚¨&lt;font color=&#39;red&#39;&gt; 2&lt;sup&gt;32&lt;/sup&gt; - 1 é”®å€¼å¯¹&lt;/font&gt;ï¼ˆ40 å¤šäº¿ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é›†åˆï¼ˆSetï¼‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Redis çš„ Set æ˜¯ String ç±»å‹çš„&lt;font color=&#39;orange&#39;&gt;æ— åºé›†åˆ&lt;/font&gt;ã€‚é›†åˆæˆå‘˜æ˜¯å”¯ä¸€çš„ï¼Œè¿™å°±æ„å‘³ç€é›†åˆä¸­çš„å…ƒç´ &lt;font color=&#39;red&#39;&gt;ä¸èƒ½é‡å¤&lt;/font&gt;ï¼Œé›†åˆå¯¹è±¡çš„&lt;font color=&#39;red&#39;&gt;ç¼–ç å¯ä»¥æ˜¯ intset æˆ–è€… hashtable&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;Redis ä¸­ Set é›†åˆæ˜¯&lt;font color=&#39;red&#39;&gt;é€šè¿‡å“ˆå¸Œé›†å®ç°&lt;/font&gt;çš„ï¼Œæ‰€ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯ O (1)ã€‚&lt;/li&gt;
&lt;li&gt;é›†åˆä¸­&lt;font color=&#39;red&#39;&gt;æœ€å¤§çš„æˆå‘˜æ•°ä¸º 2&lt;sup&gt;32&lt;/sup&gt; - 1&lt;/font&gt; (4294967295, æ¯ä¸ªé›†åˆå¯å­˜å‚¨ 40 å¤šäº¿ä¸ªæˆå‘˜)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æœ‰åºé›†åˆï¼ˆZSetï¼‰&lt;/strong&gt;ï¼šå³ä¸Šå›¾ä¸­çš„ Sorted Set&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Redis zset å’Œ set ä¸€æ ·ä¹Ÿæ˜¯ string ç±»å‹å…ƒç´ çš„é›†åˆï¼Œä¸”&lt;font color=&#39;red&#39;&gt;ä¸å…è®¸é‡å¤&lt;/font&gt;çš„æˆå‘˜&lt;/li&gt;
&lt;li&gt;ä¸åŒçš„æ˜¯&lt;font color=&#39;orange&#39;&gt;æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ª double ç±»å‹çš„åˆ†æ•°&lt;/font&gt;ï¼Œredis æ­£æ˜¯é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚&lt;/li&gt;
&lt;li&gt;zset çš„&lt;font color=&#39;red&#39;&gt;æˆå‘˜æ˜¯å”¯ä¸€çš„ï¼Œä½†åˆ†æ•° (score) å´å¯ä»¥é‡å¤&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;zset é›†åˆæ˜¯&lt;font color=&#39;red&#39;&gt;é€šè¿‡å“ˆå¸Œé›†å®ç°&lt;/font&gt;çš„ï¼Œæ‰€ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯ O (1)ã€‚ é›†åˆä¸­&lt;font color=&#39;red&#39;&gt;æœ€å¤§çš„æˆå‘˜æ•°ä¸º 2&lt;sup&gt;32&lt;/sup&gt; - 1&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åœ°ç†ç©ºé—´ï¼ˆGEOï¼‰&lt;/strong&gt;ï¼šå³&lt;font color=&#39;red&#39;&gt;ç»çº¬åº¦&lt;/font&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Redis GEO ä¸»è¦ç”¨äº&lt;font color=&#39;orange&#39;&gt;å­˜å‚¨åœ°ç†ä½ç½®ä¿¡æ¯&lt;/font&gt;ï¼Œå¹¶å¯¹å­˜å‚¨çš„ä¿¡æ¯è¿›è¡Œæ“ä½œï¼ŒåŒ…æ‹¬
&lt;ul&gt;
&lt;li&gt;æ·»åŠ åœ°ç†ä½ç½®çš„åæ ‡ã€‚&lt;/li&gt;
&lt;li&gt;è·å–åœ°ç†ä½ç½®çš„åæ ‡ã€‚&lt;/li&gt;
&lt;li&gt;è®¡ç®—ä¸¤ä¸ªä½ç½®ä¹‹é—´çš„è·ç¦»ã€‚&lt;/li&gt;
&lt;li&gt;æ ¹æ®ç”¨æˆ·ç»™å®šçš„ç»çº¬åº¦åæ ‡æ¥è·å–æŒ‡å®šèŒƒå›´å†…çš„åœ°ç†ä½ç½®é›†åˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŸºæ•°ç»Ÿè®¡ï¼ˆHyperLogLogï¼‰&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;åŸºæ•°æŒ‡çš„æ˜¯ä¸é‡å¤çš„æ•°å­—&lt;/font&gt;ï¼Œä¾‹å¦‚ç»Ÿè®¡ç½‘ç«™çš„è®¿é—®é‡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HyperLoglog æ˜¯&lt;font color=&#39;orange&#39;&gt;ä¸€ç§ä¼°è®¡é›†åˆåŸºæ•°çš„æ•°æ®ç»“æ„&lt;/font&gt;ï¼Œä½œä¸º&lt;font color=&#39;red&#39;&gt;ä¸€ç§æ¦‚ç‡æ•°æ®ç»“æ„&lt;/font&gt;ï¼ŒHyperLoglog ä¸ºæœ‰æ•ˆçš„ç©ºé—´åˆ©ç”¨ç‡æä¾›äº†å®Œç¾çš„ç²¾åº¦ã€‚&lt;/li&gt;
&lt;li&gt;HyperLogLog å®ç°&lt;font color=&#39;red&#39;&gt;æœ€å¤šä½¿ç”¨ 12 KB&lt;/font&gt;ï¼Œå¹¶&lt;font color=&#39;red&#39;&gt;æä¾› 0.81% çš„æ ‡å‡†é”™è¯¯&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;HyperLogLog æ˜¯ç”¨æ¥&lt;font color=&#39;orange&#39;&gt;åšåŸºæ•°ç»Ÿè®¡çš„ç®—æ³•&lt;/font&gt;ï¼ŒHyperLogLog çš„ä¼˜ç‚¹æ˜¯ï¼Œåœ¨è¾“å…¥å…ƒç´ çš„æ•°é‡æˆ–è€…ä½“ç§¯éå¸¸éå¸¸å¤§æ—¶ï¼Œ&lt;font color=&#39;red&#39;&gt;è®¡ç®—åŸºæ•°æ‰€éœ€çš„ç©ºé—´æ€»æ˜¯å›ºå®šï¼Œä¸”å¾ˆå°&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;åœ¨ Redis é‡Œé¢ï¼Œæ¯ä¸ª HyperLogLog é”®&lt;font color=&#39;red&#39;&gt;åªéœ€è¦èŠ±è´¹ 12 KB å†…å­˜ï¼Œå°±å¯ä»¥è®¡ç®—æ¥è¿‘ 2&lt;sup&gt;64&lt;/sup&gt; ä¸ªä¸åŒå…ƒç´ çš„åŸºæ•°&lt;/font&gt;ã€‚è¿™å’Œè®¡ç®—åŸºæ•°æ—¶ï¼Œå…ƒç´ è¶Šå¤šè€—è´¹å†…å­˜å°±è¶Šå¤šçš„é›†åˆå½¢æˆé²œæ˜å¯¹æ¯”ã€‚&lt;/li&gt;
&lt;li&gt;ä½†æ˜¯ï¼Œå› ä¸º HyperLogLog &lt;font color=&#39;red&#39;&gt;åªä¼šæ ¹æ®è¾“å…¥å…ƒç´ æ¥è®¡ç®—åŸºæ•°ï¼Œè€Œä¸ä¼šå‚¨å­˜è¾“å…¥å…ƒç´ æœ¬èº«&lt;/font&gt;ï¼Œæ‰€ä»¥ HyperLogLog &lt;font color=&#39;red&#39;&gt;ä¸èƒ½åƒé›†åˆé‚£æ ·ï¼Œè¿”å›è¾“å…¥çš„å„ä¸ªå…ƒç´ &lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä½å›¾ï¼ˆbitmapï¼‰&lt;/strong&gt;ï¼šä¾‹å¦‚æ¯æ—¥ç­¾åˆ°ï¼Œæ˜¯å¦ç‚¹èµ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230803185955581.png&#34; alt=&#34;image-20230803185955581&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”±&lt;font color=&#39;orange&#39;&gt;0 å’Œ 1&lt;/font&gt;çŠ¶æ€è¡¨ç°äºŒè¿›åˆ¶ä½çš„&lt;font color=&#39;orange&#39;&gt;bit æ•°ç»„&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä½åŸŸï¼ˆbitfieldï¼‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡ bitfield å‘½ä»¤å¯ä»¥ä¸€æ¬¡æ€§æ“ä½œå¤šä¸ªæ¯”ç‰¹ä½åŸŸ (æŒ‡çš„æ˜¯&lt;font color=&#39;orange&#39;&gt;è¿ç»­çš„å¤šä¸ªæ¯”ç‰¹ä½&lt;/font&gt;)ï¼Œå®ƒä¼šæ‰§è¡Œä¸€ç³»åˆ—æ“ä½œå¹¶è¿”å›ä¸€ä¸ªå“åº”æ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ å¯¹åº”å‚æ•°åˆ—è¡¨ä¸­çš„ç›¸åº”æ“ä½œçš„æ‰§è¡Œç»“æœã€‚&lt;/li&gt;
&lt;li&gt;è¯´ç™½äº†å°±æ˜¯&lt;font color=&#39;red&#39;&gt;é€šè¿‡ bitfield å‘½ä»¤æˆ‘ä»¬å¯ä»¥ä¸€æ¬¡æ€§å¯¹å¤šä¸ªæ¯”ç‰¹ä½åŸŸè¿›è¡Œæ“ä½œ&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æµï¼ˆStreamï¼‰&lt;/strong&gt;ï¼šRedis è‡ªå·±çš„&lt;font color=&#39;red&#39;&gt;æ¶ˆæ¯ï¼ˆé˜Ÿåˆ—ï¼‰ä¸­é—´ä»¶&lt;/font&gt;ï¼Œä½†è¿˜æ˜¯ä¸å¦‚åˆ«äººçš„å¥½&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Redis Stream æ˜¯ Redis &lt;font color=&#39;red&#39;&gt;5.0 ç‰ˆæœ¬æ–°å¢åŠ &lt;/font&gt;çš„æ•°æ®ç»“æ„ã€‚&lt;/li&gt;
&lt;li&gt;Redis Stream ä¸»è¦&lt;font color=&#39;orange&#39;&gt;ç”¨äºæ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMQï¼ŒMessage Queueï¼‰&lt;/font&gt;ï¼ŒRedis æœ¬èº«æ˜¯æœ‰ä¸€ä¸ª Redis å‘å¸ƒè®¢é˜… (pub/sub) æ¥å®ç°æ¶ˆæ¯é˜Ÿåˆ—çš„åŠŸèƒ½ï¼Œä½†å®ƒæœ‰ä¸ªç¼ºç‚¹å°±æ˜¯æ¶ˆæ¯æ— æ³•æŒä¹…åŒ–ï¼Œå¦‚æœå‡ºç°ç½‘ç»œæ–­å¼€ã€Redis å®•æœºç­‰ï¼Œæ¶ˆæ¯å°±ä¼šè¢«ä¸¢å¼ƒã€‚&lt;/li&gt;
&lt;li&gt;ç®€å•æ¥è¯´&lt;font color=&#39;red&#39;&gt;å‘å¸ƒè®¢é˜… (pub/sub) å¯ä»¥åˆ†å‘æ¶ˆæ¯ï¼Œä½†æ— æ³•è®°å½•å†å²æ¶ˆæ¯&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;è€Œ Redis Stream æä¾›äº†&lt;font color=&#39;red&#39;&gt;æ¶ˆæ¯çš„æŒä¹…åŒ–&lt;/font&gt;å’Œ&lt;font color=&#39;red&#39;&gt;ä¸»å¤‡å¤åˆ¶&lt;/font&gt;åŠŸèƒ½ï¼Œå¯ä»¥è®©ä»»ä½•å®¢æˆ·ç«¯è®¿é—®ä»»ä½•æ—¶åˆ»çš„æ•°æ®ï¼Œå¹¶ä¸”èƒ½è®°ä½æ¯ä¸€ä¸ªå®¢æˆ·ç«¯çš„è®¿é—®ä½ç½®ï¼Œè¿˜èƒ½&lt;font color=&#39;red&#39;&gt;ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å¸¸è§æ•°æ®ç±»å‹çš„æ“ä½œå‘½ä»¤æ‰‹å†Œ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¸¸è§æ•°æ®ç±»å‹çš„æ“ä½œå‘½ä»¤æ‰‹å†Œ&#34;&gt;#&lt;/a&gt; å¸¸è§æ•°æ®ç±»å‹çš„æ“ä½œå‘½ä»¤æ‰‹å†Œ&lt;/h3&gt;
&lt;p&gt;è‹±æ–‡å®˜ç½‘ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy8=&#34;&gt;https://redis.io/commands/&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ä¸­æ–‡å®˜ç½‘ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL3JlZGlzLmNuL2NvbW1hbmRzLmh0bWw=&#34;&gt;http://redis.cn/commands.html&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&#34;keyç›¸å…³çš„æ“ä½œå‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#keyç›¸å…³çš„æ“ä½œå‘½ä»¤&#34;&gt;#&lt;/a&gt; key ç›¸å…³çš„æ“ä½œå‘½ä»¤&lt;/h3&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230803191631855.png&#34; alt=&#34;image-20230803191631855&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;KEYS *&lt;/code&gt; &lt;/strong&gt;ï¼šæŸ¥çœ‹å½“å‰åº“æ‰€æœ‰çš„ key&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;EXISTS key&lt;/code&gt; &lt;/strong&gt;ï¼šåˆ¤æ–­æŸä¸ª key æ˜¯å¦å­˜åœ¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;TYPE key&lt;/code&gt; &lt;/strong&gt;ï¼šæŸ¥çœ‹æŸä¸ª key çš„&lt;strong&gt; value çš„æ•°æ®ç±»å‹&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;DEL key&lt;/code&gt; &lt;/strong&gt;ï¼šåˆ é™¤æŸä¸ª key æ•°æ®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;UNLINK key&lt;/code&gt; &lt;/strong&gt;ï¼šéé˜»å¡åˆ é™¤æŸä¸ª keyï¼Œä»…ä»…å°† key ä» keyspace å…ƒæ•°æ®ä¸­åˆ é™¤ï¼ŒçœŸæ­£çš„åˆ é™¤ä¼šåœ¨åç»­å¼‚æ­¥ä¸­æ“ä½œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;TTL key&lt;/code&gt; &lt;/strong&gt;ï¼šæŸ¥çœ‹æŸä¸ª key è¿˜æœ‰å¤šå°‘ç§’è¿‡æœŸï¼Œ-1 è¡¨ç¤ºæ°¸ä¸è¿‡æœŸï¼Œ-2 è¡¨ç¤ºå·²è¿‡æœŸ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;EXPIRE key ç§’é’Ÿ&lt;/code&gt; &lt;/strong&gt;ï¼šè®¾ç½®æŸä¸ª key çš„è¿‡æœŸæ—¶é—´ï¼Œé»˜è®¤ - 1 è¡¨ç¤ºæ°¸ä¸è¿‡æœŸã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Redis çš„è¿‡æœŸæ—¶é—´è®¾ç½®æœ‰å››ç§å½¢å¼ï¼š&lt;/p&gt;
&lt;p&gt;ãƒ»EXPIRE ç§’ â€”â€” è®¾ç½®æŒ‡å®šçš„è¿‡æœŸæ—¶é—´ (ç§’)ï¼Œè¡¨ç¤ºçš„æ˜¯æ—¶é—´é—´éš”ã€‚&lt;/p&gt;
&lt;p&gt;ãƒ»PEXPIRE æ¯«ç§’ â€”â€” è®¾ç½®æŒ‡å®šçš„è¿‡æœŸæ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ï¼Œè¡¨ç¤ºçš„æ˜¯æ—¶é—´é—´éš”ã€‚&lt;/p&gt;
&lt;p&gt;ãƒ»EXPIREAT æ—¶é—´æˆ³ - ç§’ â€”â€” è®¾ç½®æŒ‡å®šçš„ Key è¿‡æœŸçš„ Unix æ—¶é—´ï¼Œå•ä½ä¸ºç§’ï¼Œè¡¨ç¤ºçš„æ˜¯æ—¶é—´ / æ—¶åˆ»ã€‚&lt;/p&gt;
&lt;p&gt;ãƒ»PEXPIREAT æ—¶é—´æˆ³ - æ¯«ç§’ â€”â€” è®¾ç½®æŒ‡å®šçš„ Key åˆ°æœŸçš„ Unix æ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ï¼Œè¡¨ç¤ºçš„æ˜¯æ—¶é—´ / æ—¶åˆ»ã€‚&lt;/p&gt;
&lt;p&gt;expire key seconds [NX|XX|GT|LT]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;MOVE key dbindex[0-15]&lt;/code&gt; ï¼šå°†å½“å‰æ•°æ®åº“ä¸­çš„æŸä¸ª key å‰ªåˆ‡åˆ°æŒ‡å®šçš„æ•°æ®åº“ db ä¸­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;SELECT dbindex&lt;/code&gt; ï¼šåˆ‡æ¢åˆ°æŒ‡å®šçš„æ•°æ®åº“ [0-15]ï¼Œé»˜è®¤ä¸º 0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;DBSIZE&lt;/code&gt; ï¼šæŸ¥çœ‹å½“å‰æ•°æ®åº“çš„ key æ•°é‡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;FLUSHDB&lt;/code&gt; ï¼šæ¸…ç©ºå½“å‰åº“&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;FLUSHALL&lt;/code&gt; ï¼šé€šæ€å…¨éƒ¨åº“&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;valueæ•°æ®ç±»å‹ç›¸å…³çš„æ“ä½œå‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#valueæ•°æ®ç±»å‹ç›¸å…³çš„æ“ä½œå‘½ä»¤&#34;&gt;#&lt;/a&gt; value æ•°æ®ç±»å‹ç›¸å…³çš„æ“ä½œå‘½ä»¤&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;orange&#39;&gt;å‘½ä»¤æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ï¼Œä½†æ˜¯ key æ˜¯åŒºåˆ†å¤§å°å†™çš„&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;å¸®åŠ©å‘½ä»¤ï¼š &lt;code&gt;HELP @æ•°æ®ç±»å‹&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;å­—ç¬¦ä¸²string&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å­—ç¬¦ä¸²string&#34;&gt;#&lt;/a&gt; å­—ç¬¦ä¸²ï¼ˆStringï¼‰&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å• key å• valueï¼Œæœ€å¸¸ç”¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;å‘½ä»¤æ¦‚è§ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘½ä»¤æ¦‚è§ˆ&#34;&gt;#&lt;/a&gt; å‘½ä»¤æ¦‚è§ˆ&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230803204957896.png&#34; alt=&#34;image-20230803204957896&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;è®¾ç½®è·å–å•ä¸ªé”®å€¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è®¾ç½®è·å–å•ä¸ªé”®å€¼&#34;&gt;#&lt;/a&gt; è®¾ç½® / è·å–å•ä¸ªé”®å€¼&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;SET key value&lt;/code&gt; &lt;/strong&gt;ï¼šå°†é”® &lt;code&gt;key&lt;/code&gt;  è®¾å®šä¸ºæŒ‡å®šçš„ â€œå­—ç¬¦ä¸²â€ &lt;code&gt;value&lt;/code&gt;  å€¼ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœ  &lt;code&gt;key&lt;/code&gt;  å·²ç»ä¿å­˜äº†ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªæ“ä½œä¼šç›´æ¥è¦†ç›–åŸæ¥çš„å€¼ï¼Œå¹¶ä¸”å¿½ç•¥åŸå§‹ç±»å‹ã€‚&lt;/li&gt;
&lt;li&gt;å½“ &lt;code&gt;set&lt;/code&gt;  å‘½ä»¤æ‰§è¡ŒæˆåŠŸä¹‹åï¼Œä¹‹å‰è®¾ç½®çš„è¿‡æœŸæ—¶é—´éƒ½å°†å¤±æ•ˆï¼Œé™¤éè®¾ç½®äº† &lt;code&gt;KEEPTTL&lt;/code&gt;  å‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›å€¼ï¼š &lt;code&gt;simple-string-reply&lt;/code&gt; ï¼šå¦‚æœ &lt;code&gt;SET&lt;/code&gt;  å‘½ä»¤æ­£å¸¸æ‰§è¡Œé‚£ä¹ˆå›è¿”å› &lt;code&gt;OK&lt;/code&gt; ï¼Œå¦åˆ™å¦‚æœåŠ äº†  &lt;code&gt;NX&lt;/code&gt;  æˆ–è€…  &lt;code&gt;XX&lt;/code&gt;  é€‰é¡¹ï¼Œä½†æ˜¯æ²¡æœ‰è®¾ç½®æ¡ä»¶ã€‚é‚£ä¹ˆä¼šè¿”å› &lt;code&gt;nil&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦ï¼š &lt;code&gt;O(1)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;å®Œæ•´çš„å‘½ä»¤æ˜¯ï¼š &lt;code&gt;set key value [NX|XX] [GET] [EX seconds|PX milliseconds|EXAT unix-time-seconds|PXAT unix-time-milliseconds|KEEPTTL]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804102328872.png&#34; alt=&#34;image-20230804102328872&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä½•è·å¾—è®¾ç½®æŒ‡å®šçš„ Key è¿‡æœŸçš„ Unix æ—¶é—´ï¼Œå•ä½ä¸ºç§’ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token class-name&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;out&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Long&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;toString&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;currentTimeMillis&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1000L&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;GET key&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å› &lt;code&gt;key&lt;/code&gt;  çš„ &lt;code&gt;value&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœ &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨ï¼Œè¿”å›ç‰¹æ®Šå€¼ &lt;code&gt;nil&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœ &lt;code&gt;key&lt;/code&gt;  çš„ &lt;code&gt;value&lt;/code&gt;  ä¸æ˜¯ stringï¼Œå°±è¿”å›é”™è¯¯ï¼Œå› ä¸º &lt;code&gt;GET&lt;/code&gt;  åªå¤„ç† string ç±»å‹çš„ &lt;code&gt;values&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦ï¼š &lt;code&gt;O(1)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è®¾ç½®è·å–å¤šä¸ªé”®å€¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è®¾ç½®è·å–å¤šä¸ªé”®å€¼&#34;&gt;#&lt;/a&gt; è®¾ç½® / è·å–å¤šä¸ªé”®å€¼&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;MSET key value [key value ...]&lt;/code&gt; &lt;/strong&gt;ï¼šå¯¹åº”ç»™å®šçš„ keys åˆ°ä»–ä»¬ç›¸åº”çš„ values ä¸Šã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;MSET&lt;/code&gt;  ä¼š&lt;font color=&#39;red&#39;&gt;ç”¨æ–°çš„ value è¦†ç›–æ—§çš„&lt;/font&gt;ï¼Œå°±åƒæ™®é€šçš„ &lt;code&gt;SET&lt;/code&gt;  å‘½ä»¤ä¸€æ ·ã€‚å¦‚æœä½ ä¸æƒ³è¦†ç›–å·²ç»å­˜åœ¨çš„ valuesï¼Œè¯·å‚çœ‹å‘½ä»¤ &lt;code&gt;MSETNX&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;MSET&lt;/code&gt;  æ˜¯&lt;font color=&#39;red&#39;&gt;åŸå­çš„&lt;/font&gt;ï¼Œæ‰€ä»¥æ‰€æœ‰ç»™å®šçš„ keys æ˜¯ä¸€æ¬¡æ€§ set çš„ã€‚å®¢æˆ·ç«¯ä¸å¯èƒ½çœ‹åˆ°è¿™ç§ä¸€éƒ¨åˆ† keys è¢«æ›´æ–°è€Œå¦å¤–çš„æ²¡æœ‰æ”¹å˜çš„æƒ…å†µã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›å€¼ï¼š &lt;code&gt;simple-string-reply&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;æ€»æ˜¯ OK&lt;/font&gt;ï¼Œå› ä¸º MSET ä¸ä¼šå¤±è´¥ã€‚&lt;/li&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦ï¼š &lt;code&gt;O(N)&lt;/code&gt; ï¼Œå…¶ä¸­ N æ˜¯è¦è®¾ç½®çš„ key çš„æ•°é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;MGET key [key ...]&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å›æ‰€æœ‰æŒ‡å®šçš„ &lt;code&gt;key&lt;/code&gt;  çš„ &lt;code&gt;value&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äºæ¯ä¸ªä¸å¯¹åº” string æˆ–è€…ä¸å­˜åœ¨çš„ keyï¼Œéƒ½è¿”å›ç‰¹æ®Šå€¼ &lt;code&gt;nil&lt;/code&gt; ã€‚æ­£å› ä¸ºæ­¤ï¼Œ&lt;font color=&#39;red&#39;&gt;è¿™ä¸ªæ“ä½œä»æ¥ä¸ä¼šå¤±è´¥&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›å€¼ï¼š &lt;code&gt;array-reply&lt;/code&gt; : æŒ‡å®šçš„ key å¯¹åº”çš„ values çš„ list&lt;/li&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦ï¼š &lt;code&gt;O(N)&lt;/code&gt; ï¼Œå…¶ä¸­ N æ˜¯è¦æŸ¥è¯¢çš„ key çš„æ•°é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;MSETNX key value [key value ...]&lt;/code&gt; &lt;/strong&gt;ï¼šå¯¹åº”ç»™å®šçš„ keys åˆ°ä»–ä»¬ç›¸åº”çš„ values ä¸Šï¼Œä½†æ˜¯åªè¦æœ‰ä¸€ä¸ª key å·²ç»å­˜åœ¨ï¼Œ &lt;code&gt;MSETNX&lt;/code&gt;  ä¸€ä¸ªæ“ä½œéƒ½ä¸ä¼šæ‰§è¡Œã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”±äºè¿™ç§ç‰¹æ€§ï¼Œ &lt;code&gt;MSETNX&lt;/code&gt;  å¯ä»¥å®ç°&lt;font color=&#39;red&#39;&gt;è¦ä¹ˆæ‰€æœ‰çš„æ“ä½œéƒ½æˆåŠŸï¼Œè¦ä¹ˆä¸€ä¸ªéƒ½ä¸æ‰§è¡Œ&lt;/font&gt;ï¼Œè¿™æ ·å¯ä»¥ç”¨æ¥è®¾ç½®ä¸åŒçš„ keyï¼Œæ¥è¡¨ç¤ºä¸€ä¸ªå”¯ä¸€çš„å¯¹è±¡çš„ä¸åŒå­—æ®µã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;MSETNX&lt;/code&gt;  æ˜¯&lt;font color=&#39;red&#39;&gt;åŸå­çš„&lt;/font&gt;ï¼Œæ‰€ä»¥æ‰€æœ‰ç»™å®šçš„ keys æ˜¯ä¸€æ¬¡æ€§ set çš„ã€‚å®¢æˆ·ç«¯ä¸å¯èƒ½çœ‹åˆ°è¿™ç§ä¸€éƒ¨åˆ† keys è¢«æ›´æ–°è€Œå¦å¤–çš„æ²¡æœ‰æ”¹å˜çš„æƒ…å†µã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›å€¼ï¼š &lt;code&gt;integer-reply&lt;/code&gt; ï¼Œåªæœ‰ä»¥ä¸‹ä¸¤ç§å€¼ï¼š
&lt;ul&gt;
&lt;li&gt;1 å¦‚æœæ‰€æœ‰çš„ key è¢« set&lt;/li&gt;
&lt;li&gt;0 å¦‚æœæ²¡æœ‰ key è¢« set (è‡³å°‘å…¶ä¸­æœ‰ä¸€ä¸ª key æ˜¯å­˜åœ¨çš„)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦ï¼š &lt;code&gt;O(N)&lt;/code&gt; ï¼Œå…¶ä¸­ N æ˜¯è¦è®¾ç½®çš„ key çš„æ•°é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è·å–æŒ‡å®šåŒºé—´èŒƒå›´å†…çš„å€¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è·å–æŒ‡å®šåŒºé—´èŒƒå›´å†…çš„å€¼&#34;&gt;#&lt;/a&gt; è·å–æŒ‡å®šåŒºé—´èŒƒå›´å†…çš„å€¼&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;SETRANGE key offset value&lt;/code&gt; &lt;/strong&gt;ï¼šè¦†ç›– &lt;code&gt;key&lt;/code&gt;  å¯¹åº”çš„ string çš„ä¸€éƒ¨åˆ†ï¼Œä»æŒ‡å®šçš„ &lt;code&gt;offset&lt;/code&gt;  å¤„å¼€å§‹ï¼Œè¦†ç›– &lt;code&gt;value&lt;/code&gt;  çš„é•¿åº¦ã€‚
&lt;ul&gt;
&lt;li&gt;å¦‚æœ &lt;code&gt;offset&lt;/code&gt;  æ¯”å½“å‰ &lt;code&gt;key&lt;/code&gt;  å¯¹åº” string è¿˜è¦é•¿ï¼Œé‚£è¿™ä¸ª string åé¢å°±&lt;font color=&#39;red&#39;&gt;è¡¥ 0&lt;/font&gt;ä»¥è¾¾åˆ° offsetã€‚&lt;/li&gt;
&lt;li&gt;ä¸å­˜åœ¨çš„ &lt;code&gt;key&lt;/code&gt;  è¢«è®¤ä¸ºæ˜¯&lt;font color=&#39;red&#39;&gt;ç©ºå­—ç¬¦ä¸²&lt;/font&gt;ï¼Œæ‰€ä»¥è¿™ä¸ªå‘½ä»¤å¯ä»¥ç¡®ä¿ key æœ‰ä¸€ä¸ªè¶³å¤Ÿå¤§çš„å­—ç¬¦ä¸²ï¼Œèƒ½åœ¨ &lt;code&gt;offset&lt;/code&gt;  å¤„è®¾ç½® valueã€‚&lt;/li&gt;
&lt;li&gt;æ¨¡å¼ï¼šæ­£å› ä¸ºæœ‰äº† &lt;code&gt;SETRANGE&lt;/code&gt;  å’Œç±»ä¼¼åŠŸèƒ½çš„ &lt;code&gt;GETRANGE&lt;/code&gt;  å‘½ä»¤ï¼Œä½ å¯ä»¥æŠŠ Redis çš„&lt;font color=&#39;red&#39;&gt;å­—ç¬¦ä¸²å½“æˆçº¿æ€§æ•°ç»„&lt;/font&gt;ï¼Œéšæœºè®¿é—®åªè¦ O (1) å¤æ‚åº¦ã€‚è¿™åœ¨å¾ˆå¤šçœŸå®åœºæ™¯åº”ç”¨é‡Œéå¸¸å¿«å’Œé«˜æ•ˆã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›å€¼ï¼š &lt;code&gt;integer-reply&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;ä¿®æ”¹åçš„å­—ç¬¦ä¸²é•¿åº¦&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦ï¼š &lt;code&gt;Oï¼ˆ1ï¼‰&lt;/code&gt; ï¼Œä¸è®¡ç®—å°±åœ°å¤åˆ¶æ–°å­—ç¬¦ä¸²æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚
&lt;ul&gt;
&lt;li&gt;é€šå¸¸ï¼Œæ­¤å­—ç¬¦ä¸²éå¸¸å°ï¼Œå› æ­¤æ‘Šé”€å¤æ‚åº¦ä¸º Oï¼ˆ1ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å¦åˆ™å¤æ‚åº¦ä¸º Oï¼ˆMï¼‰ï¼ŒM æ˜¯ value å‚æ•°çš„é•¿åº¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;GETRANGE key start end&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å› &lt;code&gt;key&lt;/code&gt;  å¯¹åº”çš„å­—ç¬¦ä¸² &lt;code&gt;value&lt;/code&gt;  çš„å­ä¸²ï¼Œè¿™ä¸ªå­ä¸²æ˜¯ç”± &lt;code&gt;start&lt;/code&gt;  å’Œ &lt;code&gt;end&lt;/code&gt;  ä½ç§»å†³å®šçš„ï¼ˆä¸¤è€…éƒ½åœ¨ string å†…ï¼‰ã€‚
&lt;ul&gt;
&lt;li&gt;å¯ä»¥ç”¨&lt;font color=&#39;red&#39;&gt;è´Ÿçš„ä½ç§»&lt;/font&gt;æ¥è¡¨ç¤ºä» string å°¾éƒ¨å¼€å§‹æ•°çš„ä¸‹æ ‡ã€‚æ‰€ä»¥ - 1 å°±æ˜¯æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œ-2 å°±æ˜¯å€’æ•°ç¬¬äºŒä¸ªï¼Œä»¥æ­¤ç±»æ¨ã€‚&lt;/li&gt;
&lt;li&gt;è¿™ä¸ªå‡½æ•°å¤„ç†è¶…å‡ºèŒƒå›´çš„è¯·æ±‚æ—¶ï¼Œéƒ½æŠŠç»“æœé™åˆ¶åœ¨ string å†…ã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›å€¼ï¼š &lt;code&gt;bulk-reply&lt;/code&gt; ï¼Œå­ä¸²&lt;/li&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦ï¼š &lt;code&gt;O(N)&lt;/code&gt; ï¼Œå…¶ä¸­ N æ˜¯å­—ç¬¦ä¸²é•¿åº¦ï¼Œå¤æ‚åº¦ç”±æœ€ç»ˆè¿”å›é•¿åº¦å†³å®šã€‚ä½†ç”±äºé€šè¿‡ä¸€ä¸ªå­—ç¬¦ä¸²åˆ›å»ºå­å­—ç¬¦ä¸²æ˜¯å¾ˆå®¹æ˜“çš„ï¼Œå®ƒ&lt;font color=&#39;red&#39;&gt;å¯ä»¥è¢«è®¤ä¸ºæ˜¯ &lt;code&gt;O(1)&lt;/code&gt; &lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ•°å€¼å¢å‡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°å€¼å¢å‡&#34;&gt;#&lt;/a&gt; æ•°å€¼å¢å‡&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;å‰æï¼šä¸€å®šè¦æ˜¯æ•°å­—ï¼Œæ‰èƒ½å¢å‡ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;INCR key&lt;/code&gt; &lt;/strong&gt;ï¼šå¯¹å­˜å‚¨åœ¨æŒ‡å®š &lt;code&gt;key&lt;/code&gt;  çš„æ•°å€¼æ‰§è¡ŒåŸå­çš„&lt;font color=&#39;red&#39;&gt;åŠ  1 æ“ä½œ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœæŒ‡å®šçš„ key ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆåœ¨æ‰§è¡Œ incr æ“ä½œä¹‹å‰ï¼Œä¼šå…ˆå°†å®ƒçš„å€¼è®¾å®šä¸º &lt;code&gt;0&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæŒ‡å®šçš„ key ä¸­å­˜å‚¨çš„å€¼ä¸æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼ˆfixï¼šï¼‰æˆ–è€…å­˜å‚¨çš„å­—ç¬¦ä¸²ç±»å‹ä¸èƒ½è¡¨ç¤ºä¸ºä¸€ä¸ªæ•´æ•°ï¼Œé‚£ä¹ˆæ‰§è¡Œè¿™ä¸ªå‘½ä»¤æ—¶æœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ (eq:(error) ERR value is not an integer or out of range)ã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›å€¼ï¼š &lt;code&gt;integer-reply&lt;/code&gt; ï¼Œé€’å¢æ“ä½œå key å¯¹åº”çš„å€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;INCRBY key increment&lt;/code&gt; &lt;/strong&gt;ï¼šå°† &lt;code&gt;key&lt;/code&gt;  å¯¹åº”çš„æ•°å­—&lt;font color=&#39;red&#39;&gt;åŠ  &lt;code&gt;decrement&lt;/code&gt; &lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœ key ä¸å­˜åœ¨ï¼Œæ“ä½œä¹‹å‰ï¼Œkey å°±ä¼šè¢«ç½®ä¸º 0ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœ key çš„ value ç±»å‹é”™è¯¯æˆ–è€…æ˜¯ä¸ªä¸èƒ½è¡¨ç¤ºæˆæ•°å­—çš„å­—ç¬¦ä¸²ï¼Œå°±è¿”å›é”™è¯¯ã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›å€¼ï¼š &lt;code&gt;integer-reply&lt;/code&gt; ï¼Œå¢åŠ æ“ä½œå key å¯¹åº”çš„å€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;DECR key&lt;/code&gt; &lt;/strong&gt;ï¼šå¯¹ &lt;code&gt;key&lt;/code&gt;  å¯¹åº”çš„æ•°å­—åš&lt;font color=&#39;red&#39;&gt;å‡ 1 æ“ä½œ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœ key ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆåœ¨æ“ä½œä¹‹å‰ï¼Œè¿™ä¸ª key å¯¹åº”çš„å€¼ä¼šè¢«ç½®ä¸º 0ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœ key æœ‰ä¸€ä¸ªé”™è¯¯ç±»å‹çš„ value æˆ–è€…æ˜¯ä¸€ä¸ªä¸èƒ½è¡¨ç¤ºæˆæ•°å­—çš„å­—ç¬¦ä¸²ï¼Œå°±è¿”å›é”™è¯¯ã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›å€¼ï¼šæ•°å­—ï¼Œå‡å°å key å¯¹åº”çš„å€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;DECRBY key decrement&lt;/code&gt; &lt;/strong&gt;ï¼šå°† &lt;code&gt;key&lt;/code&gt;  å¯¹åº”çš„æ•°å­—&lt;font color=&#39;red&#39;&gt;å‡ &lt;code&gt;decrement&lt;/code&gt; &lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœ key ä¸å­˜åœ¨ï¼Œæ“ä½œä¹‹å‰ï¼Œkey å°±ä¼šè¢«ç½®ä¸º 0ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœ key çš„ value ç±»å‹é”™è¯¯æˆ–è€…æ˜¯ä¸ªä¸èƒ½è¡¨ç¤ºæˆæ•°å­—çš„å­—ç¬¦ä¸²ï¼Œå°±è¿”å›é”™è¯¯ã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›å€¼ï¼šè¿”å›ä¸€ä¸ªæ•°å­—ï¼šå‡å°‘ä¹‹åçš„ value å€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è·å–å­—ç¬¦ä¸²é•¿åº¦ä»¥åŠå†…å®¹è¿½åŠ &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è·å–å­—ç¬¦ä¸²é•¿åº¦ä»¥åŠå†…å®¹è¿½åŠ &#34;&gt;#&lt;/a&gt; è·å–å­—ç¬¦ä¸²é•¿åº¦ä»¥åŠå†…å®¹è¿½åŠ &lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;STRLEN key&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å› &lt;code&gt;key&lt;/code&gt;  çš„ string ç±»å‹ &lt;code&gt;value&lt;/code&gt;  çš„é•¿åº¦ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;APPEND key value&lt;/code&gt; &lt;/strong&gt;ï¼šå°† &lt;code&gt;value&lt;/code&gt; &lt;font color=&#39;red&#39;&gt;è¿½åŠ &lt;/font&gt;åˆ° &lt;code&gt;key&lt;/code&gt;  å¯¹åº”çš„å­—ç¬¦ä¸²å€¼ä¹‹åï¼Œå¹¶&lt;font color=&#39;red&#39;&gt;è¿”å›è¿½åŠ åçš„é•¿åº¦&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åˆ†å¸ƒå¼é”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†å¸ƒå¼é”&#34;&gt;#&lt;/a&gt; åˆ†å¸ƒå¼é”&lt;/h5&gt;
&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804110715178.png&#34; alt=&#34;image-20230804110715178&#34; style=&#34;zoom:67%;&#34; /&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;SETEX key seconds value&lt;/code&gt; &lt;/strong&gt;ï¼šè®¾ç½® &lt;code&gt;key&lt;/code&gt;  å¯¹åº”å­—ç¬¦ä¸² &lt;code&gt;value&lt;/code&gt; ï¼Œå¹¶ä¸”è®¾ç½® key åœ¨ç»™å®šçš„ &lt;code&gt;seconds&lt;/code&gt;  æ—¶é—´ä¹‹åè¶…æ—¶è¿‡æœŸã€‚è¿™ä¸ªå‘½ä»¤æ˜¯&lt;font color=&#39;red&#39;&gt;åŸå­çš„&lt;/font&gt;ï¼Œç­‰æ•ˆäºæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight txt&#34;&gt;&lt;figcaption data-lang=&#34;txt&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;SET mykey value&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;EXPIRE mykey seconds&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;SETNX key value&lt;/code&gt; &lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å¦‚æœ &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨&lt;/font&gt;ï¼Œå°†å€¼è®¾ä¸º &lt;code&gt;value&lt;/code&gt; ï¼Œè¿™ç§æƒ…å†µä¸‹ç­‰åŒ &lt;code&gt;SET&lt;/code&gt;  å‘½ä»¤ã€‚&lt;/li&gt;
&lt;li&gt;å½“ &lt;code&gt;key&lt;/code&gt;  å­˜åœ¨æ—¶ï¼Œä»€ä¹ˆä¹Ÿä¸åšã€‚ &lt;code&gt;SETNX&lt;/code&gt;  æ˜¯ â€œ&lt;strong&gt;SET&lt;/strong&gt; if &lt;strong&gt;N&lt;/strong&gt;ot e&lt;strong&gt;X&lt;/strong&gt;istsâ€ çš„ç®€å†™ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯ä»¥ä¸ &lt;code&gt;DEL&lt;/code&gt;  å‘½ä»¤é…åˆä½¿ç”¨ï¼Œå¯¹èµ„æºåŠ é”&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å…ˆè·å–å†è®¾ç½®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å…ˆè·å–å†è®¾ç½®&#34;&gt;#&lt;/a&gt; å…ˆè·å–ï¼Œå†è®¾ç½®&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;GETSET key value&lt;/code&gt; &lt;/strong&gt;ï¼šç­‰åŒäº &lt;code&gt;set key value get&lt;/code&gt;  å‘½ä»¤ï¼Œ&lt;font color=&#39;red&#39;&gt;è¿”å› key çš„æ—§ valueï¼Œå°† key çš„å€¼è®¾ç½®ä¸ºæ–° value&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åº”ç”¨åœºæ™¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åº”ç”¨åœºæ™¯&#34;&gt;#&lt;/a&gt; åº”ç”¨åœºæ™¯&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804111834362.png&#34; alt=&#34;image-20230804111834362&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æŠ–éŸ³ä¸­è®¸å¤šäººç‚¹èµæŸä¸ªè§†é¢‘ï¼Œç‚¹ä¸€ä¸‹åŠ ä¸€æ¬¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…¬ä¼—å·ä¸ŠæŸç¯‡æ–‡ç« çš„é˜…è¯»æ•°ï¼Œåªè¦ç‚¹å‡»äº† rest åœ°å€ï¼Œç›´æ¥å¯ä»¥ä½¿ç”¨ incr key å‘½ä»¤å¢åŠ ä¸€ä¸ªæ•°å­— 1ï¼Œå®Œæˆè®°å½•æ•°å­—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804111954515.png&#34; alt=&#34;image-20230804111954515&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;åˆ—è¡¨list&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ—è¡¨list&#34;&gt;#&lt;/a&gt; åˆ—è¡¨ï¼ˆListï¼‰&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å• key å¤š valueï¼Œæœ‰åºæœ‰é‡å¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;å‘½ä»¤æ¦‚è§ˆ-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘½ä»¤æ¦‚è§ˆ-2&#34;&gt;#&lt;/a&gt; å‘½ä»¤æ¦‚è§ˆ&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804112132538.png&#34; alt=&#34;image-20230804112132538&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;listçš„æ•°æ®ç»“æ„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#listçš„æ•°æ®ç»“æ„&#34;&gt;#&lt;/a&gt; List çš„æ•°æ®ç»“æ„&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804112413028.png&#34; alt=&#34;image-20230804112413028&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ª&lt;strong&gt;åŒç«¯é“¾è¡¨&lt;/strong&gt;çš„ç»“æ„ï¼Œå®¹é‡æ˜¯ 2&lt;sup&gt;32&lt;/sup&gt;-1 ä¸ªå…ƒç´ ï¼Œå¤§æ¦‚ 40 å¤šäº¿ï¼Œä¸»è¦åŠŸèƒ½æœ‰ &lt;code&gt;push&lt;/code&gt; / &lt;code&gt;pop&lt;/code&gt;  ç­‰ï¼Œä¸€èˆ¬ç”¨åœ¨æ ˆã€é˜Ÿåˆ—ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰åœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;leftã€right éƒ½å¯ä»¥æ’å…¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœé”®ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°çš„é“¾è¡¨ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœé”®å·²å­˜åœ¨ï¼Œæ–°å¢å†…å®¹ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœå€¼å…¨ç§»é™¤ï¼Œå¯¹åº”çš„é”®ä¹Ÿå°±æ¶ˆå¤±äº†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å®ƒçš„åº•å±‚å®é™…æ˜¯ä¸ª&lt;strong&gt;åŒå‘é“¾è¡¨ï¼Œå¯¹ä¸¤ç«¯çš„æ“ä½œæ€§èƒ½å¾ˆé«˜ï¼Œé€šè¿‡ç´¢å¼•ä¸‹æ ‡çš„æ“ä½œä¸­é—´çš„èŠ‚ç‚¹æ€§èƒ½ä¼šè¾ƒå·®ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h5 id=&#34;æ’å…¥ä¸éå†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ’å…¥ä¸éå†&#34;&gt;#&lt;/a&gt; æ’å…¥ä¸éå†&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;LPUSH key value [value ...]&lt;/code&gt; &lt;/strong&gt;ï¼šå°†æ‰€æœ‰çš„ value ä» key åˆ—è¡¨çš„&lt;strong&gt;å·¦ç«¯ä¾æ¬¡æ’å…¥&lt;/strong&gt;ã€‚
&lt;ul&gt;
&lt;li&gt;å¦‚æœ key ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆåœ¨è¿›è¡Œ push æ“ä½œå‰ä¼šåˆ›å»ºä¸€ä¸ªç©ºåˆ—è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœ key å¯¹åº”çš„å€¼ä¸æ˜¯ä¸€ä¸ª list çš„è¯ï¼Œé‚£ä¹ˆä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›å€¼ï¼šæ“ä½œåçš„ list é•¿åº¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;RPUSH key value [value ...]&lt;/code&gt; &lt;/strong&gt;ï¼šæ‰€æœ‰çš„ value ä» key åˆ—è¡¨çš„&lt;strong&gt;å³ç«¯ä¾æ¬¡æ’å…¥&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;LRANGE key start stop&lt;/code&gt; &lt;/strong&gt;ï¼šéå† key åˆ—è¡¨åœ¨&lt;strong&gt;ä¸‹æ ‡ [start,stop] ä¸­çš„å…ƒç´ ï¼Œæ³¨æ„å³åŒºé—´æ˜¯é—­åˆçš„&lt;/strong&gt;ã€‚
&lt;ul&gt;
&lt;li&gt;start å’Œ end åç§»é‡éƒ½æ˜¯åŸºäº 0 çš„ä¸‹æ ‡ï¼Œå³ list çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸‹æ ‡æ˜¯ 0ï¼ˆlist çš„è¡¨å¤´ï¼‰ï¼Œç¬¬äºŒä¸ªå…ƒç´ ä¸‹æ ‡æ˜¯ 1ï¼Œä»¥æ­¤ç±»æ¨ã€‚&lt;/li&gt;
&lt;li&gt;åç§»é‡ä¹Ÿå¯ä»¥æ˜¯è´Ÿæ•°ï¼Œè¡¨ç¤ºåç§»é‡æ˜¯ä» list å°¾éƒ¨å¼€å§‹è®¡æ•°ã€‚ä¾‹å¦‚ï¼Œ -1 è¡¨ç¤ºåˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œ-2 æ˜¯å€’æ•°ç¬¬äºŒä¸ªï¼Œä»¥æ­¤ç±»æ¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å½“ä¸‹æ ‡è¶…è¿‡ list èŒƒå›´çš„æ—¶å€™ä¸ä¼šäº§ç”Ÿ error&lt;/font&gt;ã€‚
&lt;ul&gt;
&lt;li&gt;å¦‚æœ start æ¯” list çš„å°¾éƒ¨ä¸‹æ ‡å¤§çš„æ—¶å€™ï¼Œä¼šè¿”å›ä¸€ä¸ªç©ºåˆ—è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœ stop æ¯” list çš„å®é™…å°¾éƒ¨å¤§çš„æ—¶å€™ï¼ŒRedis ä¼šå½“å®ƒæ˜¯æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å¼¹å‡º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¼¹å‡º&#34;&gt;#&lt;/a&gt; å¼¹å‡º&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;LPOP key&lt;/code&gt; &lt;/strong&gt;ï¼šä» key åˆ—è¡¨çš„&lt;strong&gt;å·¦ç«¯å¼¹å‡ºä¸€ä¸ªå…ƒç´ &lt;/strong&gt;ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;RPOP key&lt;/code&gt; &lt;/strong&gt;ï¼šä» key åˆ—è¡¨çš„&lt;strong&gt;å³ç«¯å¼¹å‡ºä¸€ä¸ªå…ƒç´ &lt;/strong&gt;ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ ¹æ®ä¸‹æ ‡è·å–å…ƒç´ ä»å·¦åˆ°å³&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ ¹æ®ä¸‹æ ‡è·å–å…ƒç´ ä»å·¦åˆ°å³&#34;&gt;#&lt;/a&gt; æ ¹æ®ä¸‹æ ‡è·å–å…ƒç´ ï¼ˆä»å·¦åˆ°å³ï¼‰&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;LINDEX key index&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å› &lt;code&gt;key&lt;/code&gt;  åˆ—è¡¨å¯¹åº”ç´¢å¼• &lt;code&gt;index&lt;/code&gt;  å¤„çš„å€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è·å–åˆ—è¡¨ä¸­çš„å…ƒç´ ä¸ªæ•°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è·å–åˆ—è¡¨ä¸­çš„å…ƒç´ ä¸ªæ•°&#34;&gt;#&lt;/a&gt; è·å–åˆ—è¡¨ä¸­çš„å…ƒç´ ä¸ªæ•°&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;LLEN key&lt;/code&gt; &lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åˆ é™¤æŒ‡å®šæ•°é‡ä¸ªæŒ‡å®švalueçš„å…ƒç´ &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ é™¤æŒ‡å®šæ•°é‡ä¸ªæŒ‡å®švalueçš„å…ƒç´ &#34;&gt;#&lt;/a&gt; åˆ é™¤æŒ‡å®šæ•°é‡ä¸ªæŒ‡å®š value çš„å…ƒç´ &lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;LREM key count value&lt;/code&gt; &lt;/strong&gt;ï¼šä»å­˜äº  &lt;code&gt;key&lt;/code&gt;  çš„åˆ—è¡¨é‡Œ&lt;font color=&#39;red&#39;&gt;ç§»é™¤å‰  &lt;code&gt;count&lt;/code&gt;  æ¬¡å‡ºç°çš„å€¼ä¸º  &lt;code&gt;value&lt;/code&gt;  çš„å…ƒç´ &lt;/font&gt;ã€‚ è¿™ä¸ª count å‚æ•°é€šè¿‡ä¸‹é¢å‡ ç§æ–¹å¼å½±å“è¿™ä¸ªæ“ä½œï¼š
&lt;ul&gt;
&lt;li&gt;count &amp;gt; 0: &lt;font color=&#39;red&#39;&gt;ä»å¤´å¾€å°¾ç§»é™¤&lt;/font&gt;å€¼ä¸º value çš„å…ƒç´ ã€‚&lt;/li&gt;
&lt;li&gt;count &amp;lt; 0: &lt;font color=&#39;red&#39;&gt;ä»å°¾å¾€å¤´ç§»é™¤&lt;/font&gt;å€¼ä¸º value çš„å…ƒç´ ã€‚&lt;/li&gt;
&lt;li&gt;count = 0: &lt;font color=&#39;red&#39;&gt;ç§»é™¤æ‰€æœ‰&lt;/font&gt;å€¼ä¸º value çš„å…ƒç´ ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æˆªå–å¹¶ä¿å­˜æŒ‡å®šä¸‹æ ‡åŒºé—´çš„å…ƒç´ &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æˆªå–å¹¶ä¿å­˜æŒ‡å®šä¸‹æ ‡åŒºé—´çš„å…ƒç´ &#34;&gt;#&lt;/a&gt; æˆªå–å¹¶ä¿å­˜æŒ‡å®šä¸‹æ ‡åŒºé—´çš„å…ƒç´ &lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;LTRIM key start stop&lt;/code&gt; &lt;/strong&gt;ï¼šä¿®å‰ª (trim) ä¸€ä¸ªå·²å­˜åœ¨çš„ listï¼Œè¿™æ · list å°±ä¼š&lt;strong&gt;åªä¿ç•™æŒ‡å®šèŒƒå›´ [start,stop] çš„æŒ‡å®šå…ƒç´ &lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å°†å…ƒç´ ç§»è‡³å¦ä¸€ä¸ªåˆ—è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°†å…ƒç´ ç§»è‡³å¦ä¸€ä¸ªåˆ—è¡¨&#34;&gt;#&lt;/a&gt; å°†å…ƒç´ ç§»è‡³å¦ä¸€ä¸ªåˆ—è¡¨&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;RPOPLPUSH source destination&lt;/code&gt; &lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;åŸå­æ€§&lt;/font&gt;åœ°ç§»é™¤å­˜å‚¨åœ¨  &lt;code&gt;source&lt;/code&gt;  çš„åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆåˆ—è¡¨å°¾éƒ¨å…ƒç´ ï¼‰ï¼Œ å¹¶æŠŠè¯¥å…ƒç´ æ”¾å…¥å­˜å‚¨åœ¨  &lt;code&gt;destination&lt;/code&gt;  çš„åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®ï¼ˆåˆ—è¡¨å¤´éƒ¨ï¼‰ã€‚
&lt;ul&gt;
&lt;li&gt;å¦‚æœ source å’Œ destination æ˜¯åŒæ ·çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªæ“ä½œç­‰åŒäºç§»é™¤åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ å¹¶ä¸”æŠŠè¯¥å…ƒç´ æ”¾åœ¨åˆ—è¡¨å¤´éƒ¨ï¼Œ æ‰€ä»¥è¿™ä¸ªå‘½ä»¤ä¹Ÿå¯ä»¥å½“ä½œæ˜¯ä¸€ä¸ªæ—‹è½¬åˆ—è¡¨çš„å‘½ä»¤ã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›å€¼ï¼šè¢«ç§»é™¤å’Œæ”¾å…¥çš„å…ƒç´ &lt;/li&gt;
&lt;li&gt;æ¨¡å¼ 1â€”â€” å®‰å…¨çš„é˜Ÿåˆ—ï¼šRPOPLPUSH å¯ä»¥å®ç°ï¼Œæ¶ˆè´¹è€…ç«¯å–åˆ°æ¶ˆæ¯çš„åŒæ—¶æŠŠè¯¥æ¶ˆæ¯æ”¾å…¥ä¸€ä¸ªæ­£åœ¨å¤„ç†ä¸­çš„åˆ—è¡¨ã€‚é¿å…äº†æ¶ˆæ¯ä¸¢å¤±çš„å®‰å…¨é—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;æ¨¡å¼ 2â€”â€” å¾ªç¯åˆ—è¡¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è®¾ç½®æŸä¸‹æ ‡å¯¹åº”çš„å…ƒç´ å€¼ä»å·¦åˆ°å³&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è®¾ç½®æŸä¸‹æ ‡å¯¹åº”çš„å…ƒç´ å€¼ä»å·¦åˆ°å³&#34;&gt;#&lt;/a&gt; è®¾ç½®æŸä¸‹æ ‡å¯¹åº”çš„å…ƒç´ å€¼ï¼ˆä»å·¦åˆ°å³ï¼‰&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;LSET key index value&lt;/code&gt; &lt;/strong&gt;ï¼šè®¾ç½®  &lt;code&gt;index&lt;/code&gt;  ä½ç½®çš„ list å…ƒç´ çš„å€¼ä¸º  &lt;code&gt;value&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åœ¨æŒ‡å®šå…ƒç´ çš„å‰åæ’å…¥å…ƒç´ &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åœ¨æŒ‡å®šå…ƒç´ çš„å‰åæ’å…¥å…ƒç´ &#34;&gt;#&lt;/a&gt; åœ¨æŒ‡å®šå…ƒç´ çš„å‰ / åæ’å…¥å…ƒç´ &lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;LINSERT key BEFORE|AFTER pivot value&lt;/code&gt; &lt;/strong&gt;ï¼šæŠŠ  &lt;code&gt;value&lt;/code&gt;  æ’å…¥å­˜äº  &lt;code&gt;key&lt;/code&gt;  çš„åˆ—è¡¨ä¸­åœ¨åŸºå‡†å€¼  &lt;code&gt;pivot&lt;/code&gt;  çš„å‰é¢æˆ–åé¢ã€‚è¿”å›æ’å…¥åçš„åˆ—è¡¨é•¿åº¦ï¼Œæˆ–è€…å½“ pivot ä¸å­˜åœ¨æ—¶è¿”å› - 1ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åº”ç”¨åœºæ™¯-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åº”ç”¨åœºæ™¯-2&#34;&gt;#&lt;/a&gt; åº”ç”¨åœºæ™¯&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;å¾®ä¿¡å…¬ä¼—å·è®¢é˜…çš„æ¶ˆæ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å“ˆå¸Œé›†hash&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å“ˆå¸Œé›†hash&#34;&gt;#&lt;/a&gt; å“ˆå¸Œé›†ï¼ˆHashï¼‰&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å• keyï¼Œä½† value æ˜¯ä¸€ä¸ªé”®å€¼å¯¹ï¼Œå³&lt;strong&gt;å• key å•é”®å€¼å¯¹&lt;/strong&gt;ï¼šMap&amp;lt;String,Map&amp;lt;Object,Object&amp;gt;&amp;gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;å‘½ä»¤æ¦‚è§ˆ-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘½ä»¤æ¦‚è§ˆ-3&#34;&gt;#&lt;/a&gt; å‘½ä»¤æ¦‚è§ˆ&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804131019423.png&#34; alt=&#34;image-20230804131019423&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;è®¾ç½®-è·å–-åˆ é™¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è®¾ç½®-è·å–-åˆ é™¤&#34;&gt;#&lt;/a&gt; è®¾ç½®ã€è·å–ã€åˆ é™¤&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804132747399.png&#34; alt=&#34;image-20230804132747399&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;HSET key field value&lt;/code&gt; &lt;/strong&gt;ï¼šå°† &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„å“ˆå¸Œé›†ä¸­&lt;font color=&#39;red&#39;&gt;æŒ‡å®šå­—æ®µ &lt;code&gt;field&lt;/code&gt;  çš„å€¼è®¾ç½®ä¸º &lt;code&gt;value&lt;/code&gt; &lt;/font&gt;ã€‚è¿”å›å€¼ä¸ºï¼š
&lt;ul&gt;
&lt;li&gt;1ï¼Œå¦‚æœ field æ˜¯ä¸€ä¸ªæ–°å­—æ®µ&lt;/li&gt;
&lt;li&gt;0ï¼Œå¦‚æœ field å·²å­˜åœ¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;HGET key field&lt;/code&gt; &lt;/strong&gt;ï¼šè·å– &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„å“ˆå¸Œé›†ä¸­å­—æ®µ &lt;code&gt;field&lt;/code&gt;  æ‰€å…³è”çš„å€¼&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;HMSET key field value [field value ...]&lt;/code&gt; &lt;/strong&gt;ï¼šå°† &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„å“ˆå¸Œé›†ä¸­&lt;font color=&#39;red&#39;&gt;æ‰€æœ‰æŒ‡å®šå­—æ®µ &lt;code&gt;field&lt;/code&gt;  çš„å€¼è®¾ç½®ä¸ºå¯¹åº” &lt;code&gt;value&lt;/code&gt; &lt;/font&gt;ã€‚å°†é‡å†™æ‰€æœ‰åœ¨å“ˆå¸Œé›†ä¸­å­˜åœ¨çš„å­—æ®µã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;HMGET key field [field ...]&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å›  &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„å“ˆå¸Œé›†ä¸­&lt;font color=&#39;red&#39;&gt;æ‰€æœ‰æŒ‡å®šå­—æ®µ &lt;code&gt;field&lt;/code&gt;  çš„å€¼&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;HGETALL key&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å›  &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„å“ˆå¸Œé›†ä¸­&lt;font color=&#39;red&#39;&gt;æ‰€æœ‰çš„å­—æ®µå’Œå€¼&lt;/font&gt;ã€‚&lt;strong&gt;è¿”å›å€¼ä¸­ï¼Œæ¯ä¸ªå­—æ®µåçš„ä¸‹ä¸€ä¸ªæ˜¯å®ƒçš„å€¼&lt;/strong&gt;ï¼Œæ‰€ä»¥è¿”å›å€¼çš„&lt;font color=&#39;red&#39;&gt;é•¿åº¦æ˜¯å“ˆå¸Œé›†å¤§å°çš„ä¸¤å€&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;HDEL key field [field ...]&lt;/code&gt; &lt;/strong&gt;ï¼šä» key æŒ‡å®šçš„å“ˆå¸Œé›†ä¸­&lt;font color=&#39;red&#39;&gt;ç§»é™¤å„ä¸ªæŒ‡å®šçš„åŸŸ&lt;/font&gt;ï¼Œ&lt;strong&gt;è¿”å›æˆåŠŸç§»é™¤çš„åŸŸçš„æ•°é‡&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è·å–å“ˆå¸Œé›†çš„å­—æ®µæ•°é‡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è·å–å“ˆå¸Œé›†çš„å­—æ®µæ•°é‡&#34;&gt;#&lt;/a&gt; è·å–å“ˆå¸Œé›†çš„å­—æ®µæ•°é‡&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;HLEN key&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å›  &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„å“ˆå¸Œé›†åŒ…å«çš„&lt;strong&gt;å­—æ®µçš„æ•°é‡&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åˆ¤æ–­å“ˆå¸Œé›†ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå­—æ®µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ¤æ–­å“ˆå¸Œé›†ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå­—æ®µ&#34;&gt;#&lt;/a&gt; åˆ¤æ–­å“ˆå¸Œé›†ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå­—æ®µ&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;HEXISTS key field&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å› &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„å“ˆå¸Œé›†ä¸­&lt;font color=&#39;red&#39;&gt;æ˜¯å¦å­˜åœ¨å­—æ®µ &lt;code&gt;field&lt;/code&gt; &lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è·å–å“ˆå¸Œé›†ä¸­çš„æ‰€æœ‰keyvalue&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è·å–å“ˆå¸Œé›†ä¸­çš„æ‰€æœ‰keyvalue&#34;&gt;#&lt;/a&gt; è·å–å“ˆå¸Œé›†ä¸­çš„æ‰€æœ‰ key/value&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;HKEYS key&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å›  &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„å“ˆå¸Œé›†ä¸­&lt;font color=&#39;red&#39;&gt;æ‰€æœ‰å­—æ®µçš„åå­—&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;HVALS key&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å›  &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„å“ˆå¸Œé›†ä¸­&lt;font color=&#39;red&#39;&gt;æ‰€æœ‰å­—æ®µçš„å€¼&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å¢åŠ æŒ‡å®šå­—æ®µçš„æ•°å€¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¢åŠ æŒ‡å®šå­—æ®µçš„æ•°å€¼&#34;&gt;#&lt;/a&gt; å¢åŠ æŒ‡å®šå­—æ®µçš„æ•°å€¼&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;HINCRBY key field increment&lt;/code&gt; &lt;/strong&gt;ï¼šå°†  &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„å“ˆå¸Œé›†ä¸­&lt;font color=&#39;red&#39;&gt;æŒ‡å®šå­—æ®µ  &lt;code&gt;field&lt;/code&gt;  çš„æ•°å€¼å¢åŠ   &lt;code&gt;increment&lt;/code&gt; &lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;HINCRBYFLOAT key field increment&lt;/code&gt; &lt;/strong&gt;ï¼šå°†  &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„å“ˆå¸Œé›†ä¸­&lt;font color=&#39;red&#39;&gt;æŒ‡å®šå­—æ®µ  &lt;code&gt;field&lt;/code&gt;  çš„æ•°å€¼å¢åŠ  float ç±»å‹çš„Â  &lt;code&gt;increment&lt;/code&gt; &lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åªè®¾ç½®å“ˆå¸Œé›†ä¸­ä¸å­˜åœ¨çš„å­—æ®µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åªè®¾ç½®å“ˆå¸Œé›†ä¸­ä¸å­˜åœ¨çš„å­—æ®µ&#34;&gt;#&lt;/a&gt; åªè®¾ç½®å“ˆå¸Œé›†ä¸­ä¸å­˜åœ¨çš„å­—æ®µ&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;HSETNX key field value&lt;/code&gt; &lt;/strong&gt;ï¼šåªåœ¨  &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„å“ˆå¸Œé›†ä¸­ä¸å­˜åœ¨æŒ‡å®šçš„å­—æ®µ  &lt;code&gt;field&lt;/code&gt;  æ—¶ï¼Œè®¾ç½®å…¶å€¼ä¸º  &lt;code&gt;value&lt;/code&gt; ã€‚
&lt;ul&gt;
&lt;li&gt;å¦‚æœ  &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„å“ˆå¸Œé›†ä¸å­˜åœ¨ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å“ˆå¸Œé›†å¹¶ä¸  &lt;code&gt;key&lt;/code&gt;  å…³è”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¦‚æœå­—æ®µå·²å­˜åœ¨ï¼Œè¯¥æ“ä½œæ— æ•ˆæœ&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åº”ç”¨åœºæ™¯-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åº”ç”¨åœºæ™¯-3&#34;&gt;#&lt;/a&gt; åº”ç”¨åœºæ™¯&lt;/h5&gt;
&lt;p&gt;äº¬ä¸œè´­ç‰©è½¦çš„æ—©æœŸè®¾è®¡ï¼Œç›®å‰ä¸å†é‡‡ç”¨ï¼Œå½“å‰ä¸­å°å‚å¯ç”¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–°å¢å•†å“ â†’ hset shopcar:uid1024 334488 1&lt;/li&gt;
&lt;li&gt;æ–°å¢å•†å“ â†’ hset shopcar:uid1024 334477 1&lt;/li&gt;
&lt;li&gt;å¢åŠ å•†å“æ•°é‡ â†’ hincrby shopcar:uid1024 334477 1&lt;/li&gt;
&lt;li&gt;å•†å“æ€»æ•° â†’ hlen shopcar:uid1024&lt;/li&gt;
&lt;li&gt;å…¨éƒ¨é€‰æ‹© â†’ hgetall shopcar:uid1024&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804143259448.png&#34; alt=&#34;image-20230804143259448&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;é›†åˆset&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é›†åˆset&#34;&gt;#&lt;/a&gt; é›†åˆï¼ˆSetï¼‰&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å• key å¤š valueï¼Œä¸”æ— åºæ— é‡å¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;å‘½ä»¤æ¦‚è§ˆ-4&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘½ä»¤æ¦‚è§ˆ-4&#34;&gt;#&lt;/a&gt; å‘½ä»¤æ¦‚è§ˆ&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804143501168.png&#34; alt=&#34;image-20230804143501168&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;æ·»åŠ å…ƒç´ &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ·»åŠ å…ƒç´ &#34;&gt;#&lt;/a&gt; æ·»åŠ å…ƒç´ &lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;SADD key member [member ...]&lt;/code&gt; &lt;/strong&gt;ï¼šå‘  &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„é›†åˆä¸­æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªæŒ‡å®šçš„  &lt;code&gt;member&lt;/code&gt;  å…ƒç´ ã€‚
&lt;ul&gt;
&lt;li&gt;æŒ‡å®šçš„ä¸€ä¸ªæˆ–è€…å¤šä¸ªå…ƒç´  member å¦‚æœå·²ç»åœ¨é›†åˆ key ä¸­&lt;font color=&#39;red&#39;&gt;å­˜åœ¨åˆ™å¿½ç•¥&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœé›†åˆ key ä¸å­˜åœ¨ï¼Œåˆ™æ–°å»ºé›†åˆ key , å¹¶æ·»åŠ  member å…ƒç´ åˆ°é›†åˆ key ä¸­&lt;/li&gt;
&lt;li&gt;è¿”å›å€¼ï¼š&lt;strong&gt;æˆåŠŸæ·»åŠ åˆ°é›†åˆä¸­çš„å…ƒç´ æ•°é‡ï¼ˆä¸åŒ…æ‹¬å·²ç»å­˜åœ¨äºé›†åˆä¸­çš„å…ƒç´ ï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;éå†å…ƒç´ &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#éå†å…ƒç´ &#34;&gt;#&lt;/a&gt; éå†å…ƒç´ &lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;SMEMBERS key&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å›  &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„é›†åˆä¸­æ‰€æœ‰å…ƒç´ &lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åˆ¤æ–­é›†åˆä¸­æ˜¯å¦æœ‰æŸå…ƒç´ &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ¤æ–­é›†åˆä¸­æ˜¯å¦æœ‰æŸå…ƒç´ &#34;&gt;#&lt;/a&gt; åˆ¤æ–­é›†åˆä¸­æ˜¯å¦æœ‰æŸå…ƒç´ &lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;SISMEMBER key member&lt;/code&gt; &lt;/strong&gt;ï¼šåˆ¤æ–­æˆå‘˜  &lt;code&gt;member&lt;/code&gt;  æ˜¯å¦æ˜¯é›†åˆ  &lt;code&gt;key&lt;/code&gt;  ä¸­çš„æˆå‘˜ï¼Œæ˜¯åˆ™è¿”å› 1ï¼Œä¸æ˜¯æˆ–è€…é›†åˆ key ä¸å­˜åœ¨åˆ™è¿”å› 0&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åˆ é™¤å…ƒç´ &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ é™¤å…ƒç´ &#34;&gt;#&lt;/a&gt; åˆ é™¤å…ƒç´ &lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;SREM key member [member ...]&lt;/code&gt; &lt;/strong&gt;ï¼šåœ¨  &lt;code&gt;key&lt;/code&gt;  é›†åˆä¸­&lt;font color=&#39;red&#39;&gt;ç§»é™¤æŒ‡å®šçš„å…ƒç´ &lt;/font&gt;ï¼Œ&lt;strong&gt;è¿”å›æˆåŠŸç§»é™¤çš„å…ƒç´ ä¸ªæ•°&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è·å–é›†åˆä¸­çš„å…ƒç´ æ•°é‡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è·å–é›†åˆä¸­çš„å…ƒç´ æ•°é‡&#34;&gt;#&lt;/a&gt; è·å–é›†åˆä¸­çš„å…ƒç´ æ•°é‡&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;SCARD key&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å›  &lt;code&gt;key&lt;/code&gt;  é›†åˆçš„å…ƒç´ æ•°é‡ï¼ˆå³é›†åˆçš„åŸºæ•°ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ä»é›†åˆä¸­éšæœºuå±•ç°uæŒ‡å®šä¸ªæ•°ä¸ªå…ƒç´ ä½†å…ƒç´ ä¸åˆ é™¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»é›†åˆä¸­éšæœºuå±•ç°uæŒ‡å®šä¸ªæ•°ä¸ªå…ƒç´ ä½†å…ƒç´ ä¸åˆ é™¤&#34;&gt;#&lt;/a&gt; ä»é›†åˆä¸­éšæœº&lt;u&gt;å±•ç°&lt;/u&gt;æŒ‡å®šä¸ªæ•°ä¸ªå…ƒç´ ï¼Œä½†å…ƒç´ ä¸åˆ é™¤&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;SRANDMEMBER key [count]&lt;/code&gt; &lt;/strong&gt;ï¼š&lt;strong&gt;éšæœº&lt;u&gt;è¿”å›&lt;/u&gt;  &lt;code&gt;key&lt;/code&gt;  é›†åˆä¸­çš„  &lt;code&gt;count&lt;/code&gt;  ä¸ªå…ƒç´ &lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœ count æ˜¯æ•´æ•°ä¸”å°äºå…ƒç´ çš„ä¸ªæ•°ï¼Œè¿”å›å«æœ‰ count ä¸ªä¸åŒçš„å…ƒç´ çš„æ•°ç»„&lt;/li&gt;
&lt;li&gt;å¦‚æœ count æ˜¯ä¸ªæ•´æ•°ä¸”å¤§äºé›†åˆä¸­å…ƒç´ çš„ä¸ªæ•°æ—¶ï¼Œä»…è¿”å›æ•´ä¸ªé›†åˆçš„æ‰€æœ‰å…ƒç´ &lt;/li&gt;
&lt;li&gt;å½“ count æ˜¯è´Ÿæ•°ï¼Œåˆ™ä¼šè¿”å›ä¸€ä¸ªåŒ…å« count çš„ç»å¯¹å€¼çš„ä¸ªæ•°å…ƒç´ çš„æ•°ç»„&lt;/li&gt;
&lt;li&gt;å¦‚æœ count çš„ç»å¯¹å€¼å¤§äºå…ƒç´ çš„ä¸ªæ•°ï¼Œåˆ™è¿”å›çš„ç»“æœé›†é‡Œä¼šå‡ºç°ä¸€ä¸ªå…ƒç´ å‡ºç°å¤šæ¬¡çš„æƒ…å†µ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ä»é›†åˆä¸­éšæœºuå¼¹å‡ºuæŒ‡å®šä¸ªæ•°ä¸ªå…ƒç´ ä¸”å…ƒç´ åˆ é™¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»é›†åˆä¸­éšæœºuå¼¹å‡ºuæŒ‡å®šä¸ªæ•°ä¸ªå…ƒç´ ä¸”å…ƒç´ åˆ é™¤&#34;&gt;#&lt;/a&gt; ä»é›†åˆä¸­éšæœº&lt;u&gt;å¼¹å‡º&lt;/u&gt;æŒ‡å®šä¸ªæ•°ä¸ªå…ƒç´ ï¼Œä¸”å…ƒç´ åˆ é™¤&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;SPOP key [count]&lt;/code&gt; &lt;/strong&gt;ï¼š&lt;strong&gt;éšæœº&lt;u&gt;å¼¹å‡º&lt;/u&gt;  &lt;code&gt;key&lt;/code&gt;  é›†åˆä¸­çš„  &lt;code&gt;count&lt;/code&gt;  ä¸ªå…ƒç´ &lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å°†é›†åˆä¸­å·²å­˜åœ¨çš„æŸä¸ªå€¼ç§»åŠ¨åˆ°å¦ä¸€ä¸ªé›†åˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°†é›†åˆä¸­å·²å­˜åœ¨çš„æŸä¸ªå€¼ç§»åŠ¨åˆ°å¦ä¸€ä¸ªé›†åˆ&#34;&gt;#&lt;/a&gt; å°†é›†åˆä¸­å·²å­˜åœ¨çš„æŸä¸ªå€¼ç§»åŠ¨åˆ°å¦ä¸€ä¸ªé›†åˆ&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;SMOVE source destination member&lt;/code&gt; &lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;å°† &lt;code&gt;member&lt;/code&gt;  ä» &lt;code&gt;source&lt;/code&gt;  é›†åˆç§»åŠ¨åˆ° &lt;code&gt;destination&lt;/code&gt;  é›†åˆä¸­&lt;/font&gt;ã€‚å¯¹äºå…¶ä»–çš„å®¢æˆ·ç«¯ï¼Œåœ¨ç‰¹å®šçš„æ—¶é—´å…ƒç´ å°†ä¼šä½œä¸º source æˆ–è€… destination é›†åˆçš„æˆå‘˜å‡ºç°ã€‚
&lt;ul&gt;
&lt;li&gt;å¦‚æœ source é›†åˆä¸å­˜åœ¨æˆ–è€…ä¸åŒ…å«æŒ‡å®šçš„å…ƒç´ ï¼Œè¿™ smove å‘½ä»¤ä¸æ‰§è¡Œä»»ä½•æ“ä½œå¹¶ä¸”è¿”å› 0ã€‚&lt;/li&gt;
&lt;li&gt;å¦åˆ™å¯¹è±¡å°†ä¼šä» source é›†åˆä¸­ç§»é™¤ï¼Œå¹¶æ·»åŠ åˆ° destination é›†åˆä¸­å»ï¼Œ
&lt;ul&gt;
&lt;li&gt;å¦‚æœ destination é›†åˆå·²ç»å­˜åœ¨è¯¥å…ƒç´ ï¼Œåˆ™ smove å‘½ä»¤ä»…å°†è¯¥å…ƒç´ ä» source é›†åˆä¸­ç§»é™¤.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚æœ source å’Œ destination ä¸æ˜¯é›†åˆç±»å‹ï¼Œåˆ™è¿”å›é”™è¯¯.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;é›†åˆè¿ç®—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é›†åˆè¿ç®—&#34;&gt;#&lt;/a&gt; &lt;mark&gt;é›†åˆè¿ç®—&lt;/mark&gt;&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¤¾äº¤è½¯ä»¶ä¸­ä¸€å®šä¼šå¤§é‡ä½¿ç”¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å‡è®¾é›†åˆ A çš„å…ƒç´ ä¸º abc12ï¼Œé›†åˆ B çš„å…ƒç´ ä¸º 123axã€‚&lt;/p&gt;
&lt;h6 id=&#34;å·®é›†è¿ç®—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å·®é›†è¿ç®—&#34;&gt;#&lt;/a&gt; å·®é›†è¿ç®—&lt;/h6&gt;
&lt;p&gt;&lt;strong&gt;å³ A-Bï¼Œè¡¨ç¤ºå±äº A ä½†ä¸å±äº B çš„å…ƒç´ æ„æˆçš„é›†åˆ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;SDIFF key [key ...]&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å›ä¸€ä¸ªé›†åˆä¸ç»™å®šé›†åˆçš„å·®é›†çš„å…ƒç´ .&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;å¹¶é›†è¿ç®—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¹¶é›†è¿ç®—&#34;&gt;#&lt;/a&gt; å¹¶é›†è¿ç®—&lt;/h6&gt;
&lt;p&gt;&lt;strong&gt;å³ AâˆªBï¼Œè¡¨ç¤ºå±äº A æˆ– B çš„å…ƒç´ åˆå¹¶åçš„é›†åˆ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;SUNION key [key ...]&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å›ç»™å®šçš„å¤šä¸ªé›†åˆçš„å¹¶é›†ä¸­çš„æ‰€æœ‰æˆå‘˜.&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;äº¤é›†è¿ç®—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#äº¤é›†è¿ç®—&#34;&gt;#&lt;/a&gt; äº¤é›†è¿ç®—&lt;/h6&gt;
&lt;p&gt;&lt;strong&gt;å³ Aâˆ©Bï¼Œè¡¨ç¤ºå±äº A ä¸”å±äº B çš„å…±åŒæ‹¥æœ‰çš„å…ƒç´ æ„æˆçš„é›†åˆ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;SINTER key [key ...]&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å›æŒ‡å®šæ‰€æœ‰çš„é›†åˆçš„æˆå‘˜çš„äº¤é›†.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;SINTERCARD numkeys key [key ...] [LIMIT limit]&lt;/code&gt; &lt;/strong&gt;ï¼šç±»ä¼¼äº &lt;code&gt;SINTER&lt;/code&gt;  å‘½ä»¤ï¼Œä½†æ˜¯ä¸è¿”å›ç»“æœé›†ï¼Œ&lt;strong&gt;åªè¿”å›æŒ‡å®š &lt;code&gt;numkeys&lt;/code&gt;  ä¸ªé›†åˆçš„äº¤é›†ç»“æœçš„åŸºæ•°&lt;/strong&gt;ï¼Œæ˜¯ Redis7 çš„æ–°æŒ‡ä»¤ã€‚LIMIT ç”¨æ¥é™åˆ¶è¿”å›å€¼å¤§å°ï¼Œ
&lt;ul&gt;
&lt;li&gt;è‹¥è¿”å›å€¼å°äº limitï¼Œåˆ™è¿”å›è¯¥è¿”å›å€¼&lt;/li&gt;
&lt;li&gt;è‹¥è¿”å›å€¼å¤§äº limitï¼Œåˆ™è¿”å› limit&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åº”ç”¨åœºæ™¯-4&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åº”ç”¨åœºæ™¯-4&#34;&gt;#&lt;/a&gt; åº”ç”¨åœºæ™¯&lt;/h5&gt;
&lt;h6 id=&#34;å¾®ä¿¡æŠ½å¥–å°ç¨‹åº&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¾®ä¿¡æŠ½å¥–å°ç¨‹åº&#34;&gt;#&lt;/a&gt; å¾®ä¿¡æŠ½å¥–å°ç¨‹åº&lt;/h6&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804164737598.png&#34; alt=&#34;image-20230804164737598&#34; /&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æ­¥éª¤&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Redis å‘½ä»¤&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1 ç”¨æˆ· IDï¼Œç«‹å³å‚ä¸æŒ‰é’®&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sadd key ç”¨æˆ· ID&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;2 æ˜¾ç¤ºå·²ç»æœ‰å¤šå°‘äººå‚ä¸äº†ï¼Œä¸Šå›¾ 23208 äººå‚åŠ &lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SCARD key&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;3 æŠ½å¥– (ä» set ä¸­ä»»æ„é€‰å– N ä¸ªä¸­å¥–äºº)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SRANDMEMBER key 2 // éšæœºæŠ½å¥– 2 ä¸ªäººï¼Œå…ƒç´ ä¸åˆ é™¤&lt;br /&gt;SPOP key 3  // éšæœºæŠ½å¥– 3 ä¸ªäººï¼Œå…ƒç´ ä¼šåˆ é™¤&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h6 id=&#34;å¾®ä¿¡æœ‹å‹åœˆç‚¹èµæŸ¥çœ‹åŒèµæœ‹å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¾®ä¿¡æœ‹å‹åœˆç‚¹èµæŸ¥çœ‹åŒèµæœ‹å‹&#34;&gt;#&lt;/a&gt; å¾®ä¿¡æœ‹å‹åœˆç‚¹èµæŸ¥çœ‹åŒèµæœ‹å‹&lt;/h6&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804165326659.png&#34; alt=&#34;image-20230804165326659&#34; /&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ­¥éª¤&lt;/th&gt;
&lt;th&gt;Redis å‘½ä»¤&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1 æ–°å¢ç‚¹èµ&lt;/td&gt;
&lt;td&gt;&lt;code&gt;sadd&lt;/code&gt;  pub:msgID ç‚¹èµç”¨æˆ· ID1 ç‚¹èµç”¨æˆ· ID2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2 å–æ¶ˆç‚¹èµ&lt;/td&gt;
&lt;td&gt;&lt;code&gt;srem&lt;/code&gt;  pub:msgID ç‚¹èµç”¨æˆ· ID&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3 å±•ç°æ‰€æœ‰ç‚¹èµè¿‡çš„ç”¨æˆ·&lt;/td&gt;
&lt;td&gt;&lt;code&gt;SMEMBERS&lt;/code&gt;  pub:msgID&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4 ç‚¹èµç”¨æˆ·æ•°ç»Ÿè®¡ï¼Œå°±æ˜¯å¸¸è§çš„ç‚¹èµçº¢è‰²æ•°å­—&lt;/td&gt;
&lt;td&gt;&lt;code&gt;scard&lt;/code&gt;  pub:msgID&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5 åˆ¤æ–­æŸä¸ªæœ‹å‹æ˜¯å¦å¯¹æ¥¼ä¸»ç‚¹èµè¿‡&lt;/td&gt;
&lt;td&gt;&lt;code&gt;SISMEMBER&lt;/code&gt;  pub:msgID ç”¨æˆ· ID&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h6 id=&#34;qqå†…æ¨å¯èƒ½è®¤è¯†çš„äºº&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#qqå†…æ¨å¯èƒ½è®¤è¯†çš„äºº&#34;&gt;#&lt;/a&gt; QQ å†…æ¨å¯èƒ½è®¤è¯†çš„äºº&lt;/h6&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804165609346.png&#34; alt=&#34;image-20230804165609346&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;æœ‰åºé›†åˆzsetsorted-set&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æœ‰åºé›†åˆzsetsorted-set&#34;&gt;#&lt;/a&gt; æœ‰åºé›†åˆ Zsetï¼ˆsorted setï¼‰&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å• key å¤š valueï¼Œä¸”&lt;font color=&#39;red&#39;&gt;æœ‰åº&lt;/font&gt;æ— é‡å¤ï¼Œåœ¨æ¯ä¸ª value å‰åŠ ä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;score&lt;/font&gt;åˆ†æ•°å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;set æ˜¯ k1-&amp;gt;v1,v2&lt;/li&gt;
&lt;li&gt;Zset æ˜¯ k1-&amp;gt;score1 v1, score2 v2&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;å‘½ä»¤æ¦‚è§ˆ-5&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘½ä»¤æ¦‚è§ˆ-5&#34;&gt;#&lt;/a&gt; å‘½ä»¤æ¦‚è§ˆ&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804170237545.png&#34; alt=&#34;image-20230804170237545&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;æ·»åŠ å…ƒç´ -2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ·»åŠ å…ƒç´ -2&#34;&gt;#&lt;/a&gt; æ·»åŠ å…ƒç´ &lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;ZADD key [NX|XX] [CH] [INCR] score member [score member ...]&lt;/code&gt; &lt;/strong&gt;ï¼šå°†å¤šä¸ªåˆ†æ•° / æˆå‘˜ï¼ˆ &lt;code&gt;score&lt;/code&gt; / &lt;code&gt;member&lt;/code&gt; ï¼‰å¯¹æ·»åŠ åˆ°é”®ä¸º &lt;code&gt;key&lt;/code&gt;  æœ‰åºé›†åˆï¼ˆsorted setï¼‰é‡Œé¢ï¼Œä»¥&lt;font color=&#39;red&#39;&gt;é€’å¢&lt;/font&gt;çš„æ–¹å¼æ’åºï¼Œ&lt;font color=&#39;red&#39;&gt;è¿”å›æ–°æ·»åŠ æˆå‘˜çš„æ•°é‡&lt;/font&gt;ã€‚
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;XX&lt;/strong&gt;: ä»…ä»…æ›´æ–°å­˜åœ¨çš„æˆå‘˜ï¼Œä¸æ·»åŠ æ–°æˆå‘˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;NX&lt;/strong&gt;: ä¸æ›´æ–°å­˜åœ¨çš„æˆå‘˜ï¼Œåªæ·»åŠ æ–°æˆå‘˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CH&lt;/strong&gt;: &lt;font color=&#39;red&#39;&gt;ä¿®æ”¹è¿”å›å€¼ä¸ºå‘ç”Ÿå˜åŒ–çš„æˆå‘˜æ€»æ•°&lt;/font&gt;ï¼ŒåŸå§‹æ˜¯è¿”å›æ–°æ·»åŠ æˆå‘˜çš„æ€»æ•° (CH æ˜¯ &lt;em&gt;changed&lt;/em&gt; çš„æ„æ€)ã€‚æ›´æ”¹çš„å…ƒç´ æ˜¯&lt;strong&gt;æ–°æ·»åŠ çš„æˆå‘˜&lt;/strong&gt;ï¼Œå·²ç»å­˜åœ¨çš„æˆå‘˜&lt;strong&gt;æ›´æ–°åˆ†æ•°&lt;/strong&gt;ã€‚æ‰€ä»¥åœ¨å‘½ä»¤ä¸­æŒ‡å®šçš„æˆå‘˜æœ‰ç›¸åŒçš„åˆ†æ•°å°†ä¸è¢«è®¡ç®—åœ¨å†…ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;INCR&lt;/strong&gt;: å½“ &lt;code&gt;ZADD&lt;/code&gt;  æŒ‡å®šè¿™ä¸ªé€‰é¡¹æ—¶ï¼Œæˆå‘˜çš„æ“ä½œå°±ç­‰åŒ &lt;code&gt;ZINCRBY&lt;/code&gt;  å‘½ä»¤ï¼Œå¯¹æˆå‘˜çš„åˆ†æ•°è¿›è¡Œ&lt;font color=&#39;red&#39;&gt;é€’å¢&lt;/font&gt;æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæŒ‡å®šæ·»åŠ çš„æˆå‘˜å·²ç»æ˜¯æœ‰åºé›†åˆé‡Œé¢çš„æˆå‘˜ï¼Œåˆ™ä¼š&lt;font color=&#39;red&#39;&gt;æ›´æ–°&lt;/font&gt;æˆå‘˜çš„åˆ†æ•°ï¼ˆscroreï¼‰ï¼Œå¹¶æ›´æ–°åˆ°æ­£ç¡®çš„æ’åºä½ç½®ã€‚&lt;/li&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦ï¼š&lt;font color=&#39;red&#39;&gt;å¯¹äºæ¯ä¸ªæ·»åŠ çš„æˆå‘˜ä¸º &lt;code&gt;O(log(N))&lt;/code&gt; &lt;/font&gt;ï¼Œå…¶ä¸­ N æŒ‡çš„æ˜¯æœ‰åºé›†åˆä¸­çš„å…ƒç´ æ•°é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;éå†å…ƒç´ -2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#éå†å…ƒç´ -2&#34;&gt;#&lt;/a&gt; éå†å…ƒç´ &lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;ZRANGE key start stop [WITHSCORES]&lt;/code&gt; &lt;/strong&gt;ï¼šéå†  &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„æœ‰åºé›†åˆä¸­&lt;strong&gt;ä¸‹æ ‡åœ¨ [ &lt;code&gt;start&lt;/code&gt; , &lt;code&gt;stop&lt;/code&gt; ] é—´çš„å…ƒç´ &lt;/strong&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;è¿”å›çš„å…ƒç´ æŒ‰åˆ†æ•°é€’å¢æ’åº&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœæ·»åŠ äº†  &lt;code&gt;WITHSCORES&lt;/code&gt;  é€‰é¡¹ï¼Œä¼šå°†å…ƒç´ çš„åˆ†æ•°ä¸å…ƒç´ ä¸€å¹¶è¿”å›ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;ZREVRANGE key start stop [WITHSCORES]&lt;/code&gt; &lt;/strong&gt;ï¼šä¸ &lt;code&gt;ZRANGE&lt;/code&gt;  ç±»ä¼¼ï¼Œåªä¸è¿‡å…ƒç´ æ˜¯&lt;font color=&#39;red&#39;&gt;æŒ‰åˆ†æ•°é€’å‡æ’åº&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT offset count]&lt;/code&gt; &lt;/strong&gt;ï¼šéå†  &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„æœ‰åºé›†åˆä¸­&lt;strong&gt; score å€¼åœ¨ [ &lt;code&gt;min&lt;/code&gt; , &lt;code&gt;max&lt;/code&gt; ] é—´çš„å…ƒç´ &lt;/strong&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;è¿”å›çš„å…ƒç´ æŒ‰åˆ†æ•°é€’å¢æ’åº&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å…·æœ‰ç›¸åŒåˆ†æ•°çš„å…ƒç´ æŒ‰å­—å…¸åºæ’åˆ—&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;LIMIT&lt;/code&gt;  å‚æ•°æŒ‡å®šè¿”å›ç»“æœçš„èµ·å§‹&lt;font color=&#39;red&#39;&gt;ä¸‹æ ‡ &lt;code&gt;offset&lt;/code&gt;  ä»¥åŠæ•°é‡ &lt;code&gt;count&lt;/code&gt; &lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ï¼Œå¦‚æœ &lt;code&gt;offset&lt;/code&gt;  å¤ªå¤§ï¼Œå®šä½ &lt;code&gt;offset&lt;/code&gt;  å°±å¯èƒ½éå†æ•´ä¸ªæœ‰åºé›†åˆï¼Œè¿™ä¼šå¢åŠ  O (N) çš„å¤æ‚åº¦ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;min&lt;/code&gt;  å’Œ &lt;code&gt;max&lt;/code&gt;  å¯ä»¥æ˜¯ - inf å’Œ + infï¼Œè¿™æ ·ä¸€æ¥ï¼Œä½ å°±å¯ä»¥åœ¨ä¸çŸ¥é“æœ‰åºé›†çš„æœ€ä½å’Œæœ€é«˜ score å€¼çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ &lt;code&gt;ZRANGEBYSCORE&lt;/code&gt;  å‘½ä»¤ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;é»˜è®¤ä½¿ç”¨é—­åŒºé—´&lt;/font&gt;ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç»™å‚æ•°å‰å¢åŠ  &lt;code&gt;(&lt;/code&gt; ç¬¦å·æ¥ä½¿ç”¨å¯é€‰çš„å¼€åŒºé—´ (å°äºæˆ–å¤§äº)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è·å–å…ƒç´ çš„åˆ†æ•°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è·å–å…ƒç´ çš„åˆ†æ•°&#34;&gt;#&lt;/a&gt; è·å–å…ƒç´ çš„åˆ†æ•°&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;ZSCORE key member&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å› &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„æœ‰åºé›†åˆä¸­ï¼Œæˆå‘˜ &lt;code&gt;member&lt;/code&gt;  çš„ score å€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è·å–æœ‰åºé›†åˆçš„å…ƒç´ æ•°é‡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è·å–æœ‰åºé›†åˆçš„å…ƒç´ æ•°é‡&#34;&gt;#&lt;/a&gt; è·å–æœ‰åºé›†åˆçš„å…ƒç´ æ•°é‡&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;ZCARD key&lt;/code&gt; &lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åˆ é™¤å…ƒç´ -2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ é™¤å…ƒç´ -2&#34;&gt;#&lt;/a&gt; åˆ é™¤å…ƒç´ &lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;ZREM key member [member ...]&lt;/code&gt; &lt;/strong&gt;ï¼šä» &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„æœ‰åºé›†åˆä¸­&lt;strong&gt;åˆ é™¤æŒ‡å®šçš„å¤šä¸ªæˆå‘˜ &lt;code&gt;member&lt;/code&gt; &lt;/strong&gt;ï¼Œè¿”å›çš„æ˜¯åˆ é™¤çš„æˆå‘˜ä¸ªæ•°ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸åŒ…æ‹¬ä¸å­˜åœ¨çš„æˆå‘˜&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å¢åŠ æŸä¸ªå…ƒç´ çš„åˆ†æ•°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¢åŠ æŸä¸ªå…ƒç´ çš„åˆ†æ•°&#34;&gt;#&lt;/a&gt; å¢åŠ æŸä¸ªå…ƒç´ çš„åˆ†æ•°&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;ZINCRBY key increment member&lt;/code&gt; &lt;/strong&gt;ï¼šä¸º &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„æœ‰åºé›†åˆä¸­çš„æˆå‘˜ &lt;code&gt;member&lt;/code&gt;  çš„ score å€¼åŠ ä¸Šå¢é‡ &lt;code&gt;increment&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è·å¾—æŒ‡å®šåˆ†æ•°èŒƒå›´å†…çš„å…ƒç´ æ•°é‡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è·å¾—æŒ‡å®šåˆ†æ•°èŒƒå›´å†…çš„å…ƒç´ æ•°é‡&#34;&gt;#&lt;/a&gt; è·å¾—æŒ‡å®šåˆ†æ•°èŒƒå›´å†…çš„å…ƒç´ æ•°é‡&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;ZCOUNT key min max&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å› &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„æœ‰åºé›†åˆä¸­ score å€¼åœ¨ [ &lt;code&gt;min&lt;/code&gt; , &lt;code&gt;max&lt;/code&gt; ] ä¹‹é—´çš„æˆå‘˜æ•°é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å¼¹å‡ºä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ redis7&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¼¹å‡ºä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ redis7&#34;&gt;#&lt;/a&gt; å¼¹å‡ºä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼ˆRedis7ï¼‰&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;ZMPOP numkeys key [key ...] &amp;lt;MIN | MAX&amp;gt; [COUNT count]&lt;/code&gt; &lt;/strong&gt;ï¼šä» &lt;code&gt;numkeys&lt;/code&gt;  ä¸ªæœ‰åºé›†åˆ &lt;code&gt;key&lt;/code&gt;  åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªéç©ºæœ‰åºé›†åˆä¸­ï¼Œå¼¹å‡º &lt;code&gt;count&lt;/code&gt;  ä¸ªå…ƒç´ ã€‚
&lt;ul&gt;
&lt;li&gt;å‚æ•° &lt;code&gt;MIN&lt;/code&gt;  è¡¨ç¤ºæŒ‰ç…§ score å€¼&lt;font color=&#39;red&#39;&gt;é€’å¢&lt;/font&gt;çš„é¡ºåºä¾æ¬¡å¼¹å‡º&lt;/li&gt;
&lt;li&gt;å‚æ•° &lt;code&gt;MAX&lt;/code&gt;  è¡¨ç¤ºæŒ‰ç…§ score å€¼&lt;font color=&#39;red&#39;&gt;é€’å‡&lt;/font&gt;çš„é¡ºåºä¾æ¬¡å¼¹å‡º&lt;/li&gt;
&lt;li&gt;å‚æ•° &lt;code&gt;COUNT&lt;/code&gt;  è¡¨ç¤ºæŒ‡å®š&lt;font color=&#39;red&#39;&gt;è¦å¼¹å‡ºçš„å…ƒç´ æ•°é‡&lt;/font&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;é»˜è®¤è®¾ç½®ä¸º 1&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804193510087.png&#34; alt=&#34;image-20230804193510087&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;è·å–å…ƒç´ çš„ä¸‹æ ‡å€¼å³æ’å&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è·å–å…ƒç´ çš„ä¸‹æ ‡å€¼å³æ’å&#34;&gt;#&lt;/a&gt; è·å–å…ƒç´ çš„ä¸‹æ ‡å€¼ï¼ˆå³æ’åï¼‰&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;ZRANK key member&lt;/code&gt; &lt;/strong&gt;ï¼š&lt;strong&gt;è¿”å›æœ‰åºé›† &lt;code&gt;key&lt;/code&gt;  ä¸­æˆå‘˜ &lt;code&gt;member&lt;/code&gt;  çš„æ’å&lt;/strong&gt;ã€‚å…¶ä¸­æœ‰åºé›†æˆå‘˜&lt;font color=&#39;red&#39;&gt;æŒ‰ score å€¼é€’å¢&lt;/font&gt;(ä»å°åˆ°å¤§) é¡ºåºæ’åˆ—ã€‚æ’åä»¥ 0 ä¸ºåº•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œscore å€¼æœ€å°çš„æˆå‘˜æ’åä¸º 0ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;ZREVRANK key member&lt;/code&gt; &lt;/strong&gt;ï¼šä¸ &lt;code&gt;ZRANK&lt;/code&gt;  å‘½ä»¤ç±»ä¼¼ï¼Œåªä¸è¿‡æ˜¯&lt;font color=&#39;red&#39;&gt;æŒ‰ç…§ score å€¼é€’å‡&lt;/font&gt;æ’åºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åº”ç”¨åœºæ™¯-5&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åº”ç”¨åœºæ™¯-5&#34;&gt;#&lt;/a&gt; åº”ç”¨åœºæ™¯&lt;/h5&gt;
&lt;p&gt;æ ¹æ®å•†å“çš„é”€é‡å¯¹å•†å“è¿›è¡Œæ’åºæ˜¾ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;æ€è·¯ï¼šå®šä¹‰å•†å“é”€å”®æ’è¡Œæ¦œ (sorted set é›†åˆ)ï¼Œkey ä¸º goods:sellsortï¼Œåˆ†æ•°ä¸ºå•†å“é”€å”®æ•°é‡ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ­¥éª¤&lt;/th&gt;
&lt;th&gt;Redis å‘½ä»¤&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;å•†å“ç¼–å· 1001 çš„é”€é‡æ˜¯ 9ï¼Œå•†å“ç¼–å· 1002 çš„é”€é‡æ˜¯ 15&lt;/td&gt;
&lt;td&gt;&lt;code&gt;zadd&lt;/code&gt;  goods:sellsort 9 1001 15 1002&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æœ‰ä¸€ä¸ªå®¢æˆ·åˆä¹°äº† 2 ä»¶å•†å“ 1001ï¼Œå•†å“ç¼–å· 1001 é”€é‡åŠ  2&lt;/td&gt;
&lt;td&gt;&lt;code&gt;zincrby&lt;/code&gt;  goods:sellsort 2 1001&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ±‚å•†å“é”€é‡å‰ 10 å&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ZREVRANGE&lt;/code&gt;  goods:sellsort 0 9 withscores&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804193828825.png&#34; alt=&#34;image-20230804193828825&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;ä½å›¾bitmap&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½å›¾bitmap&#34;&gt;#&lt;/a&gt; ä½å›¾ï¼ˆbitmapï¼‰&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å• key å¤š valueï¼Œå…¶ä¸­ value æ˜¯ç”±&lt;font color=&#39;orange&#39;&gt;0 å’Œ 1&lt;/font&gt;çŠ¶æ€è¡¨ç°äºŒè¿›åˆ¶ä½çš„&lt;font color=&#39;orange&#39;&gt;bit æ•°ç»„&lt;/font&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;éœ€æ±‚&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#éœ€æ±‚&#34;&gt;#&lt;/a&gt; éœ€æ±‚&lt;/h5&gt;
&lt;p&gt;ç”¨äº&lt;strong&gt;çŠ¶æ€ç»Ÿè®¡&lt;/strong&gt;ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·æ˜¯å¦ç™»é™†è¿‡&lt;/li&gt;
&lt;li&gt;ç”µå½±ã€å¹¿å‘Šæ˜¯å¦è¢«ç‚¹å‡»æ’­æ”¾è¿‡&lt;/li&gt;
&lt;li&gt;é’‰é’‰æ‰“å¡ä¸Šä¸‹ç­ï¼Œç­¾åˆ°ç»Ÿè®¡&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ•°æ®ç»“æ„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®ç»“æ„&#34;&gt;#&lt;/a&gt; æ•°æ®ç»“æ„&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804195914474.png&#34; alt=&#34;image-20230804195914474&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ç”¨&lt;strong&gt; String ç±»å‹ä½œä¸ºåº•å±‚æ•°æ®ç»“æ„&lt;/strong&gt;å®ç°çš„ä¸€ç§ç»Ÿè®¡&lt;strong&gt;äºŒå€¼çŠ¶æ€&lt;/strong&gt;çš„æ•°æ®ç±»å‹&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;ä½å›¾&lt;font color=&#39;red&#39;&gt;æœ¬è´¨æ˜¯æ•°ç»„&lt;/font&gt;ï¼Œå®ƒæ˜¯&lt;font color=&#39;red&#39;&gt;åŸºäº String&lt;/font&gt;æ•°æ®ç±»å‹çš„&lt;font color=&#39;red&#39;&gt;æŒ‰ä½çš„æ“ä½œ&lt;/font&gt;ã€‚è¯¥æ•°ç»„ç”±å¤šä¸ªäºŒè¿›åˆ¶ä½ç»„æˆï¼Œæ¯ä¸ªäºŒè¿›åˆ¶ä½éƒ½å¯¹åº”ä¸€ä¸ªåç§»é‡ (æˆ‘ä»¬ç§°ä¹‹ä¸ºä¸€ä¸ªç´¢å¼•)ã€‚&lt;/li&gt;
&lt;li&gt;Bitmap æ”¯æŒçš„&lt;font color=&#39;red&#39;&gt;æœ€å¤§ä½æ•°æ˜¯ 2&lt;sup&gt;32&lt;/sup&gt; ä½&lt;/font&gt;ï¼Œå®ƒå¯ä»¥&lt;font color=&#39;red&#39;&gt;æå¤§çš„èŠ‚çº¦å­˜å‚¨ç©ºé—´&lt;/font&gt;ï¼Œä½¿ç”¨ 512M å†…å­˜å°±å¯ä»¥å­˜å‚¨å¤šè¾¾ 42.9 äº¿çš„å­—èŠ‚ä¿¡æ¯ (2&lt;sup&gt;32&lt;/sup&gt; = 4294967296)&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å¸¸ç”¨å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¸¸ç”¨å‘½ä»¤&#34;&gt;#&lt;/a&gt; å¸¸ç”¨å‘½ä»¤&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804200305770.png&#34; alt=&#34;image-20230804200305770&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;SETBIT key offset value&lt;/code&gt; &lt;/strong&gt;ï¼šè®¾ç½® &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ bitmapï¼ˆå­—ç¬¦ä¸²ï¼‰åœ¨ &lt;code&gt;offset&lt;/code&gt;  å¤„çš„ bit å€¼ä¸º &lt;code&gt;value&lt;/code&gt; ã€‚&lt;strong&gt;è¿”å› offset å¤„åŸæ¥çš„ bit å€¼&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804201300199.png&#34; alt=&#34;image-20230804201300199&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;GETBIT key offset&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å› &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ bitmapï¼ˆå­—ç¬¦ä¸²ï¼‰åœ¨ &lt;code&gt;offset&lt;/code&gt;  å¤„çš„ bit å€¼ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“ offset è¶…å‡ºäº†å­—ç¬¦ä¸²é•¿åº¦çš„æ—¶å€™ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å°±è¢«å‡å®šä¸ºç”± 0 æ¯”ç‰¹å¡«å……çš„è¿ç»­ç©ºé—´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804201502414.png&#34; alt=&#34;image-20230804201502414&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;STRLEN key&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å› &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ bitmap (å­—ç¬¦ä¸²) çš„&lt;strong&gt;å­—èŠ‚æ•°&lt;/strong&gt; (1 å­—èŠ‚ = 8bit)ï¼Œè¶…è¿‡ 8bit åå†æ‰©å®¹ 1 å­—èŠ‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804201827460.png&#34; alt=&#34;image-20230804201827460&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;BITCOUNT key [start end]&lt;/code&gt; &lt;/strong&gt;ï¼šç»Ÿè®¡ &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ bitmap (å­—ç¬¦ä¸²) ä¸­&lt;strong&gt; bit å€¼ä¸º 1 çš„æ•°é‡&lt;/strong&gt;ã€‚å¯ä»¥æŒ‡å®šé¢å¤–çš„å‚æ•° &lt;code&gt;start&lt;/code&gt;  å’Œ &lt;code&gt;end&lt;/code&gt;  æ¥é™åˆ¶ç»Ÿè®¡èŒƒå›´çš„ä¸‹æ ‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804202346532.png&#34; alt=&#34;image-20230804202346532&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;BITOP operation destkey key [key ...]&lt;/code&gt; &lt;/strong&gt;ï¼šå¯¹ä¸€ä¸ªæˆ–å¤šä¸ª &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„&lt;strong&gt; bitmap (å­—ç¬¦ä¸²) ä¹‹é—´è¿›è¡Œä½å…ƒæ“ä½œ&lt;/strong&gt;ï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°  &lt;code&gt;destkey&lt;/code&gt;  ä¸Šï¼Œå…¶ä¸­æ“ä½œæ–¹å¼ &lt;code&gt;operation&lt;/code&gt;  æœ‰ä»¥ä¸‹å‡ ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ANDï¼šBITOP AND destkey srckey1 srckey2 srckey3 ... srckeyN ï¼Œå¯¹ä¸€ä¸ªæˆ–å¤šä¸ª key æ±‚&lt;font color=&#39;red&#39;&gt;é€»è¾‘å¹¶&lt;/font&gt;ï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ° destkey ã€‚&lt;/li&gt;
&lt;li&gt;ORï¼šBITOP OR destkey srckey1 srckey2 srckey3 ... srckeyNï¼Œå¯¹ä¸€ä¸ªæˆ–å¤šä¸ª key æ±‚&lt;font color=&#39;red&#39;&gt;é€»è¾‘æˆ–&lt;/font&gt;ï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ° destkey ã€‚&lt;/li&gt;
&lt;li&gt;XORï¼šBITOP XOR destkey srckey1 srckey2 srckey3 ... srckeyNï¼Œå¯¹ä¸€ä¸ªæˆ–å¤šä¸ª key æ±‚&lt;font color=&#39;red&#39;&gt;é€»è¾‘å¼‚æˆ–&lt;/font&gt;ï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ° destkey ã€‚&lt;/li&gt;
&lt;li&gt;NOTï¼šBITOP NOT destkey srckeyï¼Œå¯¹ç»™å®š key æ±‚&lt;font color=&#39;red&#39;&gt;é€»è¾‘é&lt;/font&gt;ï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ° destkey ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åº”ç”¨åœºæ™¯-6&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åº”ç”¨åœºæ™¯-6&#34;&gt;#&lt;/a&gt; åº”ç”¨åœºæ™¯&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç»Ÿè®¡å…¨å¹´å¤©å¤©ç™»é™†å ç”¨å¤šå°‘å­—èŠ‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230804203608847.png&#34; alt=&#34;image-20230804203608847&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŒ‰ç…§å¹´&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æŒ‰å¹´å»å­˜å‚¨ä¸€ä¸ªç”¨æˆ·çš„ç­¾åˆ°æƒ…å†µï¼Œ365 å¤©åªéœ€è¦ 365 / 8 â‰ˆ 46 Byteï¼Œ1000W ç”¨æˆ·é‡ä¸€å¹´ä¹Ÿåªéœ€è¦ 44 MB å°±è¶³å¤Ÿäº†ã€‚&lt;/p&gt;
&lt;p&gt;å‡å¦‚æ˜¯äº¿çº§çš„ç³»ç»Ÿï¼Œ&lt;/p&gt;
&lt;p&gt;æ¯å¤©ä½¿ç”¨ 1 ä¸ª 1 äº¿ä½çš„ Bitmap çº¦å  12MB çš„å†…å­˜ï¼ˆ10^8/8/1024/1024ï¼‰ï¼Œ10 å¤©çš„ Bitmap çš„å†…å­˜å¼€é”€çº¦ä¸º 120MBï¼Œ&lt;font color=&#39;red&#39;&gt;å†…å­˜å‹åŠ›ä¸ç®—å¤ªé«˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œåœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œ&lt;font color=&#39;red&#39;&gt;æœ€å¥½å¯¹ Bitmap è®¾ç½®è¿‡æœŸæ—¶é—´&lt;/font&gt;ï¼Œè®© Redis è‡ªåŠ¨åˆ é™¤ä¸å†éœ€è¦çš„ç­¾åˆ°è®°å½•ä»¥èŠ‚çœå†…å­˜å¼€é”€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;åŸºæ•°ç»Ÿè®¡hyperloglog&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸºæ•°ç»Ÿè®¡hyperloglog&#34;&gt;#&lt;/a&gt; åŸºæ•°ç»Ÿè®¡ï¼ˆHyperLogLogï¼‰&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å• key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;éœ€æ±‚-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#éœ€æ±‚-2&#34;&gt;#&lt;/a&gt; éœ€æ±‚&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;UV&lt;/strong&gt;ï¼šUnique Visitorï¼Œç‹¬ç«‹è®¿å®¢ï¼Œä¸€èˆ¬ç†è§£ä¸ºå®¢æˆ·ç«¯ IPï¼Œé€šå¸¸ç”¨äºç»Ÿè®¡ç½‘ç«™ / æ–‡ç« çš„è®¿é—®é‡ï¼Œ&lt;font color=&#39;red&#39;&gt;éœ€è¦è€ƒè™‘å»é‡&lt;/font&gt;ï¼ŒåŒæ—¶&lt;font color=&#39;red&#39;&gt;ä¸å¸Œæœ›å ç”¨å¤ªå¤§å†…å­˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç»Ÿè®¡ç”¨æˆ·æœç´¢ç½‘ç«™å…³é”®è¯çš„æ•°é‡&lt;/li&gt;
&lt;li&gt;ç»Ÿè®¡ç”¨æˆ·æ¯å¤©æœç´¢ä¸åŒè¯æ¡ä¸ªæ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;hyperloglogæ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#hyperloglogæ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; HyperLogLog æ˜¯ä»€ä¹ˆ&lt;/h5&gt;
&lt;p&gt;ä¸€è¨€è”½ä¹‹ï¼š&lt;strong&gt;HyperLogLog æ˜¯ä¸€ç§æ ¹æ®æ¡ä»¶å»é‡çš„åŸºæ•°ä¼°è®¡ç®—æ³•&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;åŸºæ•°&lt;/strong&gt;ï¼šæ˜¯ä¸€ç§æ•°æ®é›†ï¼Œæ˜¯å»é‡åçš„çœŸå®æ•°é‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805111729020.png&#34; alt=&#34;image-20230805111729020&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åŸºæ•°ç»Ÿè®¡&lt;/strong&gt;ï¼šç»Ÿè®¡ä¸€ä¸ªé›†åˆä¸­ä¸é‡å¤çš„å…ƒç´ ä¸ªæ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¤§ç™½è¯&lt;/strong&gt;ï¼šå»é‡è„±æ°´åçš„çœŸå®æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸ set çš„åŒºåˆ«&lt;/strong&gt;ï¼šäºŒè€…åŒæ ·èƒ½è¾¾åˆ°å»é‡çš„ç›®çš„ï¼ŒåŒºåˆ«æ˜¯ï¼š&lt;font color=&#39;red&#39;&gt;set éœ€è¦ä¿å­˜å…ƒç´ æ•°æ®æœ¬èº«&lt;/font&gt;ï¼Œè€Œ&lt;font color=&#39;red&#39;&gt;HyperLogLog åªå«æœ‰åŸºæ•°ç›¸å…³ä¿¡æ¯ï¼Œä¸ä¿å­˜å…ƒç´ æ•°æ®æœ¬èº«&lt;/font&gt;ï¼Œä¾‹å¦‚åªä¿å­˜ç½‘ç«™çš„è®¿é—®é‡ï¼Œè€Œä¸ä¿å­˜å„ä¸ªè®¿é—®è€…çš„ä¿¡æ¯ï¼Œå› æ­¤&lt;font color=&#39;red&#39;&gt;HyperLogLog å ç”¨çš„å†…å­˜æ›´å°&lt;/font&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼šåœ¨è¾“å…¥å…ƒç´ çš„æ•°é‡æˆ–è€…ä½“ç§¯éå¸¸éå¸¸å¤§æ—¶ï¼Œè®¡ç®—åŸºæ•°&lt;font color=&#39;red&#39;&gt;æ‰€éœ€çš„ç©ºé—´æ€»æ˜¯å›ºå®šçš„ã€å¹¶ä¸”æ˜¯å¾ˆå°çš„&lt;/font&gt;ã€‚ä½†æ˜¯ï¼Œå› ä¸º HyperLogLog&lt;font color=&#39;orange&#39;&gt;åªä¼šæ ¹æ®è¾“å…¥å…ƒç´ æ¥è®¡ç®—åŸºæ•°ï¼Œè€Œä¸ä¼šå‚¨å­˜è¾“å…¥å…ƒç´ æœ¬èº«&lt;/font&gt;ï¼Œæ‰€ä»¥ HyperLogLog&lt;font color=&#39;red&#39;&gt;ä¸èƒ½åƒé›†åˆé‚£æ ·ï¼Œè¿”å›è¾“å…¥çš„å„ä¸ªå…ƒç´ &lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ Redis é‡Œé¢ï¼Œ&lt;font color=&#39;red&#39;&gt;æ¯ä¸ª HyperLogLog é”®åªéœ€è¦èŠ±è´¹ 12KB å†…å­˜ï¼Œå°±å¯ä»¥è®¡ç®—æ¥è¿‘ 2&lt;sup&gt;64&lt;/sup&gt; ä¸ªä¸åŒå…ƒç´ çš„åŸºæ•°&lt;/font&gt;ã€‚è¿™å’Œè®¡ç®—åŸºæ•°æ—¶ï¼Œå…ƒç´ è¶Šå¤šè€—è´¹å†…å­˜å°±è¶Šå¤šçš„é›†åˆå½¢æˆé²œæ˜å¯¹æ¯”ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;font color=&#39;red&#39;&gt;æœ‰ 0.81% çš„æ ‡å‡†è¯¯å·®&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;å‘½ä»¤æ¦‚è§ˆ-6&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘½ä»¤æ¦‚è§ˆ-6&#34;&gt;#&lt;/a&gt; å‘½ä»¤æ¦‚è§ˆ&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805111923099.png&#34; alt=&#34;image-20230805111923099&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805112011715.png&#34; alt=&#34;image-20230805112011715&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805111944589.png&#34; alt=&#34;image-20230805111944589&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;PFADD key element [element ...]&lt;/code&gt; &lt;/strong&gt;ï¼šå‘ &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ HyperLogLog ä¸­ **&amp;quot;æ·»åŠ &amp;quot; è‹¥å¹²æŒ‡å®šå…ƒç´  &lt;code&gt;element&lt;/code&gt; **ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™é‡Œæ·»åŠ çš„ element ä»…ç”¨äºè®¡ç®—åŸºæ•°ï¼Œä¸ä¼šè¢«å­˜å‚¨ï¼Œä¹Ÿæ— æ³•è¿”å›ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;PFCOUNT key [key ...]&lt;/code&gt; &lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“å‚æ•°ä¸ºä¸€ä¸ª key æ—¶ï¼šè¿”å›å­˜å‚¨åœ¨ HyperLogLog ç»“æ„ä½“çš„è¯¥å˜é‡çš„&lt;strong&gt;è¿‘ä¼¼åŸºæ•°&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å½“å‚æ•°ä¸ºå¤šä¸ª key æ—¶ï¼šè¿”å›è¿™äº› HyperLogLog&lt;strong&gt; å¹¶é›†çš„è¿‘ä¼¼åŸºæ•°&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è¿”å›çš„å¯è§é›†åˆåŸºæ•°å¹¶ä¸æ˜¯ç²¾ç¡®å€¼ï¼Œè€Œæ˜¯ä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;å¸¦æœ‰ 0.81% æ ‡å‡†é”™è¯¯ï¼ˆstandard errorï¼‰çš„è¿‘ä¼¼å€¼&lt;/font&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿™ä¸ªå‘½ä»¤çš„ä¸€ä¸ªå‰¯ä½œç”¨æ˜¯&lt;font color=&#39;red&#39;&gt;å¯èƒ½ä¼šå¯¼è‡´ HyperLogLog å†…éƒ¨è¢«æ›´æ”¹&lt;/font&gt;ã€‚å‡ºäºç¼“å­˜çš„ç›®çš„ï¼Œå®ƒä¼šç”¨ 8 å­—èŠ‚æ¥è®°å½•æœ€è¿‘ä¸€æ¬¡è®¡ç®—å¾—åˆ°åŸºæ•°ï¼Œæ‰€ä»¥ &lt;code&gt;PFCOUNT&lt;/code&gt;  å‘½ä»¤åœ¨æŠ€æœ¯ä¸Šæ˜¯ä¸ªå†™å‘½ä»¤ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;PFMERGE destkey sourcekey [sourcekey ...]&lt;/code&gt; &lt;/strong&gt;ï¼šå°†ç”± &lt;code&gt;sourcekey&lt;/code&gt;  æŒ‡å®šçš„å¤šä¸ª HyperLogLog &lt;strong&gt;åˆå¹¶&lt;/strong&gt;ä¸ºä¸€ä¸ªç”± &lt;code&gt;destkey&lt;/code&gt;  æŒ‡å®šçš„ HyperLogLog ï¼Œåˆå¹¶åçš„ HyperLogLog çš„åŸºæ•°æ¥è¿‘äºæ‰€æœ‰è¾“å…¥ HyperLogLog çš„å¯è§é›†åˆçš„å¹¶é›†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åº”ç”¨åœºæ™¯-7&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åº”ç”¨åœºæ™¯-7&#34;&gt;#&lt;/a&gt; åº”ç”¨åœºæ™¯&lt;/h5&gt;
&lt;p&gt;ç»Ÿè®¡å¤©çŒ«ç½‘ç«™é¦–é¡µäº¿çº§ UV çš„ Redis ç»Ÿè®¡æ–¹æ¡ˆã€‚é«˜çº§ç¯‡è§ï¼&lt;/p&gt;
&lt;h4 id=&#34;åœ°ç†ç©ºé—´geo&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åœ°ç†ç©ºé—´geo&#34;&gt;#&lt;/a&gt; åœ°ç†ç©ºé—´ï¼ˆGEOï¼‰&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æœ¬è´¨æ˜¯æœ‰åºé›†åˆ Zset&lt;/strong&gt;ï¼Œä¸åŒçš„æ˜¯&lt;font color=&#39;orange&#39;&gt;å°†&lt;u&gt;score å€¼&lt;/u&gt;æ›¿æ¢ä¸º&lt;u&gt;ç»çº¬åº¦&lt;/u&gt;&lt;/font&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ°çƒä¸Šçš„åœ°ç†ä½ç½®æ˜¯ä½¿ç”¨äºŒç»´çš„&lt;strong&gt;ç»çº¬åº¦&lt;/strong&gt;è¡¨ç¤ºï¼Œç»åº¦èŒƒå›´ (-180, 180]ï¼Œçº¬åº¦èŒƒå›´ (-90, 90]ã€‚æ ¸å¿ƒæ€æƒ³ä¸»è¦åˆ†ä¸ºä¸‰æ­¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°†ä¸‰ç»´çš„åœ°çƒå˜ä¸ºäºŒç»´çš„åæ ‡&lt;/li&gt;
&lt;li&gt;å°†äºŒç»´çš„åæ ‡è½¬æ¢ä¸ºä¸€ç»´çš„ç‚¹å—&lt;/li&gt;
&lt;li&gt;å°†ä¸€ç»´çš„ç‚¹å—è½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼Œå†é€šè¿‡ base32 ç¼–ç &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805135151199.png&#34; alt=&#34;image-20230805135151199&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;å‘½ä»¤æ¦‚è§ˆä¸å®æ“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘½ä»¤æ¦‚è§ˆä¸å®æ“&#34;&gt;#&lt;/a&gt; å‘½ä»¤æ¦‚è§ˆä¸å®æ“&lt;/h5&gt;
&lt;p&gt;å¦‚ä½•è·å–æŸä¸ªåœ°å€çš„ç»çº¬åº¦ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL2FwaS5tYXAuYmFpZHUuY29tL2xic2FwaS9nZXRwb2ludC8=&#34;&gt;http://api.map.baidu.com/lbsapi/getpoint/&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;GEOADD key longitude latitude member [longitude latitude member ...]&lt;/code&gt; &lt;/strong&gt;ï¼šå‘ &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ GEO ä¸­&lt;font color=&#39;red&#39;&gt;æ·»åŠ è‹¥å¹²ä¸ªæŒ‡å®šçš„åœ°ç†ç©ºé—´ä½ç½®&lt;/font&gt;ï¼ˆç»åº¦ &lt;code&gt;longitude&lt;/code&gt; ã€çº¬åº¦ &lt;code&gt;latitude&lt;/code&gt; ã€ä½ç½®åç§° &lt;code&gt;member&lt;/code&gt; ï¼‰ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¯¥å‘½ä»¤ä»¥é‡‡ç”¨æ ‡å‡†æ ¼å¼çš„å‚æ•° x,yï¼Œæ‰€ä»¥&lt;font color=&#39;red&#39;&gt;ç»åº¦å¿…é¡»åœ¨çº¬åº¦ä¹‹å‰&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦ï¼š&lt;strong&gt;æ¯ä¸€ä¸ªå…ƒç´ æ·»åŠ æ˜¯ &lt;code&gt;O(log(N))&lt;/code&gt; ï¼Œå› ä¸ºåº•å±‚æ˜¯æœ‰åºé›†åˆ Zset&lt;/strong&gt;ï¼ŒN æ˜¯æœ‰åºé›†åˆ Zset çš„å…ƒç´ æ•°é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805141104831.png&#34; alt=&#34;image-20230805141104831&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;GEOPOS key member [member ...]&lt;/code&gt; &lt;/strong&gt;ï¼šä» &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ GEO ä¸­&lt;font color=&#39;red&#39;&gt;è·å–è‹¥å¹²ä¸ªæŒ‡å®šäº†åœ°ç†ä½ç½®åç§° &lt;code&gt;member&lt;/code&gt;  çš„åœ°ç†ä½ç½®çš„&lt;strong&gt;ç»çº¬åº¦&lt;/strong&gt;&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿”å›å€¼ï¼šä¸€ä¸ªæ•°ç»„ï¼Œæ¯é¡¹ç”±ä¸¤ä¸ªå…ƒç´ ç»„æˆï¼šç»åº¦ã€çº¬åº¦ã€‚&lt;/li&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦ï¼šæ¯ä¸€ä¸ªå…ƒç´ æ·»åŠ æ˜¯ &lt;code&gt;O(log(N))&lt;/code&gt; ï¼ŒN æ˜¯æœ‰åºé›†åˆ Zset çš„å…ƒç´ æ•°é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805141619345.png&#34; alt=&#34;image-20230805141619345&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;GEOHASH key member [member ...]&lt;/code&gt; &lt;/strong&gt;ï¼šä» &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ GEO ä¸­&lt;font color=&#39;red&#39;&gt;è·å–è‹¥å¹²ä¸ªæŒ‡å®šäº†åœ°ç†ä½ç½®åç§° &lt;code&gt;member&lt;/code&gt;  çš„åœ°ç†ä½ç½®çš„&lt;strong&gt; Geohash è¡¨ç¤º&lt;/strong&gt;&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;geohash ç®—æ³•ç”Ÿæˆçš„&lt;font color=&#39;red&#39;&gt;base32 ç¼–ç å€¼&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;è¿”å›å€¼ï¼šä¸€ä¸ªæ•°ç»„ï¼Œæ¯é¡¹æ˜¯ä¸€ä¸ª geohash&lt;/li&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦ï¼šæ¯ä¸€ä¸ªå…ƒç´ æ·»åŠ æ˜¯ &lt;code&gt;O(log(N))&lt;/code&gt; ï¼ŒN æ˜¯æœ‰åºé›†åˆ Zset çš„å…ƒç´ æ•°é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805141940907.png&#34; alt=&#34;image-20230805141940907&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;GEODIST key member1 member2 [unit]&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å› &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ GEO ä¸­ä¸¤ä¸ªç»™å®šä½ç½®ï¼ˆ &lt;code&gt;member1&lt;/code&gt;  å’Œ &lt;code&gt;member2&lt;/code&gt; ï¼‰ä¹‹é—´çš„&lt;strong&gt;è·ç¦»&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…¶ä¸­å‚æ•° &lt;code&gt;unit&lt;/code&gt;  å¯å–ä»¥ä¸‹å››ä¸ªå€¼ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;m&lt;/strong&gt; è¡¨ç¤ºå•ä½ä¸ºç±³ï¼Œ&lt;font color=&#39;red&#39;&gt;é»˜è®¤å•ä½&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;km&lt;/strong&gt; è¡¨ç¤ºå•ä½ä¸ºåƒç±³&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;mi&lt;/strong&gt; è¡¨ç¤ºå•ä½ä¸ºè‹±é‡Œ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ft&lt;/strong&gt; è¡¨ç¤ºå•ä½ä¸ºè‹±å°º&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åœ¨è®¡ç®—è·ç¦»æ—¶ä¼šå‡è®¾åœ°çƒä¸ºå®Œç¾çš„çƒå½¢ï¼Œåœ¨æé™æƒ…å†µä¸‹ï¼Œ è¿™ä¸€å‡è®¾&lt;font color=&#39;red&#39;&gt;æœ€å¤§ä¼šé€ æˆ 0.5% çš„è¯¯å·®&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805142341845.png&#34; alt=&#34;image-20230805142341845&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;GEORADIUS key longitude latitude radius m|km|ft|mi [WITHCOORD] [WITHDIST] [WITHHASH] [COUNT count]&lt;/code&gt; &lt;/strong&gt;ï¼š&lt;strong&gt;ä»¥ç»™å®šçš„ç»çº¬åº¦ ( &lt;code&gt;longitude&lt;/code&gt;  å’Œ &lt;code&gt;latitude&lt;/code&gt; ) ä¸ºä¸­å¿ƒï¼Œè¿”å› &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ GEO ä¸­ï¼Œä¸ä¸­å¿ƒçš„è·ç¦»ä¸è¶…è¿‡ç»™å®šæœ€å¤§è·ç¦» &lt;code&gt;radius&lt;/code&gt;  çš„æ‰€æœ‰ä½ç½®å…ƒç´ &lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;WITHCOORD&lt;/code&gt; : å°†ä½ç½®å…ƒç´ çš„&lt;font color=&#39;red&#39;&gt;ç»åº¦å’Œçº¬åº¦&lt;/font&gt;ä¹Ÿä¸€å¹¶è¿”å›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;WITHDIST&lt;/code&gt; : åœ¨è¿”å›ä½ç½®å…ƒç´ çš„åŒæ—¶ï¼Œå°†ä½ç½®å…ƒç´ &lt;font color=&#39;red&#39;&gt;ä¸ä¸­å¿ƒä¹‹é—´çš„è·ç¦»&lt;/font&gt;ä¹Ÿä¸€å¹¶è¿”å›ã€‚è·ç¦»çš„å•ä½å’Œç”¨æˆ·ç»™å®šçš„èŒƒå›´å•ä½ä¿æŒä¸€è‡´&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;WITHHASH&lt;/code&gt; : &lt;font color=&#39;red&#39;&gt;ä»¥ 52 ä½æœ‰ç¬¦å·æ•´æ•°çš„å½¢å¼&lt;/font&gt;ï¼Œè¿”å›ä½ç½®å…ƒç´ &lt;font color=&#39;red&#39;&gt;ç»è¿‡åŸå§‹ geohash ç¼–ç çš„æœ‰åºé›†åˆåˆ†å€¼&lt;/font&gt;ã€‚è¿™ä¸ªé€‰é¡¹&lt;font color=&#39;red&#39;&gt;ä¸»è¦ç”¨äºåº•å±‚åº”ç”¨æˆ–è€…è°ƒè¯•&lt;/font&gt;ï¼Œå®é™…ä¸­çš„ä½œç”¨å¹¶ä¸å¤§&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;COUNT&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;é™å®šè¿”å›çš„è®°å½•æ•°&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‘½ä»¤&lt;font color=&#39;red&#39;&gt;é»˜è®¤è¿”å›æœªæ’åº&lt;/font&gt;çš„ä½ç½®å…ƒç´ ã€‚é€šè¿‡ä»¥ä¸‹ä¸¤ä¸ªå‚æ•°ï¼Œ ç”¨æˆ·å¯ä»¥æŒ‡å®šè¢«è¿”å›ä½ç½®å…ƒç´ çš„æ’åºæ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ASC&lt;/code&gt; : æ ¹æ®ä¸­å¿ƒçš„ä½ç½®ï¼Œ æŒ‰ç…§ä»è¿‘åˆ°è¿œçš„æ–¹å¼è¿”å›ä½ç½®å…ƒç´ ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DESC&lt;/code&gt; : æ ¹æ®ä¸­å¿ƒçš„ä½ç½®ï¼Œ æŒ‰ç…§ä»è¿œåˆ°è¿‘çš„æ–¹å¼è¿”å›ä½ç½®å…ƒç´ ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ—¶é—´å¤æ‚åº¦ï¼š&lt;strong&gt;Oï¼ˆN+logï¼ˆMï¼‰ï¼‰&lt;/strong&gt;ï¼Œå…¶ä¸­ N æ˜¯ç”±ä¸­å¿ƒå’ŒåŠå¾„é™å®šçš„åœ†å½¢åŒºåŸŸçš„è¾¹ç•Œæ¡†å†…çš„å…ƒç´ æ•°é‡ï¼ŒM æ˜¯ç´¢å¼•å†…çš„é¡¹ç›®æ•°é‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿”å›å€¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åœ¨æ²¡æœ‰ç»™å®šä»»ä½•  &lt;code&gt;WITH&lt;/code&gt;  é€‰é¡¹çš„æƒ…å†µä¸‹ï¼Œå‘½ä»¤åªä¼šè¿”å›ä¸€ä¸ªåƒ [â€œNew Yorkâ€,â€Milanâ€,â€Parisâ€] è¿™æ ·çš„&lt;font color=&#39;red&#39;&gt;çº¿æ€§ï¼ˆlinearï¼‰åç§°åˆ—è¡¨&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨æŒ‡å®šäº†  &lt;code&gt;WITHCOORD&lt;/code&gt;  ã€  &lt;code&gt;WITHDIST&lt;/code&gt;  ã€  &lt;code&gt;WITHHASH&lt;/code&gt;  ç­‰é€‰é¡¹çš„æƒ…å†µä¸‹ï¼Œå‘½ä»¤è¿”å›ä¸€&lt;font color=&#39;red&#39;&gt;ä¸ªäºŒå±‚åµŒå¥—æ•°ç»„&lt;/font&gt;ï¼Œå†…å±‚çš„æ¯ä¸ªå­æ•°ç»„å°±è¡¨ç¤ºä¸€ä¸ªå…ƒç´ ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨è¿”å›åµŒå¥—æ•°ç»„æ—¶ï¼Œå­æ•°ç»„çš„&lt;font color=&#39;red&#39;&gt;ç¬¬ä¸€ä¸ªå…ƒç´ æ€»æ˜¯ä½ç½®å…ƒç´ çš„åå­—&lt;/font&gt;ã€‚è‡³äºé¢å¤–çš„ä¿¡æ¯ï¼Œåˆ™ä¼šä½œä¸ºå­æ•°ç»„çš„åç»­å…ƒç´ ï¼ŒæŒ‰ç…§ä»¥ä¸‹é¡ºåºè¢«è¿”å›ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»¥æµ®ç‚¹æ•°æ ¼å¼è¿”å›çš„ä¸­å¿ƒ&lt;font color=&#39;red&#39;&gt;ä¸ä½ç½®å…ƒç´ ä¹‹é—´çš„è·ç¦»&lt;/font&gt;ï¼Œå•ä½ä¸ç”¨æˆ·æŒ‡å®šèŒƒå›´æ—¶çš„å•ä½ä¸€è‡´&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;geohash æ•´æ•°&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;ç”±ä¸¤ä¸ªå…ƒç´ ç»„æˆçš„åæ ‡ï¼Œåˆ†åˆ«ä¸º&lt;font color=&#39;red&#39;&gt;ç»åº¦å’Œçº¬åº¦&lt;/font&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805143142149.png&#34; alt=&#34;image-20230805143142149&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;GEORADIUSBYMEMBER key member radius m|km|ft|mi [WITHCOORD] [WITHDIST] [WITHHASH] [COUNT count]&lt;/code&gt; &lt;/strong&gt;ï¼šä¸ &lt;code&gt;GEORADIUS&lt;/code&gt;  å‘½ä»¤ç±»ä¼¼ï¼Œåªä¸è¿‡è¿™é‡Œ&lt;strong&gt;æŒ‡å®šçš„æ˜¯ä¸­å¿ƒçš„ä½ç½®åç§° &lt;code&gt;member&lt;/code&gt; &lt;/strong&gt;ï¼Œè€Œä¸æ˜¯å®ƒçš„ç»çº¬åº¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805143329626.png&#34; alt=&#34;image-20230805143329626&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä» Redis ç‰ˆæœ¬ 6.2.0 å¼€å§‹ï¼Œ&lt;strong&gt; &lt;code&gt;GEORADIUS&lt;/code&gt;  å‘½ä»¤è¢«è§†ä¸ºå·²å¼ƒç”¨&lt;/strong&gt;ã€‚åœ¨è¿ç§»æˆ–ç¼–å†™æ–°ä»£ç æ—¶ï¼Œå®ƒå¯ä»¥&lt;font color=&#39;red&#39;&gt;ç”± &lt;code&gt;GEOSEARCH&lt;/code&gt;  å‘½ä»¤å’Œå¸¦æœ‰ BYRADIUS å‚æ•°çš„ &lt;code&gt;GEOSEARCHSTORE&lt;/code&gt;  å‘½ä»¤æ›¿æ¢&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä» Redis ç‰ˆæœ¬ 6.2.0 å¼€å§‹ï¼Œ&lt;strong&gt; &lt;code&gt;GEORADIUSBYMEMBER&lt;/code&gt;  å‘½ä»¤è¢«è§†ä¸ºå·²å¼ƒç”¨&lt;/strong&gt;ã€‚åœ¨è¿ç§»æˆ–ç¼–å†™æ–°ä»£ç æ—¶ï¼Œå®ƒå¯ä»¥&lt;font color=&#39;red&#39;&gt;ç”±å¸¦æœ‰ BYRADIUS å’Œ FROMMEMBER å‚æ•°çš„ &lt;code&gt;GEOSEARCH&lt;/code&gt;  å‘½ä»¤å’Œ &lt;code&gt;GEOSEARCHSTORE&lt;/code&gt;  å‘½ä»¤æ›¿æ¢&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;åº”ç”¨åœºæ™¯-8&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åº”ç”¨åœºæ™¯-8&#34;&gt;#&lt;/a&gt; åº”ç”¨åœºæ™¯&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;ç¾å›¢åœ°å›¾ä½ç½®é™„è¿‘çš„é…’åº—æ¨é€&lt;/li&gt;
&lt;li&gt;é«˜å¾·åœ°å›¾é™„è¿‘çš„æ ¸é…¸æ£€æŸ¥ç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…·ä½“è§é«˜çº§ç¯‡ï¼&lt;/p&gt;
&lt;h4 id=&#34;æµstream&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æµstream&#34;&gt;#&lt;/a&gt; æµï¼ˆStreamï¼‰&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ Java ä¸­çš„ Stream æ˜¯ä¸¤ç äº‹ï¼Œå‡ ä¹æ²¡æœ‰ä»»ä½•å…³ç³»ï¼&lt;/p&gt;
&lt;p&gt;è‡ªæˆä¸€è„‰ï¼Œ&lt;strong&gt;ç±»å‹å°±æ˜¯ Streamï¼&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; æ˜¯ä»€ä¹ˆ&lt;/h5&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;Redis5.0 ä¹‹å‰çš„ç—›ç‚¹&lt;/font&gt;ï¼š&lt;u&gt;Redis&lt;/u&gt;æ¶ˆæ¯é˜Ÿåˆ—çš„ 2 ç§æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;List å®ç°æ¶ˆæ¯é˜Ÿåˆ—&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805154343768.png&#34; alt=&#34;image-20230805154343768&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805154402852.png&#34; alt=&#34;image-20230805154402852&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç‚¹å¯¹ç‚¹çš„æ¨¡å¼&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼š&lt;strong&gt;å¯¹äºä¸€å¯¹å¤šçš„æƒ…å†µåŠ›ä¸ä»å¿ƒ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¸¸ç”¨æ¥åš&lt;font color=&#39;red&#39;&gt;å¼‚æ­¥é˜Ÿåˆ—&lt;/font&gt;ä½¿ç”¨ï¼Œå°†éœ€è¦å»¶åå¤„ç†çš„ä»»åŠ¡ç»“æ„ä½“åºåˆ—åŒ–æˆå­—ç¬¦ä¸²å¡è¿› Redis çš„åˆ—è¡¨ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä»è¿™ä¸ªåˆ—è¡¨ä¸­è½®è¯¢æ•°æ®è¿›è¡Œå¤„ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;Pub/Subï¼ˆå‘å¸ƒ / è®¢é˜…ï¼‰&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805181258770.png&#34; alt=&#34;image-20230805181258770&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¼ºç‚¹ 1ï¼š&lt;strong&gt;æ¶ˆæ¯æ— æ³•æŒä¹…åŒ–&lt;/strong&gt;ï¼Œå¦‚æœå‡ºç°ç½‘ç»œæ–­å¼€ã€Redis å®•æœºç­‰ï¼Œæ¶ˆæ¯å°±ä¼šè¢«ä¸¢å¼ƒã€‚&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ 2ï¼š&lt;strong&gt;æ²¡æœ‰ Ack æœºåˆ¶æ¥ä¿è¯æ•°æ®çš„å¯é æ€§&lt;/strong&gt;ï¼Œå‡è®¾ä¸€ä¸ªæ¶ˆè´¹è€…éƒ½æ²¡æœ‰ï¼Œé‚£æ¶ˆæ¯å°±ç›´æ¥è¢«ä¸¢å¼ƒäº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»¼ä¸Šï¼ŒRedis5.0 ç‰ˆæœ¬æ–°å¢äº†ä¸€ä¸ªæ›´å¼ºå¤§çš„æ•°æ®ç»“æ„ Streamã€‚&lt;/p&gt;
&lt;p&gt;ä¸€è¨€è”½ä¹‹ï¼š&lt;strong&gt;Redis Steam å°±æ˜¯ Redis ç‰ˆæœ¬çš„ MQ æ¶ˆæ¯ä¸­é—´ä»¶ + é˜»å¡é˜Ÿåˆ—&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;èƒ½å¹²å˜›&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#èƒ½å¹²å˜›&#34;&gt;#&lt;/a&gt; èƒ½å¹²å˜›&lt;/h5&gt;
&lt;p&gt;Redis Stream çš„åŠŸèƒ½æ¦‚è§ˆå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®ç°æ¶ˆæ¯é˜Ÿåˆ—&lt;/li&gt;
&lt;li&gt;æ”¯æŒæ¶ˆæ¯çš„æŒä¹…åŒ–&lt;/li&gt;
&lt;li&gt;æ”¯æŒè‡ªåŠ¨ç”Ÿæˆå…¨å±€å”¯ä¸€ ID&lt;/li&gt;
&lt;li&gt;æ”¯æŒ ack ç¡®è®¤æ¶ˆæ¯çš„æ¨¡å¼&lt;/li&gt;
&lt;li&gt;æ”¯æŒæ¶ˆè´¹ç»„æ¨¡å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è®©æ¶ˆæ¯é˜Ÿåˆ—æ›´åŠ çš„ç¨³å®šå’Œå¯é ã€‚&lt;/p&gt;
&lt;h5 id=&#34;åº•å±‚ç»“æ„å’ŒåŸç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åº•å±‚ç»“æ„å’ŒåŸç†&#34;&gt;#&lt;/a&gt; åº•å±‚ç»“æ„å’ŒåŸç†&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805155540984.png&#34; alt=&#34;image-20230805155540984&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªæ¶ˆæ¯é“¾è¡¨ï¼Œå°†æ‰€æœ‰åŠ å…¥çš„æ¶ˆæ¯éƒ½ä¸²èµ·æ¥ï¼Œæ¯ä¸ªæ¶ˆæ¯éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ ID å’Œå¯¹åº”çš„å†…å®¹ã€‚å…·ä½“è§’è‰²å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;åºå·&lt;/th&gt;
&lt;th&gt;è§’è‰²å&lt;/th&gt;
&lt;th&gt;å®šä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Message Content&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ¶ˆæ¯å†…å®¹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Consumer group&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ¶ˆè´¹ç»„ï¼Œé€šè¿‡ &lt;code&gt;XGROUP CREATE&lt;/code&gt;  å‘½ä»¤åˆ›å»ºï¼ŒåŒä¸€ä¸ªæ¶ˆè´¹ç»„å¯ä»¥æœ‰å¤šä¸ªæ¶ˆè´¹è€…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Last_delivered_id&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ¸¸æ ‡ï¼Œ&lt;font color=&#39;red&#39;&gt;æ¯ä¸ªæ¶ˆè´¹ç»„ä¼šæœ‰ä¸ªæ¸¸æ ‡&lt;/font&gt; last_delivered_idï¼Œ&lt;font color=&#39;red&#39;&gt;ä»»æ„ä¸€ä¸ªæ¶ˆè´¹è€…&lt;/font&gt;è¯»å–äº†æ¶ˆæ¯éƒ½ä¼šä½¿æ¸¸æ ‡ last_delivered_id å¾€å‰ç§»åŠ¨ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Consumer&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹ç»„ä¸­çš„æ¶ˆè´¹è€…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Pending_ids&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ¶ˆè´¹è€…ä¼šæœ‰ä¸€ä¸ªçŠ¶æ€å˜é‡ï¼Œç”¨äº&lt;font color=&#39;red&#39;&gt;è®°å½•è¢«å½“å‰æ¶ˆè´¹å·²è¯»å–ä½†æœª ack çš„æ¶ˆæ¯ Id&lt;/font&gt;ï¼Œå¦‚æœå®¢æˆ·ç«¯æ²¡æœ‰ ackï¼Œè¿™ä¸ªå˜é‡é‡Œé¢çš„æ¶ˆæ¯ ID ä¼šè¶Šæ¥è¶Šå¤šï¼Œä¸€æ—¦æŸä¸ªæ¶ˆæ¯è¢« ack å®ƒå°±å¼€å§‹å‡å°‘ã€‚&lt;br/&gt;è¿™ä¸ª pending_ids å˜é‡åœ¨ Redis å®˜æ–¹è¢«ç§°ä¹‹ä¸º &lt;strong&gt;å¾…å¤„ç†æ¡ç›®åˆ—è¡¨ PEL (Pending Entries List)&lt;/strong&gt;ï¼Œè®°å½•äº†å½“å‰å·²ç»è¢«å®¢æˆ·ç«¯è¯»å–çš„æ¶ˆæ¯ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰ ack (Acknowledge characterï¼šç¡®è®¤å­—ç¬¦ï¼‰ï¼Œå®ƒç”¨æ¥ç¡®ä¿å®¢æˆ·ç«¯è‡³å°‘æ¶ˆè´¹äº†æ¶ˆæ¯ä¸€æ¬¡ï¼Œè€Œä¸ä¼šåœ¨ç½‘ç»œä¼ è¾“çš„ä¸­é€”ä¸¢å¤±äº†æ²¡å¤„ç†&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5 id=&#34;å‘½ä»¤çš„ç†è®ºä¸å®æ“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘½ä»¤çš„ç†è®ºä¸å®æ“&#34;&gt;#&lt;/a&gt; å‘½ä»¤çš„ç†è®ºä¸å®æ“&lt;/h5&gt;
&lt;h6 id=&#34;é˜Ÿåˆ—ç›¸å…³å‘½ä»¤å³ç”Ÿäº§è€…è§’åº¦&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é˜Ÿåˆ—ç›¸å…³å‘½ä»¤å³ç”Ÿäº§è€…è§’åº¦&#34;&gt;#&lt;/a&gt; é˜Ÿåˆ—ç›¸å…³å‘½ä»¤ï¼ˆå³ç”Ÿäº§è€…è§’åº¦ï¼‰&lt;/h6&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æŒ‡ä»¤åç§°&lt;/th&gt;
&lt;th&gt;æŒ‡ä»¤ä½œç”¨&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;XADD&lt;/td&gt;
&lt;td&gt;æ·»åŠ æ¶ˆæ¯åˆ°é˜Ÿåˆ—æœ«å°¾&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;XRANGE&lt;/td&gt;
&lt;td&gt;è·å–æ¶ˆæ¯åˆ—è¡¨ (å¯ä»¥æŒ‡å®šèŒƒå›´)ï¼Œå¿½ç•¥åˆ é™¤çš„æ¶ˆæ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;XREVRANGE&lt;/td&gt;
&lt;td&gt;åå‘è·å–æ¶ˆæ¯åˆ—è¡¨ï¼ŒID ä»å¤§åˆ°å°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;XTRIM&lt;/td&gt;
&lt;td&gt;é™åˆ¶ Stream çš„é•¿åº¦ï¼Œå¦‚æœå·²ç»è¶…é•¿ä¼šè¿›è¡Œæˆªå–&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;XDEL&lt;/td&gt;
&lt;td&gt;åˆ é™¤æ¶ˆæ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;XLEN&lt;/td&gt;
&lt;td&gt;è·å– Stream ä¸­çš„æ¶ˆæ¯é•¿åº¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;XREAD&lt;/td&gt;
&lt;td&gt;è·å–æ¶ˆæ¯ (é˜»å¡ / éé˜»å¡)ï¼Œè¿”å›å¤§äºæŒ‡å®š ID çš„æ¶ˆæ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;XADD key [NOMKSTREAM] [&amp;lt;MAXLEN | MINID&amp;gt; [= | ~] threshold [LIMIT count]] &amp;lt;* | id&amp;gt; field value [field value ...]&lt;/code&gt; &lt;/strong&gt;ï¼šå‘ &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ Stream é˜Ÿåˆ—ä¸­æ·»åŠ è‹¥å¹²æ¡æ¶ˆæ¯å†…å®¹ï¼ˆ &lt;code&gt;field&lt;/code&gt;  å’Œ &lt;code&gt;value&lt;/code&gt; ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Redis å¯¹ MessageID æœ‰å¼ºåˆ¶è¦æ±‚ï¼Œå¿…é¡»æ˜¯&lt;font color=&#39;red&#39;&gt;æ—¶é—´æˆ³ - è‡ªå¢ ID&lt;/font&gt;è¿™æ ·çš„æ–¹å¼ï¼Œä¸”åŒä¸€æ—¶é—´æˆ³ä¸‹çš„åç»­ ID ä¸èƒ½å°äºå‰ä¸€ä¸ª&lt;/li&gt;
&lt;li&gt;Redis åœ¨å¢åŠ  Message æ¡ç›®æ—¶ä¼šæ£€æŸ¥å½“å‰ MessageID ä¸ä¸Šä¸€æ¡ç›®çš„ MessageIDï¼Œè‡ªåŠ¨çº æ­£é”™è¯¯çš„æƒ…å†µï¼Œ&lt;strong&gt;ä¸€å®šè¦ä¿è¯åé¢çš„ MessageID æ¯”å‰é¢å¤§&lt;/strong&gt;ï¼Œä¸€ä¸ªæµä¸­ä¿¡æ¯æ¡ç›®çš„ ID å¿…é¡»æ˜¯å•è°ƒå¢çš„ï¼Œè¿™æ˜¯æµçš„åŸºç¡€&lt;/li&gt;
&lt;li&gt;&lt;code&gt;*&lt;/code&gt;  å·è¡¨ç¤ºæœåŠ¡å™¨&lt;font color=&#39;red&#39;&gt;è‡ªåŠ¨ç”Ÿæˆ MessageID&lt;/font&gt;(ç±»ä¼¼ mysql é‡Œé¢ä¸»é”® auto_increment)&lt;/li&gt;
&lt;li&gt;è¿”å›å€¼ï¼š&lt;strong&gt;æ·»åŠ çš„ Message æ¡ç›®çš„ MessageID&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805162458455.png&#34; alt=&#34;image-20230805162458455&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;XRANGE key start end [COUNT count]&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å› &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ Stream é˜Ÿåˆ—ä¸­ä¸ ** ç»™å®š ID èŒƒå›´ [ &lt;code&gt;start&lt;/code&gt; , &lt;code&gt;end&lt;/code&gt; ]** åŒ¹é…çš„æ¶ˆæ¯æ¡ç›®ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;start&lt;/code&gt;  è¡¨ç¤ºæœ€å° IDï¼Œ- ä»£è¡¨æœ€å°å€¼&lt;/li&gt;
&lt;li&gt;&lt;code&gt;end&lt;/code&gt;  è¡¨ç¤ºæœ€å¤§ IDï¼Œ+ ä»£è¡¨æœ€å¤§å€¼&lt;/li&gt;
&lt;li&gt;&lt;code&gt;count&lt;/code&gt;  è¡¨ç¤ºèƒ½è·å–çš„æœ€å¤§æ¶ˆæ¯æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805164434264.png&#34; alt=&#34;image-20230805164434264&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;XREVRANGE key end start [COUNT count]&lt;/code&gt; &lt;/strong&gt;ï¼šä¸ &lt;code&gt;XRANGE&lt;/code&gt;  å‘½ä»¤ç›¸åï¼Œä»¥ç›¸åçš„é¡ºåºè¿”å›æ¶ˆæ¯æ¡ç›®ã€‚éœ€è¦&lt;strong&gt;å…ˆæŒ‡å®šæœ€å¤§ ID &lt;code&gt;end&lt;/code&gt; ï¼Œå†æŒ‡å®šæœ€å° ID &lt;code&gt;start&lt;/code&gt; &lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805165347529.png&#34; alt=&#34;image-20230805165347529&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;XDEL key ID [ID ...]&lt;/code&gt; &lt;/strong&gt;ï¼šä» &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ Stream é˜Ÿåˆ—ä¸­&lt;strong&gt;é€»è¾‘åˆ é™¤&lt;/strong&gt;æŒ‡å®š &lt;code&gt;ID&lt;/code&gt;  çš„æ¶ˆæ¯æ¡ç›®ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“ä½ ä» Stream ä¸­åˆ é™¤ä¸€ä¸ªæ¡ç›®çš„æ—¶å€™ï¼Œæ¡ç›®å¹¶æ²¡æœ‰&lt;em&gt;çœŸæ­£&lt;/em&gt;è¢«é©±é€ï¼Œ&lt;strong&gt;åªæ˜¯è¢«æ ‡è®°ä¸ºåˆ é™¤&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805165654765.png&#34; alt=&#34;image-20230805165654765&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;XLEN key&lt;/code&gt; &lt;/strong&gt;ï¼šè¿”å› &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ Stream é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯æ¡ç›®æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805165759795.png&#34; alt=&#34;image-20230805165759795&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;XTRIM key &amp;lt;MAXLEN | MINID&amp;gt; [= | ~] threshold [LIMIT count]&lt;/code&gt; &lt;/strong&gt;ï¼š&lt;strong&gt;é€šè¿‡åˆ é™¤è¾ƒæ—§çš„æ¶ˆæ¯æ¡ç›®ï¼ˆID è¾ƒä½çš„ï¼‰æ¥ä¿®å‰ª &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ Stream é˜Ÿåˆ—&lt;/strong&gt;ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç­–ç•¥ä¹‹ä¸€æ¥ä¿®å‰ªæµï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;MAXLEN&lt;/code&gt; ï¼šåªè¦ Stream é˜Ÿåˆ—çš„é•¿åº¦è¶…è¿‡æŒ‡å®šçš„é˜ˆå€¼ &lt;code&gt;threshold&lt;/code&gt; ï¼ˆå€¼ä¸ºæ­£æ•´æ•°ï¼‰ï¼Œå°±ä¼š&lt;font color=&#39;red&#39;&gt;é€å‡º ID è¾ƒä½çš„æ—§æ¶ˆæ¯æ¡ç›®&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805170543749.png&#34; alt=&#34;image-20230805170543749&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;MINID&lt;/code&gt; ï¼šé©±é€ ID ä½äºé˜ˆå€¼ &lt;code&gt;threshold&lt;/code&gt; ï¼ˆå€¼ä¸º MessageIDï¼‰çš„æ¶ˆæ¯æ¡ç›®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805170619213.png&#34; alt=&#34;image-20230805170619213&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;XREAD [COUNT count] [BLOCK milliseconds] STREAMS key [key ...] ID [ID ...]&lt;/code&gt; &lt;/strong&gt;ï¼šä»ä¸€ä¸ªæˆ–è€…å¤šä¸ª &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ Stream é˜Ÿåˆ—ä¸­è¯»å–æ¶ˆæ¯æ¡ç›®ï¼Œä»…è¿”å› ID å¤§äºè°ƒç”¨è€…æŠ¥å‘Šçš„æœ€åæ¥æ”¶ ID çš„æ¶ˆæ¯æ¡ç›®ã€‚å‚æ•° &lt;code&gt;count&lt;/code&gt;  è¡¨ç¤ºæœ€å¤šè¯»å–çš„æ¶ˆæ¯æ•°ç›®ã€‚å‚æ•° &lt;code&gt;[BLOCK milliseconds]&lt;/code&gt;  è¡¨ç¤ºæ˜¯å¦ä»¥é˜»å¡çš„æ–¹å¼è¯»å–æ¶ˆæ¯ï¼Œ&lt;font color=&#39;red&#39;&gt;é»˜è®¤ä¸é˜»å¡&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;éé˜»å¡ä½¿ç”¨&lt;/font&gt;ï¼šå³ä¸æä¾› &lt;code&gt;BLOCK&lt;/code&gt;  å‚æ•°ï¼Œæ­¤æ—¶å‘½ä»¤æ˜¯åŒæ­¥çš„ï¼Œä¼šè¿”å› Stream é˜Ÿåˆ—ä¸­çš„ä¸€ç³»åˆ—æ¶ˆæ¯æ¡ç›®&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805171740158.png&#34; alt=&#34;image-20230805171740158&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;**$** ä»£è¡¨ç‰¹æ®Š IDï¼Œ&lt;font color=&#39;red&#39;&gt;è¡¨ç¤ºå½“å‰ Stream å·²ç»å­˜å‚¨çš„æœ€å¤§çš„ ID&lt;/font&gt;ä½œä¸ºæœ€åä¸€ä¸ª IDï¼Œå½“å‰ Stream ä¸­ä¸å­˜åœ¨å¤§äºå½“å‰æœ€å¤§ ID çš„æ¶ˆæ¯ï¼Œå› æ­¤æ­¤æ—¶è¿”å› nil&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;0-0&lt;/strong&gt; ä»£è¡¨&lt;font color=&#39;red&#39;&gt;ä»æœ€å°çš„ ID å¼€å§‹&lt;/font&gt;è·å– Stream ä¸­çš„æ¶ˆæ¯ï¼Œå½“ä¸æŒ‡å®š countï¼Œå°†ä¼šè¿”å› Stream ä¸­çš„æ‰€æœ‰æ¶ˆæ¯ï¼Œæ³¨æ„ä¹Ÿå¯ä»¥ä½¿ç”¨ 0ï¼ˆ00/000 ä¹Ÿéƒ½æ˜¯å¯ä»¥çš„â€¦â€¦ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;é˜»å¡ä½¿ç”¨&lt;/font&gt;ï¼šæä¾› &lt;code&gt;BLOCK&lt;/code&gt;  å‚æ•°ï¼Œå¦‚æœ milliseconds è®¾ç½®ä¸º 0ï¼Œè¡¨ç¤ºæ°¸è¿œé˜»å¡&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805172251635.png&#34; alt=&#34;image-20230805172251635&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å°ç»“ï¼šStream çš„åŸºç¡€æ–¹æ³•ï¼Œä½¿ç”¨ &lt;code&gt;xadd&lt;/code&gt;  å­˜å…¥æ¶ˆæ¯å’Œ &lt;code&gt;xread&lt;/code&gt;  å¾ªç¯é˜»å¡è¯»å–æ¶ˆæ¯çš„æ–¹å¼å¯ä»¥å®ç°&lt;strong&gt;ç®€æ˜“ç‰ˆçš„æ¶ˆæ¯é˜Ÿåˆ—&lt;/strong&gt;ï¼Œäº¤äº’æµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805172400243.png&#34; alt=&#34;image-20230805172400243&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¯¹æ¯” List ç»“æ„å®ç° Redis æ¶ˆæ¯é˜Ÿåˆ—ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805172428816.png&#34; alt=&#34;image-20230805172428816&#34; /&gt;&lt;/p&gt;
&lt;h6 id=&#34;æ¶ˆè´¹ç»„ç›¸å…³å‘½ä»¤å³æ¶ˆè´¹è€…è§’åº¦&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶ˆè´¹ç»„ç›¸å…³å‘½ä»¤å³æ¶ˆè´¹è€…è§’åº¦&#34;&gt;#&lt;/a&gt; æ¶ˆè´¹ç»„ç›¸å…³å‘½ä»¤ï¼ˆå³æ¶ˆè´¹è€…è§’åº¦ï¼‰&lt;/h6&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æŒ‡ä»¤åç§°&lt;/th&gt;
&lt;th&gt;æŒ‡ä»¤ä½œç”¨&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;XGROUP CREATE&lt;/td&gt;
&lt;td&gt;åˆ›å»ºæ¶ˆè´¹ç»„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;XGROUP SETID&lt;/td&gt;
&lt;td&gt;è®¾ç½®æ¶ˆè´¹ç»„æœ€åé€’é€æ¶ˆæ¯çš„ ID&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;XGROUP DESTROY&lt;/td&gt;
&lt;td&gt;å®Œå…¨é”€æ¯æ¶ˆè´¹ç»„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;XGROUP DELCONSUMER&lt;/td&gt;
&lt;td&gt;ç§»é™¤ç»™å®šçš„æ¶ˆè´¹è€…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;XREADGROUP GROUP&lt;/td&gt;
&lt;td&gt;è¯»å–æ¶ˆè´¹è€…ç»„ä¸­çš„æ¶ˆæ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;XACK&lt;/td&gt;
&lt;td&gt;å°†æ¶ˆæ¯æ ‡è®°ä¸º ackï¼Œå³ â€œå·²å¤„ç†â€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;XPENDING&lt;/td&gt;
&lt;td&gt;æ‰“å°å¾…å¤„ç†æ¶ˆæ¯çš„è¯¦ç»†ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;XCLAIM&lt;/td&gt;
&lt;td&gt;è½¬ç§»æ¶ˆæ¯çš„å½’å±æƒï¼ˆé•¿æœŸæœªè¢«å¤„ç† / æ— æ³•å¤„ç†çš„æ¶ˆæ¯ï¼Œè½¬äº¤ç»™å…¶ä»–æ¶ˆè´¹è€…ç»„è¿›è¡Œå¤„ç†)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;XINFO&lt;/td&gt;
&lt;td&gt;æ‰“å° Stream\Consumer\Group çš„è¯¦ç»†ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;XINFO GROUPS&lt;/td&gt;
&lt;td&gt;æ‰“å°æ¶ˆè´¹è€…ç»„çš„è¯¦ç»†ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;XINFO STREAM&lt;/td&gt;
&lt;td&gt;æ‰“å° Stream çš„è¯¦ç»†ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;XGROUP [CREATE key groupname id-or-$] [SETID key id-or-$] [DESTROY key groupname] [DELCONSUMER key groupname consumername]&lt;/code&gt; &lt;/strong&gt;ï¼šç”¨äº&lt;strong&gt;ç®¡ç† &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ Stream é˜Ÿåˆ—ä¸Šæ‰€å…³è”çš„æ¶ˆè´¹ç»„&lt;/strong&gt;ï¼Œå¯ä»¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;CREATE&lt;/code&gt; ï¼šåœ¨ &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ Stream é˜Ÿåˆ—ä¸Š&lt;strong&gt;åˆ›å»ºä¸€ä¸ªæ–°æ¶ˆè´¹ç»„&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è®¾ç½®æ¶ˆè´¹ç»„åä¸º &lt;code&gt;groupname&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æŒ‡å®šä»æ¶ˆæ¯ &lt;code&gt;id&lt;/code&gt;  å¼€å§‹ä»å¤´åˆ°å°¾è¯»å–ï¼ˆæ¶ˆè´¹ï¼‰&lt;/li&gt;
&lt;li&gt;æˆ–è€… &lt;code&gt;$&lt;/code&gt;  è¡¨ç¤ºä»å°¾éƒ¨å¼€å§‹åå‘è¯»å–ï¼ˆæ¶ˆè´¹ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805174041986.png&#34; alt=&#34;image-20230805174041986&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;SETID&lt;/code&gt; ï¼šé’ˆå¯¹ &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ Stream é˜Ÿåˆ—ï¼Œ&lt;strong&gt;è®¾ç½®æ¶ˆè´¹ç»„æœ€åé€’é€çš„æ¶ˆæ¯ &lt;code&gt;id&lt;/code&gt; &lt;/strong&gt;ï¼ŒåŒç†ä¹Ÿèƒ½å– &lt;code&gt;$&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;DESTROY&lt;/code&gt; ï¼šä» &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ Stream é˜Ÿåˆ—ä¸Š&lt;strong&gt;é”€æ¯ä¸€ä¸ªåä¸º &lt;code&gt;groupname&lt;/code&gt;  çš„æ¶ˆè´¹ç»„&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;DELCONSUMER&lt;/code&gt; ï¼šé’ˆå¯¹ &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ Stream é˜Ÿåˆ—ï¼Œ&lt;strong&gt;ä»ç»„åä¸º &lt;code&gt;groupname&lt;/code&gt;  çš„æ¶ˆè´¹ç»„ä¸­ç§»é™¤åä¸º &lt;code&gt;consumername&lt;/code&gt;  çš„æ¶ˆè´¹è€…&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;XREADGROUP GROUP groupname consumername [COUNT count] [BLOCK milliseconds] STREAMS key [key ...] ID [ID ...]&lt;/code&gt; &lt;/strong&gt;ï¼šæ˜¯ &lt;code&gt;XREAD&lt;/code&gt;  å‘½ä»¤çš„ç‰¹æ®Šç‰ˆæœ¬ï¼Œæ”¯æŒæ¶ˆè´¹è€…ç»„ã€‚é’ˆå¯¹ &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ Stream é˜Ÿåˆ—ï¼Œå¯ä»¥&lt;strong&gt;è®©æ¶ˆè´¹ç»„ &lt;code&gt;groupname&lt;/code&gt;  çš„ä¸åŒæ¶ˆè´¹è€… &lt;code&gt;consumername&lt;/code&gt;  æ¥è¯»å– Stream çš„ä¸åŒéƒ¨åˆ†&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åŒä¸€ä¸ªæ¶ˆè´¹ç»„ä¸­çš„æ¶ˆè´¹è€…&lt;font color=&#39;red&#39;&gt;å…±äº«åŒä¸€ä¸ªæ¸¸æ ‡&lt;/font&gt;ï¼Œå› æ­¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŒä¸€ä¸ªæ¶ˆè´¹ç»„ä¸­çš„æ¶ˆè´¹è€…ä¸èƒ½æ¶ˆè´¹åŒä¸€æ¡æ¶ˆæ¯&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805175640453.png&#34; alt=&#34;image-20230805175640453&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸åŒæ¶ˆè´¹ç»„ä¸­çš„æ¶ˆè´¹è€…å¯ä»¥æ¶ˆè´¹åŒä¸€æ¡æ¶ˆæ¯&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805180522655.png&#34; alt=&#34;image-20230805180522655&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‚æ•° &lt;code&gt;COUNT&lt;/code&gt;  é™åˆ¶å½“å‰æ¶ˆè´¹è€…èƒ½å¤Ÿè¯»å–çš„æ¶ˆæ¯æ•°é‡ï¼Œé»˜è®¤ä¸º +âˆ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‚æ•° &lt;code&gt;BLOCK&lt;/code&gt;  è¡¨ç¤ºæ˜¯å¦é˜»å¡è¯»å–æ¶ˆæ¯&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ID&lt;/code&gt;  è¡¨ç¤ºä»å“ªæ¡æ¶ˆæ¯ id å¼€å§‹è¯»å–ï¼Œå…¶ä¸­&lt;font color=&#39;red&#39;&gt; &lt;code&gt;&amp;gt;&lt;/code&gt;  è¡¨ç¤ºä»ç¬¬ä¸€æ¡å°šæœªè¢«æ¶ˆè´¹çš„æ¶ˆæ¯å¼€å§‹è¯»å–&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;æ¶ˆè´¹ç»„çš„ç›®çš„ï¼š&lt;/p&gt;
&lt;p&gt;â€‹    è®©ç»„å†…çš„å¤šä¸ªæ¶ˆè´¹è€…å…±åŒåˆ†æ‹…è¯»å–æ¶ˆæ¯ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šè®©æ¯ä¸ªæ¶ˆè´¹è€…è¯»å–éƒ¨åˆ†æ¶ˆæ¯ï¼Œä»è€Œå®ç°æ¶ˆæ¯è¯»å–è´Ÿè½½åœ¨å¤šä¸ªæ¶ˆè´¹è€…é—´æ˜¯å‡è¡¡åˆ†å¸ƒçš„ã€‚ï¼ˆ&lt;strong&gt;è´Ÿè½½å‡è¡¡&lt;/strong&gt;ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805180648195.png&#34; alt=&#34;image-20230805180648195&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;é‡ç‚¹é—®é¢˜ï¼šACK æœºåˆ¶&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805180956093.png&#34; alt=&#34;image-20230805180956093&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;â€‹    åŸºäº Stream å®ç°çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¦‚ä½•ä¿è¯æ¶ˆè´¹è€…åœ¨å‘ç”Ÿæ•…éšœæˆ–å®•æœºå†æ¬¡é‡å¯åï¼Œä»ç„¶å¯ä»¥è¯»å–æœªå¤„ç†å®Œçš„æ¶ˆæ¯ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Streams ä¼šè‡ªåŠ¨ä½¿ç”¨å†…éƒ¨é˜Ÿåˆ—ï¼ˆä¹Ÿç§°ä¸º&lt;strong&gt;å¾…å¤„ç†æ¡ç›®åˆ—è¡¨ PEL (Pending Entries List)&lt;/strong&gt;ï¼‰ç•™å­˜æ¯ä¸ªæ¶ˆè´¹ç»„é‡Œæ¯ä¸ªæ¶ˆè´¹è€…è¯»å–çš„æ¶ˆæ¯ä¿åº•æªæ–½ï¼Œç›´åˆ°æ¶ˆè´¹è€…ä½¿ç”¨  &lt;code&gt;XACK&lt;/code&gt;  å‘½ä»¤é€šçŸ¥ Streams â€œæ¶ˆæ¯å·²ç»å¤„ç†å®Œæˆâ€ã€‚&lt;/li&gt;
&lt;li&gt;æ¶ˆè´¹ç¡®è®¤æœºåˆ¶å¢åŠ äº†æ¶ˆæ¯çš„å¯é æ€§ï¼Œä¸€èˆ¬åœ¨ä¸šåŠ¡å¤„ç†å®Œæˆä¹‹åï¼Œéœ€è¦æ‰§è¡Œ XACK å‘½ä»¤ç¡®è®¤æ¶ˆæ¯å·²ç»è¢«æ¶ˆè´¹å®Œæˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;XPENDING key groupname [start end count] [consumername]&lt;/code&gt; &lt;/strong&gt;ï¼šæŸ¥è¯¢ &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ Stream é˜Ÿåˆ—ä¸Šï¼Œç»„åä¸º &lt;code&gt;groupname&lt;/code&gt;  çš„&lt;u&gt;æ¶ˆè´¹ç»„&lt;/u&gt;å†…&lt;strong&gt;å·²è¯»å–ä½†æœªç¡®è®¤çš„æƒ…å†µ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;C:%5CUsers%5Chuawei%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230805182227981.png&#34; alt=&#34;image-20230805182227981&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿”å›å€¼æ˜¯&lt;strong&gt;æ¦‚è¦ä¿¡æ¯&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;è¯¥æ¶ˆè´¹è€…ç»„çš„å¾…å¤„ç†æ¶ˆæ¯çš„æ•°é‡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¾…å¤„ç†æ¶ˆæ¯çš„æœ€å° ID&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¾…å¤„ç†æ¶ˆæ¯çš„æœ€å¤§ ID&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºæ¶ˆè´¹è€…ç»„ä¸­æ¯ä¸€ä¸ªè‡³å°‘æœ‰ä¸€æ¡å¾…å¤„ç†æ¶ˆæ¯çš„æ¶ˆè´¹è€…ï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»–çš„åç§°&lt;/li&gt;
&lt;li&gt;ä»–çš„å¾…å¤„ç†æ¶ˆæ¯æ•°é‡&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è‹¥æŒ‡å®šæ¶ˆè´¹è€…å &lt;code&gt;consumername&lt;/code&gt; ï¼Œä¹Ÿå¯ä»¥æŸ¥çœ‹&lt;u&gt;æŸä¸ªæ¶ˆè´¹è€…&lt;/u&gt;çš„å·²è¯»å–ä½†æœªç¡®è®¤çš„æƒ…å†µ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805182430081.png&#34; alt=&#34;image-20230805182430081&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿”å›å€¼æ˜¯&lt;strong&gt;è¯¦ç»†ä¿¡æ¯&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ¶ˆæ¯çš„ ID&lt;/li&gt;
&lt;li&gt;è·å–å¹¶ä»ç„¶è¦ç¡®è®¤æ¶ˆæ¯çš„æ¶ˆè´¹è€…åç§°ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ¶ˆæ¯çš„å½“å‰&lt;em&gt;æ‰€æœ‰è€…&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;è‡ªä¸Šæ¬¡å°†æ­¤æ¶ˆæ¯ä¼ é€’ç»™è¯¥æ¶ˆè´¹è€…ä»¥æ¥ï¼Œç»è¿‡çš„æ¯«ç§’æ•°&lt;/li&gt;
&lt;li&gt;è¯¥æ¶ˆæ¯è¢«ä¼ é€’çš„æ¬¡æ•°&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;XACK key groupname ID [ID ...]&lt;/code&gt; &lt;/strong&gt;ï¼šä» &lt;code&gt;key&lt;/code&gt;  æŒ‡å®šçš„ Stream é˜Ÿåˆ—ä¸­çš„æ¶ˆè´¹è€…ç»„ &lt;code&gt;groupname&lt;/code&gt;  çš„å¾…å¤„ç†æ¡ç›®åˆ—è¡¨ï¼ˆç®€ç§° PELï¼‰ä¸­åˆ é™¤è‹¥å¹²æ¡æŒ‡å®šäº† &lt;code&gt;ID&lt;/code&gt;  çš„æ¶ˆæ¯ï¼Œå³ç¡®è®¤æ¶ˆæ¯ã€‚è¿”å›æˆåŠŸç¡®è®¤çš„æ¶ˆæ¯æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805184337097.png&#34; alt=&#34;image-20230805184337097&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;XINFO [CONSUMERS key groupname] key key [HELP]&lt;/code&gt; &lt;/strong&gt;ï¼šæ‰“å°å…³äº Stream å’Œå…³è”çš„æ¶ˆè´¹ç»„çš„ä¸åŒçš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805184502786.png&#34; alt=&#34;image-20230805184502786&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;å››ä¸ªç‰¹æ®Šç¬¦å·&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å››ä¸ªç‰¹æ®Šç¬¦å·&#34;&gt;#&lt;/a&gt; å››ä¸ªç‰¹æ®Šç¬¦å·&lt;/h6&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç¬¦å·&lt;/th&gt;
&lt;th&gt;ä½œç”¨&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;- +&lt;/td&gt;
&lt;td&gt;æœ€å°å’Œæœ€å¤§å¯èƒ½å‡ºç°çš„ Id&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;$&lt;/td&gt;
&lt;td&gt;è¡¨ç¤ºåªæ¶ˆè´¹æ–°çš„æ¶ˆæ¯ï¼Œå½“å‰æµä¸­æœ€å¤§çš„ idï¼Œå¯ç”¨äºå°†è¦åˆ°æ¥çš„ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&amp;gt;&lt;/td&gt;
&lt;td&gt;ç”¨äº &lt;code&gt;XREADGROUP&lt;/code&gt;  å‘½ä»¤ï¼Œè¡¨ç¤ºè¿„ä»Šè¿˜æ²¡æœ‰å‘é€ç»™ç»„ä¸­ä½¿ç”¨è€…çš„ä¿¡æ¯ï¼Œä¼šæ›´æ–°æ¶ˆè´¹è€…ç»„çš„æœ€å ID&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;ç”¨äº &lt;code&gt;XADD&lt;/code&gt;  å‘½ä»¤ä¸­ï¼Œè®©ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆ Id&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5 id=&#34;ä½¿ç”¨å»ºè®®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½¿ç”¨å»ºè®®&#34;&gt;#&lt;/a&gt; ä½¿ç”¨å»ºè®®&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;Redis Stream ä¸èƒ½ 100% æ›¿ä»£ Kafkaã€RabbitMQ æ¥ä½¿ç”¨ï¼Œç”Ÿäº§æ¡ˆä¾‹å°‘ï¼Œæ…ç”¨ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;ä½åŸŸbitfield&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½åŸŸbitfield&#34;&gt;#&lt;/a&gt; ä½åŸŸï¼ˆBitfieldï¼‰&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;äº†è§£å³å¯&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å®šä¹‰ï¼šå°†ä¸€ä¸ª Redis å­—ç¬¦ä¸²çœ‹ä½œæ˜¯&lt;font color=&#39;red&#39;&gt;ä¸€ä¸ªç”±äºŒè¿›åˆ¶ä½ç»„æˆçš„æ•°ç»„&lt;/font&gt;ï¼Œå¹¶èƒ½å¯¹å˜é•¿ä½å®½å’Œä»»æ„æ²¡æœ‰å­—èŠ‚å¯¹é½çš„æŒ‡å®šæ•´å‹ä½åŸŸè¿›è¡Œå¯»å€å’Œä¿®æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;ä½œç”¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½åŸŸä¿®æ”¹&lt;/li&gt;
&lt;li&gt;æº¢å‡ºæ§åˆ¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åŸºæœ¬è¯­æ³•ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230805185443067.png&#34; alt=&#34;image-20230805185443067&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;4-redisæŒä¹…åŒ–persistence&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#4-redisæŒä¹…åŒ–persistence&#34;&gt;#&lt;/a&gt; 4ã€Redis æŒä¹…åŒ–ï¼ˆpersistenceï¼‰&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Redis æŒä¹…åŒ–ï¼šRedis æ˜¯å¦‚ä½•å°†æ•°æ®ä»å†…å­˜&lt;strong&gt;å†™å…¥ç£ç›˜&lt;/strong&gt;çš„ï¼Ÿ&lt;/p&gt;
&lt;p&gt;Redis ä¸ºä»€ä¹ˆéœ€è¦æŒä¹…åŒ–ï¼Ÿå› ä¸º Redis è¿è¡Œè¿‡ç¨‹ä¸­æ•°æ®æ˜¯ç¼“å­˜åœ¨å†…å­˜ä¸­çš„ï¼Œä¸€æ—¦å‘ç”Ÿæ„å¤–å¯¼è‡´å®•æœºï¼Œæ•°æ®å°†ä¼šæ¶ˆå¤±ï¼ŒRedis å°±ä¼šå½¢åŒè™šè®¾ã€‚&lt;/p&gt;
&lt;p&gt;Redis æŒä¹…åŒ–çš„ä¸‰ç§å®ç°æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;RDBï¼ˆRedis DataBaseï¼‰&lt;/li&gt;
&lt;li&gt;AOFï¼ˆAppend Only Fileï¼‰&lt;/li&gt;
&lt;li&gt;RDB + AOF&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;æŒåŒ–åŒé›„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æŒåŒ–åŒé›„&#34;&gt;#&lt;/a&gt; æŒåŒ–åŒé›„&lt;/h3&gt;
&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806003810720.png&#34; alt=&#34;image-20230806003810720&#34;  /&gt;
&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806003858469.png&#34; alt=&#34;image-20230806003858469&#34;  /&gt;
&lt;h4 id=&#34;rdbredis-database&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rdbredis-database&#34;&gt;#&lt;/a&gt; RDBï¼ˆ &lt;code&gt;R&lt;/code&gt; edis  &lt;code&gt;D&lt;/code&gt; ata &lt;code&gt;B&lt;/code&gt; aseï¼‰&lt;/h4&gt;
&lt;h5 id=&#34;ç®€ä»‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®€ä»‹&#34;&gt;#&lt;/a&gt; ç®€ä»‹&lt;/h5&gt;
&lt;p&gt;RDB æŒä¹…åŒ–ï¼š&lt;strong&gt;ä»¥&lt;u&gt;æŒ‡å®šçš„æ—¶é—´é—´éš”&lt;/u&gt;æ‰§è¡Œæ•°æ®é›†çš„æ—¶é—´ç‚¹å¿«ç…§&lt;/strong&gt;ï¼Œå°†å†…å­˜ä¸­çš„æ•°æ®é›†ä»¥&lt;font color=&#39;red&#39;&gt;å…¨é‡å¿«ç…§&lt;/font&gt;çš„å½¢å¼å†™å…¥ç£ç›˜ä¿å­˜çš„æ–‡ä»¶æ˜¯&lt;font color=&#39;red&#39;&gt;dump.rdb&lt;/font&gt;ï¼Œæ¢å¤æ—¶å°†ç£ç›˜ä¸­çš„å¿«ç…§æ–‡ä»¶è¯»å›å†…å­˜ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806005245328.png&#34; alt=&#34;image-20230806005245328&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;è§¦å‘rdbå¿«ç…§çš„æ—¶é—´é—´éš”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è§¦å‘rdbå¿«ç…§çš„æ—¶é—´é—´éš”&#34;&gt;#&lt;/a&gt; è§¦å‘ RDB å¿«ç…§çš„æ—¶é—´é—´éš”&lt;/h5&gt;
&lt;p&gt;å¯¹äºè‡ªåŠ¨è§¦å‘å¿«ç…§çš„æ—¶é—´é—´éš”ï¼Œåœ¨é…ç½®æ–‡ä»¶ &lt;code&gt;redis.conf&lt;/code&gt;  ä¸­çš„ SNAPSHOTTING ä¸‹é…ç½® &lt;code&gt;save&lt;/code&gt;  å‚æ•°ï¼Œæ¥è§¦å‘ RDB æŒä¹…åŒ–æ¡ä»¶ã€‚æ¯”å¦‚ â€œsave m nâ€: è¡¨ç¤ºæ¯éš” m ç§’æ£€æµ‹ä¸€æ¬¡æ•°æ®é›†ï¼Œå¦‚æœæ£€æµ‹å‡ºè¶…è¿‡ n æ¬¡å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨è§¦å‘ RDB æŒä¹…åŒ–æ¡ä»¶ï¼Œæ‰§è¡Œå¿«ç…§ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ï¼Œè¿™é‡Œè¯´çš„æ˜¯&lt;strong&gt;æ¯éš” m ç§’æ£€æµ‹ä¸€æ¬¡ï¼Œ&lt;font color=&#39;red&#39;&gt;å¯¹å˜åŒ–çš„è®¡æ•°æ˜¯ç´¯åŠ çš„&lt;/font&gt;ï¼Œåªè¦åœ¨æŸæ¬¡æ£€æµ‹ä¸­å‘ç°å˜åŒ–æ•°ç´¯åŠ å€¼è¾¾åˆ° n æ¬¡ï¼Œå°±ä¼šè§¦å‘ RDB æŒä¹…åŒ–ã€‚&lt;font color=&#39;red&#39;&gt;è€Œä¸æ˜¯è¦æ±‚ n æ¬¡å˜åŒ–éƒ½é›†ä¸­å‘ç”Ÿåœ¨æŸä¸ª m ç§’å†…ï¼&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;Redis6.0.16 åŠä¹‹å‰&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;save 900 1ï¼šæ¯éš” 900s (15min) æ£€æµ‹ä¸€æ¬¡ï¼Œå¦‚æœæœ‰è¶…è¿‡ 1 ä¸ª key å‘ç”Ÿäº†å˜åŒ–ï¼Œå°±å†™ä¸€ä»½æ–°çš„ RDB æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;save 300 10ï¼šæ¯éš” 300s (5min) æ£€æµ‹ä¸€æ¬¡ï¼Œå¦‚æœæœ‰è¶…è¿‡ 10 ä¸ª key å‘ç”Ÿäº†å˜åŒ–ï¼Œå°±å†™ä¸€ä»½æ–°çš„ RDB æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;save 60 10000ï¼šæ¯éš” 60s (1min) æ£€æµ‹ä¸€æ¬¡ï¼Œå¦‚æœæœ‰è¶…è¿‡ 10000 ä¸ª key å‘ç”Ÿäº†å˜åŒ–ï¼Œå°±å†™ä¸€ä»½æ–°çš„ RDB æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806010837837.png&#34; alt=&#34;image-20230806010837837&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;Redis6.0.16 ä»¥åè‡³ Redis7 è‡³ä»Š&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯éš” 3600sï¼ˆ1hourï¼‰æ£€æµ‹ä¸€æ¬¡ï¼Œå¦‚æœæœ‰è¶…è¿‡ 1 å¤„å˜åŒ–ï¼Œå°±å†™ä¸€ä»½æ–°çš„ RDB æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;æ¯éš” 300sï¼ˆ5minï¼‰æ£€æµ‹ä¸€æ¬¡ï¼Œå¦‚æœæœ‰è¶…è¿‡ 100 å¤„å˜åŒ–ï¼Œå°±å†™ä¸€ä»½æ–°çš„ RDB æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;æ¯éš” 60sï¼ˆ1minï¼‰æ£€æµ‹ä¸€æ¬¡ï¼Œå¦‚æœæœ‰è¶…è¿‡ 10000 å¤„å˜åŒ–ï¼Œå°±å†™ä¸€ä»½æ–°çš„ RDB æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806010819707.png&#34; alt=&#34;image-20230806010819707&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;rdbå¿«ç…§çš„è§¦å‘æ–¹å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rdbå¿«ç…§çš„è§¦å‘æ–¹å¼&#34;&gt;#&lt;/a&gt; RDB å¿«ç…§çš„è§¦å‘æ–¹å¼&lt;/h5&gt;
&lt;h6 id=&#34;è‡ªåŠ¨è§¦å‘&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è‡ªåŠ¨è§¦å‘&#34;&gt;#&lt;/a&gt; è‡ªåŠ¨è§¦å‘&lt;/h6&gt;
&lt;center&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ä¿®æ”¹é…ç½®ä¿¡æ¯&lt;/font&gt;&lt;/center&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä¿®æ”¹æ—¶é—´é—´éš”ä¸å˜åŒ–æ•°ï¼šé€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ &lt;code&gt;redis.conf&lt;/code&gt;  ä¸­çš„ SNAPSHOTTING ä¸‹çš„ &lt;code&gt;save&lt;/code&gt;  å‚æ•°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¿®æ”¹ dump.rdb æ–‡ä»¶çš„ä¿å­˜è·¯å¾„ **ï¼ˆRedis æ¯æ¬¡å¯åŠ¨éƒ½ä¼šè¯»å–ç£ç›˜ä¸­è¯¥ç›®å½•ä¸‹çš„ dump.rdb æ–‡ä»¶ï¼ˆæ–‡ä»¶åéœ€è¦ä¸é…ç½®æ–‡ä»¶ä¸­ä¿æŒä¸€è‡´ï¼‰æ¥åˆå§‹åŒ–å†…å­˜ä¸­çš„ Redis æ•°æ®åº“ï¼‰**ï¼šé€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ &lt;code&gt;redis.conf&lt;/code&gt;  ä¸­çš„ SNAPSHOTTING ä¸‹çš„ &lt;code&gt;dir&lt;/code&gt;  å‚æ•°&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é€šè¿‡ Redis å‘½ä»¤ &lt;code&gt;CONFIG GET dir&lt;/code&gt;  å¯ä»¥æŸ¥çœ‹ dir å‚æ•°çš„å–å€¼ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806113359010.png&#34; alt=&#34;image-20230806113359010&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¿®æ”¹ dump.rdb æ–‡ä»¶çš„åç§°ï¼šé€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ &lt;code&gt;redis.conf&lt;/code&gt;  ä¸­çš„ SNAPSHOTTING ä¸‹çš„ &lt;code&gt;dbfilename&lt;/code&gt;  å‚æ•°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;è§¦å‘å¤‡ä»½çš„2ä¸ªæ¡ˆä¾‹&lt;/font&gt;&lt;/center&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ¯éš” 5 ç§’æ£€æµ‹ä¸€æ¬¡ï¼Œæ£€æµ‹åˆ° 2 å¤„å˜åŒ–ï¼Œæ‰§è¡Œå¤‡ä»½ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806113923793.png&#34; alt=&#34;image-20230806113923793&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¯éš” 5 ç§’æ£€æµ‹ä¸€æ¬¡ï¼Œå…ˆè®¾ç½® k3ï¼Œåªæ£€æµ‹åˆ° 1 å¤„å˜åŒ–ï¼Œæ— å¤‡ä»½åŠ¨ä½œã€‚å†è¿‡ä¸€æ®µæ—¶é—´ï¼ˆå¯ä»¥è¶…è¿‡ 5 ç§’ï¼ï¼‰è®¾ç½® k4ï¼Œæ£€æµ‹å‡ºç¬¬ 2 å¤„å˜åŒ–ï¼Œæ‰§è¡Œå¤‡ä»½ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806114111595.png&#34; alt=&#34;image-20230806114111595&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å¦‚ä½•æ¢å¤æ•°æ®&lt;/font&gt;&lt;/center&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æ ¹æ®é…ç½®æ–‡ä»¶ &lt;code&gt;redis.conf&lt;/code&gt; ï¼Œå°†å¤‡ä»½æ–‡ä»¶ï¼ˆdump.rdbï¼‰ç§»è‡³ä¿å­˜è·¯å¾„ä¸‹&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™é‡Œ&lt;font color=&#39;red&#39;&gt;å¤‡ä»½æ–‡ä»¶çš„åç§°ã€ä¿å­˜è·¯å¾„&lt;/font&gt;ä¸€å®šè¦ä¸é…ç½®æ–‡ä»¶ &lt;code&gt;redis.conf&lt;/code&gt;  ä¸­çš„è®¾ç½®ä¿æŒä¸€è‡´ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®© Redis è¯»å–æŒ‡å®šçš„é…ç½®æ–‡ä»¶ &lt;code&gt;redis.conf&lt;/code&gt; ï¼Œå¹¶å¯åŠ¨ Redis æœåŠ¡&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806114837995.png&#34; alt=&#34;image-20230806114837995&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;æ‰§è¡Œ &lt;code&gt;flushdb&lt;/code&gt; / &lt;code&gt;flushall&lt;/code&gt;  å‘½ä»¤ä¼š&lt;strong&gt;äº§ç”Ÿä¸€ä¸ªç©ºçš„ dump.rdb æ–‡ä»¶&lt;/strong&gt;ï¼Œæ‰§è¡Œ &lt;code&gt;shutdown&lt;/code&gt;  ä¼š&lt;strong&gt;äº§ç”Ÿä¸€ä¸ªé€€å‡ºæ—¶çš„ dump.rdb æ–‡ä»¶&lt;/strong&gt;ï¼Œä¸”ä¼š&lt;strong&gt;è¦†ç›–åŒè·¯å¾„ä¸‹çš„åŒåå¤‡ä»½æ–‡ä»¶&lt;/strong&gt;ï¼&lt;font color=&#39;red&#39;&gt;ç­‰åˆ°ä¸‹æ¬¡ Redis æœåŠ¡å¯åŠ¨æ—¶ï¼Œè¯»å–çš„å°±æ˜¯è¿™ä¸ªç©ºçš„ / ä¸Šæ¬¡ shutdown æ—¶çš„ dump.rdb æ–‡ä»¶&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;C:%5CUsers%5Chuawei%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230806115618721.png&#34; alt=&#34;image-20230806115618721&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œ&lt;strong&gt;ä¸å¯ä»¥æŠŠå¤‡ä»½æ–‡ä»¶ dump.rdb å’Œç”Ÿäº§ redis æœåŠ¡å™¨æ”¾åœ¨åŒä¸€å°æœºå™¨ï¼Œå¿…é¡»åˆ†å¼€å­˜å‚¨ï¼Œ&lt;font color=&#39;red&#39;&gt;åˆ†æœºéš”ç¦»&lt;/font&gt;ï¼Œä»¥é˜²ç”Ÿäº§æœºç‰©ç†æŸååå¤‡ä»½æ–‡ä»¶ä¹ŸæŒ‚äº†&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806115554369.png&#34; alt=&#34;image-20230806115554369&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6 id=&#34;æ‰‹åŠ¨è§¦å‘&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ‰‹åŠ¨è§¦å‘&#34;&gt;#&lt;/a&gt; æ‰‹åŠ¨è§¦å‘&lt;/h6&gt;
&lt;p&gt;åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ˆå³è‡ªåŠ¨è§¦å‘ï¼‰ï¼ŒRedis å°†æ•°æ®åº“å¿«ç…§ä¿å­˜åœ¨åå­—ä¸º dump.rdb çš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ã€‚ä½ å¯ä»¥å¯¹ Redis çš„é…ç½®æ–‡ä»¶ &lt;code&gt;redis.conf&lt;/code&gt;  è¿›è¡Œè®¾ç½®ï¼Œè®©å®ƒåœ¨ â€œæ¯ N ç§’æ£€æµ‹ä¸€æ¬¡ï¼Œå½“æ•°æ®é›†æœ‰ M ä¸ªæ”¹åŠ¨æ—¶â€ è¿™ä¸€æ¡ä»¶è¢«æ»¡è¶³æ—¶ï¼Œè‡ªåŠ¨ä¿å­˜ä¸€æ¬¡å¿«ç…§ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥&lt;strong&gt;é€šè¿‡è°ƒç”¨ &lt;code&gt;SAVE&lt;/code&gt;  æˆ–è€… &lt;code&gt;BGSAVE&lt;/code&gt;  å‘½ä»¤ï¼Œæ‰‹åŠ¨è®© Redis ä¿å­˜æ•°æ®åº“çš„å¿«ç…§&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¿«ç…§ä¿å­˜çš„å·¥ä½œæ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Redis è°ƒç”¨&lt;font color=&#39;red&#39;&gt;forks&lt;/font&gt;. åŒæ—¶æ‹¥æœ‰çˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ Linux ç¨‹åºä¸­ï¼Œfork () ä¼šäº§ç”Ÿä¸€ä¸ªå’Œçˆ¶è¿›ç¨‹å®Œå…¨ç›¸åŒçš„å­è¿›ç¨‹ï¼Œä½†å­è¿›ç¨‹åœ¨æ­¤åå¤šä¼š exec ç³»ç»Ÿè°ƒç”¨ï¼Œå‡ºäºæ•ˆç‡è€ƒè™‘ï¼Œå°½é‡é¿å…è†¨èƒ€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å­è¿›ç¨‹å°†æ•°æ®é›†å†™å…¥åˆ°ä¸€ä¸ªä¸´æ—¶ RDB æ–‡ä»¶ä¸­ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å½“å­è¿›ç¨‹å®Œæˆå¯¹æ–° RDB æ–‡ä»¶çš„å†™å…¥æ—¶ï¼ŒRedis ç”¨æ–° RDB æ–‡ä»¶æ›¿æ¢åŸæ¥çš„ RDB æ–‡ä»¶ï¼Œå¹¶åˆ é™¤æ—§çš„ RDB æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ç§å·¥ä½œæ–¹å¼ä½¿å¾— Redis å¯ä»¥ä»&lt;font color=&#39;red&#39;&gt;å†™æ—¶å¤åˆ¶ï¼ˆcopy-on-writeï¼‰&lt;/font&gt;æœºåˆ¶ä¸­è·ç›Šã€‚&lt;/p&gt;
&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806122757973.png&#34; alt=&#34;image-20230806122757973&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;center&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;SAVEå‘½ä»¤&lt;/font&gt;&lt;/center&gt;
&lt;blockquote&gt;
&lt;p&gt;** çº¿ä¸Šä¸¥ç¦ä½¿ç”¨ï¼** å› ä¸ºåœ¨ä¸»ç¨‹åºä¸­æ‰§è¡Œ SAVE å‘½ä»¤æ—¶ï¼Œ&lt;strong&gt;ä¼šé˜»å¡&lt;/strong&gt;å½“å‰ redis æœåŠ¡å™¨ï¼ŒRedis ä¸èƒ½å¤„ç†å…¶ä»–å‘½ä»¤ï¼Œç¼“å­˜åŠŸèƒ½å°±ç¼ºå¤±äº†ï¼Œç›´åˆ°æŒä¹…åŒ–å·¥ä½œå®Œæˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806123508579.png&#34; alt=&#34;image-20230806123508579&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806123541045.png&#34; alt=&#34;image-20230806123541045&#34; /&gt;&lt;/p&gt;
&lt;center&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;BGSAVEå‘½ä»¤ï¼ˆé»˜è®¤ï¼‰&lt;/font&gt;&lt;/center&gt;
&lt;blockquote&gt;
&lt;p&gt;Redis ä¼šåœ¨åå°å¼‚æ­¥è¿›è¡Œå¿«ç…§æ“ä½œï¼Œ&lt;strong&gt;ä¸é˜»å¡&lt;/strong&gt;å½“å‰ Redis æœåŠ¡å™¨ï¼Œè¿˜å¯ä»¥åŒæ—¶å“åº”å®¢æˆ·ç«¯è¯·æ±‚ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806145215893.png&#34; alt=&#34;image-20230806145215893&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806145228038.png&#34; alt=&#34;image-20230806145228038&#34; /&gt;&lt;/p&gt;
&lt;center&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;LASTSAVEå‘½ä»¤ï¼šè·å–æœ€è¿‘ä¸€æ¬¡å¿«ç…§çš„æ—¶é—´&lt;/font&gt;&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806145339310.png&#34; alt=&#34;image-20230806145339310&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806145349994.png&#34; alt=&#34;image-20230806145349994&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;rdbçš„ä¼˜ç¼ºç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rdbçš„ä¼˜ç¼ºç‚¹&#34;&gt;#&lt;/a&gt; RDB çš„ä¼˜ç¼ºç‚¹&lt;/h5&gt;
&lt;p&gt;RDB æŒä¹…åŒ–çš„ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€‚åˆ&lt;font color=&#39;red&#39;&gt;å¤§è§„æ¨¡&lt;/font&gt;çš„æ•°æ®æ¢å¤&lt;/li&gt;
&lt;li&gt;æŒ‰ç…§ä¸šåŠ¡ï¼Œ&lt;font color=&#39;red&#39;&gt;å®šæ—¶å¤‡ä»½&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;å¯¹æ•°æ®å®Œæ•´æ€§å’Œä¸€è‡´æ€§è¦æ±‚ä¸é«˜&lt;/li&gt;
&lt;li&gt;dump.rdb æ–‡ä»¶åœ¨å†…å­˜ä¸­çš„&lt;font color=&#39;red&#39;&gt;åŠ è½½é€Ÿåº¦&lt;/font&gt;è¦æ¯” AOF å¿«å¾—å¤š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;RDB æŒä¹…åŒ–çš„ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€å®šé—´éš”æ—¶é—´åšä¸€æ¬¡å¤‡ä»½ï¼Œæ‰€ä»¥å¦‚æœ Redis æ„å¤– down æ‰çš„è¯ï¼Œå°±ä¼šä¸¢å¤±ä»å½“å‰è‡³æœ€è¿‘ä¸€æ¬¡å¿«ç…§æœŸé—´çš„æ•°æ®ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¿«ç…§ä¹‹é—´çš„æ•°æ®ä¼šä¸¢å¤±&lt;/font&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å†…å­˜æ•°æ®çš„å…¨é‡åŒæ­¥ï¼Œå¦‚æœæ•°æ®é‡å¤ªå¤§ä¼šå¯¼è‡´&lt;font color=&#39;red&#39;&gt;I/O ä¸¥é‡å½±å“æœåŠ¡å™¨æ€§èƒ½&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;RDB ä¾èµ–äºä¸»è¿›ç¨‹çš„ forkï¼Œåœ¨æ›´å¤§çš„æ•°æ®é›†ä¸­ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´&lt;font color=&#39;red&#39;&gt;æœåŠ¡è¯·æ±‚çš„ç¬é—´å»¶è¿Ÿ&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;fork çš„æ—¶å€™å†…å­˜ä¸­çš„æ•°æ®è¢«å…‹é™äº†ä¸€ä»½ï¼Œ&lt;font color=&#39;red&#39;&gt;å¤§è‡´ 2 å€çš„æ•°æ®è†¨èƒ€æ€§&lt;/font&gt;ï¼Œéœ€è¦è€ƒè™‘&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¿«ç…§ä¹‹é—´çš„æ•°æ®ä¸¢å¤±æ¡ˆä¾‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æ­£å¸¸å½•å…¥æ•°æ®&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806151059638.png&#34; alt=&#34;image-20230806151059638&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;kill -9 æ•…æ„æ¨¡æ‹Ÿæ„å¤–å®•æœº&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806151113184.png&#34; alt=&#34;image-20230806151113184&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Redis é‡å¯ï¼ŒæŸ¥çœ‹æ•°æ®å‘ç°ä¸¢å¤±&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806151151946.png&#34; alt=&#34;image-20230806151151946&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;å¦‚ä½•æ£€æŸ¥-æ¢å¤dumprdbæ–‡ä»¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•æ£€æŸ¥-æ¢å¤dumprdbæ–‡ä»¶&#34;&gt;#&lt;/a&gt; å¦‚ä½•æ£€æŸ¥ã€æ¢å¤ dump.rdb æ–‡ä»¶&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;å½“ dump.rdb æ–‡ä»¶ç ´æŸæ—¶ï¼Œéœ€è¦æ¢å¤å®ƒï¼Œå¯ä»¥ä½¿ç”¨ &lt;code&gt;redis-check-rdb&lt;/code&gt;  å‘½ä»¤è¿›è¡Œä¿®å¤ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806151515656.png&#34; alt=&#34;image-20230806151515656&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;è§¦å‘rdbå¿«ç…§çš„æƒ…å†µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è§¦å‘rdbå¿«ç…§çš„æƒ…å†µ&#34;&gt;#&lt;/a&gt; è§¦å‘ RDB å¿«ç…§çš„æƒ…å†µ&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é…ç½®æ–‡ä»¶ &lt;code&gt;redis.conf&lt;/code&gt;  ä¸­é»˜è®¤çš„å¿«ç…§é…ç½®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‰‹åŠ¨ &lt;code&gt;save&lt;/code&gt; / &lt;code&gt;bgsave&lt;/code&gt;  å‘½ä»¤&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‰§è¡Œ &lt;code&gt;flushall&lt;/code&gt; / &lt;code&gt;flushdb&lt;/code&gt;  å‘½ä»¤ä¼šäº§ç”Ÿ&lt;strong&gt;ç©ºçš„&lt;/strong&gt; &lt;code&gt;dump.rdb&lt;/code&gt;  æ–‡ä»¶&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‰§è¡Œ &lt;code&gt;shutdown&lt;/code&gt;  å‘½ä»¤ï¼Œä¸”æ²¡æœ‰è®¾ç½®å¼€å¯ AOF æŒä¹…åŒ–&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸»ä»å¤åˆ¶æ—¶ï¼Œä¸»èŠ‚ç‚¹è‡ªåŠ¨è§¦å‘&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å¦‚ä½•ç¦ç”¨rdbå¿«ç…§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•ç¦ç”¨rdbå¿«ç…§&#34;&gt;#&lt;/a&gt; å¦‚ä½•ç¦ç”¨ RDB å¿«ç…§&lt;/h5&gt;
&lt;p&gt;ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å‘½ä»¤ï¼š &lt;code&gt;res-cli config set save &amp;quot;&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806152126685.png&#34; alt=&#34;image-20230806152126685&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;rdbå¿«ç…§çš„é…ç½®ä¼˜åŒ–é¡¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rdbå¿«ç…§çš„é…ç½®ä¼˜åŒ–é¡¹&#34;&gt;#&lt;/a&gt; RDB å¿«ç…§çš„é…ç½®ä¼˜åŒ–é¡¹&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;å³é…ç½®æ–‡ä»¶ &lt;code&gt;redis.conf&lt;/code&gt;  ä¸­çš„ SNAPSHOTTING æ¨¡å—&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;save &amp;lt;seconds&amp;gt; &amp;lt;changes&amp;gt;ï¼šè§¦å‘å¿«ç…§çš„&lt;font color=&#39;red&#39;&gt;æ—¶é—´é—´éš”ã€å˜åŒ–æ•°&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;dbfilenameï¼šrdb æ–‡ä»¶çš„&lt;font color=&#39;red&#39;&gt;åç§°&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;dirï¼šrdb æ–‡ä»¶çš„&lt;font color=&#39;red&#39;&gt;ä¿å­˜è·¯å¾„&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;stop-writes-on-bgsave-errorï¼šå½“å­è¿›ç¨‹æ‰§è¡Œå¿«ç…§ä¿å­˜å‡ºç°é”™è¯¯æ—¶ï¼Œ&lt;font color=&#39;red&#39;&gt;æ˜¯å¦è®©ä¸»è¿›ç¨‹åœæ­¢æ¥æ”¶æ–°çš„å†™è¯·æ±‚&lt;/font&gt;ï¼Œé»˜è®¤ä¸º yesã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœä¸åœ¨ä¹æ•°æ®ä¸ä¸€è‡´æˆ–è€…æœ‰å…¶ä»–æ‰‹æ®µå‘ç°å’Œæ§åˆ¶è¿™ç§ä¸ä¸€è‡´ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸º noã€‚æ­¤æ—¶åœ¨å¿«ç…§å†™å…¥å¤±è´¥æ—¶ï¼Œä¹Ÿèƒ½ç¡®ä¿ Redis ç»§ç»­æ¥å—æ–°çš„å†™è¯·æ±‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;rdbcompressionï¼šå¯¹äºå­˜å‚¨åˆ°ç£ç›˜ä¸­çš„å¿«ç…§ï¼Œå¯ä»¥è®¾ç½®&lt;font color=&#39;red&#39;&gt;æ˜¯å¦é‡‡ç”¨ LZF ç®—æ³•è¿›è¡Œå‹ç¼©å­˜å‚¨&lt;/font&gt;ï¼Œé»˜è®¤ä¸º yesã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;rdbchecksumï¼š&lt;font color=&#39;red&#39;&gt;æ˜¯å¦é‡‡ç”¨ CRC64 ç®—æ³•å¯¹å¿«ç…§æ–‡ä»¶è¿›è¡Œæ•°æ®æ ¡éªŒ&lt;/font&gt;ï¼Œé»˜è®¤ä¸º yesã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;rdb-del-sync-filesï¼šçœ‹ä¸æ‡‚ï¼Œé»˜è®¤æƒ…å†µä¸‹ noï¼Œç¦ç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;rdbå°ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rdbå°ç»“&#34;&gt;#&lt;/a&gt; RDB å°ç»“&lt;/h5&gt;
&lt;img data-src=&#34;C:\Users\huawei\AppData\Roaming\Typora\typora-user-images\image-20230806153628002.png&#34; alt=&#34;image-20230806153628002&#34; style=&#34;zoom: 67%;&#34; /&gt;
&lt;h4 id=&#34;aofappend-only-file&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aofappend-only-file&#34;&gt;#&lt;/a&gt; AOFï¼ˆ &lt;code&gt;A&lt;/code&gt; ppend  &lt;code&gt;O&lt;/code&gt; nly  &lt;code&gt;F&lt;/code&gt; ileï¼‰&lt;/h4&gt;
&lt;h5 id=&#34;ç®€ä»‹-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®€ä»‹-2&#34;&gt;#&lt;/a&gt; ç®€ä»‹&lt;/h5&gt;
&lt;p&gt;AOF æŒä¹…åŒ–ï¼š&lt;strong&gt;ä»¥æ—¥å¿—æ–‡ä»¶çš„å½¢å¼æ¥è®°å½• Redis æ‰§è¡Œè¿‡çš„æ¯ä¸ªå†™æ“ä½œæŒ‡ä»¤&lt;/strong&gt;ï¼Œåªè®¸è¿½åŠ è®°å½•ï¼Œä¸å¯æ”¹å†™è®°å½•ã€‚Redis å¯åŠ¨ä¹‹åˆä¼šè¯»å–è¯¥æ—¥å¿—æ–‡ä»¶é‡æ–°æ„å»ºæ•°æ®ï¼Œæ¢è¨€ä¹‹ï¼ŒRedis é‡å¯çš„è¯å°±æ ¹æ®æ—¥å¿—æ–‡ä»¶çš„å†…å®¹å°†å†™æŒ‡ä»¤ä»å‰åˆ°åæ‰§è¡Œä¸€æ¬¡ä»¥å®Œæˆæ•°æ®çš„æ¢å¤å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼ŒRedis æ˜¯æ²¡æœ‰å¼€å¯ AOF çš„ï¼Œå¼€å¯ AOF åŠŸèƒ½éœ€è¦åœ¨é…ç½®æ–‡ä»¶ &lt;code&gt;redis.conf&lt;/code&gt;  ä¸­è®¾ç½®é…ç½®:  &lt;code&gt;appendonly yes&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;åŠ¨æœºï¼šå¯¹äº RDB æŒä¹…åŒ–çš„å¿«ç…§ï¼Œå¦‚æœ Redis å› ä¸ºæŸäº›åŸå› è€Œé€ æˆæ•…éšœåœæœºï¼Œé‚£ä¹ˆæœåŠ¡å™¨&lt;font color=&#39;red&#39;&gt;å°†ä¸¢å¤±æœ€è¿‘å†™å…¥ã€ä¸”ä»æœªä¿å­˜åˆ°å¿«ç…§ä¸­çš„é‚£äº›æ•°æ®&lt;/font&gt;ã€‚ å› æ­¤ï¼ŒRedis å¢åŠ äº†ä¸€ç§å®Œå…¨è€ä¹…çš„æŒä¹…åŒ–æ–¹å¼ï¼šAOF æŒä¹…åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;AOF æŒä¹…åŒ–æ‰€ä¿å­˜çš„æ–‡ä»¶ï¼š &lt;code&gt;appendonly.aof&lt;/code&gt;  æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h5 id=&#34;aofæŒä¹…åŒ–çš„å·¥ä½œæµç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aofæŒä¹…åŒ–çš„å·¥ä½œæµç¨‹&#34;&gt;#&lt;/a&gt; AOF æŒä¹…åŒ–çš„å·¥ä½œæµç¨‹&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806195559645.png&#34; alt=&#34;image-20230806195559645&#34; /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Client ä½œä¸ºå‘½ä»¤çš„æ¥æºï¼Œä¼šæœ‰å¤šä¸ªæºå¤´ä»¥åŠæºæºä¸æ–­çš„&lt;font color=&#39;red&#39;&gt;è¯·æ±‚å†™å‘½ä»¤&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨è¿™äº›å‘½ä»¤åˆ°è¾¾ Redis Server ä»¥åå¹¶ä¸æ˜¯ç›´æ¥å†™å…¥ AOF æ–‡ä»¶ï¼Œä¼šå°†å…¶è¿™äº›å‘½ä»¤&lt;font color=&#39;red&#39;&gt;å…ˆæ”¾å…¥ AOF ç¼“å­˜&lt;/font&gt;ä¸­è¿›è¡Œä¿å­˜ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™é‡Œçš„ AOF ç¼“å†²åŒºå®é™…ä¸Šæ˜¯å†…å­˜ä¸­çš„ä¸€ç‰‡åŒºåŸŸï¼Œå­˜åœ¨çš„ç›®çš„æ˜¯å½“è¿™äº›&lt;font color=&#39;red&#39;&gt;å‘½ä»¤è¾¾åˆ°ä¸€å®šé‡ä»¥åå†å†™å…¥ç£ç›˜&lt;/font&gt;ï¼Œé¿å…é¢‘ç¹çš„ç£ç›˜ IO æ“ä½œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;AOF ç¼“å†²ä¼šæ ¹æ®&lt;strong&gt; AOF ç¼“å†²åŒºåŒæ­¥æ–‡ä»¶çš„ä¸‰ç§å†™å›ç­–ç•¥&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;å°†å‘½ä»¤å†™å…¥ç£ç›˜ä¸Šçš„ AOF æ–‡ä»¶&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;éšç€å†™å…¥ AOF å†…å®¹çš„å¢åŠ ä¸ºé¿å…æ–‡ä»¶è†¨èƒ€ï¼Œä¼šæ ¹æ®è§„åˆ™&lt;font color=&#39;red&#39;&gt;è¿›è¡Œå‘½ä»¤çš„åˆå¹¶ (åˆç§°&lt;strong&gt; AOF é‡å†™&lt;/strong&gt;)&lt;/font&gt;ï¼Œä»è€Œèµ·åˆ° AOF æ–‡ä»¶å‹ç¼©çš„ç›®çš„ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å½“ Redis Server æœåŠ¡å™¨é‡å¯çš„æ—¶å€™&lt;font color=&#39;red&#39;&gt;Redis ä¼šä» AOF æ–‡ä»¶è½½å…¥æ•°æ®&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;aofç¼“å†²åŒºçš„ä¸‰ç§å†™å›ç­–ç•¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aofç¼“å†²åŒºçš„ä¸‰ç§å†™å›ç­–ç•¥&#34;&gt;#&lt;/a&gt; AOF ç¼“å†²åŒºçš„ä¸‰ç§å†™å›ç­–ç•¥&lt;/h5&gt;
&lt;p&gt;AOF ç¼“å†²åŒºéœ€è¦å°†å®ƒä¿å­˜çš„å†™å‘½ä»¤å†™å…¥ç£ç›˜ä¸Šçš„ AOF æ–‡ä»¶ï¼Œå¯ä»¥ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸Šçš„ &lt;code&gt;å‚æ•°appendfsync&lt;/code&gt; ï¼Œæœ‰ä¸‰ç§ç­–ç•¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;always&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;åŒæ­¥å†™å›&lt;/font&gt;ï¼Œæ¯ä¸ªå†™å‘½ä»¤æ‰§è¡Œå®Œç«‹åˆ»åŒæ­¥åœ°å°†æ—¥å¿—å†™å…¥ç£ç›˜ä¸Šçš„ AOF æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;everysec&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;æ¯ç§’å†™å›&lt;/font&gt;ï¼Œæ¯ä¸ªå†™å‘½ä»¤æ‰§è¡Œå®Œï¼Œåªæ˜¯å…ˆæŠŠæ—¥å¿—å†™åˆ° AOF æ–‡ä»¶çš„å†…å­˜ç¼“å†²åŒºï¼Œæ¯éš” 1 ç§’æŠŠç¼“å†²åŒºä¸­çš„å†…å®¹å†™å…¥ç£ç›˜&lt;/li&gt;
&lt;li&gt;&lt;code&gt;no&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;æ“ä½œç³»ç»Ÿæ§åˆ¶çš„å†™å›&lt;/font&gt;ï¼Œæ¯ä¸ªå†™å‘½ä»¤æ‰§è¡Œå®Œï¼Œåªæ˜¯å…ˆæŠŠæ—¥å¿—å†™åˆ° AOF æ–‡ä»¶çš„å†…å­˜ç¼“å†²åŒºï¼Œç”±æ“ä½œç³»ç»Ÿå†³å®šä½•æ—¶å°†ç¼“å†²åŒºå†…å®¹å†™å›ç£ç›˜&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806200107294.png&#34; alt=&#34;image-20230806200107294&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;æ¡ˆä¾‹æ¼”ç¤ºå’Œè¯´æ˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¡ˆä¾‹æ¼”ç¤ºå’Œè¯´æ˜&#34;&gt;#&lt;/a&gt; æ¡ˆä¾‹æ¼”ç¤ºå’Œè¯´æ˜&lt;/h5&gt;
&lt;h6 id=&#34;é…ç½®æ–‡ä»¶è¯´æ˜6-vs-7&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é…ç½®æ–‡ä»¶è¯´æ˜6-vs-7&#34;&gt;#&lt;/a&gt; &lt;mark&gt;é…ç½®æ–‡ä»¶è¯´æ˜ï¼ˆ6 vs 7ï¼‰&lt;/mark&gt;&lt;/h6&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806200804696.png&#34; alt=&#34;image-20230806200804696&#34; /&gt;&lt;/p&gt;
&lt;center&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å¦‚ä½•å¼€å¯AOF&lt;/font&gt;&lt;/center&gt;
&lt;p&gt;å°†é…ç½®æ–‡ä»¶ &lt;code&gt;redis.conf&lt;/code&gt;  ä¸­ APPEND ONLY MODE æ¨¡å—ä¸‹çš„ &lt;code&gt;å‚æ•°appendonly&lt;/code&gt;  è®¾ç½®ä¸º yesï¼Œå³æ‰“å¼€ AOF æŒä¹…åŒ–æ”¯æŒã€‚&lt;/p&gt;
&lt;center&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ä½¿ç”¨é»˜è®¤çš„å†™å›ç­–ç•¥ï¼ševerysec&lt;/font&gt;&lt;/center&gt;
&lt;p&gt;å°†é…ç½®æ–‡ä»¶ &lt;code&gt;redis.conf&lt;/code&gt;  ä¸­ APPEND ONLY MODE æ¨¡å—ä¸‹çš„ &lt;code&gt;å‚æ•°appendfsync&lt;/code&gt;  è®¾ç½®ä¸º everysec&lt;/p&gt;
&lt;center&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;AOFæ–‡ä»¶çš„ä¿å­˜è·¯å¾„&lt;/font&gt;&lt;/center&gt;
&lt;p&gt;Redis6ï¼šAOF ä¿å­˜æ–‡ä»¶çš„ä½ç½®&lt;font color=&#39;red&#39;&gt;å’Œ RDB ä¿å­˜æ–‡ä»¶çš„ä½ç½®ä¸€æ ·&lt;/font&gt;ï¼Œéƒ½æ˜¯é€šè¿‡é…ç½®æ–‡ä»¶ redis.conf çš„ &lt;code&gt;å‚æ•°dir&lt;/code&gt;  é…ç½®&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;dir/dump.rdb&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Redis7ï¼šåœ¨ &lt;code&gt;å‚æ•°dir&lt;/code&gt;  çš„åŸºç¡€ä¸Šï¼Œå†é€šè¿‡é…ç½®æ–‡ä»¶ redis.conf ä¸­ APPEND ONLY MODE æ¨¡å—ä¸‹çš„ &lt;code&gt;å‚æ•°appenddirname&lt;/code&gt; ï¼ŒäºŒè€…æ‹¼æ¥æˆä¸º AOF æ–‡ä»¶çš„ä¿å­˜è·¯å¾„&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;dir/appenddirname/appendonly.aof&lt;/p&gt;
&lt;/blockquote&gt;
&lt;center&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;AOFæ–‡ä»¶çš„åç§°&lt;/font&gt;&lt;/center&gt;
&lt;p&gt;Redis6ï¼šæœ‰ä¸”ä»…æœ‰ &lt;code&gt;appendonly.aof&lt;/code&gt;  ä¸€ä¸ª AOF æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;Redis7ï¼šé‡‡ç”¨äº† &lt;strong&gt;multi part AOF æœºåˆ¶&lt;/strong&gt;ï¼Œå°†åŸæ¥çš„&lt;font color=&#39;red&#39;&gt;å•ä¸ª AOF æ–‡ä»¶æ‹†åˆ†æˆå¤šä¸ª AOF æ–‡ä»¶&lt;/font&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;æ–‡ä»¶åå‰ç¼€éƒ½æ˜¯ &lt;code&gt;appendonly.aof&lt;/code&gt; &lt;/font&gt;ï¼Œåˆ†ä¸º&lt;font color=&#39;red&#39;&gt;ä¸‰ç§ç±»å‹&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;BASE AOF&lt;/font&gt;ï¼šåŸºç¡€ AOFï¼Œå®ƒä¸€èˆ¬ç”±å­è¿›ç¨‹ **&lt;font color=&#39;red&#39;&gt;é€šè¿‡é‡å†™äº§ç”Ÿ&lt;/font&gt;**ï¼Œè¯¥æ–‡ä»¶æœ€å¤šåªæœ‰ä¸€ä¸ªã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;INCR AOF&lt;/font&gt;ï¼šå¢é‡ AOFï¼Œå®ƒä¸€èˆ¬ä¼šåœ¨ **&lt;font color=&#39;red&#39;&gt;AOFRW å¼€å§‹æ‰§è¡Œæ—¶è¢«åˆ›å»º&lt;/font&gt;**ï¼Œè¯¥æ–‡ä»¶å¯èƒ½å­˜åœ¨å¤šä¸ªã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;è®°å½•å†™å‘½ä»¤&lt;/font&gt;çš„ä¸»åŠ›å†›ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;HISTORY AOFï¼šå†å² AOFï¼Œå®ƒç”± BASE AOF å’Œ INCR AOF å˜åŒ–è€Œæ¥ã€‚æ¯æ¬¡&lt;font color=&#39;red&#39;&gt;AOFRW æˆåŠŸå®Œæˆæ—¶&lt;/font&gt;ï¼Œæœ¬æ¬¡ AOFRW ä¹‹å‰å¯¹åº”çš„ BASE AOF å’Œ INCR AOF éƒ½å°†å˜ä¸º HISTORY AOFï¼Œä¹‹å&lt;font color=&#39;red&#39;&gt;ä¼šè¢« Redis è‡ªåŠ¨åˆ é™¤&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ºäº†ç®¡ç†è¿™äº› AOF æ–‡ä»¶ï¼Œ&lt;font color=&#39;red&#39;&gt;å¼•å…¥äº†ä¸€ä¸ª&lt;font color=&#39;gree&#39;&gt;manifest (æ¸…å•ï¼‰æ–‡ä»¶&lt;/font&gt;æ¥è·Ÿè¸ªã€ç®¡ç†è¿™äº› AOF&lt;/font&gt;ã€‚åŒæ—¶ï¼Œä¸ºäº†ä¾¿äº AOF å¤‡ä»½å’Œæ‹·è´ï¼Œæˆ‘ä»¬&lt;font color=&#39;red&#39;&gt;å°†æ‰€æœ‰çš„ AOF æ–‡ä»¶å’Œ manifest æ–‡ä»¶æ”¾å…¥ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ç›®å½•ä¸­&lt;/font&gt;ï¼Œç›®å½•åç”±å‚æ•° appenddirname é…ç½® (Redis 7.0 æ–°å¢é…ç½®é¡¹) å†³å®šã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806210712843.png&#34; alt=&#34;image-20230806210712843&#34; /&gt;&lt;/p&gt;
&lt;h6 id=&#34;æ­£å¸¸æ¢å¤aofæ–‡ä»¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ­£å¸¸æ¢å¤aofæ–‡ä»¶&#34;&gt;#&lt;/a&gt; æ­£å¸¸æ¢å¤ AOF æ–‡ä»¶&lt;/h6&gt;
&lt;p&gt;é¦–å…ˆå¼€å¯ AOFï¼Œç„¶åæ‰§è¡Œå†™æ“ä½œï¼Œç”Ÿæˆ AOF æ–‡ä»¶åˆ°æŒ‡å®šçš„ç›®å½•ä¸­&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;C:%5CUsers%5Chuawei%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230806220336112.png&#34; alt=&#34;image-20230806220336112&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Redis é‡å¯å¹¶é‡æ–°åŠ è½½ï¼Œç»“æœç¬¦åˆé¢„æœŸï¼Œå…·ä½“è¿‡ç¨‹è§è„‘å›¾ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;flushdb&lt;/code&gt;  å‘½ä»¤ä¹Ÿä¼šè¢«å¢é‡ AOF è®°å½•ï¼Œå› æ­¤ Redis é‡å¯åä¹Ÿä¼šåŠ è½½å¹¶æ‰§è¡Œæ¸…ç©ºåº“æ“ä½œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6 id=&#34;å¼‚å¸¸æ¢å¤aofæ–‡ä»¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¼‚å¸¸æ¢å¤aofæ–‡ä»¶&#34;&gt;#&lt;/a&gt; å¼‚å¸¸æ¢å¤ AOF æ–‡ä»¶&lt;/h6&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½•ä¸ºå¼‚å¸¸ï¼šåœ¨é«˜å¹¶å‘æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¸Šä¸€ç§’åˆšå†™å…¥ä¸€åŠï¼Œçªç„¶ Redis æŒ‚äº†ï¼Œå¯¼è‡´ AOF æ–‡ä»¶æœ‰ç¼ºé™·ã€é”™è¯¯ï¼Œé‚£ä¹ˆå¦‚ä½•æ¢å¤ AOF æ–‡ä»¶å‘¢ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é¦–å…ˆæ•…æ„ä¹±å†™æ­£å¸¸çš„å¢é‡ AOF æ–‡ä»¶ï¼Œæ¨¡æ‹Ÿç½‘ç»œé—ªæ–­æ–‡ä»¶å†™ error&lt;/p&gt;
&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806222044975.png&#34; alt=&#34;image-20230806222044975&#34; style=&#34;zoom:80%;&#34; /&gt;
&lt;p&gt;ç„¶åå°è¯•é‡å¯ Redis åŠ è½½ AOF æ–‡ä»¶ï¼Œå‘ç°æ€æ ·éƒ½å¯åŠ¨ä¸äº†&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806222108149.png&#34; alt=&#34;image-20230806222108149&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œå¼‚å¸¸ä¿®å¤å‘½ä»¤ &lt;code&gt;redis-check-aof --fix&lt;/code&gt;  æ¥ä¿®å¤å¢é‡ AOF æ–‡ä»¶&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;åªèƒ½ä¿®å¤å¢é‡ AOF æ–‡ä»¶ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806222145406.png&#34; alt=&#34;image-20230806222145406&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é‡å¯ Redisï¼ŒæˆåŠŸåŠ è½½ AOF æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806222228890.png&#34; alt=&#34;image-20230806222228890&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;aofçš„ä¼˜ç¼ºç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aofçš„ä¼˜ç¼ºç‚¹&#34;&gt;#&lt;/a&gt; AOF çš„ä¼˜ç¼ºç‚¹&lt;/h5&gt;
&lt;p&gt;AOF æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ›´å¥½åœ°ä¿æŠ¤æ•°æ®ä¸ä¸¢å¤±&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½¿ç”¨ AOF Redis æ›´åŠ æŒä¹…âˆ¶æ‚¨å¯ä»¥æœ‰&lt;font color=&#39;red&#39;&gt;ä¸åŒçš„ fsync ç­–ç•¥&lt;/font&gt;: æ ¹æœ¬ä¸ fsyncã€æ¯ç§’ fsyncã€æ¯æ¬¡æŸ¥è¯¢æ—¶ fsyncã€‚ä½¿ç”¨æ¯ç§’ fsync çš„é»˜è®¤ç­–ç•¥ï¼Œå†™å…¥æ€§èƒ½ä»ç„¶å¾ˆæ£’ã€‚fsync æ˜¯ä½¿ç”¨åå°çº¿ç¨‹æ‰§è¡Œçš„ï¼Œå½“æ²¡æœ‰ fsync æ­£åœ¨è¿›è¡Œæ—¶ï¼Œä¸»çº¿ç¨‹å°†åŠªåŠ›æ‰§è¡Œå†™å…¥ï¼Œå› æ­¤æ‚¨&lt;font color=&#39;red&#39;&gt;åªèƒ½ä¸¢å¤±ä¸€ç§’é’Ÿçš„å†™å…¥&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ˜“ä¿®å¤&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;AOF æ—¥å¿—æ˜¯ä¸€ä¸ªä»…é™„åŠ æ—¥å¿—ï¼Œå› æ­¤ä¸ä¼šå‡ºç°å¯»é“é—®é¢˜ï¼Œä¹Ÿä¸ä¼šåœ¨æ–­ç”µæ—¶å‡ºç°æŸåé—®é¢˜ã€‚å³ä½¿ç”±äºæŸç§åŸå› ï¼ˆç£ç›˜å·²æ»¡æˆ–å…¶ä»–åŸå› ï¼‰æ—¥å¿—ä»¥å†™ä¸€åŠçš„å‘½ä»¤ç»“å°¾ï¼Œ &lt;code&gt;redis-check-aof&lt;/code&gt;  å·¥å…·ä¹Ÿèƒ½å¤Ÿè½»æ¾ä¿®å¤å®ƒã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¾—ç›Šäº AOF çš„é‡å†™æœºåˆ¶ï¼Œèƒ½å¤Ÿè‡ªæˆ‘å‹ç¼©&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å½“ AOF å˜å¾—å¤ªå¤§æ—¶ï¼ŒRedis èƒ½å¤Ÿåœ¨åå°è‡ªåŠ¨é‡å†™ AOFã€‚é‡å†™æ˜¯å®Œå…¨å®‰å…¨çš„ï¼Œå› ä¸ºå½“ Redis ç»§ç»­é™„åŠ åˆ°æ—§æ–‡ä»¶æ—¶ï¼Œä¼šä½¿ç”¨åˆ›å»ºå½“å‰æ•°æ®é›†æ‰€éœ€çš„æœ€å°‘æ“ä½œé›†ç”Ÿæˆä¸€ä¸ªå…¨æ–°çš„æ–‡ä»¶ï¼Œä¸€æ—¦ç¬¬äºŒä¸ªæ–‡ä»¶å‡†å¤‡å°±ç»ªï¼ŒRedis å°±ä¼šåˆ‡æ¢ä¸¤è€…å¹¶å¼€å§‹é™„åŠ åˆ°æ–°çš„é‚£ä¸€ä¸ªã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ€§èƒ½é«˜&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ–‡ä»¶å†…å®¹æ˜“ç†è§£&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;AOF ä»¥æ˜“äºç†è§£å’Œè§£æçš„æ ¼å¼ä¾æ¬¡åŒ…å«æ‰€æœ‰æ“ä½œçš„æ—¥å¿—ã€‚æ‚¨ç”šè‡³å¯ä»¥è½»æ¾å¯¼å‡º AOF æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯åšç´§æ€¥æ¢å¤&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å³ä½¿æ‚¨ä¸å°å¿ƒä½¿ç”¨è¯¥ &lt;code&gt;FLUSHALL&lt;/code&gt;  å‘½ä»¤åˆ·æ–°äº†æ‰€æœ‰å†…å®¹ï¼Œåªè¦åœ¨æ­¤æœŸé—´æ²¡æœ‰æ‰§è¡Œæ—¥å¿—é‡å†™ï¼Œæ‚¨ä»ç„¶å¯ä»¥é€šè¿‡åœæ­¢æœåŠ¡å™¨ã€&lt;font color=&#39;red&#39;&gt;åˆ é™¤æœ€æ–°å‘½ä»¤&lt;/font&gt;å¹¶é‡æ–°å¯åŠ¨ Redis æ¥ä¿å­˜æ‚¨çš„æ•°æ®é›†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AOF æœ‰ä»¥ä¸‹ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äºç›¸åŒçš„æ•°æ®é›†è€Œè¨€ï¼Œaof æ–‡ä»¶è¦&lt;font color=&#39;red&#39;&gt;è¿œå¤§äº rdb æ–‡ä»¶&lt;/font&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;æ¢å¤é€Ÿåº¦æ…¢äº rdb&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;aof&lt;font color=&#39;red&#39;&gt;è¿è¡Œæ•ˆç‡è¦æ…¢äº rdb&lt;/font&gt;ï¼Œæ¯ç§’åŒæ­¥ç­–ç•¥æ•ˆç‡è¾ƒå¥½ï¼Œä¸åŒæ­¥æ•ˆç‡å’Œ rdb ç›¸åŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;aofé‡å†™æœºåˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aofé‡å†™æœºåˆ¶&#34;&gt;#&lt;/a&gt; &lt;mark&gt;AOF é‡å†™æœºåˆ¶&lt;/mark&gt;&lt;/h5&gt;
&lt;h6 id=&#34;ç®€ä»‹-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®€ä»‹-3&#34;&gt;#&lt;/a&gt; ç®€ä»‹&lt;/h6&gt;
&lt;p&gt;&lt;font color=&#39;orange&#39;&gt;AOF é‡å†™æœºåˆ¶&lt;/font&gt;ï¼šå¯åŠ¨ AOF æ–‡ä»¶çš„å†…å®¹å‹ç¼©ï¼Œåˆå¹¶å…¶ä¸­çš„å‘½ä»¤ï¼Œåªä¿ç•™å¯ä»¥æ¢å¤æ•°æ®çš„æœ€å°æŒ‡ä»¤é›†ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;é‡å†™å®Œæˆå&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é‡å†™ç»“æœè¢«ä¿å­˜åˆ°ä¸€ä¸ªæ–°çš„ BASE AOF æ–‡ä»¶ä¸­ï¼Œæ–‡ä»¶åä¸Šçš„æ ‡å·åŠ  1ã€‚&lt;/li&gt;
&lt;li&gt;åŒæ—¶ï¼Œæ–°å»ºä¸€ä¸ªç©ºçš„ INCR AOF æ–‡ä»¶ï¼Œæ–‡ä»¶åä¸Šçš„æ ‡å·åŠ  1ï¼Œæ—§çš„è¢«åˆ é™¤&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;AOF é‡å†™æœºåˆ¶æœ‰&lt;font color=&#39;red&#39;&gt;ä¸¤ç§è§¦å‘æ–¹å¼&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;è‡ªåŠ¨è§¦å‘&lt;/font&gt;ï¼šå½“ INCR AOF æ–‡ä»¶&lt;font color=&#39;red&#39;&gt;åŒæ—¶æ»¡è¶³&lt;/font&gt;ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶æ—¶ï¼ŒRedis å°±ä¼š&lt;font color=&#39;red&#39;&gt;è‡ªåŠ¨&lt;/font&gt;å¯åŠ¨é‡å†™æœºåˆ¶ï¼Œåªä¿ç•™å¯ä»¥æ¢å¤æ•°æ®çš„æœ€å°æŒ‡ä»¤é›†&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;INCR AOF æ–‡ä»¶è´Ÿè´£è®°å½•ä» AOF ç¼“å†²åŒºå†™å›çš„å†™å‘½ä»¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;å½“ INCR AOF æ–‡ä»¶çš„å¤§å°è¶…è¿‡ä¸Šä¸€æ¬¡é‡å†™ç»“æœï¼ˆå³ BASE AOF æ–‡ä»¶ï¼‰å¤§å° 1 å€ï¼ˆå¯ä»¥é€šè¿‡é…ç½® &lt;code&gt;auto-aof-rewrite-percentage&lt;/code&gt;  ä¿®æ”¹ï¼‰&lt;/li&gt;
&lt;li&gt;å½“ INCR AOF æ–‡ä»¶çš„å¤§å°è¶…è¿‡ 64MBï¼ˆå¯ä»¥é€šè¿‡é…ç½® &lt;code&gt;auto-aof-rewrite-min-size&lt;/code&gt;  ä¿®æ”¹ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æ‰‹åŠ¨è§¦å‘&lt;/font&gt;ï¼šå¯ä»¥æ‰‹åŠ¨ä½¿ç”¨å‘½ä»¤  &lt;code&gt;bgrewriteaof&lt;/code&gt;  æ¥é‡å†™ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;æ¡ˆä¾‹æ¼”ç¤ºå’Œè¯´æ˜-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¡ˆä¾‹æ¼”ç¤ºå’Œè¯´æ˜-2&#34;&gt;#&lt;/a&gt; æ¡ˆä¾‹æ¼”ç¤ºå’Œè¯´æ˜&lt;/h6&gt;
&lt;p&gt;å…·ä½“è¿‡ç¨‹è§è„‘å›¾ï¼Œè¿™é‡Œåªæ¼”ç¤º AOF é‡å†™åçš„æ•ˆæœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807004504357.png&#34; alt=&#34;image-20230807004504357&#34; /&gt;&lt;/p&gt;
&lt;center&gt;è‡ªåŠ¨é‡å†™&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807004613263.png&#34; alt=&#34;image-20230807004613263&#34; /&gt;&lt;/p&gt;
&lt;center&gt;æ‰‹åŠ¨é‡å†™&lt;/center&gt;
&lt;p&gt;ç»“è®ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AOF æ–‡ä»¶é‡å†™å¹¶ä¸æ˜¯å¯¹åŸæ–‡ä»¶è¿›è¡Œé‡æ–°æ•´ç†ï¼Œè€Œæ˜¯&lt;font color=&#39;red&#39;&gt;ç›´æ¥è¯»å–æœåŠ¡å™¨ç°æœ‰çš„é”®å€¼å¯¹ï¼Œç„¶åç”¨ä¸€æ¡å‘½ä»¤å»ä»£æ›¿ä¹‹å‰è®°å½•è¿™ä¸ªé”®å€¼å¯¹çš„å¤šæ¡å‘½ä»¤&lt;/font&gt;ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„æ–‡ä»¶åå»æ›¿æ¢åŸæ¥çš„ AOF æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;AOF æ–‡ä»¶é‡å†™è§¦å‘æœºåˆ¶ï¼šé€šè¿‡ redis.conf é…ç½®æ–‡ä»¶ä¸­çš„ &lt;code&gt;auto-aof-rewrite-percentage&lt;/code&gt; : é»˜è®¤å€¼ä¸º 100ï¼Œä»¥åŠ &lt;code&gt;auto-aof-rewriteÂ·min-size&lt;/code&gt; : 64mb é…ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´é»˜è®¤ Redis ä¼šè®°å½•ä¸Šæ¬¡é‡å†™æ—¶çš„ AOF å¤§å°ï¼Œé»˜è®¤é…ç½®æ˜¯å½“ AOF æ–‡ä»¶å¤§å°æ˜¯ä¸Šæ¬¡ rewrite åå¤§å°çš„ä¸€å€&lt;strong&gt;ä¸”&lt;/strong&gt;æ–‡ä»¶å¤§äº 64M æ—¶è§¦å‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;é‡å†™åŸç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é‡å†™åŸç†&#34;&gt;#&lt;/a&gt; é‡å†™åŸç†&lt;/h6&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨é‡å†™å¼€å§‹å‰ï¼Œredis ä¼šåˆ›å»ºä¸€ä¸ª â€œé‡å†™å­è¿›ç¨‹â€ï¼Œè¿™ä¸ªå­è¿›ç¨‹ä¼šè¯»å–ç°æœ‰çš„ AOF æ–‡ä»¶ï¼Œå¹¶å°†å…¶åŒ…å«çš„æŒ‡ä»¤è¿›è¡Œåˆ†æå‹ç¼©å¹¶å†™å…¥åˆ°ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ä¸­ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸æ­¤åŒæ—¶ï¼Œä¸»è¿›ç¨‹ä¼šå°†æ–°æ¥æ”¶åˆ°çš„å†™æŒ‡ä»¤ä¸€è¾¹ç´¯ç§¯åˆ°å†…å­˜ç¼“å†²åŒºä¸­ï¼Œä¸€è¾¹ç»§ç»­å†™å…¥åˆ°åŸæœ‰çš„ AOF æ–‡ä»¶ä¸­ï¼Œè¿™æ ·åšæ˜¯ä¿è¯åŸæœ‰çš„ AOF æ–‡ä»¶çš„å¯ç”¨æ€§ï¼Œé¿å…åœ¨é‡å†™è¿‡ç¨‹ä¸­å‡ºç°æ„å¤–ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å½“ â€œé‡å†™å­è¿›ç¨‹â€ å®Œæˆé‡å†™å·¥ä½œåï¼Œå®ƒä¼šç»™çˆ¶è¿›ç¨‹å‘ä¸€ä¸ªä¿¡å·ï¼Œçˆ¶è¿›ç¨‹æ”¶åˆ°ä¿¡å·åå°±ä¼šå°†å†…å­˜ä¸­ç¼“å­˜çš„å†™æŒ‡ä»¤è¿½åŠ åˆ°æ–° AOF æ–‡ä»¶ä¸­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å½“è¿½åŠ ç»“æŸåï¼Œredis å°±ä¼šç”¨æ–° AOF æ–‡ä»¶æ¥ä»£æ›¿æ—§ AOF æ–‡ä»¶ï¼Œä¹‹åå†æœ‰æ–°çš„å†™æŒ‡ä»¤ï¼Œå°±éƒ½ä¼šè¿½åŠ åˆ°æ–°çš„ AOF æ–‡ä»¶ä¸­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é‡å†™ aof æ–‡ä»¶çš„æ“ä½œï¼Œå¹¶æ²¡æœ‰è¯»å–æ—§çš„ aof æ–‡ä»¶ï¼Œè€Œæ˜¯å°†æ•´ä¸ªå†…å­˜ä¸­çš„æ•°æ®åº“å†…å®¹ç”¨å‘½ä»¤çš„æ–¹å¼é‡å†™äº†ä¸€ä¸ªæ–°çš„ aof æ–‡ä»¶ï¼Œè¿™ç‚¹å’Œå¿«ç…§æœ‰ç‚¹ç±»ä¼¼&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;aofçš„é…ç½®ä¼˜åŒ–é¡¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aofçš„é…ç½®ä¼˜åŒ–é¡¹&#34;&gt;#&lt;/a&gt; AOF çš„é…ç½®ä¼˜åŒ–é¡¹&lt;/h5&gt;
&lt;p&gt;æ¨¡å— APPEND ONLY MODEï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807005317244.png&#34; alt=&#34;image-20230807005317244&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;aofå°ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aofå°ç»“&#34;&gt;#&lt;/a&gt; AOF å°ç»“&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807005534144.png&#34; alt=&#34;image-20230807005534144&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;rdb-aofæ··åˆæŒä¹…åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rdb-aofæ··åˆæŒä¹…åŒ–&#34;&gt;#&lt;/a&gt; RDB-AOF æ··åˆæŒä¹…åŒ–&lt;/h3&gt;
&lt;h4 id=&#34;ç®€ä»‹-4&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®€ä»‹-4&#34;&gt;#&lt;/a&gt; ç®€ä»‹&lt;/h4&gt;
&lt;p&gt;Redis&lt;strong&gt; é»˜è®¤ä»…ä½¿ç”¨ RDB æŒä¹…åŒ–ï¼Œç¦ç”¨ AOF æŒä¹…åŒ–&lt;/strong&gt;ã€‚ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬&lt;strong&gt;æ‰‹åŠ¨å¯ç”¨ AOF æŒä¹…åŒ–åï¼ŒAOF çš„ä¼˜å…ˆçº§é«˜äº RDB&lt;/strong&gt;ï¼å¯¹åº”çš„æ•°æ®æ¢å¤é¡ºåºå’ŒåŠ è½½æµç¨‹å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807010014261.png&#34; alt=&#34;image-20230807010014261&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;åˆ°åº•é‡‡ç”¨å“ªç§æŒä¹…åŒ–æ–¹å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ°åº•é‡‡ç”¨å“ªç§æŒä¹…åŒ–æ–¹å¼&#34;&gt;#&lt;/a&gt; åˆ°åº•é‡‡ç”¨å“ªç§æŒä¹…åŒ–æ–¹å¼ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;äºŒè€…å„è‡ªçš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;RDB æŒä¹…åŒ–ï¼šï¼ˆå®šæ—¶ä¸€é”…ç«¯ï¼‰èƒ½å¤Ÿåœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”èƒ½å¯¹ä½ çš„æ•°æ®è¿›è¡Œå¿«ç…§å­˜å‚¨&lt;/li&gt;
&lt;li&gt;AOF æŒä¹…åŒ–ï¼šï¼ˆå®æ—¶è®°å½•å†™å‘½ä»¤ï¼‰è®°å½•æ¯æ¬¡å¯¹æœåŠ¡å™¨å†™çš„æ“ä½œï¼Œå½“æœåŠ¡å™¨é‡å¯çš„æ—¶å€™ä¼šé‡æ–°æ‰§è¡Œè¿™äº›å‘½ä»¤æ¥æ¢å¤åŸå§‹çš„æ•°æ®ï¼Œå‘½ä»¤ä»¥ redis åè®®è¿½åŠ ä¿å­˜æ¯æ¬¡å†™çš„æ“ä½œåˆ°æ–‡ä»¶æœ«å°¾ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åŒæ—¶å¼€å¯æ—¶çš„æƒ…å†µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“ redis é‡å¯çš„æ—¶å€™ä¼š&lt;font color=&#39;red&#39;&gt;ä¼˜å…ˆè½½å…¥ AOF æ–‡ä»¶&lt;/font&gt;æ¥æ¢å¤åŸå§‹çš„æ•°æ®ï¼Œå› ä¸ºåœ¨é€šå¸¸æƒ…å†µä¸‹ AOF æ–‡ä»¶ä¿å­˜çš„æ•°æ®é›†è¦æ¯” RDB æ–‡ä»¶ä¿å­˜çš„æ•°æ®é›†&lt;font color=&#39;red&#39;&gt;æ›´å®Œæ•´&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;RDB çš„æ•°æ®ä¸å®æ—¶ï¼ŒåŒæ—¶ä½¿ç”¨ä¸¤è€…æ—¶æœåŠ¡å™¨é‡å¯ä¹Ÿåªä¼šæ‰¾ AOF æ–‡ä»¶ã€‚&lt;font color=&#39;red&#39;&gt;ä½†æ˜¯ä½œè€…å»ºè®®ä¸è¦åªä½¿ç”¨ AOF&lt;/font&gt;ï¼Œå› ä¸º RDB æ›´é€‚åˆç”¨äºå¤‡ä»½æ•°æ®åº“ (AOF åœ¨ä¸æ–­å˜åŒ–ä¸å¥½å¤‡ä»½)ï¼Œ&lt;font color=&#39;red&#39;&gt;ç•™ç€ rdb ä»¥é˜²ä¸‡ä¸€&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»¼ä¸Šï¼Œ&lt;strong&gt;&lt;font color=&#39;orange&#39;&gt;æ¨èæ–¹å¼ï¼šRDB+AOF æ··åˆæ–¹å¼&lt;/font&gt;&lt;/strong&gt;ï¼Œæ—¢èƒ½å¿«é€ŸåŠ è½½åˆèƒ½é¿å…ä¸¢å¤±è¿‡å¤šçš„æ•°æ®ã€‚é…ç½®æ–¹å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é»˜è®¤å¼€å¯æ··åˆæ–¹å¼ï¼Œå¯¹åº”é…ç½®æ–‡ä»¶ä¸­çš„ &lt;code&gt;aof-use-rdb-preamble&lt;/code&gt; ï¼Œé»˜è®¤ä¸º yes&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å¼€å¯ AOF æŒä¹…åŒ–&lt;/font&gt;ï¼Œå¯¹åº”é…ç½®æ–‡ä»¶ä¸­çš„ &lt;code&gt;appendonly&lt;/code&gt;  è®¾ç½®ä¸º yesï¼Œé»˜è®¤ä¸º no&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;æ­¤æ—¶ï¼ŒRDB é•œåƒåš&lt;font color=&#39;red&#39;&gt;å…¨é‡&lt;/font&gt;æŒä¹…åŒ–ï¼ŒAOF åš&lt;font color=&#39;red&#39;&gt;å¢é‡&lt;/font&gt;æŒä¹…åŒ–ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…ˆä½¿ç”¨ RDB è¿›è¡Œå¿«ç…§å­˜å‚¨&lt;/li&gt;
&lt;li&gt;ç„¶åä½¿ç”¨ AOF æŒä¹…åŒ–è®°å½•æ‰€æœ‰çš„å†™æ“ä½œ&lt;/li&gt;
&lt;li&gt;å½“é‡å†™ç­–ç•¥æ»¡è¶³æˆ–æ‰‹åŠ¨è§¦å‘é‡å†™çš„æ—¶å€™ï¼Œå°†æœ€æ–°çš„æ•°æ®å­˜å‚¨ä¸ºæ–°çš„ RDB è®°å½•ã€‚&lt;/li&gt;
&lt;li&gt;è¿™æ ·çš„è¯ï¼Œé‡å¯æœåŠ¡çš„æ—¶å€™ä¼šä» RDB å’Œ AOF ä¸¤éƒ¨åˆ†æ¢å¤æ•°æ®ï¼Œæ—¢ä¿è¯äº†æ•°æ®å®Œæ•´æ€§ï¼Œåˆæé«˜äº†æ¢å¤æ•°æ®çš„æ€§èƒ½ã€‚ç®€å•æ¥è¯´ï¼šæ··åˆæŒä¹…åŒ–æ–¹å¼äº§ç”Ÿçš„æ–‡ä»¶ä¸€éƒ¨åˆ†æ˜¯ RDB æ ¼å¼ï¼Œä¸€éƒ¨åˆ†æ˜¯ AOF æ ¼å¼ã€‚&lt;strong&gt;----ã€‹&lt;font color=&#39;red&#39;&gt;AOF åŒ…æ‹¬äº† RDB å¤´éƒ¨ + AOF æ··å†™&lt;/font&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807011820642.png&#34; alt=&#34;image-20230807011820642&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;çº¯ç¼“å­˜æ¨¡å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#çº¯ç¼“å­˜æ¨¡å¼&#34;&gt;#&lt;/a&gt; çº¯ç¼“å­˜æ¨¡å¼&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Redis ä½œä¸ºåŸºäº key-value çš„å†…å­˜æ•°æ®åº“ï¼Œ&lt;strong&gt;Redis æœ€ä¸»è¦çš„åŠŸèƒ½æ˜¯ç”¨ä½œç¼“å­˜&lt;/strong&gt;ï¼Œè€Œ Redis æŒä¹…åŒ–ä¼šæ¶ˆè€— Redis çš„æ€§èƒ½ï¼Œå› æ­¤å¯ä»¥&lt;strong&gt;åŒæ—¶å…³é—­ RDB+AOF&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ç¦ç”¨ RDB&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ­¤æ—¶ä»ç„¶å¯ä»¥æ‰‹åŠ¨ä½¿ç”¨å‘½ä»¤ &lt;code&gt;SAVE&lt;/code&gt;  å’Œ &lt;code&gt;BGSAVE&lt;/code&gt;  ç”Ÿæˆ rdb æ–‡ä»¶&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å‘½ä»¤ï¼š &lt;code&gt;res-cli config set save &amp;quot;&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807012414863.png&#34; alt=&#34;image-20230807012414863&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ç¦ç”¨ AOF&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ­¤æ—¶ä»ç„¶å¯ä»¥æ‰‹åŠ¨ä½¿ç”¨å‘½ä»¤ &lt;code&gt;BGREWRITEAOF&lt;/code&gt;  ç”Ÿæˆ aof æ–‡ä»¶&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;å‘½ä»¤ï¼š &lt;code&gt;res-cli config set appendonly no&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼šå°† &lt;code&gt;redis.conf&lt;/code&gt;  ä¸­ APPEND ONLY MODE æ¨¡å—ä¸‹çš„ &lt;code&gt;å‚æ•°appendonly&lt;/code&gt;  è®¾ç½®ä¸º no&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;5-redisäº‹åŠ¡transactions&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#5-redisäº‹åŠ¡transactions&#34;&gt;#&lt;/a&gt; 5ã€Redis äº‹åŠ¡ï¼ˆTransactionsï¼‰&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ•°æ®åº“äº‹åŠ¡&lt;/strong&gt;ï¼šç”±ä¸€ç³»åˆ—æ•°æ®åº“æ“ä½œç»„æˆçš„ä¸€ä¸ªå®Œæ•´çš„é€»è¾‘è¿‡ç¨‹ï¼Œä¸å¯æ‹†åˆ†ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¾‹å¦‚é“¶è¡Œè½¬å¸ï¼Œä»åŸè´¦æˆ·æ‰£é™¤é‡‘é¢ï¼Œä»¥åŠå‘ç›®æ ‡è´¦æˆ·æ·»åŠ é‡‘é¢ï¼Œè¿™ä¸¤ä¸ªæ•°æ®åº“æ“ä½œçš„æ€»å’Œï¼Œæ„æˆä¸€ä¸ªå®Œæ•´çš„é€»è¾‘è¿‡ç¨‹ï¼Œä¸å¯æ‹†åˆ†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å…·æœ‰&lt;strong&gt; ACID&lt;/strong&gt; ç‰¹æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸå­æ€§ï¼ˆ &lt;code&gt;a&lt;/code&gt; tomicityï¼‰
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªäº‹åŠ¡ï¼ˆtransactionï¼‰ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸å®Œæˆï¼Œä¸ä¼šç»“æŸåœ¨ä¸­é—´æŸä¸ªç¯èŠ‚ã€‚&lt;/li&gt;
&lt;li&gt;äº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œä¼šè¢«æ¢å¤ï¼ˆRollbackï¼‰åˆ°äº‹åŠ¡å¼€å§‹å‰çš„çŠ¶æ€ï¼Œå°±åƒè¿™ä¸ªäº‹åŠ¡ä»æ¥æ²¡æœ‰æ‰§è¡Œè¿‡ä¸€æ ·ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸€è‡´æ€§ï¼ˆ &lt;code&gt;c&lt;/code&gt; onsistencyï¼‰
&lt;ul&gt;
&lt;li&gt;åœ¨äº‹åŠ¡å¼€å§‹ä¹‹å‰å’Œäº‹åŠ¡ç»“æŸä»¥åï¼Œæ•°æ®åº“çš„å®Œæ•´æ€§æ²¡æœ‰è¢«ç ´åã€‚è¿™è¡¨ç¤ºå†™å…¥çš„èµ„æ–™å¿…é¡»å®Œå…¨ç¬¦åˆæ‰€æœ‰çš„é¢„è®¾è§„åˆ™ï¼Œè¿™åŒ…å«èµ„æ–™çš„ç²¾ç¡®åº¦ã€ä¸²è”æ€§ä»¥åŠåç»­æ•°æ®åº“å¯ä»¥è‡ªå‘æ€§åœ°å®Œæˆé¢„å®šçš„å·¥ä½œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;éš”ç¦»æ€§ï¼ˆ &lt;code&gt;i&lt;/code&gt; solationï¼‰
&lt;ul&gt;
&lt;li&gt;æ•°æ®åº“å…è®¸å¤šä¸ªå¹¶å‘äº‹åŠ¡åŒæ—¶å¯¹å…¶æ•°æ®è¿›è¡Œè¯»å†™å’Œä¿®æ”¹çš„èƒ½åŠ›ï¼Œéš”ç¦»æ€§å¯ä»¥&lt;font color=&#39;red&#39;&gt;é˜²æ­¢å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ç”±äºäº¤å‰æ‰§è¡Œè€Œå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;äº‹åŠ¡éš”ç¦»åˆ†ä¸ºä¸åŒçº§åˆ«ï¼ŒåŒ…æ‹¬ï¼š
&lt;ul&gt;
&lt;li&gt;è¯»æœªæäº¤ï¼ˆRead uncommittedï¼‰&lt;/li&gt;
&lt;li&gt;è¯»å·²æäº¤ï¼ˆread committedï¼‰&lt;/li&gt;
&lt;li&gt;å¯é‡å¤è¯»ï¼ˆrepeatable readï¼‰&lt;/li&gt;
&lt;li&gt;åºåˆ—åŒ–ï¼ˆSerializableï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æŒä¹…æ€§ï¼ˆ &lt;code&gt;d&lt;/code&gt; urabilityï¼‰
&lt;ul&gt;
&lt;li&gt;äº‹åŠ¡å¤„ç†ç»“æŸåï¼Œå¯¹æ•°æ®çš„ä¿®æ”¹å°±æ˜¯æ°¸ä¹…çš„ï¼Œå³ä¾¿ç³»ç»Ÿæ•…éšœä¹Ÿä¸ä¼šä¸¢å¤±ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;redisäº‹åŠ¡æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redisäº‹åŠ¡æ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; Redis äº‹åŠ¡æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h3&gt;
&lt;p&gt;Redis äº‹åŠ¡å…è®¸&lt;strong&gt;åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œä¸€æ¬¡æ€§ã€æŒ‰é¡ºåºã€æ’ä»–åœ°ï¼Œæ‰§è¡Œå¤šä¸ªå‘½ä»¤&lt;/strong&gt;ï¼Œæœ¬è´¨æ˜¯ä¸€ç»„å‘½ä»¤çš„é›†åˆã€‚ä¸€ä¸ªäº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¼šåºåˆ—åŒ–ï¼Œ&lt;font color=&#39;red&#39;&gt;æŒ‰é¡ºåºåœ°ä¸²è¡ŒåŒ–æ‰§è¡Œï¼Œè€Œä¸ä¼šè¢«å…¶å®ƒå‘½ä»¤æ’å…¥ï¼Œä¸è®¸åŠ å¡&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Redis äº‹åŠ¡ä»¥å‘½ä»¤ &lt;code&gt;MULTI&lt;/code&gt; ã€ &lt;code&gt;EXEC&lt;/code&gt; ã€ &lt;code&gt;DISCARD&lt;/code&gt;  å’Œ &lt;code&gt;WATCH&lt;/code&gt;  ä¸ºä¸­å¿ƒï¼Œæä¾›ä¸¤ä¸ªé‡è¦ä¿è¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;äº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½æ˜¯&lt;font color=&#39;red&#39;&gt;æŒ‰é¡ºåºåºåˆ—åŒ–ã€æ‰§è¡Œ&lt;/font&gt;çš„ã€‚ç”±å¦ä¸€ä¸ªå®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚å°†æ°¸è¿œä¸ä¼šåœ¨ Redis äº‹åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹ä¸­æä¾›æœåŠ¡ã€‚è¿™ä¿è¯äº†å‘½ä»¤ä½œä¸ºå•ä¸ªç‹¬ç«‹æ“ä½œæ‰§è¡Œã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt; &lt;code&gt;EXEC&lt;/code&gt;  å‘½ä»¤è§¦å‘äº‹åŠ¡ä¸­æ‰€æœ‰å‘½ä»¤çš„æ‰§è¡Œ&lt;/font&gt;ï¼Œå› æ­¤ï¼Œå¦‚æœå®¢æˆ·ç«¯åœ¨è°ƒç”¨ &lt;code&gt;EXEC&lt;/code&gt;  å‘½ä»¤ä¹‹å‰åœ¨äº‹åŠ¡ä¸Šä¸‹æ–‡ä¸­å¤±å»äº†ä¸æœåŠ¡å™¨çš„è¿æ¥ï¼Œåˆ™ä¸ä¼šæ‰§è¡Œä»»ä½•æ“ä½œï¼Œç›¸åï¼Œå¦‚æœè°ƒç”¨äº† &lt;code&gt;EXEC&lt;/code&gt;  å‘½ä»¤ï¼Œåˆ™ä¼šæ‰§è¡Œæ‰€æœ‰æ“ä½œã€‚å½“ä½¿ç”¨ AOF æ—¶ï¼ŒRedis ç¡®ä¿ä½¿ç”¨å•ä¸ª writeï¼ˆ2ï¼‰ç³»ç»Ÿè°ƒç”¨å°†äº‹åŠ¡å†™å…¥ç£ç›˜ã€‚ä½†æ˜¯ï¼Œå¦‚æœ Redis æœåŠ¡å™¨å´©æºƒæˆ–è¢«ç³»ç»Ÿç®¡ç†å‘˜ä»¥æŸç§è‰°éš¾çš„æ–¹å¼ç»ˆæ­¢ï¼Œåˆ™å¯èƒ½åªæ³¨å†Œäº†éƒ¨åˆ†æ“ä½œã€‚Redis å°†åœ¨é‡æ–°å¯åŠ¨æ—¶æ£€æµ‹åˆ°è¿™ç§æƒ…å†µï¼Œå¹¶å°†é€€å‡ºå¹¶è¿”å›é”™è¯¯ã€‚ä½¿ç”¨ &lt;code&gt;redis check aof&lt;/code&gt;  å·¥å…·ï¼Œå¯ä»¥ä¿®å¤å°†åˆ é™¤éƒ¨åˆ†äº‹åŠ¡çš„ AOF æ–‡ä»¶ï¼Œä»¥ä¾¿æœåŠ¡å™¨å¯ä»¥é‡æ–°å¯åŠ¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»ç‰ˆæœ¬ 2.2 å¼€å§‹ï¼ŒRedis å…è®¸ä»¥&lt;font color=&#39;red&#39;&gt;ä¹è§‚é”&lt;/font&gt;çš„å½¢å¼ä¸ºä¸Šè¿°ä¸¤ç§æ“ä½œæä¾›é¢å¤–çš„ä¿è¯ï¼Œå…¶æ–¹å¼ä¸ &lt;code&gt;check-and-set&lt;/code&gt; ï¼ˆCASï¼‰æ“ä½œéå¸¸ç›¸ä¼¼ã€‚ç¨åå°†å¯¹æ­¤è¿›è¡Œè®°å½•ã€‚&lt;/p&gt;
&lt;h3 id=&#34;redisäº‹åŠ¡-vs-æ•°æ®åº“äº‹åŠ¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redisäº‹åŠ¡-vs-æ•°æ®åº“äº‹åŠ¡&#34;&gt;#&lt;/a&gt; Redis äº‹åŠ¡ vs æ•°æ®åº“äº‹åŠ¡&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å•ç‹¬çš„éš”ç¦»æ“ä½œ&lt;/strong&gt;ï¼šRedis çš„äº‹åŠ¡ä»…ä»…æ˜¯ä¿è¯äº‹åŠ¡é‡Œçš„æ“ä½œä¼šè¢«è¿ç»­ç‹¬å çš„æ‰§è¡Œï¼Œredis å‘½ä»¤æ‰§è¡Œæ˜¯å•çº¿ç¨‹æ¶æ„ï¼Œ&lt;font color=&#39;red&#39;&gt;åœ¨æ‰§è¡Œå®Œäº‹åŠ¡å†…æ‰€æœ‰æŒ‡ä»¤å‰æ˜¯ä¸å¯èƒ½å†å»åŒæ—¶æ‰§è¡Œå…¶ä»–å®¢æˆ·ç«¯çš„è¯·æ±‚&lt;/font&gt;çš„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ²¡æœ‰éš”ç¦»çº§åˆ«çš„æ¦‚å¿µ&lt;/strong&gt;ï¼šå› ä¸º&lt;font color=&#39;red&#39;&gt;äº‹åŠ¡æäº¤å‰ä»»ä½•æŒ‡ä»¤éƒ½ä¸ä¼šè¢«å®é™…æ‰§è¡Œ&lt;/font&gt;ï¼Œä¹Ÿå°±ä¸å­˜åœ¨ â€œäº‹åŠ¡å†…çš„æŸ¥è¯¢è¦çœ‹åˆ°äº‹åŠ¡é‡Œçš„æ›´æ–°ï¼Œåœ¨äº‹åŠ¡å¤–æŸ¥è¯¢ä¸èƒ½çœ‹åˆ°â€ è¿™ç§é—®é¢˜äº†&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å› æ­¤ä¸å­˜åœ¨ â€œä¸‰å¤§è¯»é—®é¢˜â€ï¼šä¸å¯é‡å¤è¯»ã€è„è¯»ã€å¹»è¯»&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸ä¿è¯åŸå­æ€§&lt;/strong&gt;ï¼šRedis çš„äº‹åŠ¡ **&lt;font color=&#39;red&#39;&gt;ä¸ä¿è¯åŸå­æ€§&lt;/font&gt;**ï¼Œä¹Ÿå°±æ˜¯ä¸ä¿è¯æ‰€æœ‰æŒ‡ä»¤åŒæ—¶æˆåŠŸæˆ–åŒæ—¶å¤±è´¥ï¼Œåªæœ‰å†³å®šæ˜¯å¦å¼€å§‹æ‰§è¡Œå…¨éƒ¨æŒ‡ä»¤çš„èƒ½åŠ›ï¼Œ&lt;font color=&#39;red&#39;&gt;æ²¡æœ‰å›æ»šèƒ½åŠ›&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ’å®ƒæ€§&lt;/strong&gt;ï¼šRedis ä¼šä¿è¯ä¸€ä¸ªäº‹åŠ¡å†…çš„å‘½ä»¤ä¾æ¬¡æ‰§è¡Œï¼Œè€Œ&lt;font color=&#39;red&#39;&gt;ä¸ä¼šè¢«å…¶å®ƒå‘½ä»¤æ’å…¥&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ¡ˆä¾‹è¯´æ˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¡ˆä¾‹è¯´æ˜&#34;&gt;#&lt;/a&gt; æ¡ˆä¾‹è¯´æ˜&lt;/h3&gt;
&lt;h4 id=&#34;å¸¸ç”¨å‘½ä»¤-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¸¸ç”¨å‘½ä»¤-2&#34;&gt;#&lt;/a&gt; å¸¸ç”¨å‘½ä»¤&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‘½ä»¤&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;th&gt;è¿”å›å€¼&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;MULTI&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;æ ‡è®°ä¸€ä¸ªäº‹åŠ¡å—çš„å¼€å§‹&lt;/font&gt;ã€‚éšåçš„ä¸€ç³»åˆ—æŒ‡ä»¤å°†åœ¨æ‰§è¡Œ &lt;code&gt;EXEC&lt;/code&gt;  æ—¶ä½œä¸ºä¸€ä¸ªåŸå­æ‰§è¡Œã€‚&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;EXEC&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;æ‰§è¡Œäº‹åŠ¡å—ä¸­æ‰€æœ‰åœ¨æ’é˜Ÿç­‰å¾…çš„æŒ‡ä»¤&lt;/font&gt;ï¼Œå¹¶å°†é“¾æ¥çŠ¶æ€æ¢å¤åˆ°æ­£å¸¸ã€‚&lt;br/&gt;å½“ä½¿ç”¨ &lt;code&gt;WATCH&lt;/code&gt;  æ—¶ï¼Œåªæœ‰å½“è¢«ç›‘è§†çš„é”®æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œä¸”å…è®¸æ£€æŸ¥è®¾å®šæœºåˆ¶æ—¶ï¼Œ &lt;code&gt;EXEC&lt;/code&gt;  ä¼šè¢«æ‰§è¡Œã€‚&lt;/td&gt;
&lt;td&gt;æ¯ä¸ªå…ƒç´ ä¸åŸå­äº‹åŠ¡ä¸­çš„æŒ‡ä»¤ä¸€ä¸€å¯¹åº”ã€‚&lt;br/&gt;ä½¿ç”¨ &lt;code&gt;WATCH&lt;/code&gt;  æ—¶ï¼Œå¦‚æœè¢«ç»ˆæ­¢ï¼Œ &lt;code&gt;EXEC&lt;/code&gt;  åˆ™è¿”å›ä¸€ä¸ªç©ºçš„åº”ç­”é›†åˆã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;WATCH key [key ...]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;ç›‘è§†è‹¥å¹²ä¸ª key&lt;/font&gt;ï¼Œå¦‚æœåœ¨äº‹åŠ¡æ‰§è¡Œå‰è¿™äº› key å‘ç”Ÿæ”¹åŠ¨ï¼Œé‚£ä¹ˆäº‹åŠ¡å°†è¢«æ‰“æ–­ã€‚åœ¨äº‹åŠ¡ä¸­æœ‰æ¡ä»¶çš„æ‰§è¡Œï¼ˆ&lt;font color=&#39;red&#39;&gt;ä¹è§‚é”&lt;/font&gt;ï¼‰ã€‚&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;UNWATCH &lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;é‡Šæ”¾æ‰€æœ‰è¢« &lt;code&gt;WATCH&lt;/code&gt;  å‘½ä»¤ç›‘è§†çš„ key&lt;/font&gt;&lt;br/&gt;å¦‚æœæ‰§è¡Œ &lt;code&gt;EXEC&lt;/code&gt;  æˆ–è€… &lt;code&gt;DISCARD&lt;/code&gt; ï¼Œ åˆ™ä¸éœ€è¦æ‰‹åŠ¨æ‰§è¡Œè¯¥å‘½ä»¤ã€‚&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DISCARD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;å–æ¶ˆäº‹åŠ¡ï¼Œæ”¾å¼ƒæ‰§è¡Œäº‹åŠ¡å—ä¸­çš„æ‰€æœ‰æŒ‡ä»¤&lt;/font&gt;ã€‚&lt;br/&gt;åŒæ—¶ï¼Œ&lt;font color=&#39;red&#39;&gt;é‡Šæ”¾æ‰€æœ‰è¢« &lt;code&gt;WATCH&lt;/code&gt;  å‘½ä»¤ç›‘è§†çš„ key&lt;/font&gt;ã€‚&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;redisäº‹åŠ¡ä¸­çš„é”™è¯¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redisäº‹åŠ¡ä¸­çš„é”™è¯¯&#34;&gt;#&lt;/a&gt; Redis äº‹åŠ¡ä¸­çš„é”™è¯¯&lt;/h4&gt;
&lt;p&gt;åœ¨ Redis äº‹åŠ¡å¤„ç†è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ°&lt;font color=&#39;red&#39;&gt;ä¸¤ç§å‘½ä»¤é”™è¯¯&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å‘½ä»¤å¯èƒ½æ— æ³•æ’é˜Ÿ&lt;/strong&gt;ï¼Œå› æ­¤åœ¨è°ƒç”¨ &lt;code&gt;EXEC&lt;/code&gt;  ä¹‹å‰å¯èƒ½ä¼šå‡ºç°é”™è¯¯ã€‚ä¾‹å¦‚ï¼Œè¯¥å‘½ä»¤å¯èƒ½åœ¨&lt;font color=&#39;red&#39;&gt;è¯­æ³•ä¸Šé”™è¯¯&lt;/font&gt;ï¼ˆå‚æ•°æ•°é‡é”™è¯¯ã€å‘½ä»¤åç§°é”™è¯¯â€¦ï¼‰ï¼Œæˆ–è€…å¯èƒ½å­˜åœ¨ä¸€äº›å…³é”®æ¡ä»¶ï¼Œå¦‚&lt;font color=&#39;red&#39;&gt;å†…å­˜ä¸è¶³&lt;/font&gt;ï¼ˆå¦‚æœä½¿ç”¨ maxmemory æŒ‡ä»¤å°†æœåŠ¡å™¨é…ç½®ä¸ºå…·æœ‰å†…å­˜é™åˆ¶ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è°ƒç”¨ &lt;code&gt;EXEC&lt;/code&gt;  åï¼Œå‘½ä»¤å¯èƒ½ä¼šå¤±è´¥&lt;/strong&gt;ã€‚ä¾‹å¦‚ï¼Œå› ä¸ºæˆ‘ä»¬&lt;font color=&#39;red&#39;&gt;å¯¹å…·æœ‰é”™è¯¯å€¼çš„é”®æ‰§è¡Œäº†æ“ä½œ&lt;/font&gt;ï¼ˆå¦‚å¯¹å­—ç¬¦ä¸²å€¼è°ƒç”¨åˆ—è¡¨æ“ä½œï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä» Redis 2.6.5 å¼€å§‹ï¼ŒæœåŠ¡å™¨å°†åœ¨å‘½ä»¤ç´¯ç§¯è¿‡ç¨‹ä¸­&lt;font color=&#39;red&#39;&gt;æ£€æµ‹åˆ°é”™è¯¯&lt;/font&gt;ã€‚ç„¶åï¼Œå®ƒå°†&lt;font color=&#39;red&#39;&gt;æ‹’ç»æ‰§è¡Œåœ¨ &lt;code&gt;EXEC&lt;/code&gt;  æœŸé—´è¿”å›é”™è¯¯çš„äº‹åŠ¡ï¼Œä»è€Œä¸¢å¼ƒè¯¥äº‹åŠ¡&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äº Redis äº‹åŠ¡ä¸­é‡åˆ°çš„é”™è¯¯ï¼Œæœ‰&lt;font color=&#39;red&#39;&gt;ä¸¤ç§å¤„ç†æ–¹å¼&lt;/font&gt;ï¼Œå…·ä½“è§ case3 å’Œ case4ã€‚&lt;/p&gt;
&lt;h4 id=&#34;case1æ­£å¸¸æ‰§è¡Œ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#case1æ­£å¸¸æ‰§è¡Œ&#34;&gt;#&lt;/a&gt; case1ï¼šæ­£å¸¸æ‰§è¡Œ&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;MULTI&lt;/code&gt;  + ä¸€ç³»åˆ— Redis å‘½ä»¤ +  &lt;code&gt;EXEC&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807133026046.png&#34; alt=&#34;image-20230807133026046&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;case2æ”¾å¼ƒäº‹åŠ¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#case2æ”¾å¼ƒäº‹åŠ¡&#34;&gt;#&lt;/a&gt; case2ï¼šæ”¾å¼ƒäº‹åŠ¡&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;MULTI&lt;/code&gt;  + ä¸€ç³»åˆ— Redis å‘½ä»¤ +  &lt;code&gt;DISCARD&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807115127428.png&#34; alt=&#34;image-20230807115127428&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;case3å…¨ä½“è¿å&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#case3å…¨ä½“è¿å&#34;&gt;#&lt;/a&gt; case3ï¼šå…¨ä½“è¿å&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;æƒ…å†µï¼ˆ&lt;strong&gt;ç¼–è¯‘æ—¶å¼‚å¸¸&lt;/strong&gt;ï¼‰ï¼š&lt;font color=&#39;red&#39;&gt;åœ¨ &lt;code&gt;EXEC&lt;/code&gt;  å‘½ä»¤æ‰§è¡Œå‰&lt;/font&gt;ï¼Œç”±äº&lt;u&gt;è¯­æ³•é”™è¯¯&lt;/u&gt;æˆ–è€…&lt;u&gt;å†…å­˜ä¸è¶³&lt;/u&gt;ç­‰åŸå› ï¼Œå¯¼è‡´äº‹åŠ¡å—ä¸­&lt;font color=&#39;red&#39;&gt;æŸæ¡å‘½ä»¤æ— æ³•åŠ å…¥é˜Ÿåˆ—&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹å¼ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;EXECABORT&lt;/font&gt;&lt;/strong&gt;ï¼Œå–æ¶ˆæ‰§è¡Œäº‹åŠ¡å—ä¸­é˜Ÿåˆ—é‡Œçš„æ‰€æœ‰å‘½ä»¤ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807120332653.png&#34; alt=&#34;image-20230807120332653&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;case4å†¤å¤´å€ºä¸»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#case4å†¤å¤´å€ºä¸»&#34;&gt;#&lt;/a&gt; case4ï¼šå†¤å¤´å€ºä¸»&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;æƒ…å†µï¼ˆ&lt;strong&gt;è¿è¡Œæ—¶å¼‚å¸¸&lt;/strong&gt;ï¼‰ï¼š&lt;font color=&#39;red&#39;&gt;åœ¨ &lt;code&gt;EXEC&lt;/code&gt;  å‘½ä»¤æ‰§è¡Œå&lt;/font&gt;ï¼Œäº‹åŠ¡å—ä¸­&lt;font color=&#39;red&#39;&gt;æŸæ¡å‘½ä»¤æ‰§è¡Œå¤±è´¥&lt;/font&gt;ã€‚ä¾‹å¦‚ï¼Œå› ä¸ºæˆ‘ä»¬&lt;u&gt;å¯¹å…·æœ‰é”™è¯¯å€¼çš„é”®æ‰§è¡Œäº†æ“ä½œ&lt;/u&gt;ï¼ˆå¦‚å¯¹å­—ç¬¦ä¸²å€¼è°ƒç”¨åˆ—è¡¨æ“ä½œï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹å¼ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å³ä½¿äº‹åŠ¡å†…ä¸€ä¸ªå‘½ä»¤å¤±è´¥ï¼Œé˜Ÿåˆ—ä¸­çš„æ‰€æœ‰å…¶ä»–å‘½ä»¤éƒ½ä¼šè¢«æ‰§è¡Œ&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¡¥å……ï¼š&lt;font color=&#39;red&#39;&gt;Redis ä¸æä¾›äº‹åŠ¡å›æ»šçš„åŠŸèƒ½&lt;/font&gt;ï¼Œåœ¨äº‹åŠ¡æ‰§è¡Œå‡ºé”™åï¼Œ&lt;font color=&#39;red&#39;&gt;å¼€å‘è€…å¿…é¡»è‡ªè¡Œæ¢å¤æ•°æ®åº“çŠ¶æ€&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807132520648.png&#34; alt=&#34;image-20230807132520648&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;case5watchç›‘æ§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#case5watchç›‘æ§&#34;&gt;#&lt;/a&gt; case5ï¼šwatch ç›‘æ§&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æ‚²è§‚é”ï¼ˆPessimistic Lockï¼‰&lt;/font&gt;ï¼šé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å¾ˆæ‚²è§‚ï¼Œæ¯æ¬¡å»æ‹¿æ•°æ®çš„æ—¶å€™éƒ½è®¤ä¸ºåˆ«äººä¼šä¿®æ”¹ï¼Œæ‰€ä»¥&lt;strong&gt;æ¯æ¬¡è®¿é—®æ•°æ®çš„æ—¶å€™éƒ½ä¼šä¸Šé”&lt;/strong&gt;ï¼Œè¿™æ ·åˆ«äººæƒ³æ‹¿è¿™ä¸ªæ•°æ®å°±ä¼š block ç›´åˆ°å®ƒæ‹¿åˆ°é”ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ä¹è§‚é”ï¼ˆOptimistic Lockï¼‰&lt;/font&gt;ï¼š é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å¾ˆä¹è§‚ï¼Œæ¯æ¬¡å»æ‹¿æ•°æ®çš„æ—¶å€™éƒ½è®¤ä¸ºåˆ«äººä¸ä¼šä¿®æ”¹ï¼Œæ‰€ä»¥&lt;strong&gt;ä¸ä¼šä¸Šé”ï¼Œä½†æ˜¯åœ¨æ›´æ–°æ•°æ®æ—¶ä¼šåˆ¤æ–­ä¸€ä¸‹åœ¨æ­¤æœŸé—´åˆ«äººæœ‰æ²¡æœ‰å»æ›´æ–°è¿™ä¸ªæ•°æ®&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¹è§‚é”ç­–ç•¥ï¼šåªæœ‰å½“ **&lt;u&gt;æäº¤ç‰ˆæœ¬&lt;/u&gt; å¤§äº &lt;u&gt;è®°å½•å½“å‰ç‰ˆæœ¬&lt;/u&gt;**ï¼Œæ‰èƒ½æ‰§è¡Œæ•°æ®æ›´æ–°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;CASï¼ˆCheck-And-Setï¼‰&lt;/font&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;watch&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#watch&#34;&gt;#&lt;/a&gt; watch&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;watch&lt;/code&gt;  å‘½ä»¤æ˜¯ä¸€ç§&lt;strong&gt;ä¹è§‚é”&lt;/strong&gt;çš„å®ç°ï¼ŒRedis åœ¨&lt;font color=&#39;red&#39;&gt;ä¿®æ”¹æ—¶ä¼šæ£€æµ‹æ•°æ®æ˜¯å¦è¢«æ›´æ”¹ï¼Œå¦‚æœæ›´æ”¹äº†ï¼Œåˆ™æ‰§è¡Œå¤±è´¥&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807131835629.png&#34; alt=&#34;image-20230807131835629&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªçª—å£è“è‰²æ¡†ç¬¬ 5 æ­¥æ‰§è¡Œç»“æœè¿”å›ä¸º nilï¼Œä¹Ÿå°±æ˜¯ç›¸å½“äºæ˜¯å¤±è´¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;WATCH&lt;/code&gt;  å‘½ä»¤ç”¨äºä¸º Redis äº‹åŠ¡æä¾›ä¸€ç§&lt;strong&gt; CASï¼ˆcheck-and-setï¼‰è¡Œä¸º&lt;/strong&gt;ã€‚&lt;br /&gt;
è¢« &lt;code&gt;WATCH&lt;/code&gt;  çš„ key ç”¨æ¥æ£€æµ‹ key çš„å˜åŒ–ã€‚å¦‚æœåœ¨æ‰§è¡Œ &lt;code&gt;EXEC&lt;/code&gt;  å‘½ä»¤ä¹‹å‰è‡³å°‘ä¿®æ”¹äº†ä¸€ä¸ªè¢«ç›‘è§†çš„ keyï¼Œåˆ™æ•´ä¸ªäº‹åŠ¡å°†ä¸­æ­¢ï¼Œ &lt;code&gt;EXEC&lt;/code&gt;  å°†è¿”å›ä¸€ä¸ª Null å›å¤ä»¥é€šçŸ¥äº‹åŠ¡å¤±è´¥ã€‚&lt;/p&gt;
&lt;h5 id=&#34;unwatch&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#unwatch&#34;&gt;#&lt;/a&gt; unwatch&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807132443762.png&#34; alt=&#34;image-20230807132443762&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;å°ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°ç»“&#34;&gt;#&lt;/a&gt; å°ç»“&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt; &lt;code&gt;EXEC&lt;/code&gt;  å‘½ä»¤æ‰§è¡Œå&lt;/font&gt;ï¼Œä¼šé‡Šæ”¾æ‰€æœ‰è¢« &lt;code&gt;WATCH&lt;/code&gt;  å‘½ä»¤ç›‘è§†çš„ key&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å½“å®¢æˆ·ç«¯è¿æ¥ä¸¢å¤±çš„æ—¶å€™ (æ¯”å¦‚é€€å‡ºé“¾æ¥)&lt;/font&gt;ï¼Œä¼šé‡Šæ”¾æ‰€æœ‰è¢« &lt;code&gt;WATCH&lt;/code&gt;  å‘½ä»¤ç›‘è§†çš„ key&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ€»ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ€»ç»“&#34;&gt;#&lt;/a&gt; æ€»ç»“&lt;/h3&gt;
&lt;p&gt;Redis äº‹åŠ¡åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¼€å¯&lt;/strong&gt;ï¼šä»¥ &lt;code&gt;MULTI&lt;/code&gt;  å¼€å§‹ä¸€ä¸ªäº‹åŠ¡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…¥é˜Ÿ&lt;/strong&gt;ï¼šå°†å¤šä¸ªå‘½ä»¤å…¥é˜Ÿåˆ°äº‹åŠ¡ä¸­ï¼Œæ¥åˆ°è¿™äº›å‘½ä»¤å¹¶ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯æ”¾åˆ°ç­‰å¾…æ‰§è¡Œçš„äº‹åŠ¡é˜Ÿåˆ—é‡Œé¢&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰§è¡Œ&lt;/strong&gt;ï¼šç”± &lt;code&gt;EXEC&lt;/code&gt;  å‘½ä»¤è§¦å‘æ‰§è¡Œäº‹åŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;6-redisç®¡é“pipeline&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#6-redisç®¡é“pipeline&#34;&gt;#&lt;/a&gt; 6ã€Redis ç®¡é“ï¼ˆpipelineï¼‰&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Redis ç®¡é“ä¸ Redis äº‹åŠ¡ä¹‹é—´çš„å…³ç³»ï¼Œç±»ä¼¼äºé›·é”‹ä¸é›·å³°å¡”çš„å…³ç³»ï¼ŒJava ä¸ JavaScript çš„å…³ç³»ï¼Œçœ‹ä¸Šå»ç›¸ä¼¼ï¼Œä½†å®é™…æ²¡æœ‰ä»»ä½•å…³ç³»ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•é¢˜&#34;&gt;#&lt;/a&gt; é¢è¯•é¢˜&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;å¦‚ä½•ä¼˜åŒ–å‘½ä»¤é¢‘ç¹å¾€è¿”é€ æˆçš„æ€§èƒ½ç“¶é¢ˆï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é—®é¢˜ç”±æ¥ï¼š&lt;/p&gt;
&lt;p&gt;Redis æ˜¯ä¸€ç§åŸºäº&lt;font color=&#39;red&#39;&gt;å®¢æˆ·ç«¯ - æœåŠ¡ç«¯æ¨¡å‹&lt;/font&gt;ä»¥åŠè¯·æ±‚ / å“åº”åè®®çš„ TCP æœåŠ¡ã€‚ä¸€ä¸ªè¯·æ±‚ä¼šéµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€å‘½ä»¤&lt;/font&gt;(åˆ†å››æ­¥ï¼šå‘é€å‘½ä»¤â†’å‘½ä»¤æ’é˜Ÿâ†’å‘½ä»¤æ‰§è¡Œâ†’è¿”å›ç»“æœ)ï¼Œå¹¶ç›‘å¬ Socket è¿”å›ï¼Œé€šå¸¸&lt;font color=&#39;red&#39;&gt;ä»¥é˜»å¡æ¨¡å¼ç­‰å¾…æœåŠ¡ç«¯å“åº”&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æœåŠ¡ç«¯å¤„ç†å‘½ä»¤ï¼Œå¹¶å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸Šè¿°ä¸¤æ­¥çš„æ€»è€—æ—¶ç§°ä¸ºï¼š&lt;strong&gt;Round Trip Timeï¼ˆå³ RTT, æ•°æ®åŒ…å¾€è¿”äºä¸¤ç«¯çš„æ—¶é—´)&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœåŒæ—¶éœ€è¦æ‰§è¡Œå¤§é‡çš„å‘½ä»¤ï¼Œé‚£ä¹ˆå°±&lt;font color=&#39;red&#39;&gt;è¦ç­‰å¾…ä¸Šä¸€æ¡å‘½ä»¤åº”ç­”åå†æ‰§è¡Œ&lt;/font&gt;ï¼Œè¿™ä¸­é—´ä¸ä»…ä»…å¤šäº† RTTï¼ˆRound Time Tripï¼‰ï¼Œè€Œä¸”è¿˜é¢‘ç¹è°ƒç”¨ç³»ç»Ÿ IOï¼Œå‘é€ç½‘ç»œè¯·æ±‚ï¼ŒåŒæ—¶éœ€è¦ redis è°ƒç”¨å¤šæ¬¡ read () å’Œ write () ç³»ç»Ÿæ–¹æ³•ï¼Œç³»ç»Ÿæ–¹æ³•ä¼šå°†æ•°æ®ä»ç”¨æˆ·æ€è½¬ç§»åˆ°å†…æ ¸æ€ï¼Œè¿™æ ·å°±ä¼šå¯¹è¿›ç¨‹ä¸Šä¸‹æ–‡æœ‰æ¯”è¾ƒå¤§çš„å½±å“äº†ï¼Œ&lt;font color=&#39;red&#39;&gt;æ€§èƒ½ä¸å¤ªå¥½&lt;/font&gt;o(â•¥ï¹â•¥)o&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807140057973.png&#34; alt=&#34;image-20230807140057973&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;ç®€ä»‹-5&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®€ä»‹-5&#34;&gt;#&lt;/a&gt; ç®€ä»‹&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;é€šè¿‡&lt;font color=&#39;red&#39;&gt;æ‰¹å¤„ç† Redis å‘½ä»¤&lt;/font&gt;æ¥&lt;font color=&#39;red&#39;&gt;ä¼˜åŒ–å¾€è¿”æ—¶é—´ RTT&lt;/font&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Redis ç®¡é“ (pipeline)&lt;/strong&gt;ï¼šä¸ºäº†ä¼˜åŒ– RTT å¾€è¿”æ—¶é—´ï¼Œå¯ä»¥&lt;font color=&#39;orange&#39;&gt;ä¸€æ¬¡æ€§æ‰“åŒ…å‘é€å¤šæ¡å‘½ä»¤&lt;/font&gt;ç»™æœåŠ¡ç«¯ï¼Œè€Œ&lt;font color=&#39;red&#39;&gt;æ— éœ€ç­‰å¾…å¯¹æ¯ä¸ªå‘½ä»¤çš„å“åº”&lt;/font&gt;ã€‚æœåŠ¡ç«¯ä¾æ¬¡å¤„ç†å®Œå®Œæ¯•åï¼Œ&lt;font color=&#39;red&#39;&gt;é€šè¿‡ä¸€æ¡å“åº”ä¸€æ¬¡æ€§å°†ç»“æœè¿”å›&lt;/font&gt;ï¼Œé€šè¿‡å‡å°‘å®¢æˆ·ç«¯ä¸ redis çš„é€šä¿¡æ¬¡æ•°æ¥å®ç°é™ä½å¾€è¿”å»¶æ—¶æ—¶é—´ã€‚pipeline çš„&lt;font color=&#39;orange&#39;&gt;å®ç°åŸç†æ˜¯é˜Ÿåˆ—&lt;/font&gt;ï¼Œå…ˆè¿›å…ˆå‡ºç‰¹æ€§å°±ä¿è¯æ•°æ®çš„é¡ºåºæ€§ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ˜¯&lt;strong&gt;ä¸€ç§æ‰¹å¤„ç†å‘½ä»¤çš„å˜ç§ä¼˜åŒ–æªæ–½&lt;/strong&gt;ï¼Œç±»ä¼¼ Redis åŸç”Ÿçš„æ‰¹å‘½ä»¤ï¼ˆä¾‹å¦‚ mget å’Œ msetï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;æ¡ˆä¾‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¡ˆä¾‹&#34;&gt;#&lt;/a&gt; æ¡ˆä¾‹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å°†æ¬²æ‰§è¡Œçš„å‘½ä»¤å…¨éƒ¨å†™åˆ°ä¸€ä¸ª txt æ–‡ä»¶ä¸­&lt;/li&gt;
&lt;li&gt;å°† txt æ–‡ä»¶çš„å†…å®¹ä¼ é€’ç»™ Redis çš„ pipe å‚æ•°&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807140935362.png&#34; alt=&#34;image-20230807140935362&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ€»ç»“-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ€»ç»“-2&#34;&gt;#&lt;/a&gt; æ€»ç»“&lt;/h3&gt;
&lt;h4 id=&#34;ç®¡é“-vs-åŸç”Ÿæ‰¹é‡å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®¡é“-vs-åŸç”Ÿæ‰¹é‡å‘½ä»¤&#34;&gt;#&lt;/a&gt; ç®¡é“ vs åŸç”Ÿæ‰¹é‡å‘½ä»¤&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;åŸç”Ÿæ‰¹é‡å‘½ä»¤&lt;/th&gt;
&lt;th&gt;ç®¡é“&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;åŸå­æ€§&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;éåŸå­æ€§&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¸€æ¬¡åªèƒ½æ‰§è¡Œä¸€ç§å‘½ä»¤&lt;/td&gt;
&lt;td&gt;æ”¯æŒæ‰¹é‡æ‰§è¡Œä¸åŒå‘½ä»¤&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æœåŠ¡ç«¯å®ç°&lt;/td&gt;
&lt;td&gt;æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯å…±åŒå®Œæˆ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;ç®¡é“-vs-äº‹åŠ¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®¡é“-vs-äº‹åŠ¡&#34;&gt;#&lt;/a&gt; ç®¡é“ vs äº‹åŠ¡&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;äº‹åŠ¡&lt;/th&gt;
&lt;th&gt;ç®¡é“&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;ä¸ä¿è¯åŸå­æ€§&lt;/font&gt;&lt;/td&gt;
&lt;td&gt;éåŸå­æ€§&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;é€æ¡å‘é€å‘½ä»¤&lt;/td&gt;
&lt;td&gt;ä¸€æ¬¡æ€§å‘é€å¤šæ¡å‘½ä»¤&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¼šé˜»å¡å…¶ä»–å‘½ä»¤çš„æ‰§è¡Œ&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;éé˜»å¡&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;ä½¿ç”¨ç®¡é“çš„æ³¨æ„äº‹é¡¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½¿ç”¨ç®¡é“çš„æ³¨æ„äº‹é¡¹&#34;&gt;#&lt;/a&gt; ä½¿ç”¨ç®¡é“çš„æ³¨æ„äº‹é¡¹&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;pipeline ç¼“å†²çš„æŒ‡ä»¤åªæ˜¯ä¼šä¾æ¬¡æ‰§è¡Œï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸ä¿è¯åŸå­æ€§ï¼Œå¦‚æœæ‰§è¡Œä¸­æŒ‡ä»¤å‘ç”Ÿå¼‚å¸¸ï¼Œå°†ä¼šç»§ç»­æ‰§è¡Œåç»­çš„æŒ‡ä»¤&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ Redis äº‹åŠ¡å‘ç”Ÿå‘½ä»¤çš„è¿è¡Œæ—¶å¼‚å¸¸ç±»ä¼¼ï¼Œå†¤å¤´å€ºä¸»ï¼Œä¸ä¼šè¿å&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨ pipeline ç»„è£…çš„&lt;font color=&#39;red&#39;&gt;å‘½ä»¤ä¸ªæ•°ä¸èƒ½å¤ªå¤š&lt;/font&gt;ï¼ˆä¾‹å¦‚ 10kï¼‰ï¼Œä¸ç„¶æ•°æ®é‡è¿‡å¤§å®¢æˆ·ç«¯é˜»å¡çš„æ—¶é—´å¯èƒ½è¿‡ä¹…ï¼ŒåŒæ—¶&lt;font color=&#39;red&#39;&gt;æœåŠ¡ç«¯æ­¤æ—¶ä¹Ÿè¢«è¿«å›å¤ä¸€ä¸ªé˜Ÿåˆ—ç­”å¤ï¼Œå ç”¨å¾ˆå¤šå†…å­˜&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;7-rediså‘å¸ƒè®¢é˜…pubsub&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#7-rediså‘å¸ƒè®¢é˜…pubsub&#34;&gt;#&lt;/a&gt; 7ã€Redis å‘å¸ƒè®¢é˜…ï¼ˆpub/subï¼‰&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™æ˜¯ Redis çš„ç¬¬ä¸€ä»£æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œç¬¬äºŒä»£æ˜¯ Streamï¼Œç„¶è€Œ&lt;strong&gt;ä¸€èˆ¬ä½¿ç”¨çš„éƒ½æ˜¯æ›´åŠ æˆç†Ÿçš„ç¬¬ä¸‰æ–¹æ¶ˆæ¯ä¸­é—´ä»¶&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;äº†è§£å³å¯&lt;/strong&gt;ï¼Œå®é™…å·¥ä½œä¸­ç”¨çš„å¾ˆå°‘ï¼Œä¸€èˆ¬éƒ½æ˜¯å°† Redis ç”¨ä½œ&lt;strong&gt;åˆ†å¸ƒå¼ç¼“å­˜&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;ç®€ä»‹-6&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®€ä»‹-6&#34;&gt;#&lt;/a&gt; ç®€ä»‹&lt;/h3&gt;
&lt;p&gt;Redis å‘å¸ƒè®¢é˜…ï¼ˆpub/subï¼‰æ˜¯ä¸€ç§æ¶ˆæ¯é€šä¿¡æ¨¡å¼ï¼š&lt;font color=&#39;red&#39;&gt;å‘é€è€… (PUBLISH) å‘é€æ¶ˆæ¯ï¼Œè®¢é˜…è€… (SUBSCRIBE) æ¥æ”¶æ¶ˆæ¯&lt;/font&gt;ï¼Œå¯ä»¥å®ç°è¿›ç¨‹é—´çš„æ¶ˆæ¯ä¼ é€’ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€è¨€è”½ä¹‹ï¼šRedis å¯ä»¥é€šè¿‡å‘å¸ƒè®¢é˜…å®ç°æ¶ˆæ¯çš„å¼•å¯¼å’Œåˆ†æµï¼Œå®ç°æ¶ˆæ¯ä¸­é—´ä»¶ MQ çš„åŠŸèƒ½ã€‚ä½†æ˜¯&lt;font color=&#39;red&#39;&gt;ä¸æ¨èä½¿ç”¨&lt;/font&gt;è¯¥åŠŸèƒ½ï¼Œä¸“ä¸šçš„äº‹æƒ…äº¤ç»™ä¸“ä¸šçš„ä¸­é—´ä»¶å¤„ç†ï¼Œredis å°±åšå¥½åˆ†å¸ƒå¼ç¼“å­˜åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807173639960.png&#34; alt=&#34;image-20230807173639960&#34; /&gt;&lt;/p&gt;
&lt;center&gt;Rediså®¢æˆ·ç«¯å¯ä»¥è®¢é˜…ä»»æ„æ•°é‡çš„é¢‘é“ï¼Œç±»ä¼¼å¾®ä¿¡å…³æ³¨å¤šä¸ªå…¬ä¼—å·&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807173711847.png&#34; alt=&#34;image-20230807173711847&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å½“æœ‰æ–°æ¶ˆæ¯é€šè¿‡PUBLISHå‘½ä»¤å‘é€ç»™é¢‘é“æ—¶
&lt;/center&gt;
&lt;p&gt;å°ç»“ï¼šå‘å¸ƒ / è®¢é˜…å…¶å®æ˜¯&lt;strong&gt;ä¸€ä¸ªè½»é‡çš„é˜Ÿåˆ—&lt;/strong&gt;ï¼Œåªä¸è¿‡&lt;strong&gt;æ•°æ®ä¸ä¼šè¢«æŒä¹…åŒ–&lt;/strong&gt;ï¼Œä¸€èˆ¬&lt;strong&gt;ç”¨æ¥å¤„ç†å®æ—¶æ€§è¾ƒé«˜çš„å¼‚æ­¥æ¶ˆæ¯&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807173943443.png&#34; alt=&#34;image-20230807173943443&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;å¸¸ç”¨å‘½ä»¤-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¸¸ç”¨å‘½ä»¤-3&#34;&gt;#&lt;/a&gt; å¸¸ç”¨å‘½ä»¤&lt;/h3&gt;
&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807174014734.png&#34; alt=&#34;image-20230807174014734&#34;  /&gt;
&lt;h3 id=&#34;ç¼ºç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¼ºç‚¹&#34;&gt;#&lt;/a&gt; ç¼ºç‚¹&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å‘å¸ƒçš„æ¶ˆæ¯åœ¨ Redis ç³»ç»Ÿä¸­&lt;strong&gt;ä¸èƒ½æŒä¹…åŒ–&lt;/strong&gt;ï¼Œå› æ­¤ï¼Œå¿…é¡»å…ˆæ‰§è¡Œè®¢é˜…ï¼Œå†ç­‰å¾…æ¶ˆæ¯å‘å¸ƒã€‚å¦‚æœå…ˆå‘å¸ƒäº†æ¶ˆæ¯ï¼Œé‚£ä¹ˆè¯¥æ¶ˆæ¯ç”±äºæ²¡æœ‰è®¢é˜…è€…ï¼Œæ¶ˆæ¯å°†è¢«ç›´æ¥ä¸¢å¼ƒ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¶ˆæ¯åªç®¡å‘é€å¯¹äºå‘å¸ƒè€…è€Œè¨€æ¶ˆæ¯æ˜¯å³å‘å³å¤±çš„ï¼Œä¸ç®¡æ¥æ”¶ï¼Œä¹Ÿ&lt;strong&gt;æ²¡æœ‰ ACK æœºåˆ¶&lt;/strong&gt;ï¼Œæ— æ³•ä¿è¯æ¶ˆæ¯çš„æ¶ˆè´¹æˆåŠŸã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä»¥ä¸Šçš„ç¼ºç‚¹å¯¼è‡´&lt;strong&gt; Redis çš„ Pub/Sub æ¨¡å¼å°±åƒä¸ªå°ç©å…·&lt;/strong&gt;ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å‡ ä¹æ— ç”¨æ­¦ä¹‹åœ°ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ºæ­¤ Redis5.0 ç‰ˆæœ¬æ–°å¢äº† Stream æ•°æ®ç»“æ„ï¼Œä¸ä½†æ”¯æŒå¤šæ’­ï¼Œè¿˜æ”¯æŒæ•°æ®æŒä¹…åŒ–ï¼Œç›¸æ¯” Pub/Sub æ›´åŠ çš„å¼ºå¤§ï¼Œä½†æ˜¯ä¹Ÿä¸æ¨èä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;8-redisä¸»ä»å¤åˆ¶replica&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#8-redisä¸»ä»å¤åˆ¶replica&#34;&gt;#&lt;/a&gt; 8ã€Redis ä¸»ä»å¤åˆ¶ï¼ˆreplicaï¼‰&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;æ‰¿ä¸Šå¯ä¸‹çš„ä¸€ç« ï¼Œå‰æ–‡éƒ½æ˜¯åœ¨å•æœºåœºæ™¯ä¸‹ï¼Œä»æ­¤å¼€å§‹ä»‹ç» Redis å¤šå°æœºå™¨çš„åœºæ™¯ï¼Œå³&lt;strong&gt;é€šè¿‡ä¸»ä»å¤åˆ¶æ”¯æŒå¤šå¯ç”¨æ€§å’Œæ•…éšœåˆ‡æ¢&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;ç®€ä»‹-7&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®€ä»‹-7&#34;&gt;#&lt;/a&gt; ç®€ä»‹&lt;/h3&gt;
&lt;p&gt;Redis æ•°æ®åº“çš„ä¸»ä»å¤åˆ¶ï¼Œå…¶ä¸­&lt;strong&gt; master æ•°æ®åº“ä»¥å†™ä¸ºä¸»ï¼Œslave æ•°æ®åº“ä»¥è¯»ä¸ºä¸»&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å½“ master æ•°æ®åº“ä¸Šçš„æ•°æ®å˜åŒ–æ—¶ï¼Œä¼šè‡ªåŠ¨å°†æ–°çš„æ•°æ®ä»¥&lt;font color=&#39;red&#39;&gt;å¼‚æ­¥&lt;/font&gt;çš„æ–¹å¼åŒæ­¥åˆ°å…¶ä»– slave æ•°æ®åº“ä¸Šã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Redis ä¸»ä»å¤åˆ¶ï¼ˆreplicaï¼‰çš„åŠŸèƒ½å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¯»å†™åˆ†ç¦»&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®¹ç¾æ¢å¤&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®å¤‡ä»½&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ°´å¹³æ‰©å®¹æ”¯æ’‘é«˜å¹¶å‘&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é…ç½®æ–¹æ³•ï¼š&lt;strong&gt;é…ä»ä¸é…ä¸»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;master å¦‚æœé…ç½®äº† &lt;code&gt;requirepass&lt;/code&gt;  å‚æ•°ï¼Œéœ€è¦å¯†ç ç™»é™†&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é‚£ä¹ˆ slave å°±è¦é…ç½® &lt;code&gt;masterauth&lt;/code&gt;  æ¥è®¾ç½®æ ¡éªŒå¯†ç ï¼Œå¦åˆ™ master ä¼šæ‹’ç» slave çš„è®¿é—®è¯·æ±‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807183910365.png&#34; alt=&#34;image-20230807183910365&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åŸºæœ¬å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸºæœ¬å‘½ä»¤&#34;&gt;#&lt;/a&gt; åŸºæœ¬å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;INFO replication&lt;/code&gt; &lt;/strong&gt;ï¼šä»¥ä¸€ç§æ˜“äºç†è§£å’Œé˜…è¯»çš„æ ¼å¼ï¼Œè¿”å›å…³äºå½“å‰ Redis æœåŠ¡å™¨çš„&lt;strong&gt;ç›´æ¥ä¸» / ä»&lt;/strong&gt;å¤åˆ¶ä¿¡æ¯&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;REPLICAOF masterIp masterPort&lt;/code&gt; &lt;/strong&gt;ï¼šåœ¨çº¿ä¿®æ”¹å½“å‰ Redis æœåŠ¡å™¨çš„ä¸» / ä»å¤åˆ¶è®¾ç½®ï¼ˆè‡ªåŠ¨é…ç½®ï¼‰&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸€èˆ¬å†™å…¥è¿› redis.conf é…ç½®æ–‡ä»¶å†…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;SLAVEOF masterIp masterPort&lt;/code&gt; &lt;/strong&gt;ï¼šå°†å½“å‰ Redis æœåŠ¡å™¨è½¬å˜ä¸ºæŒ‡å®šæœåŠ¡å™¨çš„ä»å±æœåŠ¡å™¨ï¼ˆæ‰‹åŠ¨é…ç½®ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯æ¬¡ä¸ master æ–­å¼€ä¹‹åï¼Œéƒ½éœ€è¦&lt;font color=&#39;red&#39;&gt;é‡æ–°è¿æ¥&lt;/font&gt;ï¼Œé™¤éä½ é…ç½®è¿› redis.conf æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;åœ¨è¿è¡ŒæœŸé—´ä¿®æ”¹ slave èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œå¦‚æœè¯¥æ•°æ®åº“å·²ç»æ˜¯æŸä¸ªä¸»æ•°æ®åº“çš„ä»æ•°æ®åº“ï¼Œé‚£ä¹ˆä¼šåœæ­¢å’ŒåŸä¸»æ•°æ®åº“çš„åŒæ­¥å…³ç³»è½¬è€Œå’Œæ–°çš„ä¸»æ•°æ®åº“åŒæ­¥ï¼Œ&lt;font color=&#39;red&#39;&gt;æ”¹æ¢é—¨åº­&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;SLAVEOF NO ONE&lt;/code&gt; &lt;/strong&gt;ï¼šå°†ä½¿å¾—è¿™ä¸ªä»å±æœåŠ¡å™¨å…³é—­å¤åˆ¶åŠŸèƒ½ï¼Œå¹¶ä»ä»å±æœåŠ¡å™¨&lt;font color=&#39;red&#39;&gt;è½¬å›ä¸»æœåŠ¡å™¨ï¼Œè‡ªç«‹ä¸ºç‹&lt;/font&gt;ï¼ŒåŒæ—¶åŸæ¥åŒæ­¥æ‰€å¾—çš„æ•°æ®é›†ä¸ä¼šè¢«ä¸¢å¼ƒã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ¡ˆä¾‹æ¼”ç¤º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¡ˆä¾‹æ¼”ç¤º&#34;&gt;#&lt;/a&gt; æ¡ˆä¾‹æ¼”ç¤º&lt;/h3&gt;
&lt;h4 id=&#34;æ¶æ„è¯´æ˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶æ„è¯´æ˜&#34;&gt;#&lt;/a&gt; æ¶æ„è¯´æ˜&lt;/h4&gt;
&lt;p&gt;ä¸€ä¸»äºŒä»ï¼Œä¸€ä¸ª masterï¼Œä¸¤ä¸ª slaveï¼Œç¤ºæ„å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807185141276.png&#34; alt=&#34;image-20230807185141276&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ‹·è´å¤šä»½é…ç½®æ–‡ä»¶ï¼Œåˆ†åˆ«å‘½åä¸ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;redis6379.conf&lt;/li&gt;
&lt;li&gt;redis6380.conf&lt;/li&gt;
&lt;li&gt;redis6381.conf&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å£è¯€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å£è¯€&#34;&gt;#&lt;/a&gt; &lt;mark&gt;å£è¯€&lt;/mark&gt;&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;é¢è¯•é‡ç‚¹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å‰æï¼šä¸‰è¾¹ç½‘ç»œäº’ç›¸ ping é€šï¼ŒåŒæ—¶æ³¨æ„é˜²ç«å¢™é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‰å¤§å‘½ä»¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸»ä»å¤åˆ¶ï¼š &lt;code&gt;REPLICAOF masterIp masterPort&lt;/code&gt; ï¼Œé…ä»ä¸é…ä¸»&lt;/li&gt;
&lt;li&gt;æ”¹æ¢é—¨åº­ï¼š &lt;code&gt;SLAVEOF masterIp masterPort&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è‡ªç«‹ä¸ºç‹ï¼š &lt;code&gt;SLAVEOF NO ONE&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ä¿®æ”¹é…ç½®æ–‡ä»¶çš„æ“ä½œç»†èŠ‚&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¿®æ”¹é…ç½®æ–‡ä»¶çš„æ“ä½œç»†èŠ‚&#34;&gt;#&lt;/a&gt; ä¿®æ”¹é…ç½®æ–‡ä»¶çš„æ“ä½œç»†èŠ‚&lt;/h4&gt;
&lt;p&gt;ä»¥ redis6379.conf ä¸ºä¾‹ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;è¦æ±‚ Redis åå°è¿è¡Œï¼Œä¸è¦å¼¹å‡ºå‘½ä»¤è¡Œçª—å£ï¼š &lt;code&gt;daemonize yes&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å–æ¶ˆ IP çš„ç»‘å®šï¼Œå¦åˆ™å½±å“è¿œç¨‹ IP è¿æ¥ï¼Œæ³¨é‡Šæ‰ &lt;code&gt;bind 127.0.0.1&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…³é—­ä¿æŠ¤æ¨¡å¼ï¼Œå¦åˆ™å½±å“è¿œç¨‹è®¿é—® / è¿æ¥ï¼š &lt;code&gt;protected-mode no&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŒ‡å®šç«¯å£ï¼š &lt;code&gt;port 6379&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŒ‡å®šå½“å‰å·¥ä½œç›®å½•ï¼Œ &lt;code&gt;dir /myredis&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®¾ç½® pidï¼ˆè¿›ç¨‹ idï¼‰æ–‡ä»¶çš„è·¯å¾„å’Œåå­—ï¼š &lt;code&gt;pidfile /var/run/redis_6379.pid&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®¾ç½® log æ–‡ä»¶çš„è·¯å¾„å’Œåå­—ï¼š &lt;code&gt;logfile &amp;quot;/myredis/6379.log&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;è®¾ç½® Redis æœåŠ¡å™¨çš„å¯†ç &lt;/font&gt;ï¼š &lt;code&gt;requirepass 111111&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;masterã€slave å‡é…ç½®&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®¾ç½® rdb æ–‡ä»¶çš„åç§°ï¼š &lt;code&gt;dbfilename dump6379.rdb&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‹¥å¼€å¯ AOFï¼Œè¿˜éœ€è®¾ç½® aof æ–‡ä»¶çš„åå­—ï¼šappendfilename ã€‚è¿™é‡Œä¸å¼€å¯äº†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;slaveslave è®¾ç½®æ‰€è®¿é—®çš„ mastermaster çš„ IP å’Œç«¯å£ï¼š &lt;code&gt;replicaofÂ masterIp 6379&lt;/code&gt; ï¼Œå¹¶è®¾ç½®é€šè¡Œå¯†ç  &lt;code&gt;masterauthÂ &amp;quot;111111&amp;quot;&lt;/code&gt; &lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;slave éœ€è¦é…ç½®&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;å¸¸ç”¨çš„3æ‹›&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¸¸ç”¨çš„3æ‹›&#34;&gt;#&lt;/a&gt; å¸¸ç”¨çš„ 3 æ‹›&lt;/h4&gt;
&lt;h5 id=&#34;ä¸€ä¸»äºŒä»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸€ä¸»äºŒä»&#34;&gt;#&lt;/a&gt; ä¸€ä¸»äºŒä»&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;1 ä¸ª masterï¼Œ2 ä¸ª slave&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807201752116.png&#34; alt=&#34;image-20230807201752116&#34; /&gt;&lt;/p&gt;
&lt;h6 id=&#34;æ–¹æ¡ˆ1é…ç½®æ–‡ä»¶å›ºå®šå†™æ­»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ–¹æ¡ˆ1é…ç½®æ–‡ä»¶å›ºå®šå†™æ­»&#34;&gt;#&lt;/a&gt; æ–¹æ¡ˆ 1ï¼šé…ç½®æ–‡ä»¶å›ºå®šå†™æ­»&lt;/h6&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;é…ä»ï¼ˆ6380 å’Œ 6381ï¼‰ä¸é…ä¸»&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807193239828.png&#34; alt=&#34;image-20230807193239828&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¾æ¬¡å¯åŠ¨ master å’Œä¸¤å° slave&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807193418057.png&#34; alt=&#34;image-20230807193418057&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŸ¥çœ‹ä¸»ä»å…³ç³»&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;é€šè¿‡æ—¥å¿—æ–‡ä»¶ï¼šé€šè¿‡ &lt;code&gt;vim 6379.log&lt;/code&gt;  æŸ¥çœ‹ master æ—¥å¿—ï¼Œé€šè¿‡ &lt;code&gt; vim 6380/6381.log&lt;/code&gt;  æŸ¥çœ‹ slave æ—¥å¿—&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807193701621.png&#34; alt=&#34;image-20230807193701621&#34; /&gt;&lt;/p&gt;
&lt;center&gt;masteræ—¥å¿—&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807193733743.png&#34; alt=&#34;image-20230807193733743&#34; /&gt;&lt;/p&gt;
&lt;center&gt;slaveæ—¥å¿—&lt;/center&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€šè¿‡å‘½ä»¤ï¼š &lt;code&gt;info relication&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807193843707.png&#34; alt=&#34;image-20230807193843707&#34; /&gt;&lt;/p&gt;
&lt;center&gt;masterçš„ä¸»ä»å¤åˆ¶ä¿¡æ¯&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807193915854.png&#34; alt=&#34;image-20230807193915854&#34; /&gt;&lt;/p&gt;
&lt;center&gt;slaveçš„ä¸»ä»å¤åˆ¶ä¿¡æ¯&lt;/center&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h6 id=&#34;ä¸»ä»å¤åˆ¶é—®é¢˜æ¼”ç¤º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸»ä»å¤åˆ¶é—®é¢˜æ¼”ç¤º&#34;&gt;#&lt;/a&gt; ä¸»ä»å¤åˆ¶é—®é¢˜æ¼”ç¤º&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜ 1ï¼š&lt;strong&gt;slave ä¸èƒ½æ‰§è¡Œå†™å‘½ä»¤ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807194936720.png&#34; alt=&#34;image-20230807194936720&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜ 2ï¼šslave åˆ‡å…¥ç‚¹é—®é¢˜ã€‚å½“æŸå° slave shutdown å¹¶é‡å¯åï¼Œ&lt;strong&gt;slave å¯¹ master é¦–æ¬¡è¿›è¡Œå…¨é‡å¤åˆ¶ï¼Œç„¶åè¿›è¡Œå¢é‡å¤åˆ¶&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807194924560.png&#34; alt=&#34;image-20230807194924560&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜ 3ï¼šmaster shutdown åï¼Œslave åŸåœ°å¾…å‘½ï¼Œæ•°æ®ä»å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œ&lt;strong&gt;slave ç­‰å¾… master é‡å¯å½’æ¥&lt;/strong&gt;ï¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜ 4ï¼šshutdown åçš„&lt;strong&gt; master é‡å¯å½’æ¥ï¼Œä¸»ä»å…³ç³»è¿˜åœ¨ï¼slave è¿˜èƒ½é¡ºåˆ©å¤åˆ¶ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;æ–¹æ¡ˆ2å‘½ä»¤æ“ä½œæ‰‹åŠ¨æŒ‡å®š&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ–¹æ¡ˆ2å‘½ä»¤æ“ä½œæ‰‹åŠ¨æŒ‡å®š&#34;&gt;#&lt;/a&gt; æ–¹æ¡ˆ 2ï¼šå‘½ä»¤æ“ä½œæ‰‹åŠ¨æŒ‡å®š&lt;/h6&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;slave åœæœºå¹¶å»æ‰é…ç½®é¡¹ï¼Œæ¸…ç©ºä¸»ä»å…³ç³»ã€‚æ­¤æ—¶ 3 æœºéƒ½æ˜¯ masterï¼Œäº’ä¸ä»å±ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨é¢„è®¾çš„ 2 ä¸ª slave ä¸Šæ‰§è¡Œå‘½ä»¤ &lt;code&gt;SLAVEOF masterIp masterHost&lt;/code&gt;  æŒ‡å®š master&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ç§æƒ…å†µä¸‹ï¼Œ&lt;strong&gt;è‹¥ slave shutdown å¹¶é‡å¯ï¼Œä¸»ä»å…³ç³»å°±ä¸å­˜åœ¨äº†ï¼ˆå› ä¸ºæ²¡æœ‰è®¾ç½®é…ç½®æ–‡ä»¶ï¼‰ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807200155294.png&#34; alt=&#34;image-20230807200155294&#34; /&gt;&lt;/p&gt;
&lt;h6 id=&#34;é…ç½®-vs-å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é…ç½®-vs-å‘½ä»¤&#34;&gt;#&lt;/a&gt; é…ç½® vs å‘½ä»¤&lt;/h6&gt;
&lt;p&gt;&lt;strong&gt;é…ç½®ï¼ˆå³æ–¹æ¡ˆ 1ï¼‰æŒä¹…ç¨³å®šï¼Œå‘½ä»¤ï¼ˆå³æ–¹æ¡ˆ 2ï¼‰ä¸´æ—¶ç”Ÿæ•ˆ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;è–ªç«ç›¸ä¼ &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è–ªç«ç›¸ä¼ &#34;&gt;#&lt;/a&gt; è–ªç«ç›¸ä¼ &lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807202217260.png&#34; alt=&#34;image-20230807202217260&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¦ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;slaveï¼ˆ6380ï¼‰ä¹Ÿå¯ä»¥ä½œä¸º masterï¼ˆ6379ï¼‰ï¼Œæ¥æ”¶å…¶ä»– slaveï¼ˆ6381ï¼‰çš„è¿æ¥å’ŒåŒæ­¥è¯·æ±‚ï¼Œå¯ä»¥&lt;strong&gt;æœ‰æ•ˆå‡è½»ä¸» master çš„å†™å‹åŠ›&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æ”¹å˜ master çš„å‘½ä»¤ï¼š &lt;code&gt;SLAVEOF newMasterIp newMasterPort&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;slaveï¼ˆ6380ï¼‰ä»ç„¶æ— æ³•æ‰§è¡Œå†™å‘½ä»¤ï¼&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;slaveï¼ˆ6381ï¼‰ä¸­é€”å˜æ›´è½¬å‘ï¼Œmaster ä» 6379 å˜ä¸º 6380ï¼Œ&lt;strong&gt;ä¼šæ¸…é™¤ä¹‹å‰ masterï¼ˆ6379ï¼‰çš„æ•°æ®ï¼Œé‡æ–°å»ºç«‹æ‹·è´æ–°çš„ masterï¼ˆ6380ï¼‰çš„æ•°æ®&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è‡ªç«‹ä¸ºç‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è‡ªç«‹ä¸ºç‹&#34;&gt;#&lt;/a&gt; è‡ªç«‹ä¸ºç‹&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;slave è½¬æˆ master&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å‘½ä»¤ &lt;code&gt;SLAVEOF NO ONE&lt;/code&gt; ï¼š&lt;strong&gt;åœæ­¢ä¸å…¶ä»–æ•°æ®åº“çš„åŒæ­¥ï¼Œæ¸…ç©ºæ•°æ®ï¼Œè½¬æˆä¸»æ•°æ®åº“&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸»ä»å¤åˆ¶çš„åŸç†-å·¥ä½œæµç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸»ä»å¤åˆ¶çš„åŸç†-å·¥ä½œæµç¨‹&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ä¸»ä»å¤åˆ¶çš„åŸç†ã€å·¥ä½œæµç¨‹&lt;/mark&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;é¢è¯•é‡ç‚¹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;black&#39;&gt;slave é¦–æ¬¡è¿æ¥ï¼Œè¯·æ±‚å®Œå…¨åŒæ­¥&lt;/font&gt;&lt;/strong&gt;ï¼šslave&lt;font color=&#39;red&#39;&gt;é¦–æ¬¡è¿æ¥&lt;/font&gt;master åä¼šå‘é€ä¸€ä¸ª &lt;code&gt;sync&lt;/code&gt;  å‘½ä»¤ï¼Œ&lt;font color=&#39;red&#39;&gt;è¯·æ±‚å®Œå…¨åŒæ­¥ï¼ˆå…¨é‡å¤åˆ¶ï¼‰&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ‰§è¡Œä¸€æ¬¡å®Œå…¨åŒæ­¥ï¼ˆ&lt;font color=&#39;red&#39;&gt;å…¨é‡å¤åˆ¶&lt;/font&gt;ï¼‰ï¼Œslave è‡ªèº«åŸæœ‰æ•°æ®ä¼šè¢«&lt;font color=&#39;red&#39;&gt;è¦†ç›–æ¸…é™¤&lt;/font&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;black&#39;&gt;master ä¿å­˜å¿«ç…§ã€ç¼“å­˜å†™å‘½ä»¤ï¼Œå“åº”ç»™ slave è¿›è¡Œåˆå§‹åŒ–&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;master èŠ‚ç‚¹æ”¶åˆ° &lt;code&gt;sync&lt;/code&gt;  å‘½ä»¤åä¼šå¼€å§‹åœ¨åå°&lt;font color=&#39;red&#39;&gt;ä¿å­˜å¿«ç…§&lt;/font&gt;(å³ RDB æŒä¹…åŒ–ï¼Œä¸»ä»å¤åˆ¶æ—¶ä¼šè§¦å‘ RDB)ï¼ŒåŒæ—¶&lt;font color=&#39;red&#39;&gt;ç¼“å­˜æ‰€æœ‰æ¥æ”¶åˆ°çš„å†™å‘½ä»¤&lt;/font&gt;ï¼Œmaster èŠ‚ç‚¹æ‰§è¡Œ RDB æŒä¹…åŒ–å®Œåï¼Œ&lt;font color=&#39;red&#39;&gt;master å°† rdb å¿«ç…§æ–‡ä»¶å’Œæ‰€æœ‰ç¼“å­˜çš„å†™å‘½ä»¤å‘é€åˆ°æ‰€æœ‰ slave&lt;/font&gt;ï¼Œä»¥å®Œæˆä¸€æ¬¡å®Œå…¨åŒæ­¥&lt;/li&gt;
&lt;li&gt;è€Œ slave æœåŠ¡åœ¨æ¥æ”¶åˆ°æ•°æ®åº“æ–‡ä»¶æ•°æ®åï¼Œå°†å…¶&lt;font color=&#39;red&#39;&gt;å­˜ç›˜å¹¶åŠ è½½åˆ°å†…å­˜ä¸­&lt;/font&gt;ï¼Œä»è€Œ&lt;font color=&#39;red&#39;&gt;å®Œæˆå¤åˆ¶åˆå§‹åŒ–&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;black&#39;&gt;å¿ƒè·³æŒç»­ï¼Œä¿æŒé€šä¿¡&lt;/font&gt;&lt;/strong&gt;ï¼šmaster å‘ slave å‘å‡º PING åŒ…çš„å‘¨æœŸï¼Œé»˜è®¤æ˜¯ 10 ç§’ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807205137957.png&#34; alt=&#34;image-20230807205137957&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;black&#39;&gt;è¿›å…¥å¹³ç¨³ï¼Œå¢é‡å¤åˆ¶&lt;/font&gt;&lt;/strong&gt;ï¼šmaster ç»§ç»­å°†æ–°çš„æ‰€æœ‰æ”¶é›†åˆ°çš„å†™å‘½ä»¤è‡ªåŠ¨ä¾æ¬¡ä¼ ç»™ slaveï¼Œå®ŒæˆåŒæ­¥&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;b&#39;&gt;slave ä¸‹çº¿ï¼Œé‡è¿ç»­ä¼ &lt;/font&gt;&lt;/strong&gt;ï¼šå‡è®¾æŸå° slave å®•æœºå¹¶é‡å¯äº†ï¼Œmaster ä¼šæ£€æŸ¥ backlog é‡Œé¢çš„ &lt;code&gt;offset&lt;/code&gt; ï¼Œmaster å’Œ slave éƒ½ä¼šä¿å­˜ä¸€ä¸ªå¤åˆ¶çš„ &lt;code&gt;offset&lt;/code&gt;  å’Œä¸€ä¸ª masterIdï¼Œ &lt;code&gt;offset&lt;/code&gt;  æ˜¯ä¿å­˜åœ¨ backlog ä¸­çš„ã€‚&lt;font color=&#39;red&#39;&gt;master åªä¼šæŠŠå·²ç»å¤åˆ¶çš„ &lt;code&gt;offset&lt;/code&gt;  åé¢çš„æ•°æ®å¤åˆ¶ç»™ slave&lt;/font&gt;ï¼Œç±»ä¼¼&lt;strong&gt;æ–­ç‚¹ç»­ä¼ &lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä¸»ä»å¤åˆ¶çš„ç¼ºç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸»ä»å¤åˆ¶çš„ç¼ºç‚¹&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ä¸»ä»å¤åˆ¶çš„ç¼ºç‚¹&lt;/mark&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;é¢è¯•é‡ç‚¹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¤åˆ¶å»¶æ—¶ï¼Œä¿¡å·è¡°å‡&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç”±äºæ‰€æœ‰çš„å†™æ“ä½œéƒ½æ˜¯å…ˆåœ¨ Master ä¸Šæ“ä½œï¼Œç„¶ååŒæ­¥æ›´æ–°åˆ° Slave ä¸Šï¼Œæ‰€ä»¥ä» Master åŒæ­¥åˆ° Slave æœºå™¨æœ‰ä¸€å®šçš„å»¶è¿Ÿï¼Œå½“&lt;font color=&#39;red&#39;&gt;ç³»ç»Ÿå¾ˆç¹å¿™&lt;/font&gt;çš„æ—¶å€™ï¼Œå»¶è¿Ÿé—®é¢˜ä¼šæ›´åŠ ä¸¥é‡ï¼Œ&lt;font color=&#39;red&#39;&gt;Slave æœºå™¨æ•°é‡çš„å¢åŠ &lt;/font&gt;ä¹Ÿä¼šä½¿è¿™ä¸ªé—®é¢˜æ›´åŠ ä¸¥é‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807210259342.png&#34; alt=&#34;image-20230807210259342&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;**master æŒ‚äº†å’‹åŠï¼Ÿ** é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸ä¼šä» slave ä¸­é‡é€‰ä¸€ä¸ª masterï¼Œå²‚ä¸æ˜¯ç¾¤é¾™æ— é¦–ï¼Ÿç³»ç»Ÿä¼šé™·å…¥åŠç˜«ç—ªçŠ¶æ€ï¼ˆåªèƒ½è¯»å–ï¼Œä¸èƒ½å†™å…¥ï¼‰&lt;/font&gt;é‚£å®¢æˆ·ç«¯çš„å†™å‘½ä»¤å¦‚ä½•æ‰§è¡Œå•Šï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœŸå¾…æœ‰ä¸€ç§é«˜å¯ç”¨çš„å¤‡ä»½ã€æ¢å¤æœºåˆ¶ï¼Œèƒ½å¤Ÿä»å‰©ä¸‹çš„ slave ä¸­é€‰å‡ºä¸€ä¸ª masterï¼ï¼ˆ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ— äººå€¼å®ˆå®‰è£…ï¼šå“¨å…µï¼&lt;/font&gt;&lt;/strong&gt;ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;9-rediså“¨å…µsentinel&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#9-rediså“¨å…µsentinel&#34;&gt;#&lt;/a&gt; 9ã€Redis å“¨å…µï¼ˆsentinelï¼‰&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Redis ä¸ºäº†æ”¯æŒé«˜å¯ç”¨ï¼Œæœ‰ 2 å¥—æœºåˆ¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸»ä»å¤åˆ¶ï¼ˆreplicaï¼‰+ å“¨å…µï¼ˆsentinelï¼‰&lt;/li&gt;
&lt;li&gt;é›†ç¾¤ï¼ˆclusterï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;ç®€ä»‹-8&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®€ä»‹-8&#34;&gt;#&lt;/a&gt; ç®€ä»‹&lt;/h3&gt;
&lt;p&gt;å“¨å…µï¼ˆsentinelï¼‰å·¡æŸ¥ç›‘æ§åå° master æ˜¯å¦æ•…éšœï¼Œå¦‚æœæ•…éšœäº†æ ¹æ® **&lt;font color=&#39;orange&#39;&gt;æŠ•ç¥¨æ•°&lt;/font&gt;** è‡ªåŠ¨å°†æŸä¸€ä¸ª slave è½¬æ¢ä¸ºæ–° masterï¼Œç»§ç»­å¯¹å¤–æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808215652689.png&#34; alt=&#34;image-20230808215652689&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å“¨å…µçš„ä½œç”¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸»ä»ç›‘æ§&lt;/strong&gt;ï¼šå“¨å…µèƒ½ç›‘æ§ä¸»ä» Redis åº“æ˜¯å¦æ­£å¸¸è¿è¡Œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ•…éšœè½¬ç§»&lt;/strong&gt;ï¼šå¦‚æœ master å¼‚å¸¸ï¼Œå“¨å…µä¼šå°†æ ¹æ®æŠ•ç¥¨æ•°å°†æŸä¸ª slave è½¬ä¸ºæ–°çš„ masterï¼Œå³ä¸»ä»åˆ‡æ¢&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¶ˆæ¯é€šçŸ¥&lt;/strong&gt;ï¼šå“¨å…µå¯å°†æ•…éšœè½¬ç§»çš„ç»“æœå‘é€ç»™å®¢æˆ·ç«¯&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é…ç½®ä¸­å¿ƒ&lt;/strong&gt;ï¼šå®¢æˆ·ç«¯é€šè¿‡è¿æ¥å“¨å…µæ¥è·å¾—å½“å‰ Redis æœåŠ¡çš„ master åœ°å€&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ¡ˆä¾‹æ¼”ç¤º-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¡ˆä¾‹æ¼”ç¤º-2&#34;&gt;#&lt;/a&gt; æ¡ˆä¾‹æ¼”ç¤º&lt;/h3&gt;
&lt;h4 id=&#34;æ¶æ„è¯´æ˜-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶æ„è¯´æ˜-2&#34;&gt;#&lt;/a&gt; æ¶æ„è¯´æ˜&lt;/h4&gt;
&lt;p&gt;3 ä¸ªå“¨å…µï¼šè‡ªåŠ¨ç›‘æ§å’Œç»´æŠ¤é›†ç¾¤ï¼Œä¸å­˜æ”¾æ•°æ®&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å“¨å…µå¿…é¡»è¦é…ç½®é›†ç¾¤ï¼Œä¸”æ•°é‡æœ€å¥½æ˜¯å¥‡æ•°ï¼Œæ–¹ä¾¿æŠ•ç¥¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;3 ä¸ª Redis åº“ï¼ˆ1 ä¸» 2 ä»ï¼‰ï¼šç”¨äºæ•°æ®è¯»å–å’Œå­˜æ”¾&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808002037403.png&#34; alt=&#34;image-20230808002037403&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;å“¨å…µé…ç½®æ–‡ä»¶sentinelconf&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å“¨å…µé…ç½®æ–‡ä»¶sentinelconf&#34;&gt;#&lt;/a&gt; å“¨å…µé…ç½®æ–‡ä»¶ ( &lt;code&gt;sentinel.conf&lt;/code&gt; )&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;é»˜è®¤åœ¨ /opt/redis-7.0.0 ç›®å½•ä¸‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é‡ç‚¹å‚æ•°è¯´æ˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;bind&lt;/code&gt; ï¼šæœåŠ¡ç›‘å¬åœ°å€ï¼Œç”¨äºå®¢æˆ·ç«¯è¿æ¥ï¼Œé»˜è®¤ä¸ºæœ¬æœºåœ°å€&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;daemonize&lt;/code&gt; ï¼šæ˜¯å¦ä»¥åå° daemonï¼ˆåå°è¿›ç¨‹ï¼‰æ–¹å¼è¿è¡Œï¼Œè®¾ä¸º yes&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;protected-mode&lt;/code&gt; ï¼šæ˜¯å¦å¼€å¯å®‰å…¨ä¿æŠ¤æ¨¡å¼ï¼Œè®¾ä¸º noï¼Œå¦åˆ™å½±å“è¿œç¨‹è®¿é—® / è¿æ¥&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;port&lt;/code&gt; ï¼šç«¯å£ï¼Œé»˜è®¤æ˜¯ 26379&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;logfile&lt;/code&gt; ï¼šæ—¥å¿—æ–‡ä»¶è·¯å¾„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;pidfile&lt;/code&gt; ï¼špid æ–‡ä»¶è·¯å¾„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;dir&lt;/code&gt; ï¼šå·¥ä½œç›®å½•&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;sentinel monitor &amp;lt;master-name&amp;gt; &amp;lt;master-ip&amp;gt; &amp;lt;master-port&amp;gt; &amp;lt;quorum&amp;gt;&lt;/code&gt; &lt;/strong&gt;ï¼šè®¾ç½®å“¨å…µè¦ç›‘æ§çš„ master&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;quorum&lt;/code&gt; ï¼š&lt;strong&gt;ç¡®è®¤&lt;font color=&#39;cornflowerblue&#39;&gt;å®¢è§‚ä¸‹çº¿&lt;/font&gt;çš„æœ€å°‘å“¨å…µæ•°é‡&lt;/strong&gt;ï¼ŒåŒæ„æ•…éšœè¿ç§»çš„æ³•å®š&lt;strong&gt;æŠ•ç¥¨æ•°&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;sentinel é€šè¿‡&lt;strong&gt;å®šæ—¶å‘ master å‘å‡º PING åŒ…&lt;/strong&gt;æ¥ç¡®è®¤ master æ˜¯å¦æŒ‚æ‰ã€‚&lt;/p&gt;
&lt;p&gt;ä½†ç½‘ç»œæ˜¯ä¸å¯é çš„ï¼Œæœ‰æ—¶æŸä¸ª sentinel å¯èƒ½å› ä¸º&lt;strong&gt;ç½‘ç»œæ‹¥å µ&lt;/strong&gt;æ²¡æ”¶åˆ° master çš„å“åº”ï¼Œä»è€Œ&lt;strong&gt;è¯¯ä»¥ä¸º master å·²æŒ‚æ‰&lt;/strong&gt;ã€‚å› æ­¤éœ€è¦å¤šä¸ª sentinel éƒ½ä¸€è‡´ä»»åŠ¡ master å·²æŒ‚ï¼Œæ‰å¯è¿›è¡Œä¸»ä»åˆ‡æ¢ã€æ•…éšœè½¬ç§»ï¼Œä¿è¯äº†å…¬å¹³æ€§å’Œé«˜å¯ç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;sentinel auth-pass &amp;lt;master-name&amp;gt; &amp;lt;password&amp;gt;&lt;/code&gt; ï¼šè®¾ç½®è¿æ¥ master æœåŠ¡å™¨çš„å¯†ç &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;sentinel down-after-milliseconds &amp;lt;master-name&amp;gt; &amp;lt;milliseconds&amp;gt;&lt;/code&gt; &lt;/strong&gt;ï¼šæŒ‡å®šå¦‚æœ master åœ¨å¤šå°‘æ¯«ç§’ä¹‹åæ²¡æœ‰åº”ç­” sentinelï¼Œsentinel åˆ™ä¸»è§‚ä¸Šè®¤ä¸º master ä¸‹çº¿ï¼ˆ&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ä¸»è§‚ä¸‹çº¿&lt;/font&gt;&lt;/strong&gt;ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;sentinel parallel-syncs &amp;lt;master-name&amp;gt; &amp;lt;nums&amp;gt;&lt;/code&gt; ï¼šè¡¨ç¤ºå…è®¸å¹¶è¡ŒåŒæ­¥çš„ slave ä¸ªæ•°ï¼Œå½“ master æŒ‚äº†åï¼Œå“¨å…µä¼šé€‰å‡ºæ–°çš„ masterï¼Œæ­¤æ—¶ï¼Œå‰©ä½™çš„ slave ä¼šå‘æ–°çš„ master å‘èµ·åŒæ­¥æ•°æ®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;sentinel failover-timeout &amp;lt;master-name&amp;gt; &amp;lt;milliseconds&amp;gt;&lt;/code&gt; ï¼šæ•…éšœè½¬ç§»çš„è¶…æ—¶æ—¶é—´ï¼Œè¿›è¡Œæ•…éšœè½¬ç§»æ—¶ï¼Œå¦‚æœè¶…è¿‡è®¾ç½®çš„æ¯«ç§’ï¼Œè¡¨ç¤ºæ•…éšœè½¬ç§»å¤±è´¥&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;sentinel notification-script &amp;lt;master-name&amp;gt; &amp;lt;script-path&amp;gt; &lt;/code&gt; ï¼šé…ç½®å½“æŸä¸€äº‹ä»¶å‘ç”Ÿæ—¶æ‰€éœ€è¦æ‰§è¡Œçš„è„šæœ¬&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;sentinel client-reconfig-script &amp;lt;master-name&amp;gt; &amp;lt;script-path&amp;gt;&lt;/code&gt; ï¼šå®¢æˆ·ç«¯é‡æ–°é…ç½® master å‚æ•°è„šæœ¬&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æœ¬æ¬¡æ¡ˆä¾‹ä¸­sentinelconfçš„é€šç”¨é…ç½®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æœ¬æ¬¡æ¡ˆä¾‹ä¸­sentinelconfçš„é€šç”¨é…ç½®&#34;&gt;#&lt;/a&gt; æœ¬æ¬¡æ¡ˆä¾‹ä¸­ sentinel.conf çš„é€šç”¨é…ç½®&lt;/h4&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808105627695.png&#34; alt=&#34;image-20230808105627695&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç”±äºæœºå™¨ç¡¬ä»¶å…³ç³»ï¼Œæˆ‘ä»¬çš„ 3 ä¸ªå“¨å…µéƒ½åŒæ—¶é…ç½®è¿› 192.168.111.169 åŒä¸€å°æœºå™¨ï¼Œå³&lt;font color=&#39;red&#39;&gt;3 ä¸ªå“¨å…µå’Œ master åœ¨ä¸€å°æœºå™¨ä¸Š&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é…ç½®è¿™ 3 ä¸ªå“¨å…µçš„é…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808104641977.png&#34; alt=&#34;image-20230808104641977&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808104655030.png&#34; alt=&#34;image-20230808104655030&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808104707250.png&#34; alt=&#34;image-20230808104707250&#34; /&gt;&lt;/p&gt;
&lt;p&gt;master é…ç½®æ–‡ä»¶è¯´æ˜ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808104812771.png&#34; alt=&#34;image-20230808104812771&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;å…ˆæµ‹è¯•æ­£å¸¸çš„ä¸»ä»å¤åˆ¶ä¸€ä¸»äºŒä»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å…ˆæµ‹è¯•æ­£å¸¸çš„ä¸»ä»å¤åˆ¶ä¸€ä¸»äºŒä»&#34;&gt;#&lt;/a&gt; å…ˆæµ‹è¯•æ­£å¸¸çš„ä¸»ä»å¤åˆ¶ï¼ˆä¸€ä¸»äºŒä»ï¼‰&lt;/h4&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807201752116.png&#34; alt=&#34;image-20230807201752116&#34; /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;169 æœºå™¨ä¸Šæ–°å»º redis6379.conf é…ç½®æ–‡ä»¶ï¼Œç”±äº 6379 åç»­å¯èƒ½ä¼šå˜æˆä»æœºï¼Œéœ€è¦è®¾ç½®è®¿é—®æ–°ä¸»æœºçš„å¯†ç ï¼Œ è¯·è®¾ç½® masterauth é¡¹è®¿é—®å¯†ç ä¸º 111111ï¼Œä¸ç„¶åç»­å¯èƒ½æŠ¥é”™ master_link_status:down&lt;/li&gt;
&lt;li&gt;172 æœºå™¨ä¸Šæ–°å»º redis6380.conf é…ç½®æ–‡ä»¶ï¼Œè®¾ç½®å¥½ &lt;code&gt;replicaof \&amp;lt;masterip&amp;gt; \&amp;lt;masterport&amp;gt;&lt;/code&gt; ï¼Œä»¥åŠ masterauth é¡¹è®¿é—®å¯†ç ä¸º 111111&lt;/li&gt;
&lt;li&gt;173 æœºå™¨ä¸Šæ–°å»º redis6381.conf é…ç½®æ–‡ä»¶ï¼Œè®¾ç½®å¥½ &lt;code&gt;replicaof \&amp;lt;masterip&amp;gt; \&amp;lt;masterport&amp;gt;&lt;/code&gt; ï¼Œä»¥åŠ masterauth é¡¹è®¿é—®å¯†ç ä¸º 111111&lt;/li&gt;
&lt;li&gt;å¯åŠ¨ 3 å°æœºå™¨å®ä¾‹ï¼š
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;redis-cli -a 111111 -p 6379&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;redis-cli -a 111111 -p 6380&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;redis-cli -a 111111 -p 6381&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æµ‹è¯•&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;å“¨å…µæ¥äº†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å“¨å…µæ¥äº†&#34;&gt;#&lt;/a&gt; å“¨å…µæ¥äº†ï¼&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;sentinel ä¹‹é—´é€šè¿‡ master æ¥è·å–ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;slave ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;å…¶ä»– sentinel ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»è€Œå®ç°é€šä¿¡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ masterï¼ˆ6379ï¼‰è¿™å°æœºå™¨ä¸Š&lt;font color=&#39;red&#39;&gt;å¯åŠ¨ 3 ä¸ª sentinel&lt;/font&gt;ï¼ˆ26379/26380/26381ï¼‰ï¼Œå®Œæˆç›‘æ§&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;redis-sentinel sentinel26379.conf --sentinel&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;redis-sentinel sentinel26380.conf --sentinel&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;redis-sentinel sentinel26381.conf --sentinel&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808110202022.png&#34; alt=&#34;image-20230808110202022&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808110255818.png&#34; alt=&#34;image-20230808110255818&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŸ¥çœ‹å“¨å…µçš„æ—¥å¿—æ–‡ä»¶ &lt;code&gt;sentinel26379.log&lt;/code&gt; ï¼Œå¯ä»¥çœ‹åˆ°&lt;font color=&#39;red&#39;&gt;å½“å‰ sentinel çš„ä¿¡æ¯&lt;/font&gt;ã€&lt;font color=&#39;red&#39;&gt;æ‰€ç›‘æ§ master ä»¥åŠ slave çš„ä¿¡æ¯&lt;/font&gt;ã€&lt;font color=&#39;red&#39;&gt;å…¶ä»– sentinel çš„ä¿¡æ¯&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808111127304.png&#34; alt=&#34;image-20230808111127304&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å†æµ‹è¯•ä¸€æ¬¡ä¸»ä»å¤åˆ¶ï¼Œæœ¨æœ‰é—®é¢˜&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;masteræŒ‚äº†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#masteræŒ‚äº†&#34;&gt;#&lt;/a&gt; master æŒ‚äº†ï¼&lt;/h4&gt;
&lt;p&gt;é€šè¿‡å‘½ä»¤ &lt;code&gt;SHUTDOWN&lt;/code&gt;  æ‰‹åŠ¨å…³é—­ 6379 æœåŠ¡å™¨ï¼Œæ¨¡æ‹Ÿ master æŒ‚æ‰ã€‚&lt;/p&gt;
&lt;p&gt;æ€è€ƒä»¥ä¸‹é—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜ 1ï¼š&lt;font color=&#39;red&#39;&gt;ä¸¤å° slave ä¸Šçš„æ•°æ®è¿˜ OKï¼&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜ 2ï¼š** ä¼šä»è¿™ä¸¤å° slave ä¸Šé€‰å‡ºæ–°çš„ masterï¼** å…·ä½“ä¿¡æ¯å¯æŸ¥çœ‹ sentinel çš„ log æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œå“¨å…µé…ç½®æ–‡ä»¶ &lt;code&gt;sentinel.conf&lt;/code&gt;  ä¸­ä¼šè‡ªåŠ¨ç”Ÿæˆå†…å®¹ä¿¡æ¯&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜ 3ï¼š&lt;strong&gt;down æœºçš„æ—§ master é‡å¯å½’æ¥ï¼Œä¹Ÿåªèƒ½æ‹œè®¤æ–° masterï¼Œä½œå®ƒçš„ slaveï¼&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ master6379 å®•æœºåï¼Œä¼šå‡ºç°ä¸¤ç§é”™è¯¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Errorï¼šServer closed the connection&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Errorï¼šBroken pipe&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;broken pipe&lt;/strong&gt;ï¼špipe æ˜¯ç®¡é“çš„æ„æ€ï¼Œç®¡é“é‡Œé¢æ˜¯æ•°æ®æµï¼Œé€šå¸¸æ˜¯ä»æ–‡ä»¶æˆ–ç½‘ç»œå¥—æ¥å­—è¯»å–çš„æ•°æ®ã€‚&lt;font color=&#39;red&#39;&gt;å½“è¯¥ç®¡é“ä»å¦ä¸€ç«¯çªç„¶å…³é—­æ—¶ï¼Œä¼šå‘ç”Ÿæ•°æ®çªç„¶ä¸­æ–­&lt;/font&gt;ï¼Œå³æ˜¯ brokenï¼Œå¯¹äº socket æ¥è¯´ï¼Œå¯èƒ½æ˜¯ç½‘ç»œè¢«æ‹”å‡ºæˆ–å¦ä¸€ç«¯çš„è¿›ç¨‹å´©æºƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¦‚ä½•è§£å†³&lt;/strong&gt;ï¼šå½“è¯¥å¼‚å¸¸äº§ç”Ÿçš„æ—¶å€™ï¼Œ&lt;font color=&#39;red&#39;&gt;å¯¹äºæœåŠ¡ç«¯æ¥è¯´ï¼Œå¹¶æ²¡æœ‰å¤šå°‘å½±å“&lt;/font&gt;ã€‚å› ä¸ºå¯èƒ½æ˜¯æŸä¸ªå®¢æˆ·ç«¯çªç„¶ä¸­æ­¢äº†è¿›ç¨‹å¯¼è‡´äº†è¯¥é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ€»ç»“&lt;/strong&gt;ï¼šè¿™ä¸ªå¼‚å¸¸æ˜¯&lt;font color=&#39;red&#39;&gt;å®¢æˆ·ç«¯è¯»å–è¶…æ—¶&lt;/font&gt;å…³é—­äº†è¿æ¥ï¼Œè¿™æ—¶å€™æœåŠ¡å™¨ç«¯å†å‘å®¢æˆ·ç«¯å·²ç»æ–­å¼€çš„è¿æ¥å†™æ•°æ®æ—¶å°±å‘ç”Ÿäº† broken pipe å¼‚å¸¸ï¼&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808113740061.png&#34; alt=&#34;image-20230808113740061&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é’ˆå¯¹æœ¬æ¬¡æ¡ˆä¾‹ï¼Œåˆ†æè°æ˜¯ masterï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;6381 è¢«é€‰ä¸ºæ–° masterï¼Œä¸Šä½æˆåŠŸ&lt;/li&gt;
&lt;li&gt;ä»¥å‰çš„ 6379 ä» master é™çº§å˜æˆäº† slave&lt;/li&gt;
&lt;li&gt;6380 è¿˜æ˜¯ slaveï¼Œåªä¸è¿‡æ¢äº†ä¸ªæ–°è€å¤§ 6381 (6379 å˜ 6381)ï¼Œ6380 è¿˜æ˜¯ slave&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;å¯¹æ¯”æ–°è€masterçš„é…ç½®æ–‡ä»¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¯¹æ¯”æ–°è€masterçš„é…ç½®æ–‡ä»¶&#34;&gt;#&lt;/a&gt; å¯¹æ¯”æ–°è€ master çš„é…ç½®æ–‡ä»¶&lt;/h4&gt;
&lt;p&gt;æ—§ master  &lt;code&gt;redis6379.conf&lt;/code&gt;  ä¸­ä¼šè‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹å†…å®¹ï¼Œè®© 6379 å»åš 6381 çš„ slaveï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808115231877.png&#34; alt=&#34;image-20230808115231877&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ–° master  &lt;code&gt;redis6381.conf&lt;/code&gt;  ä¸­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è‡ªåŠ¨åˆ æ‰ &lt;code&gt;replicaof&lt;/code&gt;  å‚æ•°çš„é…ç½®&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹å†…å®¹ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»“è®ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;conf æ–‡ä»¶çš„å†…å®¹ä¼šè¢« sentinel åŠ¨æ€æ›´æ”¹&lt;/li&gt;
&lt;li&gt;Master-Slave åˆ‡æ¢åï¼Œmaster_redis.confã€slave_redis.conf å’Œ sentinel.conf çš„å†…å®¹éƒ½ä¼šå‘ç”Ÿæ”¹å˜ï¼Œå³&lt;font color=&#39;red&#39;&gt;master_redis.conf ä¸­ä¼šå¤šä¸€è¡Œ slaveof çš„é…ç½®&lt;/font&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;sentinel.conf çš„ç›‘æ§ç›®æ ‡ä¼šéšä¹‹è°ƒæ¢&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å…¶ä»–å¤‡æ³¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å…¶ä»–å¤‡æ³¨&#34;&gt;#&lt;/a&gt; å…¶ä»–å¤‡æ³¨&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ç”Ÿäº§éƒ½æ˜¯ä¸åŒæœºæˆ¿ä¸åŒæœåŠ¡å™¨ï¼Œ&lt;strong&gt;å¾ˆå°‘å‡ºç°å“¨å…µå…¨æŒ‚æ‰çš„æƒ…å†µ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯ä»¥åŒæ—¶ç›‘æ§å¤šä¸ª master&lt;/strong&gt;ï¼Œä¸€è¡Œä¸€ä¸ª&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å“¨å…µè¿è¡Œæµç¨‹-é€‰ä¸¾åŸç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å“¨å…µè¿è¡Œæµç¨‹-é€‰ä¸¾åŸç†&#34;&gt;#&lt;/a&gt; &lt;mark&gt;å“¨å…µè¿è¡Œæµç¨‹ã€é€‰ä¸¾åŸç†&lt;/mark&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;é¢è¯•é‡ç‚¹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å½“ä¸€ä¸ªä¸»ä»é…ç½®ä¸­çš„ master å¤±æ•ˆä¹‹åï¼Œsentinel å¯ä»¥ä» slave ä¸­é€‰ä¸¾å‡ºä¸€ä¸ªæ–°çš„ masterï¼Œç”¨äºæ¥æ›¿åŸ master çš„å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;ä¸»ä»é…ç½®ä¸­çš„&lt;font color=&#39;red&#39;&gt;å…¶ä»– redis æœåŠ¡å™¨è‡ªåŠ¨æŒ‡å‘æ–°çš„ master åŒæ­¥æ•°æ®&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬&lt;font color=&#39;red&#39;&gt;å»ºè®® sentinel é‡‡å–å¥‡æ•°å°&lt;/font&gt;ï¼Œä¸€æ˜¯é˜²æ­¢æŸä¸€å° sentinel æ— æ³•è¿æ¥åˆ° master å¯¼è‡´è¯¯åˆ‡æ¢ï¼ŒäºŒæ˜¯åˆ©äºæŠ•ç¥¨é€‰ä¸¾ã€‚&lt;/p&gt;
&lt;p&gt;æ•…éšœåˆ‡æ¢çš„æµç¨‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;3 ä¸ª sentinel ç›‘æ§ä¸€ master äºŒ slaveï¼Œæ­£å¸¸è¿è¡Œä¸­&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808161905591.png&#34; alt=&#34;image-20230808161905591&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;SDown ä¸»è§‚ä¸‹çº¿ï¼ˆSubjectively Downï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šæŒ‡çš„æ˜¯&lt;font color=&#39;red&#39;&gt;å•ä¸ª Sentinel å®ä¾‹&lt;/font&gt;å¯¹ master æœåŠ¡å™¨åšå‡ºçš„ä¸‹çº¿åˆ¤æ–­ï¼ˆæœ‰å¯èƒ½æ˜¯æ¥æ”¶ä¸åˆ°è®¢é˜…ï¼Œä¹‹é—´çš„ç½‘ç»œä¸é€šç­‰ç­‰åŸå› ï¼‰ã€‚å¦‚æœ master æœåŠ¡å™¨åœ¨ [ &lt;code&gt;sentinel down-after-milliseconds&lt;/code&gt; ] ç»™å®šçš„æ¯«ç§’æ•°ä¹‹å†…æ²¡æœ‰å›åº” PING å‘½ä»¤æˆ–è€…è¿”å›ä¸€ä¸ªé”™è¯¯æ¶ˆæ¯ï¼Œé‚£ä¹ˆè¿™ä¸ª Sentinel ä¼šä¸»è§‚çš„ (&lt;font color=&#39;red&#39;&gt;å•æ–¹é¢çš„&lt;/font&gt;) è®¤ä¸ºè¿™ä¸ª master ä¸å¯ä»¥ç”¨äº†ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;sentinel é…ç½®æ–‡ä»¶ä¸­çš„ &lt;code&gt;sentinel down-after-milliseconds &amp;lt;masterName&amp;gt; &amp;lt;timeout&amp;gt;&lt;/code&gt;  è®¾ç½®äº†åˆ¤æ–­ä¸»è§‚ä¸‹çº¿çš„æ—¶é—´é•¿åº¦ï¼Œè¡¨ç¤º master è¢«å½“å‰ sentinel å®ä¾‹è®¤å®šä¸ºå¤±æ•ˆçš„é—´éš”æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808162539926.png&#34; alt=&#34;image-20230808162539926&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ODown å®¢è§‚ä¸‹çº¿ï¼ˆObjectively Downï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šéœ€è¦ä¸€å®šæ•°é‡çš„ sentinelï¼Œ&lt;font color=&#39;red&#39;&gt;å¤šä¸ªå“¨å…µè¾¾æˆä¸€è‡´æ„è§&lt;/font&gt;æ‰èƒ½è®¤ä¸ºä¸€ä¸ª master å®¢è§‚ä¸Šå·²ç»å®•æ‰ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808162827271.png&#34; alt=&#34;image-20230808162827271&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;master-name&lt;/code&gt;  æ˜¯å¯¹æŸä¸ª master+slave ç»„åˆçš„ä¸€ä¸ªåŒºåˆ†æ ‡è¯† (ä¸€å¥— sentinel å¯ä»¥ç›‘å¬å¤šç»„ master+slave è¿™æ ·çš„ç»„åˆ)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;quorum&lt;/code&gt;  è¿™ä¸ªå‚æ•°æ˜¯è¿›è¡Œå®¢è§‚ä¸‹çº¿çš„ä¸€ä¸ªä¾æ®&lt;/strong&gt;ï¼Œå³æ³•å®šäººæ•° / æ³•å®šç¥¨æ•°ã€‚æ„æ€æ˜¯è‡³å°‘æœ‰ quorum ä¸ª sentinel è®¤ä¸ºè¿™ä¸ª master æœ‰æ•…éšœæ‰ä¼šå¯¹è¿™ä¸ª master è¿›è¡Œä¸‹çº¿ä»¥åŠæ•…éšœè½¬ç§»ã€‚å› ä¸ºæœ‰çš„æ—¶å€™ï¼ŒæŸä¸ª sentinel èŠ‚ç‚¹å¯èƒ½å› ä¸ºè‡ªèº«ç½‘ç»œåŸå› å¯¼è‡´æ— æ³•è¿æ¥ masterï¼Œè€Œæ­¤æ—¶ master å¹¶æ²¡æœ‰å‡ºç°æ•…éšœï¼Œæ‰€ä»¥è¿™å°±éœ€è¦å¤šä¸ª sentinel éƒ½ä¸€è‡´è®¤ä¸ºè¯¥ master æœ‰é—®é¢˜ï¼Œæ‰å¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œï¼Œè¿™å°±ä¿è¯äº†å…¬å¹³æ€§å’Œé«˜å¯ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä»å“¨å…µä¸­é€‰å‡º&lt;strong&gt;å…µç‹&lt;/strong&gt;ï¼šå½“ master è¢«åˆ¤æ–­ ODown ä»¥åï¼Œå„ä¸ª sentinel èŠ‚ç‚¹ä¼šè¿›è¡Œåå•†ï¼Œå…ˆé€šè¿‡&lt;font color=&#39;orange&#39;&gt;Raft ç®—æ³•&lt;/font&gt;é€‰ä¸¾å‡ºä¸€ä¸ªå…µç‹ï¼Œ&lt;font color=&#39;red&#39;&gt;ç”±å®ƒè¿›è¡Œ failover (æ•…éšœè¿ç§»)&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç›‘è§†è¯¥ä¸»èŠ‚ç‚¹çš„æ‰€æœ‰å“¨å…µéƒ½æœ‰å¯èƒ½è¢«é€‰ä¸ºé¢†å¯¼è€…ï¼Œé€‰ä¸¾ä½¿ç”¨çš„ç®—æ³•æ˜¯ Raft ç®—æ³•ï¼Œå…¶åŸºæœ¬æ€è·¯æ˜¯ **&lt;font color=&#39;red&#39;&gt;å…ˆåˆ°å…ˆå¾—&lt;/font&gt;**ï¼šå³åœ¨ä¸€è½®é€‰ä¸¾ä¸­ï¼Œå“¨å…µ A å‘ B å‘é€æˆä¸ºé¢†å¯¼è€…çš„ç”³è¯·ï¼Œå¦‚æœ B æ²¡æœ‰åŒæ„è¿‡å…¶ä»–å“¨å…µï¼Œåˆ™ä¼šåŒæ„ A æˆä¸ºé¢†å¯¼è€…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808164314705.png&#34; alt=&#34;image-20230808164314705&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä»ä¸‰ä¸ª sentinel å®ä¾‹çš„ log æ–‡ä»¶ä¸­å¯ä»¥çœ‹è§å…µç‹çš„è¯ç”Ÿè¿‡ç¨‹ä»¥åŠå…µç‹æ‰§è¡Œæ•…éšœè¿ç§»çš„è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808163922904.png&#34; alt=&#34;image-20230808163922904&#34; /&gt;&lt;/p&gt;
&lt;center&gt;sentinel26379.log&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808163958440.png&#34; alt=&#34;image-20230808163958440&#34; /&gt;&lt;/p&gt;
&lt;center&gt;&lt;font color=&#39;red&#39;&gt;sentinel26380.log&lt;/font&gt;&lt;/font&gt;&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808164037410.png&#34; alt=&#34;image-20230808164037410&#34; /&gt;&lt;/p&gt;
&lt;center&gt;sentinel26381.log&lt;/center&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;orange&#39;&gt;å…µç‹å¼€å§‹æ•…éšœåˆ‡æ¢ï¼Œé€‰ä¸¾æ–°çš„ master&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ–°ä¸»ç™»åŸº&lt;/strong&gt;ï¼š**&lt;font color=&#39;orange&#39;&gt;æ–° master é€‰ä¸¾ç®—æ³•&lt;/font&gt;** å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;ä¼˜å…ˆçº§é«˜&lt;/font&gt;ï¼šæ‰€æœ‰ slave ä¸­ï¼Œæ ¹æ® redis.conf é…ç½®æ–‡ä»¶ä¸­çš„ä¼˜å…ˆçº§ &lt;code&gt;slave-priority&lt;/code&gt;  æˆ–è€… &lt;code&gt;replica-priority&lt;/code&gt; ï¼Œé€‰æ‹©ä¼˜å…ˆçº§æœ€é«˜çš„ slave ä½œä¸ºæ–° masterã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808170206385.png&#34; alt=&#34;image-20230808170206385&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;å¤åˆ¶åç§»å¤§&lt;/font&gt;ï¼šæ‰€æœ‰ slave ä¸­ï¼Œæ ¹æ®å¤åˆ¶åç§»ä½ç½® &lt;code&gt;offset&lt;/code&gt; ï¼Œè¯¥å€¼æœ€å¤§çš„ slave ä½œä¸ºæ–° masterã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;Run ID å°&lt;/font&gt;ï¼šæ‰€æœ‰ slave ä¸­ï¼Œé€‰æ‹© Run ID æœ€å°çš„ slave ä½œä¸ºæ–° masterï¼Œæ˜¯æŒ‰ç…§å­—å…¸é¡ºåºï¼ŒASCII ç ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808165640759.png&#34; alt=&#34;image-20230808165640759&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¾¤è‡£ä¿¯é¦–&lt;/strong&gt;ï¼šä¸€æœå¤©å­ä¸€æœè‡£ï¼Œæ¢ä¸ªç å¤´é‡æ–°æ‹œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Sentinel leader ä¼šå¯¹é€‰ä¸¾å‡ºçš„ slave æ‰§è¡Œ &lt;code&gt;SLAVEOF NO ONE&lt;/code&gt;  å‘½ä»¤ï¼Œå°†å…¶ææ‹”ä¸ºæ–° master&lt;/li&gt;
&lt;li&gt;Sentinel leader å‘å…¶ä½™ slave å‘é€ &lt;code&gt;SLAVEOF&lt;/code&gt;  å‘½ä»¤ï¼Œä½¿å®ƒä»¬æˆä¸ºæ–° master çš„ slave&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ—§ä¸»æ‹œæœ&lt;/strong&gt;ï¼šè€ master å›æ¥ä¹Ÿè®¤æ€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è€ master æˆä¸ºæ–° master çš„ slave&lt;/li&gt;
&lt;li&gt;Sentinel leader ä¼šè®©è€ master é™çº§ä¸º slaveï¼Œå¹¶æ¢å¤æ­£å¸¸å·¥ä½œ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ€»ç»“ï¼šä¸Šè¿° failoverï¼ˆæ•…éšœè¿ç§»ï¼‰å‡ç”± sentinel ç‹¬è‡ªå®Œæˆï¼Œæ— éœ€äººå·¥å¹²é¢„ï¼Œå› æ­¤ç§°ä¹‹ä¸º&lt;strong&gt;æ— äººå€¼å®ˆå®‰è£…&lt;/strong&gt;ï¼&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å“¨å…µä½¿ç”¨å»ºè®®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å“¨å…µä½¿ç”¨å»ºè®®&#34;&gt;#&lt;/a&gt; å“¨å…µä½¿ç”¨å»ºè®®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å“¨å…µçš„æ•°é‡åº”ä¸ºå¤šä¸ªä¸”å¥‡æ•°&lt;/strong&gt;ã€‚å“¨å…µæœ¬èº«åº”è¯¥é›†ç¾¤ï¼Œä¿è¯é«˜å¯ç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å„ä¸ªå“¨å…µçš„é…ç½®åº”ä¸€è‡´&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœå“¨å…µéƒ¨ç½²åœ¨ Docker ç­‰å®¹å™¨é‡Œé¢ï¼Œå°¤å…¶è¦&lt;font color=&#39;red&#39;&gt;æ³¨æ„ç«¯å£çš„æ­£ç¡®æ˜ å°„&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ä¸»ä»å¤åˆ¶ + å“¨å…µ&lt;/code&gt; æœºåˆ¶&lt;strong&gt;å¹¶ä¸èƒ½ç¡®ä¿æ•°æ®é›¶ä¸¢å¤±&lt;/strong&gt;ã€‚å› ä¸ºä» master æŒ‚æ‰åˆ°é€‰ä¸¾å‡ºæ–° master çš„è¿™æ®µæ—¶é—´å†…ï¼Œæ— æ³•æ‰§è¡Œå†™å‘½ä»¤ï¼&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¼•å‡º&lt;strong&gt;é›†ç¾¤&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;10-redisé›†ç¾¤cluster&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#10-redisé›†ç¾¤cluster&#34;&gt;#&lt;/a&gt; &lt;mark&gt;10ã€Redis é›†ç¾¤ï¼ˆclusterï¼‰&lt;/mark&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;æˆ‘å°¼ç›åˆç™½é›ªï¼Œ&lt;strong&gt;é›†ç¾¤æ‰æ˜¯ yydsï¼&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;ç®€ä»‹-9&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®€ä»‹-9&#34;&gt;#&lt;/a&gt; ç®€ä»‹&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç”±äºæ•°æ®é‡è¿‡å¤§&lt;/font&gt;&lt;/strong&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;å•ä¸ª Master å¤åˆ¶é›†&lt;/font&gt;éš¾ä»¥æ‰¿æ‹…ï¼Œå› æ­¤éœ€è¦å¯¹å¤šä¸ªå¤åˆ¶é›†è¿›è¡Œé›†ç¾¤ï¼Œå½¢æˆ&lt;font color=&#39;red&#39;&gt;æ°´å¹³æ‰©å±•&lt;/font&gt;æ¯ä¸ªå¤åˆ¶é›†&lt;font color=&#39;red&#39;&gt;åªè´Ÿè´£å­˜å‚¨æ•´ä¸ªæ•°æ®é›†çš„ä¸€éƒ¨åˆ†&lt;/font&gt;ï¼Œè¿™å°±æ˜¯ Redis çš„é›†ç¾¤ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808220609079.png&#34; alt=&#34;image-20230808220609079&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ€»ä¹‹ï¼ŒRedis é›†ç¾¤æ˜¯&lt;font color=&#39;red&#39;&gt;ä¸€ä¸ªæä¾›åœ¨å¤šä¸ª Redis èŠ‚ç‚¹é—´å…±äº«æ•°æ®çš„ç¨‹åºé›†&lt;/font&gt;ã€‚å…¶åŠŸèƒ½æ€»ç»“å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ”¯æŒå¤šä¸ª Master&lt;/strong&gt;ï¼Œæ¯ä¸ª Master åˆå¯ä»¥æŒ‚è½½å¤šä¸ª Slaveã€‚
&lt;ul&gt;
&lt;li&gt;è¯»å†™åˆ†ç¦»&lt;/li&gt;
&lt;li&gt;æ”¯æŒæ•°æ®çš„é«˜å¯ç”¨&lt;/li&gt;
&lt;li&gt;æ”¯æŒæµ·é‡æ•°æ®çš„è¯»å†™å­˜å‚¨æ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è‡ªå¸¦ failoverï¼ˆæ•…éšœè½¬ç§»ï¼‰æœºåˆ¶&lt;/strong&gt;ï¼Œå†…ç½®äº†é«˜å¯ç”¨çš„æ”¯æŒï¼Œ&lt;font color=&#39;red&#39;&gt;æ— éœ€å†å»ä½¿ç”¨å“¨å…µåŠŸèƒ½&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®¢æˆ·ç«¯åªéœ€è¿æ¥é›†ç¾¤ä¸­çš„ä»»æ„ä¸€ä¸ªå¯ç”¨ Master èŠ‚ç‚¹å³å¯&lt;/strong&gt;ï¼Œä¸éœ€è¦è¿æ¥é›†ç¾¤ä¸­çš„æ‰€æœ‰ Master èŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ§½ä½ slot&lt;/strong&gt; è´Ÿè´£åˆ†é…åˆ°å„ä¸ªç‰©ç†æœåŠ¡èŠ‚ç‚¹ï¼Œç”±å¯¹åº”çš„é›†ç¾¤æ¥è´Ÿè´£&lt;strong&gt;ç»´æŠ¤ Redis èŠ‚ç‚¹ã€æ’æ§½ã€æ•°æ®ä¹‹é—´çš„å…³ç³»&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é›†ç¾¤ç®—æ³•-åˆ†ç‰‡-æ§½ä½slot&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é›†ç¾¤ç®—æ³•-åˆ†ç‰‡-æ§½ä½slot&#34;&gt;#&lt;/a&gt; é›†ç¾¤ç®—æ³•ã€åˆ†ç‰‡ã€æ§½ä½ slot&lt;/h3&gt;
&lt;h4 id=&#34;å®˜ç½‘ä»‹ç»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®˜ç½‘ä»‹ç»&#34;&gt;#&lt;/a&gt; å®˜ç½‘ä»‹ç»&lt;/h4&gt;
&lt;p&gt;Redis é›†ç¾¤çš„ key ç©ºé—´è¢«åˆ’åˆ†ä¸º&lt;strong&gt; 16384 ä¸ªæ’æ§½ slot&lt;/strong&gt;ï¼Œæœ‰æ•ˆåœ°è®¾ç½®äº† 16384 ä¸ª master èŠ‚ç‚¹çš„é›†ç¾¤å¤§å°ä¸Šé™ï¼ˆç„¶è€Œï¼Œ&lt;strong&gt;master èŠ‚ç‚¹çš„æœ€å¤§æ•°é‡å»ºè®®ä¸º 1000&lt;/strong&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ’æ§½ï¼Œä¹Ÿç§°å“ˆå¸Œæ§½&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é›†ç¾¤ä¸­çš„&lt;font color=&#39;red&#39;&gt;æ¯ä¸ª master èŠ‚ç‚¹å¤„ç† 16384 ä¸ªå“ˆå¸Œæ§½çš„å­é›†&lt;/font&gt;ã€‚å½“æ²¡æœ‰æ­£åœ¨è¿›è¡Œçš„é›†ç¾¤é‡æ–°é…ç½®æ—¶ï¼ˆå³å“ˆå¸Œæ§½ä»ä¸€ä¸ªèŠ‚ç‚¹ç§»åŠ¨åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ï¼‰ï¼Œé›†ç¾¤æ˜¯ç¨³å®šçš„ã€‚å½“é›†ç¾¤ç¨³å®šæ—¶ï¼Œå•ä¸ªå“ˆå¸Œæ§½å°†ç”±å•ä¸ªèŠ‚ç‚¹æä¾›æœåŠ¡ï¼ˆä½†æ˜¯ï¼ŒæœåŠ¡èŠ‚ç‚¹å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå‰¯æœ¬ï¼Œåœ¨ç½‘ç»œåˆ†è£‚æˆ–æ•…éšœçš„æƒ…å†µä¸‹ï¼Œè¿™äº›å‰¯æœ¬å°†æ›¿æ¢å®ƒï¼Œå¹¶ä¸”å¯ä»¥ç”¨äºæ‰©å±•è¯»å–è¿‡æ—¶æ•°æ®çš„è¯»å–æ“ä½œï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨äºå°† key æ˜ å°„åˆ°å“ˆå¸Œæ§½çš„åŸºæœ¬ç®—æ³•å¦‚ä¸‹ï¼ˆè¯·é˜…è¯»ä¸‹ä¸€æ®µä»¥äº†è§£æ­¤è§„åˆ™çš„å“ˆå¸Œæ ‡è®°å¼‚å¸¸ï¼‰ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;HASH_SLOT = CRC16(key) mod 16384
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;æ’æ§½&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ’æ§½&#34;&gt;#&lt;/a&gt; æ’æ§½&lt;/h4&gt;
&lt;p&gt;Redis é›†ç¾¤æ²¡æœ‰ä½¿ç”¨ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•ï¼Œè€Œæ˜¯å¼•å…¥äº† &lt;code&gt;hashæ§½&lt;/code&gt; çš„æ¦‚å¿µã€‚&lt;br /&gt;
Redis é›†ç¾¤æœ‰ 16384 ä¸ªå“ˆå¸Œæ§½ï¼Œ&lt;strong&gt;æ¯ä¸ª key é€šè¿‡ &lt;code&gt;CRC16&lt;/code&gt;  æ ¡éªŒåï¼Œå†å¯¹ 16384 å–æ¨¡æ¥å†³å®šæ”¾ç½®å“ªä¸ªæ§½&lt;/strong&gt;ã€‚é›†ç¾¤çš„&lt;strong&gt;æ¯ä¸ª Redis èŠ‚ç‚¹è´Ÿè´£ä¸€éƒ¨åˆ† hash æ§½&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚å½“å‰é›†ç¾¤æœ‰ 3 ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809002715513.png&#34; alt=&#34;image-20230809002715513&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;æ•°æ®åˆ†ç‰‡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®åˆ†ç‰‡&#34;&gt;#&lt;/a&gt; æ•°æ®åˆ†ç‰‡&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;æ•°æ®åˆ†ç‰‡&lt;/code&gt; ï¼šRedis é›†ç¾¤ä¸­ä¼š&lt;font color=&#39;red&#39;&gt;å°†å­˜å‚¨çš„æ•°æ®åˆ†æ•£åˆ°å¤šå° redis æœºå™¨ä¸Š&lt;/font&gt;ã€‚æ¯ä¸ª Redis å®ä¾‹éƒ½è¢«è®¤ä¸ºæ˜¯æ•´ä¸ªæ•°æ®çš„ä¸€ä¸ªåˆ†ç‰‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;å¦‚ä½•æ‰¾åˆ°ç»™å®š key çš„åˆ†ç‰‡ï¼Ÿ&lt;/font&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯¹ key è¿›è¡Œ&lt;font color=&#39;red&#39;&gt;CRC16(key)&lt;/font&gt;ç®—æ³•å¤„ç†ï¼Œå¹¶é€šè¿‡å¯¹æ€»åˆ†ç‰‡æ•°é‡&lt;font color=&#39;red&#39;&gt;å–æ¨¡&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ç„¶åï¼Œä½¿ç”¨&lt;font color=&#39;red&#39;&gt;&lt;strong&gt;ç¡®å®šæ€§å“ˆå¸Œå‡½æ•°&lt;/strong&gt;&lt;/font&gt;ï¼Œè¿™æ„å‘³ç€ **&lt;font color=&#39;red&#39;&gt;ç»™å®šçš„ key å°†å§‹ç»ˆæ˜ å°„åˆ°åŒä¸€ä¸ªåˆ†ç‰‡&lt;/font&gt;**ï¼Œæˆ‘ä»¬å¯ä»¥æ¨æ–­å°†æ¥è¯»å–ç‰¹å®š key çš„ä½ç½®ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;åˆ†ç‰‡æ’æ§½çš„ä¼˜ç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†ç‰‡æ’æ§½çš„ä¼˜ç‚¹&#34;&gt;#&lt;/a&gt; åˆ†ç‰‡ + æ’æ§½çš„ä¼˜ç‚¹&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ–¹ä¾¿ Redis èŠ‚ç‚¹çš„æ‰©å®¹å’Œç¼©å®¹&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æ·»åŠ  Redis èŠ‚ç‚¹ï¼šæ¯”å¦‚æˆ‘æƒ³æ–°æ·»åŠ ä¸ªèŠ‚ç‚¹ Dï¼Œæˆ‘éœ€è¦ä»èŠ‚ç‚¹ Aï¼ŒBï¼ŒC ä¸­ç§»åŠ¨éƒ¨åˆ†æ§½åˆ° D ä¸Šã€‚&lt;/li&gt;
&lt;li&gt;åˆ é™¤ Redis èŠ‚ç‚¹ï¼šå¦‚æœæˆ‘æƒ³ç§»é™¤èŠ‚ç‚¹ Aï¼Œéœ€è¦å°† A ä¸­çš„æ§½ç§»åˆ° B å’Œ C èŠ‚ç‚¹ä¸Šï¼Œç„¶åå°†æ²¡æœ‰ä»»ä½•æ§½çš„ A èŠ‚ç‚¹ä»é›†ç¾¤ä¸­ç§»é™¤å³å¯ã€‚&lt;/li&gt;
&lt;li&gt;ç”±äºä»ä¸€ä¸ªèŠ‚ç‚¹å°†å“ˆå¸Œæ§½ç§»åŠ¨åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹å¹¶ä¸ä¼šåœæ­¢æœåŠ¡ï¼Œæ‰€ä»¥&lt;strong&gt;æ— è®ºæ·»åŠ åˆ é™¤èŠ‚ç‚¹ï¼Œæˆ–è€…æ”¹å˜æŸä¸ªèŠ‚ç‚¹çš„å“ˆå¸Œæ§½çš„æ•°é‡éƒ½&lt;font color=&#39;red&#39;&gt;ä¸ä¼šé€ æˆé›†ç¾¤ä¸å¯ç”¨çš„çŠ¶æ€&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ–¹ä¾¿æ•°æ®çš„åˆ†æ´¾å’ŒæŸ¥æ‰¾&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ§½ä½æ˜ å°„çš„3ç§æ–¹æ¡ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ§½ä½æ˜ å°„çš„3ç§æ–¹æ¡ˆ&#34;&gt;#&lt;/a&gt; æ§½ä½æ˜ å°„çš„ 3 ç§æ–¹æ¡ˆ&lt;/h4&gt;
&lt;h5 id=&#34;å“ˆå¸Œå–ä½™åˆ†åŒº&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å“ˆå¸Œå–ä½™åˆ†åŒº&#34;&gt;#&lt;/a&gt; å“ˆå¸Œå–ä½™åˆ†åŒº&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;å°å‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809004525207.png&#34; alt=&#34;image-20230809004525207&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å‡è®¾æœ‰ N å°æœºå™¨æ„æˆä¸€ä¸ªé›†ç¾¤ï¼Œç”¨æˆ·æ¯æ¬¡å¯¹ key çš„è¯»å†™æ“ä½œéƒ½æ˜¯æ ¹æ®å…¬å¼ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;hash(key) % N
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è®¡ç®—å‡ºå“ˆå¸Œå€¼ï¼Œç”¨æ¥å†³å®šæ•°æ®æ˜ å°„åˆ°å“ªä¸€ä¸ªèŠ‚ç‚¹ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;ä¼˜ç‚¹&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç®€å•æœ‰æ•ˆã€‚åªéœ€è¦é¢„ä¼°å¥½æ•°æ®è§„æ¨¡ï¼Œè§„åˆ’å¥½èŠ‚ç‚¹ï¼Œå°±èƒ½ä¿è¯ä¸€æ®µæ—¶é—´çš„æ•°æ®æ”¯æ’‘ã€‚&lt;/li&gt;
&lt;li&gt;è´Ÿè½½å‡è¡¡ã€‚ä½¿ç”¨ Hash ç®—æ³•è®©å›ºå®šçš„ä¸€éƒ¨åˆ†è¯·æ±‚è½åˆ°åŒä¸€å°æœåŠ¡å™¨ä¸Šï¼Œè¿™æ ·&lt;font color=&#39;red&#39;&gt;æ¯å°æœåŠ¡å™¨å›ºå®šå¤„ç†ä¸€éƒ¨åˆ†è¯·æ±‚&lt;/font&gt;ï¼ˆå¹¶ç»´æŠ¤è¿™äº›è¯·æ±‚çš„ä¿¡æ¯ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;ç¼ºç‚¹&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Redis èŠ‚ç‚¹çš„æ‰©å®¹ / ç¼©å®¹éº»çƒ¦&lt;/strong&gt;ã€‚å¦‚æœéœ€è¦å¼¹æ€§æ‰©å®¹æˆ–æ•…éšœåœæœºï¼Œå¯¼è‡´èŠ‚ç‚¹æœ‰å˜åŠ¨ï¼Œæ˜ å°„å…³ç³»éœ€è¦é‡æ–°è¿›è¡Œè®¡ç®—ã€‚åŸæ¥çš„å–æ¨¡å…¬å¼å°±ä¼šå‘ç”Ÿå˜åŒ–ï¼š &lt;code&gt;Hash(key)/3&lt;/code&gt;  ä¼šå˜æˆ &lt;code&gt;Hash(key) /?&lt;/code&gt; ã€‚æ­¤æ—¶åœ°å€ç»è¿‡å–ä½™è¿ç®—çš„ç»“æœå°†å‘ç”Ÿå¾ˆå¤§å˜åŒ–ï¼Œ&lt;font color=&#39;red&#39;&gt;æ ¹æ®å…¬å¼è·å–çš„æœåŠ¡å™¨ä¹Ÿä¼šå˜å¾—ä¸å¯æ§&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æŸä¸ª Redis æœºå™¨å®•æœºäº†ï¼Œç”±äºå°æ•°æ•°é‡å˜åŒ–ï¼Œä¼šå¯¼è‡´ hash å–ä½™å…¨éƒ¨æ•°æ®é‡æ–°æ´—ç‰Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•åˆ†åŒº&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•åˆ†åŒº&#34;&gt;#&lt;/a&gt; ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•åˆ†åŒº&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸€è‡´æ€§ï¼šæ„å‘³ç€å–ä½™çš„åˆ†æ¯æ˜¯å›ºå®šçš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;è®¾è®¡ç›®æ ‡&lt;/font&gt;ï¼šä¸ºäº†è§£å†³&lt;font color=&#39;red&#39;&gt;åˆ†å¸ƒå¼ç¼“å­˜æ•°æ®å˜åŠ¨å’Œæ˜ å°„é—®é¢˜&lt;/font&gt;ï¼ŒæŸä¸ªæœºå™¨å®•æœºäº†ï¼Œåˆ†æ¯æ•°é‡æ”¹å˜äº†ï¼Œè‡ªç„¶å–ä½™æ•°ä¸ OK äº†ã€‚ç›®çš„æ˜¯&lt;font color=&#39;red&#39;&gt;å½“ Redis æœåŠ¡å™¨ä¸ªæ•°å‘ç”Ÿå˜åŠ¨æ—¶ï¼Œå°½é‡å‡å°‘å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨çš„æ˜ å°„å…³ç³»çš„å½±å“&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;gree&#39;&gt;3 å¤§æ­¥éª¤&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ„å»ºä¸€è‡´æ€§å“ˆå¸Œç¯&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•å¿…ç„¶æœ‰ä¸ª hash å‡½æ•°ç”¨äºäº§ç”Ÿ hash å€¼ï¼Œè¿™ä¸ªç®—æ³•çš„æ‰€æœ‰å¯èƒ½å“ˆå¸Œå€¼ä¼šæ„æˆä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;å…¨é‡é›†&lt;/font&gt;ï¼Œè¿™ä¸ªé›†åˆå¯ä»¥æˆä¸ºä¸€ä¸ª **&lt;font color=&#39;red&#39;&gt;hash ç©ºé—´ [0,2&lt;sup&gt;32&lt;/sup&gt;-1]&lt;/font&gt;&lt;strong&gt;ï¼Œè¿™ä¸ªæ˜¯ä¸€ä¸ªçº¿æ€§ç©ºé—´ï¼Œä½†æ˜¯åœ¨ç®—æ³•ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡é€‚å½“çš„é€»è¾‘æ§åˆ¶å°†å®ƒ&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;é¦–å°¾ç›¸è¿ (0 = 2&lt;sup&gt;32&lt;/sup&gt;)&lt;/font&gt;**, è¿™æ ·è®©å®ƒå½¢æˆäº†ä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;é€»è¾‘ä¸Šçš„ç¯å½¢ç©ºé—´&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒä¹Ÿæ˜¯æŒ‰ç…§ä½¿ç”¨å–æ¨¡çš„æ–¹æ³•ï¼Œ&lt;font color=&#39;red&#39;&gt;å‰é¢ä»‹ç»çš„æ˜¯å¯¹ Redis èŠ‚ç‚¹çš„æ•°é‡è¿›è¡Œå–æ¨¡&lt;/font&gt;ã€‚è€Œ **&lt;font color=&#39;orange&#39;&gt;ä¸€è‡´æ€§ Hash ç®—æ³•æ˜¯å¯¹ 2&lt;sup&gt;32&lt;/sup&gt; å–æ¨¡&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•æ¥è¯´ï¼Œä¸€è‡´æ€§ Hash ç®—æ³•å°†æ•´ä¸ªå“ˆå¸Œå€¼ç©ºé—´ç»„ç»‡æˆä¸€ä¸ªè™šæ‹Ÿçš„åœ†ç¯ï¼Œå¦‚å‡è®¾æŸå“ˆå¸Œå‡½æ•°çš„å€¼ç©ºé—´ä¸º [0,2&lt;sup&gt;32&lt;/sup&gt;-1]ï¼ˆå³å“ˆå¸Œå€¼æ˜¯ä¸€ä¸ª 32 ä½æ— ç¬¦å·æ•´å½¢ï¼‰ï¼Œæ•´ä¸ªå“ˆå¸Œç¯å¦‚ä¸‹å›¾ï¼šæ•´ä¸ªç©ºé—´æŒ‰é¡ºæ—¶é’ˆæ–¹å‘ç»„ç»‡ï¼Œåœ†ç¯çš„æ­£ä¸Šæ–¹çš„ç‚¹ä»£è¡¨ 0ï¼Œ0 ç‚¹å³ä¾§çš„ç¬¬ä¸€ä¸ªç‚¹ä»£è¡¨ 1ï¼Œä»¥æ­¤ç±»æ¨ï¼Œ2ã€3ã€4ã€â€¦â€¦ ç›´åˆ° 2&lt;sup&gt;32&lt;/sup&gt;-1ï¼Œä¹Ÿå°±æ˜¯è¯´&lt;font color=&#39;red&#39;&gt;0 ç‚¹å·¦ä¾§çš„ç¬¬ä¸€ä¸ªç‚¹ä»£è¡¨ 2&lt;sup&gt;32&lt;/sup&gt;-1&lt;/font&gt;ï¼Œ 0 å’Œ 2&lt;sup&gt;32&lt;/sup&gt;-1 åœ¨é›¶ç‚¹ä¸­æ–¹å‘é‡åˆï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ª **&lt;font color=&#39;red&#39;&gt;ç”± 2&lt;sup&gt;32&lt;/sup&gt; ä¸ªç‚¹ç»„æˆ&lt;/font&gt;** çš„åœ†ç¯ç§°ä¸º &lt;code&gt;Hashç¯&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809010605612.png&#34; alt=&#34;image-20230809010605612&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Redis æœåŠ¡å™¨èŠ‚ç‚¹ IP æ˜ å°„&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å°†é›†ç¾¤ä¸­å„ä¸ª Redis èŠ‚ç‚¹çš„ IP æ˜ å°„åˆ°ç¯ä¸Šçš„æŸä¸€ä¸ªä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;å°†å„ä¸ª Redis æœåŠ¡å™¨çš„ IP æˆ–ä¸»æœºåä½œä¸ºå…³é”®å­—ä½¿ç”¨ Hash è¿›è¡Œå“ˆå¸Œï¼Œè¿™æ ·æ¯å°æœºå™¨å°±èƒ½ç¡®å®šå…¶åœ¨å“ˆå¸Œç¯ä¸Šçš„ä½ç½®ã€‚å‡å¦‚ 4 ä¸ª Redis èŠ‚ç‚¹ NodeAã€NodeBã€NodeCã€NodeDï¼Œç»è¿‡&lt;font color=&#39;red&#39;&gt;IP åœ°å€çš„å“ˆå¸Œå‡½æ•°è®¡ç®— hash (ip)&lt;/font&gt;ï¼Œä½¿ç”¨ IP åœ°å€å“ˆå¸Œååœ¨ç¯ç©ºé—´çš„ä½ç½®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809114247849.png&#34; alt=&#34;image-20230809114247849&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è½ key è§„åˆ™&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ä»¬éœ€è¦å­˜å‚¨ä¸€ä¸ªé”®å€¼å¯¹æ—¶ï¼Œ&lt;font color=&#39;red&#39;&gt;é¦–å…ˆè®¡ç®— key çš„ hash å€¼ï¼Œhash (key)&lt;/font&gt;ï¼Œç¡®å®šæ­¤æ•°æ®åœ¨ç¯ä¸Šçš„ä½ç½®ï¼Œä»æ­¤ä½ç½®æ²¿ç¯ **&lt;font color=&#39;red&#39;&gt;é¡ºæ—¶é’ˆ&lt;/font&gt;**â€œè¡Œèµ°â€ï¼Œ&lt;font color=&#39;red&#39;&gt;ç¬¬ä¸€å°é‡åˆ°çš„ Redis æœåŠ¡å™¨&lt;/font&gt;å°±æ˜¯å…¶åº”è¯¥å®šä½åˆ°çš„æœåŠ¡å™¨ï¼Œå¹¶å°†è¯¥é”®å€¼å¯¹å­˜å‚¨åœ¨è¯¥èŠ‚ç‚¹ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æˆ‘ä»¬æœ‰ Object Aã€Object Bã€Object Cã€Object D å››ä¸ªæ•°æ®å¯¹è±¡ï¼Œç»è¿‡å“ˆå¸Œè®¡ç®—åï¼Œåœ¨ç¯ç©ºé—´ä¸Šçš„ä½ç½®å¦‚ä¸‹ï¼šæ ¹æ®ä¸€è‡´æ€§ Hash ç®—æ³•ï¼ŒObject A ä¼šè¢«å®šä¸ºåˆ° Node A ä¸Šï¼ŒObject B è¢«å®šä¸ºåˆ° Node B ä¸Šï¼ŒObject C è¢«å®šä¸ºåˆ° Node C ä¸Šï¼ŒObject D è¢«å®šä¸ºåˆ° Node D ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809114625589.png&#34; alt=&#34;image-20230809114625589&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;ä¼˜ç‚¹&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å®¹é”™æ€§&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å‡è®¾ Node C å®•æœºï¼Œå¯ä»¥çœ‹åˆ°æ­¤æ—¶å¯¹è±¡ Aã€Bã€D ä¸ä¼šå—åˆ°å½±å“ã€‚ä¸€èˆ¬çš„ï¼Œåœ¨ä¸€è‡´æ€§ Hash ç®—æ³•ä¸­ï¼Œå¦‚æœä¸€å°æœåŠ¡å™¨ä¸å¯ç”¨ï¼Œåˆ™å—å½±å“çš„æ•°æ®ä»…ä»…æ˜¯æ­¤æœåŠ¡å™¨åˆ°å…¶ç¯ç©ºé—´ä¸­å‰ä¸€å°æœåŠ¡å™¨ï¼ˆå³æ²¿ç€é€†æ—¶é’ˆæ–¹å‘è¡Œèµ°é‡åˆ°çš„ç¬¬ä¸€å°æœåŠ¡å™¨ï¼‰ä¹‹é—´æ•°æ®ï¼Œå…¶å®ƒä¸ä¼šå—åˆ°å½±å“ã€‚&lt;font color=&#39;red&#39;&gt;ç®€å•è¯´ï¼Œå°±æ˜¯ C æŒ‚äº†ï¼Œå—åˆ°å½±å“çš„åªæ˜¯ Bã€C ä¹‹é—´çš„æ•°æ®ï¼Œä¸”è¿™äº›æ•°æ®ä¼šè½¬ç§»åˆ° D è¿›è¡Œå­˜å‚¨&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809115305990.png&#34; alt=&#34;image-20230809115305990&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ‰©å±•æ€§&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;éšç€æ•°æ®é‡çš„å¢åŠ ï¼Œéœ€è¦å¢åŠ ä¸€å°èŠ‚ç‚¹ NodeXï¼Œä½ç½®åœ¨ A å’Œ B ä¹‹é—´ï¼Œ&lt;font color=&#39;red&#39;&gt;é‚£å—åˆ°å½±å“çš„ä¹Ÿå°±æ˜¯ A åˆ° X ä¹‹é—´çš„æ•°æ®ï¼Œé‡æ–°æŠŠ A åˆ° X çš„æ•°æ®å½•å…¥åˆ° X ä¸Šå³å¯ï¼Œä¸ä¼šå¯¼è‡´ hash å–ä½™å…¨éƒ¨æ•°æ®é‡æ–°æ´—ç‰Œ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809120153493.png&#34; alt=&#34;image-20230809120153493&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;ç¼ºç‚¹&lt;/font&gt;ï¼š&lt;strong&gt;æ•°æ®å€¾æ–œ&lt;/strong&gt;é—®é¢˜&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨&lt;strong&gt; Redis æœåŠ¡èŠ‚ç‚¹å¤ªå°‘æ—¶&lt;/strong&gt;ï¼Œå®¹æ˜“å› ä¸º&lt;font color=&#39;red&#39;&gt;èŠ‚ç‚¹åˆ†å¸ƒä¸å‡åŒ€&lt;/font&gt;è€Œé€ æˆ&lt;strong&gt;æ•°æ®å€¾æ–œ&lt;/strong&gt;ï¼ˆè¢«ç¼“å­˜çš„æ•°æ®å¯¹è±¡å¤§éƒ¨åˆ†é›†ä¸­ç¼“å­˜åœ¨æŸä¸€å°æœåŠ¡å™¨ä¸Šï¼‰é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ç³»ç»Ÿä¸­åªæœ‰ä¸¤å°æœåŠ¡å™¨ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809120432504.png&#34; alt=&#34;image-20230809120432504&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;å°ç»“&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è®¾è®¡ç›®æ ‡ï¼šåœ¨ Redis èŠ‚ç‚¹çš„æ•°ç›®å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå°½å¯èƒ½åœ°å‡å°‘æ•°æ®çš„è¿ç§»&lt;/li&gt;
&lt;li&gt;è®¾è®¡æ€è·¯ï¼šå°†æ‰€æœ‰çš„ Redis èŠ‚ç‚¹æ’åˆ—åœ¨é¦–å°¾ç›¸æ¥çš„ Hash ç¯ä¸Šï¼Œæ¯ä¸ª key åœ¨è®¡ç®— Hash åä¼š&lt;font color=&#39;red&#39;&gt;é¡ºæ—¶é’ˆ&lt;/font&gt;æ‰¾åˆ°ä¸´è¿‘çš„ Redis èŠ‚ç‚¹å­˜æ”¾ã€‚è€Œå½“æœ‰ Redis èŠ‚ç‚¹åŠ å…¥æˆ–é€€å‡ºæ—¶ä»…å½±å“è¯¥èŠ‚ç‚¹åœ¨ Hash ç¯ä¸Š&lt;font color=&#39;red&#39;&gt;é¡ºæ—¶é’ˆç›¸é‚»çš„åç»­èŠ‚ç‚¹&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼šåŠ å…¥å’Œåˆ é™¤èŠ‚ç‚¹åªå½±å“å“ˆå¸Œç¯ä¸­é¡ºæ—¶é’ˆæ–¹å‘çš„ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¯¹å…¶ä»–èŠ‚ç‚¹æ— å½±å“ã€‚&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼šæ•°æ®çš„åˆ†å¸ƒå’ŒèŠ‚ç‚¹çš„ä½ç½®æœ‰å…³ï¼Œå› ä¸ºè¿™äº›èŠ‚ç‚¹ä¸æ˜¯å‡åŒ€çš„åˆ†å¸ƒåœ¨å“ˆå¸Œç¯ä¸Šçš„ï¼Œæ‰€ä»¥æ•°æ®åœ¨è¿›è¡Œå­˜å‚¨æ—¶è¾¾ä¸åˆ°å‡åŒ€åˆ†å¸ƒçš„æ•ˆæœã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å“ˆå¸Œæ§½åˆ†åŒº&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å“ˆå¸Œæ§½åˆ†åŒº&#34;&gt;#&lt;/a&gt; å“ˆå¸Œæ§½åˆ†åŒº (âˆš)&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;å¤§å‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;ä¸ºä»€ä¹ˆå‡ºç°&lt;/font&gt;ï¼šå› ä¸ºä¸€è‡´æ€§å“ˆå¸Œç®—æ³•å…·æœ‰æ•°æ®å€¾æ–œçš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;å“ˆå¸Œæ§½æ˜¯ä»€ä¹ˆ&lt;/font&gt;ï¼šå“ˆå¸Œæ§½å®è´¨æ˜¯&lt;font color=&#39;red&#39;&gt;ä¸€ä¸ªæ•°ç»„&lt;/font&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;å“ˆå¸Œæ§½ç©ºé—´ä¸º [0,2&lt;sup&gt;14&lt;/sup&gt;-1]&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;2&lt;sup&gt;14&lt;/sup&gt;=16384&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;èƒ½å¹²å˜›&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è§£å†³æ•°æ®åˆ†é…ä¸å‡åŒ€çš„é—®é¢˜&lt;/strong&gt;ï¼Œåœ¨æ•°æ®å’ŒèŠ‚ç‚¹ä¹‹é—´åˆåŠ å…¥äº†ä¸€å±‚ï¼ŒæŠŠè¿™å±‚ç§°ä¸º &lt;code&gt;å“ˆå¸Œæ§½ï¼ˆslotï¼‰&lt;/code&gt; ï¼Œç”¨äº&lt;font color=&#39;red&#39;&gt;ç®¡ç†æ•°æ®å’ŒèŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»&lt;/font&gt;ï¼Œç°åœ¨å°±ç›¸å½“äºèŠ‚ç‚¹ä¸Šæ”¾çš„æ˜¯æ§½ï¼Œæ§½é‡Œæ”¾çš„æ˜¯æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809130342790.png&#34; alt=&#34;image-20230809130342790&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ§½è§£å†³çš„æ˜¯ç²’åº¦é—®é¢˜ï¼Œç›¸å½“äº&lt;font color=&#39;red&#39;&gt;æŠŠç²’åº¦å˜å¤§äº†ï¼Œè¿™æ ·ä¾¿äºæ•°æ®ç§»åŠ¨&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å“ˆå¸Œè§£å†³çš„æ˜¯æ˜ å°„é—®é¢˜ï¼Œ&lt;font color=&#39;red&#39;&gt;ä½¿ç”¨ key çš„å“ˆå¸Œå€¼æ¥è®¡ç®—æ‰€åœ¨çš„æ§½ï¼Œä¾¿äºæ•°æ®åˆ†é…&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;å“ˆå¸Œæ§½çš„ä¸ªæ•°&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸€ä¸ªé›†ç¾¤åªèƒ½æœ‰ 16384 ä¸ªå“ˆå¸Œæ§½&lt;/strong&gt;ï¼Œç¼–å· 0-16383ï¼ˆ0-2&lt;sup&gt;14&lt;/sup&gt;-1ï¼‰ã€‚&lt;font color=&#39;red&#39;&gt;è¿™äº›æ§½ä¼šåˆ†é…ç»™é›†ç¾¤ä¸­çš„æ‰€æœ‰ master èŠ‚ç‚¹&lt;/font&gt;ï¼Œåˆ†é…ç­–ç•¥æ²¡æœ‰è¦æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;é›†ç¾¤ä¼š&lt;font color=&#39;red&#39;&gt;è®°å½• Redis èŠ‚ç‚¹å’Œæ§½çš„å¯¹åº”å…³ç³»&lt;/font&gt;ï¼Œè§£å†³äº†èŠ‚ç‚¹å’Œæ§½çš„å…³ç³»åï¼Œæ¥ä¸‹æ¥å°±éœ€è¦&lt;font color=&#39;red&#39;&gt;å¯¹ key æ±‚å“ˆå¸Œå€¼ï¼Œç„¶åå¯¹ 16384 å–æ¨¡&lt;/font&gt;ï¼Œä½™æ•°æ˜¯å‡  key å°±è½å…¥å¯¹åº”çš„æ§½é‡Œã€‚ &lt;code&gt;HASH_SLOT = CRC16(key) mod 16384&lt;/code&gt; ã€‚&lt;font color=&#39;red&#39;&gt;ä»¥æ§½ä¸ºå•ä½ç§»åŠ¨æ•°æ®&lt;/font&gt;ï¼Œå› ä¸ºæ§½çš„æ•°ç›®æ˜¯å›ºå®šçš„ï¼Œå¤„ç†èµ·æ¥æ¯”è¾ƒå®¹æ˜“ï¼Œè¿™æ ·æ•°æ®ç§»åŠ¨é—®é¢˜å°±è§£å†³äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;å“ˆå¸Œæ§½è®¡ç®—&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;p&gt;Redis é›†ç¾¤ä¸­å†…ç½®äº† 16384 ä¸ªå“ˆå¸Œæ§½ï¼Œredis ä¼šæ ¹æ®èŠ‚ç‚¹æ•°é‡å¤§è‡´å‡ç­‰çš„å°†å“ˆå¸Œæ§½æ˜ å°„åˆ°ä¸åŒçš„èŠ‚ç‚¹ã€‚å½“éœ€è¦åœ¨ Redis é›†ç¾¤ä¸­æ”¾ç½®ä¸€ä¸ª key-value æ—¶ï¼Œredis å…ˆå¯¹ key ä½¿ç”¨ crc16 ç®—æ³•ç®—å‡ºä¸€ä¸ªç»“æœç„¶åç”¨ç»“æœå¯¹ 16384 æ±‚ä½™æ•° [  &lt;code&gt;CRC16(key) % 16384&lt;/code&gt; ]ï¼Œè¿™æ ·æ¯ä¸ª key éƒ½ä¼šå¯¹åº”ä¸€ä¸ªç¼–å·åœ¨ 0-16383 ä¹‹é—´çš„å“ˆå¸Œæ§½ï¼Œä¹Ÿå°±æ˜¯æ˜ å°„åˆ°æŸä¸ªèŠ‚ç‚¹ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹ä»£ç ï¼Œkey ä¹‹ A ã€B åœ¨ Node2ï¼Œ key ä¹‹ C è½åœ¨ Node3 ä¸Šï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;C:%5CUsers%5Chuawei%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230809131108267.png&#34; alt=&#34;image-20230809131108267&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;ç»å…¸é¢è¯•é¢˜ä¸ºä»€ä¹ˆredisé›†ç¾¤çš„æœ€å¤§å“ˆå¸Œæ§½æ•°ç›®æ˜¯16384ä¸ª&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç»å…¸é¢è¯•é¢˜ä¸ºä»€ä¹ˆredisé›†ç¾¤çš„æœ€å¤§å“ˆå¸Œæ§½æ•°ç›®æ˜¯16384ä¸ª&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ç»å…¸é¢è¯•é¢˜ï¼šä¸ºä»€ä¹ˆ Redis é›†ç¾¤çš„æœ€å¤§å“ˆå¸Œæ§½æ•°ç›®æ˜¯ 16384 ä¸ªï¼Ÿ&lt;/mark&gt;&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;&lt;strong&gt;CRC16 ç®—æ³•äº§ç”Ÿçš„å“ˆå¸Œå€¼æœ‰ 16bit&lt;/strong&gt;ï¼Œå³ 2&lt;sup&gt;16&lt;/sup&gt;=65536 ä¸ªå€¼ï¼Œä¸ºä»€ä¹ˆ Redis é›†ç¾¤çš„ç®—æ³•åªé‡‡ç”¨ 2&lt;sup&gt;14&lt;/sup&gt;=16384 ä¸ªå“ˆå¸Œæ§½ï¼Ÿ&lt;/font&gt;åœ¨è¿›è¡Œ mode è¿ç®—æ—¶ï¼Œä¸ºä»€ä¹ˆæ˜¯ &lt;code&gt;HASH_SLOT = CRC16(key) mod 16384&lt;/code&gt;  è€Œä¸æ˜¯ &lt;code&gt;HASH_SLOT = CRC16(key) mod 65536&lt;/code&gt; ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;ä½œè€…çš„å›å¤&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809132510614.png&#34; alt=&#34;image-20230809132510614&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;æ¶ˆæ¯å¤´ clusterMsg çš„ç»“æ„&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809132604570.png&#34; alt=&#34;image-20230809132604570&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;gree&#39;&gt;æ ‡å‡†å›ç­”&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¦‚æœæ§½ä½ä¸º 65536ï¼Œå‘é€å¿ƒè·³ä¿¡æ¯çš„æ¶ˆæ¯å¤´è¾¾ 8kï¼Œ&lt;strong&gt;å‘é€çš„å¿ƒè·³åŒ…è¿‡äºåºå¤§&lt;/strong&gt;ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨æ¶ˆæ¯å¤´ä¸­æœ€å ç©ºé—´çš„æ˜¯ &lt;code&gt;myslots[CLUSTER_SLOTS/8]&lt;/code&gt; :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“æ§½ä½ä¸º 65536 æ—¶ï¼Œè¿™å—çš„å¤§å°æ˜¯: 65536Ã·8Ã·1024=&lt;font color=&#39;red&#39;&gt;8kb&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;å½“æ§½ä½ä¸º 16384 æ—¶ï¼Œè¿™å—çš„å¤§å°æ˜¯: 16384Ã·8Ã·1024=&lt;font color=&#39;red&#39;&gt;2kb&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å› ä¸ºæ¯ç§’é’Ÿ redis èŠ‚ç‚¹éœ€è¦å‘é€ä¸€å®šæ•°é‡çš„ ping æ¶ˆæ¯ä½œä¸ºå¿ƒè·³åŒ…ï¼Œå¦‚æœæ§½ä½ä¸º 65536ï¼Œè¿™ä¸ª&lt;font color=&#39;red&#39;&gt;ping æ¶ˆæ¯çš„æ¶ˆæ¯å¤´å¤ªå¤§äº†ï¼Œæµªè´¹å¸¦å®½&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¯¹äºåŸºæœ¬ä¸å¯èƒ½è¶…è¿‡ 1000 ä¸ª master èŠ‚ç‚¹æ•°é‡çš„ redis é›†ç¾¤è€Œè¨€ï¼Œ&lt;strong&gt;16384 ä¸ªæ§½ä½å°±å·²ç»å¤Ÿç”¨äº†&lt;/strong&gt;ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é›†ç¾¤çš„èŠ‚ç‚¹è¶Šå¤šï¼Œå¿ƒè·³åŒ…çš„æ¶ˆæ¯ä½“å†…æºå¸¦çš„æ•°æ®è¶Šå¤šã€‚å¦‚æœèŠ‚ç‚¹è¿‡ 1000 ä¸ªï¼Œä¹Ÿä¼šå¯¼è‡´ç½‘ç»œæ‹¥å µã€‚å› æ­¤ redis ä½œè€…ä¸å»ºè®® redis cluster èŠ‚ç‚¹æ•°é‡è¶…è¿‡ 1000 ä¸ªã€‚é‚£ä¹ˆï¼Œ&lt;font color=&#39;red&#39;&gt;å¯¹äºèŠ‚ç‚¹æ•°åœ¨ 1000 ä»¥å†…çš„ redis cluster é›†ç¾¤ï¼Œ16384 ä¸ªæ§½ä½å¤Ÿç”¨äº†&lt;/font&gt;ã€‚æ²¡æœ‰å¿…è¦æ‹“å±•åˆ° 65536 ä¸ªã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æ§½ä½è¶Šå°ï¼ŒèŠ‚ç‚¹å°‘çš„æƒ…å†µä¸‹ï¼Œ&lt;strong&gt;å‹ç¼©æ¯”é«˜ï¼Œå®¹æ˜“ä¼ è¾“&lt;/strong&gt;&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Redis çš„ master èŠ‚ç‚¹çš„é…ç½®ä¿¡æ¯ä¸­å®ƒæ‰€è´Ÿè´£çš„å“ˆå¸Œæ§½æ˜¯é€šè¿‡ä¸€å¼  bitmap çš„å½¢å¼æ¥ä¿å­˜çš„ï¼Œåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¼šå¯¹ bitmap è¿›è¡Œå‹ç¼©ï¼Œä½†æ˜¯&lt;font color=&#39;red&#39;&gt;å¦‚æœ bitmap çš„å¡«å……ç‡ slots / N å¾ˆé«˜çš„è¯ (N è¡¨ç¤ºèŠ‚ç‚¹æ•°)ï¼Œbitmap çš„å‹ç¼©ç‡å°±å¾ˆä½&lt;/font&gt;ã€‚å¦‚æœèŠ‚ç‚¹æ•°å¾ˆå°‘ï¼Œè€Œå“ˆå¸Œæ§½æ•°é‡å¾ˆå¤šçš„è¯ï¼Œbitmap çš„å‹ç¼©ç‡å°±å¾ˆä½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;redisé›†ç¾¤ä¸ä¿è¯å¼ºä¸€è‡´æ€§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redisé›†ç¾¤ä¸ä¿è¯å¼ºä¸€è‡´æ€§&#34;&gt;#&lt;/a&gt; Redis é›†ç¾¤ä¸ä¿è¯å¼ºä¸€è‡´æ€§&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;Redis é›†ç¾¤ä¸ä¿è¯å¼ºä¸€è‡´æ€§&lt;/strong&gt;ï¼Œè¿™æ„å‘³ç€åœ¨ç‰¹å®šçš„æ¡ä»¶ä¸‹ï¼ŒRedis é›†ç¾¤&lt;font color=&#39;red&#39;&gt;å¯èƒ½ä¼šä¸¢æ‰ä¸€äº›è¢«ç³»ç»Ÿæ”¶åˆ°çš„å†™å…¥è¯·æ±‚å‘½ä»¤&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Redis é›†ç¾¤ä½¿ç”¨&lt;font color=&#39;red&#39;&gt;èŠ‚ç‚¹ä¹‹é—´çš„å¼‚æ­¥å¤åˆ¶&lt;/font&gt;ï¼Œæœ€åä¸€æ¬¡æ•…éšœåˆ‡æ¢éšå¼åˆå¹¶åŠŸèƒ½ã€‚è¿™æ„å‘³ç€&lt;font color=&#39;red&#39;&gt;æœ€åä¸€æ¬¡é€‰æ‹©çš„ä¸»æ•°æ®ä¼šå®Œå…¨æ›¿æ¢æ‰€æœ‰å…¶ä»–å‰¯æœ¬&lt;/font&gt;ã€‚åœ¨åˆ†åŒºæœŸé—´ï¼Œ&lt;font color=&#39;red&#39;&gt;æ€»æ˜¯æœ‰ä¸€ä¸ªå¯èƒ½ä¸¢å¤±å†™å…¥çš„æ—¶é—´çª—å£&lt;/font&gt;ã€‚ç„¶è€Œï¼Œåœ¨è¿æ¥åˆ°å¤§å¤šæ•°ä¸»æ•°æ®çš„å®¢æˆ·ç«¯çš„æƒ…å†µä¸‹ï¼Œè¿™äº›çª—å£éå¸¸ä¸åŒï¼Œä»¥åŠä¸å°‘æ•° master æœ‰è”ç³»çš„å®¢æˆ·ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ¡ˆä¾‹æ¼”ç¤º-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¡ˆä¾‹æ¼”ç¤º-3&#34;&gt;#&lt;/a&gt; æ¡ˆä¾‹æ¼”ç¤º&lt;/h3&gt;
&lt;h4 id=&#34;3ä¸»3ä»redisé›†ç¾¤é…ç½®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#3ä¸»3ä»redisé›†ç¾¤é…ç½®&#34;&gt;#&lt;/a&gt; 3 ä¸» 3 ä» redis é›†ç¾¤é…ç½®&lt;/h4&gt;
&lt;p&gt;åœ¨ 3 å°è™šæ‹Ÿæœºä¸Šæ–°å»º 6 ä¸ªç‹¬ç«‹çš„ Redis å®ä¾‹æœåŠ¡ï¼Œæ¯å°æœºå™¨ä¸Šä¸€ä¸»ä¸€ä»ï¼Œ&lt;font color=&#39;gree&#39;&gt;è®¾è®¡å›¾&lt;/font&gt;å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/IMG_8445(20230809-135635).JPEG&#34; alt=&#34;IMG_8445(20230809-135635)&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é…ç½®è¿™ 6 ä¸ª Redis å®ä¾‹çš„&lt;font color=&#39;gree&#39;&gt;conf æ–‡ä»¶&lt;/font&gt;ï¼Œä¸‹é¢ä»¥ 6381 ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809135942477.png&#34; alt=&#34;image-20230809135942477&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;å¯åŠ¨&lt;/font&gt;6 å° Redis å®ä¾‹ï¼Œä»¥ 6381 ä¸ºä¾‹ï¼š &lt;code&gt;redis-server /myredis/cluster/redisCluster6381.conf&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;æ„å»º 6 ä¸ª Redis å®ä¾‹çš„&lt;font color=&#39;gree&#39;&gt;é›†ç¾¤å…³ç³»&lt;/font&gt;ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;redis-cli -a 111111 &lt;br/&gt;&lt;strong&gt;--cluster create&lt;/strong&gt; -&lt;strong&gt;-cluster-replicas 1&lt;/strong&gt; &lt;br/&gt; 192.168.111.175:6381 192.168.111.175:6382Â &lt;br/&gt; 192.168.111.172:6383 192.168.111.172:6384Â &lt;br/&gt; 192.168.111.174:6385 192.168.111.174:6386&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;--cluster-replicas 1&lt;/code&gt;  è¡¨ç¤ºä¸ºæ¯ä¸ª master åˆ›å»ºä¸€ä¸ª slave èŠ‚ç‚¹ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä¸»ä»çš„å®é™…åˆ†é…æ˜¯éšæœºçš„ï¼&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809141622996.png&#34; alt=&#34;image-20230809141622996&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809141121945.png&#34; alt=&#34;image-20230809141121945&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809141157047.png&#34; alt=&#34;image-20230809141157047&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¯åŠ¨ 6381ï¼ŒæŸ¥çœ‹ 6381 çš„&lt;font color=&#39;gree&#39;&gt;ä¸»ä»å¤åˆ¶ä¿¡æ¯&lt;/font&gt; &lt;code&gt;info replication&lt;/code&gt; ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809141652111.png&#34; alt=&#34;image-20230809141652111&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹ 6381 çš„&lt;font color=&#39;gree&#39;&gt;é›†ç¾¤ä¿¡æ¯&lt;/font&gt; &lt;code&gt;cluster info&lt;/code&gt; ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809141857437.png&#34; alt=&#34;image-20230809141857437&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å†æŸ¥çœ‹é›†ç¾¤çš„&lt;font color=&#39;gree&#39;&gt;èŠ‚ç‚¹ä¿¡æ¯&lt;/font&gt; &lt;code&gt;cluster nodes&lt;/code&gt; ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809141717499.png&#34; alt=&#34;image-20230809141717499&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;slave åè·Ÿç€ master ä¿¡æ¯ï¼Œè€Œ master åæ²¡æœ‰ slave ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰çš„ä¸»ä»å…³ç³»ï¼š&lt;/p&gt;
&lt;p&gt;6381 çš„ slave æ˜¯ 6384ï¼Œ6383 çš„ slave æ˜¯ 6386ï¼Œ6385 çš„ slave æ˜¯ 6382ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;3ä¸»3ä»redisé›†ç¾¤è¯»å†™&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#3ä¸»3ä»redisé›†ç¾¤è¯»å†™&#34;&gt;#&lt;/a&gt; 3 ä¸» 3 ä» redis é›†ç¾¤è¯»å†™&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;redis-cli -a 111111 -p 6381&lt;/code&gt;  å¯åŠ¨ master 6381ï¼Œå¹¶æ–°å¢ 2 ä¸ª keyï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809143452632.png&#34; alt=&#34;image-20230809143452632&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨è®¾ç½® k1 æ—¶é‡åˆ°æŠ¥é”™ï¼Œæç¤º k1 å¯¹åº”çš„å“ˆå¸Œæ§½æ˜¯ 12706ï¼Œåº”è¯¥å­˜åˆ° master 6385 ä¸Šã€‚å› æ­¤ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è¦æ³¨æ„æ§½ä½çš„èŒƒå›´åŒºé—´ï¼Œéœ€è¦å°† key è·¯ç”±åˆ°æ­£ç¡®çš„æ§½ä½ä¸Š&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;è§£å†³æ–¹æ³•&lt;/font&gt;ï¼š** å¯åŠ¨ Redis å®ä¾‹æ—¶æ·»åŠ  &lt;code&gt;-c&lt;/code&gt;  å‚æ•°ï¼Œè¡¨ç¤ºä»¥é›†ç¾¤æ¨¡å¼è¿è¡Œï¼Œé˜²æ­¢è·¯ç”±å¤±æ•ˆã€‚** å³ &lt;code&gt;redis-cli -a 111111 -p 6381 -c&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809144237468.png&#34; alt=&#34;image-20230809144237468&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ­¤æ—¶ key ä¼š&lt;font color=&#39;red&#39;&gt;è‡ªåŠ¨é‡å®šå‘&lt;/font&gt;åˆ°å¯¹åº” Redis å®ä¾‹çš„å“ˆå¸Œæ§½ä¸Šã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;æŸ¥çœ‹æŸä¸ª key å¯¹åº”çš„æ§½ä½ç½®&lt;/font&gt;ï¼š &lt;code&gt;CLUSTER KEYSLOT key&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä¸»ä»å®¹é”™åˆ‡æ¢è¿ç§»failover&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸»ä»å®¹é”™åˆ‡æ¢è¿ç§»failover&#34;&gt;#&lt;/a&gt; ä¸»ä»å®¹é”™åˆ‡æ¢è¿ç§» (failover)&lt;/h4&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809144752893.png&#34; alt=&#34;image-20230809144752893&#34; /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å‡å¦‚ master 6381 å®•æœºï¼Œå…¶å¯¹åº”çš„ slave 6384 ä¼šä¸Šä½æˆä¸ºæ–°çš„ master&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809145659230.png&#34; alt=&#34;image-20230809145659230&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å½“ 6381 é‡å¯æ¢å¤ï¼Œè‡ªåŠ¨æˆä¸º master 6384 çš„ slave&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809145905827.png&#34; alt=&#34;image-20230809145905827&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;æ‰‹åŠ¨åˆ‡æ¢ä¸»ä»è°ƒæ•´èŠ‚ç‚¹ä»å±å…³ç³»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ‰‹åŠ¨åˆ‡æ¢ä¸»ä»è°ƒæ•´èŠ‚ç‚¹ä»å±å…³ç³»&#34;&gt;#&lt;/a&gt; æ‰‹åŠ¨åˆ‡æ¢ä¸»ä» / è°ƒæ•´èŠ‚ç‚¹ä»å±å…³ç³»&lt;/h4&gt;
&lt;p&gt;ä¸Šé¢ä¸€æ¢å 6381ã€6384 ä¸»ä»å¯¹è°ƒäº†ï¼Œå’ŒåŸå§‹è®¾è®¡å›¾ä¸ä¸€æ ·äº†ï¼Œè¯¥å¦‚ä½•æ¢å¤åŸæ¥çš„ä¸»ä»å…³ç³»ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é‡å¯ 6381ï¼Œæ‰§è¡Œå‘½ä»¤ &lt;code&gt;CLUSTER FAILOVER&lt;/code&gt; ï¼Œè‡ªåŠ¨è°ƒæ•´ 6381 çš„ä¸»ä»å…³ç³»&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809150634974.png&#34; alt=&#34;image-20230809150634974&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;ä¸»ä»æ‰©å®¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸»ä»æ‰©å®¹&#34;&gt;#&lt;/a&gt; ä¸»ä»æ‰©å®¹&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸‰ä¸»ä¸‰ä» -&amp;gt; å››ä¸»å››ä»&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ–° master åŠ å…¥é›†ç¾¤&lt;/li&gt;
&lt;li&gt;é‡æ–°åˆ†é…æ§½å·ï¼ˆreshardï¼‰&lt;/li&gt;
&lt;li&gt;ä¸ºæ–° master åˆ†é… slave&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809151024511.png&#34; alt=&#34;image-20230809151024511&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ€è€ƒé—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚ä½•å°†æ–°æœºåŠ å…¥åŸæœ‰é›†ç¾¤ä¸­ï¼Ÿ&lt;/li&gt;
&lt;li&gt;æ–°æœºçš„æ§½ä½å¦‚ä½•åˆ†é…ï¼Ÿ&lt;strong&gt;é‡æ–°æ´—ç‰Œï¼&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;é…ç½® 2 å°æ–°æœºçš„ redis.conf æ–‡ä»¶ï¼Œä»¥ 6387 ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809151526914.png&#34; alt=&#34;image-20230809151526914&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯åŠ¨ 2 å°æ–°æœºï¼Œæ­¤æ—¶å®ƒä»¬éƒ½æ˜¯ masterï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809151554375.png&#34; alt=&#34;image-20230809151554375&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†æ–°å¢çš„ 6387ï¼ˆç©ºæ§½å·ï¼‰ä½œä¸º&lt;font color=&#39;gree&#39;&gt;master èŠ‚ç‚¹åŠ å…¥åŸæœ‰é›†ç¾¤&lt;/font&gt;ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;orange&#39;&gt;redis-cli -a 111111 &lt;br/&gt;--cluster &lt;strong&gt;add-node&lt;/strong&gt;Â &lt;br/&gt;192.168.111.174:6387 &lt;br/&gt;192.168.111.175:6381&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;6387 å°±æ˜¯å°†è¦ä½œä¸º&lt;font color=&#39;red&#39;&gt;master æ–°å¢èŠ‚ç‚¹&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;6381 å°±æ˜¯åŸæ¥é›†ç¾¤èŠ‚ç‚¹é‡Œé¢çš„&lt;font color=&#39;red&#39;&gt;é¢†è·¯äºº&lt;/font&gt;ï¼Œç›¸å½“äº 6387 æ‹œæ‹œ 6381 çš„ç å¤´ä»è€Œæ‰¾åˆ°ç»„ç»‡åŠ å…¥é›†ç¾¤&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809152412183.png&#34; alt=&#34;image-20230809152412183&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ£€æŸ¥é›†ç¾¤æƒ…å†µï¼Œæ‰§è¡Œå‘½ä»¤ï¼š&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;orange&#39;&gt;redis-cli -a 111111 &lt;br/&gt;--cluster &lt;strong&gt;check&lt;/strong&gt; &lt;br/&gt;192.168.111.175:6381&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809152820379.png&#34; alt=&#34;image-20230809152820379&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ­¤æ—¶æ–°åŠ å…¥çš„ 6387 èŠ‚ç‚¹è¿˜æ²¡åˆ†é…å“ˆå¸Œæ§½&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;é‡æ–°åˆ†é…æ§½å·&lt;/font&gt;ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;orange&#39;&gt;redis-cli -a å¯†ç  &lt;br/&gt;--cluster &lt;strong&gt;reshard&lt;/strong&gt; &lt;br/&gt;192.168.111.175:6381&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809153203484.png&#34; alt=&#34;image-20230809153203484&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809153429470.png&#34; alt=&#34;image-20230809153429470&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å†æ¬¡æ£€æŸ¥é›†ç¾¤æƒ…å†µï¼Œæ‰§è¡Œå‘½ä»¤ï¼š&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;orange&#39;&gt;redis-cli -a 111111 &lt;br/&gt;--cluster &lt;strong&gt;check&lt;/strong&gt; &lt;br/&gt;192.168.111.175:6381&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809153519681.png&#34; alt=&#34;image-20230809153519681&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ­¤æ—¶æ§½å·é‡æ–°åˆ†æ´¾å®Œæˆï¼ä½†æ˜¯ä¸ºä»€ä¹ˆ 6387 æ˜¯ 3 ä¸ªæ–°çš„åŒºé—´ï¼Œä»¥å‰çš„è¿˜æ˜¯è¿ç»­ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é‡æ–°åˆ†é…çš„æˆæœ¬å¤ªé«˜ï¼Œæ‰€ä»¥ä¹‹å‰çš„ Redis èŠ‚ç‚¹å„è‡ªåŒ€å‡ºæ¥ä¸€éƒ¨åˆ†ç»™æ–°èŠ‚ç‚¹&lt;/strong&gt;ã€‚ä» 6381/6383/6385 ä¸‰ä¸ªæ—§èŠ‚ç‚¹åˆ†åˆ«åŒ€å‡º 1364 ä¸ªå‘ä½ç»™æ–°èŠ‚ç‚¹ 6387ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸º master 6387&lt;font color=&#39;gree&#39;&gt;åˆ†é… slave&lt;/font&gt; 6388ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;orange&#39;&gt;redis-cli -a å¯†ç  &lt;br/&gt;--cluster &lt;strong&gt;add-node&lt;/strong&gt; &lt;br/&gt;ip: æ–° slave ç«¯å£ ip: æ–° master ç«¯å£ &lt;br/&gt;&lt;strong&gt;--cluster-slave&lt;/strong&gt; &lt;strong&gt;--cluster-master-id&lt;/strong&gt; &lt;strong&gt;æ–° master èŠ‚ç‚¹ ID&lt;/strong&gt;&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;redis-cli -a 111111 &lt;br/&gt;--cluster add-node &lt;br/&gt;192.168.111.174:6388 192.168.111.174:6387 &lt;br/&gt;--cluster-slave --cluster-master-id 4feb6a7ee0ed2b39ff86474cf4189ab2a554a40f&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809154138459.png&#34; alt=&#34;image-20230809154138459&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¬¬ä¸‰æ¬¡æ£€æŸ¥é›†ç¾¤æƒ…å†µï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809154202088.png&#34; alt=&#34;image-20230809154202088&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è‡³æ­¤ï¼Œå®Œæˆ Redis é›†ç¾¤ä¸­çš„ä¸»ä»æ‰©å®¹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809154357068.png&#34; alt=&#34;image-20230809154357068&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;ä¸»ä»ç¼©å®¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸»ä»ç¼©å®¹&#34;&gt;#&lt;/a&gt; ä¸»ä»ç¼©å®¹&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å››ä¸»å››ä» -&amp;gt; ä¸‰ä¸»ä¸‰ä»&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç›®çš„ï¼šè®© 6387ã€6388 ä¸‹çº¿&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809160221198.png&#34; alt=&#34;image-20230809160221198&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809155155205.png&#34; alt=&#34;image-20230809155155205&#34; /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æ£€æŸ¥é›†ç¾¤æƒ…å†µï¼Œè·å– slave 6388 çš„èŠ‚ç‚¹ IDï¼š&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;orange&#39;&gt;redis-cli -a å¯†ç  &lt;br/&gt;--cluster &lt;strong&gt;check&lt;/strong&gt;Â &lt;br/&gt;192.168.111.174:6388&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809155313502.png&#34; alt=&#34;image-20230809155313502&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä»é›†ç¾¤ä¸­&lt;font color=&#39;gree&#39;&gt;å°† slave 6388 åˆ é™¤&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;orange&#39;&gt;redis-cli -a 111111 &lt;br/&gt;--cluster &lt;strong&gt;del-node&lt;/strong&gt;Â &lt;br/&gt;192.168.111.174:6388Â &lt;br/&gt; 218e7b8b4f81be54ff173e4776b4f4faaf7c13da&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809155525228.png&#34; alt=&#34;image-20230809155525228&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ£€æŸ¥é›†ç¾¤æƒ…å†µï¼Œå‘ç° slave 6388 è¢«æˆåŠŸåˆ é™¤ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809155602447.png&#34; alt=&#34;image-20230809155602447&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;å°† master 6387 çš„æ§½å·æ¸…ç©º&lt;/font&gt;ï¼Œæœ¬ä¾‹ä¸­å°†å…¶&lt;font color=&#39;gree&#39;&gt;é‡æ–°åˆ†æ´¾&lt;/font&gt;ç»™ master 6381ï¼š&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;orange&#39;&gt;redis-cli -a 111111 &lt;br/&gt;--cluster &lt;strong&gt;reshard&lt;/strong&gt; &lt;br/&gt;192.168.111.175:6381&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809155839782.png&#34; alt=&#34;image-20230809155839782&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809155856778.png&#34; alt=&#34;image-20230809155856778&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ£€æŸ¥é›†ç¾¤æƒ…å†µï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809155927823.png&#34; alt=&#34;image-20230809155927823&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å‘ç°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;master 6387 çš„ 4096 ä¸ªæ§½ä½éƒ½æŒ‡ç»™äº† master 6381ï¼ˆå˜æˆäº† 8192 ä¸ªæ§½ä½ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;master 6387 å˜æˆäº† master 6381 çš„ slave&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ é™¤ 6387ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809160629562.png&#34; alt=&#34;image-20230809160629562&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ£€æŸ¥é›†ç¾¤æƒ…å†µï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809160704133.png&#34; alt=&#34;image-20230809160704133&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ­¤æ—¶ 6387/6388 å·²ä»é›†ç¾¤ä¸­ç§»é™¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ­¤æ—¶ï¼Œè‹¥å†æƒ³åœ¨ 6387 ä¸Šå†™æ•°æ®ï¼Œä¼šæŠ¥é”™ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809160827236.png&#34; alt=&#34;image-20230809160827236&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;é€šè¯†å ä½ç¬¦&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é€šè¯†å ä½ç¬¦&#34;&gt;#&lt;/a&gt; é€šè¯†å ä½ç¬¦&lt;/h3&gt;
&lt;p&gt;ç—›ç‚¹ï¼šä¸åœ¨åŒä¸€ä¸ª slot æ§½ä½ä¸‹çš„&lt;font color=&#39;red&#39;&gt;æ‰¹æ“ä½œå‘½ä»¤ï¼ˆå¤šé”®æ“ä½œï¼‰&lt;/font&gt;æ”¯æŒä¸å¥½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809161249034.png&#34; alt=&#34;image-20230809161249034&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¯ä»¥é€šè¿‡ &lt;code&gt;é€šè¯†å ä½ç¬¦&amp;#123;&amp;#125;&lt;/code&gt;  æ¥å®šä¹‰åŒä¸€ä¸ª slot æ§½ä½çš„æ¦‚å¿µ&lt;/strong&gt;ï¼Œä½¿ key ä¸­&lt;font color=&#39;red&#39;&gt;{} å†…ç›¸åŒå†…å®¹&lt;/font&gt;çš„é”®å€¼å¯¹&lt;font color=&#39;red&#39;&gt;æ”¾åˆ°ä¸€ä¸ª slot æ§½ä½&lt;/font&gt;å»ï¼Œå¯¹ç…§ä¸‹å›¾ç±»ä¼¼ k1ã€k2ã€k3 éƒ½æ˜ å°„ä¸º xï¼Œè‡ªç„¶æ§½ä½ä¸€æ ·ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809161554065.png&#34; alt=&#34;image-20230809161554065&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;crc16ç®—æ³•åˆ†æ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#crc16ç®—æ³•åˆ†æ&#34;&gt;#&lt;/a&gt; CRC16 ç®—æ³•åˆ†æ&lt;/h3&gt;
&lt;p&gt;Redis é›†ç¾¤æœ‰ 16384 ä¸ªå“ˆå¸Œæ§½ï¼Œæ¯ä¸ª key é€šè¿‡ CRC16 æ ¡éªŒåå¯¹ 16384 å–æ¨¡æ¥å†³å®šæ”¾ç½®å“ªä¸ªæ§½ã€‚é›†ç¾¤çš„æ¯ä¸ªèŠ‚ç‚¹è´Ÿè´£ä¸€éƒ¨åˆ† hash æ§½ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æµ…æ CRC16 ç®—æ³•çš„æºç ï¼Œæºç æ–‡ä»¶æ˜¯ &lt;code&gt;cluster.c&lt;/code&gt; ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809161758328.png&#34; alt=&#34;image-20230809161758328&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;é›†ç¾¤ä¸­çš„å¸¸ç”¨é…ç½®ä¸å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é›†ç¾¤ä¸­çš„å¸¸ç”¨é…ç½®ä¸å‘½ä»¤&#34;&gt;#&lt;/a&gt; é›†ç¾¤ä¸­çš„å¸¸ç”¨é…ç½®ä¸å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é…ç½®å‚æ•° &lt;code&gt;cluster-require-full-coverage&lt;/code&gt; ï¼š&lt;strong&gt;é›†ç¾¤æ˜¯å¦å®Œæ•´æ—¶æ‰èƒ½å¯¹å¤–æä¾›æœåŠ¡&lt;/strong&gt;ï¼Œé»˜è®¤ä¸º yesã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809162230541.png&#34; alt=&#34;image-20230809162230541&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç°åœ¨é›†ç¾¤æ¶æ„æ˜¯ 3 ä¸» 3 ä»ï¼Œç”± 3 ä¸ª master å¹³åˆ† 16384 ä¸ª slotï¼Œæ¯ä¸ª master çš„å°é›†ç¾¤è´Ÿè´£ 1/3 çš„ slotï¼Œå¯¹åº”ä¸€éƒ¨åˆ†æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;é€šå¸¸æƒ…å†µï¼Œå¦‚æœè¿™ 3 ä¸ªå°é›†ç¾¤ä¸­ï¼Œä»»ä½•ä¸€ä¸ªï¼ˆ1 ä¸» 1 ä»ï¼‰æŒ‚äº†ï¼Œä½ è¿™ä¸ªé›†ç¾¤å¯¹å¤–å¯æä¾›çš„æ•°æ®åªæœ‰ 2/3 äº†ï¼Œæ•´ä¸ªé›†ç¾¤æ˜¯ä¸å®Œæ•´çš„ï¼Œredis é»˜è®¤åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ˜¯ä¸ä¼šå¯¹å¤–æä¾›æœåŠ¡çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‘½ä»¤ &lt;code&gt;CLUSTER COUNTKEYSINSLOT slotindex&lt;/code&gt; ï¼š&lt;strong&gt;æŸ¥çœ‹ç¬¬ &lt;code&gt;slotindex&lt;/code&gt;  å·æ§½ä½ä¸Šçš„ key æ•°é‡&lt;/strong&gt;ï¼Œç©ºåˆ™è¿”å› 0ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809162506376.png&#34; alt=&#34;image-20230809162506376&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‘½ä»¤ &lt;code&gt;CLUSTER KEYSLOT key&lt;/code&gt; ï¼š&lt;strong&gt;æŸ¥çœ‹ &lt;code&gt;key&lt;/code&gt;  åº”è¯¥å­˜æ”¾çš„æ§½ä½å·&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809162815558.png&#34; alt=&#34;image-20230809162815558&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;11-springbooté›†æˆredis&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#11-springbooté›†æˆredis&#34;&gt;#&lt;/a&gt; 11ã€SpringBoot é›†æˆ Redis&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;å‰é¢éƒ½æ˜¯é€šè¿‡&lt;font color=&#39;red&#39;&gt;å‘½ä»¤&lt;/font&gt;ä¸ Redis äº¤äº’ï¼Œå®é™…ç”Ÿäº§ä¸­æ›´å¤šæ˜¯é€šè¿‡&lt;font color=&#39;red&#39;&gt;Java ç¨‹åº&lt;/font&gt;æ¥æ“ä½œ Redisã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;æ•´ä½“æ¦‚è¿°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•´ä½“æ¦‚è¿°&#34;&gt;#&lt;/a&gt; æ•´ä½“æ¦‚è¿°&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯¹æ¯” Jedisã€lettuceã€RedisTemplate&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Java è¿æ¥ MySQL çš„é©±åŠ¨ä¸­é—´ä»¶æ˜¯ JDBCï¼Œé‚£ä¹ˆ Java è¿æ¥ Redis æ‰€éœ€è¦çš„é©±åŠ¨ä¸­é—´ä»¶æœ‰å“ªäº›å‘¢ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Jedisï¼šä¸€ä»£ç›®ï¼Œè€ç‰Œï¼Œçº¿ç¨‹æ± ä¸å®‰å…¨&lt;/li&gt;
&lt;li&gt;lettuceï¼šäºŒä»£ç›®ï¼Œå¯¹ Jedis çš„ä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RedisTemplate&lt;/strong&gt;ï¼šä¸‰ä»£ç›®ï¼Œå¯¹ lettuce è¿›è¡Œå°è£…&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æœ¬åœ°javaè¿æ¥redisçš„å¸¸è§é—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æœ¬åœ°javaè¿æ¥redisçš„å¸¸è§é—®é¢˜&#34;&gt;#&lt;/a&gt; æœ¬åœ° Java è¿æ¥ Redis çš„å¸¸è§é—®é¢˜&lt;/h3&gt;
&lt;p&gt;ä»¥ä¸‹é—®é¢˜å¯èƒ½ä¼šå¯¼è‡´ Java ç¨‹åºæ— æ³•è¿œç¨‹è¿æ¥ Redisï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;redis.conf ä¸­çš„ bind é…ç½®è¯·æ³¨é‡Šæ‰&lt;/li&gt;
&lt;li&gt;redis.conf ä¸­çš„ä¿æŠ¤æ¨¡å¼è®¾ç½®ä¸º no&lt;/li&gt;
&lt;li&gt;Linux ç³»ç»Ÿçš„é˜²ç«å¢™è®¾ç½®&lt;/li&gt;
&lt;li&gt;redis æœåŠ¡å™¨çš„ IP åœ°å€å’Œå¯†ç æ˜¯å¦æ­£ç¡®&lt;/li&gt;
&lt;li&gt;å¿˜è®°å†™è®¿é—® redis çš„æœåŠ¡ç«¯å£å·å’Œ auth å¯†ç &lt;/li&gt;
&lt;li&gt;æ— è„‘ç²˜è´´è„‘å›¾ç¬”è®°......o (...T) o&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é›†æˆjedis&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é›†æˆjedis&#34;&gt;#&lt;/a&gt; é›†æˆ Jedis&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;Jedis Client&lt;/code&gt;  æ˜¯ Redis å®˜ç½‘æ¨èçš„ä¸€ä¸ªé¢å‘ java å®¢æˆ·ç«¯ï¼Œåº“æ–‡ä»¶å®ç°äº†å¯¹å„ç±» API è¿›è¡Œå°è£…è°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;é›†æˆ Jedis çš„æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;çº¦å®šï¼é…ç½®ï¼ç¼–ç &lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»º Module&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¿®æ”¹ POM&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å†™ YML&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸»å¯åŠ¨&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;token namespace&#34;&gt;com&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;atguigu&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;redis7&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;org&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;springframework&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;boot&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;SpringApplication&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;org&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;springframework&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;boot&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;autoconfigure&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;SpringBootApplication&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; * @auther zzyy&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; * @create 2022-11-17 16:36&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@SpringBootApplication&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Redis7Study7777&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; args&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token class-name&#34;&gt;SpringApplication&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Redis7Study7777&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;args&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸šåŠ¡ç±»&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é€šè¿‡æŒ‡å®š ip å’Œ port è·å¾— connection å¯¹è±¡&lt;/li&gt;
&lt;li&gt;æŒ‡å®šè®¿é—®æœåŠ¡å™¨çš„å¯†ç &lt;/li&gt;
&lt;li&gt;å¾—åˆ° Jedis å®¢æˆ·ç«¯åï¼Œå³å¯è®¿é—® redis&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@Slf4j&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;JedisDemo&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; args&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token class-name&#34;&gt;Jedis&lt;/span&gt; jedis &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Jedis&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;192.168.111.185&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        jedis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;auth&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;111111&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        log&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;redis conn status:&amp;#123;&amp;#125;&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;è¿æ¥æˆåŠŸ&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        log&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;redis ping retvalue:&amp;#123;&amp;#125;&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;jedis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;ping&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        jedis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;k1&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;jedis&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        log&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;k1 value:&amp;#123;&amp;#125;&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;jedis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;k1&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;é›†æˆlettuce&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é›†æˆlettuce&#34;&gt;#&lt;/a&gt; é›†æˆ lettuce&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;æˆ‘æ¥äººé—´ä¸€è¶Ÿï¼Œæœ¬æƒ³å…‰èŠ’ä¸‡ä¸ˆï¼Œå¥ˆä½• springboot å¤ªå¼ºï¼Œåˆšå‡ºç”Ÿå°±è¢«å›¢ç­ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Lettuce æ˜¯ä¸€ä¸ª Redis çš„ Java é©±åŠ¨åŒ…ï¼Œç¿»è¯‘ä¸ºç”Ÿèœã€‚&lt;/p&gt;
&lt;p&gt;lettuce ä¸ Jedis çš„åŒºåˆ«ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Jedis è¿æ¥ Redis æ—¶ï¼Œ&lt;font color=&#39;red&#39;&gt;æ¯ä¸ªçº¿ç¨‹éƒ½è¦åˆ›å»º Jedis å®ä¾‹ï¼Œå¼€é”€å¤§&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;Jedis æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„&lt;/font&gt;ï¼Œä¸€ä¸ªçº¿ç¨‹é€šè¿‡ Jedis å®ä¾‹æ›´æ”¹ Redis æœåŠ¡å™¨ä¸­çš„æ•°æ®ä¹‹åï¼Œä¼šå½±å“å¦ä¸€ä¸ªçº¿ç¨‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Lettuce åº•å±‚ä½¿ç”¨çš„æ˜¯ Netty&lt;/strong&gt;ï¼Œå½“æœ‰å¤šä¸ªçº¿ç¨‹éƒ½éœ€è¦è¿æ¥ Redis æœåŠ¡å™¨çš„æ—¶å€™ï¼Œå¯ä»¥ä¿è¯&lt;font color=&#39;red&#39;&gt;åªåˆ›å»ºä¸€ä¸ª Lettuce è¿æ¥&lt;/font&gt;ï¼Œä½¿&lt;font color=&#39;red&#39;&gt;æ‰€æœ‰çš„çº¿ç¨‹å…±äº«&lt;/font&gt;è¿™ä¸€ä¸ª Lettuce è¿æ¥ï¼Œè¿™æ ·å¯ä»¥å‡å°‘åˆ›å»ºå…³é—­ä¸€ä¸ª Lettuce è¿æ¥æ—¶å€™çš„å¼€é”€ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿™ç§æ–¹å¼ä¹Ÿæ˜¯&lt;font color=&#39;red&#39;&gt;çº¿ç¨‹å®‰å…¨&lt;/font&gt;çš„ï¼Œä¸ä¼šå‡ºç°ä¸€ä¸ªçº¿ç¨‹é€šè¿‡ Lettuce æ›´æ”¹ Redis æœåŠ¡å™¨ä¸­çš„æ•°æ®ä¹‹åè€Œå½±å“å¦ä¸€ä¸ªçº¿ç¨‹çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å› æ­¤ï¼Œ&lt;font color=&#39;red&#39;&gt;åœ¨ SpringBoot2.0 ä¹‹åé»˜è®¤éƒ½æ˜¯ä½¿ç”¨çš„ Lettuce&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¡ˆä¾‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä¿®æ”¹ POM&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å†™ä¸šåŠ¡ç±»&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;token namespace&#34;&gt;com&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;atguigu&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;redis7&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;test&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;io&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lettuce&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;core&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;RedisClient&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;io&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lettuce&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;core&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;RedisFuture&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;io&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lettuce&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;core&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;RedisURI&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;io&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lettuce&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;core&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;SortArgs&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;io&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lettuce&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;core&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;api&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;StatefulRedisConnection&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;io&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lettuce&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;core&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;api&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;async&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;RedisAsyncCommands&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;io&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lettuce&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;core&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;api&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;sync&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;RedisCommands&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;lombok&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;extern&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;slf4j&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Slf4j&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;java&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;util&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;HashMap&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;java&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;util&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;List&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;java&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;util&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Map&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;java&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;util&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Set&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token import&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;java&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;util&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;concurrent&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;ExecutionException&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; * @auther zzyy&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; * @create 2022-11-17 17:05&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@Slf4j&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;LettuceDemo&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; args&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ä½¿ç”¨æ„å»ºå™¨ï¼ˆé“¾å¼ç¼–ç¨‹ï¼‰ RedisURI.builder&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token class-name&#34;&gt;RedisURI&lt;/span&gt; uri &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;RedisURI&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;builder&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                &lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;redis&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;192.168.111.181&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                &lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;withPort&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;31&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                &lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;withAuthentication&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;default&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;111111&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;32&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                &lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;build&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;33&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// åˆ›å»ºè¿æ¥å®¢æˆ·ç«¯&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;34&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token class-name&#34;&gt;RedisClient&lt;/span&gt; client &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;RedisClient&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;create&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;uri&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;35&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token class-name&#34;&gt;StatefulRedisConnection&lt;/span&gt; conn &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; client&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;connect&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;36&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// æ“ä½œå‘½ä»¤ api&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;37&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token class-name&#34;&gt;RedisCommands&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; commands &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; conn&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;sync&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;38&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;39&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;//keys&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;40&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token class-name&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; list &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; commands&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;keys&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;*&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;41&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; s &lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; list&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;42&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            log&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;key:&amp;#123;&amp;#125;&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;s&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;43&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;44&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;//String&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;45&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    commands&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;k1&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;1111&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;46&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; s1 &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; commands&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;k1&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;47&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;out&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;String s ===&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;s1&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;48&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;49&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;//list&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;50&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    commands&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;lpush&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;myList2&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;v1&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;v2&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;v3&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;51&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; list2 &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; commands&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;lrange&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;myList2&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;52&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; s &lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; list2&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;53&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     &lt;span class=&#34;token class-name&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;out&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;list ssss===&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;s&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;54&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;55&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;//set&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;56&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    commands&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;sadd&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;mySet2&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;v1&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;v2&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;v3&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;57&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;Set&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; set &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; commands&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;smembers&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;mySet2&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;58&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; s &lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; set&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;59&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     &lt;span class=&#34;token class-name&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;out&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;set ssss===&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;s&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;60&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;61&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;//hash&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;62&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; map &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;HashMap&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;63&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        map&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;k1&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;138xxxxxxxx&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;64&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        map&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;k2&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;atguigu&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;65&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        map&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;k3&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;zzyybs@126.com&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;// è¯¾åæœ‰é—®é¢˜è¯·ç»™æˆ‘å‘é‚®ä»¶&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;66&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;67&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    commands&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;hmset&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;myHash2&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; map&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;68&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; retMap &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; commands&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;hgetall&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;myHash2&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;69&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; k &lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; retMap&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;keySet&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;70&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     &lt;span class=&#34;token class-name&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;out&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;hash  k=&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;k&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34; , v==&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;retMap&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;k&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;71&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;72&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;73&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;//zset&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;74&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    commands&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;zadd&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;myZset2&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;100.0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;s1&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;110.0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;s2&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;90.0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;s3&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;75&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; list3 &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; commands&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;zrange&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;myZset2&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;76&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; s &lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; list3&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;77&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     &lt;span class=&#34;token class-name&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;out&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;zset ssss===&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;s&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;78&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;79&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;80&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;//sort&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;81&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;SortArgs&lt;/span&gt; sortArgs &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;SortArgs&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;82&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    sortArgs&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;alpha&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;83&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    sortArgs&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;desc&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;84&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;85&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; list4 &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; commands&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;sort&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;myList2&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;sortArgs&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;86&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; s &lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; list4&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;87&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     &lt;span class=&#34;token class-name&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;out&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;sort ssss===&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;s&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;88&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;89&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;90&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// å…³é—­&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;91&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        conn&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;92&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        client&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;shutdown&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;93&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;94&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;é›†æˆredistemplateæ¨è&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é›†æˆredistemplateæ¨è&#34;&gt;#&lt;/a&gt; &lt;mark&gt;é›†æˆ RedisTemplateï¼ˆæ¨èï¼‰&lt;/mark&gt;&lt;/h3&gt;
&lt;h4 id=&#34;è¿æ¥å•æœº&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¿æ¥å•æœº&#34;&gt;#&lt;/a&gt; è¿æ¥å•æœº&lt;/h4&gt;
&lt;h5 id=&#34;bootæ•´åˆredisåŸºç¡€æ¼”ç¤º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#bootæ•´åˆredisåŸºç¡€æ¼”ç¤º&#34;&gt;#&lt;/a&gt; boot æ•´åˆ Redis åŸºç¡€æ¼”ç¤º&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»º Module&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¿®æ”¹ POMï¼š &lt;code&gt;spring-boot-starter-data-redis&lt;/code&gt;  åŒ…ï¼ˆä¾èµ–äº lettuce åŒ…ï¼‰å’Œ &lt;code&gt;commons-pool2&lt;/code&gt;  åŒ…&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å†™ YML&lt;/p&gt;
&lt;figure class=&#34;highlight yaml&#34;&gt;&lt;figcaption data-lang=&#34;YAML&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;==============rediså•æœº==================&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring.redis.database=0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ä¿®æ”¹ä¸ºè‡ªå·±çœŸå® IP&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring.redis.host=192.168.111.185&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring.redis.port=6379&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring.redis.password=111111&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# lettuce è¿æ¥æ± &lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring.redis.lettuce.pool.max&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;active=8&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring.redis.lettuce.pool.max&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;wait=&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;1ms&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring.redis.lettuce.pool.max&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;idle=8&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring.redis.lettuce.pool.min&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;idle=0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸»å¯åŠ¨&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@SpringBootApplication&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Redis7Study7777&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; args&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token class-name&#34;&gt;SpringApplication&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Redis7Study7777&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;args&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸šåŠ¡ç±»&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;é…ç½®ç±»&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;RedisConfig&lt;/li&gt;
&lt;li&gt;SwaggerConfig&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;service&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@Service&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@Slf4j&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;OrderService&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;ORDER_KEY&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;order:&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token annotation punctuation&#34;&gt;@Resource&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;RedisTemplate&lt;/span&gt; redisTemplate&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;addOrder&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt; keyId &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;ThreadLocalRandom&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;current&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;nextInt&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; orderNo &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;UUID&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;randomUUID&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;toString&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        redisTemplate&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;opsForValue&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token constant&#34;&gt;ORDER_KEY&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;keyId&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;äº¬ä¸œè®¢å•&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; orderNo&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        log&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;=====&gt;ç¼–å·&#34;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;keyId&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;çš„è®¢å•æµæ°´ç”Ÿæˆ:&amp;#123;&amp;#125;&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;orderNo&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;getOrderById&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Integer&lt;/span&gt; id&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;redisTemplate&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;opsForValue&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token constant&#34;&gt;ORDER_KEY&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; id&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;controller&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@Api&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;tags &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;è®¢å•æ¥å£&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@RestController&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@Slf4j&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;OrderController&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token annotation punctuation&#34;&gt;@Resource&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;OrderService&lt;/span&gt; orderService&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token annotation punctuation&#34;&gt;@ApiOperation&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;æ–°å¢è®¢å•&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token annotation punctuation&#34;&gt;@RequestMapping&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;value &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;/order/add&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;method &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;RequestMethod&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token constant&#34;&gt;POST&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;addOrder&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        orderService&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;addOrder&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token annotation punctuation&#34;&gt;@ApiOperation&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;æŒ‰orderIdæŸ¥è®¢å•ä¿¡æ¯&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token annotation punctuation&#34;&gt;@RequestMapping&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;value &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;/order/&amp;#123;id&amp;#125;&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; method &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;RequestMethod&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token constant&#34;&gt;GET&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;findUserById&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@PathVariable&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Integer&lt;/span&gt; id&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; orderService&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getOrderById&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;id&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æµ‹è¯•&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;swagger&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;åºåˆ—åŒ–é—®é¢˜&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809211944574.png&#34; alt=&#34;image-20230809211944574&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809212145565.png&#34; alt=&#34;image-20230809212145565&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;C:%5CUsers%5Chuawei%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230809212339643.png&#34; alt=&#34;image-20230809212339643&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è§£å†³æ–¹æ¡ˆ 1&lt;/strong&gt;ï¼šå°† &lt;code&gt;RedisTemplate&lt;/code&gt;  å¯¹è±¡æ›¿æ¢ä¸º &lt;code&gt;StringRedisTemplate&lt;/code&gt;  å¯¹è±¡ã€‚æ­¤æ—¶é™¤äº† Redis å‘½ä»¤è¡Œä¸­ä»ç„¶æ˜¾ç¤ºä¸­æ–‡ä¹±ç å¤–ï¼Œåœ¨ swaggerã€æœåŠ¡å™¨ä¸­çš„è¿”å›å€¼éƒ½æ²¡æœ‰ä¹±ç çš„é—®é¢˜äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è§£å†³æ–¹æ¡ˆ 2-1&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;strong&gt;å¯åŠ¨ Redis æ—¶æ·»åŠ å‚æ•° &lt;code&gt;--raw&lt;/code&gt;  è§£å†³ Redis æœåŠ¡å™¨ç«¯æ˜¾ç¤ºä¹±ç &lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è§£å†³æ–¹æ¡ˆ 2-2&lt;/font&gt;&lt;/strong&gt;ï¼šçœ‹ä¸‹æºç   &lt;code&gt;RedisTemplate&lt;/code&gt; # &lt;code&gt;afterPropertiesSet()&lt;/code&gt;  å‘ç°åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒRedisTemplate ä½¿ç”¨çš„æ•°æ®åˆ—åŒ–æ–¹å¼æ˜¯ &lt;code&gt;JdkSerializationRedisSerializer&lt;/code&gt; ï¼Œä¹Ÿå°±æ˜¯å¯¼è‡´ä¹±ç çš„ç½ªé­ç¥¸é¦–ï¼è§£å†³æ–¹æ³•å°±æ˜¯ **&lt;font color=&#39;orange&#39;&gt;ç¼–å†™ RedisConfig é…ç½®ç±»ï¼ŒæŒ‡å®šåºåˆ—åŒ–å™¨&lt;/font&gt;**ï¼&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@Configuration&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;RedisConfig&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;/**&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * redis åºåˆ—åŒ–çš„å·¥å…·é…ç½®ç±»ï¼Œä¸‹é¢è¿™ä¸ªè¯·ä¸€å®šå¼€å¯é…ç½®&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * 127.0.0.1:6379&gt; keys *&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * 1) &#34;ord:102&#34;  åºåˆ—åŒ–è¿‡&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * 2) &#34;\xac\xed\x00\x05t\x00\aord:102&#34;   é‡ç”Ÿï¼Œæ²¡æœ‰åºåˆ—åŒ–è¿‡&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * this.redisTemplate.opsForValue (); // æä¾›äº†æ“ä½œ string ç±»å‹çš„æ‰€æœ‰æ–¹æ³•&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * this.redisTemplate.opsForList (); // æä¾›äº†æ“ä½œ list ç±»å‹çš„æ‰€æœ‰æ–¹æ³•&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * this.redisTemplate.opsForSet (); // æä¾›äº†æ“ä½œ set çš„æ‰€æœ‰æ–¹æ³•&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * this.redisTemplate.opsForHash (); // æä¾›äº†æ“ä½œ hash è¡¨çš„æ‰€æœ‰æ–¹æ³•&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * this.redisTemplate.opsForZSet (); // æä¾›äº†æ“ä½œ zset çš„æ‰€æœ‰æ–¹æ³•&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * @param lettuceConnectionFactory&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     * @return&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token annotation punctuation&#34;&gt;@Bean&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;RedisTemplate&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;LettuceConnectionFactory&lt;/span&gt; lettuceConnectionFactory&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token class-name&#34;&gt;RedisTemplate&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; redisTemplate &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;RedisTemplate&lt;/span&gt;&lt;span class=&#34;token generics&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        redisTemplate&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;setConnectionFactory&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;lettuceConnectionFactory&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// è®¾ç½® key åºåˆ—åŒ–æ–¹å¼ string&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        redisTemplate&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;setKeySerializer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;StringRedisSerializer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// è®¾ç½® value çš„åºåˆ—åŒ–æ–¹å¼ jsonï¼Œä½¿ç”¨ GenericJackson2JsonRedisSerializer æ›¿æ¢é»˜è®¤åºåˆ—åŒ–&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        redisTemplate&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;setValueSerializer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;GenericJackson2JsonRedisSerializer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        redisTemplate&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;setHashKeySerializer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;StringRedisSerializer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        redisTemplate&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;setHashValueSerializer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;GenericJackson2JsonRedisSerializer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;31&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        redisTemplate&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;afterPropertiesSet&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;32&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;33&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; redisTemplate&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;34&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;35&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;è°ƒç”¨å…¶ä»–å‘½ä»¤apiå®¶åº­ä½œä¸š&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è°ƒç”¨å…¶ä»–å‘½ä»¤apiå®¶åº­ä½œä¸š&#34;&gt;#&lt;/a&gt; è°ƒç”¨å…¶ä»–å‘½ä»¤ apiï¼ˆå®¶åº­ä½œä¸šï¼‰&lt;/h5&gt;
&lt;h4 id=&#34;è¿æ¥é›†ç¾¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¿æ¥é›†ç¾¤&#34;&gt;#&lt;/a&gt; è¿æ¥é›†ç¾¤&lt;/h4&gt;
&lt;h5 id=&#34;æ­¥éª¤æ¼”ç¤º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ­¥éª¤æ¼”ç¤º&#34;&gt;#&lt;/a&gt; æ­¥éª¤æ¼”ç¤º&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å¯åŠ¨ Redis é›†ç¾¤çš„ 6 å°å®ä¾‹ï¼ˆä¸‰ä¸»ä¸‰ä»ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ”¹å†™ YML&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;# &lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;redisé›†ç¾¤&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;redis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;password&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;111111&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;# è·å–å¤±è´¥ æœ€å¤§é‡å®šå‘æ¬¡æ•°&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;redis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cluster&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;max&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;redirects&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;redis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lettuce&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;pool&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;max&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;active&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;redis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lettuce&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;pool&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;max&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;wait&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;ms&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;redis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lettuce&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;pool&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;max&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;idle&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;redis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lettuce&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;pool&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;min&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;idle&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;redis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cluster&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;nodes&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.111&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.175&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6381&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.111&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.175&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6382&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.111&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.172&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6383&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.111&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.172&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6384&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.111&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.174&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6385&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.111&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.174&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6386&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€šè¿‡å¾®æœåŠ¡è®¿é—® redis é›†ç¾¤ï¼šä¸€åˆ‡ ok&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;æ•…éšœè½¬ç§»æ—¶çš„ç»å…¸é—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•…éšœè½¬ç§»æ—¶çš„ç»å…¸é—®é¢˜&#34;&gt;#&lt;/a&gt; æ•…éšœè½¬ç§»æ—¶çš„ç»å…¸é—®é¢˜&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;äººä¸ºæ¨¡æ‹Ÿ master 6381 æœºå™¨æ„å¤–å®•æœºï¼Œæ‰‹åŠ¨ shutdown&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹ redis é›†ç¾¤å‘½ä»¤æ–¹å¼ï¼Œæ‰‹åŠ¨éªŒè¯å„ç§è¯»å†™å‘½ä»¤ï¼Œslave 6384 æˆåŠŸä¸Šä½&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;&lt;u&gt;Redis ä¾§çš„é›†ç¾¤&lt;/u&gt;èƒ½è‡ªåŠ¨æ„ŸçŸ¥å¹¶å®Œæˆä¸»ä»åˆ‡æ¢&lt;/font&gt;ï¼Œå¯¹åº”çš„ slave 6384 ä¼šè¢«é€‰ä¸¾ä¸ºæ–°çš„ master&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;u&gt;å¾®æœåŠ¡å®¢æˆ·ç«¯&lt;/u&gt;å†æ¬¡è¯»å†™è®¿é—®ï¼Œå‘ç°è¿æ¥ä¸ä¸Š master 6381ï¼&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;SpringBoot å®¢æˆ·ç«¯æ²¡æœ‰åŠ¨æ€æ„ŸçŸ¥åˆ° Redis é›†ç¾¤çš„æœ€æ–°é›†ç¾¤ä¿¡æ¯&lt;/font&gt;ã€‚å½“ master å®•æœºä¸»ä»åˆ‡æ¢æˆåŠŸï¼Œredis æ‰‹åŠ¨ OKï¼Œä½†æ˜¯æœ‰ **&lt;font color=&#39;red&#39;&gt;2 ä¸ªç»å…¸æ•…éšœ&lt;/font&gt;**ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809214444224.png&#34; alt=&#34;image-20230809214444224&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æŠ¥é”™ï¼šå‘½ä»¤è¶…æ—¶ 1 åˆ†é’Ÿï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;C:%5CUsers%5Chuawei%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230809214514675.png&#34; alt=&#34;image-20230809214514675&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æŠ¥é”™ï¼šæ— æ³•è¿æ¥ 6381ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;æ ¹æœ¬åŸå› &lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;SpringBoot 2.X ç‰ˆæœ¬ï¼ŒRedis é»˜è®¤çš„è¿æ¥æ± é‡‡ç”¨ Lettuceã€‚å½“ Redis é›†ç¾¤èŠ‚ç‚¹å‘ç”Ÿå˜åŒ–åï¼ŒLetture é»˜è®¤æ˜¯ä¸ä¼šåˆ·æ–°èŠ‚ç‚¹æ‹“æ‰‘&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;gree&#39;&gt;è§£å†³æ–¹æ¡ˆ&lt;/font&gt;ï¼š&lt;font color=&#39;orange&#39;&gt;åˆ·æ–°èŠ‚ç‚¹é›†ç¾¤æ‹“æ‰‘åŠ¨æ€æ„Ÿåº”&lt;/font&gt;ã€‚&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;ä¿®æ”¹ YML ä¸­çš„ä¸¤ä¸ªé…ç½®é¡¹å³å¯&lt;/font&gt;ï¼&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809214957793.png&#34; alt=&#34;image-20230809214957793&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¿®æ”¹ YML&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;# &lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;redisé›†ç¾¤&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;redis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;password&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;111111&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;# è·å–å¤±è´¥ æœ€å¤§é‡å®šå‘æ¬¡æ•°&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;redis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cluster&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;max&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;redirects&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;redis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lettuce&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;pool&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;max&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;active&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;redis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lettuce&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;pool&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;max&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;wait&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;ms&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;redis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lettuce&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;pool&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;max&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;idle&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;redis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lettuce&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;pool&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;min&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;idle&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;# æ”¯æŒé›†ç¾¤æ‹“æ‰‘åŠ¨æ€æ„Ÿåº”åˆ·æ–°&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;è‡ªé€‚åº”æ‹“æ‰‘åˆ·æ–°æ˜¯å¦ä½¿ç”¨æ‰€æœ‰å¯ç”¨çš„æ›´æ–°ï¼Œé»˜è®¤&lt;span class=&#34;token boolean&#34;&gt;false&lt;/span&gt;å…³é—­&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;redis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lettuce&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cluster&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;refresh&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;adaptive&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token boolean&#34;&gt;true&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;# å®šæ—¶åˆ·æ–°&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;redis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lettuce&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cluster&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;refresh&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;period&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;2000&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spring&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;redis&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cluster&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;nodes&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.111&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.175&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6381&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.111&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.175&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6382&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.111&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.172&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6383&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.111&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.172&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6384&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.111&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.174&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6385&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.111&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.174&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6386&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;é«˜çº§ç¯‡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é«˜çº§ç¯‡&#34;&gt;#&lt;/a&gt; é«˜çº§ç¯‡&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;å‰ç½®æŠ€æœ¯è¦æ±‚ï¼šå¾®æœåŠ¡ï¼ˆbootã€cloudï¼‰+ docker + Nginx + JUC + Jmeter&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;1-redisçš„å•çº¿ç¨‹ä¸å¤šçº¿ç¨‹å…¥é—¨ç¯‡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#1-redisçš„å•çº¿ç¨‹ä¸å¤šçº¿ç¨‹å…¥é—¨ç¯‡&#34;&gt;#&lt;/a&gt; 1ã€Redis çš„å•çº¿ç¨‹ä¸å¤šçº¿ç¨‹ (å…¥é—¨ç¯‡)&lt;/h2&gt;
&lt;h2 id=&#34;2-bigkey&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#2-bigkey&#34;&gt;#&lt;/a&gt; 2ã€BigKey&lt;/h2&gt;
&lt;h2 id=&#34;3-ç¼“å­˜åŒå†™ä¸€è‡´æ€§ä¹‹æ›´æ–°ç­–ç•¥æ¢è®¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#3-ç¼“å­˜åŒå†™ä¸€è‡´æ€§ä¹‹æ›´æ–°ç­–ç•¥æ¢è®¨&#34;&gt;#&lt;/a&gt; 3ã€ç¼“å­˜åŒå†™ä¸€è‡´æ€§ä¹‹æ›´æ–°ç­–ç•¥æ¢è®¨&lt;/h2&gt;
&lt;h2 id=&#34;4-redisä¸mysqlæ•°æ®åŒå†™ä¸€è‡´æ€§å·¥ç¨‹è½åœ°æ¡ˆä¾‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#4-redisä¸mysqlæ•°æ®åŒå†™ä¸€è‡´æ€§å·¥ç¨‹è½åœ°æ¡ˆä¾‹&#34;&gt;#&lt;/a&gt; 4ã€Redis ä¸ MySQL æ•°æ®åŒå†™ä¸€è‡´æ€§å·¥ç¨‹è½åœ°æ¡ˆä¾‹&lt;/h2&gt;
&lt;h2 id=&#34;5-æ¡ˆä¾‹è½åœ°å®æˆ˜bitmaphyperlogloggeo&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#5-æ¡ˆä¾‹è½åœ°å®æˆ˜bitmaphyperlogloggeo&#34;&gt;#&lt;/a&gt; 5ã€æ¡ˆä¾‹è½åœ°å®æˆ˜ bitmap/HyperLogLog/GEO&lt;/h2&gt;
&lt;h2 id=&#34;6-å¸ƒéš†è¿‡æ»¤å™¨bloomfilter&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#6-å¸ƒéš†è¿‡æ»¤å™¨bloomfilter&#34;&gt;#&lt;/a&gt; 6ã€å¸ƒéš†è¿‡æ»¤å™¨ BloomFilter&lt;/h2&gt;
&lt;h2 id=&#34;7-ç¼“å­˜é¢„çƒ­ç¼“å­˜é›ªå´©ç¼“å­˜å‡»ç©¿ç¼“å­˜ç©¿é€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#7-ç¼“å­˜é¢„çƒ­ç¼“å­˜é›ªå´©ç¼“å­˜å‡»ç©¿ç¼“å­˜ç©¿é€&#34;&gt;#&lt;/a&gt; 7ã€ç¼“å­˜é¢„çƒ­ + ç¼“å­˜é›ªå´© + ç¼“å­˜å‡»ç©¿ + ç¼“å­˜ç©¿é€&lt;/h2&gt;
&lt;h2 id=&#34;8-æ‰‹å†™redisåˆ†å¸ƒå¼é”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#8-æ‰‹å†™redisåˆ†å¸ƒå¼é”&#34;&gt;#&lt;/a&gt; 8ã€æ‰‹å†™ Redis åˆ†å¸ƒå¼é”&lt;/h2&gt;
&lt;h2 id=&#34;9-redlockç®—æ³•å’Œåº•å±‚æºç åˆ†æ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#9-redlockç®—æ³•å’Œåº•å±‚æºç åˆ†æ&#34;&gt;#&lt;/a&gt; 9ã€Redlock ç®—æ³•å’Œåº•å±‚æºç åˆ†æ&lt;/h2&gt;
&lt;h2 id=&#34;10-redisç»å…¸äº”å¤§ç±»å‹æºç åŠåº•å±‚å®ç°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#10-redisç»å…¸äº”å¤§ç±»å‹æºç åŠåº•å±‚å®ç°&#34;&gt;#&lt;/a&gt; 10ã€Redis ç»å…¸äº”å¤§ç±»å‹æºç åŠåº•å±‚å®ç°&lt;/h2&gt;
&lt;h2 id=&#34;11-redisä¸ºä»€ä¹ˆå¿«é«˜æ€§èƒ½è®¾è®¡ä¹‹epollå’Œioå¤šè·¯å¤ç”¨æ·±åº¦è§£æ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#11-redisä¸ºä»€ä¹ˆå¿«é«˜æ€§èƒ½è®¾è®¡ä¹‹epollå’Œioå¤šè·¯å¤ç”¨æ·±åº¦è§£æ&#34;&gt;#&lt;/a&gt; 11ã€Redis ä¸ºä»€ä¹ˆå¿«ï¼Ÿé«˜æ€§èƒ½è®¾è®¡ä¹‹ epoll å’Œ IO å¤šè·¯å¤ç”¨æ·±åº¦è§£æ&lt;/h2&gt;
&lt;h2 id=&#34;12-ç»ˆç« ã®æ€»ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#12-ç»ˆç« ã®æ€»ç»“&#34;&gt;#&lt;/a&gt; 12ã€ç»ˆç« ã®æ€»ç»“&lt;/h2&gt;
</content>
        <category term="æ•°æ®åº“" scheme="http://example.com/categories/database/" />
        <category term="Redis" scheme="http://example.com/categories/database/redis/" />
        <updated>2023-12-01T08:11:24.031Z</updated>
    </entry>
    <entry>
        <id>http://example.com/database/mongodb/MongoDB-JavaGuide/</id>
        <title>MongoDB-JavaGuide</title>
        <link rel="alternate" href="http://example.com/database/mongodb/MongoDB-JavaGuide/"/>
        <content type="html">&lt;h1 id=&#34;mongodbå¸¸è§é¢è¯•é¢˜ä¸Š&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mongodbå¸¸è§é¢è¯•é¢˜ä¸Š&#34;&gt;#&lt;/a&gt; MongoDB å¸¸è§é¢è¯•é¢˜ï¼ˆä¸Šï¼‰&lt;/h1&gt;
&lt;h1 id=&#34;mongodbå¸¸è§é¢è¯•é¢˜ä¸‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mongodbå¸¸è§é¢è¯•é¢˜ä¸‹&#34;&gt;#&lt;/a&gt; MongoDB å¸¸è§é¢è¯•é¢˜ï¼ˆä¸‹ï¼‰&lt;/h1&gt;
</content>
        <category term="æ•°æ®åº“" scheme="http://example.com/categories/database/" />
        <category term="MongoDB" scheme="http://example.com/categories/database/mongodb/" />
        <updated>2023-11-17T12:07:21.834Z</updated>
    </entry>
    <entry>
        <id>http://example.com/database/elasticsearch/Elasticsearch-JavaGuide/</id>
        <title>Elasticsearch-JavaGuide</title>
        <link rel="alternate" href="http://example.com/database/elasticsearch/Elasticsearch-JavaGuide/"/>
        <content type="html"></content>
        <category term="æ•°æ®åº“" scheme="http://example.com/categories/database/" />
        <category term="Elasticsearch" scheme="http://example.com/categories/database/elasticsearch/" />
        <updated>2023-11-17T12:05:10.564Z</updated>
    </entry>
    <entry>
        <id>http://example.com/database/redis/Redis-JavaGuide/</id>
        <title>Redis-JavaGuide</title>
        <link rel="alternate" href="http://example.com/database/redis/Redis-JavaGuide/"/>
        <content type="html">&lt;h1 id=&#34;ç¼“å­˜åŸºç¡€å¸¸è§é¢è¯•é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¼“å­˜åŸºç¡€å¸¸è§é¢è¯•é¢˜&#34;&gt;#&lt;/a&gt; ç¼“å­˜åŸºç¡€å¸¸è§é¢è¯•é¢˜&lt;/h1&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆè¦ç”¨åˆ†å¸ƒå¼ç¼“å­˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸ºä»€ä¹ˆè¦ç”¨åˆ†å¸ƒå¼ç¼“å­˜&#34;&gt;#&lt;/a&gt; ä¸ºä»€ä¹ˆè¦ç”¨åˆ†å¸ƒå¼ç¼“å­˜ï¼Ÿ&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;ç›¸å…³é¢è¯•é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆè¦ç”¨ç¼“å­˜ï¼Ÿ&lt;/li&gt;
&lt;li&gt;æœ¬åœ°ç¼“å­˜åº”è¯¥æ€ä¹ˆåšï¼Ÿ&lt;/li&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆè¦æœ‰åˆ†å¸ƒå¼ç¼“å­˜ï¼Ÿ/ ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨æœ¬åœ°ç¼“å­˜ï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¤šçº§ç¼“å­˜äº†è§£ä¹ˆï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;ç¼“å­˜çš„åŸºæœ¬æ€æƒ³&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¼“å­˜çš„åŸºæœ¬æ€æƒ³&#34;&gt;#&lt;/a&gt; ç¼“å­˜çš„åŸºæœ¬æ€æƒ³&lt;/h3&gt;
&lt;p&gt;å¾ˆå¤šåŒå­¦åªçŸ¥é“&lt;font color=&#39;red&#39;&gt;ç¼“å­˜å¯ä»¥æé«˜ç³»ç»Ÿæ€§èƒ½ï¼Œå‡å°‘è¯·æ±‚ç›¸åº”æ—¶é—´&lt;/font&gt;ã€‚ä½†æ˜¯ï¼Œä¸å¤ªæ¸…æ¥šç¼“å­˜çš„æœ¬è´¨æ€æƒ³æ˜¯ä»€ä¹ˆã€‚&lt;/p&gt;
&lt;p&gt;ç¼“å­˜çš„åŸºæœ¬æ€æƒ³å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯æˆ‘ä»¬éå¸¸ç†Ÿæ‚‰çš„ **&lt;font color=&#39;red&#39;&gt;ç©ºé—´æ¢æ—¶é—´&lt;/font&gt;**ã€‚ä¸è¦æŠŠç¼“å­˜æƒ³çš„å¤ªé«˜å¤§ä¸Šï¼Œè™½ç„¶ï¼Œå®ƒçš„ç¡®å¯¹ç³»ç»Ÿçš„æ€§èƒ½æå‡çš„æ€§ä»·æ¯”éå¸¸é«˜ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®ï¼Œæˆ‘ä»¬åœ¨å­¦ä¹ ä½¿ç”¨ç¼“å­˜çš„æ—¶å€™ï¼Œä½ ä¼šå‘ç°ç¼“å­˜çš„æ€æƒ³å®é™…åœ¨æ“ä½œç³»ç»Ÿæˆ–è€…å…¶ä»–åœ°æ–¹éƒ½è¢«å¤§é‡ç”¨åˆ°ã€‚æ¯”å¦‚&lt;font color=&#39;red&#39;&gt; CPU Cache ç¼“å­˜çš„æ˜¯å†…å­˜æ•°æ®ï¼Œç”¨äºè§£å†³ CPU å¤„ç†é€Ÿåº¦å’Œå†…å­˜ä¸åŒ¹é…çš„é—®é¢˜&lt;/font&gt;ï¼›&lt;font color=&#39;red&#39;&gt;å†…å­˜ç¼“å­˜çš„æ˜¯ç¡¬ç›˜æ•°æ®ï¼Œç”¨äºè§£å†³ç¡¬ç›˜è®¿é—®é€Ÿåº¦è¿‡æ…¢çš„é—®é¢˜&lt;/font&gt;ï¼›&lt;font color=&#39;red&#39;&gt;æ“ä½œç³»ç»Ÿåœ¨é¡µè¡¨æ–¹æ¡ˆåŸºç¡€ä¹‹ä¸Šå¼•å…¥äº†å¿«è¡¨ï¼Œæ¥åŠ é€Ÿè™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€çš„è½¬æ¢&lt;/font&gt;ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå¿«è¡¨ç†è§£ä¸ºä¸€ç§ç‰¹æ®Šçš„é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨ï¼ˆCacheï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“ï¼Œç¼“å­˜ä¸­çš„æ•°æ®é€šå¸¸å­˜å‚¨äºå†…å­˜ä¸­ï¼Œå› æ­¤è®¿é—®é€Ÿåº¦éå¸¸å¿«ã€‚ä¸ºäº†é¿å…å†…å­˜ä¸­çš„æ•°æ®åœ¨é‡å¯æˆ–è€…å®•æœºä¹‹åä¸¢å¤±ï¼Œå¾ˆå¤šç¼“å­˜ä¸­é—´ä»¶ä¼šåˆ©ç”¨ç£ç›˜åšæŒä¹…åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œç¼“å­˜ç›¸æ¯”äºæˆ‘ä»¬å¸¸ç”¨çš„å…³ç³»å‹æ•°æ®åº“ï¼ˆæ¯”å¦‚ MySQLï¼‰æ¥è¯´è®¿é—®é€Ÿåº¦è¦å¿«éå¸¸å¤šã€‚&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä¸ºäº†é¿å…ç”¨æˆ·è¯·æ±‚æ•°æ®åº“ä¸­çš„æ•°æ®é€Ÿåº¦è¿‡æ…¢ï¼Œå¯ä»¥åœ¨æ•°æ®åº“ä¹‹ä¸Šå¢åŠ ä¸€å±‚ç¼“å­˜&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†èƒ½å¤Ÿæé«˜è®¿é—®é€Ÿåº¦ä¹‹å¤–ï¼Œ&lt;font color=&#39;red&#39;&gt;ç¼“å­˜æ”¯æŒçš„å¹¶å‘é‡ä¹Ÿè¦æ›´å¤§&lt;/font&gt;ï¼Œæœ‰äº†ç¼“å­˜ä¹‹åï¼Œæ•°æ®åº“çš„å‹åŠ›ä¹Ÿä¼šéšä¹‹å˜å°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç¼“å­˜çš„åˆ†ç±»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¼“å­˜çš„åˆ†ç±»&#34;&gt;#&lt;/a&gt; ç¼“å­˜çš„åˆ†ç±»&lt;/h3&gt;
&lt;h4 id=&#34;æœ¬åœ°ç¼“å­˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æœ¬åœ°ç¼“å­˜&#34;&gt;#&lt;/a&gt; æœ¬åœ°ç¼“å­˜&lt;/h4&gt;
&lt;h5 id=&#34;æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; æ˜¯ä»€ä¹ˆ&lt;/h5&gt;
&lt;p&gt;è¿™ä¸ªå®é™…åœ¨å¾ˆå¤šé¡¹ç›®ä¸­ç”¨çš„è›®å¤šï¼Œç‰¹åˆ«æ˜¯&lt;font color=&#39;red&#39;&gt;å•ä½“æ¶æ„&lt;/font&gt;çš„æ—¶å€™ã€‚&lt;font color=&#39;red&#39;&gt;æ•°æ®é‡ä¸å¤§ï¼Œå¹¶ä¸”æ²¡æœ‰åˆ†å¸ƒå¼è¦æ±‚&lt;/font&gt;çš„è¯ï¼Œä½¿ç”¨æœ¬åœ°ç¼“å­˜è¿˜æ˜¯å¯ä»¥çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æœ¬åœ°ç¼“å­˜ä½äºåº”ç”¨å†…éƒ¨ï¼Œå…¶æœ€å¤§çš„ä¼˜ç‚¹æ˜¯åº”ç”¨å­˜åœ¨äºåŒä¸€ä¸ªè¿›ç¨‹å†…éƒ¨ï¼Œè¯·æ±‚æœ¬åœ°ç¼“å­˜çš„é€Ÿåº¦éå¸¸å¿«ï¼Œä¸å­˜åœ¨é¢å¤–çš„ç½‘ç»œå¼€é”€&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¸¸è§çš„å•ä½“æ¶æ„å›¾å¦‚ä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ &lt;strong&gt;Nginx&lt;/strong&gt; æ¥åš&lt;strong&gt;è´Ÿè½½å‡è¡¡&lt;/strong&gt;ï¼Œéƒ¨ç½²ä¸¤ä¸ªç›¸åŒçš„åº”ç”¨åˆ°æœåŠ¡å™¨ï¼Œä¸¤ä¸ªæœåŠ¡ä½¿ç”¨åŒä¸€ä¸ªæ•°æ®åº“ï¼Œå¹¶ä¸”ä½¿ç”¨çš„æ˜¯æœ¬åœ°ç¼“å­˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/local-cache.png&#34; alt=&#34;local-cache.png&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;å®ç°æ–¹æ¡ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®ç°æ–¹æ¡ˆ&#34;&gt;#&lt;/a&gt; å®ç°æ–¹æ¡ˆ&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;1ã€JDK è‡ªå¸¦çš„ HashMap å’Œ ConcurrentHashMap&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸€èˆ¬ä¸ç”¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ConcurrentHashMap å¯ä»¥çœ‹ä½œæ˜¯çº¿ç¨‹å®‰å…¨ç‰ˆæœ¬çš„ HashMap ï¼Œä¸¤è€…éƒ½æ˜¯å­˜æ”¾ key/value å½¢å¼çš„é”®å€¼å¯¹ã€‚ä½†æ˜¯ï¼Œå¤§éƒ¨åˆ†åœºæ™¯æ¥è¯´ä¸ä¼šä½¿ç”¨è¿™ä¸¤è€…å½“åšç¼“å­˜ï¼Œå› ä¸º&lt;font color=&#39;red&#39;&gt;åªæä¾›äº†ç¼“å­˜çš„åŠŸèƒ½ï¼Œå¹¶æ²¡æœ‰æä¾›å…¶ä»–è¯¸å¦‚è¿‡æœŸæ—¶é—´ä¹‹ç±»çš„åŠŸèƒ½&lt;/font&gt;ã€‚ä¸€ä¸ªç¨å¾®å®Œå–„ä¸€ç‚¹çš„ç¼“å­˜æ¡†æ¶ **&lt;font color=&#39;red&#39;&gt;è‡³å°‘è¦æä¾›ï¼šè¿‡æœŸæ—¶é—´ã€æ·˜æ±°æœºåˆ¶ã€å‘½ä¸­ç‡ç»Ÿè®¡&lt;/font&gt;** è¿™ä¸‰ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2ã€ Ehcache ã€ Guava Cache ã€ Spring Cache æœ¬åœ°ç¼“å­˜æ¡†æ¶&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½¿ç”¨çš„æ¯”è¾ƒå¤š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Ehcache&lt;/code&gt; ï¼šç›¸æ¯”äºå…¶ä»–ä¸¤è€…&lt;font color=&#39;red&#39;&gt;æ›´åŠ é‡é‡&lt;/font&gt;ï¼Œä¸è¿‡  &lt;code&gt;Ehcache&lt;/code&gt;  æ”¯æŒå¯ä»¥åµŒå…¥åˆ° hibernate å’Œ mybatis ä½œä¸º&lt;font color=&#39;red&#39;&gt;å¤šçº§ç¼“å­˜&lt;/font&gt;ï¼Œå¹¶ä¸”å¯ä»¥å°†ç¼“å­˜çš„æ•°æ®&lt;font color=&#39;red&#39;&gt;æŒä¹…åŒ–&lt;/font&gt;åˆ°æœ¬åœ°ç£ç›˜ä¸­ã€åŒæ—¶ä¹Ÿæä¾›äº†&lt;font color=&#39;red&#39;&gt;é›†ç¾¤æ–¹æ¡ˆ&lt;/font&gt;ï¼ˆæ¯”è¾ƒé¸¡è‚‹ï¼Œå¯å¿½ç•¥ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Guava Cache&lt;/code&gt;  å’Œ  &lt;code&gt;Spring Cache&lt;/code&gt;  æ¯”è¾ƒåƒã€‚ &lt;code&gt;Guava &lt;/code&gt; ç›¸æ¯”äº &lt;code&gt;Spring Cache &lt;/code&gt; çš„è¯ä½¿ç”¨çš„æ›´å¤šä¸€ç‚¹ï¼Œå®ƒæä¾›äº† API éå¸¸æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨ï¼ŒåŒæ—¶ä¹Ÿæä¾›äº†&lt;font color=&#39;red&#39;&gt;è®¾ç½®ç¼“å­˜æœ‰æ•ˆæ—¶é—´&lt;/font&gt;ç­‰åŠŸèƒ½ã€‚å®ƒçš„å†…éƒ¨å®ç°ä¹Ÿæ¯”è¾ƒå¹²å‡€ï¼Œå¾ˆå¤šåœ°æ–¹éƒ½å’Œ  &lt;code&gt;ConcurrentHashMap&lt;/code&gt;  çš„æ€æƒ³æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨  &lt;code&gt;Spring Cache&lt;/code&gt;  çš„æ³¨è§£å®ç°ç¼“å­˜çš„è¯ï¼Œ&lt;font color=&#39;red&#39;&gt;ä»£ç ä¼šçœ‹ç€å¾ˆå¹²å‡€å’Œä¼˜é›…&lt;/font&gt;ï¼Œä½†æ˜¯å¾ˆå®¹æ˜“å‡ºç°é—®é¢˜æ¯”å¦‚&lt;font color=&#39;red&#39;&gt;ç¼“å­˜ç©¿é€ã€å†…å­˜æº¢å‡º&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;3ã€åèµ·ä¹‹ç§€ Caffeine&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½¿ç”¨æœ€å¤š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç›¸æ¯”äº  &lt;code&gt; Guava&lt;/code&gt;  æ¥è¯´  &lt;code&gt; Caffeine&lt;/code&gt;  åœ¨å„ä¸ªæ–¹é¢æ¯”å¦‚æ€§èƒ½è¦æ›´åŠ ä¼˜ç§€ï¼Œä¸€èˆ¬å»ºè®®ä½¿ç”¨å…¶æ¥æ›¿ä»£  &lt;code&gt;Guava&lt;/code&gt; ã€‚å¹¶ä¸” &lt;code&gt;Guava&lt;/code&gt;  å’Œ  &lt;code&gt;Caffeine&lt;/code&gt;  çš„ä½¿ç”¨æ–¹å¼å¾ˆåƒï¼&lt;/p&gt;
&lt;h5 id=&#34;ç¼ºç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¼ºç‚¹&#34;&gt;#&lt;/a&gt; ç¼ºç‚¹&lt;/h5&gt;
&lt;p&gt;æœ¬åœ°çš„ç¼“å­˜çš„ä¼˜åŠ¿éå¸¸æ˜æ˜¾ï¼šä½ä¾èµ–ã€è½»é‡ã€ç®€å•ã€æˆæœ¬ä½ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œæœ¬åœ°ç¼“å­˜å­˜åœ¨ä¸‹é¢è¿™äº›ç¼ºé™·ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æœ¬åœ°ç¼“å­˜åº”ç”¨è€¦åˆï¼Œå¯¹åˆ†å¸ƒå¼æ¶æ„æ”¯æŒä¸å‹å¥½&lt;/font&gt;&lt;/strong&gt;ï¼šæ¯”å¦‚åŒä¸€ä¸ªç›¸åŒçš„æœåŠ¡éƒ¨ç½²åœ¨å¤šå°æœºå™¨ä¸Šçš„æ—¶å€™ï¼Œå„ä¸ªæœåŠ¡ä¹‹é—´çš„ç¼“å­˜æ˜¯æ— æ³•å…±äº«çš„ï¼Œå› ä¸ºæœ¬åœ°ç¼“å­˜åªåœ¨å½“å‰æœºå™¨ä¸Šæœ‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æœ¬åœ°ç¼“å­˜çš„å®¹é‡å—æœåŠ¡éƒ¨ç½²æ‰€åœ¨æœºå™¨çš„é™åˆ¶æ˜æ˜¾&lt;/font&gt;&lt;/strong&gt;ï¼šå¦‚æœå½“å‰ç³»ç»ŸæœåŠ¡æ‰€è€—è´¹çš„å†…å­˜å¤šï¼Œé‚£ä¹ˆæœ¬åœ°ç¼“å­˜å¯ç”¨çš„å®¹é‡å°±å¾ˆå°‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;åˆ†å¸ƒå¼ç¼“å­˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†å¸ƒå¼ç¼“å­˜&#34;&gt;#&lt;/a&gt; åˆ†å¸ƒå¼ç¼“å­˜&lt;/h4&gt;
&lt;h5 id=&#34;æ˜¯ä»€ä¹ˆ-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ˜¯ä»€ä¹ˆ-2&#34;&gt;#&lt;/a&gt; æ˜¯ä»€ä¹ˆ&lt;/h5&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥æŠŠåˆ†å¸ƒå¼ç¼“å­˜ï¼ˆDistributed Cacheï¼‰çœ‹ä½œæ˜¯ä¸€ç§å†…å­˜æ•°æ®åº“çš„æœåŠ¡ï¼Œå®ƒçš„æœ€ç»ˆä½œç”¨å°±æ˜¯æä¾›ç¼“å­˜æ•°æ®çš„æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;åˆ†å¸ƒå¼ç¼“å­˜è„±ç¦»äºåº”ç”¨ç‹¬ç«‹å­˜åœ¨ï¼Œå¤šä¸ªåº”ç”¨å¯ç›´æ¥çš„å…±åŒä½¿ç”¨åŒä¸€ä¸ªåˆ†å¸ƒå¼ç¼“å­˜æœåŠ¡&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå°±æ˜¯ä¸€ä¸ªç®€å•çš„ä½¿ç”¨åˆ†å¸ƒå¼ç¼“å­˜çš„æ¶æ„å›¾ã€‚æˆ‘ä»¬ä½¿ç”¨ Nginx æ¥åšè´Ÿè½½å‡è¡¡ï¼Œéƒ¨ç½²ä¸¤ä¸ªç›¸åŒçš„åº”ç”¨åˆ°æœåŠ¡å™¨ï¼Œä¸¤ä¸ªæœåŠ¡ä½¿ç”¨åŒä¸€ä¸ªæ•°æ®åº“å’Œç¼“å­˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/distributed-cache.png&#34; alt=&#34;distributed-cache.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨åˆ†å¸ƒå¼ç¼“å­˜ä¹‹åï¼Œ&lt;font color=&#39;red&#39;&gt;ç¼“å­˜æœåŠ¡å¯ä»¥éƒ¨ç½²åœ¨ä¸€å°å•ç‹¬çš„æœåŠ¡å™¨ä¸Š&lt;/font&gt;ï¼Œå³ä½¿åŒä¸€ä¸ªç›¸åŒçš„æœåŠ¡éƒ¨ç½²åœ¨å¤šå°æœºå™¨ä¸Šï¼Œä¹Ÿæ˜¯ä½¿ç”¨çš„åŒä¸€ä»½ç¼“å­˜ã€‚ å¹¶ä¸”ï¼Œå•ç‹¬çš„åˆ†å¸ƒå¼ç¼“å­˜æœåŠ¡çš„&lt;font color=&#39;red&#39;&gt;æ€§èƒ½ã€å®¹é‡å’Œæä¾›çš„åŠŸèƒ½éƒ½è¦æ›´åŠ å¼ºå¤§&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;** ä½†æ˜¯ï¼Œè½¯ä»¶ç³»ç»Ÿè®¾è®¡ä¸­æ²¡æœ‰é“¶å¼¹ï¼Œå¾€å¾€ä»»ä½•æŠ€æœ¯çš„å¼•å…¥éƒ½åƒæ˜¯æŠŠåŒåˆƒå‰‘ã€‚** ä½ ä½¿ç”¨çš„æ–¹å¼å¾—å½“ï¼Œå°±èƒ½ä¸ºç³»ç»Ÿå¸¦æ¥å¾ˆå¤§çš„æ”¶ç›Šã€‚å¦åˆ™ï¼Œåªæ˜¯è´¹äº†ç²¾åŠ›ä¸è®¨å¥½ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•æ¥è¯´ï¼Œä¸ºç³»ç»Ÿå¼•å…¥åˆ†å¸ƒå¼ç¼“å­˜ä¹‹åå¾€å¾€ä¼šå¸¦æ¥ä¸‹é¢è¿™äº›é—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç³»ç»Ÿå¤æ‚æ€§å¢åŠ &lt;/font&gt;&lt;/strong&gt;ï¼šå¼•å…¥ç¼“å­˜ä¹‹åï¼Œ&lt;font color=&#39;red&#39;&gt;è¦ç»´æŠ¤ç¼“å­˜å’Œæ•°æ®åº“çš„æ•°æ®ä¸€è‡´æ€§ã€ç»´æŠ¤çƒ­ç‚¹ç¼“å­˜ã€ä¿è¯ç¼“å­˜æœåŠ¡çš„é«˜å¯ç”¨&lt;/font&gt;ç­‰ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç³»ç»Ÿå¼€å‘æˆæœ¬å¢åŠ &lt;/font&gt;&lt;/strong&gt;ï¼šå¼•å…¥ç¼“å­˜æ„å‘³ç€ç³»ç»Ÿéœ€è¦ä¸€ä¸ªå•ç‹¬çš„ç¼“å­˜æœåŠ¡ï¼Œè¿™æ˜¯éœ€è¦èŠ±è´¹ç›¸åº”çš„æˆæœ¬çš„ï¼Œå¹¶ä¸”è¿™ä¸ªæˆæœ¬è¿˜æ˜¯å¾ˆè´µçš„ï¼Œæ¯•ç«Ÿè€—è´¹çš„æ˜¯å®è´µçš„å†…å­˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å®ç°æ–¹æ¡ˆredis&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®ç°æ–¹æ¡ˆredis&#34;&gt;#&lt;/a&gt; å®ç°æ–¹æ¡ˆï¼šRedis&lt;/h5&gt;
&lt;p&gt;å”¯ä¸€çœŸç¥ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Redis&lt;/font&gt;&lt;/strong&gt;ï¼&lt;/p&gt;
&lt;h4 id=&#34;å¤šçº§ç¼“å­˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¤šçº§ç¼“å­˜&#34;&gt;#&lt;/a&gt; å¤šçº§ç¼“å­˜&lt;/h4&gt;
&lt;p&gt;è¿™é‡Œåªæ¥ç®€å•èŠèŠ &lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æœ¬åœ°ç¼“å­˜ + åˆ†å¸ƒå¼ç¼“å­˜&lt;/font&gt;&lt;/strong&gt; çš„å¤šçº§ç¼“å­˜æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ—¶å€™ä¼°è®¡æœ‰å¾ˆå¤šå°ä¼™ä¼´å°±ä¼šé—®äº†ï¼šæ—¢ç„¶ç”¨äº†åˆ†å¸ƒå¼ç¼“å­˜ï¼Œä¸ºä»€ä¹ˆè¿˜è¦ç”¨æœ¬åœ°ç¼“å­˜å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;çš„ç¡®ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ä¸å»ºè®®ä½¿ç”¨å¤šçº§ç¼“å­˜çš„ï¼Œè¿™ä¼šå¢åŠ ç»´æŠ¤è´Ÿæ‹…&lt;/font&gt;ï¼ˆæ¯”å¦‚ä½ éœ€è¦ä¿è¯ä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜çš„æ•°æ®ä¸€è‡´æ€§ï¼‰ï¼Œå¹¶ä¸”ï¼Œå®é™…å¸¦æ¥çš„æå‡æ•ˆæœå¯¹äºç»å¤§éƒ¨åˆ†é¡¹ç›®æ¥è¯´å…¶å®å¹¶ä¸æ˜¯å¾ˆå¤§ã€‚&lt;/p&gt;
&lt;p&gt;å¤šçº§ç¼“å­˜æ–¹æ¡ˆä¸­ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç¬¬ä¸€çº§ç¼“å­˜ï¼ˆL1ï¼‰ä½¿ç”¨æœ¬åœ°å†…å­˜ï¼ˆæ¯”å¦‚ Caffeineï¼‰ï¼Œç¬¬äºŒçº§ç¼“å­˜ï¼ˆL2ï¼‰ä½¿ç”¨åˆ†å¸ƒå¼ç¼“å­˜ï¼ˆæ¯”å¦‚ Redisï¼‰&lt;/font&gt;&lt;/strong&gt;ã€‚è¯»å–ç¼“å­˜æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬&lt;font color=&#39;red&#39;&gt;å…ˆä» L1 ä¸­è¯»å–ï¼Œè¯»å–ä¸åˆ°çš„æ—¶å€™å†å» L2 è¯»å–&lt;/font&gt;ã€‚è¿™æ ·å¯ä»¥é™ä½ L2 çš„å‹åŠ›ï¼Œå‡å°‘ L2 çš„è¯»æ¬¡æ•°ã€‚å¹¶ä¸”ï¼Œ&lt;font color=&#39;red&#39;&gt;æœ¬åœ°å†…å­˜çš„è®¿é—®é€Ÿåº¦æ˜¯æœ€å¿«çš„ï¼Œä¸å­˜åœ¨ä»€ä¹ˆç½‘ç»œå¼€é”€&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/multilevel-cache.png&#34; alt=&#34;multilevel-cache.png&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;å¸¸è§çš„ç¼“å­˜æ›´æ–°ç­–ç•¥æœ‰å“ªå‡ ç§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¸¸è§çš„ç¼“å­˜æ›´æ–°ç­–ç•¥æœ‰å“ªå‡ ç§&#34;&gt;#&lt;/a&gt; å¸¸è§çš„ç¼“å­˜æ›´æ–°ç­–ç•¥æœ‰å“ªå‡ ç§ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;ä¸‹é¢ä»‹ç»åˆ°çš„ä¸‰ç§æ¨¡å¼å„æœ‰ä¼˜åŠ£ï¼Œä¸å­˜åœ¨æœ€ä½³æ¨¡å¼ï¼Œæ ¹æ®å…·ä½“çš„ä¸šåŠ¡åœºæ™¯é€‰æ‹©é€‚åˆè‡ªå·±çš„ç¼“å­˜è¯»å†™æ¨¡å¼å³å¯ï¼&lt;/p&gt;
&lt;h3 id=&#34;cache-aside-patternæ—è·¯ç¼“å­˜æ¨¡å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#cache-aside-patternæ—è·¯ç¼“å­˜æ¨¡å¼&#34;&gt;#&lt;/a&gt; Cache Aside Patternï¼ˆæ—è·¯ç¼“å­˜æ¨¡å¼ï¼‰&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;å¹³æ—¶ä½¿ç”¨æ¯”è¾ƒå¤š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;æ˜¯ä»€ä¹ˆ-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ˜¯ä»€ä¹ˆ-3&#34;&gt;#&lt;/a&gt; æ˜¯ä»€ä¹ˆ&lt;/h4&gt;
&lt;p&gt;Cache Aside Pattern æ˜¯æˆ‘ä»¬&lt;font color=&#39;red&#39;&gt;å¹³æ—¶ä½¿ç”¨æ¯”è¾ƒå¤š&lt;/font&gt;çš„ä¸€ä¸ªç¼“å­˜è¯»å†™æ¨¡å¼ï¼Œ&lt;font color=&#39;red&#39;&gt;é€‚åˆè¯»è¯·æ±‚æ¯”è¾ƒå¤šçš„åœºæ™¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Cache Aside Pattern ä¸­ **&lt;font color=&#39;red&#39;&gt;æœåŠ¡ç«¯éœ€è¦åŒæ—¶ç»´ç³»æ•°æ®åº“ï¼ˆåæ–‡ç®€ç§° dbï¼‰å’Œç¼“å­˜ï¼ˆåæ–‡ç®€ç§° cacheï¼‰&lt;/font&gt;**ï¼Œå¹¶ä¸”æ˜¯&lt;font color=&#39;red&#39;&gt;ä»¥ db çš„ç»“æœä¸ºå‡†&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¼“å­˜è¯»å†™æ­¥éª¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¼“å­˜è¯»å†™æ­¥éª¤&#34;&gt;#&lt;/a&gt; ç¼“å­˜è¯»å†™æ­¥éª¤&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;å†™&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆæ›´æ–° db&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ç›´æ¥åˆ é™¤ cache&lt;/font&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/fd814571-c1ae-4f7e-aad8-5dac5b741de8.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¯»&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆä» cache ä¸­è¯»å–æ•°æ®ï¼Œè¯»å–åˆ°å°±ç›´æ¥è¿”å›&lt;/li&gt;
&lt;li&gt;cache ä¸­è¯»å–ä¸åˆ°çš„è¯ï¼Œå†ä» db ä¸­è¯»å–æ•°æ®è¿”å›&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å†æŠŠä» db ä¸­è¯»å–åˆ°çš„æ•°æ®å†™å…¥ cache ä¸­&lt;/font&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/cfa0a217-53d2-45d8-b9e9-13970de9982c.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;åŸç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸç†&#34;&gt;#&lt;/a&gt; åŸç†&lt;/h4&gt;
&lt;p&gt;é—®é¢˜ï¼š&lt;strong&gt;å†™æ•°æ®æ—¶ä¸ºä»€ä¹ˆåˆ é™¤ cacheï¼Œè€Œä¸æ˜¯æ›´æ–° cacheï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä»…ä»…äº†è§£äº†ä¸Šé¢è¿™äº›å†…å®¹çš„è¯æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬è¿˜è¦ææ‡‚å…¶ä¸­çš„åŸç†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸»è¦åŸå› æœ‰ä¸¤ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¯¹æœåŠ¡ç«¯èµ„æºé€ æˆæµªè´¹&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;åˆ é™¤ cache æ›´åŠ ç›´æ¥&lt;/font&gt;ï¼Œè¿™æ˜¯å› ä¸º cache ä¸­å­˜æ”¾çš„ä¸€äº›æ•°æ®éœ€è¦æœåŠ¡ç«¯ç»è¿‡å¤§é‡çš„è®¡ç®—æ‰èƒ½å¾—å‡ºï¼Œä¼šæ¶ˆè€—æœåŠ¡ç«¯çš„èµ„æºï¼Œæ˜¯ä¸€ç¬”ä¸å°çš„å¼€é”€ã€‚&lt;font color=&#39;red&#39;&gt;å¦‚æœé¢‘ç¹ä¿®æ”¹ dbï¼Œå°±èƒ½ä¼šå¯¼è‡´éœ€è¦é¢‘ç¹æ›´æ–° cacheï¼Œè€Œ cache ä¸­çš„æ•°æ®å¯èƒ½éƒ½æ²¡æœ‰è¢«è®¿é—®åˆ°&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;äº§ç”Ÿæ•°æ®ä¸ä¸€è‡´é—®é¢˜&lt;/font&gt;&lt;/strong&gt;ï¼šå¹¶å‘åœºæ™¯ä¸‹ï¼Œæ›´æ–° cache äº§ç”Ÿæ•°æ®ä¸ä¸€è‡´æ€§é—®é¢˜çš„æ¦‚ç‡ä¼šæ›´å¤§ï¼ˆåæ–‡ä¼šè§£é‡ŠåŸå› ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr /&gt;
&lt;p&gt;è¿½é—®ï¼š&lt;strong&gt;å†™æ•°æ®æ—¶ï¼Œä¸ºä»€ä¹ˆä¸å…ˆåˆ é™¤ cache ï¼Œå†æ›´æ–° db ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç­”æ¡ˆï¼šé‚£è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼å› ä¸ºè¿™æ ·å¯èƒ½ **&lt;font color=&#39;red&#39;&gt;ä¼šé€ æˆæ•°æ®åº“ï¼ˆdbï¼‰å’Œç¼“å­˜ï¼ˆCacheï¼‰æ•°æ®ä¸ä¸€è‡´&lt;/font&gt;** çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¾‹ï¼šè¯·æ±‚ 1 å…ˆå†™æ•°æ® Aï¼Œè¯·æ±‚ 2 éšåè¯»æ•°æ® A çš„è¯ï¼Œå°±å¾ˆæœ‰å¯èƒ½äº§ç”Ÿæ•°æ®ä¸ä¸€è‡´æ€§çš„é—®é¢˜ã€‚è¿™ä¸ªè¿‡ç¨‹å¯ä»¥ç®€å•æè¿°ä¸ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;è¯·æ±‚ 1 å…ˆæŠŠ cache ä¸­çš„ A æ•°æ®åˆ é™¤ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¯·æ±‚ 2 ä» db ä¸­è¯»å–æ•°æ®ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¯·æ±‚ 1 å†æŠŠ db ä¸­çš„ A æ•°æ®æ›´æ–°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™å°±ä¼šå¯¼è‡´è¯·æ±‚ 2 è¯»å–åˆ°çš„æ˜¯æ—§å€¼ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;è¿½é—®ï¼š&lt;strong&gt;å†™æ•°æ®æ—¶ï¼Œå…ˆæ›´æ–° dbï¼Œååˆ é™¤ cache å°±æ²¡æœ‰é—®é¢˜äº†ä¹ˆï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç­”æ¡ˆï¼šç†è®ºä¸Šæ¥è¯´&lt;font color=&#39;red&#39;&gt;å‡ºç°æ•°æ®ä¸ä¸€è‡´æ€§çš„æ¦‚ç‡éå¸¸å°ï¼Œå› ä¸ºç¼“å­˜çš„å†™å…¥é€Ÿåº¦æ˜¯æ¯”æ•°æ®åº“çš„å†™å…¥é€Ÿåº¦å¿«å¾ˆå¤š&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¾‹ï¼šè¯·æ±‚ 1 å…ˆè¯»æ•°æ® Aï¼Œè¯·æ±‚ 2 éšåå†™æ•°æ® Aï¼Œå¹¶ä¸”æ•°æ® A åœ¨è¯·æ±‚ 1 è¯·æ±‚ä¹‹å‰ä¸åœ¨ç¼“å­˜ä¸­çš„è¯ï¼Œä¹Ÿæœ‰å¯èƒ½äº§ç”Ÿæ•°æ®ä¸ä¸€è‡´æ€§çš„é—®é¢˜ã€‚è¿™ä¸ªè¿‡ç¨‹å¯ä»¥ç®€å•æè¿°ä¸ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;è¯·æ±‚ 1 ä» db è¯»æ•°æ® Aï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¯·æ±‚ 2 æ›´æ–° db ä¸­çš„æ•°æ® Aï¼ˆæ­¤æ—¶ç¼“å­˜ä¸­æ— æ•°æ® A ï¼Œæ•…ä¸ç”¨æ‰§è¡Œåˆ é™¤ç¼“å­˜æ“ä½œ ï¼‰ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¯·æ±‚ 1 å°†æ•°æ® A å†™å…¥ cacheã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™å°±ä¼šå¯¼è‡´ cache ä¸­å­˜æ”¾çš„å…¶å®æ˜¯æ—§å€¼ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¼ºç‚¹-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¼ºç‚¹-2&#34;&gt;#&lt;/a&gt; ç¼ºç‚¹&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç¼ºé™· 1ï¼š&lt;strong&gt;é¦–æ¬¡è¯·æ±‚æ•°æ®ä¸€å®šä¸åœ¨ cache ä¸­&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è§£å†³åŠæ³•ï¼š&lt;font color=&#39;red&#39;&gt;å°†çƒ­ç‚¹æ•°æ®æå‰æ”¾å…¥ cache ä¸­&lt;/font&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¼ºé™· 2ï¼š&lt;strong&gt;å†™æ“ä½œæ¯”è¾ƒé¢‘ç¹çš„è¯ï¼Œä¼šå¯¼è‡´ cache ä¸­çš„æ•°æ®é¢‘ç¹è¢«åˆ é™¤ï¼Œå½±å“ç¼“å­˜å‘½ä¸­ç‡&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è§£å†³åŠæ³•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ•°æ®åº“å’Œç¼“å­˜æ•°æ®å¼ºä¸€è‡´åœºæ™¯ï¼šæ›´æ–° db çš„æ—¶å€™åŒæ ·æ›´æ–° cacheï¼Œä¸è¿‡æˆ‘ä»¬éœ€è¦åŠ ä¸€ä¸ªé” / åˆ†å¸ƒå¼é”æ¥ä¿è¯æ›´æ–° cache çš„æ—¶å€™ä¸å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯ä»¥çŸ­æš‚åœ°å…è®¸æ•°æ®åº“å’Œç¼“å­˜æ•°æ®ä¸ä¸€è‡´çš„åœºæ™¯ï¼šæ›´æ–° db çš„æ—¶å€™åŒæ ·æ›´æ–° cacheï¼Œä½†æ˜¯ç»™ç¼“å­˜åŠ ä¸€ä¸ªæ¯”è¾ƒçŸ­çš„è¿‡æœŸæ—¶é—´ï¼Œè¿™æ ·çš„è¯å°±å¯ä»¥ä¿è¯å³ä½¿æ•°æ®ä¸ä¸€è‡´çš„è¯å½±å“ä¹Ÿæ¯”è¾ƒå°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;readwrite-through-patternè¯»å†™ç©¿é€æ¨¡å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#readwrite-through-patternè¯»å†™ç©¿é€æ¨¡å¼&#34;&gt;#&lt;/a&gt; Read/Write Through Patternï¼ˆè¯» / å†™ç©¿é€æ¨¡å¼ï¼‰&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨å¹³æ—¶å¼€å‘è¿‡ç¨‹ä¸­éå¸¸å°‘è§&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;æ˜¯ä»€ä¹ˆ-4&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ˜¯ä»€ä¹ˆ-4&#34;&gt;#&lt;/a&gt; æ˜¯ä»€ä¹ˆ&lt;/h4&gt;
&lt;p&gt;Read/Write Through Pattern ä¸­æœåŠ¡ç«¯ **&lt;font color=&#39;red&#39;&gt;æŠŠ cache è§†ä¸ºä¸»è¦æ•°æ®å­˜å‚¨ï¼Œä»ä¸­è¯» / å†™æ•°æ®ï¼›è€Œ cache æœåŠ¡è´Ÿè´£å°†æ­¤æ•°æ®è¯»å–å’Œå†™å…¥ dbï¼Œä»è€Œå‡è½»äº†åº”ç”¨ç¨‹åºçš„èŒè´£&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§ç¼“å­˜è¯»å†™ç­–ç•¥å°ä¼™ä¼´ä»¬åº”è¯¥ä¹Ÿå‘ç°äº†&lt;font color=&#39;red&#39;&gt;åœ¨å¹³æ—¶å¼€å‘è¿‡ç¨‹ä¸­éå¸¸å°‘è§&lt;/font&gt;ã€‚æŠ›å»æ€§èƒ½æ–¹é¢çš„å½±å“ï¼Œå¤§æ¦‚ç‡æ˜¯å› ä¸ºæˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„åˆ†å¸ƒå¼ç¼“å­˜&lt;font color=&#39;red&#39;&gt; Redis å¹¶æ²¡æœ‰æä¾›å°† cache æ•°æ®å†™å…¥ db çš„åŠŸèƒ½&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¼“å­˜è¯»å†™æ­¥éª¤-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¼“å­˜è¯»å†™æ­¥éª¤-2&#34;&gt;#&lt;/a&gt; ç¼“å­˜è¯»å†™æ­¥éª¤&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;å†™ï¼ˆWrite Throughï¼‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸æ—è·¯ç¼“å­˜æ¨¡å¼çš„å†™æ­¥éª¤ä¸åŒ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å…ˆæ£€æŸ¥ cache ä¸­æ˜¯å¦å­˜åœ¨è¦å†™å…¥çš„æ•°æ®&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;è‹¥ cache ä¸­ä¸å­˜åœ¨&lt;/font&gt;ï¼Œåˆ™ç›´æ¥æ›´æ–° db&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;è‹¥ cache ä¸­å­˜åœ¨&lt;/font&gt;ï¼Œåˆ™å…ˆæ›´æ–° cacheï¼›ç„¶å cache æœåŠ¡å†æ›´æ–° db&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/0126e23d-f0d1-4c30-a568-b60405b3dda8.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¯»ï¼ˆRead Throughï¼‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸æ—è·¯ç¼“å­˜æ¨¡å¼çš„è¯»æ­¥éª¤ä¸€æ ·&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å…ˆä» cache ä¸­è¯»å–æ•°æ®ï¼Œè¯»å–åˆ°å°±ç›´æ¥è¿”å›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä» cache ä¸­è¯»å–ä¸åˆ°çš„è¯ï¼Œå†ä» db åŠ è½½ï¼Œæœ€åå†™å…¥ cache ï¼Œè¿”å›å“åº”&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/e685e967-1655-4424-a75d-490101b52087.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;åŸç†-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸç†-2&#34;&gt;#&lt;/a&gt; åŸç†&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;Read-Through Pattern å®é™…åªæ˜¯åœ¨ Cache-Aside Pattern ä¹‹ä¸Šè¿›è¡Œäº†å°è£…&lt;/strong&gt;ã€‚åœ¨ Cache-Aside Pattern ä¸‹ï¼Œå‘ç”Ÿè¯»è¯·æ±‚çš„æ—¶å€™ï¼Œå¦‚æœ cache ä¸­ä¸å­˜åœ¨å¯¹åº”çš„æ•°æ®ï¼Œæ˜¯ç”±å®¢æˆ·ç«¯è‡ªå·±è´Ÿè´£æŠŠæ•°æ®å†™å…¥ cacheï¼Œè€Œ Read Through Pattern åˆ™æ˜¯ cache æœåŠ¡è‡ªå·±æ¥å†™å…¥ç¼“å­˜çš„ï¼Œè¿™å¯¹å®¢æˆ·ç«¯æ˜¯é€æ˜çš„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¼ºç‚¹-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¼ºç‚¹-3&#34;&gt;#&lt;/a&gt; ç¼ºç‚¹&lt;/h4&gt;
&lt;p&gt;å’Œ Cache Aside Pattern ä¸€æ ·ï¼Œ Read-Through Pattern &lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä¹Ÿå­˜åœ¨é¦–æ¬¡è¯·æ±‚æ•°æ®ä¸€å®šä¸åœ¨ cache çš„é—®é¢˜ï¼Œå¯ä»¥å°†çƒ­ç‚¹æ•°æ®æå‰æ”¾å…¥ cache ä¸­&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;write-behind-patternå¼‚æ­¥ç¼“å­˜å†™å…¥æ¨¡å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#write-behind-patternå¼‚æ­¥ç¼“å­˜å†™å…¥æ¨¡å¼&#34;&gt;#&lt;/a&gt; Write Behind Patternï¼ˆå¼‚æ­¥ç¼“å­˜å†™å…¥æ¨¡å¼ï¼‰&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨å¹³æ—¶å¼€å‘è¿‡ç¨‹ä¸­ä¹Ÿéå¸¸éå¸¸å°‘è§&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Write Behind Pattern å’Œ Read/Write Through Pattern å¾ˆç›¸ä¼¼ï¼Œä¸¤è€…éƒ½æ˜¯ç”± cache æœåŠ¡æ¥è´Ÿè´£ cache å’Œ db çš„è¯»å†™ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œä¸¤ä¸ªåˆæœ‰å¾ˆå¤§çš„ä¸åŒï¼š&lt;strong&gt;Read/Write Through æ˜¯åŒæ­¥æ›´æ–° cache å’Œ dbï¼Œ&lt;font color=&#39;red&#39;&gt;è€Œ Write Behind åˆ™æ˜¯åªæ›´æ–° cacheï¼Œä¸ç›´æ¥æ›´æ–° dbï¼Œè€Œæ˜¯æ”¹ä¸ºå¼‚æ­¥æ‰¹é‡çš„æ–¹å¼æ¥æ›´æ–° db&lt;/font&gt;ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¾ˆæ˜æ˜¾ï¼Œè¿™ç§æ–¹å¼å¯¹æ•°æ®ä¸€è‡´æ€§å¸¦æ¥äº†æ›´å¤§çš„æŒ‘æˆ˜ï¼Œæ¯”å¦‚ cache æ•°æ®å¯èƒ½è¿˜æ²¡å¼‚æ­¥æ›´æ–° db çš„è¯ï¼Œcache æœåŠ¡å¯èƒ½å°±å°±æŒ‚æ‰äº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§ç­–ç•¥&lt;font color=&#39;red&#39;&gt;åœ¨å¹³æ—¶å¼€å‘è¿‡ç¨‹ä¸­ä¹Ÿéå¸¸éå¸¸å°‘è§&lt;/font&gt;ï¼Œä½†æ˜¯ä¸ä»£è¡¨å®ƒçš„åº”ç”¨åœºæ™¯å°‘ï¼Œæ¯”å¦‚æ¶ˆæ¯é˜Ÿåˆ—ä¸­æ¶ˆæ¯çš„å¼‚æ­¥å†™å…¥ç£ç›˜ã€MySQL çš„ Innodb Buffer Pool æœºåˆ¶éƒ½ç”¨åˆ°äº†è¿™ç§ç­–ç•¥ã€‚&lt;/p&gt;
&lt;p&gt;Write Behind Pattern ä¸‹ db çš„å†™æ€§èƒ½éå¸¸é«˜ï¼Œéå¸¸é€‚åˆä¸€äº›æ•°æ®ç»å¸¸å˜åŒ–åˆå¯¹æ•°æ®ä¸€è‡´æ€§è¦æ±‚æ²¡é‚£ä¹ˆé«˜çš„åœºæ™¯ï¼Œæ¯”å¦‚æµè§ˆé‡ã€ç‚¹èµé‡ã€‚&lt;/p&gt;
&lt;h1 id=&#34;redis-åŸºç¡€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-åŸºç¡€&#34;&gt;#&lt;/a&gt; Redis åŸºç¡€&lt;/h1&gt;
&lt;h2 id=&#34;redis-æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-æ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; Redis æ˜¯ä»€ä¹ˆ&lt;/h2&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9yZWRpcy5pby8=&#34;&gt;Redis&lt;/span&gt;ï¼ˆ&lt;strong&gt;RE&lt;/strong&gt;mote &lt;strong&gt;DI&lt;/strong&gt;ctionary &lt;strong&gt;S&lt;/strong&gt;erverï¼Œè¿œç¨‹è¯å…¸æœåŠ¡å™¨ï¼‰æ˜¯ä¸€ä¸ªåŸºäº&lt;font color=&#39;red&#39;&gt; C è¯­è¨€&lt;/font&gt;å¼€å‘çš„å¼€æº &lt;font color=&#39;red&#39;&gt;NoSQL&lt;/font&gt; æ•°æ®åº“ï¼ˆBSD è®¸å¯ï¼‰ã€‚ä¸ä¼ ç»Ÿæ•°æ®åº“ä¸åŒçš„æ˜¯ï¼ŒRedis çš„æ•°æ®æ˜¯ä¿å­˜åœ¨å†…å­˜ä¸­çš„ï¼ˆ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å†…å­˜æ•°æ®åº“ï¼Œæ”¯æŒæŒä¹…åŒ–&lt;/font&gt;&lt;/strong&gt;ï¼‰ï¼Œå› æ­¤&lt;font color=&#39;red&#39;&gt;è¯»å†™é€Ÿåº¦éå¸¸å¿«&lt;/font&gt;ï¼Œè¢«å¹¿æ³›åº”ç”¨äº&lt;font color=&#39;red&#39;&gt;åˆ†å¸ƒå¼ç¼“å­˜&lt;/font&gt;æ–¹å‘ã€‚å¹¶ä¸”ï¼ŒRedis å­˜å‚¨çš„æ˜¯&lt;font color=&#39;red&#39;&gt; Key-Value é”®å€¼å¯¹æ•°æ®&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ»¡è¶³ä¸åŒçš„ä¸šåŠ¡åœºæ™¯ï¼ŒRedis &lt;font color=&#39;red&#39;&gt;å†…ç½®å¤šç§æ•°æ®ç±»å‹å®ç°&lt;/font&gt;ï¼ˆæ¯”å¦‚ Stringã€Hashã€Sorted Setã€Bitmapã€HyperLogLogã€GEOï¼‰ã€‚å¹¶ä¸”ï¼ŒRedis è¿˜&lt;font color=&#39;red&#39;&gt;æ”¯æŒäº‹åŠ¡ã€æŒä¹…åŒ–ã€Lua è„šæœ¬ã€å‘å¸ƒ / è®¢é˜…ã€ç¼“å­˜æ·˜æ±°ã€æµæŠ€æœ¯&lt;/font&gt;ç­‰åŠŸèƒ½ç‰¹æ€§ï¼Œæä¾›äº†&lt;font color=&#39;red&#39;&gt;å¤šç§é›†ç¾¤æ–¹æ¡ˆï¼ˆä¸»ä»æ¨¡å¼ã€ &lt;code&gt;Redis Sentinel&lt;/code&gt; ã€ &lt;code&gt;Redis Cluster&lt;/code&gt; ï¼‰&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;redis-æ€ä¹ˆç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-æ€ä¹ˆç”¨&#34;&gt;#&lt;/a&gt; Redis æ€ä¹ˆç”¨&lt;/h2&gt;
&lt;p&gt;ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œå®˜æ–¹æ¨èä½¿ç”¨ Linux éƒ¨ç½² Redisã€‚&lt;/p&gt;
&lt;p&gt;ä¸ªäººå­¦ä¹ çš„è¯ï¼Œå¯ä»¥è‡ªå·±æœ¬æœºå®‰è£… Redis æˆ–è€…é€šè¿‡ Redis å®˜ç½‘æä¾›çš„&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly90cnkucmVkaXMuaW8v&#34;&gt;åœ¨çº¿ Redis ç¯å¢ƒ&lt;/span&gt;ï¼ˆå°‘éƒ¨åˆ†å‘½ä»¤æ— æ³•ä½¿ç”¨ï¼‰æ¥å®é™…ä½“éªŒ Redisã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/try.redis.io.png&#34; alt=&#34;try-redis&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly90ZWNoc3RhY2tzLmlvLw==&#34;&gt;techstacks.io&lt;/span&gt; ä¸“é—¨ç»´æŠ¤äº†ä¸€ä¸ª&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly90ZWNoc3RhY2tzLmlvL3RlY2gvcmVkaXM=&#34;&gt;ä½¿ç”¨ Redis çš„çƒ­é—¨ç«™ç‚¹åˆ—è¡¨&lt;/span&gt; ï¼Œæ„Ÿå…´è¶£çš„è¯å¯ä»¥çœ‹çœ‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;redis-åŠŸèƒ½&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-åŠŸèƒ½&#34;&gt;#&lt;/a&gt; &lt;mark&gt;Redis åŠŸèƒ½&lt;/mark&gt;&lt;/h2&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/Redis-v2-01-1.jpg&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;Redis æ€»ä½“åŠŸèƒ½æ¦‚è§ˆå›¾&lt;/center&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;orange&#39;&gt;åˆ†å¸ƒå¼ç¼“å­˜&lt;/font&gt;&lt;/strong&gt;ï¼Œå¸® MySQL å‡è´Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231202180734903.png&#34; alt=&#34;image-20231202180734903&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;MySQL ä¸ Redis çš„å¯¹æ¯”ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MySQL æ˜¯å…³ç³»å‹æ•°æ®åº“ï¼ŒRedis æ˜¯&lt;font color=&#39;red&#39;&gt;key-value&lt;/font&gt;æ•°æ®åº“ï¼ˆNoSQL çš„ä¸€ç§ï¼‰&lt;/li&gt;
&lt;li&gt;MySQL ä¸»è¦å­˜å‚¨åœ¨ç£ç›˜ï¼ŒRedis æ•°æ®æ“ä½œä¸»è¦åœ¨&lt;font color=&#39;red&#39;&gt;å†…å­˜&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;Redis åœ¨ä¸€äº›åœºæ™¯ä¸­æ˜æ˜¾ä¼˜äº MySQLï¼Œä¾‹å¦‚&lt;font color=&#39;red&#39;&gt;è®¡æ•°å™¨ã€æ’è¡Œæ¦œ&lt;/font&gt;ç­‰&lt;/li&gt;
&lt;li&gt;Redis é€šå¸¸ç”¨äºä¸€äº›ç‰¹å®šåœºæ™¯ï¼Œéœ€è¦ä¸ MySQL ä¸€èµ·é…åˆä½¿ç”¨ï¼Œä¸¤è€…å¹¶ä¸æ˜¯ç›¸äº’æ›¿æ¢å’Œç«äº‰å…³ç³»ï¼Œè€Œæ˜¯å…±ç”¨å’Œ&lt;strong&gt;é…åˆä½¿ç”¨&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å†…å­˜å­˜å‚¨&lt;/strong&gt;å’Œ&lt;strong&gt;æŒä¹…åŒ–&lt;/strong&gt;ï¼ˆ &lt;code&gt;RDB&lt;/code&gt; + &lt;code&gt;AOF&lt;/code&gt; ï¼‰ï¼šRedis æ”¯æŒå¼‚æ­¥å°†å†…å­˜ä¸­çš„æ•°æ®å†™åˆ°ç¡¬ç›˜ä¸Šï¼ŒåŒæ—¶ä¸å½±å“ç»§ç»­æœåŠ¡&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231202180535935.png&#34; alt=&#34;image-20231202180535935&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é«˜å¯ç”¨æ¶æ„æ­é…&lt;/strong&gt;ï¼šé¿å…æŸå° Redis æŒ‚äº†åï¼Œå½±å“ç³»ç»Ÿè¿è¡Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å•æœº&lt;/li&gt;
&lt;li&gt;ä¸»ä»ï¼ˆreplicaï¼‰&lt;/li&gt;
&lt;li&gt;å“¨å…µï¼ˆsentinelï¼‰&lt;/li&gt;
&lt;li&gt;é›†ç¾¤ï¼ˆcluster)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231202180648762.png&#34; alt=&#34;image-20231202180648762&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åˆ†å¸ƒå¼é”&lt;/strong&gt;ï¼šè·¨æœåŠ¡å™¨åŠ é”&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¶ˆæ¯é˜Ÿåˆ—å¹³å°&lt;/strong&gt;ï¼šReids&lt;font color=&#39;red&#39;&gt;æä¾› list å’Œ set æ“ä½œ&lt;/font&gt;ï¼Œè¿™ä½¿å¾— Redis èƒ½ä½œä¸ºä¸€ä¸ªå¾ˆå¥½çš„æ¶ˆæ¯é˜Ÿåˆ—å¹³å°æ¥ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é€šè¿‡ Reids çš„é˜Ÿåˆ—åŠŸèƒ½åš&lt;strong&gt;è´­ä¹°é™åˆ¶&lt;/strong&gt;ã€‚æ¯”å¦‚åˆ°èŠ‚å‡æ—¥æˆ–è€…æ¨å¹¿æœŸé—´ï¼Œè¿›è¡Œä¸€äº›æ´»åŠ¨ï¼Œå¯¹ç”¨æˆ·è´­ä¹°è¡Œä¸ºè¿›è¡Œé™åˆ¶ï¼Œé™åˆ¶ä»Šå¤©åªèƒ½è´­ä¹°å‡ æ¬¡å•†å“æˆ–è€…ä¸€æ®µæ—¶é—´å†…åªèƒ½è´­ä¹°ä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ’è¡Œæ¦œ&lt;/strong&gt; +&lt;strong&gt; ç‚¹èµ&lt;/strong&gt;ï¼šRedis æä¾›çš„&lt;font color=&#39;red&#39;&gt;zset æ•°æ®ç±»å‹&lt;/font&gt;èƒ½å¤Ÿå¿«é€Ÿå®ç°è¿™äº›å¤æ‚çš„æ’è¡Œæ¦œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230802155434366.png&#34; alt=&#34;image-20230802155434366&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;redis-ä¼˜åŠ¿&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-ä¼˜åŠ¿&#34;&gt;#&lt;/a&gt; Redis ä¼˜åŠ¿&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¯»å†™æ€§èƒ½æé«˜&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®ç±»å‹ä¸°å¯Œ&lt;/strong&gt;ï¼šä¸ä»…æ”¯æŒ&lt;font color=&#39;red&#39;&gt;key-value&lt;/font&gt;ç±»å‹çš„æ•°æ®ï¼ŒåŒæ—¶è¿˜æä¾›&lt;font color=&#39;red&#39;&gt;listï¼Œsetï¼Œzsetï¼Œhash&lt;/font&gt;ç­‰æ•°æ®ç»“æ„çš„å­˜å‚¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ”¯æŒæ•°æ®æŒä¹…åŒ–&lt;/strong&gt;ï¼šå¯å°†å†…å­˜ä¸­çš„æ•°æ®å­˜å…¥ç£ç›˜ä¸­ï¼Œé‡å¯æ—¶å†åŠ è½½åˆ°å†…å­˜ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ”¯æŒæ•°æ®å¤‡ä»½&lt;/strong&gt;ï¼Œå³ master-slave æ¨¡å¼çš„æ•°æ®å¤‡ä»½&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;redis-è¿­ä»£å†å²&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-è¿­ä»£å†å²&#34;&gt;#&lt;/a&gt; Redis è¿­ä»£å†å²&lt;/h2&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230802161140294.png&#34; alt=&#34;image-20230802161140294&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;5.0 ç‰ˆæœ¬&lt;/font&gt;æ˜¯ç›´æ¥å‡çº§åˆ°&lt;font color=&#39;red&#39;&gt;6.0 ç‰ˆæœ¬&lt;/font&gt;ï¼Œå¯¹äºè¿™ä¸ªæ¿€è¿›çš„å‡çº§ï¼ŒRedis ä¹‹çˆ¶ antirez è¡¨ç°å¾—å¾ˆæœ‰ä¿¡å¿ƒå’Œå…´å¥‹ï¼Œæ‰€ä»¥ç¬¬ä¸€æ—¶é—´å‘æ–‡æ¥é˜è¿° 6.0 çš„ä¸€äº›é‡å¤§åŠŸèƒ½ &amp;quot;Redis 6.0.0 GA is out!&amp;quot;&lt;/p&gt;
&lt;p&gt;éšå Redis å†æ¥å†å‰ï¼Œç›´æ¥ç‹ç‚¸&lt;font color=&#39;red&#39;&gt;Redis7.0&lt;/font&gt;---2023 å¹´çˆ†æ¬¾ã€‚2022 å¹´ 4 æœˆ 27 æ—¥ Redis æ­£å¼å‘å¸ƒäº† 7.0 æ›´æ–°ï¼ˆå…¶å®æ—©åœ¨ 2022 å¹´ 1 æœˆ 31 æ—¥ï¼ŒRedis å·²ç»é¢„å‘å¸ƒäº† 7.0rc-1ï¼Œç»è¿‡ç¤¾åŒºçš„è€ƒéªŒåï¼Œç¡®è®¤æ²¡é‡å¤§ Bug æ‰ä¼šæ­£å¼å‘å¸ƒï¼‰&lt;/p&gt;
&lt;p&gt;Redis&lt;strong&gt; ç‰ˆæœ¬çš„å‘½åè§„åˆ™&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç‰ˆæœ¬å·ç¬¬äºŒä½å¦‚æœæ˜¯å¥‡æ•°ï¼Œåˆ™ä¸ºéç¨³å®šç‰ˆæœ¬ã€‚å¦‚ 2.7ã€2.9ã€3.1&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ç‰ˆæœ¬å·ç¬¬äºŒä½å¦‚æœæ˜¯å¶æ•°ï¼Œåˆ™ä¸ºç¨³å®šç‰ˆæœ¬&lt;/font&gt;ã€‚å¦‚ 2.6ã€2.8ã€3.0ã€3.2&lt;/li&gt;
&lt;li&gt;å½“å‰å¥‡æ•°ç‰ˆæœ¬å°±æ˜¯ä¸‹ä¸€ä¸ªç¨³å®šç‰ˆæœ¬çš„å¼€å‘ç‰ˆæœ¬ã€‚å¦‚ 2.9 ç‰ˆæœ¬æ˜¯ 3.0 ç‰ˆæœ¬çš„å¼€å‘ç‰ˆæœ¬&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;redis7-æ–°ç‰¹æ€§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis7-æ–°ç‰¹æ€§&#34;&gt;#&lt;/a&gt; Redis7 æ–°ç‰¹æ€§&lt;/h2&gt;
&lt;p&gt;å¯ä»¥ä» redis çš„ GitHub çš„ releases ä¸­æŸ¥çœ‹å½“å‰ç‰ˆæœ¬çš„æ–°ç‰¹æ€§ï¼ŒRedis7 çš„éƒ¨åˆ†æ–°ç‰¹æ€§æ€»è§ˆï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230802162007264.png&#34; alt=&#34;image-20230802162007264&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Redis Functionsï¼šRedis å‡½æ•°ï¼Œä¸€ç§æ–°çš„é€šè¿‡æœåŠ¡ç«¯è„šæœ¬æ‰©å±• Redis çš„æ–¹å¼ï¼Œå‡½æ•°ä¸æ•°æ®æœ¬èº«ä¸€èµ·å­˜å‚¨ã€‚ç®€è¨€ä¹‹ï¼Œredis è‡ªå·±è¦å»&lt;font color=&#39;red&#39;&gt;æŠ¢å¤º Lua è„šæœ¬çš„é¥­ç¢—&lt;/font&gt;ï¼Œä½†æ˜¯ Lua å·²ç»ç¨³å®šä¸”æ™®åŠï¼Œæ‰€ä»¥ Redis Functions&lt;font color=&#39;red&#39;&gt;æ²¡å¿…è¦å­¦&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230802162230304.png&#34; alt=&#34;image-20230802162230304&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Client-eviction&lt;/strong&gt;ï¼šå®¢æˆ·ç«¯ç›¸å…³ä¼˜åŒ–ï¼Œèƒ½è®©æ›´å¤š client è¿æ¥ä¸Š&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;é™åˆ¶å®¢æˆ·ç«¯å†…å­˜ä½¿ç”¨&lt;/font&gt;ï¼Œä¸€æ—¦ Redis è¿æ¥è¾ƒå¤šï¼Œå†åŠ ä¸Šæ¯ä¸ªè¿æ¥çš„å†…å­˜å ç”¨éƒ½æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼ŒRedis æ€»è¿æ¥å†…å­˜å ç”¨å¯èƒ½ä¼šè¾¾åˆ° maxmemory çš„ä¸Šé™ï¼Œå¯ä»¥å¢åŠ å…è®¸é™åˆ¶æ‰€æœ‰å®¢æˆ·ç«¯çš„æ€»å†…å­˜ä½¿ç”¨é‡é…ç½®é¡¹ï¼Œredis.config ä¸­å¯¹åº”çš„é…ç½®é¡¹ï¼Œæœ‰ä¸¤ç§é…ç½®å½¢å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æŒ‡å®šå†…å­˜å¤§å°&lt;/font&gt;ã€‚ä¾‹å¦‚ maxmemory-clients 1g&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;åŸºäº maxmemory çš„ç™¾åˆ†æ¯”&lt;/font&gt;ã€‚ä¾‹å¦‚ maxmemory-clients 10%&lt;/li&gt;
&lt;/ul&gt;
&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230802162439869.png&#34; alt=&#34;image-20230802162439869&#34; style=&#34;zoom:80%;&#34; /&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Multi-part AOF&lt;/strong&gt;ï¼šå¤š AOF æ–‡ä»¶æ”¯æŒï¼ŒAOF æ–‡ä»¶ç”±ä¸€ä¸ªå˜æˆäº†å¤šä¸ªï¼Œä¸»è¦åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š&lt;font color=&#39;red&#39;&gt;åŸºæœ¬æ–‡ä»¶ (base files)&lt;/font&gt;ã€&lt;font color=&#39;red&#39;&gt;å¢é‡æ–‡ä»¶ (incr files)&lt;/font&gt;ï¼Œè¯·æ³¨æ„è¿™äº›æ–‡ä»¶åç§°æ˜¯å¤æ•°å½¢å¼è¯´æ˜æ¯ä¸€ç±»æ–‡ä»¶ä¸ä»…ä»…åªæœ‰ä¸€ä¸ªã€‚åœ¨æ­¤ä¹‹å¤–è¿˜å¼•å…¥äº†ä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;æ¸…å•æ–‡ä»¶ (manifest) &lt;/font&gt;ç”¨äºè·Ÿè¸ªæ–‡ä»¶ä»¥åŠæ–‡ä»¶çš„åˆ›å»ºå’Œåº”ç”¨é¡ºåºï¼ˆæ¢å¤ï¼‰ã€‚æ€§èƒ½æ€¥å‰§ä¸Šå‡ï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒ AOFRW å¼‚æ­¥è¯»å†™æ—¶çš„è¿ç»´ç—›ç‚¹&lt;/p&gt;
&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230802163004405.png&#34; alt=&#34;image-20230802163004405&#34; style=&#34;zoom:80%;&#34; /&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;config å‘½ä»¤å¢å¼º&lt;/strong&gt;ï¼šå¯¹äº&lt;font color=&#39;red&#39;&gt;Config Set å’Œ Get å‘½ä»¤&lt;/font&gt;ï¼Œæ”¯æŒåœ¨ä¸€æ¬¡è°ƒç”¨è¿‡ç¨‹ä¸­&lt;font color=&#39;red&#39;&gt;ä¼ é€’å¤šä¸ªé…ç½®å‚æ•°&lt;/font&gt;ã€‚ä¾‹å¦‚ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨æ‰§è¡Œä¸€æ¬¡ Config Set å‘½ä»¤ä¸­æ›´æ”¹å¤šä¸ªå‚æ•°ï¼š config set maxmemory 10000001 maxmemory-clients 50% port 6399&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è®¿é—®å®‰å…¨æ€§å¢å¼º ACL V2&lt;/strong&gt;ï¼šè®¿é—®æ§åˆ¶ï¼Œåœ¨ redis.conf é…ç½®æ–‡ä»¶ä¸­ï¼Œ&lt;font color=&#39;red&#39;&gt;protected-mode é»˜è®¤ä¸º yes&lt;/font&gt;ï¼Œåªæœ‰å½“ä½ å¸Œæœ›ä½ çš„å®¢æˆ·ç«¯åœ¨æ²¡æœ‰æˆæƒçš„æƒ…å†µä¸‹å¯ä»¥è¿æ¥åˆ° Redis server çš„æ—¶å€™å¯ä»¥å°† protected-mode è®¾ç½®ä¸º no&lt;/p&gt;
&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230802163118585.png&#34; alt=&#34;image-20230802163118585&#34; style=&#34;zoom:80%;&#34; /&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;listpack ç´§å‡‘åˆ—è¡¨è°ƒæ•´&lt;/strong&gt;ï¼šlistpack æ˜¯ç”¨æ¥&lt;font color=&#39;red&#39;&gt;æ›¿ä»£ ziplist çš„æ–°æ•°æ®ç»“æ„&lt;/font&gt;ï¼Œåœ¨ 7.0 ç‰ˆæœ¬å·²ç»æ²¡æœ‰ ziplist çš„é…ç½®äº†ï¼ˆ6.0 ç‰ˆæœ¬ä»…éƒ¨åˆ†æ•°æ®ç±»å‹ä½œä¸ºè¿‡æ¸¡é˜¶æ®µåœ¨ä½¿ç”¨ï¼‰ï¼Œlistpack å·²ç»æ›¿æ¢äº† ziplist ç±»ä¼¼ hash-max-ziplist-entries çš„é…ç½®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RDB ä¿å­˜æ—¶é—´è°ƒæ•´ï¼šå°†æŒä¹…åŒ–æ–‡ä»¶ RDB çš„ä¿å­˜è§„åˆ™å‘ç”Ÿäº†æ”¹å˜ï¼Œå°¤å…¶æ˜¯æ—¶é—´è®°å½•é¢‘åº¦å˜åŒ–&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‘½ä»¤æ–°å¢å’Œå˜åŠ¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Zset (æœ‰åºé›†åˆ) å¢åŠ  ZMPOPã€BZMPOPã€ZINTERCARD ç­‰å‘½ä»¤&lt;/li&gt;
&lt;li&gt;Set (é›†åˆ) å¢åŠ  SINTERCARD å‘½ä»¤&lt;/li&gt;
&lt;li&gt;LIST (åˆ—è¡¨) å¢åŠ  LMPOPã€BLMPOP ï¼Œä»æä¾›çš„é”®ååˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªéç©ºåˆ—è¡¨é”®ä¸­å¼¹å‡ºä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ€§èƒ½èµ„æºåˆ©ç”¨ç‡ã€å®‰å…¨ã€ç­‰æ”¹è¿›&lt;/strong&gt;ï¼šè‡ªèº«&lt;font color=&#39;red&#39;&gt;åº•å±‚éƒ¨åˆ†ä¼˜åŒ–&lt;/font&gt;æ”¹åŠ¨ï¼ŒRedis æ ¸å¿ƒåœ¨è®¸å¤šæ–¹é¢è¿›è¡Œäº†é‡æ„å’Œæ”¹è¿›&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ä¸»åŠ¨ç¢ç‰‡æ•´ç† V2&lt;/font&gt;ï¼šå¢å¼ºç‰ˆä¸»åŠ¨ç¢ç‰‡æ•´ç†ï¼Œé…åˆ Jemalloc ç‰ˆæœ¬æ›´æ–°ï¼Œæ›´å¿«æ›´æ™ºèƒ½ï¼Œå»¶æ—¶æ›´ä½&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;HyperLogLog æ”¹è¿›&lt;/font&gt;ï¼šåœ¨ Redis5.0 ä¸­ï¼ŒHyperLogLog ç®—æ³•å¾—åˆ°æ”¹è¿›ï¼Œä¼˜åŒ–äº†è®¡æ•°ç»Ÿè®¡æ—¶çš„å†…å­˜ä½¿ç”¨æ•ˆç‡ï¼Œ7 æ›´åŠ ä¼˜ç§€&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æ›´å¥½çš„å†…å­˜ç»Ÿè®¡æŠ¥å‘Š&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸ä¸ºäº† API å‘åå…¼å®¹ï¼Œæˆ‘ä»¬å°†&lt;font color=&#39;red&#39;&gt;ä¸å†ä½¿ç”¨ slave ä¸€è¯&lt;/font&gt;......(æ”¿æ²»æ­£ç¡®)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;redis-ä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-ä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«&#34;&gt;#&lt;/a&gt; &lt;mark&gt;Redis ä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«ï¼Ÿ&lt;/mark&gt;&lt;/h2&gt;
&lt;p&gt;Redis å†…éƒ¨åšäº†éå¸¸å¤šçš„æ€§èƒ½ä¼˜åŒ–ï¼Œæ¯”è¾ƒé‡è¦çš„æœ‰ä¸‹é¢ 3 ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Redis &lt;strong&gt;&lt;font color=&#39;red&#39;&gt;åŸºäºå†…å­˜&lt;/font&gt;&lt;/strong&gt;ï¼Œå†…å­˜çš„è®¿é—®é€Ÿåº¦æ˜¯ç£ç›˜çš„ä¸Šåƒå€ï¼›&lt;/li&gt;
&lt;li&gt;Redis åŸºäº Reactor æ¨¡å¼è®¾è®¡å¼€å‘äº† **&lt;font color=&#39;red&#39;&gt;ä¸€å¥—é«˜æ•ˆçš„äº‹ä»¶å¤„ç†æ¨¡å‹&lt;/font&gt;**ï¼Œä¸»è¦æ˜¯&lt;font color=&#39;red&#39;&gt;å•çº¿ç¨‹äº‹ä»¶å¾ªç¯&lt;/font&gt;å’Œ&lt;font color=&#39;red&#39;&gt; IO å¤šè·¯å¤ç”¨&lt;/font&gt;ï¼ˆRedis çº¿ç¨‹æ¨¡å¼åé¢ä¼šè¯¦ç»†ä»‹ç»åˆ°ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;Redis å†…ç½®äº†å¤šç§ **&lt;font color=&#39;red&#39;&gt;ä¼˜åŒ–è¿‡åçš„æ•°æ®ç±»å‹ / ç»“æ„å®ç°&lt;/font&gt;**ï¼Œæ€§èƒ½éå¸¸é«˜ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸‹é¢è¿™å¼ å›¾ç‰‡æ€»ç»“çš„æŒºä¸é”™çš„ï¼Œåˆ†äº«ä¸€ä¸‹ï¼Œå‡ºè‡ª &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly90d2l0dGVyLmNvbS9hbGV4eHVieXRlL3N0YXR1cy8xNDk4NzAzODIyNTI4NTQ0Nzcw&#34;&gt;Why is Redis so fast?&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/why-redis-so-fast-E21l9uI2.png&#34; alt=&#34;why-redis-so-fast&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;åˆ†å¸ƒå¼ç¼“å­˜å¸¸è§çš„æŠ€æœ¯é€‰å‹æ–¹æ¡ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†å¸ƒå¼ç¼“å­˜å¸¸è§çš„æŠ€æœ¯é€‰å‹æ–¹æ¡ˆ&#34;&gt;#&lt;/a&gt; åˆ†å¸ƒå¼ç¼“å­˜å¸¸è§çš„æŠ€æœ¯é€‰å‹æ–¹æ¡ˆ&lt;/h2&gt;
&lt;p&gt;åˆ†å¸ƒå¼ç¼“å­˜çš„è¯ï¼Œæ¯”è¾ƒè€ç‰ŒåŒæ—¶ä¹Ÿæ˜¯ä½¿ç”¨çš„æ¯”è¾ƒå¤šçš„è¿˜æ˜¯ &lt;strong&gt;Memcached&lt;/strong&gt; å’Œ &lt;strong&gt;Redis&lt;/strong&gt;ã€‚ä¸è¿‡ï¼Œ&lt;font color=&#39;red&#39;&gt;ç°åœ¨åŸºæœ¬æ²¡æœ‰çœ‹è¿‡è¿˜æœ‰é¡¹ç›®ä½¿ç”¨ Memcached æ¥åšç¼“å­˜&lt;/font&gt;ï¼Œéƒ½æ˜¯ç›´æ¥ç”¨ Redisã€‚&lt;/p&gt;
&lt;p&gt;Memcached æ˜¯åˆ†å¸ƒå¼ç¼“å­˜æœ€å¼€å§‹å…´èµ·çš„é‚£ä¼šï¼Œæ¯”è¾ƒå¸¸ç”¨çš„ã€‚åæ¥ï¼Œéšç€ Redis çš„å‘å±•ï¼Œå¤§å®¶æ…¢æ…¢éƒ½&lt;font color=&#39;red&#39;&gt;è½¬è€Œä½¿ç”¨æ›´åŠ å¼ºå¤§çš„ Redis äº†&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œè…¾è®¯ä¹Ÿå¼€æºäº†ä¸€æ¬¾ç±»ä¼¼äº Redis çš„åˆ†å¸ƒå¼é«˜æ€§èƒ½ KV å­˜å‚¨æ•°æ®åº“ï¼ŒåŸºäºçŸ¥åçš„å¼€æºé¡¹ç›® &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JvY2tzZGI=&#34;&gt;RocksDB&lt;/span&gt; ä½œä¸ºå­˜å‚¨å¼•æ“ ï¼Œ100% å…¼å®¹ Redis åè®®å’Œ Redis4.0 æ‰€æœ‰æ•°æ®æ¨¡å‹ï¼Œåä¸º &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL1RlbmNlbnQvVGVuZGlz&#34;&gt;Tendis&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å…³äº Redis å’Œ Tendis çš„å¯¹æ¯”ï¼Œè…¾è®¯å®˜æ–¹æ›¾ç»å‘è¿‡ä¸€ç¯‡æ–‡ç« ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvTWVZa2ZPSWRuVTZMWWxzR2IyNEtqUQ==&#34;&gt;Redis vs Tendisï¼šå†·çƒ­æ··åˆå­˜å‚¨ç‰ˆæ¶æ„æ­ç§˜&lt;/span&gt; ï¼Œå¯ä»¥ç®€å•å‚è€ƒä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;ä»è¿™ä¸ªé¡¹ç›®çš„ GitHub æäº¤è®°å½•å¯ä»¥çœ‹å‡ºï¼Œ&lt;font color=&#39;red&#39;&gt;Tendis å¼€æºç‰ˆå‡ ä¹å·²ç»æ²¡æœ‰è¢«ç»´æŠ¤æ›´æ–°äº†ï¼ŒåŠ ä¸Šå…¶å…³æ³¨åº¦å¹¶ä¸é«˜ï¼Œä½¿ç”¨çš„å…¬å¸ä¹Ÿæ¯”è¾ƒå°‘&lt;/font&gt;ã€‚å› æ­¤ï¼Œä¸å»ºè®®ä½ ä½¿ç”¨ Tendis æ¥å®ç°åˆ†å¸ƒå¼ç¼“å­˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;redis-å’Œ-memcached-çš„åŒºåˆ«å’Œå…±åŒç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-å’Œ-memcached-çš„åŒºåˆ«å’Œå…±åŒç‚¹&#34;&gt;#&lt;/a&gt; Redis å’Œ Memcached çš„åŒºåˆ«å’Œå…±åŒç‚¹&lt;/h2&gt;
&lt;p&gt;ç°åœ¨å…¬å¸ä¸€èˆ¬éƒ½æ˜¯ç”¨ Redis æ¥å®ç°ç¼“å­˜ï¼Œè€Œä¸” Redis è‡ªèº«ä¹Ÿè¶Šæ¥è¶Šå¼ºå¤§äº†ï¼ä¸è¿‡ï¼Œäº†è§£ Redis å’Œ Memcached çš„åŒºåˆ«å’Œå…±åŒç‚¹ï¼Œæœ‰åŠ©äºæˆ‘ä»¬åœ¨åšç›¸åº”çš„æŠ€æœ¯é€‰å‹çš„æ—¶å€™ï¼Œèƒ½å¤Ÿåšåˆ°æœ‰ç†æœ‰æ®ï¼&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å…±åŒç‚¹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;éƒ½åŸºäºå†…å­˜&lt;/font&gt;ï¼Œä¸€èˆ¬éƒ½ç”¨æ¥å½“åšç¼“å­˜ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;éƒ½æœ‰è¿‡æœŸç­–ç•¥&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æ€§èƒ½éƒ½éå¸¸é«˜&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;åŒºåˆ«&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Redis æ”¯æŒæ›´ä¸°å¯Œçš„æ•°æ®ç±»å‹ï¼ˆæ”¯æŒæ›´å¤æ‚çš„åº”ç”¨åœºæ™¯ï¼‰&lt;/font&gt;&lt;/strong&gt;ã€‚Redis ä¸ä»…ä»…æ”¯æŒç®€å•çš„ k/v ç±»å‹çš„æ•°æ®ï¼ŒåŒæ—¶è¿˜æä¾› &lt;font color=&#39;red&#39;&gt;listï¼Œsetï¼Œzsetï¼Œhash&lt;/font&gt; ç­‰æ•°æ®ç»“æ„çš„å­˜å‚¨ã€‚Memcached åªæ”¯æŒæœ€ç®€å•çš„ k/v æ•°æ®ç±»å‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Redis æ”¯æŒæ•°æ®çš„æŒä¹…åŒ–&lt;/font&gt;&lt;/strong&gt;ï¼Œå¯ä»¥å°†å†…å­˜ä¸­çš„æ•°æ®ä¿æŒåœ¨ç£ç›˜ä¸­ï¼Œé‡å¯çš„æ—¶å€™å¯ä»¥å†æ¬¡åŠ è½½è¿›è¡Œä½¿ç”¨ï¼Œè€Œ Memcached æŠŠæ•°æ®å…¨éƒ¨å­˜åœ¨å†…å­˜ä¹‹ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Redis æœ‰ç¾éš¾æ¢å¤æœºåˆ¶&lt;/font&gt;&lt;/strong&gt;ã€‚å› ä¸ºå¯ä»¥æŠŠç¼“å­˜ä¸­çš„æ•°æ®æŒä¹…åŒ–åˆ°ç£ç›˜ä¸Šã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Redis åœ¨æœåŠ¡å™¨å†…å­˜ä½¿ç”¨å®Œä¹‹åï¼Œå¯ä»¥å°†ä¸ç”¨çš„æ•°æ®æ”¾åˆ°ç£ç›˜ä¸Š&lt;/strong&gt;ã€‚ä½†æ˜¯ï¼ŒMemcached åœ¨æœåŠ¡å™¨å†…å­˜ä½¿ç”¨å®Œä¹‹åï¼Œå°±ä¼šç›´æ¥æŠ¥å¼‚å¸¸ã€‚&lt;/li&gt;
&lt;li&gt;Memcached æ²¡æœ‰åŸç”Ÿçš„é›†ç¾¤æ¨¡å¼ï¼Œéœ€è¦ä¾é å®¢æˆ·ç«¯æ¥å®ç°å¾€é›†ç¾¤ä¸­åˆ†ç‰‡å†™å…¥æ•°æ®ï¼›ä½†æ˜¯ &lt;strong&gt;Redis ç›®å‰æ˜¯åŸç”Ÿæ”¯æŒ cluster æ¨¡å¼çš„ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Memcached æ˜¯å¤šçº¿ç¨‹ï¼Œéé˜»å¡ IO å¤ç”¨çš„ç½‘ç»œæ¨¡å‹ï¼›&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Redis ä½¿ç”¨å•çº¿ç¨‹çš„å¤šè·¯ IO å¤ç”¨æ¨¡å‹&lt;/font&gt;&lt;/strong&gt;ã€‚ï¼ˆRedis 6.0 é’ˆå¯¹ç½‘ç»œæ•°æ®çš„è¯»å†™å¼•å…¥äº†å¤šçº¿ç¨‹ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Redis æ”¯æŒå‘å¸ƒè®¢é˜…æ¨¡å‹ã€Lua è„šæœ¬ã€äº‹åŠ¡ç­‰åŠŸèƒ½&lt;/strong&gt;ï¼Œè€Œ Memcached ä¸æ”¯æŒã€‚å¹¶ä¸”ï¼ŒRedis æ”¯æŒæ›´å¤šçš„ç¼–ç¨‹è¯­è¨€ã€‚&lt;/li&gt;
&lt;li&gt;Memcached è¿‡æœŸæ•°æ®çš„åˆ é™¤ç­–ç•¥åªç”¨äº†æƒ°æ€§åˆ é™¤ï¼Œè€Œ &lt;strong&gt;Redis é’ˆå¯¹è¿‡æœŸæ•°æ®åŒæ—¶ä½¿ç”¨äº†æƒ°æ€§åˆ é™¤ã€å®šæœŸåˆ é™¤ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç›¸ä¿¡çœ‹äº†ä¸Šé¢çš„å¯¹æ¯”ä¹‹åï¼Œæˆ‘ä»¬å·²ç»æ²¡æœ‰ä»€ä¹ˆç†ç”±å¯ä»¥é€‰æ‹©ä½¿ç”¨ Memcached æ¥ä½œä¸ºè‡ªå·±é¡¹ç›®çš„åˆ†å¸ƒå¼ç¼“å­˜äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆè¦ç”¨-redisæˆ–è€…ç¼“å­˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸ºä»€ä¹ˆè¦ç”¨-redisæˆ–è€…ç¼“å­˜&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ä¸ºä»€ä¹ˆè¦ç”¨ Redisï¼ˆæˆ–è€…ç¼“å­˜ï¼‰ï¼Ÿ&lt;/mark&gt;&lt;/h2&gt;
&lt;p&gt;1ã€&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;é«˜æ€§èƒ½&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å‡å¦‚ç”¨æˆ·ç¬¬ä¸€æ¬¡è®¿é—®æ•°æ®åº“ä¸­çš„æŸäº›æ•°æ®çš„è¯ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯æ¯”è¾ƒæ…¢ï¼Œæ¯•ç«Ÿæ˜¯ä»ç¡¬ç›˜ä¸­è¯»å–çš„ã€‚ä½†æ˜¯å¦‚æœè¯´ï¼Œç”¨æˆ·è®¿é—®çš„æ•°æ®å±äºé«˜é¢‘æ•°æ®å¹¶ä¸”ä¸ä¼šç»å¸¸æ”¹å˜çš„è¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å¾ˆæ”¾å¿ƒåœ°&lt;font color=&#39;red&#39;&gt;å°†è¯¥ç”¨æˆ·è®¿é—®çš„æ•°æ®å­˜åœ¨ç¼“å­˜ä¸­&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿé‚£å°±æ˜¯&lt;font color=&#39;red&#39;&gt;ä¿è¯ç”¨æˆ·ä¸‹ä¸€æ¬¡å†è®¿é—®è¿™äº›æ•°æ®çš„æ—¶å€™ï¼Œå°±å¯ä»¥ç›´æ¥ä»ç¼“å­˜ä¸­è·å–äº†&lt;/font&gt;ã€‚æ“ä½œç¼“å­˜å°±æ˜¯ç›´æ¥æ“ä½œå†…å­˜ï¼Œæ‰€ä»¥é€Ÿåº¦ç›¸å½“å¿«ã€‚&lt;/p&gt;
&lt;p&gt;2ã€&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;é«˜å¹¶å‘&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬åƒ MySQL è¿™ç±»çš„æ•°æ®åº“çš„ QPS å¤§æ¦‚éƒ½åœ¨ 1w å·¦å³ï¼ˆ4 æ ¸ 8gï¼‰ï¼Œä½†æ˜¯ä½¿ç”¨ Redis ç¼“å­˜ä¹‹åå¾ˆå®¹æ˜“è¾¾åˆ° 10w+ï¼Œç”šè‡³æœ€é«˜èƒ½è¾¾åˆ° 30w+ï¼ˆå°±å•æœº Redis çš„æƒ…å†µï¼ŒRedis é›†ç¾¤çš„è¯ä¼šæ›´é«˜ï¼‰ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;QPSï¼ˆQuery Per Secondï¼‰&lt;/code&gt; ï¼šæœåŠ¡å™¨æ¯ç§’å¯ä»¥æ‰§è¡Œçš„æŸ¥è¯¢æ¬¡æ•°ï¼›&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç”±æ­¤å¯è§ï¼Œ&lt;font color=&#39;red&#39;&gt;ç›´æ¥æ“ä½œç¼“å­˜èƒ½å¤Ÿæ‰¿å—çš„æ•°æ®åº“è¯·æ±‚æ•°é‡æ˜¯è¿œè¿œå¤§äºç›´æ¥è®¿é—®æ•°æ®åº“çš„&lt;/font&gt;ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è€ƒè™‘æŠŠæ•°æ®åº“ä¸­çš„éƒ¨åˆ†æ•°æ®è½¬ç§»åˆ°ç¼“å­˜ä¸­å»ï¼Œè¿™æ ·ç”¨æˆ·çš„ä¸€éƒ¨åˆ†è¯·æ±‚ä¼šç›´æ¥åˆ°ç¼“å­˜è¿™é‡Œè€Œä¸ç”¨ç»è¿‡æ•°æ®åº“ã€‚è¿›è€Œï¼Œæˆ‘ä»¬ä¹Ÿå°±æé«˜äº†ç³»ç»Ÿæ•´ä½“çš„å¹¶å‘ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¸¸è§çš„ç¼“å­˜è¯»å†™ç­–ç•¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¸¸è§çš„ç¼“å­˜è¯»å†™ç­–ç•¥&#34;&gt;#&lt;/a&gt; å¸¸è§çš„ç¼“å­˜è¯»å†™ç­–ç•¥&lt;/h2&gt;
&lt;p&gt;æŒ‡è·¯â†’&lt;a href=&#34;#%E5%B8%B8%E8%A7%81%E7%9A%84%E7%BC%93%E5%AD%98%E6%9B%B4%E6%96%B0%E7%AD%96%E7%95%A5%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D?&#34;&gt;å¸¸è§çš„ç¼“å­˜æ›´æ–°ç­–ç•¥æœ‰å“ªå‡ ç§ï¼Ÿ&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&#34;redis-åº”ç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-åº”ç”¨&#34;&gt;#&lt;/a&gt; Redis åº”ç”¨&lt;/h1&gt;
&lt;h2 id=&#34;redis-é™¤äº†åšç¼“å­˜è¿˜èƒ½åšä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-é™¤äº†åšç¼“å­˜è¿˜èƒ½åšä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; Redis é™¤äº†åšç¼“å­˜ï¼Œè¿˜èƒ½åšä»€ä¹ˆï¼Ÿ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;åˆ†å¸ƒå¼é”&lt;/font&gt;&lt;/strong&gt;ï¼šé€šè¿‡ Redis æ¥åšåˆ†å¸ƒå¼é”æ˜¯ä¸€ç§æ¯”è¾ƒå¸¸è§çš„æ–¹å¼ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½æ˜¯åŸºäº &lt;font color=&#39;red&#39;&gt;Redisson&lt;/font&gt; æ¥å®ç°åˆ†å¸ƒå¼é”ã€‚å…³äº Redis å®ç°åˆ†å¸ƒå¼é”çš„è¯¦ç»†ä»‹ç»ï¼Œå¯ä»¥çœ‹æˆ‘å†™çš„è¿™ç¯‡æ–‡ç« ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qYXZhZ3VpZGUuY24vZGlzdHJpYnV0ZWQtc3lzdGVtL2Rpc3RyaWJ1dGVkLWxvY2suaHRtbA==&#34;&gt;åˆ†å¸ƒå¼é”è¯¦è§£&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;é™æµ&lt;/font&gt;&lt;/strong&gt;ï¼šä¸€èˆ¬æ˜¯é€šè¿‡&lt;font color=&#39;red&#39;&gt; Redis + Lua è„šæœ¬&lt;/font&gt;çš„æ–¹å¼æ¥å®ç°é™æµã€‚ç›¸å…³é˜…è¯»ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3Mva3lGQVdIM21WTkp2dXJRRHQ0dmNoQQ==&#34;&gt;ã€Šæˆ‘å¸ç”¨äº† 6 å¹´çš„ Redis åˆ†å¸ƒå¼é™æµå™¨ï¼Œå¯ä»¥è¯´æ˜¯éå¸¸å‰å®³äº†ï¼ã€‹&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ¶ˆæ¯é˜Ÿåˆ—&lt;/font&gt;&lt;/strong&gt;ï¼šRedis è‡ªå¸¦çš„ &lt;font color=&#39;red&#39;&gt;List&lt;/font&gt; æ•°æ®ç»“æ„å¯ä»¥ä½œä¸ºä¸€ä¸ªç®€å•çš„é˜Ÿåˆ—ä½¿ç”¨ã€‚Redis 5.0 ä¸­å¢åŠ çš„ &lt;font color=&#39;red&#39;&gt;Stream&lt;/font&gt; ç±»å‹çš„æ•°æ®ç»“æ„æ›´åŠ é€‚åˆç”¨æ¥åšæ¶ˆæ¯é˜Ÿåˆ—ã€‚å®ƒæ¯”è¾ƒ&lt;font color=&#39;red&#39;&gt;ç±»ä¼¼äº Kafkaï¼Œæœ‰ä¸»é¢˜å’Œæ¶ˆè´¹ç»„çš„æ¦‚å¿µï¼Œæ”¯æŒæ¶ˆæ¯æŒä¹…åŒ–ä»¥åŠ ACK æœºåˆ¶&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å»¶æ—¶é˜Ÿåˆ—&lt;/strong&gt;ï¼šRedisson å†…ç½®äº†å»¶æ—¶é˜Ÿåˆ—ï¼ˆåŸºäº &lt;font color=&#39;red&#39;&gt;Sorted Set&lt;/font&gt; å®ç°çš„ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åˆ†å¸ƒå¼ Session&lt;/strong&gt;ï¼šåˆ©ç”¨&lt;font color=&#39;red&#39;&gt; String æˆ–è€… Hash &lt;/font&gt;æ•°æ®ç±»å‹ä¿å­˜ Session æ•°æ®ï¼Œæ‰€æœ‰çš„æœåŠ¡å™¨éƒ½å¯ä»¥è®¿é—®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¤æ‚ä¸šåŠ¡åœºæ™¯&lt;/strong&gt;ï¼šé€šè¿‡ Redis ä»¥åŠ Redis æ‰©å±•ï¼ˆæ¯”å¦‚ &lt;font color=&#39;red&#39;&gt;Redisson&lt;/font&gt;ï¼‰æä¾›çš„æ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å®Œæˆå¾ˆå¤šå¤æ‚çš„ä¸šåŠ¡åœºæ™¯ï¼Œæ¯”å¦‚&lt;font color=&#39;red&#39;&gt;é€šè¿‡ Bitmap ç»Ÿè®¡æ´»è·ƒç”¨æˆ·ã€é€šè¿‡ Sorted Set ç»´æŠ¤æ’è¡Œæ¦œ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;â€¦&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;redis-å¦‚ä½•å®ç°åˆ†å¸ƒå¼é”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-å¦‚ä½•å®ç°åˆ†å¸ƒå¼é”&#34;&gt;#&lt;/a&gt; Redis å¦‚ä½•å®ç°åˆ†å¸ƒå¼é”ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;æŒ‡è·¯ -&amp;gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qYXZhZ3VpZGUuY24vZGlzdHJpYnV0ZWQtc3lzdGVtL2Rpc3RyaWJ1dGVkLWxvY2suaHRtbA==&#34;&gt; åˆ†å¸ƒå¼é”è¯¦è§£&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&#34;redis-å¯ä»¥åšæ¶ˆæ¯é˜Ÿåˆ—ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-å¯ä»¥åšæ¶ˆæ¯é˜Ÿåˆ—ä¹ˆ&#34;&gt;#&lt;/a&gt; Redis å¯ä»¥åšæ¶ˆæ¯é˜Ÿåˆ—ä¹ˆï¼Ÿ&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;å®é™…é¡¹ç›®ä¸­ä¹Ÿæ²¡è§è°ä½¿ç”¨ Redis æ¥åšæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¯¹äºè¿™éƒ¨åˆ†çŸ¥è¯†ç‚¹å¤§å®¶äº†è§£å°±å¥½äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å…ˆè¯´ç»“è®ºï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¯ä»¥æ˜¯å¯ä»¥ï¼Œä½†ä¸å»ºè®®ä½¿ç”¨ Redis æ¥åšæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå› ä¸ºå®ƒä¸å¦‚ä¸“ä¸šçš„æ¶ˆæ¯é˜Ÿåˆ—&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;list-å®ç°æ–¹å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#list-å®ç°æ–¹å¼&#34;&gt;#&lt;/a&gt; List å®ç°æ–¹å¼&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Redis 2.0 ä¹‹å‰ï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨ Redis æ¥åšæ¶ˆæ¯é˜Ÿåˆ—çš„è¯ï¼Œåªèƒ½é€šè¿‡ List æ¥å®ç°ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡  &lt;code&gt;RPUSH/LPOP&lt;/code&gt;  æˆ–è€…  &lt;code&gt;LPUSH/RPOP&lt;/code&gt;  å³å¯å®ç°ç®€æ˜“ç‰ˆæ¶ˆæ¯é˜Ÿåˆ—ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ç”Ÿäº§è€…ç”Ÿäº§æ¶ˆæ¯&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; RPUSH myList msg1 msg2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; RPUSH myList msg3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; LPOP myList&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;msg1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ä¸è¿‡ï¼Œé€šè¿‡  &lt;code&gt;RPUSH/LPOP&lt;/code&gt;  æˆ–è€…  &lt;code&gt;LPUSH/RPOP&lt;/code&gt;  è¿™æ ·çš„æ–¹å¼&lt;font color=&#39;red&#39;&gt;å­˜åœ¨æ€§èƒ½é—®é¢˜ï¼Œéœ€è¦ä¸æ–­è½®è¯¢å»è°ƒç”¨  &lt;code&gt;RPOP&lt;/code&gt;  æˆ–  &lt;code&gt;LPOP&lt;/code&gt;  æ¥æ¶ˆè´¹æ¶ˆæ¯&lt;/font&gt;ã€‚å½“ List ä¸ºç©ºæ—¶ï¼Œå¤§éƒ¨åˆ†çš„è½®è¯¢çš„è¯·æ±‚éƒ½æ˜¯æ— æ•ˆè¯·æ±‚ï¼Œè¿™ç§æ–¹å¼å¤§é‡æµªè´¹äº†ç³»ç»Ÿèµ„æºã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼ŒRedis &lt;font color=&#39;red&#39;&gt;è¿˜æä¾›äº†  &lt;code&gt;BLPOP&lt;/code&gt; ã€ &lt;code&gt;BRPOP&lt;/code&gt;  è¿™ç§é˜»å¡å¼è¯»å–çš„å‘½ä»¤&lt;/font&gt;ï¼ˆå¸¦ Bï¼šBloking çš„éƒ½æ˜¯é˜»å¡å¼ï¼‰ï¼Œå¹¶ä¸”è¿˜æ”¯æŒä¸€ä¸ªè¶…æ—¶å‚æ•°ã€‚&lt;font color=&#39;red&#39;&gt;å¦‚æœ List ä¸ºç©ºï¼ŒRedis æœåŠ¡ç«¯ä¸ä¼šç«‹åˆ»è¿”å›ç»“æœ&lt;/font&gt;ï¼Œå®ƒä¼šç­‰å¾… List ä¸­æœ‰æ–°æ•°æ®åï¼Œå†è¿”å›æˆ–è€…æ˜¯ç­‰å¾…æœ€å¤šä¸€ä¸ªè¶…æ—¶æ—¶é—´åè¿”å›ç©ºã€‚å¦‚æœå°†è¶…æ—¶æ—¶é—´è®¾ç½®ä¸º 0 æ—¶ï¼Œå³å¯æ— é™ç­‰å¾…ï¼Œç›´åˆ°å¼¹å‡ºæ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# è¶…æ—¶æ—¶é—´ä¸º 10s&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å¦‚æœæœ‰æ•°æ®åˆ™ç«‹åˆ»è¿”å›ï¼Œå¦åˆ™æœ€å¤šç­‰å¾… 10 ç§’&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; BRPOP myList &lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;null&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;List å®ç°æ¶ˆæ¯é˜Ÿåˆ—åŠŸèƒ½å¤ªç®€å•ï¼Œåƒ &lt;u&gt;ACK æœºåˆ¶&lt;/u&gt;ç­‰åŠŸèƒ½è¿˜éœ€è¦æˆ‘ä»¬è‡ªå·±å®ç°ï¼Œæœ€è¦å‘½çš„æ˜¯æ²¡æœ‰&lt;u&gt;å¹¿æ’­æœºåˆ¶&lt;/u&gt;ï¼Œæ¶ˆæ¯ä¹Ÿåªèƒ½è¢«æ¶ˆè´¹ä¸€æ¬¡&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å‘å¸ƒè®¢é˜…pubsubå®ç°æ–¹å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘å¸ƒè®¢é˜…pubsubå®ç°æ–¹å¼&#34;&gt;#&lt;/a&gt; å‘å¸ƒè®¢é˜…ï¼ˆpub/subï¼‰å®ç°æ–¹å¼&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Redis 2.0 å¼•å…¥äº†å‘å¸ƒè®¢é˜… (pub/sub) åŠŸèƒ½ï¼Œè§£å†³äº† List å®ç°æ¶ˆæ¯é˜Ÿåˆ—æ²¡æœ‰&lt;u&gt;å¹¿æ’­æœºåˆ¶&lt;/u&gt;çš„é—®é¢˜ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-pub-sub.png&#34; alt=&#34;Redis å‘å¸ƒè®¢é˜… (pub/sub) åŠŸèƒ½&#34; /&gt;&lt;/p&gt;
&lt;center&gt;Redis å‘å¸ƒè®¢é˜… (pub/sub) åŠŸèƒ½&lt;/center&gt;
&lt;p&gt;pub/sub ä¸­å¼•å…¥äº†ä¸€ä¸ªæ¦‚å¿µå« &lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;channelï¼ˆé¢‘é“ï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼Œå‘å¸ƒè®¢é˜…æœºåˆ¶çš„å®ç°å°±æ˜¯åŸºäºè¿™ä¸ª channel æ¥åšçš„ã€‚&lt;/p&gt;
&lt;p&gt;pub/sub æ¶‰åŠä¸¤ä¸ªè§’è‰²ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å‘å¸ƒè€…ï¼ˆPublisherï¼‰&lt;/font&gt;ï¼šé€šè¿‡  &lt;code&gt;PUBLISH&lt;/code&gt;  æŠ•é€’æ¶ˆæ¯ç»™æŒ‡å®š channelã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;è®¢é˜…è€…ï¼ˆSubscriberï¼Œä¹Ÿå«æ¶ˆè´¹è€…ï¼‰&lt;/font&gt;ï¼šé€šè¿‡  &lt;code&gt;SUBSCRIBE&lt;/code&gt;  è®¢é˜…å®ƒå…³å¿ƒçš„ channelã€‚å¹¶ä¸”ï¼Œè®¢é˜…è€…å¯ä»¥è®¢é˜…ä¸€ä¸ªæˆ–è€…å¤šä¸ª channelã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™é‡Œå¯åŠ¨ 3 ä¸ª Redis å®¢æˆ·ç«¯æ¥ç®€å•æ¼”ç¤ºä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-pubsub-message-queue.png&#34; alt=&#34;pub/sub å®ç°æ¶ˆæ¯é˜Ÿåˆ—æ¼”ç¤º&#34; /&gt;&lt;/p&gt;
&lt;center&gt;pub/sub å®ç°æ¶ˆæ¯é˜Ÿåˆ—æ¼”ç¤º&lt;/center&gt;
&lt;p&gt;pub/sub æ—¢èƒ½å•æ’­åˆèƒ½å¹¿æ’­ï¼Œè¿˜æ”¯æŒ channel çš„ç®€å•æ­£åˆ™åŒ¹é…ã€‚ä¸è¿‡ï¼Œ&lt;font color=&#39;red&#39;&gt;æ¶ˆæ¯ä¸¢å¤±ï¼ˆå®¢æˆ·ç«¯æ–­å¼€è¿æ¥æˆ–è€… Redis å®•æœºéƒ½ä¼šå¯¼è‡´æ¶ˆæ¯ä¸¢å¤±ï¼‰ã€æ¶ˆæ¯å †ç§¯ï¼ˆå‘å¸ƒè€…å‘å¸ƒæ¶ˆæ¯çš„æ—¶å€™ä¸ä¼šç®¡æ¶ˆè´¹è€…çš„å…·ä½“æ¶ˆè´¹èƒ½åŠ›å¦‚ä½•ï¼‰ç­‰é—®é¢˜ä¾ç„¶æ²¡æœ‰ä¸€ä¸ªæ¯”è¾ƒå¥½çš„è§£å†³åŠæ³•&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;stream-å®ç°æ–¹å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#stream-å®ç°æ–¹å¼&#34;&gt;#&lt;/a&gt; Stream å®ç°æ–¹å¼&lt;/h3&gt;
&lt;p&gt;ä¸ºæ­¤ï¼Œ&lt;font color=&#39;red&#39;&gt;Redis 5.0&lt;/font&gt; æ–°å¢åŠ çš„ä¸€ä¸ªæ•°æ®ç»“æ„  &lt;code&gt;Stream&lt;/code&gt;  æ¥åšæ¶ˆæ¯é˜Ÿåˆ—ã€‚ &lt;code&gt;Stream&lt;/code&gt;  æ”¯æŒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å‘å¸ƒè®¢é˜…ï¼ˆpub/subï¼‰æ¨¡å¼&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;æŒ‰ç…§&lt;font color=&#39;red&#39;&gt;æ¶ˆè´¹è€…ç»„&lt;/font&gt;è¿›è¡Œæ¶ˆè´¹ï¼ˆå€Ÿé‰´äº† Kafka æ¶ˆè´¹è€…ç»„çš„æ¦‚å¿µï¼‰&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æ¶ˆæ¯æŒä¹…åŒ–ï¼ˆRDB å’Œ AOFï¼‰&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ACK æœºåˆ¶&lt;/font&gt;ï¼ˆé€šè¿‡ç¡®è®¤æœºåˆ¶æ¥å‘ŠçŸ¥å·²ç»æˆåŠŸå¤„ç†äº†æ¶ˆæ¯ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;é˜»å¡å¼è·å–æ¶ˆæ¯&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;Stream&lt;/code&gt;  çš„ç»“æ„å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-stream-structure-ZjK8peV8.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Stream&lt;/code&gt;  ä½¿ç”¨èµ·æ¥ç›¸å¯¹è¦éº»çƒ¦ä¸€äº›ï¼Œè¿™é‡Œå°±ä¸æ¼”ç¤ºäº†ã€‚è€Œä¸”ï¼Œ&lt;font color=&#39;red&#39;&gt; &lt;code&gt;Stream&lt;/code&gt;  åœ¨å®é™…ä½¿ç”¨ä¸­ä¾ç„¶ä¼šæœ‰ä¸€äº›å°é—®é¢˜ä¸å¤ªå¥½è§£å†³&lt;/font&gt;ï¼Œæ¯”å¦‚åœ¨ Redis å‘ç”Ÿæ•…éšœæ¢å¤åä¸èƒ½ä¿è¯æ¶ˆæ¯è‡³å°‘è¢«æ¶ˆè´¹ä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Stream&lt;/code&gt;  è¢«ç”¨ä½œæ¶ˆæ¯é˜Ÿåˆ—æ—¶ï¼Œä¾èµ–äºä¸‹é¢è¿™äº›å‘½ä»¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;XADD&lt;/code&gt; ï¼šå‘æµä¸­æ·»åŠ æ–°çš„æ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;XREAD&lt;/code&gt; ï¼šä»æµä¸­è¯»å–æ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;XREADGROUP&lt;/code&gt; ï¼šä»æ¶ˆè´¹ç»„ä¸­è¯»å–æ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;XRANGE&lt;/code&gt; ï¼šæ ¹æ®æ¶ˆæ¯ ID èŒƒå›´è¯»å–æµä¸­çš„æ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;XREVRANGE&lt;/code&gt; ï¼šä¸  &lt;code&gt;XRANGE&lt;/code&gt;  ç±»ä¼¼ï¼Œä½†ä»¥ç›¸åé¡ºåºè¿”å›ç»“æœã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;XDEL&lt;/code&gt; ï¼šä»æµä¸­åˆ é™¤æ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;XTRIM&lt;/code&gt; ï¼šä¿®å‰ªæµçš„é•¿åº¦ï¼Œå¯ä»¥æŒ‡å®šä¿®å»ºç­–ç•¥ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;XLEN&lt;/code&gt; ï¼šè·å–æµçš„é•¿åº¦ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;XGROUP&lt;/code&gt; ï¼šç®¡ç†æ¶ˆè´¹ç»„ï¼ŒåŒ…æ‹¬åˆ›å»ºã€åˆ é™¤å’Œä¿®æ”¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;XACK&lt;/code&gt; ï¼šç¡®è®¤æ¶ˆè´¹ç»„ä¸­çš„æ¶ˆæ¯å·²è¢«å¤„ç†ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;XPENDING&lt;/code&gt; ï¼šæŸ¥è¯¢æ¶ˆè´¹ç»„ä¸­æŒ‚èµ·ï¼ˆæœªç¡®è®¤ï¼‰çš„æ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;XCLAIM&lt;/code&gt; ï¼šå°†æŒ‚èµ·çš„æ¶ˆæ¯ä»ä¸€ä¸ªæ¶ˆè´¹è€…è½¬ç§»åˆ°å¦ä¸€ä¸ªæ¶ˆè´¹è€…ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;XINFO&lt;/code&gt; ï¼šè·å–æµã€æ¶ˆè´¹ç»„æˆ–æ¶ˆè´¹è€…çš„è¯¦ç»†ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»¼ä¸Šï¼Œå’Œä¸“ä¸šçš„æ¶ˆæ¯é˜Ÿåˆ—ç›¸æ¯”ï¼Œä½¿ç”¨ Redis æ¥å®ç°æ¶ˆæ¯é˜Ÿåˆ—è¿˜æ˜¯æœ‰å¾ˆå¤šæ¬ ç¼ºçš„åœ°æ–¹ï¼Œæ¯”å¦‚&lt;font color=&#39;red&#39;&gt;æ¶ˆæ¯ä¸¢å¤±å’Œå †ç§¯é—®é¢˜&lt;/font&gt;ä¸å¥½è§£å†³ã€‚å› æ­¤ï¼Œæˆ‘ä»¬&lt;font color=&#39;red&#39;&gt;é€šå¸¸å»ºè®®ä¸è¦ä½¿ç”¨ Redis æ¥åšæ¶ˆæ¯é˜Ÿåˆ—&lt;/font&gt;ï¼Œä½ å®Œå…¨å¯ä»¥é€‰æ‹©å¸‚é¢ä¸Šæ¯”è¾ƒæˆç†Ÿçš„ä¸€äº›æ¶ˆæ¯é˜Ÿåˆ—æ¯”å¦‚ RocketMQã€Kafkaã€‚ä¸è¿‡ï¼Œå¦‚æœä½ å°±æ˜¯æƒ³è¦ç”¨ Redis æ¥åšæ¶ˆæ¯é˜Ÿåˆ—çš„è¯ï¼Œé‚£æˆ‘&lt;font color=&#39;red&#39;&gt;å»ºè®®ä¼˜å…ˆè€ƒè™‘  &lt;code&gt;Stream&lt;/code&gt; &lt;/font&gt;ï¼Œè¿™æ˜¯ç›®å‰ç›¸å¯¹æœ€ä¼˜çš„ Redis æ¶ˆæ¯é˜Ÿåˆ—å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;ç›¸å…³é˜…è¯»ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvZ0NVVDVUY0NRUkF4WWtUSmZUUmpKdw==&#34;&gt;Redis æ¶ˆæ¯é˜Ÿåˆ—å‘å±•å†ç¨‹ - é˜¿é‡Œå¼€å‘è€… - 2022&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;h1 id=&#34;redis-å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-å‘½ä»¤&#34;&gt;#&lt;/a&gt; Redis å‘½ä»¤&lt;/h1&gt;
&lt;p&gt;Redis æ ¹æ®å‘½ä»¤æ‰€æ“ä½œå¯¹è±¡çš„ä¸åŒï¼Œå¯ä»¥åˆ†ä¸ºä¸‰å¤§ç±»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹ Redis è¿›è¡ŒåŸºç¡€æ€§æ“ä½œçš„å‘½ä»¤&lt;/li&gt;
&lt;li&gt;å¯¹ Key çš„æ“ä½œå‘½ä»¤&lt;/li&gt;
&lt;li&gt;å¯¹ Value çš„æ“ä½œå‘½ä»¤&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;åŸºç¡€å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸºç¡€å‘½ä»¤&#34;&gt;#&lt;/a&gt; åŸºç¡€å‘½ä»¤&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆé€šè¿‡  &lt;code&gt;redis-cli&lt;/code&gt;  å‘½ä»¤è¿›å…¥åˆ° Redis å‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼Œç„¶åå†è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‘½ä»¤&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;PING&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;å¿ƒè·³å‘½ä»¤&lt;/font&gt;ï¼Œä¼šçœ‹åˆ° PONG å“åº”ï¼Œåˆ™è¯´æ˜è¯¥å®¢æˆ·ç«¯ä¸ Redis çš„è¿æ¥æ˜¯æ­£å¸¸çš„ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SELECT&lt;/code&gt;  dbindex&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;åˆ‡æ¢æ•°æ®åº“&lt;/font&gt;ã€‚Redis é»˜è®¤æœ‰ 16 ä¸ªæ•°æ®åº“ï¼Œè¿™ä¸ªåœ¨ RDM å›¾å½¢å®¢æˆ·ç«¯ä¸­å¯ä»¥ç›´è§‚åœ°çœ‹åˆ°ã€‚é»˜è®¤ä½¿ç”¨çš„æ˜¯ 0 å· DBï¼Œå¯ä»¥é€šè¿‡ select db ç´¢å¼•æ¥åˆ‡æ¢ DBã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DBSIZE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;æŸ¥çœ‹å½“å‰æ•°æ®åº“ä¸­ key çš„æ•°é‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;FLUSHDB&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åˆ é™¤å½“å‰æ•°æ®åº“ä¸­çš„æ•°æ®&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;FLUSHALL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åˆ é™¤æ‰€æœ‰æ•°æ®åº“ä¸­çš„æ•°æ®&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ä½¿ç”¨  &lt;code&gt;exit&lt;/code&gt;  /  &lt;code&gt;quit&lt;/code&gt;  å‘½ä»¤å‡å¯é€€å‡º Redis å‘½ä»¤è¡Œå®¢æˆ·ç«¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;key-ç›¸å…³å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#key-ç›¸å…³å‘½ä»¤&#34;&gt;#&lt;/a&gt; key ç›¸å…³å‘½ä»¤&lt;/h2&gt;
&lt;p&gt;å› æ­¤ï¼Œåœ¨ä»‹ç» Redis ä¸­å¸¸ç”¨çš„ value æ•°æ®ç±»å‹å‰ï¼Œå…ˆä»‹ç»ä¸€ä¸‹ key ç›¸å…³çš„å‘½ä»¤ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‘½ä»¤&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DEL&lt;/code&gt;  key&lt;/td&gt;
&lt;td&gt;key å­˜åœ¨æ—¶ï¼Œåˆ é™¤ key&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;UNLINK&lt;/code&gt;  key&lt;/td&gt;
&lt;td&gt;éé˜»å¡åˆ é™¤ keyï¼Œä»…ä»…å°† key ä» keyspace å…ƒæ•°æ®ä¸­åˆ é™¤ï¼ŒçœŸæ­£çš„åˆ é™¤ä¼šåœ¨åç»­å¼‚æ­¥ä¸­æ“ä½œã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DUMP key&lt;/td&gt;
&lt;td&gt;è¿”å› key è¢«åºåˆ—åŒ–åçš„å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;EXISTS&lt;/code&gt;  key&lt;/td&gt;
&lt;td&gt;æ£€æŸ¥ key æ˜¯å¦å­˜åœ¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;EXPIRE&lt;/code&gt;  key seconds&lt;/td&gt;
&lt;td&gt;ä»¥ç§’ä¸ºå•ä½ï¼Œè®¾ç½® key çš„è¿‡æœŸæ—¶é—´ã€‚&lt;font color=&#39;red&#39;&gt;é»˜è®¤ -1 è¡¨ç¤ºæ°¸ä¸è¿‡æœŸ&lt;/font&gt;ã€‚ï¼ˆæ—¶é—´é—´éš”ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PEXPIRE key milliseconds&lt;/td&gt;
&lt;td&gt;ä»¥æ¯«ç§’ä¸ºå•ä½ï¼Œè®¾ç½® key è¿‡æœŸæ—¶é—´ã€‚ï¼ˆæ—¶é—´é—´éš”ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;EXPIREAT&lt;/code&gt;  key timestamp&lt;/td&gt;
&lt;td&gt;ä¸ EXPIRE ç±»ä¼¼ï¼Œä»¥ç§’ä¸ºå•ä½ï¼Œä¸åŒç‚¹åœ¨äºè¯¥å‘½ä»¤æ¥å—çš„æ—¶é—´å‚æ•°æ˜¯ UNIX æ—¶é—´æˆ³ï¼ˆunix timestampï¼‰&lt;font color=&#39;red&#39;&gt;ï¼ˆæ—¶åˆ»ï¼‰&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PEXPIREAT key milliseconds-timestamp&lt;/td&gt;
&lt;td&gt;ä»¥æ¯«ç§’ä¸ºå•ä½ï¼Œè®¾ç½® key è¿‡æœŸæ—¶é—´çš„ UNIX æ—¶é—´æˆ³ã€‚&lt;font color=&#39;red&#39;&gt;ï¼ˆæ—¶åˆ»ï¼‰&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;KEYS&lt;/code&gt;  pattern&lt;/td&gt;
&lt;td&gt;æŸ¥æ‰¾æ‰€æœ‰ç¬¦åˆç»™å®šæ¨¡å¼ï¼ˆpatternï¼‰çš„ keyã€‚ä¾‹å¦‚  &lt;code&gt;KEYS *&lt;/code&gt;  æŸ¥çœ‹å½“å‰æ•°æ®åº“çš„æ‰€æœ‰ keyã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;MOVE&lt;/code&gt;  key dbindex[0-15]&lt;/td&gt;
&lt;td&gt;å°†å½“å‰æ•°æ®åº“çš„ key ç§»åŠ¨åˆ°æŒ‡å®šæ•°æ®åº“ [0-15] ä¸­ï¼Œé»˜è®¤ä¸º 0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SELECT&lt;/code&gt;  dbindex&lt;/td&gt;
&lt;td&gt;åˆ‡æ¢åˆ°æŒ‡å®šçš„æ•°æ®åº“ [0-15]ï¼Œé»˜è®¤ä¸º 0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DBSIZE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;æŸ¥çœ‹å½“å‰æ•°æ®åº“çš„ key æ•°é‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;FLUSHDB&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;æ¸…ç©ºå½“å‰åº“&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;FLUSHALL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;é€šæ€æ‰€æœ‰åº“&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;PERSIST&lt;/code&gt;  key&lt;/td&gt;
&lt;td&gt;æŒä¹…ä¿æŒ keyï¼Œç§»é™¤å…¶è¿‡æœŸæ—¶é—´&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;TTL&lt;/code&gt;  key&lt;/td&gt;
&lt;td&gt;ä»¥ç§’ä¸ºå•ä½ï¼Œè¿”å› key çš„å‰©ä½™ç”Ÿå­˜æ—¶é—´ï¼ˆTTLï¼Œtime to liveï¼‰ã€‚&lt;font color=&#39;red&#39;&gt;å…¶ä¸­ -1 è¡¨ç¤ºæ°¸ä¸è¿‡æœŸï¼Œ-2 è¡¨ç¤ºå·²è¿‡æœŸ&lt;/font&gt;ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PTTL key&lt;/td&gt;
&lt;td&gt;ä»¥æ¯«ç§’ä¸ºå•ä½ï¼Œè¿”å› key çš„å‰©ä½™ç”Ÿå­˜æ—¶é—´&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RANDOMKEY&lt;/td&gt;
&lt;td&gt;ä»å½“å‰æ•°æ®åº“ä¸­éšæœºè¿”å›ä¸€ä¸ª key&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RENAME key newkey&lt;/td&gt;
&lt;td&gt;å°† key æ”¹åä¸º newkey&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RENAMENX key newkey&lt;/td&gt;
&lt;td&gt;ä»…å½“ newkey ä¸å­˜åœ¨æ—¶ï¼Œå°† key æ”¹åä¸º newkey&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;TYPE&lt;/code&gt;  key&lt;/td&gt;
&lt;td&gt;è¿”å› key æ‰€å­˜å‚¨&lt;font color=&#39;red&#39;&gt; value çš„æ•°æ®ç±»å‹&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;redis-æ•°æ®ç±»å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-æ•°æ®ç±»å‹&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸRedis æ•°æ®ç±»å‹&lt;/mark&gt;&lt;/h1&gt;
&lt;p&gt;å‰æ–‡å·²å£°æ˜è¿‡ Redis æ˜¯åŸºäº Key-Value çš„ï¼Œè€Œ &lt;strong&gt;&lt;font color=&#39;orange&#39;&gt;key ç±»å‹ä¸€èˆ¬æ˜¯ Stringï¼Œè¿™é‡Œæ‰€ä»‹ç»çš„æ•°æ®ç±»å‹æŒ‡çš„æ˜¯ value çš„æ•°æ®ç±»å‹&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¸¸ç”¨æ•°æ®ç±»å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¸¸ç”¨æ•°æ®ç±»å‹&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸå¸¸ç”¨æ•°æ®ç±»å‹&lt;/mark&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;æ›´å¤š Redis value æ•°æ®ç±»å‹ å‘½ä»¤ä»¥åŠè¯¦ç»†ä½¿ç”¨æŒ‡å—ï¼Œè¯·æŸ¥çœ‹ Redis å®˜ç½‘å¯¹åº”çš„ä»‹ç»ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcw==&#34;&gt;https://redis.io/commands&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Redis ä¸­æ¯”è¾ƒå¸¸è§çš„æ•°æ®ç±»å‹æœ‰ä¸‹é¢è¿™äº›ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;5 ç§åŸºç¡€æ•°æ®ç±»å‹&lt;/font&gt;&lt;/strong&gt;ï¼š &lt;code&gt;String&lt;/code&gt; ï¼ˆå­—ç¬¦ä¸²ï¼‰ã€ &lt;code&gt;List&lt;/code&gt; ï¼ˆåˆ—è¡¨ï¼‰ã€ &lt;code&gt;Set&lt;/code&gt; ï¼ˆé›†åˆï¼‰ã€ &lt;code&gt;Hash&lt;/code&gt; ï¼ˆæ•£åˆ—ï¼‰ã€ &lt;code&gt;Zset&lt;/code&gt; ï¼ˆæœ‰åºé›†åˆï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;3 ç§ç‰¹æ®Šæ•°æ®ç±»å‹&lt;/font&gt;&lt;/strong&gt;ï¼š &lt;code&gt;HyperLogLog&lt;/code&gt; ï¼ˆåŸºæ•°ç»Ÿè®¡ï¼‰ã€ &lt;code&gt;Bitmap&lt;/code&gt; ï¼ˆä½å›¾ï¼‰ã€ &lt;code&gt;Geospatial&lt;/code&gt;  (åœ°ç†ä½ç½®)ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é™¤äº†ä¸Šé¢æåˆ°çš„ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„æ¯”å¦‚ &lt;a href=&#34;https://javaguide.cn/cs-basics/data-structure/bloom-filter.html&#34;&gt; &lt;code&gt;Bloom filter&lt;/code&gt; ï¼ˆå¸ƒéš†è¿‡æ»¤å™¨ï¼‰&lt;/a&gt;ã€ &lt;code&gt;Bitfield&lt;/code&gt; ï¼ˆä½åŸŸï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231203143049962.png&#34; alt=&#34;image-20231203143049962&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;5-ç§åŸºç¡€æ•°æ®ç±»å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#5-ç§åŸºç¡€æ•°æ®ç±»å‹&#34;&gt;#&lt;/a&gt; 5 ç§åŸºç¡€æ•°æ®ç±»å‹&lt;/h3&gt;
&lt;p&gt;Redis å…±æœ‰ 5 ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼šStringï¼ˆå­—ç¬¦ä¸²ï¼‰ã€Listï¼ˆåˆ—è¡¨ï¼‰ã€Setï¼ˆé›†åˆï¼‰ã€Hashï¼ˆæ•£åˆ—ï¼‰ã€Zsetï¼ˆæœ‰åºé›†åˆï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ 5 ç§æ•°æ®ç±»å‹æ˜¯ç›´æ¥æä¾›ç»™ç”¨æˆ·ä½¿ç”¨çš„ï¼Œæ˜¯æ•°æ®çš„ä¿å­˜å½¢å¼ï¼Œå…¶åº•å±‚å®ç°ä¸»è¦ä¾èµ–è¿™ 8 ç§æ•°æ®ç»“æ„ï¼šç®€å•åŠ¨æ€å­—ç¬¦ä¸²ï¼ˆ &lt;code&gt;SDS&lt;/code&gt; ï¼‰ã€ &lt;code&gt;LinkedList&lt;/code&gt; ï¼ˆåŒå‘é“¾è¡¨ï¼‰ã€ &lt;code&gt;Dict&lt;/code&gt; ï¼ˆå“ˆå¸Œè¡¨ / å­—å…¸ï¼‰ã€ &lt;code&gt;SkipList&lt;/code&gt; ï¼ˆè·³è·ƒè¡¨ï¼‰ã€ &lt;code&gt;Intset&lt;/code&gt; ï¼ˆæ•´æ•°é›†åˆï¼‰ã€ &lt;code&gt;ZipList&lt;/code&gt; ï¼ˆå‹ç¼©åˆ—è¡¨ï¼‰ã€ &lt;code&gt;QuickList&lt;/code&gt; ï¼ˆå¿«é€Ÿåˆ—è¡¨ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;**&lt;font color=&#39;red&#39;&gt;5 ç§åŸºæœ¬æ•°æ®ç±»å‹å¯¹åº”çš„åº•å±‚æ•°æ®ç»“æ„&lt;/font&gt;** å®ç°å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;String&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;List&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Hash&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Set&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Zset&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SDS&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;LinkedList/ZipList/QuickList&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Dictã€ZipList&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Dictã€Intset&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ZipListã€SkipList&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Redis 3.2 ä¹‹å‰ï¼ŒList åº•å±‚å®ç°æ˜¯ LinkedList æˆ–è€… ZipListã€‚ Redis 3.2 ä¹‹åï¼Œå¼•å…¥äº† LinkedList å’Œ ZipList çš„ç»“åˆ QuickListï¼ŒList çš„åº•å±‚å®ç°å˜ä¸º QuickListã€‚ä» Redis 7.0 å¼€å§‹ï¼Œ ZipList è¢« ListPack å–ä»£ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥åœ¨ Redis å®˜ç½‘ä¸Šæ‰¾åˆ° Redis æ•°æ®ç±»å‹ / ç»“æ„éå¸¸è¯¦ç»†çš„ä»‹ç»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9yZWRpcy5jb20vcmVkaXMtZW50ZXJwcmlzZS9kYXRhLXN0cnVjdHVyZXMv&#34;&gt;Redis Data Structures&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9yZWRpcy5pby9kb2NzL21hbnVhbC9kYXRhLXR5cGVzL2RhdGEtdHlwZXMtdHV0b3JpYWwv&#34;&gt;Redis Data types tutorial&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœªæ¥éšç€ Redis æ–°ç‰ˆæœ¬çš„å‘å¸ƒï¼Œå¯èƒ½ä¼šæœ‰æ–°çš„æ•°æ®ç»“æ„å‡ºç°ï¼Œé€šè¿‡æŸ¥é˜… Redis å®˜ç½‘å¯¹åº”çš„ä»‹ç»ï¼Œä½ æ€»èƒ½è·å–åˆ°æœ€é è°±çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20220720181630203.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;stringå­—ç¬¦ä¸²&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#stringå­—ç¬¦ä¸²&#34;&gt;#&lt;/a&gt; Stringï¼ˆå­—ç¬¦ä¸²ï¼‰&lt;/h4&gt;
&lt;h5 id=&#34;ä»‹ç»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»‹ç»&#34;&gt;#&lt;/a&gt; ä»‹ç»&lt;/h5&gt;
&lt;p&gt;String æ˜¯ Redis ä¸­&lt;font color=&#39;red&#39;&gt;æœ€ç®€å•ã€æœ€å¸¸ç”¨&lt;/font&gt;çš„ä¸€ä¸ªæ•°æ®ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;String æ˜¯ä¸€ç§ **&lt;font color=&#39;red&#39;&gt;äºŒè¿›åˆ¶å®‰å…¨&lt;/font&gt;** çš„æ•°æ®ç±»å‹ï¼Œ&lt;font color=&#39;red&#39;&gt;å¯ä»¥ç”¨æ¥å­˜å‚¨ä»»ä½•ç±»å‹çš„æ•°æ®&lt;/font&gt;ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²ã€æ•´æ•°ã€æµ®ç‚¹æ•°ã€å›¾ç‰‡ï¼ˆå›¾ç‰‡çš„ base64 ç¼–ç æˆ–è€…è§£ç æˆ–è€…å›¾ç‰‡çš„è·¯å¾„ï¼‰ã€åºåˆ—åŒ–åçš„å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20220719124403897.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è™½ç„¶ Redis æ˜¯ç”¨ C è¯­è¨€å†™çš„ï¼Œä½†æ˜¯ Redis å¹¶æ²¡æœ‰ä½¿ç”¨ C çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œè€Œæ˜¯è‡ªå·±æ„å»ºäº†ä¸€ç§ &lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç®€å•åŠ¨æ€å­—ç¬¦ä¸²&lt;/font&gt;&lt;/strong&gt;ï¼ˆSimple Dynamic Stringï¼Œ &lt;code&gt;SDS&lt;/code&gt; ï¼‰ã€‚ç›¸æ¯”äº C çš„åŸç”Ÿå­—ç¬¦ä¸²ï¼ŒRedis çš„ &lt;font color=&#39;red&#39;&gt;SDS ä¸å…‰å¯ä»¥ä¿å­˜æ–‡æœ¬æ•°æ®ï¼Œè¿˜å¯ä»¥ä¿å­˜äºŒè¿›åˆ¶æ•°æ®ï¼Œå¹¶ä¸”è·å–å­—ç¬¦ä¸²é•¿åº¦å¤æ‚åº¦ä¸º O (1)&lt;/font&gt;ï¼ˆC å­—ç¬¦ä¸²ä¸º O (N)ï¼‰ã€‚æ­¤å¤–ï¼ŒRedis çš„ &lt;font color=&#39;red&#39;&gt;SDS API æ˜¯å®‰å…¨çš„ï¼Œä¸ä¼šé€ æˆç¼“å†²åŒºæº¢å‡º&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘½ä»¤&#34;&gt;#&lt;/a&gt; å‘½ä»¤&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‘½ä»¤&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;SET key value&lt;/td&gt;
&lt;td&gt;è®¾ç½®æŒ‡å®š key çš„å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SETNX&lt;/code&gt;  key value&lt;/td&gt;
&lt;td&gt;åªæœ‰åœ¨&lt;font color=&#39;red&#39;&gt; key ä¸å­˜åœ¨æ—¶&lt;/font&gt;è®¾ç½® key çš„å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;GET key&lt;/td&gt;
&lt;td&gt;è·å–æŒ‡å®š key çš„å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;MSET&lt;/code&gt;  key1 value1 key2 value2 â€¦â€¦&lt;/td&gt;
&lt;td&gt;è®¾ç½®ä¸€ä¸ªæˆ–&lt;font color=&#39;red&#39;&gt;å¤šä¸ª&lt;/font&gt;æŒ‡å®š key çš„å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;MGET key1 key2 ...&lt;/td&gt;
&lt;td&gt;è·å–ä¸€ä¸ªæˆ–å¤šä¸ªæŒ‡å®š key çš„å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;STRLEN&lt;/code&gt;  key&lt;/td&gt;
&lt;td&gt;è¿”å› key æ‰€å‚¨å­˜çš„&lt;font color=&#39;red&#39;&gt;å­—ç¬¦ä¸²å€¼çš„é•¿åº¦&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;INCR&lt;/code&gt;  key&lt;/td&gt;
&lt;td&gt;å°† key ä¸­å‚¨å­˜çš„æ•°å­—å€¼å¢ä¸€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DECR&lt;/code&gt;  key&lt;/td&gt;
&lt;td&gt;å°† key ä¸­å‚¨å­˜çš„æ•°å­—å€¼å‡ä¸€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;EXISTS key&lt;/td&gt;
&lt;td&gt;åˆ¤æ–­æŒ‡å®š key æ˜¯å¦å­˜åœ¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DEL&lt;/code&gt;  keyï¼ˆé€šç”¨ï¼‰&lt;/td&gt;
&lt;td&gt;åˆ é™¤æŒ‡å®šçš„ key&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;EXPIRE&lt;/code&gt;  key secondsï¼ˆé€šç”¨ï¼‰&lt;/td&gt;
&lt;td&gt;ç»™æŒ‡å®š key è®¾ç½®è¿‡æœŸæ—¶é—´&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;åŸºæœ¬æ“ä½œ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SET key value&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; GET key&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;value&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; EXISTS key&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; STRLEN key&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; DEL key&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; GET key&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;nil&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æ‰¹é‡è®¾ç½®&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; MSET key1 value1 key2 value2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; MGET key1 key2 &lt;span class=&#34;token comment&#34;&gt;# æ‰¹é‡è·å–å¤šä¸ª key å¯¹åº”çš„ value&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;è®¡æ•°å™¨ï¼ˆå­—ç¬¦ä¸²çš„å†…å®¹ä¸ºæ•´æ•°çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ï¼‰ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SET number &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; INCR number &lt;span class=&#34;token comment&#34;&gt;# å°† key ä¸­å‚¨å­˜çš„æ•°å­—å€¼å¢ä¸€&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; GET number&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; DECR number &lt;span class=&#34;token comment&#34;&gt;# å°† key ä¸­å‚¨å­˜çš„æ•°å­—å€¼å‡ä¸€&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; GET number&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;è®¾ç½®è¿‡æœŸæ—¶é—´ï¼ˆé»˜è®¤ä¸ºæ°¸ä¸è¿‡æœŸï¼‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; EXPIRE key &lt;span class=&#34;token number&#34;&gt;60&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SETEX key &lt;span class=&#34;token number&#34;&gt;60&lt;/span&gt; value &lt;span class=&#34;token comment&#34;&gt;# è®¾ç½®å€¼å¹¶è®¾ç½®è¿‡æœŸæ—¶é—´&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; TTL key&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;56&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;string-åº”ç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#string-åº”ç”¨&#34;&gt;#&lt;/a&gt; String åº”ç”¨&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¸¸è§„æ•°æ®çš„ç¼“å­˜&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸¾ä¾‹ï¼šç¼“å­˜ Sessionã€Tokenã€å›¾ç‰‡åœ°å€ã€åºåˆ—åŒ–åçš„å¯¹è±¡ (ç›¸æ¯”è¾ƒäº Hash å­˜å‚¨æ›´èŠ‚çœå†…å­˜)ã€‚&lt;/li&gt;
&lt;li&gt;ç›¸å…³å‘½ä»¤ï¼š &lt;code&gt;SET&lt;/code&gt; ã€ &lt;code&gt;GET&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;éœ€è¦&lt;font color=&#39;red&#39;&gt;è®¡æ•°&lt;/font&gt;çš„åœºæ™¯&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸¾ä¾‹ï¼šç”¨æˆ·å•ä½æ—¶é—´çš„è¯·æ±‚æ•°ï¼ˆç®€å•é™æµå¯ä»¥ç”¨åˆ°ï¼‰ã€é¡µé¢å•ä½æ—¶é—´çš„è®¿é—®æ•°ã€‚&lt;/li&gt;
&lt;li&gt;ç›¸å…³å‘½ä»¤ï¼š &lt;code&gt;SET&lt;/code&gt; ã€ &lt;code&gt;GET&lt;/code&gt; ã€  &lt;code&gt;INCR&lt;/code&gt; ã€ &lt;code&gt;DECR&lt;/code&gt;  ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;åˆ†å¸ƒå¼é”&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åˆ©ç”¨  &lt;code&gt;SETNX key value&lt;/code&gt;  å‘½ä»¤å¯ä»¥å®ç°ä¸€ä¸ªæœ€ç®€æ˜“çš„åˆ†å¸ƒå¼é”ï¼ˆå­˜åœ¨ä¸€äº›ç¼ºé™·ï¼Œé€šå¸¸ä¸å»ºè®®è¿™æ ·å®ç°åˆ†å¸ƒå¼é”ï¼‰ã€‚&lt;/p&gt;
&lt;h4 id=&#34;liståˆ—è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#liståˆ—è¡¨&#34;&gt;#&lt;/a&gt; Listï¼ˆåˆ—è¡¨ï¼‰&lt;/h4&gt;
&lt;h5 id=&#34;ä»‹ç»-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»‹ç»-2&#34;&gt;#&lt;/a&gt; ä»‹ç»&lt;/h5&gt;
&lt;p&gt;Redis ä¸­çš„ List å…¶å®å°±æ˜¯&lt;font color=&#39;red&#39;&gt;é“¾è¡¨æ•°æ®ç»“æ„çš„å®ç°&lt;/font&gt;ã€‚æˆ‘åœ¨ &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qYXZhZ3VpZGUuY24vY3MtYmFzaWNzL2RhdGEtc3RydWN0dXJlL2xpbmVhci1kYXRhLXN0cnVjdHVyZS5odG1s&#34;&gt;çº¿æ€§æ•°æ®ç»“æ„ï¼šæ•°ç»„ã€é“¾è¡¨ã€æ ˆã€é˜Ÿåˆ—&lt;/span&gt; è¿™ç¯‡æ–‡ç« ä¸­è¯¦ç»†ä»‹ç»äº†é“¾è¡¨è¿™ç§æ•°æ®ç»“æ„ï¼Œæˆ‘è¿™é‡Œå°±ä¸å¤šåšä»‹ç»äº†ã€‚&lt;/p&gt;
&lt;p&gt;è®¸å¤šé«˜çº§ç¼–ç¨‹è¯­è¨€éƒ½å†…ç½®äº†é“¾è¡¨çš„å®ç°æ¯”å¦‚ Java ä¸­çš„  &lt;code&gt;LinkedList&lt;/code&gt; ï¼Œä½†æ˜¯ C è¯­è¨€å¹¶æ²¡æœ‰å®ç°é“¾è¡¨ï¼Œæ‰€ä»¥ Redis å®ç°äº†è‡ªå·±çš„é“¾è¡¨æ•°æ®ç»“æ„ã€‚Redis çš„ List çš„å®ç°ä¸ºä¸€ä¸ª **&lt;font color=&#39;#B32015&#39;&gt;åŒå‘é“¾è¡¨&lt;/font&gt;**ï¼Œå³å¯ä»¥æ”¯æŒåå‘æŸ¥æ‰¾å’Œéå†ï¼Œæ›´æ–¹ä¾¿æ“ä½œï¼Œä¸è¿‡å¸¦æ¥äº†éƒ¨åˆ†é¢å¤–çš„å†…å­˜å¼€é”€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20220719124413287.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;å‘½ä»¤-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘½ä»¤-2&#34;&gt;#&lt;/a&gt; å‘½ä»¤&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‘½ä»¤&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;RPUSH&lt;/code&gt;  key value1 value2 ...&lt;/td&gt;
&lt;td&gt;åœ¨æŒ‡å®šåˆ—è¡¨çš„å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;LPUSH key value1 value2 ...&lt;/td&gt;
&lt;td&gt;åœ¨æŒ‡å®šåˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LSET&lt;/code&gt;  key index value&lt;/td&gt;
&lt;td&gt;å°†æŒ‡å®šåˆ—è¡¨ç´¢å¼• index ä½ç½®çš„å€¼è®¾ç½®ä¸º value&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;RPOP&lt;/code&gt;  key&lt;/td&gt;
&lt;td&gt;ç§»é™¤å¹¶è·å–æŒ‡å®šåˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´  (æœ€å³è¾¹)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;LPOP key&lt;/td&gt;
&lt;td&gt;ç§»é™¤å¹¶è·å–æŒ‡å®šåˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´  (æœ€å·¦è¾¹)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LLEN&lt;/code&gt;  key&lt;/td&gt;
&lt;td&gt;è·å–åˆ—è¡¨å…ƒç´ æ•°é‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LRANGE&lt;/code&gt;  key start end&lt;/td&gt;
&lt;td&gt;è·å–åˆ—è¡¨ start å’Œ end ä¹‹é—´ çš„å…ƒç´ &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;é€šè¿‡  &lt;code&gt;RPUSH/LPOP&lt;/code&gt;  æˆ–è€…  &lt;code&gt;LPUSH/RPOP&lt;/code&gt; &lt;strong&gt; å®ç°é˜Ÿåˆ—ï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; RPUSH myList value1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; RPUSH myList value2 value3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; LPOP myList&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;value1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; LRANGE myList &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value3&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; LRANGE myList &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value3&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é€šè¿‡  &lt;code&gt;RPUSH/RPOP&lt;/code&gt;  æˆ–è€… &lt;code&gt;LPUSH/LPOP&lt;/code&gt;  &lt;strong&gt;å®ç°æ ˆï¼ˆå…ˆè¿›åå‡ºï¼‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; RPUSH myList2 value1 value2 value3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; RPOP myList2 &lt;span class=&#34;token comment&#34;&gt;# å°† list çš„æœ€å³è¾¹çš„å…ƒç´ å–å‡º&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;value3&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æˆ‘ä¸“é—¨ç”»äº†ä¸€ä¸ªå›¾æ–¹ä¾¿å¤§å®¶ç†è§£  &lt;code&gt;RPUSH&lt;/code&gt;  ,  &lt;code&gt;LPOP&lt;/code&gt;  ,  &lt;code&gt;lpush&lt;/code&gt;  ,  &lt;code&gt;RPOP&lt;/code&gt;  å‘½ä»¤ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://oss.javaguide.cn/github/javaguide/database/redis/redis-list.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡  &lt;code&gt;LRANGE&lt;/code&gt;  &lt;strong&gt;æŸ¥çœ‹å¯¹åº”ä¸‹æ ‡èŒƒå›´çš„åˆ—è¡¨å…ƒç´ &lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; RPUSH myList value1 value2 value3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; LRANGE myList &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; LRANGE myList &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value3&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é€šè¿‡  &lt;code&gt;LRANGE&lt;/code&gt;  å‘½ä»¤ï¼Œä½ å¯ä»¥&lt;font color=&#39;red&#39;&gt;åŸºäº List å®ç°åˆ†é¡µæŸ¥è¯¢&lt;/font&gt;ï¼Œæ€§èƒ½éå¸¸é«˜ï¼&lt;/p&gt;
&lt;p&gt;é€šè¿‡  &lt;code&gt;LLEN&lt;/code&gt;  &lt;strong&gt;æŸ¥çœ‹é“¾è¡¨é•¿åº¦&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; LLEN myList&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;åº”ç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åº”ç”¨&#34;&gt;#&lt;/a&gt; åº”ç”¨&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;ä¿¡æ¯æµå±•ç¤º&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸¾ä¾‹ï¼šæœ€æ–°æ–‡ç« ã€æœ€æ–°åŠ¨æ€ã€‚&lt;/li&gt;
&lt;li&gt;ç›¸å…³å‘½ä»¤ï¼š &lt;code&gt;LPUSH&lt;/code&gt; ã€ &lt;code&gt;LRANGE&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æ¶ˆæ¯é˜Ÿåˆ—&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;List&lt;/code&gt;  å¯ä»¥ç”¨æ¥åšæ¶ˆæ¯é˜Ÿåˆ—ï¼Œåªæ˜¯&lt;font color=&#39;red&#39;&gt;åŠŸèƒ½è¿‡äºç®€å•ä¸”å­˜åœ¨å¾ˆå¤šç¼ºé™·&lt;/font&gt;ï¼Œä¸å»ºè®®è¿™æ ·åšã€‚&lt;/p&gt;
&lt;p&gt;ç›¸å¯¹æ¥è¯´ï¼ŒRedis 5.0 æ–°å¢åŠ çš„ä¸€ä¸ªæ•°æ®ç»“æ„  &lt;code&gt;Stream&lt;/code&gt;  æ›´é€‚åˆåšæ¶ˆæ¯é˜Ÿåˆ—ä¸€äº›ï¼Œåªæ˜¯åŠŸèƒ½ä¾ç„¶éå¸¸ç®€é™‹ã€‚å’Œä¸“ä¸šçš„æ¶ˆæ¯é˜Ÿåˆ—ç›¸æ¯”ï¼Œè¿˜æ˜¯æœ‰å¾ˆå¤šæ¬ ç¼ºçš„åœ°æ–¹æ¯”å¦‚&lt;font color=&#39;red&#39;&gt;æ¶ˆæ¯ä¸¢å¤±å’Œå †ç§¯é—®é¢˜&lt;/font&gt;ä¸å¥½è§£å†³ã€‚&lt;/p&gt;
&lt;h4 id=&#34;hashå“ˆå¸Œ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#hashå“ˆå¸Œ&#34;&gt;#&lt;/a&gt; Hashï¼ˆå“ˆå¸Œï¼‰&lt;/h4&gt;
&lt;h5 id=&#34;ä»‹ç»-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»‹ç»-3&#34;&gt;#&lt;/a&gt; ä»‹ç»&lt;/h5&gt;
&lt;p&gt;Redis ä¸­çš„ Hash æ˜¯ä¸€ä¸ª&lt;font color=&#39;red&#39;&gt; String ç±»å‹çš„ field-valueï¼ˆé”®å€¼å¯¹ï¼‰ &lt;/font&gt;çš„æ˜ å°„è¡¨ï¼Œç‰¹åˆ«é€‚åˆç”¨äº&lt;font color=&#39;red&#39;&gt;å­˜å‚¨å¯¹è±¡&lt;/font&gt;ï¼Œåç»­æ“ä½œçš„æ—¶å€™ï¼Œä½ å¯ä»¥ç›´æ¥ä¿®æ”¹è¿™ä¸ªå¯¹è±¡ä¸­çš„æŸäº›å­—æ®µçš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;Hash ç±»ä¼¼äº JDK1.8 å‰çš„  &lt;code&gt;HashMap&lt;/code&gt; ï¼Œå†…éƒ¨å®ç°ä¹Ÿå·®ä¸å¤š (&lt;font color=&#39;red&#39;&gt;æ•°ç»„ + é“¾è¡¨&lt;/font&gt;)ã€‚ä¸è¿‡ï¼ŒRedis çš„ Hash åšäº†æ›´å¤šä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20220719124421703.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;å‘½ä»¤-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘½ä»¤-3&#34;&gt;#&lt;/a&gt; å‘½ä»¤&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‘½ä»¤&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;HSET&lt;/code&gt;  key field value&lt;/td&gt;
&lt;td&gt;å°†æŒ‡å®šå“ˆå¸Œè¡¨ key ä¸­æŒ‡å®šå­—æ®µ field çš„å€¼è®¾ç½®ä¸º value&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;HSETNX key field value&lt;/td&gt;
&lt;td&gt;ä»…å½“æŒ‡å®šå­—æ®µ field ä¸å­˜åœ¨æ—¶ï¼Œè®¾ç½®å…¶å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;HMSET&lt;/code&gt;  key field1 value1 field2 value2 ...&lt;/td&gt;
&lt;td&gt;åŒæ—¶å°†ä¸€ä¸ªæˆ–&lt;font color=&#39;red&#39;&gt;å¤šä¸ª&lt;/font&gt; field-value (åŸŸ - å€¼) å¯¹è®¾ç½®åˆ°æŒ‡å®šå“ˆå¸Œè¡¨ key ä¸­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;HGET key field&lt;/td&gt;
&lt;td&gt;è·å–æŒ‡å®šå“ˆå¸Œè¡¨ä¸­æŒ‡å®šå­—æ®µçš„&lt;font color=&#39;red&#39;&gt;å€¼&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;HMGET key field1 field2 ...&lt;/td&gt;
&lt;td&gt;è·å–æŒ‡å®šå“ˆå¸Œè¡¨ä¸­ä¸€ä¸ªæˆ–è€…å¤šä¸ªæŒ‡å®šå­—æ®µçš„&lt;font color=&#39;red&#39;&gt;å€¼&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;HGETALL&lt;/code&gt;  key&lt;/td&gt;
&lt;td&gt;è·å–æŒ‡å®šå“ˆå¸Œè¡¨ key ä¸­æ‰€æœ‰çš„ **&lt;font color=&#39;red&#39;&gt;é”®å€¼å¯¹&lt;/font&gt;**&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;HEXISTS&lt;/code&gt;  key field&lt;/td&gt;
&lt;td&gt;æŸ¥çœ‹æŒ‡å®šå“ˆå¸Œè¡¨ä¸­æŒ‡å®šçš„å­—æ®µæ˜¯å¦å­˜åœ¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;HDEL&lt;/code&gt;  key field1 field2 ...&lt;/td&gt;
&lt;td&gt;åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå“ˆå¸Œè¡¨å­—æ®µ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;HLEN&lt;/code&gt;  key&lt;/td&gt;
&lt;td&gt;è·å–æŒ‡å®šå“ˆå¸Œè¡¨ä¸­å­—æ®µçš„æ•°é‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;HINCRBY&lt;/code&gt;  key field increment&lt;/td&gt;
&lt;td&gt;å¯¹æŒ‡å®šå“ˆå¸Œä¸­çš„æŒ‡å®šå­—æ®µåšè¿ç®—æ“ä½œï¼ˆæ­£æ•°ä¸ºåŠ ï¼Œè´Ÿæ•°ä¸ºå‡ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;æ¨¡æ‹Ÿå¯¹è±¡æ•°æ®å­˜å‚¨&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; HMSET userInfoKey name &lt;span class=&#34;token string&#34;&gt;&#34;guide&#34;&lt;/span&gt; description &lt;span class=&#34;token string&#34;&gt;&#34;dev&#34;&lt;/span&gt; age &lt;span class=&#34;token number&#34;&gt;24&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; HEXISTS userInfoKey name &lt;span class=&#34;token comment&#34;&gt;# æŸ¥çœ‹ key å¯¹åº”çš„ value ä¸­æŒ‡å®šçš„å­—æ®µæ˜¯å¦å­˜åœ¨ã€‚&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; HGET userInfoKey name &lt;span class=&#34;token comment&#34;&gt;# è·å–å­˜å‚¨åœ¨å“ˆå¸Œè¡¨ä¸­æŒ‡å®šå­—æ®µçš„å€¼ã€‚&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;guide&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; HGET userInfoKey age&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;24&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; HGETALL userInfoKey &lt;span class=&#34;token comment&#34;&gt;# è·å–åœ¨å“ˆå¸Œè¡¨ä¸­æŒ‡å®š key çš„æ‰€æœ‰å­—æ®µå’Œå€¼&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;name&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;guide&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;description&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;dev&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;age&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;24&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; HSET userInfoKey name &lt;span class=&#34;token string&#34;&gt;&#34;GuideGeGe&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; HGET userInfoKey name&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;GuideGeGe&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; HINCRBY userInfoKey age &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;26&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;åº”ç”¨-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åº”ç”¨-2&#34;&gt;#&lt;/a&gt; åº”ç”¨&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;å¯¹è±¡æ•°æ®å­˜å‚¨åœºæ™¯&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸¾ä¾‹ï¼šç”¨æˆ·ä¿¡æ¯ã€å•†å“ä¿¡æ¯ã€æ–‡ç« ä¿¡æ¯ã€è´­ç‰©è½¦ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;ç›¸å…³å‘½ä»¤ï¼š &lt;code&gt;HSET&lt;/code&gt;  ï¼ˆè®¾ç½®å•ä¸ªå­—æ®µçš„å€¼ï¼‰ã€ &lt;code&gt;HMSET&lt;/code&gt; ï¼ˆè®¾ç½®å¤šä¸ªå­—æ®µçš„å€¼ï¼‰ã€ &lt;code&gt;HGET&lt;/code&gt; ï¼ˆè·å–å•ä¸ªå­—æ®µçš„å€¼ï¼‰ã€ &lt;code&gt;HMGET&lt;/code&gt; ï¼ˆè·å–å¤šä¸ªå­—æ®µçš„å€¼ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;seté›†åˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#seté›†åˆ&#34;&gt;#&lt;/a&gt; Setï¼ˆé›†åˆï¼‰&lt;/h4&gt;
&lt;h5 id=&#34;ä»‹ç»-4&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»‹ç»-4&#34;&gt;#&lt;/a&gt; ä»‹ç»&lt;/h5&gt;
&lt;p&gt;Redis ä¸­çš„ Set ç±»å‹æ˜¯ä¸€ç§æ— åºé›†åˆï¼Œé›†åˆä¸­çš„ **&lt;font color=&#39;red&#39;&gt;å…ƒç´ æ²¡æœ‰å…ˆåé¡ºåºï¼Œä½†éƒ½å”¯ä¸€ï¼ˆä¸é‡å¤ï¼‰&lt;/font&gt;**ï¼Œæœ‰ç‚¹ç±»ä¼¼äº Java ä¸­çš„  &lt;code&gt;HashSet&lt;/code&gt;  ã€‚å½“ä½ éœ€è¦å­˜å‚¨ä¸€ä¸ªåˆ—è¡¨æ•°æ®ï¼Œåˆä¸å¸Œæœ›å‡ºç°é‡å¤æ•°æ®æ—¶ï¼ŒSet æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼Œå¹¶ä¸” Set æä¾›äº†åˆ¤æ–­æŸä¸ªå…ƒç´ æ˜¯å¦åœ¨ä¸€ä¸ª Set é›†åˆå†…çš„é‡è¦æ¥å£ï¼Œè¿™ä¸ªä¹Ÿæ˜¯ List æ‰€ä¸èƒ½æä¾›çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥åŸºäº Set è½»æ˜“å®ç°&lt;font color=&#39;red&#39;&gt;äº¤é›†ã€å¹¶é›†ã€å·®é›†&lt;/font&gt;çš„æ“ä½œï¼Œæ¯”å¦‚ä½ å¯ä»¥å°†ä¸€ä¸ªç”¨æˆ·æ‰€æœ‰çš„å…³æ³¨äººå­˜åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œå°†å…¶æ‰€æœ‰ç²‰ä¸å­˜åœ¨ä¸€ä¸ªé›†åˆã€‚è¿™æ ·çš„è¯ï¼ŒSet å¯ä»¥éå¸¸æ–¹ä¾¿çš„å®ç°å¦‚å…±åŒå…³æ³¨ã€å…±åŒç²‰ä¸ã€å…±åŒå–œå¥½ç­‰åŠŸèƒ½ã€‚è¿™ä¸ªè¿‡ç¨‹ä¹Ÿå°±æ˜¯æ±‚äº¤é›†çš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20220719124430264.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;å‘½ä»¤-4&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘½ä»¤-4&#34;&gt;#&lt;/a&gt; å‘½ä»¤&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‘½ä»¤&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SADD&lt;/code&gt;  key member1 member2 ...&lt;/td&gt;
&lt;td&gt;å‘æŒ‡å®šé›†åˆæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SMEMBERS&lt;/code&gt;  key&lt;/td&gt;
&lt;td&gt;è·å–æŒ‡å®šé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SCARD&lt;/code&gt;  key&lt;/td&gt;
&lt;td&gt;è·å–æŒ‡å®šé›†åˆçš„å…ƒç´ æ•°é‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SISMEMBER&lt;/code&gt;  key member&lt;/td&gt;
&lt;td&gt;åˆ¤æ–­æŒ‡å®šå…ƒç´ æ˜¯å¦åœ¨æŒ‡å®šé›†åˆä¸­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SINTER&lt;/code&gt;  key1 key2 ...&lt;/td&gt;
&lt;td&gt;è·å–ç»™å®šæ‰€æœ‰é›†åˆçš„äº¤é›†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SINTERSTORE destination key1 key2 ...&lt;/td&gt;
&lt;td&gt;å°†ç»™å®šæ‰€æœ‰é›†åˆçš„äº¤é›†å­˜å‚¨åœ¨ destination ä¸­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SUNION&lt;/code&gt;  key1 key2 ...&lt;/td&gt;
&lt;td&gt;è·å–ç»™å®šæ‰€æœ‰é›†åˆçš„å¹¶é›†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SUNIONSTORE destination key1 key2 ...&lt;/td&gt;
&lt;td&gt;å°†ç»™å®šæ‰€æœ‰é›†åˆçš„å¹¶é›†å­˜å‚¨åœ¨ destination ä¸­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SDIFF&lt;/code&gt;  key1 key2 ...&lt;/td&gt;
&lt;td&gt;è·å–ç»™å®šæ‰€æœ‰é›†åˆçš„å·®é›†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SDIFFSTORE destination key1 key2 ...&lt;/td&gt;
&lt;td&gt;å°†ç»™å®šæ‰€æœ‰é›†åˆçš„å·®é›†å­˜å‚¨åœ¨ destination ä¸­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SPOP&lt;/code&gt;  key count&lt;/td&gt;
&lt;td&gt;éšæœºç§»é™¤å¹¶è·å–æŒ‡å®šé›†åˆä¸­ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SRANDMEMBER&lt;/code&gt;  key count&lt;/td&gt;
&lt;td&gt;éšæœºè·å–æŒ‡å®šé›†åˆä¸­æŒ‡å®šæ•°é‡çš„å…ƒç´ &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;åŸºæœ¬æ“ä½œ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SADD mySet value1 value2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SADD mySet value1 &lt;span class=&#34;token comment&#34;&gt;# ä¸å…è®¸æœ‰é‡å¤å…ƒç´ ï¼Œå› æ­¤æ·»åŠ å¤±è´¥&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SMEMBERS mySet&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SCARD mySet&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SISMEMBER mySet value1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SADD mySet2 value2 value3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;mySet&lt;/code&gt;  :  &lt;code&gt;value1&lt;/code&gt; ã€ &lt;code&gt;value2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mySet2&lt;/code&gt; ï¼š &lt;code&gt;value2&lt;/code&gt; ã€ &lt;code&gt;value3&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æ±‚äº¤é›†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SINTERSTORE mySet3 mySet mySet2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SMEMBERS mySet3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æ±‚å¹¶é›†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SUNION mySet mySet2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value3&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æ±‚å·®é›†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SDIFF mySet mySet2 &lt;span class=&#34;token comment&#34;&gt;# å·®é›†æ˜¯ç”±æ‰€æœ‰å±äº mySet ä½†ä¸å±äº A çš„å…ƒç´ ç»„æˆçš„é›†åˆ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;set-åº”ç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#set-åº”ç”¨&#34;&gt;#&lt;/a&gt; Set åº”ç”¨&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;éœ€è¦å­˜æ”¾çš„&lt;font color=&#39;red&#39;&gt;æ•°æ®ä¸èƒ½é‡å¤&lt;/font&gt;çš„åœºæ™¯&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸¾ä¾‹ï¼š&lt;font color=&#39;red&#39;&gt;ç½‘ç«™ UV ï¼ˆUnique Visitorï¼Œç‹¬ç«‹è®¿å®¢ï¼‰ç»Ÿè®¡&lt;/font&gt;ï¼ˆæ•°æ®é‡å·¨å¤§çš„åœºæ™¯è¿˜æ˜¯  &lt;code&gt;HyperLogLog&lt;/code&gt;  æ›´é€‚åˆä¸€äº›ï¼‰ã€&lt;font color=&#39;red&#39;&gt;ç‚¹èµæ•°ç»Ÿè®¡&lt;/font&gt;ç­‰åœºæ™¯ã€‚&lt;/li&gt;
&lt;li&gt;ç›¸å…³å‘½ä»¤ï¼š &lt;code&gt;SCARD&lt;/code&gt; ï¼ˆè·å–é›†åˆæ•°é‡ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20220719073733851.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;éœ€è¦è·å–å¤šä¸ªæ•°æ®æº&lt;font color=&#39;red&#39;&gt;äº¤é›†ã€å¹¶é›†å’Œå·®é›†&lt;/font&gt;çš„åœºæ™¯&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸¾ä¾‹ï¼šå…±åŒå¥½å‹ (äº¤é›†)ã€å…±åŒç²‰ä¸ (äº¤é›†)ã€å…±åŒå…³æ³¨ (äº¤é›†)ã€å¥½å‹æ¨èï¼ˆå·®é›†ï¼‰ã€éŸ³ä¹æ¨èï¼ˆå·®é›†ï¼‰ã€è®¢é˜…å·æ¨èï¼ˆå·®é›† + äº¤é›†ï¼‰ ç­‰åœºæ™¯ã€‚&lt;/li&gt;
&lt;li&gt;ç›¸å…³å‘½ä»¤ï¼š &lt;code&gt;SINTER&lt;/code&gt; ï¼ˆäº¤é›†ï¼‰ã€ &lt;code&gt;SINTERSTORE&lt;/code&gt;  ï¼ˆäº¤é›†ï¼‰ã€ &lt;code&gt;SUNION&lt;/code&gt;  ï¼ˆå¹¶é›†ï¼‰ã€ &lt;code&gt;SUNIONSTORE&lt;/code&gt; ï¼ˆå¹¶é›†ï¼‰ã€ &lt;code&gt;SDIFF&lt;/code&gt; ï¼ˆå·®é›†ï¼‰ã€ &lt;code&gt;SDIFFSTORE&lt;/code&gt;  ï¼ˆå·®é›†ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20220719074543513.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;éœ€è¦&lt;font color=&#39;red&#39;&gt;éšæœºè·å–æ•°æ®æºä¸­çš„å…ƒç´ &lt;/font&gt;çš„åœºæ™¯&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸¾ä¾‹ï¼š&lt;font color=&#39;red&#39;&gt;æŠ½å¥–ç³»ç»Ÿã€éšæœºç‚¹å&lt;/font&gt;ç­‰åœºæ™¯ã€‚&lt;/li&gt;
&lt;li&gt;ç›¸å…³å‘½ä»¤ï¼š &lt;code&gt;SPOP&lt;/code&gt; ï¼ˆéšæœºè·å–é›†åˆä¸­çš„å…ƒç´ å¹¶ç§»é™¤ï¼Œé€‚åˆ&lt;font color=&#39;red&#39;&gt;ä¸å…è®¸é‡å¤ä¸­å¥–&lt;/font&gt;çš„åœºæ™¯ï¼‰ã€ &lt;code&gt;SRANDMEMBER&lt;/code&gt; ï¼ˆéšæœºè·å–é›†åˆä¸­çš„å…ƒç´ ï¼Œé€‚åˆ&lt;font color=&#39;red&#39;&gt;å…è®¸é‡å¤ä¸­å¥–&lt;/font&gt;çš„åœºæ™¯ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;sorted-setzsetæœ‰åºé›†åˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sorted-setzsetæœ‰åºé›†åˆ&#34;&gt;#&lt;/a&gt; Sorted Set/Zsetï¼ˆæœ‰åºé›†åˆï¼‰&lt;/h4&gt;
&lt;h5 id=&#34;ä»‹ç»-5&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»‹ç»-5&#34;&gt;#&lt;/a&gt; ä»‹ç»&lt;/h5&gt;
&lt;p&gt;Sorted Set ä¹Ÿç§° Zsetï¼Œå’Œ Set ç›¸æ¯” **&lt;font color=&#39;red&#39;&gt;å¢åŠ äº†ä¸€ä¸ªæƒé‡å‚æ•°&lt;/font&gt;**  &lt;code&gt;score&lt;/code&gt; ï¼Œä½¿å¾—é›†åˆä¸­çš„å…ƒç´ èƒ½å¤ŸæŒ‰  &lt;code&gt;score&lt;/code&gt;  è¿›è¡Œ **&lt;font color=&#39;red&#39;&gt;æœ‰åºæ’åˆ—&lt;/font&gt;**ï¼Œè¿˜å¯ä»¥é€šè¿‡  &lt;code&gt;score&lt;/code&gt;  çš„èŒƒå›´æ¥è·å–å…ƒç´ çš„åˆ—è¡¨ã€‚æœ‰ç‚¹åƒæ˜¯ Java ä¸­  &lt;code&gt;HashMap&lt;/code&gt;  å’Œ  &lt;code&gt;TreeSet&lt;/code&gt;  çš„ç»“åˆä½“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20220719124437791.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;å‘½ä»¤-5&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘½ä»¤-5&#34;&gt;#&lt;/a&gt; å‘½ä»¤&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‘½ä»¤&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;ZADD&lt;/code&gt;  key score1 member1 score2 member2 ...&lt;/td&gt;
&lt;td&gt;å‘æŒ‡å®šæœ‰åºé›†åˆæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;ZCARD&lt;/code&gt;  KEY&lt;/td&gt;
&lt;td&gt;è·å–æŒ‡å®šæœ‰åºé›†åˆçš„å…ƒç´ æ•°é‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;ZSCORE&lt;/code&gt;  key member&lt;/td&gt;
&lt;td&gt;è·å–æŒ‡å®šæœ‰åºé›†åˆä¸­æŒ‡å®šå…ƒç´ çš„ score å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;ZINTERSTORE&lt;/code&gt;  destination numkeys key1 key2 ...&lt;/td&gt;
&lt;td&gt;å°†ç»™å®šæ‰€æœ‰æœ‰åºé›†åˆçš„äº¤é›†å­˜å‚¨åœ¨ destination ä¸­ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¯¹ç›¸åŒå…ƒç´ å¯¹åº”çš„ score å€¼è¿›è¡Œ SUM èšåˆæ“ä½œ&lt;/font&gt;&lt;/strong&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;numkeys ä¸ºé›†åˆæ•°é‡&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;ZUNIONSTORE&lt;/code&gt;  destination numkeys key1 key2 ...&lt;/td&gt;
&lt;td&gt;æ±‚å¹¶é›†ï¼Œå…¶å®ƒå’Œ ZINTERSTORE ç±»ä¼¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;ZDIFFSTORE&lt;/code&gt;  destination numkeys key1 key2 ...&lt;/td&gt;
&lt;td&gt;æ±‚å·®é›†ï¼Œå…¶å®ƒå’Œ ZINTERSTORE ç±»ä¼¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;ZRANGE&lt;/code&gt;  key start end&lt;/td&gt;
&lt;td&gt;è·å–æŒ‡å®šæœ‰åºé›†åˆ start å’Œ end ä¹‹é—´çš„å…ƒç´ ï¼ˆ&lt;font color=&#39;red&#39;&gt;score ä»ä½åˆ°é«˜&lt;/font&gt;ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;ZREVRANGE&lt;/code&gt;  key start end&lt;/td&gt;
&lt;td&gt;è·å–æŒ‡å®šæœ‰åºé›†åˆ start å’Œ end ä¹‹é—´çš„å…ƒç´ ï¼ˆ&lt;font color=&#39;red&#39;&gt;score ä»é«˜åˆ°åº•&lt;/font&gt;ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;ZREVRANK&lt;/code&gt;  key member&lt;/td&gt;
&lt;td&gt;è·å–æŒ‡å®šæœ‰åºé›†åˆä¸­æŒ‡å®šå…ƒç´ çš„æ’å (&lt;font color=&#39;red&#39;&gt;score ä»å¤§åˆ°å°æ’åº&lt;/font&gt;)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;åŸºæœ¬æ“ä½œ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; ZADD myZset &lt;span class=&#34;token number&#34;&gt;2.0&lt;/span&gt; value1 &lt;span class=&#34;token number&#34;&gt;1.0&lt;/span&gt; value2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; ZCARD myZset&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; ZSCORE myZset value1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2.0&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; ZRANGE myZset &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; ZREVRANGE myZset &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;value2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; ZADD myZset2 &lt;span class=&#34;token number&#34;&gt;4.0&lt;/span&gt; value2 &lt;span class=&#34;token number&#34;&gt;3.0&lt;/span&gt; value3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;myZset&lt;/code&gt;  :  &lt;code&gt;value1&lt;/code&gt; (2.0)ã€ &lt;code&gt;value2&lt;/code&gt; (1.0) ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;myZset2&lt;/code&gt; ï¼š &lt;code&gt;value2&lt;/code&gt;  ï¼ˆ4.0ï¼‰ã€ &lt;code&gt;value3&lt;/code&gt; (3.0) ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;è·å–æŒ‡å®šå…ƒç´ çš„æ’å&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; ZREVRANK myZset value1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; ZREVRANK myZset value2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æ±‚äº¤é›†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; ZINTERSTORE myZset3 &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; myZset myZset2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; ZRANGE myZset3 &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; WITHSCORES&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;value2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æ±‚å¹¶é›†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; ZUNIONSTORE myZset4 &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; myZset myZset2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; ZRANGE myZset4 &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; WITHSCORES&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;value1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;value3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;value2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æ±‚å·®é›†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; ZDIFF &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; myZset myZset2 WITHSCORES&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;value1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;zset-åº”ç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#zset-åº”ç”¨&#34;&gt;#&lt;/a&gt; Zset åº”ç”¨&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;éœ€è¦&lt;font color=&#39;red&#39;&gt;æ ¹æ®æŸä¸ªæƒé‡å¯¹å…ƒç´ è¿›è¡Œæ’åºï¼ˆæ’è¡Œæ¦œï¼‰&lt;/font&gt;çš„åœºæ™¯&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸¾ä¾‹ï¼šå„ç§æ’è¡Œæ¦œæ¯”å¦‚ç›´æ’­é—´é€ç¤¼ç‰©çš„æ’è¡Œæ¦œã€æœ‹å‹åœˆçš„å¾®ä¿¡æ­¥æ•°æ’è¡Œæ¦œã€ç‹è€…è£è€€ä¸­çš„æ®µä½æ’è¡Œæ¦œã€è¯é¢˜çƒ­åº¦æ’è¡Œæ¦œç­‰ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;ç›¸å…³å‘½ä»¤ï¼š &lt;code&gt;ZRANGE&lt;/code&gt;  (ä»å°åˆ°å¤§æ’åº)ã€  &lt;code&gt;ZREVRANGE&lt;/code&gt;  ï¼ˆä»å¤§åˆ°å°æ’åºï¼‰ã€ &lt;code&gt;ZREVRANK&lt;/code&gt;  (è·å–æŒ‡å®šå…ƒç´ çš„æ’å)ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/2021060714195385.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Sorted Set èƒ½å¤Ÿè½»æ¾åº”å¯¹ç™¾ä¸‡çº§åˆ«çš„ç”¨æˆ·æ•°æ®æ’åºï¼Œç®€ç›´å°±æ˜¯ä¸“é—¨ä¸ºæ’è¡Œæ¦œè®¾è®¡çš„æ•°æ®ç»“æ„ï¼ä¸‹é¢è¯¦ç»†ä»‹ç»ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ Sorted Set æ¥è®¾è®¡åˆ¶ä½œä¸€ä¸ªæ’è¡Œæ¦œï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;User&lt;/th&gt;
&lt;th&gt;Score&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;user1&lt;/td&gt;
&lt;td&gt;112.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;user2&lt;/td&gt;
&lt;td&gt;100.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;user3&lt;/td&gt;
&lt;td&gt;123.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;user4&lt;/td&gt;
&lt;td&gt;100.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;user5&lt;/td&gt;
&lt;td&gt;33.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;user6&lt;/td&gt;
&lt;td&gt;993.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;æŠŠä¸Šè¡¨ä¸­çš„æ•°æ®æ·»åŠ åˆ° Sorted Set ä¸­ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# é€šè¿‡ zadd å‘½ä»¤æ·»åŠ äº† 6 ä¸ªå…ƒç´ åˆ° cus_order_set ä¸­&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; ZADD cus_order_set &lt;span class=&#34;token number&#34;&gt;112.0&lt;/span&gt; user1 &lt;span class=&#34;token number&#34;&gt;100.0&lt;/span&gt; user2 &lt;span class=&#34;token number&#34;&gt;123.0&lt;/span&gt; user3 &lt;span class=&#34;token number&#34;&gt;100.0&lt;/span&gt; user4 &lt;span class=&#34;token number&#34;&gt;33.0&lt;/span&gt; user5 &lt;span class=&#34;token number&#34;&gt;993.0&lt;/span&gt; user6&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/up-c25cf4cc1d4d3a484b4db93672138b8c104.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æŸ¥çœ‹åŒ…å«æ‰€æœ‰ç”¨æˆ·çš„æ’è¡Œæ¦œï¼š&lt;/strong&gt; é€šè¿‡ ZRANGE (ä»å°åˆ°å¤§æ’åº) / ZREVRANGE ï¼ˆä»å¤§åˆ°å°æ’åºï¼‰&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# -1 ä»£è¡¨çš„æ˜¯å…¨éƒ¨çš„ç”¨æˆ·æ•°æ®ï¼Œ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; ZREVRANGE cus_order_set &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;user6&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;user3&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;user1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;user4&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;user2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;user5&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æŸ¥çœ‹åªåŒ…å«å‰ 3 åçš„æ’è¡Œæ¦œ:&lt;/strong&gt; é™å®šèŒƒå›´åŒºé—´å³å¯ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# 0 ä¸º start  2 ä¸º stop&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; ZREVRANGE cus_order_set &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;user6&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;user3&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;user1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æŸ¥è¯¢æŸä¸ªç”¨æˆ·çš„åˆ†æ•°:&lt;/strong&gt; é€šè¿‡  &lt;code&gt;ZSCORE &lt;/code&gt; å‘½ä»¤å³å¯ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; ZSCORE  cus_order_set &lt;span class=&#34;token string&#34;&gt;&#34;user1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;112&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æŸ¥è¯¢æŸä¸ªç”¨æˆ·çš„æ’å:&lt;/strong&gt; é€šè¿‡  &lt;code&gt;ZREVRANK&lt;/code&gt;  å‘½ä»¤å³å¯ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bahs&#34;&gt;127.0.0.1:6379&amp;gt; ZREVRANK  cus_order_set &amp;quot;user3&amp;quot;
(integer) 1 # user3 æ’åç¬¬2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;å¯¹ç”¨æˆ·çš„æ’åæ•°æ®è¿›è¡Œæ›´æ–°:&lt;/strong&gt; é€šè¿‡  &lt;code&gt; ZINCRBY&lt;/code&gt;  å‘½ä»¤å³å¯ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å¯¹ user1 çš„åˆ†æ•°åŠ  2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; ZINCRBY cus_order_set +2 &lt;span class=&#34;token string&#34;&gt;&#34;user1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;114&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å¯¹ user1 çš„åˆ†æ•°å‡ 1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; ZINCRBY cus_order_set &lt;span class=&#34;token parameter variable&#34;&gt;-1&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;user1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;113&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æŸ¥çœ‹ user1 çš„åˆ†æ•°&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; ZSCORE  cus_order_set &lt;span class=&#34;token string&#34;&gt;&#34;user1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;113&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é™¤äº†æˆ‘ä¸Šé¢æåˆ°çš„ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„å‘½ä»¤æ¥å¸®åŠ©ä½ è§£å†³æ›´å¤šæ’è¡Œæ¦œåœºæ™¯çš„éœ€æ±‚ï¼Œæƒ³è¦æ·±å…¥ç ”ç©¶çš„å°ä¼™ä¼´å¯ä»¥ä»”ç»†å­¦ä¹ å“¦ï¼&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Redis ä¸­åªä¿å­˜äº†æ’è¡Œæ¦œå±•ç¤ºæ‰€éœ€çš„æ•°æ®ï¼Œéœ€è¦ç”¨æˆ·çš„å…·ä½“ä¿¡æ¯æ•°æ®çš„è¯ï¼Œè¿˜æ˜¯éœ€è¦å»å¯¹åº”çš„æ•°æ®åº“ï¼ˆæ¯”å¦‚ MySQLï¼‰ä¸­æŸ¥ã€‚&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä½ ä»¥ä¸ºè¿™æ ·å°±å®Œäº‹äº†ï¼Ÿ ä¸å­˜åœ¨çš„ï¼è¿˜æœ‰ä¸€äº›æ— æ³•ä»…ä»…é€šè¿‡ Redis æä¾›çš„å‘½ä»¤è§£å†³çš„åœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œ&lt;strong&gt;å¦‚ä½•å®ç°å¤šæ¡ä»¶æ’åºï¼Ÿ&lt;/strong&gt; å…¶å®ï¼Œç­”æ¡ˆä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå¯¹äºå¤§éƒ¨åˆ†åœºæ™¯ï¼Œæˆ‘ä»¬ç›´æ¥å¯¹ score å€¼åšæ–‡ç« å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;æ›´å…·ä½“ç‚¹çš„è¯å°±æ˜¯ï¼Œæˆ‘ä»¬&lt;font color=&#39;red&#39;&gt;æ ¹æ®ç‰¹å®šçš„æ¡ä»¶æ¥æ‹¼æ¥ score å€¼å³å¯&lt;/font&gt;ã€‚æ¯”å¦‚æˆ‘ä»¬è¿˜è¦åŠ ä¸Šæ—¶é—´å…ˆåæ¡ä»¶çš„è¯ï¼Œç›´æ¥åœ¨ score å€¼æ·»åŠ ä¸Šæ—¶é—´æˆ³å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å†æ¯”å¦‚ï¼Œ&lt;strong&gt;å¦‚ä½•å®ç°æŒ‡å®šæ—¥æœŸï¼ˆæ¯”å¦‚æœ€è¿‘ 7 å¤©ï¼‰çš„ç”¨æˆ·æ•°æ®æ’åºï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘è¯´ä¸€ç§æ¯”è¾ƒç®€å•çš„æ–¹æ³•ï¼šæˆ‘ä»¬æŠŠæ¯ä¸€å¤©çš„æ•°æ®éƒ½æŒ‰ç…§æ—¥æœŸä¸ºåå­—ï¼Œæ¯”å¦‚ 20350305 å°±ä»£è¡¨ 2035 å¹´ 3 æœˆ 5 å·ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬éœ€è¦æŸ¥è¯¢æœ€è¿‘ n å¤©çš„æ’è¡Œæ¦œæ•°æ®çš„è¯ï¼Œç›´æ¥ ZUNIONSTORE æ¥æ±‚ n ä¸ª  &lt;code&gt;sorted set &lt;/code&gt; çš„å¹¶é›†å³å¯ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;ZUNIONSTORE last_n_days n &lt;span class=&#34;token number&#34;&gt;20350305&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;20350306&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æˆ‘ä¸çŸ¥é“å¤§å®¶çœ‹æ‡‚äº†æ²¡æœ‰ï¼Œæˆ‘è¿™é‡Œè¿˜æ˜¯ç®€å•åœ°é€ ä¸€äº›æ•°æ®æ¨¡æ‹Ÿä¸€ä¸‹å§ï¼&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# åˆ†åˆ«æ·»åŠ äº† 3 å¤©çš„æ•°æ®&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; ZADD &lt;span class=&#34;token number&#34;&gt;20350305&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;112.0&lt;/span&gt; user1 &lt;span class=&#34;token number&#34;&gt;100.0&lt;/span&gt; user2 &lt;span class=&#34;token number&#34;&gt;123.0&lt;/span&gt; user3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; ZADD &lt;span class=&#34;token number&#34;&gt;20350306&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;100.0&lt;/span&gt; user4&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; ZADD &lt;span class=&#34;token number&#34;&gt;20350307&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;33.0&lt;/span&gt; user5 &lt;span class=&#34;token number&#34;&gt;993.0&lt;/span&gt; user6&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é€šè¿‡ ZUNIONSTORE å‘½ä»¤æ¥æŸ¥çœ‹æœ€è¿‘ 3 å¤©çš„æ’è¡Œæ¦œæƒ…å†µï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; ZUNIONSTORE last_n_days &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;20350305&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;20350306&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;20350307&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ç°åœ¨ï¼Œè¿™ 3 å¤©çš„æ•°æ®éƒ½é›†ä¸­åœ¨äº† last_n_days ä¸­ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; ZREVRANGE last_n_days &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;user6&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;user3&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;user1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;user4&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;user2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;user5&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¦‚æœä¸€ä¸ªç”¨æˆ·åŒæ—¶åœ¨å¤šä¸ª &lt;code&gt; sorted set&lt;/code&gt;  ä¸­çš„è¯ï¼Œå®ƒæœ€ç»ˆçš„ &lt;code&gt;score&lt;/code&gt;  å€¼å°±ç­‰äºè¿™äº› &lt;code&gt;sorted set&lt;/code&gt;  ä¸­è¯¥ç”¨æˆ·çš„  &lt;code&gt;score &lt;/code&gt; å€¼ä¹‹å’Œã€‚&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶å¯ä»¥æ±‚å¹¶é›†ï¼Œé‚£å¿…ç„¶ä¹Ÿå¯ä»¥æ±‚äº¤é›†ã€‚ä½ å¯ä»¥é€šè¿‡  &lt;code&gt;ZINTERSTORE &lt;/code&gt; å‘½ä»¤æ¥æ±‚å¤šä¸ª n ä¸ª  &lt;code&gt;sorted set&lt;/code&gt;  çš„äº¤é›†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æœ‰å“ªäº›åœºæ™¯å¯ä»¥ç”¨åˆ°å¤šä¸ª  &lt;code&gt;sorted set&lt;/code&gt;  çš„äº¤é›†å‘¢ï¼Ÿ&lt;/strong&gt; æ¯”å¦‚æ¯æ—¥æ‰“å¡çš„åœºæ™¯ï¼Œä½ å¯¹æŸä¸€æ®µæ—¶é—´æ¯å¤©æ‰“å¡çš„äººè¿›è¡Œæ’åºã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå‘½ä»¤è¿˜æœ‰ä¸€ä¸ªå¸¸ç”¨çš„æƒé‡å‚æ•° &lt;code&gt;weights&lt;/code&gt; ï¼ˆé»˜è®¤ä¸º 1ï¼‰ã€‚åœ¨è¿›è¡Œå¹¶é›† / äº¤é›†çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªé›†åˆä¸­çš„å…ƒç´ ä¼šå°†è‡ªå·±çš„  &lt;code&gt;score&lt;/code&gt;  * &lt;code&gt;weights&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä¸‹é¢æ¼”ç¤ºä¸€ä¸‹è¿™ä¸ªå‚æ•°çš„ä½œç”¨ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# staff_set å­˜æ”¾å‘˜å·¥çš„æ’åä¿¡æ¯&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; ZADD staff_set &lt;span class=&#34;token number&#34;&gt;3.0&lt;/span&gt; staff1 &lt;span class=&#34;token number&#34;&gt;4.0&lt;/span&gt; staff2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# staff_set å­˜æ”¾ç®¡ç†è€…çš„æ’åä¿¡æ¯&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; ZADD manager_set &lt;span class=&#34;token number&#34;&gt;1.0&lt;/span&gt; manager1 &lt;span class=&#34;token number&#34;&gt;2.0&lt;/span&gt; manager2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¦‚æœï¼Œæˆ‘ä»¬éœ€è¦å°†å‘˜å·¥å’Œç®¡ç†è€…æ”¾åœ¨ä¸€èµ·æ¯”è¾ƒï¼Œä¸è¿‡ï¼Œä¸¤è€…æƒé‡åˆ†åˆ«ä¸º 1 å’Œ 3ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# staff_set çš„æƒé‡ä¸º 1 manager_set çš„æƒé‡ä¸º 3&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; ZUNIONSTORE all_user_set &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; staff_set manager_set WEIGHTS &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æœ€ç»ˆæ’åºçš„ç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; ZREVRANGE all_user_set &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;manager2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;staff2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;staff1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;manager1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;éœ€è¦å­˜å‚¨çš„&lt;font color=&#39;red&#39;&gt;æ•°æ®æœ‰ä¼˜å…ˆçº§&lt;/font&gt;çš„åœºæ™¯&lt;/strong&gt; æ¯”å¦‚&lt;font color=&#39;red&#39;&gt;ä¼˜å…ˆçº§ä»»åŠ¡é˜Ÿåˆ—&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸¾ä¾‹ï¼šä¼˜å…ˆçº§ä»»åŠ¡é˜Ÿåˆ—ã€‚&lt;/li&gt;
&lt;li&gt;ç›¸å…³å‘½ä»¤ï¼š &lt;code&gt;ZRANGE&lt;/code&gt;  (ä»å°åˆ°å¤§æ’åº)ã€  &lt;code&gt;ZREVRANGE&lt;/code&gt;  ï¼ˆä»å¤§åˆ°å°æ’åºï¼‰ã€ &lt;code&gt;ZREVRANK&lt;/code&gt;  (æŒ‡å®šå…ƒç´ æ’å)ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å°ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°ç»“&#34;&gt;#&lt;/a&gt; å°ç»“&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ•°æ®ç±»å‹&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;String&lt;/td&gt;
&lt;td&gt;ä¸€ç§äºŒè¿›åˆ¶å®‰å…¨çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥ç”¨æ¥å­˜å‚¨&lt;font color=&#39;red&#39;&gt;ä»»ä½•ç±»å‹çš„æ•°æ®&lt;/font&gt;æ¯”å¦‚å­—ç¬¦ä¸²ã€æ•´æ•°ã€æµ®ç‚¹æ•°ã€å›¾ç‰‡ï¼ˆå›¾ç‰‡çš„ base64 ç¼–ç æˆ–è€…è§£ç æˆ–è€…å›¾ç‰‡çš„è·¯å¾„ï¼‰ã€åºåˆ—åŒ–åçš„å¯¹è±¡ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List&lt;/td&gt;
&lt;td&gt;Redis çš„ List çš„å®ç°ä¸ºä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;åŒå‘é“¾è¡¨&lt;/font&gt;ï¼Œå³å¯ä»¥æ”¯æŒåå‘æŸ¥æ‰¾å’Œéå†ï¼Œæ›´æ–¹ä¾¿æ“ä½œï¼Œä¸è¿‡å¸¦æ¥äº†éƒ¨åˆ†é¢å¤–çš„å†…å­˜å¼€é”€ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Hash&lt;/td&gt;
&lt;td&gt;ä¸€ä¸ª String ç±»å‹çš„ &lt;font color=&#39;red&#39;&gt;field-valueï¼ˆé”®å€¼å¯¹ï¼‰&lt;/font&gt; çš„æ˜ å°„è¡¨ï¼Œç‰¹åˆ«é€‚åˆç”¨äº&lt;font color=&#39;red&#39;&gt;å­˜å‚¨å¯¹è±¡&lt;/font&gt;ï¼Œåç»­æ“ä½œçš„æ—¶å€™ï¼Œä½ å¯ä»¥ç›´æ¥ä¿®æ”¹è¿™ä¸ªå¯¹è±¡ä¸­çš„æŸäº›å­—æ®µçš„å€¼ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Set&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;æ— åºé›†åˆ&lt;/font&gt;ï¼Œé›†åˆä¸­çš„å…ƒç´ æ²¡æœ‰å…ˆåé¡ºåºä½†éƒ½å”¯ä¸€ï¼Œæœ‰ç‚¹ç±»ä¼¼äº Java ä¸­çš„  &lt;code&gt;HashSet&lt;/code&gt;  ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Zset&lt;/td&gt;
&lt;td&gt;å’Œ Set ç›¸æ¯”ï¼ŒSorted Set å¢åŠ äº†ä¸€ä¸ªæƒé‡å‚æ•°  &lt;code&gt;score&lt;/code&gt; ï¼Œä½¿å¾—é›†åˆä¸­çš„å…ƒç´ èƒ½å¤ŸæŒ‰  &lt;code&gt;score&lt;/code&gt;  è¿›è¡Œ&lt;font color=&#39;red&#39;&gt;æœ‰åºæ’åˆ—&lt;/font&gt;ï¼Œè¿˜å¯ä»¥é€šè¿‡  &lt;code&gt;score&lt;/code&gt;  çš„èŒƒå›´æ¥è·å–å…ƒç´ çš„åˆ—è¡¨ã€‚æœ‰ç‚¹åƒæ˜¯ Java ä¸­  &lt;code&gt;HashMap&lt;/code&gt;  å’Œ  &lt;code&gt;TreeSet&lt;/code&gt;  çš„ç»“åˆä½“ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;3-ç§ç‰¹æ®Šæ•°æ®ç±»å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#3-ç§ç‰¹æ®Šæ•°æ®ç±»å‹&#34;&gt;#&lt;/a&gt; 3 ç§ç‰¹æ®Šæ•°æ®ç±»å‹&lt;/h3&gt;
&lt;h4 id=&#34;bitmapä½å›¾&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#bitmapä½å›¾&#34;&gt;#&lt;/a&gt; Bitmapï¼ˆä½å›¾ï¼‰&lt;/h4&gt;
&lt;h5 id=&#34;ä»‹ç»-6&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»‹ç»-6&#34;&gt;#&lt;/a&gt; ä»‹ç»&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;å®˜ç½‘ä»‹ç»ï¼šBitmap ä¸æ˜¯ Redis ä¸­çš„å®é™…æ•°æ®ç±»å‹ï¼Œè€Œ&lt;strong&gt;æ˜¯åœ¨ String ç±»å‹ä¸Šå®šä¹‰çš„ä¸€ç»„é¢å‘ä½çš„æ“ä½œï¼Œå°†å…¶è§†ä¸ºä½å‘é‡&lt;/strong&gt;ã€‚ç”±äºå­—ç¬¦ä¸²æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„å—ï¼Œä¸”æœ€å¤§é•¿åº¦ä¸º 512 MBï¼Œå®ƒä»¬é€‚åˆç”¨äºè®¾ç½®æœ€å¤š 2&lt;sup&gt;32&lt;/sup&gt; ä¸ªä¸åŒçš„ä½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Bitmap å­˜å‚¨çš„æ˜¯ **&lt;font color=&#39;red&#39;&gt;è¿ç»­çš„äºŒè¿›åˆ¶æ•°å­—&lt;/font&gt;**ï¼ˆ0 å’Œ 1ï¼‰ï¼Œé€šè¿‡ Bitmapï¼Œåªéœ€è¦ä¸€ä¸ª bit ä½æ¥è¡¨ç¤ºæŸä¸ªå…ƒç´ å¯¹åº”çš„å€¼æˆ–è€…çŠ¶æ€ï¼Œkey å°±æ˜¯å¯¹åº”å…ƒç´ æœ¬èº« ã€‚æˆ‘ä»¬çŸ¥é“ 8 ä¸ª bit å¯ä»¥ç»„æˆä¸€ä¸ª byteï¼Œæ‰€ä»¥ Bitmap æœ¬èº«ä¼šæå¤§çš„èŠ‚çœå‚¨å­˜ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥å°† Bitmap çœ‹ä½œæ˜¯ä¸€ä¸ªå­˜å‚¨äºŒè¿›åˆ¶æ•°å­—ï¼ˆ0 å’Œ 1ï¼‰çš„æ•°ç»„ï¼Œæ•°ç»„ä¸­&lt;font color=&#39;red&#39;&gt;æ¯ä¸ªå…ƒç´ çš„ä¸‹æ ‡å«åš offsetï¼ˆåç§»é‡ï¼‰&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20220720194154133.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;å‘½ä»¤-6&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘½ä»¤-6&#34;&gt;#&lt;/a&gt; å‘½ä»¤&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‘½ä»¤&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SETBIT&lt;/code&gt;  key offset value&lt;/td&gt;
&lt;td&gt;è®¾ç½®æŒ‡å®š offset ä½ç½®çš„å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GETBIT&lt;/code&gt;  key offset&lt;/td&gt;
&lt;td&gt;è·å–æŒ‡å®š offset ä½ç½®çš„å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;BITCOUNT&lt;/code&gt;  key start end&lt;/td&gt;
&lt;td&gt;è·å– start å’Œ end ä¹‹å‰&lt;font color=&#39;red&#39;&gt;å€¼ä¸º 1 &lt;/font&gt;çš„å…ƒç´ ä¸ªæ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;BITOP&lt;/code&gt;  operation destkey key1 key2 ...&lt;/td&gt;
&lt;td&gt;å¯¹ä¸€ä¸ªæˆ–å¤šä¸ª Bitmap è¿›è¡Œè¿ç®—ï¼Œå¯ç”¨è¿ç®—ç¬¦æœ‰ &lt;font color=&#39;red&#39;&gt;AND, OR, XOR ä»¥åŠ NOT&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Bitmap åŸºæœ¬æ“ä½œæ¼”ç¤ºï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# SETBIT ä¼šè¿”å›ä¹‹å‰ä½çš„å€¼ï¼ˆé»˜è®¤æ˜¯ 0ï¼‰è¿™é‡Œä¼šç”Ÿæˆ 7 ä¸ªä½&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SETBIT mykey &lt;span class=&#34;token number&#34;&gt;7&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SETBIT mykey &lt;span class=&#34;token number&#34;&gt;7&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; GETBIT mykey &lt;span class=&#34;token number&#34;&gt;7&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SETBIT mykey &lt;span class=&#34;token number&#34;&gt;6&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SETBIT mykey &lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# é€šè¿‡ bitcount ç»Ÿè®¡è¢«è¢«è®¾ç½®ä¸º 1 çš„ä½çš„æ•°é‡ã€‚&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; BITCOUNT mykey&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;bitmap-åº”ç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#bitmap-åº”ç”¨&#34;&gt;#&lt;/a&gt; Bitmap åº”ç”¨&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;éœ€è¦ä¿å­˜&lt;font color=&#39;red&#39;&gt;çŠ¶æ€ä¿¡æ¯ï¼ˆ0/1 å³å¯è¡¨ç¤ºï¼‰&lt;/font&gt;çš„åœºæ™¯&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸¾ä¾‹ï¼šç”¨æˆ·ç­¾åˆ°æƒ…å†µã€æ´»è·ƒç”¨æˆ·æƒ…å†µã€ç”¨æˆ·è¡Œä¸ºç»Ÿè®¡ï¼ˆæ¯”å¦‚æ˜¯å¦ç‚¹èµè¿‡æŸä¸ªè§†é¢‘ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ç›¸å…³å‘½ä»¤ï¼š &lt;code&gt;SETBIT&lt;/code&gt; ã€ &lt;code&gt;GETBIT&lt;/code&gt; ã€ &lt;code&gt;BITCOUNT&lt;/code&gt; ã€ &lt;code&gt;BITOP&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;hyperloglogåŸºæ•°ç»Ÿè®¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#hyperloglogåŸºæ•°ç»Ÿè®¡&#34;&gt;#&lt;/a&gt; HyperLogLogï¼ˆåŸºæ•°ç»Ÿè®¡ï¼‰&lt;/h4&gt;
&lt;h5 id=&#34;ä»‹ç»-7&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»‹ç»-7&#34;&gt;#&lt;/a&gt; ä»‹ç»&lt;/h5&gt;
&lt;p&gt;HyperLogLog æ˜¯ä¸€ç§æœ‰åçš„&lt;font color=&#39;red&#39;&gt;åŸºæ•°è®¡æ•°æ¦‚ç‡ç®—æ³•&lt;/font&gt; ï¼ŒåŸºäº LogLog Counting (LLC) ä¼˜åŒ–æ”¹è¿›å¾—æ¥ï¼Œå¹¶ä¸æ˜¯ Redis ç‰¹æœ‰çš„ï¼ŒRedis åªæ˜¯å®ç°äº†è¿™ä¸ªç®—æ³•å¹¶æä¾›äº†ä¸€äº›å¼€ç®±å³ç”¨çš„ APIã€‚&lt;/p&gt;
&lt;p&gt;Redis æä¾›çš„ HyperLogLog &lt;font color=&#39;red&#39;&gt;å ç”¨ç©ºé—´éå¸¸éå¸¸å°ï¼Œåªéœ€è¦ 12k çš„ç©ºé—´å°±èƒ½å­˜å‚¨æ¥è¿‘ 2&lt;sup&gt;64&lt;/sup&gt; ä¸ªä¸åŒå…ƒç´ &lt;/font&gt;ã€‚è¿™æ˜¯çœŸçš„å‰å®³ï¼Œè¿™å°±æ˜¯æ•°å­¦çš„é­…åŠ›ä¹ˆï¼å¹¶ä¸”ï¼ŒRedis å¯¹ HyperLogLog çš„å­˜å‚¨ç»“æ„åšäº†ä¼˜åŒ–ï¼Œé‡‡ç”¨ä¸¤ç§æ–¹å¼è®¡æ•°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç¨€ç–çŸ©é˜µ&lt;/strong&gt;ï¼šè®¡æ•°è¾ƒå°‘çš„æ—¶å€™ï¼Œå ç”¨ç©ºé—´å¾ˆå°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¨ å¯†çŸ©é˜µ&lt;/strong&gt;ï¼šè®¡æ•°è¾¾åˆ°æŸä¸ªé˜ˆå€¼çš„æ—¶å€™ï¼Œå ç”¨ 12k çš„ç©ºé—´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Redis å®˜æ–¹æ–‡æ¡£ä¸­æœ‰å¯¹åº”çš„è¯¦ç»†è¯´æ˜ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231206160533080.png&#34; alt=&#34;image-20231206160533080&#34; /&gt;&lt;/p&gt;
&lt;p&gt;åŸºæ•°è®¡æ•°æ¦‚ç‡ç®—æ³• **&lt;font color=&#39;red&#39;&gt;ä¸ºäº†èŠ‚çœå†…å­˜å¹¶ä¸ä¼šç›´æ¥å­˜å‚¨å…ƒæ•°æ®ï¼Œè€Œæ˜¯é€šè¿‡ä¸€å®šçš„æ¦‚ç‡ç»Ÿè®¡æ–¹æ³•é¢„ä¼°åŸºæ•°å€¼ï¼ˆé›†åˆä¸­åŒ…å«å…ƒç´ çš„ä¸ªæ•°ï¼‰&lt;/font&gt;&lt;strong&gt;ã€‚å› æ­¤ï¼Œ&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;HyperLogLog çš„è®¡æ•°ç»“æœå¹¶ä¸æ˜¯ä¸€ä¸ªç²¾ç¡®å€¼ï¼Œå­˜åœ¨ä¸€å®šçš„è¯¯å·®&lt;/font&gt;**ï¼ˆæ ‡å‡†è¯¯å·®ä¸º  &lt;code&gt;0.81%&lt;/code&gt;  ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231206160401312.png&#34; alt=&#34;image-20231206160401312&#34; /&gt;&lt;/p&gt;
&lt;p&gt;HyperLogLog çš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œä½†åŸç†éå¸¸å¤æ‚ã€‚HyperLogLog çš„åŸç†ä»¥åŠåœ¨ Redis ä¸­çš„å®ç°å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qdWVqaW4uY24vcG9zdC82ODQ0OTAzNzg1NzQ0MDU2MzMz&#34;&gt;HyperLogLog ç®—æ³•çš„åŸç†è®²è§£ä»¥åŠ Redis æ˜¯å¦‚ä½•åº”ç”¨å®ƒçš„&lt;/span&gt; ã€‚&lt;/p&gt;
&lt;p&gt;å†æ¨èä¸€ä¸ªå¯ä»¥å¸®åŠ©ç†è§£ HyperLogLog åŸç†çš„å·¥å…·ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL2NvbnRlbnQucmVzZWFyY2gubmV1c3Rhci5iaXovYmxvZy9obGwuaHRtbA==&#34;&gt;Sketch of the Day: HyperLogLog â€” Cornerstone of a Big Data Infrastructure&lt;/span&gt; ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº† HyperLogLog ä¹‹å¤–ï¼ŒRedis è¿˜æä¾›äº†å…¶ä»–çš„æ¦‚ç‡æ•°æ®ç»“æ„ï¼Œå¯¹åº”çš„å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9yZWRpcy5pby9kb2NzL2RhdGEtdHlwZXMvcHJvYmFiaWxpc3RpYy8=&#34;&gt;https://redis.io/docs/data-types/probabilistic/&lt;/span&gt; ã€‚&lt;/p&gt;
&lt;h5 id=&#34;å‘½ä»¤-7&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘½ä»¤-7&#34;&gt;#&lt;/a&gt; å‘½ä»¤&lt;/h5&gt;
&lt;p&gt;HyperLogLog ç›¸å…³çš„å‘½ä»¤éå¸¸å°‘ï¼Œæœ€å¸¸ç”¨çš„ä¹Ÿå°± 3 ä¸ªã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‘½ä»¤&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;PFADD&lt;/code&gt;  key element1 element2 ...&lt;/td&gt;
&lt;td&gt;æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ åˆ° HyperLogLog ä¸­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;PFCOUNT&lt;/code&gt;  key1 key2&lt;/td&gt;
&lt;td&gt;è·å–ä¸€ä¸ªæˆ–è€…å¤šä¸ª HyperLogLog çš„å”¯ä¸€è®¡æ•°ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;PFMERGE&lt;/code&gt;  destkey sourcekey1 sourcekey2 ...&lt;/td&gt;
&lt;td&gt;å°†å¤šä¸ª HyperLogLog åˆå¹¶åˆ° destkey ä¸­ï¼Œdestkey ä¼šç»“åˆå¤šä¸ªæºï¼Œç®—å‡ºå¯¹åº”çš„å”¯ä¸€è®¡æ•°ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;HyperLogLog åŸºæœ¬æ“ä½œæ¼”ç¤º&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; PFADD hll foo bar zap&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; PFADD hll zap zap zap&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; PFADD hll foo bar&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; PFCOUNT hll&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; PFADD some-other-hll &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; PFCOUNT hll some-other-hll&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; PFMERGE desthll hll some-other-hll&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;OK&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; PFCOUNT desthll&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;åº”ç”¨-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åº”ç”¨-3&#34;&gt;#&lt;/a&gt; åº”ç”¨&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ•°æ®é‡å·¨å¤§ï¼ˆç™¾ä¸‡ã€åƒä¸‡çº§åˆ«ä»¥ä¸Šï¼‰çš„è®¡æ•°åœºæ™¯&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸¾ä¾‹ï¼šçƒ­é—¨ç½‘ç«™æ¯æ—¥ / æ¯å‘¨ / æ¯æœˆè®¿é—® ip æ•°ç»Ÿè®¡ã€çƒ­é—¨å¸–å­ uv ç»Ÿè®¡&lt;/li&gt;
&lt;li&gt;ç›¸å…³å‘½ä»¤ï¼š &lt;code&gt;PFADD&lt;/code&gt; ã€ &lt;code&gt;PFCOUNT&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;geospatialåœ°ç†ä½ç½®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#geospatialåœ°ç†ä½ç½®&#34;&gt;#&lt;/a&gt; Geospatialï¼ˆåœ°ç†ä½ç½®ï¼‰&lt;/h4&gt;
&lt;h5 id=&#34;ä»‹ç»-8&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»‹ç»-8&#34;&gt;#&lt;/a&gt; ä»‹ç»&lt;/h5&gt;
&lt;p&gt;Geospatial indexï¼ˆåœ°ç†ç©ºé—´ç´¢å¼•ï¼Œç®€ç§° GEOï¼‰ ä¸»è¦ **&lt;font color=&#39;red&#39;&gt;ç”¨äºå­˜å‚¨åœ°ç†ä½ç½®ä¿¡æ¯ï¼ŒåŸºäº Sorted Set å®ç°&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ GEO æˆ‘ä»¬å¯ä»¥è½»æ¾å®ç°&lt;font color=&#39;red&#39;&gt;ä¸¤ä¸ªä½ç½®è·ç¦»çš„è®¡ç®—ã€è·å–æŒ‡å®šä½ç½®é™„è¿‘çš„å…ƒç´ &lt;/font&gt;ç­‰åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20220720194359494.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;å‘½ä»¤-8&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘½ä»¤-8&#34;&gt;#&lt;/a&gt; å‘½ä»¤&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‘½ä»¤&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GEOADD&lt;/code&gt;  key longitude1 latitude1 member1 ...&lt;/td&gt;
&lt;td&gt;æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ å¯¹åº”çš„ç»çº¬åº¦ä¿¡æ¯åˆ° GEO ä¸­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GEOPOS&lt;/code&gt;  key member1 member2 ...&lt;/td&gt;
&lt;td&gt;è¿”å›ç»™å®šå…ƒç´ çš„ç»çº¬åº¦ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GEODIST&lt;/code&gt;  key member1 member2 M/KM/FT/MI&lt;/td&gt;
&lt;td&gt;è¿”å›ä¸¤ä¸ªç»™å®šå…ƒç´ ä¹‹é—´çš„è·ç¦»&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GEORADIUS&lt;/code&gt;  key longitude latitude radius distance&lt;/td&gt;
&lt;td&gt;è·å–æŒ‡å®šä½ç½®&lt;font color=&#39;red&#39;&gt;é™„è¿‘ distance èŒƒå›´å†…&lt;/font&gt;çš„å…¶ä»–å…ƒç´ ï¼Œæ”¯æŒ ASC (ç”±è¿‘åˆ°è¿œ)ã€DESCï¼ˆç”±è¿œåˆ°è¿‘ï¼‰ã€Count (æ•°é‡) ç­‰å‚æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GEORADIUSBYMEMBER&lt;/code&gt;  key member radius distance&lt;/td&gt;
&lt;td&gt;ç±»ä¼¼äº GEORADIUS å‘½ä»¤ï¼Œåªæ˜¯&lt;font color=&#39;red&#39;&gt;å‚ç…§çš„ä¸­å¿ƒç‚¹æ˜¯ GEO ä¸­çš„å…ƒç´ &lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;åŸºæœ¬æ“ä½œ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; GEOADD personLocation &lt;span class=&#34;token number&#34;&gt;116.33&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;39.89&lt;/span&gt; user1 &lt;span class=&#34;token number&#34;&gt;116.34&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;39.90&lt;/span&gt; user2 &lt;span class=&#34;token number&#34;&gt;116.35&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;39.88&lt;/span&gt; user3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; GEOPOS personLocation user1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;116.3299986720085144&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;39.89000061669732844&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; GEODIST personLocation user1 user2 km&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1.4018&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é€šè¿‡ Redis å¯è§†åŒ–å·¥å…·æŸ¥çœ‹  &lt;code&gt;personLocation&lt;/code&gt;  ï¼Œæœä¸å…¶ç„¶ï¼Œåº•å±‚å°±æ˜¯ Sorted Setã€‚&lt;/p&gt;
&lt;p&gt;GEO ä¸­å­˜å‚¨çš„åœ°ç†ä½ç½®ä¿¡æ¯çš„ç»çº¬åº¦æ•°æ®é€šè¿‡ GeoHash ç®—æ³•è½¬æ¢æˆäº†ä¸€ä¸ªæ•´æ•°ï¼Œè¿™ä¸ªæ•´æ•°ä½œä¸º Sorted Set çš„ score (æƒé‡å‚æ•°) ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20220721201545147.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è·å–æŒ‡å®šä½ç½®èŒƒå›´å†…çš„å…¶ä»–å…ƒç´ &lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; GEORADIUS personLocation &lt;span class=&#34;token number&#34;&gt;116.33&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;39.87&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt; km&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;user3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;user1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; GEORADIUS personLocation &lt;span class=&#34;token number&#34;&gt;116.33&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;39.87&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; km&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; GEORADIUS personLocation &lt;span class=&#34;token number&#34;&gt;116.33&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;39.87&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt; km&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;user3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;user1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;user2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; GEORADIUSBYMEMBER personLocation user1 &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt; km&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;user3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;user1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;user2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; GEORADIUSBYMEMBER personLocation user1 &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; km&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;user1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;user2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;code&gt;GEORADIUS&lt;/code&gt;  å‘½ä»¤çš„åº•å±‚åŸç†è§£æå¯ä»¥çœ‹çœ‹é˜¿é‡Œçš„è¿™ç¯‡æ–‡ç« ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qdWVqaW4uY24vcG9zdC82ODQ0OTAzOTY2MDYxMzYzMjA3&#34;&gt;Redis åˆ°åº•æ˜¯æ€ä¹ˆå®ç° â€œé™„è¿‘çš„äººâ€ è¿™ä¸ªåŠŸèƒ½çš„å‘¢ï¼Ÿ&lt;/span&gt; ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç§»é™¤å…ƒç´ &lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;GEO åº•å±‚æ˜¯ Sorted Set ï¼Œä½ å¯ä»¥å¯¹ GEO ä½¿ç”¨ Sorted Set ç›¸å…³çš„å‘½ä»¤ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; ZREM personLocation user1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; ZRANGE personLocation &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;user3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;user2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; ZSCORE personLocation user2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;4069879562983946&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;åº”ç”¨-4&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åº”ç”¨-4&#34;&gt;#&lt;/a&gt; åº”ç”¨&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;éœ€è¦ç®¡ç†ä½¿ç”¨&lt;font color=&#39;red&#39;&gt;åœ°ç†ç©ºé—´æ•°æ®&lt;/font&gt;çš„åœºæ™¯&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸¾ä¾‹ï¼šé™„è¿‘çš„äºº&lt;/li&gt;
&lt;li&gt;ç›¸å…³å‘½ä»¤:  &lt;code&gt;GEOADD&lt;/code&gt; ã€ &lt;code&gt;GEORADIUS&lt;/code&gt; ã€ &lt;code&gt;GEORADIUSBYMEMBER&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å°ç»“-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°ç»“-2&#34;&gt;#&lt;/a&gt; å°ç»“&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ•°æ®ç±»å‹&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Bitmap&lt;/td&gt;
&lt;td&gt;å¯ä»¥å°† Bitmap çœ‹ä½œä¸€ä¸ªå­˜å‚¨äºŒè¿›åˆ¶æ•°å­—ï¼ˆ0 å’Œ 1ï¼‰çš„æ•°ç»„ï¼Œæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„ä¸‹æ ‡å«åš offsetï¼ˆåç§»é‡ï¼‰ã€‚é€šè¿‡ Bitmapï¼Œåªéœ€è¦ä¸€ä¸ª bit ä½æ¥è¡¨ç¤ºæŸä¸ªå…ƒç´ å¯¹åº”çš„å€¼æˆ–è€…çŠ¶æ€ï¼Œkey å°±æ˜¯å¯¹åº”å…ƒç´ æœ¬èº« ã€‚æˆ‘ä»¬çŸ¥é“ 8 ä¸ª bit å¯ä»¥ç»„æˆä¸€ä¸ª byteï¼Œæ‰€ä»¥ Bitmap æœ¬èº«ä¼šæå¤§çš„èŠ‚çœå‚¨å­˜ç©ºé—´ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;HyperLogLog&lt;/td&gt;
&lt;td&gt;Redis æä¾›çš„&lt;font color=&#39;red&#39;&gt; HyperLogLog å ç”¨ç©ºé—´éå¸¸éå¸¸å°&lt;/font&gt;ï¼Œåªéœ€è¦ 12k çš„ç©ºé—´å°±èƒ½å­˜å‚¨æ¥è¿‘ &lt;code&gt;2^64&lt;/code&gt;  ä¸ªä¸åŒå…ƒç´ ã€‚ä¸è¿‡ï¼ŒHyperLogLog çš„è®¡æ•°ç»“æœå¹¶ä¸æ˜¯ä¸€ä¸ªç²¾ç¡®å€¼ï¼Œ&lt;font color=&#39;red&#39;&gt;å­˜åœ¨ä¸€å®šçš„è¯¯å·®&lt;/font&gt;ï¼ˆæ ‡å‡†è¯¯å·®ä¸º  &lt;code&gt;0.81%&lt;/code&gt;  ï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Geospatial index&lt;/td&gt;
&lt;td&gt;Geospatial indexï¼ˆåœ°ç†ç©ºé—´ç´¢å¼•ï¼Œç®€ç§° GEOï¼‰ ä¸»è¦&lt;font color=&#39;red&#39;&gt;ç”¨äºå­˜å‚¨åœ°ç†ä½ç½®ä¿¡æ¯ï¼ŒåŸºäº Sorted Set å®ç°&lt;/font&gt;ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;string-åº”ç”¨åœºæ™¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#string-åº”ç”¨åœºæ™¯&#34;&gt;#&lt;/a&gt; String åº”ç”¨åœºæ™¯&lt;/h2&gt;
&lt;p&gt;[String åº”ç”¨](#String åº”ç”¨)&lt;/p&gt;
&lt;h2 id=&#34;å¯¹è±¡æ•°æ®çš„å­˜å‚¨å»ºè®®ä½¿ç”¨-string&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¯¹è±¡æ•°æ®çš„å­˜å‚¨å»ºè®®ä½¿ç”¨-string&#34;&gt;#&lt;/a&gt; å¯¹è±¡æ•°æ®çš„å­˜å‚¨å»ºè®®ä½¿ç”¨ String&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;String å­˜å‚¨çš„æ˜¯åºåˆ—åŒ–åçš„å¯¹è±¡æ•°æ®ï¼Œå­˜æ”¾çš„æ˜¯æ•´ä¸ªå¯¹è±¡&lt;/font&gt;&lt;/strong&gt;ã€‚Hash æ˜¯å¯¹å¯¹è±¡çš„æ¯ä¸ªå­—æ®µå•ç‹¬å­˜å‚¨ï¼Œå¯ä»¥è·å–éƒ¨åˆ†å­—æ®µçš„ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹æˆ–è€…æ·»åŠ éƒ¨åˆ†å­—æ®µï¼ŒèŠ‚çœç½‘ç»œæµé‡ã€‚&lt;font color=&#39;red&#39;&gt;å¦‚æœå¯¹è±¡ä¸­æŸäº›å­—æ®µéœ€è¦ç»å¸¸å˜åŠ¨ï¼Œæˆ–è€…éœ€è¦ç»å¸¸å•ç‹¬æŸ¥è¯¢å¯¹è±¡ä¸­çš„ä¸ªåˆ«å­—æ®µä¿¡æ¯ï¼ŒHash å°±éå¸¸é€‚åˆ&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;String å­˜å‚¨å¯¹è±¡ç›¸å¯¹æ›´åŠ èŠ‚çœå†…å­˜&lt;/font&gt;&lt;/strong&gt;ï¼Œç¼“å­˜ç›¸åŒæ•°é‡çš„å¯¹è±¡æ•°æ®ï¼ŒString æ¶ˆè€—çš„å†…å­˜çº¦æ˜¯ Hash çš„ä¸€åŠã€‚å¹¶ä¸”ï¼Œ&lt;font color=&#39;red&#39;&gt;String å­˜å‚¨å…·æœ‰å¤šå±‚åµŒå¥—çš„å¯¹è±¡æ—¶ï¼Œä¹Ÿæ–¹ä¾¿å¾ˆå¤š&lt;/font&gt;ã€‚å¦‚æœç³»ç»Ÿå¯¹æ€§èƒ½å’Œèµ„æºæ¶ˆè€—éå¸¸æ•æ„Ÿçš„è¯ï¼ŒString å°±éå¸¸é€‚åˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ç»å¤§éƒ¨åˆ†æƒ…å†µï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ String æ¥å­˜å‚¨å¯¹è±¡æ•°æ®å³å¯ï¼&lt;/p&gt;
&lt;h2 id=&#34;string-çš„åº•å±‚å®ç°sds&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#string-çš„åº•å±‚å®ç°sds&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸString çš„åº•å±‚å®ç°ï¼šSDS&lt;/mark&gt;&lt;/h2&gt;
&lt;h3 id=&#34;sds-ä»‹ç»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sds-ä»‹ç»&#34;&gt;#&lt;/a&gt; SDS ä»‹ç»&lt;/h3&gt;
&lt;p&gt;Redis æ˜¯åŸºäº C è¯­è¨€ç¼–å†™çš„ï¼Œä½† Redis çš„ String ç±»å‹çš„åº•å±‚å®ç°å¹¶ä¸æ˜¯ C è¯­è¨€ä¸­çš„å­—ç¬¦ä¸²ï¼ˆå³ä»¥ç©ºå­—ç¬¦  &lt;code&gt;\0&lt;/code&gt;  ç»“å°¾çš„å­—ç¬¦æ•°ç»„ï¼‰ï¼Œè€Œæ˜¯è‡ªå·±ç¼–å†™äº† **&lt;font color=&#39;cornflowerblue&#39;&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2FudGlyZXovc2Rz&#34;&gt;SDS&lt;/span&gt;ï¼ˆSimple Dynamic Stringï¼Œç®€å•åŠ¨æ€å­—ç¬¦ä¸²ï¼‰&lt;/font&gt;** æ¥ä½œä¸ºåº•å±‚å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;SDS æœ€æ—©æ˜¯ Redis ä½œè€…ä¸ºæ—¥å¸¸ C è¯­è¨€å¼€å‘è€Œè®¾è®¡çš„ C å­—ç¬¦ä¸²ï¼Œåæ¥è¢«åº”ç”¨åˆ°äº† Redis ä¸Šï¼Œå¹¶ç»è¿‡äº†å¤§é‡çš„ä¿®æ”¹å®Œå–„ä»¥é€‚åˆ&lt;font color=&#39;red&#39;&gt;é«˜æ€§èƒ½æ“ä½œ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;sds-ç»“æ„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sds-ç»“æ„&#34;&gt;#&lt;/a&gt; SDS ç»“æ„&lt;/h3&gt;
&lt;p&gt;Redis7.0 çš„ SDS çš„éƒ¨åˆ†&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL3JlZGlzL3JlZGlzL2Jsb2IvNy4wL3NyYy9zZHMuaA==&#34;&gt;æºç &lt;/span&gt;å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c&#34;&gt;&lt;figcaption data-lang=&#34;c&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;/* Note: sdshdr5 is never used, we just access the flags byte directly.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; * However is here to document the layout of type 5 SDS strings. */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;__attribute__&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;__packed__&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;sdshdr5&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;char&lt;/span&gt; flags&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/* 3 lsb of type, and 5 msb of string length */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;char&lt;/span&gt; buf&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;__attribute__&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;__packed__&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;sdshdr8&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;uint8_t&lt;/span&gt; len&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/* used */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;uint8_t&lt;/span&gt; alloc&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/* excluding the header and null terminator */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;char&lt;/span&gt; flags&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/* 3 lsb of type, 5 unused bits */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;char&lt;/span&gt; buf&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;__attribute__&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;__packed__&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;sdshdr16&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;uint16_t&lt;/span&gt; len&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/* used */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;uint16_t&lt;/span&gt; alloc&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/* excluding the header and null terminator */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;char&lt;/span&gt; flags&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/* 3 lsb of type, 5 unused bits */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;char&lt;/span&gt; buf&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;__attribute__&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;__packed__&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;sdshdr32&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;uint32_t&lt;/span&gt; len&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/* used */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;uint32_t&lt;/span&gt; alloc&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/* excluding the header and null terminator */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;char&lt;/span&gt; flags&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/* 3 lsb of type, 5 unused bits */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;char&lt;/span&gt; buf&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;__attribute__&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;__packed__&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;sdshdr64&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;uint64_t&lt;/span&gt; len&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/* used */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;uint64_t&lt;/span&gt; alloc&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/* excluding the header and null terminator */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;char&lt;/span&gt; flags&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/* 3 lsb of type, 5 unused bits */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;char&lt;/span&gt; buf&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é€šè¿‡æºç å¯ä»¥çœ‹å‡ºï¼ŒSDS å…±æœ‰äº”ç§å®ç°æ–¹å¼ SDS_TYPE_5ï¼ˆå¹¶æœªç”¨åˆ°ï¼‰ã€SDS_TYPE_8ã€SDS_TYPE_16ã€SDS_TYPE_32ã€SDS_TYPE_64ï¼Œå…¶ä¸­åªæœ‰åå››ç§å®é™…ç”¨åˆ°ã€‚&lt;font color=&#39;red&#39;&gt;Redis ä¼šæ ¹æ®åˆå§‹åŒ–çš„é•¿åº¦å†³å®šä½¿ç”¨å“ªç§ç±»å‹çš„ SDSï¼Œä»è€Œå‡å°‘å†…å­˜çš„ä½¿ç”¨&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç±»å‹&lt;/th&gt;
&lt;th&gt;å­—èŠ‚&lt;/th&gt;
&lt;th&gt;ä½&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;sdshdr5&lt;/td&gt;
&lt;td&gt;&amp;lt; 1&lt;/td&gt;
&lt;td&gt;&amp;lt;8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sdshdr8&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sdshdr16&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;16&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sdshdr32&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;32&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sdshdr64&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;64&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis_sdshdr5.png&#34; alt=&#34;rediså­—ç¬¦çªœæ•°æ®ç»“æ„ç®€è¿° - çŸ¥ä¹&#34; /&gt;&lt;/p&gt;
&lt;center&gt;SDSHDR5&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231206204849898.png&#34; alt=&#34;image-20231206204849898&#34; /&gt;&lt;/p&gt;
&lt;center&gt;SDSHDR ç»“æ„ç¤ºæ„å›¾&lt;/center&gt;
&lt;p&gt;å¯¹äºåå››ç§å®ç°éƒ½åŒ…å«äº†ä¸‹é¢è¿™ 4 ä¸ªå±æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;len&lt;/code&gt; ï¼šå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå³&lt;font color=&#39;red&#39;&gt;å·²ä½¿ç”¨çš„&lt;/font&gt;å­—èŠ‚æ•°&lt;/li&gt;
&lt;li&gt;&lt;code&gt;alloc&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;æ€»å…±å¯ç”¨çš„&lt;/font&gt;å­—ç¬¦ç©ºé—´å¤§å°ï¼ˆå­—èŠ‚æ•°ï¼‰ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸åŒ…æ‹¬ &lt;code&gt;\0&lt;/code&gt; &lt;/font&gt;ï¼Œalloc-len å°±æ˜¯ SDS å‰©ä½™çš„ç©ºé—´å¤§å°&lt;/li&gt;
&lt;li&gt;&lt;code&gt;buf[]&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;å®é™…å­˜å‚¨å­—ç¬¦ä¸²çš„æ•°ç»„&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;flags&lt;/code&gt; ï¼šå¤§å°ä¸º 1 ä¸ªå­—èŠ‚ï¼Œå…¶ä¸­&lt;font color=&#39;red&#39;&gt;ä½ 3 ä½ä¿å­˜ç±»å‹æ ‡å¿—&lt;/font&gt;ï¼Œé«˜ 5 ä½é—²ç½®&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;sds-ç›¸æ¯”-c-å­—ç¬¦ä¸²çš„ä¼˜åŠ¿&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sds-ç›¸æ¯”-c-å­—ç¬¦ä¸²çš„ä¼˜åŠ¿&#34;&gt;#&lt;/a&gt; SDS ç›¸æ¯” C å­—ç¬¦ä¸²çš„ä¼˜åŠ¿&lt;/h3&gt;
&lt;p&gt;SDS ç›¸æ¯”äº C è¯­è¨€ä¸­çš„å­—ç¬¦ä¸²æœ‰å¦‚ä¸‹æå‡ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¯ä»¥é¿å…ç¼“å†²åŒºæº¢å‡º&lt;/font&gt;&lt;/strong&gt;ï¼šC è¯­è¨€ä¸­çš„å­—ç¬¦ä¸²è¢«ä¿®æ”¹ï¼ˆæ¯”å¦‚æ‹¼æ¥ï¼‰æ—¶ï¼Œä¸€æ—¦æ²¡æœ‰åˆ†é…è¶³å¤Ÿé•¿åº¦çš„å†…å­˜ç©ºé—´ï¼Œå°±ä¼šé€ æˆç¼“å†²åŒºæº¢å‡ºã€‚SDS è¢«ä¿®æ”¹æ—¶ï¼Œä¼šå…ˆæ ¹æ® len å±æ€§æ£€æŸ¥ç©ºé—´å¤§å°æ˜¯å¦æ»¡è¶³è¦æ±‚ï¼Œå¦‚æœä¸æ»¡è¶³ï¼Œåˆ™å…ˆæ‰©å±•è‡³æ‰€éœ€å¤§å°å†è¿›è¡Œä¿®æ”¹æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è·å–å­—ç¬¦ä¸²é•¿åº¦çš„å¤æ‚åº¦è¾ƒä½&lt;/font&gt;&lt;/strong&gt;ï¼šC è¯­è¨€ä¸­çš„å­—ç¬¦ä¸²çš„é•¿åº¦é€šå¸¸æ˜¯ç»è¿‡éå†è®¡æ•°æ¥å®ç°çš„ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O (n)ã€‚SDS çš„é•¿åº¦è·å–&lt;font color=&#39;red&#39;&gt;ç›´æ¥è¯»å– len å±æ€§å³å¯ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O (1)&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å‡å°‘å†…å­˜åˆ†é…æ¬¡æ•°&lt;/font&gt;&lt;/strong&gt;ï¼šä¸ºäº†é¿å…ä¿®æ”¹ï¼ˆå¢åŠ  / å‡å°‘ï¼‰å­—ç¬¦ä¸²æ—¶ï¼Œæ¯æ¬¡éƒ½éœ€è¦é‡æ–°åˆ†é…å†…å­˜ï¼ˆC è¯­è¨€çš„å­—ç¬¦ä¸²æ˜¯è¿™æ ·çš„ï¼‰ï¼ŒSDS å®ç°äº†&lt;font color=&#39;cornflowerblue&#39;&gt;ç©ºé—´é¢„åˆ†é…&lt;/font&gt;å’Œ&lt;font color=&#39;cornflowerblue&#39;&gt;æƒ°æ€§ç©ºé—´é‡Šæ”¾&lt;/font&gt;ä¸¤ç§ä¼˜åŒ–ç­–ç•¥ã€‚å½“ SDS éœ€è¦å¢åŠ å­—ç¬¦ä¸²æ—¶ï¼ŒRedis ä¼šä¸º SDS åˆ†é…å¥½å†…å­˜ï¼Œå¹¶ä¸”æ ¹æ®ç‰¹å®šçš„ç®—æ³•åˆ†é…å¤šä½™çš„å†…å­˜ï¼Œè¿™æ ·å¯ä»¥å‡å°‘è¿ç»­æ‰§è¡Œå­—ç¬¦ä¸²å¢é•¿æ“ä½œæ‰€éœ€çš„å†…å­˜é‡åˆ†é…æ¬¡æ•°ã€‚å½“ SDS éœ€è¦å‡å°‘å­—ç¬¦ä¸²æ—¶ï¼Œè¿™éƒ¨åˆ†å†…å­˜ä¸ä¼šç«‹å³è¢«å›æ”¶ï¼Œä¼šè¢«è®°å½•ä¸‹æ¥ï¼Œç­‰å¾…åç»­ä½¿ç”¨ï¼ˆæ”¯æŒæ‰‹åŠ¨é‡Šæ”¾ï¼Œæœ‰å¯¹åº”çš„ APIï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;äºŒè¿›åˆ¶å®‰å…¨&lt;/font&gt;&lt;/strong&gt;ï¼šC è¯­è¨€ä¸­çš„å­—ç¬¦ä¸²ä»¥ç©ºå­—ç¬¦  &lt;code&gt;\0&lt;/code&gt;  ä½œä¸ºå­—ç¬¦ä¸²ç»“æŸçš„æ ‡è¯†ï¼Œè¿™å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œåƒä¸€äº›äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆæ¯”å¦‚å›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ï¼‰å°±å¯èƒ½åŒ…æ‹¬ç©ºå­—ç¬¦ï¼ŒC å­—ç¬¦ä¸²æ— æ³•æ­£ç¡®ä¿å­˜ã€‚&lt;font color=&#39;red&#39;&gt;SDS ä½¿ç”¨ len å±æ€§åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç»“æŸï¼Œä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;sds-æ—§ç‰ˆæœ¬ç»“æ„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sds-æ—§ç‰ˆæœ¬ç»“æ„&#34;&gt;#&lt;/a&gt; SDS æ—§ç‰ˆæœ¬ç»“æ„&lt;/h3&gt;
&lt;p&gt;ğŸ¤ å¤šæä¸€å˜´ï¼Œå¾ˆå¤šæ–‡ç« é‡Œ SDS çš„å®šä¹‰æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c&#34;&gt;&lt;figcaption data-lang=&#34;c&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;sdshdr&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt; len&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;// è®°å½• buf æ•°ç»„ä¸­å·²ä½¿ç”¨å­—èŠ‚çš„æ•°é‡ = sds æ‰€ä¿å­˜å­—ç¬¦ä¸²çš„é•¿åº¦&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt; free&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;// è®°å½• buf æ•°ç»„ä¸­æœªä½¿ç”¨å­—èŠ‚çš„æ•°é‡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;char&lt;/span&gt; buf&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;// å­—èŠ‚æ•°ç»„ï¼Œç”¨äºä¿å­˜å­—ç¬¦ä¸²&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/v2-3423339183d978aed32dca64447d728d_b.jpg&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;SDSæ—§ç‰ˆæœ¬ç»“æ„&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis_sds_1.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªä¹Ÿæ²¡é”™ï¼Œ&lt;font color=&#39;red&#39;&gt;Redis 3.2 ä¹‹å‰å°±æ˜¯è¿™æ ·å®šä¹‰çš„&lt;/font&gt;ã€‚åæ¥ï¼Œç”±äºè¿™ç§æ–¹å¼çš„å®šä¹‰å­˜åœ¨é—®é¢˜ï¼Œ &lt;code&gt;len&lt;/code&gt;  å’Œ  &lt;code&gt;free&lt;/code&gt;  çš„å®šä¹‰ç”¨äº† 4 ä¸ªå­—èŠ‚ï¼Œé€ æˆäº†æµªè´¹ã€‚Redis 3.2 ä¹‹åï¼ŒRedis æ”¹è¿›äº† SDS çš„å®šä¹‰ï¼Œå°†å…¶åˆ’åˆ†ä¸ºäº†ç°åœ¨çš„ 5 ç§ç±»å‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è´­ç‰©è½¦ä¿¡æ¯çš„å­˜å‚¨å»ºè®®ä½¿ç”¨-hash&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è´­ç‰©è½¦ä¿¡æ¯çš„å­˜å‚¨å»ºè®®ä½¿ç”¨-hash&#34;&gt;#&lt;/a&gt; è´­ç‰©è½¦ä¿¡æ¯çš„å­˜å‚¨å»ºè®®ä½¿ç”¨ Hash&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½ è‚¯å®šä¼šé—®ï¼šè´­ç‰©è½¦ä¿¡æ¯ä¹Ÿæ˜¯å¯¹è±¡æ•°æ®ï¼Œå‰æ–‡ä¸æ˜¯è¯´äº†å»ºè®®ä½¿ç”¨ String å­˜å‚¨å¯¹è±¡æ•°æ®å—ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å› ä¸ºè´­ç‰©è½¦ä¸­çš„å•†å“é¢‘ç¹ä¿®æ”¹å’Œå˜åŠ¨&lt;/font&gt;&lt;/strong&gt;ï¼Œè´­ç‰©è½¦ä¿¡æ¯å»ºè®®ä½¿ç”¨ Hash å­˜å‚¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨æˆ· id ä¸º key&lt;/li&gt;
&lt;li&gt;å•†å“ id ä¸º fieldï¼Œå•†å“æ•°é‡ä¸º value&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231206193856739.png&#34; alt=&#34;Hashç»´æŠ¤ç®€å•çš„è´­ç‰©è½¦ä¿¡æ¯&#34; /&gt;&lt;/p&gt;
&lt;center&gt;Hashç»´æŠ¤ç®€å•çš„è´­ç‰©è½¦ä¿¡æ¯&lt;/center&gt;
&lt;p&gt;é‚£ç”¨æˆ·è´­ç‰©è½¦ä¿¡æ¯çš„ç»´æŠ¤å…·ä½“åº”è¯¥æ€ä¹ˆæ“ä½œå‘¢ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·æ·»åŠ å•†å“å°±æ˜¯å¾€ Hash é‡Œé¢å¢åŠ æ–°çš„ field ä¸ valueï¼›&lt;/li&gt;
&lt;li&gt;æŸ¥è¯¢è´­ç‰©è½¦ä¿¡æ¯å°±æ˜¯éå†å¯¹åº”çš„ Hashï¼›&lt;/li&gt;
&lt;li&gt;æ›´æ”¹å•†å“æ•°é‡ç›´æ¥ä¿®æ”¹å¯¹åº”çš„ value å€¼ï¼ˆç›´æ¥ set æˆ–è€…åšè¿ç®—çš†å¯ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;åˆ é™¤å•†å“å°±æ˜¯åˆ é™¤ Hash ä¸­å¯¹åº”çš„ fieldï¼›&lt;/li&gt;
&lt;li&gt;æ¸…ç©ºè´­ç‰©è½¦ç›´æ¥åˆ é™¤å¯¹åº”çš„ key å³å¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™é‡Œåªæ˜¯ä»¥ä¸šåŠ¡æ¯”è¾ƒç®€å•çš„è´­ç‰©è½¦åœºæ™¯ä¸¾ä¾‹ï¼Œå®é™…ç”µå•†åœºæ™¯ä¸‹ï¼Œfield åªä¿å­˜ä¸€ä¸ªå•†å“ id æ˜¯æ²¡åŠæ³•æ»¡è¶³éœ€æ±‚çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä½¿ç”¨-sorted-set-å®ç°æ’è¡Œæ¦œ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½¿ç”¨-sorted-set-å®ç°æ’è¡Œæ¦œ&#34;&gt;#&lt;/a&gt; ä½¿ç”¨ Sorted Set å®ç°æ’è¡Œæ¦œ&lt;/h2&gt;
&lt;p&gt;[Zset åº”ç”¨](#Zset åº”ç”¨)&lt;/p&gt;
&lt;h2 id=&#34;set-åº”ç”¨åœºæ™¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#set-åº”ç”¨åœºæ™¯&#34;&gt;#&lt;/a&gt; Set åº”ç”¨åœºæ™¯&lt;/h2&gt;
&lt;p&gt;[Set åº”ç”¨](#Set åº”ç”¨)&lt;/p&gt;
&lt;h2 id=&#34;ä½¿ç”¨-set-å®ç°æŠ½å¥–ç³»ç»Ÿ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½¿ç”¨-set-å®ç°æŠ½å¥–ç³»ç»Ÿ&#34;&gt;#&lt;/a&gt; ä½¿ç”¨ Set å®ç°æŠ½å¥–ç³»ç»Ÿ&lt;/h2&gt;
&lt;p&gt;å¦‚æœæƒ³è¦ä½¿ç”¨  &lt;code&gt;Set&lt;/code&gt;  å®ç°ä¸€ä¸ªç®€å•çš„æŠ½å¥–ç³»ç»Ÿçš„è¯ï¼Œç›´æ¥ä½¿ç”¨ä¸‹é¢è¿™å‡ ä¸ªå‘½ä»¤å°±å¯ä»¥äº†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;SADD key member1 member2 ...&lt;/code&gt; ï¼šå‘æŒ‡å®šé›†åˆæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SPOP key count&lt;/code&gt; ï¼šéšæœºç§»é™¤å¹¶è·å–æŒ‡å®šé›†åˆä¸­ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œé€‚åˆä¸å…è®¸é‡å¤ä¸­å¥–çš„åœºæ™¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SRANDMEMBER key count&lt;/code&gt; ï¼šéšæœºè·å–æŒ‡å®šé›†åˆä¸­æŒ‡å®šæ•°é‡çš„å…ƒç´ ï¼Œé€‚åˆå…è®¸é‡å¤ä¸­å¥–çš„åœºæ™¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;é›†åˆçš„åº•å±‚å®ç°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é›†åˆçš„åº•å±‚å®ç°&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸé›†åˆçš„åº•å±‚å®ç°&lt;/mark&gt;&lt;/h2&gt;
&lt;p&gt;Redis ä¸­&lt;font color=&#39;red&#39;&gt;å¯¹äº Set ç±»å‹çš„åº•å±‚å®ç°ï¼Œç›´æ¥é‡‡ç”¨äº† hashTable&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¯¹äº Hash ä¸ ZSet é›†åˆï¼Œå…¶åº•å±‚çš„å®ç°å®é™…æœ‰ä¸¤ç§&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;zipList&lt;/code&gt; ï¼ˆ&lt;font color=&#39;cornflowerblue&#39;&gt;å‹ç¼©åˆ—è¡¨&lt;/font&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;skipList&lt;/code&gt; ï¼ˆ&lt;font color=&#39;cornflowerblue&#39;&gt;è·³è·ƒåˆ—è¡¨&lt;/font&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ä¸¤ç§å®ç°å¯¹äºç”¨æˆ·æ¥è¯´æ˜¯é€æ˜çš„ï¼Œä½†ç”¨æˆ·å†™å…¥ä¸åŒçš„æ•°æ®ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨ä¸åŒçš„å®ç°ã€‚åªè¦åŒæ—¶æ»¡è¶³é…ç½®æ–‡ä»¶ redis.conf ä¸­ç›¸å…³é›†åˆ&lt;font color=&#39;red&#39;&gt;å…ƒç´ æ•°é‡é˜ˆå€¼&lt;/font&gt;ã€&lt;font color=&#39;red&#39;&gt;å…ƒç´ å¤§å°é˜ˆå€¼&lt;/font&gt;ä¸¤ä¸ªæ¡ä»¶ï¼Œä½¿ç”¨çš„å°±æ˜¯å‹ç¼©åˆ—è¡¨ zipListï¼›åªè¦æœ‰ä¸€ä¸ªæ¡ä»¶ä¸æ»¡è¶³ï¼Œä½¿ç”¨çš„å°±æ˜¯è·³è·ƒåˆ—è¡¨ skipListã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå¯¹äº ZSet é›†åˆä¸­è¿™ä¸¤ä¸ªæ¡ä»¶å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é›†åˆå…ƒç´ ä¸ªæ•°å°äº redis.conf ä¸­ zset-max-ziplist-entries å±æ€§çš„å€¼ï¼Œå…¶é»˜è®¤å€¼ä¸º 128&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªé›†åˆå…ƒç´ å¤§å°éƒ½å°äº redis.conf ä¸­ zset-max-ziplist-value å±æ€§çš„å€¼ï¼Œå…¶é»˜è®¤å€¼ä¸º 64 å­—èŠ‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ziplistå‹ç¼©åˆ—è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ziplistå‹ç¼©åˆ—è¡¨&#34;&gt;#&lt;/a&gt; zipListï¼ˆå‹ç¼©åˆ—è¡¨ï¼‰&lt;/h3&gt;
&lt;p&gt;zipListï¼Œé€šå¸¸ç§°ä¸ºå‹ç¼©åˆ—è¡¨ï¼Œæ˜¯ä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;ç»è¿‡ç‰¹æ®Šç¼–ç &lt;/font&gt;çš„ç”¨äº&lt;font color=&#39;red&#39;&gt;å­˜å‚¨å­—ç¬¦ä¸²æˆ–æ•´æ•°&lt;/font&gt;çš„ **&lt;font color=&#39;red&#39;&gt;åŒå‘é“¾è¡¨&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;p&gt;å…¶åº•å±‚æ•°æ®ç»“æ„ç”±&lt;font color=&#39;red&#39;&gt;åœ¨å†…å­˜ä¸Šæ˜¯è¿ç»­å­˜æ”¾çš„ä¸‰éƒ¨åˆ†&lt;/font&gt;æ„æˆï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231206212946057.png&#34; alt=&#34;image-20231206212946057&#34; /&gt;&lt;/p&gt;
&lt;center&gt;zipList ç»“æ„&lt;/center&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;green&#39;&gt;head&lt;/font&gt;&lt;/strong&gt;ï¼š10 å­—èŠ‚
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;zlbytesï¼ˆåˆ—è¡¨é•¿åº¦ï¼‰&lt;/font&gt;ï¼š4 å­—èŠ‚ï¼Œå­˜æ”¾ zipList åˆ—è¡¨æ•´ä½“æ•°æ®ç»“æ„æ‰€å çš„å­—èŠ‚æ•°ï¼ŒåŒ…æ‹¬ zlbytes æœ¬èº«çš„é•¿åº¦ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;zltailï¼ˆå°¾ entry çš„åç§»é‡ï¼‰&lt;/font&gt;ï¼š4 å­—èŠ‚ï¼Œç”¨äºå­˜æ”¾ zipList ä¸­æœ€åä¸€ä¸ª entry åœ¨æ•´ä¸ªæ•°æ®ç»“æ„ä¸­çš„åç§»é‡ï¼ˆå­—èŠ‚ï¼‰ã€‚è¯¥æ•°æ®çš„å­˜åœ¨å¯ä»¥å¿«é€Ÿå®šä½åˆ—è¡¨çš„å°¾ entry ä½ç½®ï¼Œä»¥æ–¹ä¾¿æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;zllenï¼ˆentry ä¸ªæ•°ï¼‰&lt;/font&gt;ï¼š2 å­—èŠ‚ï¼Œç”¨äºå­˜æ”¾ zipList åŒ…å«çš„ entry ä¸ªæ•°ã€‚ç”±äºå…¶åªæœ‰ 16 ä½ï¼Œæ‰€ä»¥ zipList æœ€å¤šå¯ä»¥å«æœ‰çš„ entry ä¸ªæ•°ä¸º 2&lt;sup&gt;16&lt;/sup&gt;-1 = 65535 ä¸ªã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;green&#39;&gt;entries&lt;/font&gt;&lt;/strong&gt;ï¼šçœŸæ­£çš„åˆ—è¡¨ï¼Œç”±å¾ˆå¤šçš„å…ƒç´  entry æ„æˆã€‚ç”±äºä¸åŒçš„å…ƒç´ ç±»å‹ã€æ•°å€¼çš„ä¸åŒï¼Œä»è€Œå¯¼è‡´æ¯ä¸ª entry çš„é•¿åº¦ä¸åŒã€‚
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;gree&#39;&gt;prevlengthï¼ˆå‰ä¸€ä¸ª entry çš„é•¿åº¦ï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼š &lt;font color=&#39;red&#39;&gt;1/3 å­—èŠ‚&lt;/font&gt;ï¼Œç”¨äºè®°å½•å‰ä¸€ä¸ª entry çš„é•¿åº¦ï¼Œ&lt;font color=&#39;red&#39;&gt;ä»¥å®ç°é€†åºéå†&lt;/font&gt;ã€‚é»˜è®¤é•¿åº¦ä¸º 1 å­—èŠ‚ï¼Œåªè¦ä¸Šä¸€ä¸ª entry çš„é•¿åº¦å°äº 254 å­—èŠ‚ï¼Œ prevlength å°±å  1 å­—èŠ‚ï¼Œå¦åˆ™å…¶ä¼šè‡ªåŠ¨æ‰©å±•ä¸º 3 å­—èŠ‚é•¿åº¦ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;encodingï¼ˆdata å…·ä½“ç±»å‹ï¼‰&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;1/2/5 å­—èŠ‚&lt;/font&gt;ï¼Œç”¨äºæ ‡å¿—åé¢çš„ data çš„å…·ä½“ç±»å‹ã€‚å¦‚æœ data ä¸ºæ•´æ•°ç±»å‹ï¼Œ encoding å›ºå®šé•¿åº¦ä¸º 1 å­—èŠ‚ã€‚å¦‚æœ data ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œåˆ™ encoding é•¿åº¦å¯èƒ½ä¼šæ˜¯ 1 å­—èŠ‚ã€ 2 å­—&lt;br /&gt;
èŠ‚æˆ– 5 å­—èŠ‚ã€‚ &lt;font color=&#39;red&#39;&gt;data å­—ç¬¦ä¸²ä¸åŒçš„é•¿åº¦ï¼Œå¯¹åº”ç€ä¸åŒçš„ encoding é•¿åº¦&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;dataï¼ˆçœŸæ­£çš„æ•°æ®ï¼‰&lt;/font&gt;ï¼šæ•°æ®ç±»å‹åªèƒ½æ˜¯&lt;font color=&#39;red&#39;&gt;æ•´æ•°ç±»å‹æˆ–å­—ç¬¦ä¸²ç±»å‹&lt;/font&gt;ï¼Œä¸åŒçš„æ•°æ®å ç”¨çš„å­—èŠ‚é•¿åº¦ä¸åŒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;green&#39;&gt;end&lt;/font&gt;&lt;/strong&gt;ï¼šåªåŒ…å«ä¸€éƒ¨åˆ†
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;zlendï¼ˆzipList ç»“æŸæ ‡è®°ï¼‰&lt;/font&gt;ï¼š1 å­—èŠ‚ï¼Œå€¼å›ºå®šä¸º 255ï¼Œå³&lt;font color=&#39;red&#39;&gt;äºŒè¿›åˆ¶ä½ä¸ºå…¨ 1&lt;/font&gt;ï¼Œè¡¨ç¤ºä¸€ä¸ª zipList åˆ—è¡¨çš„ç»“æŸã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;listpackç´§å‡‘åˆ—è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#listpackç´§å‡‘åˆ—è¡¨&#34;&gt;#&lt;/a&gt; listPackï¼ˆç´§å‡‘åˆ—è¡¨ï¼‰&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;é‡å†™å¹¶æ›¿ä»£ zipListï¼ˆå‹ç¼©åˆ—è¡¨ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ziplist å®ç°å¤æ‚ï¼Œä¸ºäº†é€†åºéå†ï¼Œæ¯ä¸ª entry ä¸­åŒ…å«å‰ä¸€ä¸ª entry çš„é•¿åº¦ï¼Œè¿™æ ·ä¼šå¯¼è‡´&lt;font color=&#39;red&#39;&gt;åœ¨ ziplist ä¸­é—´ä¿®æ”¹æˆ–è€…æ’å…¥ entry æ—¶éœ€è¦è¿›è¡Œçº§è”æ›´æ–°&lt;/font&gt;ï¼Œåœ¨é«˜å¹¶å‘çš„å†™æ“ä½œåœºæ™¯ä¸‹ä¼šæåº¦é™ä½ Redis çš„æ€§èƒ½ã€‚ä¸ºäº†å®ç°æ›´ç´§å‡‘ã€æ›´å¿«çš„è§£æï¼Œæ›´ç®€å•çš„å®ç°ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;é‡å†™å®ç°äº† ziplistï¼Œå¹¶å‘½åä¸º listPack&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;åœ¨ Redis 7.0 ä¸­ï¼Œå·²ç»å°† zipList å…¨éƒ¨æ›¿æ¢ä¸ºäº† listPack&lt;/font&gt;ï¼Œä½†ä¸ºäº†å…¼å®¹æ€§ï¼Œåœ¨é…ç½®ä¸­ä¹Ÿä¿ç•™äº† zipList çš„ç›¸å…³å±æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ zipList ä¸€æ ·ï¼ŒlistPack ä¹Ÿæ˜¯ä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;ç»è¿‡ç‰¹æ®Šç¼–ç &lt;/font&gt;çš„ç”¨äº&lt;font color=&#39;red&#39;&gt;å­˜å‚¨å­—ç¬¦ä¸²æˆ–æ•´æ•°&lt;/font&gt;çš„ **&lt;font color=&#39;red&#39;&gt;åŒå‘é“¾è¡¨&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;p&gt;å…¶åº•å±‚æ•°æ®ç»“æ„ä¹Ÿç”±åœ¨å†…å­˜ä¸Šä¹Ÿæ˜¯è¿ç»­å­˜æ”¾çš„ä¸‰éƒ¨åˆ†æ„æˆï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;listPack ä¸ zipList çš„ **&lt;font color=&#39;red&#39;&gt;é‡å¤§åŒºåˆ«ï¼šhead ä¸ entry çš„ç»“æ„&lt;/font&gt;**ã€‚è¡¨ç¤ºåˆ—è¡¨ç»“æŸçš„ end ä¸ zipList çš„ zlend æ˜¯ç›¸åŒçš„ï¼Œå ä¸€ä¸ªå­—èŠ‚ï¼Œä¸” 8 ä½å…¨ä¸º 1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231207093508520.png&#34; alt=&#34;image-20231207093508520&#34; /&gt;&lt;/p&gt;
&lt;center&gt;listPack ç»“æ„&lt;/center&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;green&#39;&gt;head&lt;/font&gt;&lt;/strong&gt;ï¼š6 å­—èŠ‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ zipList çš„ head ç›¸æ¯”æœ€å¤§çš„å˜åŒ–ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä¸å†è®°å½•å°¾ entry çš„åç§»é‡&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;totalBytesï¼ˆåˆ—è¡¨é•¿åº¦ï¼‰&lt;/font&gt;ï¼š4 å­—èŠ‚ï¼Œç”¨äºå­˜æ”¾ listPack åˆ—è¡¨&lt;font color=&#39;red&#39;&gt;æ•´ä½“æ•°æ®ç»“æ„&lt;/font&gt;æ‰€å çš„å­—èŠ‚æ•°ï¼ŒåŒ…æ‹¬ totalBytes æœ¬èº«çš„é•¿åº¦ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;elemNumï¼ˆentry ä¸ªæ•°ï¼‰&lt;/font&gt;ï¼š2 å­—èŠ‚ï¼Œç”¨äºå­˜æ”¾åˆ—è¡¨åŒ…å«çš„&lt;font color=&#39;red&#39;&gt; entry ä¸ªæ•°&lt;/font&gt;ã€‚å…¶æ„ä¹‰ä¸ zipList ä¸­ zllen çš„ç›¸åŒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;green&#39;&gt;entries&lt;/font&gt;&lt;/strong&gt;ï¼šçœŸæ­£çš„åˆ—è¡¨ï¼Œç”±å¾ˆå¤šçš„å…ƒç´  entry æ„æˆã€‚ç”±äºä¸åŒçš„å…ƒç´ ç±»å‹ã€æ•°å€¼çš„ä¸åŒï¼Œä»è€Œå¯¼è‡´æ¯ä¸ª entry çš„é•¿åº¦ä¸åŒã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ zipList çš„ entries ç›¸æ¯”æœ€å¤§çš„å˜åŒ–ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä¸å†è®°å½•å‰ä¸€ä¸ª entry é•¿åº¦çš„ prevlengthï¼Œè€Œæ˜¯è®°å½•å½“å‰ entry é•¿åº¦çš„ element-total-len&lt;/font&gt;&lt;/strong&gt;ã€‚è€Œè¿™ä¸ªæ”¹å˜&lt;font color=&#39;red&#39;&gt;ä»ç„¶å¯ä»¥å®ç°é€†åºéå†ï¼Œä½†å´é¿å…äº†ç”±äºåœ¨åˆ—è¡¨ä¸­é—´ä¿®æ”¹æˆ–æ’å…¥ entry æ—¶å¼•å‘çš„çº§è”æ›´æ–°&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;encodingï¼ˆdata å…·ä½“ç±»å‹ï¼‰&lt;/font&gt;ï¼š1/2/3/4/5/9 å­—èŠ‚ï¼Œç”¨äºæ ‡å¿—åé¢çš„ data çš„å…·ä½“ç±»å‹ã€‚å¦‚æœ data ä¸ºæ•´æ•°ç±»å‹ï¼Œencoding é•¿åº¦å¯èƒ½ä¼šæ˜¯ 1ã€ 2ã€ 3ã€ 4ã€ 5 æˆ– 9 å­—èŠ‚ã€‚ä¸åŒçš„å­—èŠ‚é•¿åº¦ï¼Œå…¶æ ‡è¯†ä½ä¸åŒã€‚å¦‚æœ data ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œåˆ™ encoding é•¿åº¦å¯èƒ½ä¼šæ˜¯ 1ã€ 2 æˆ– 5 å­—èŠ‚ã€‚ data å­—ç¬¦ä¸²ä¸åŒçš„é•¿åº¦ï¼Œå¯¹åº”ç€ä¸åŒçš„ encoding é•¿åº¦ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;dataï¼ˆçœŸæ­£çš„æ•°æ®ï¼‰&lt;/font&gt;ï¼šåªèƒ½æ˜¯&lt;font color=&#39;red&#39;&gt;æ•´æ•°ç±»å‹æˆ–å­—ç¬¦ä¸²ç±»å‹&lt;/font&gt;ã€‚ä¸åŒçš„æ•°æ®å ç”¨çš„å­—èŠ‚é•¿åº¦ä¸åŒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;gree&#39;&gt;element-total-lenï¼ˆå½“å‰ entry çš„é•¿åº¦ï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼š1/2/3/4/5 å­—èŠ‚ï¼Œç”¨äºè®°å½•å½“å‰ entry çš„é•¿åº¦ï¼Œä»¥å®ç°é€†åºéå†ã€‚ç”±äºå…¶ç‰¹æ®Šçš„è®°å½•æ–¹å¼ï¼Œä½¿å…¶æœ¬èº«å æœ‰çš„å­—èŠ‚æ•°æ®å¯èƒ½ä¼šæ˜¯ 1ã€ 2ã€ 3ã€ 4 æˆ– 5 å­—èŠ‚ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;green&#39;&gt;end&lt;/font&gt;&lt;/strong&gt;ï¼šåªåŒ…å«ä¸€éƒ¨åˆ†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;zlendï¼ˆzipList ç»“æŸæ ‡è®°ï¼‰&lt;/font&gt;ï¼š1 å­—èŠ‚ï¼Œå€¼å›ºå®šä¸º 255ï¼Œå³&lt;font color=&#39;red&#39;&gt;äºŒè¿›åˆ¶ä½ä¸ºå…¨ 1&lt;/font&gt;ï¼Œè¡¨ç¤ºä¸€ä¸ª zipList åˆ—è¡¨çš„ç»“æŸã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;skiplistè·³è·ƒåˆ—è¡¨è·³è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#skiplistè·³è·ƒåˆ—è¡¨è·³è¡¨&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸskipListï¼ˆè·³è·ƒåˆ—è¡¨ / è·³è¡¨ï¼‰&lt;/mark&gt;&lt;/h3&gt;
&lt;p&gt;skipListï¼Œè·³è·ƒåˆ—è¡¨ï¼Œç®€ç§°è·³è¡¨ï¼Œæ˜¯ä¸€ç§&lt;font color=&#39;red&#39;&gt;éšæœºåŒ–çš„&lt;/font&gt;æ•°æ®ç»“æ„ï¼ŒåŸºäº&lt;font color=&#39;red&#39;&gt;å¹¶è”çš„é“¾è¡¨&lt;/font&gt;ï¼Œå®ç°ç®€å•ï¼ŒæŸ¥æ‰¾æ•ˆç‡è¾ƒé«˜ã€‚ç®€å•æ¥è¯´è·³è¡¨ä¹Ÿæ˜¯é“¾è¡¨çš„ä¸€ç§ï¼Œåªä¸è¿‡å®ƒ **&lt;font color=&#39;red&#39;&gt;åœ¨é“¾è¡¨çš„åŸºç¡€ä¸Šå¢åŠ äº†è·³è·ƒåŠŸèƒ½&lt;/font&gt;**ã€‚ä¹Ÿæ­£æ˜¯è¿™ä¸ªè·³è·ƒåŠŸèƒ½ï¼Œä½¿å¾—åœ¨&lt;font color=&#39;red&#39;&gt;æŸ¥æ‰¾å…ƒç´ æ—¶ï¼Œèƒ½å¤Ÿæä¾›è¾ƒé«˜çš„æ•ˆç‡&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;åŸç†-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸç†-3&#34;&gt;#&lt;/a&gt; åŸç†&lt;/h4&gt;
&lt;p&gt;å‡è®¾æœ‰ä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;å¸¦å¤´ã€å°¾ç»“ç‚¹çš„æœ‰åºé“¾è¡¨&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231207150413317.png&#34; alt=&#34;image-20231207150413317&#34; /&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¯¥é“¾è¡¨ä¸­ï¼Œå¦‚æœè¦æŸ¥æ‰¾æŸä¸ªæ•°æ®ï¼Œéœ€è¦ä»å¤´å¼€å§‹é€ä¸ªè¿›è¡Œæ¯”è¾ƒï¼Œç›´åˆ°æ‰¾åˆ°åŒ…å«æ•°æ®çš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œæˆ–è€…æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”ç»™å®šæ•°æ®å¤§çš„èŠ‚ç‚¹ï¼Œæˆ–è€…æ‰¾åˆ°æœ€åå°¾ç»“ç‚¹ï¼Œåä¸¤ç§éƒ½å±äºæ²¡æœ‰æ‰¾åˆ°çš„æƒ…å†µã€‚åŒæ ·ï¼Œå½“æˆ‘ä»¬è¦æ’å…¥æ–°æ•°æ®çš„æ—¶å€™ï¼Œä¹Ÿè¦ç»å†åŒæ ·çš„æŸ¥æ‰¾è¿‡ç¨‹ï¼Œä»è€Œç¡®å®šæ’å…¥ä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æå‡æŸ¥æ‰¾æ•ˆç‡ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;åœ¨å¶æ•°ç»“ç‚¹ä¸Šå¢åŠ ä¸€ä¸ªæŒ‡é’ˆï¼Œè®©å…¶æŒ‡å‘ä¸‹ä¸€ä¸ªå¶æ•°ç»“ç‚¹ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„é“¾è¡¨ï¼ˆ&lt;font color=&#39;cornflowerblue&#39;&gt;é«˜å±‚é“¾è¡¨&lt;/font&gt;ï¼‰&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231207150636138.png&#34; alt=&#34;image-20231207150636138&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œé«˜å±‚é“¾è¡¨åŒ…å«çš„èŠ‚ç‚¹ä¸ªæ•°åªæ˜¯åŸæ¥é“¾è¡¨çš„ä¸€åŠã€‚æ­¤æ—¶å†æƒ³æŸ¥æ‰¾æŸä¸ªæ•°æ®æ—¶ï¼Œ&lt;font color=&#39;red&#39;&gt;å…ˆæ²¿ç€é«˜å±‚é“¾è¡¨è¿›è¡ŒæŸ¥æ‰¾ï¼Œå½“é‡åˆ°ç¬¬ä¸€ä¸ªæ¯”å¾…æŸ¥æ•°æ®å¤§çš„èŠ‚ç‚¹æ—¶ï¼Œç«‹å³ä»å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå†å›åˆ°åŸé“¾è¡¨ä¸­è¿›è¡ŒæŸ¥æ‰¾&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œè‹¥æƒ³æ’å…¥ä¸€ä¸ªæ•°æ® 20ï¼Œåˆ™å…ˆåœ¨ï¼ˆ8ï¼Œ 19ï¼Œ31ï¼Œ 42ï¼‰çš„é“¾è¡¨ä¸­æŸ¥æ‰¾ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯” 20 å¤§çš„èŠ‚ç‚¹ 31ï¼Œç„¶åå†åœ¨é«˜å±‚é“¾è¡¨ä¸­æ‰¾åˆ° 31 èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ 19ï¼Œç„¶åå†åœ¨åŸé“¾è¡¨ä¸­è·å–åˆ°å…¶ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å€¼ä¸º 23ã€‚æ¯” 20 å¤§ï¼Œåˆ™å°† 20 æ’å…¥åˆ° 19 èŠ‚ç‚¹ä¸ 23 èŠ‚ç‚¹ä¹‹é—´ã€‚è‹¥æ’å…¥çš„æ˜¯ 25ï¼Œæ¯”èŠ‚ç‚¹ 23 å¤§ï¼Œåˆ™æ’å…¥åˆ° 23 èŠ‚ç‚¹ä¸ 31 èŠ‚ç‚¹ä¹‹é—´ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥æ–¹å¼æ˜æ˜¾&lt;font color=&#39;red&#39;&gt;å¯ä»¥å‡å°‘æ¯”è¾ƒæ¬¡æ•°ï¼Œæé«˜æŸ¥æ‰¾æ•ˆç‡&lt;/font&gt;ã€‚å¦‚æœé“¾è¡¨å…ƒç´ è¾ƒå¤šï¼Œä¸ºäº†è¿›ä¸€æ­¥æå‡æŸ¥æ‰¾æ•ˆç‡ï¼Œå¯ä»¥å°†åŸé“¾è¡¨æ„å»ºä¸ºä¸‰å±‚é“¾è¡¨ï¼Œæˆ–å†é«˜å±‚çº§é“¾è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231207151233404.png&#34; alt=&#34;image-20231207151233404&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å±‚çº§è¶Šé«˜ï¼ŒæŸ¥æ‰¾æ•ˆç‡å°±ä¼šè¶Šé«˜ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å­˜åœ¨é—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å­˜åœ¨é—®é¢˜&#34;&gt;#&lt;/a&gt; å­˜åœ¨é—®é¢˜&lt;/h4&gt;
&lt;p&gt;è¿™ç§å¯¹é“¾è¡¨åˆ†å±‚çº§çš„æ–¹å¼ä»åŸç†ä¸Šçœ‹ç¡®å®æå‡äº†æŸ¥æ‰¾æ•ˆç‡ï¼Œä½†åœ¨å®é™…æ“ä½œæ—¶å°±å‡ºç°äº†é—®é¢˜ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç”±äºå›ºå®šåºå·çš„å…ƒç´ æ‹¥æœ‰å›ºå®šå±‚çº§ï¼Œæ‰€ä»¥åˆ—è¡¨å…ƒç´ å‡ºç°å¢åŠ æˆ–åˆ é™¤çš„æƒ…å†µä¸‹ï¼Œä¼šå¯¼è‡´åˆ—è¡¨æ•´ä½“å…ƒç´ å±‚çº§å¤§è°ƒæ•´ï¼Œä½†è¿™æ ·åŠ¿å¿…ä¼šå¤§å¤§é™ä½ç³»ç»Ÿæ€§èƒ½&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå¯¹äºåˆ’åˆ†ä¸¤çº§çš„é“¾è¡¨ï¼Œå¯ä»¥è§„å®šå¥‡æ•°ç»“ç‚¹ä¸ºé«˜å±‚çº§é“¾è¡¨ï¼Œå¶æ•°ç»“ç‚¹ä¸ºä½å±‚çº§é“¾è¡¨ã€‚å¯¹äºåˆ’åˆ†ä¸‰çº§çš„é“¾è¡¨ï¼Œå¯ä»¥æŒ‰ç…§èŠ‚ç‚¹åºå·ä¸ 3 å–æ¨¡ç»“æœè¿›è¡Œåˆ’åˆ†ã€‚ä½†å¦‚æœæ’å…¥äº†æ–°çš„èŠ‚ç‚¹ï¼Œæˆ–åˆ é™¤çš„åŸæ¥çš„æŸäº›èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå®šä¼šæŒ‰ç…§åŸæ¥çš„å±‚çº§åˆ’åˆ†è§„åˆ™è¿›è¡Œé‡æ–°å±‚çº§åˆ’åˆ†ï¼Œé‚£ä¹ˆåŠ¿å¿…ä¼šå¤§å¤§é™ä½ç³»ç»Ÿæ€§èƒ½ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç®—æ³•ä¼˜åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®—æ³•ä¼˜åŒ–&#34;&gt;#&lt;/a&gt; ç®—æ³•ä¼˜åŒ–&lt;/h4&gt;
&lt;p&gt;ä¸ºäº†é¿å…å‰é¢çš„é—®é¢˜ï¼ŒskipList é‡‡ç”¨äº† **&lt;font color=&#39;#B32015&#39;&gt;éšæœºåˆ†é…å±‚çº§&lt;/font&gt;** æ–¹å¼ã€‚å³&lt;font color=&#39;red&#39;&gt;åœ¨ç¡®å®šäº†æ€»å±‚çº§åï¼Œæ¯æ·»åŠ ä¸€ä¸ªæ–°çš„å…ƒç´ æ—¶ä¼šè‡ªåŠ¨ä¸ºå…¶éšæœºåˆ†é…ä¸€ä¸ªå±‚çº§&lt;/font&gt;ã€‚è¿™ç§éšæœºæ€§å°±&lt;font color=&#39;red&#39;&gt;è§£å†³äº†èŠ‚ç‚¹åºå·ä¸å±‚çº§é—´çš„å›ºå®šå…³ç³»é—®é¢˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231207151544039.png&#34; alt=&#34;image-20231207151544039&#34; /&gt;&lt;/p&gt;
&lt;center&gt;skipList åœ¨ç”Ÿæˆè¿‡ç¨‹ä¸­ä¸ºæ¯ä¸ªå…ƒç´ éšæœºåˆ†é…å±‚çº§çš„è¿‡ç¨‹&lt;/center&gt;
&lt;p&gt;ä»è¿™ä¸ª skiplist çš„åˆ›å»ºå’Œæ’å…¥è¿‡ç¨‹å¯ä»¥çœ‹å‡ºï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å±‚çº§æ•°éƒ½æ˜¯éšæœºåˆ†é…çš„ã€‚è€Œä¸”&lt;font color=&#39;red&#39;&gt;æ–°æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹ä¸ä¼šå½±å“åˆ°å…¶å®ƒèŠ‚ç‚¹çš„å±‚çº§æ•°ï¼Œåªéœ€è¦ä¿®æ”¹æ’å…¥èŠ‚ç‚¹å‰åçš„æŒ‡é’ˆ&lt;/font&gt;ï¼Œè¿™å°±é™ä½äº†æ’å…¥æ“ä½œçš„å¤æ‚åº¦ã€‚&lt;/p&gt;
&lt;p&gt;skipList æŒ‡çš„å°±æ˜¯é™¤äº†æœ€ä¸‹é¢ç¬¬ 1 å±‚é“¾è¡¨ä¹‹å¤–ï¼Œå®ƒä¼šäº§ç”Ÿè‹¥å¹²å±‚ç¨€ç–çš„é“¾è¡¨ï¼Œè¿™äº›é“¾è¡¨é‡Œé¢çš„æŒ‡é’ˆè·³è¿‡äº†ä¸€äº›èŠ‚ç‚¹ï¼Œå¹¶ä¸”è¶Šé«˜å±‚çº§çš„é“¾è¡¨è·³è¿‡çš„èŠ‚ç‚¹è¶Šå¤šã€‚&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;åœ¨æŸ¥æ‰¾æ•°æ®çš„æ—¶å…ˆåœ¨é«˜å±‚çº§é“¾è¡¨ä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œç„¶åé€å±‚é™ä½ï¼Œæœ€ç»ˆå¯èƒ½ä¼šé™åˆ°ç¬¬ 1 å±‚é“¾è¡¨æ¥ç²¾ç¡®åœ°ç¡®å®šæ•°æ®ä½ç½®&lt;/font&gt;&lt;/strong&gt;ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ç”±äºè·³è¿‡äº†ä¸€äº›èŠ‚ç‚¹ï¼Œä»è€ŒåŠ å¿«äº†æŸ¥æ‰¾é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;h3 id=&#34;quicklistå¿«é€Ÿåˆ—è¡¨å¿«è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#quicklistå¿«é€Ÿåˆ—è¡¨å¿«è¡¨&#34;&gt;#&lt;/a&gt; quickListï¼ˆå¿«é€Ÿåˆ—è¡¨ / å¿«è¡¨ï¼‰&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ä» Redis 3.2 å¼€å§‹æˆä¸ºæ˜¯ List çš„åº•å±‚å®ç°ï¼Œæ›¿ä»£äº† zipList å’Œ LinkedList&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;åŸç†-4&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸç†-4&#34;&gt;#&lt;/a&gt; åŸç†&lt;/h4&gt;
&lt;p&gt;quickListï¼Œå¿«é€Ÿåˆ—è¡¨ï¼Œ quickList æœ¬èº«æ˜¯ä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;åŒå‘æ— å¾ªç¯é“¾è¡¨&lt;/font&gt;ï¼Œå®ƒçš„ **&lt;font color=&#39;red&#39;&gt;æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ª zipList&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;p&gt;zipList ä¸ linkedList éƒ½å­˜åœ¨æœ‰æ˜æ˜¾ä¸è¶³ï¼Œè€Œ quickList åˆ™å¯¹å®ƒä»¬è¿›è¡Œäº†æ”¹è¿›ï¼šå¸å–äº† zipList å’Œ linkedList çš„ä¼˜ç‚¹ï¼Œé¿å¼€äº†å®ƒä»¬çš„ä¸è¶³ã€‚&lt;/p&gt;
&lt;p&gt;quickList æœ¬è´¨ä¸Š **&lt;font color=&#39;red&#39;&gt;æ˜¯ zipList å’Œ linkedList çš„æ··åˆä½“&lt;/font&gt;**ï¼Œ&lt;font color=&#39;red&#39;&gt;å°† linkedList æŒ‰æ®µåˆ‡åˆ†ï¼Œæ¯ä¸€æ®µä½¿ç”¨ zipList æ¥ç´§å‡‘å­˜å‚¨è‹¥å¹²çœŸæ­£çš„æ•°æ®å…ƒç´ ï¼Œå¤šä¸ª zipList ä¹‹é—´ä½¿ç”¨åŒå‘æŒ‡é’ˆä¸²æ¥èµ·æ¥&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231207153821870.png&#34; alt=&#34;image-20231207153821870&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œå¯¹äº&lt;font color=&#39;red&#39;&gt;æ¯ä¸ª zipList ä¸­æœ€å¤šå¯å­˜æ”¾å¤šå¤§å®¹é‡çš„æ•°æ®å…ƒç´ &lt;/font&gt;ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­é€šè¿‡  &lt;code&gt;list-max-ziplist-size&lt;/code&gt;  å±æ€§å¯ä»¥æŒ‡å®šã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ£€ç´¢æ“ä½œ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ£€ç´¢æ“ä½œ&#34;&gt;#&lt;/a&gt; æ£€ç´¢æ“ä½œ&lt;/h4&gt;
&lt;p&gt;ä¸ºäº†æ›´æ·±å…¥çš„ç†è§£ quickList çš„å·¥ä½œåŸç†ï¼Œé€šè¿‡å¯¹æ£€ç´¢ã€æ’å…¥ã€åˆ é™¤ç­‰æ“ä½œçš„å®ç°åˆ†ææ¥åŠ æ·±ç†è§£ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äº List å…ƒç´ çš„æ£€ç´¢ï¼Œéƒ½æ˜¯ä»¥å…¶ç´¢å¼• index ä¸ºä¾æ®çš„ã€‚quickList ç”±ä¸€ä¸ªä¸ªçš„ zipList æ„æˆï¼Œæ¯ä¸ª zipList çš„ zllen ä¸­è®°å½•çš„å°±æ˜¯å½“å‰ zipList ä¸­åŒ…å«çš„ entry çš„ä¸ªæ•°ï¼Œå³åŒ…å«çš„çœŸæ­£æ•°æ®å…ƒç´ çš„ä¸ªæ•°ã€‚&lt;font color=&#39;red&#39;&gt;æ ¹æ®è¦æ£€ç´¢å…ƒç´ çš„ indexï¼Œä» quickList çš„å¤´èŠ‚ç‚¹å¼€å§‹ï¼Œ&lt;strong&gt;é€ä¸ªå¯¹ zipList çš„ zllen åš sum æ±‚å’Œ&lt;/strong&gt;ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ±‚å’Œå sum å¤§äº index çš„ zipListï¼Œé‚£ä¹ˆè¦æ£€ç´¢çš„è¿™ä¸ªå…ƒç´ å°±åœ¨è¿™ä¸ª zipList ä¸­&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ’å…¥æ“ä½œ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ’å…¥æ“ä½œ&#34;&gt;#&lt;/a&gt; æ’å…¥æ“ä½œ&lt;/h4&gt;
&lt;p&gt;ç”±äº zipList æ˜¯æœ‰å¤§å°é™åˆ¶çš„ï¼Œæ‰€ä»¥åœ¨ quickList ä¸­æ’å…¥ä¸€ä¸ªå…ƒç´ åœ¨é€»è¾‘ä¸Šç›¸å¯¹å°±æ¯”è¾ƒå¤æ‚ä¸€äº›ã€‚å‡è®¾è¦æ’å…¥çš„å…ƒç´ çš„å¤§å°ä¸º  &lt;code&gt;insertBytes&lt;/code&gt; ï¼Œè€ŒæŸ¥æ‰¾åˆ°çš„æ’å…¥ä½ç½®æ‰€åœ¨çš„ zipList å½“å‰çš„å¤§å°ä¸º  &lt;code&gt;zlBytes&lt;/code&gt; ï¼Œé‚£ä¹ˆå…·ä½“å¯åˆ†ä¸ºä¸‹é¢å‡ ç§æƒ…å†µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æƒ…å†µä¸€ï¼š&lt;font color=&#39;red&#39;&gt;å½“ insertBytes + zlBytes &amp;lt;= list-max-ziplist-size æ—¶&lt;/font&gt;ï¼Œ ç›´æ¥æ’å…¥åˆ° zipList ä¸­ç›¸åº”ä½ç½®å³å¯&lt;/li&gt;
&lt;li&gt;æƒ…å†µäºŒï¼š&lt;font color=&#39;red&#39;&gt;å½“ insertBytes + zlBytes &amp;gt; list-max-ziplist-sizeï¼Œä¸”æ’å…¥çš„ä½ç½®ä½äºè¯¥ zipList çš„é¦–éƒ¨ä½ç½®&lt;/font&gt;ï¼Œæ­¤æ—¶éœ€è¦æŸ¥çœ‹è¯¥ zipList çš„å‰ä¸€ä¸ª zipList çš„å¤§å°  &lt;code&gt;prev_zlBytes&lt;/code&gt; ã€‚
&lt;ul&gt;
&lt;li&gt;è‹¥ insertBytes + prev_zlBytes&amp;lt;= list-max-ziplist-size æ—¶ï¼Œç›´æ¥å°†å…ƒç´ æ’å…¥åˆ°å‰ä¸€ä¸ª zipList çš„å°¾éƒ¨ä½ç½®å³å¯&lt;/li&gt;
&lt;li&gt;è‹¥ insertBytes + prev_zlBytes&amp;gt; list-max-ziplist-size æ—¶ï¼Œç›´æ¥å°†å…ƒç´ è‡ªå·±æ„å»ºä¸ºä¸€ä¸ªæ–°çš„ zipListï¼Œå¹¶è¿å…¥ quickList ä¸­&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æƒ…å†µä¸‰ï¼š&lt;font color=&#39;red&#39;&gt;å½“ insertBytes + zlBytes &amp;gt; list-max-ziplist-sizeï¼Œä¸”æ’å…¥çš„ä½ç½®ä½äºè¯¥ zipList çš„å°¾éƒ¨ä½ç½®&lt;/font&gt;ï¼Œæ­¤æ—¶éœ€è¦æŸ¥çœ‹è¯¥ zipList çš„åä¸€ä¸ª zipList çš„å¤§å°  &lt;code&gt;next_zlBytes&lt;/code&gt; ã€‚
&lt;ul&gt;
&lt;li&gt;è‹¥ insertBytes + next_zlBytes&amp;lt;= list-max-ziplist-size æ—¶ï¼Œç›´æ¥å°†å…ƒç´ æ’å…¥åˆ°åä¸€ä¸ª zipList çš„å¤´éƒ¨ä½ç½®å³å¯&lt;/li&gt;
&lt;li&gt;è‹¥ insertBytes + next_zlBytes&amp;gt; list-max-ziplist-size æ—¶ï¼Œç›´æ¥å°†å…ƒç´ è‡ªå·±æ„å»ºä¸ºä¸€ä¸ªæ–°çš„ zipListï¼Œå¹¶è¿å…¥ quickList ä¸­&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æƒ…å†µå››ï¼š&lt;font color=&#39;red&#39;&gt;å½“ insertBytes + zlBytes &amp;gt; list-max-ziplist-sizeï¼Œä¸”æ’å…¥çš„ä½ç½®ä½äºè¯¥ zipList çš„ä¸­é—´ä½ç½®&lt;/font&gt;ï¼Œåˆ™å°†å½“å‰ zipList åˆ†å‰²ä¸ºä¸¤ä¸ª zipList è¿æ¥å…¥ quickList ä¸­ï¼Œç„¶åå°†å…ƒç´ æ’å…¥åˆ°åˆ†å‰²åçš„å‰é¢ zipList çš„å°¾éƒ¨ä½ç½®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;åˆ é™¤æ“ä½œ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ é™¤æ“ä½œ&#34;&gt;#&lt;/a&gt; åˆ é™¤æ“ä½œ&lt;/h4&gt;
&lt;p&gt;å¯¹äºåˆ é™¤æ“ä½œï¼Œåªéœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œ&lt;font color=&#39;red&#39;&gt;åœ¨ç›¸åº”çš„ zipList ä¸­åˆ é™¤å…ƒç´ åï¼Œå¦‚æœè¯¥ zipList ä¸­æ²¡æœ‰å…¶å®ƒå…ƒç´ äº†ï¼Œåˆ™å°†è¯¥ zipList åˆ é™¤ï¼Œå°†å…¶å‰åä¸¤ä¸ª zipList ç›¸è¿æ¥&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä½¿ç”¨-bitmap-ç»Ÿè®¡æ´»è·ƒç”¨æˆ·&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½¿ç”¨-bitmap-ç»Ÿè®¡æ´»è·ƒç”¨æˆ·&#34;&gt;#&lt;/a&gt; ä½¿ç”¨ Bitmap ç»Ÿè®¡æ´»è·ƒç”¨æˆ·&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;[Bitmap åº”ç”¨](#Bitmap åº”ç”¨)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœæƒ³è¦ä½¿ç”¨ Bitmap ç»Ÿè®¡æ´»è·ƒç”¨æˆ·çš„è¯ï¼Œ&lt;font color=&#39;red&#39;&gt;å¯ä»¥ä½¿ç”¨æ—¥æœŸï¼ˆç²¾ç¡®åˆ°å¤©ï¼‰ä½œä¸º keyï¼Œç„¶åç”¨æˆ· ID ä¸º offsetï¼Œå¦‚æœå½“æ—¥æ´»è·ƒè¿‡å°±è®¾ç½®ä¸º 1&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åˆå§‹åŒ–æ•°æ®ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;figcaption data-lang=&#34;sh&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SETBIT &lt;span class=&#34;token number&#34;&gt;20210308&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SETBIT &lt;span class=&#34;token number&#34;&gt;20210308&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SETBIT &lt;span class=&#34;token number&#34;&gt;20210309&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ç»Ÿè®¡ 20210308~20210309 æ€»æ´»è·ƒç”¨æˆ·æ•°ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; BITOP and desk1 &lt;span class=&#34;token number&#34;&gt;20210308&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;20210309&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; BITCOUNT desk1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ç»Ÿè®¡ 20210308~20210309 åœ¨çº¿æ´»è·ƒç”¨æˆ·æ•°ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; BITOP or desk2 &lt;span class=&#34;token number&#34;&gt;20210308&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;20210309&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; BITCOUNT desk2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;ä½¿ç”¨-hyperloglog-ç»Ÿè®¡é¡µé¢-uvç‹¬ç«‹è®¿å®¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½¿ç”¨-hyperloglog-ç»Ÿè®¡é¡µé¢-uvç‹¬ç«‹è®¿å®¢&#34;&gt;#&lt;/a&gt; ä½¿ç”¨ HyperLogLog ç»Ÿè®¡é¡µé¢ UVï¼ˆç‹¬ç«‹è®¿å®¢ï¼‰&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨ HyperLogLog ç»Ÿè®¡é¡µé¢ UV ä¸»è¦éœ€è¦ç”¨åˆ°ä¸‹é¢è¿™ä¸¤ä¸ªå‘½ä»¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;PFADD key element1 element2 ...&lt;/code&gt; ï¼šæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ åˆ° HyperLogLog ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;PFCOUNT key1 key2&lt;/code&gt; ï¼šè·å–ä¸€ä¸ªæˆ–è€…å¤šä¸ª HyperLogLog çš„å”¯ä¸€è®¡æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;1ã€å°†è®¿é—®æŒ‡å®šé¡µé¢çš„æ¯ä¸ªç”¨æˆ· ID æ·»åŠ åˆ°  &lt;code&gt;HyperLogLog&lt;/code&gt;  ä¸­ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;PFADD PAGE_1:UV USER1 USER2 &lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt; USERn&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;2ã€ç»Ÿè®¡æŒ‡å®šé¡µé¢çš„ UVã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;PFCOUNT PAGE_1:UV&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;redis-æŒä¹…åŒ–æœºåˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-æŒä¹…åŒ–æœºåˆ¶&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸRedis æŒä¹…åŒ–æœºåˆ¶&lt;/mark&gt;&lt;/h1&gt;
&lt;p&gt;Redis ä¸ºä»€ä¹ˆéœ€è¦æŒä¹…åŒ–ï¼ŸRedis æ˜¯ä¸€ä¸ªå†…å­˜æ•°æ®åº“ï¼Œæ‰€ä»¥å…¶è¿è¡Œæ•ˆç‡éå¸¸é«˜ã€‚ä½†ä¹Ÿå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼š&lt;font color=&#39;red&#39;&gt;å†…å­˜ä¸­çš„æ•°æ®æ˜¯ä¸æŒä¹…çš„ï¼Œè‹¥ä¸»æœºå®•æœºæˆ– Redis å…³æœºé‡å¯ï¼Œåˆ™å†…å­˜ä¸­çš„æ•°æ®å…¨éƒ¨ä¸¢å¤±&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†&lt;font color=&#39;red&#39;&gt;é‡ç”¨æ•°æ®ï¼ˆæ¯”å¦‚é‡å¯æœºå™¨ã€æœºå™¨æ•…éšœä¹‹åæ¢å¤æ•°æ®ï¼‰&lt;/font&gt;/&lt;font color=&#39;red&#39;&gt;æ•°æ®åŒæ­¥ï¼ˆæ¯”å¦‚ Redis é›†ç¾¤çš„ä¸»ä»èŠ‚ç‚¹é€šè¿‡ RDB æ–‡ä»¶åŒæ­¥æ•°æ®ï¼‰&lt;/font&gt;ï¼ŒRedis éœ€è¦æŒä¹…åŒ–åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;Redis ä¼šæŒ‰ç…§è®¾ç½®ä»¥&lt;font color=&#39;cornflowerblue&#39;&gt;å¿«ç…§&lt;/font&gt;æˆ–&lt;font color=&#39;cornflowerblue&#39;&gt;æ“ä½œæ—¥å¿—&lt;/font&gt;çš„å½¢å¼å°†æ•°æ®æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œå¯¹åº”ä¸¤ç§æŒä¹…åŒ–æ–¹å¼ï¼šRDB ä¸ AOFã€‚ä½†å®é™…ä¸Šï¼ŒRedis æ”¯æŒ 3 ç§æŒä¹…åŒ–æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;RDB&lt;/font&gt;ï¼ˆ &lt;code&gt;R&lt;/code&gt; edis  &lt;code&gt;D&lt;/code&gt; ata &lt;code&gt;B&lt;/code&gt; aseï¼‰ï¼šå¿«ç…§&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;AOF&lt;/font&gt;ï¼ˆ &lt;code&gt;A&lt;/code&gt; ppend  &lt;code&gt;O&lt;/code&gt; nly  &lt;code&gt;F&lt;/code&gt; ileï¼‰ï¼šåªè¿½åŠ æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;RDB + AOF&lt;/font&gt;ï¼šRDB å’Œ AOF çš„æ··åˆæŒä¹…åŒ– (Redis 4.0 æ–°å¢)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æŒä¹…åŒ–åŸºæœ¬åŸç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æŒä¹…åŒ–åŸºæœ¬åŸç†&#34;&gt;#&lt;/a&gt; æŒä¹…åŒ–åŸºæœ¬åŸç†&lt;/h2&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231207165444513.png&#34; alt=&#34;image-20231207165444513&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Redis æŒä¹…åŒ–ä¹Ÿç§°ä¸º&lt;font color=&#39;red&#39;&gt; &lt;code&gt;é’åŒ–&lt;/code&gt; ï¼Œæ˜¯æŒ‡å°†å†…å­˜ä¸­æ•°æ®åº“çš„çŠ¶æ€æè¿°ä¿¡æ¯ä¿å­˜åˆ°ç£ç›˜ä¸­&lt;/font&gt;ã€‚åªä¸è¿‡ä¸åŒçš„æŒä¹…åŒ–æŠ€æœ¯ï¼Œå¯¹æ•°æ®çš„çŠ¶æ€æè¿°ä¿¡æ¯æ˜¯ä¸åŒçš„ï¼Œç”Ÿæˆçš„æŒä¹…åŒ–æ–‡ä»¶ä¹Ÿæ˜¯ä¸åŒçš„ã€‚ä½†å®ƒä»¬çš„ä½œç”¨éƒ½æ˜¯ç›¸åŒçš„ï¼š&lt;font color=&#39;red&#39;&gt;é¿å…æ•°æ®æ„å¤–ä¸¢å¤±&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡æ‰‹åŠ¨æ–¹å¼ï¼Œæˆ–è‡ªåŠ¨å®šæ—¶æ–¹å¼ï¼Œæˆ–è‡ªåŠ¨æ¡ä»¶è§¦å‘æ–¹å¼ï¼Œå°†å†…å­˜ä¸­æ•°æ®åº“çš„çŠ¶æ€æè¿°ä¿¡æ¯å†™å…¥åˆ°æŒ‡å®šçš„æŒä¹…åŒ–æ–‡ä»¶ä¸­ã€‚&lt;font color=&#39;red&#39;&gt;å½“ç³»ç»Ÿé‡æ–°å¯åŠ¨æ—¶ï¼Œè‡ªåŠ¨åŠ è½½æŒä¹…åŒ–æ–‡ä»¶ï¼Œå¹¶æ ¹æ®æ–‡ä»¶ä¸­æ•° \ æ®åº“çŠ¶æ€æè¿°ä¿¡æ¯å°†æ•°æ®æ¢å¤åˆ°å†…å­˜ä¸­ï¼Œè¿™ä¸ªæ•°æ®æ¢å¤è¿‡ç¨‹ä¹Ÿç§°ä¸º &lt;code&gt;æ¿€æ´»&lt;/code&gt; &lt;/font&gt;ã€‚è¿™ä¸ªé’åŒ–ä¸æ¿€æ´»çš„è¿‡ç¨‹å°±æ˜¯ Redis æŒä¹…åŒ–çš„åŸºæœ¬åŸç†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ä»ä»¥ä¸Šåˆ†æå¯çŸ¥ï¼Œå¯¹äº Redis å•æœºçŠ¶æ€ä¸‹ï¼Œæ— è®ºæ˜¯æ‰‹åŠ¨æ–¹å¼ï¼Œè¿˜æ˜¯å®šæ—¶æ–¹å¼æˆ–æ¡ä»¶è§¦å‘æ–¹å¼ï¼Œéƒ½å­˜åœ¨&lt;font color=&#39;red&#39;&gt; &lt;code&gt;æ•°æ®ä¸¢å¤±é—®é¢˜&lt;/code&gt; ï¼šåœ¨å°šæœªæ‰‹åŠ¨ / è‡ªåŠ¨ä¿å­˜æ—¶å‘ç”Ÿäº† Redis å®•æœºçŠ¶å†µï¼Œé‚£ä¹ˆä»ä¸Šæ¬¡ä¿å­˜åˆ°å®•æœºæœŸé—´äº§ç”Ÿçš„æ•°æ®å°±ä¼šä¸¢å¤±&lt;/font&gt;ã€‚ä¸åŒçš„æŒä¹…åŒ–æ–¹å¼ï¼Œå…¶æ•°æ®çš„ä¸¢å¤±ç‡ä¹Ÿæ˜¯ä¸åŒçš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231207165853136.png&#34; alt=&#34;image-20231207165853136&#34; /&gt;&lt;/p&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;RDB æ˜¯é»˜è®¤æŒä¹…åŒ–æ–¹å¼&lt;/font&gt;&lt;/strong&gt;ã€‚ä½† Redis å…è®¸ RDB ä¸ AOF ä¸¤ç§æŒä¹…åŒ–æŠ€æœ¯åŒæ—¶å¼€å¯ï¼Œæ­¤æ—¶ç³»ç»Ÿä¼šä½¿ç”¨ AOF æ–¹å¼åšæŒä¹…åŒ–ï¼Œå³&lt;font color=&#39;red&#39;&gt; AOF æŒä¹…åŒ–æŠ€æœ¯çš„ä¼˜å…ˆçº§è¦æ›´é«˜&lt;/font&gt;ã€‚åŒæ ·çš„é“ç†ï¼Œä¸¤ç§æŠ€æœ¯åŒæ—¶å¼€å¯çŠ¶æ€ä¸‹ï¼Œç³»ç»Ÿå¯åŠ¨æ—¶è‹¥ä¸¤ç§æŒä¹…åŒ–æ–‡ä»¶åŒæ—¶å­˜åœ¨ï¼Œåˆ™ä¼˜å…ˆåŠ è½½ AOF æŒä¹…åŒ–æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h2 id=&#34;rdb-æŒä¹…åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rdb-æŒä¹…åŒ–&#34;&gt;#&lt;/a&gt; RDB æŒä¹…åŒ–&lt;/h2&gt;
&lt;h3 id=&#34;rdb-ç®€ä»‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rdb-ç®€ä»‹&#34;&gt;#&lt;/a&gt; RDB ç®€ä»‹&lt;/h3&gt;
&lt;p&gt;RDBï¼ˆRedis DataBaseï¼‰å°†å†…å­˜ä¸­æŸä¸€æ—¶åˆ»çš„æ•°æ®ä»¥ **&lt;font color=&#39;red&#39;&gt;å…¨é‡å¿«ç…§&lt;/font&gt;** çš„å½¢å¼å†™å…¥ç£ç›˜ä¸­çš„&lt;font color=&#39;red&#39;&gt; rdb æ–‡ä»¶&lt;/font&gt;ã€‚RDB æŒä¹…åŒ–é»˜è®¤æ˜¯å¼€å¯çš„ã€‚å½“ Redis å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨è¯»å– rdb å¿«ç…§æ–‡ä»¶ï¼Œå°†æ•°æ®ä»ç¡¬ç›˜è½½å…¥åˆ°å†…å­˜ï¼Œä»¥æ¢å¤ Redis å…³æœºå‰çš„æ•°æ®åº“çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806005245328.png&#34; alt=&#34;image-20230806005245328&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;rdb-å¿«ç…§çš„è§¦å‘æ–¹å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rdb-å¿«ç…§çš„è§¦å‘æ–¹å¼&#34;&gt;#&lt;/a&gt; RDB å¿«ç…§çš„è§¦å‘æ–¹å¼&lt;/h3&gt;
&lt;h4 id=&#34;æ‰‹åŠ¨-save-å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ‰‹åŠ¨-save-å‘½ä»¤&#34;&gt;#&lt;/a&gt; æ‰‹åŠ¨ save å‘½ä»¤&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;çº¿ä¸Šä¸¥ç¦ä½¿ç”¨ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é€šè¿‡åœ¨ redis-cli å®¢æˆ·ç«¯ä¸­æ‰‹åŠ¨æ‰§è¡Œ save å‘½ä»¤ï¼Œå¯ç«‹å³è®© Redis ä¿å­˜ä¸€æ¬¡æ•°æ®åº“çš„å¿«ç…§ã€‚&lt;font color=&#39;red&#39;&gt;ä½†æ˜¯ï¼Œsave å‘½ä»¤åœ¨æ‰§è¡ŒæœŸé—´&lt;strong&gt;ä¼šé˜»å¡&lt;/strong&gt; redis-server è¿›ç¨‹ï¼Œå¯¼è‡´ Redis ä¸èƒ½å¤„ç†ä»»ä½•è¯»å†™è¯·æ±‚ï¼Œæ— æ³•å¯¹å¤–æä¾›ç¼“å­˜æœåŠ¡ï¼Œç›´è‡³æŒä¹…åŒ–è¿‡ç¨‹å®Œæ¯•&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806123508579.png&#34; alt=&#34;image-20230806123508579&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;æ‰‹åŠ¨-bgsave-å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ‰‹åŠ¨-bgsave-å‘½ä»¤&#34;&gt;#&lt;/a&gt; æ‰‹åŠ¨ bgsave å‘½ä»¤&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;é»˜è®¤ä½¿ç”¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é€šè¿‡åœ¨ redis-cli å®¢æˆ·ç«¯ä¸­æ‰§è¡Œ bgsave å‘½ä»¤ï¼Œå¯ç«‹å³è®© Redis ä¿å­˜ä¸€æ¬¡æ•°æ®åº“çš„å¿«ç…§ã€‚ä¸åŒäº save å‘½ä»¤çš„æ˜¯ï¼Œæ­£å¦‚è¯¥å‘½ä»¤çš„åç§°ä¸€æ ·ï¼Œbackground saveï¼Œåå°è¿è¡Œ saveã€‚&lt;font color=&#39;red&#39;&gt;bgsave å‘½ä»¤ä¼šä½¿æœåŠ¡å™¨è¿›ç¨‹ redis-server é€šè¿‡ fork () ç”Ÿæˆä¸€ä¸ªå­è¿›ç¨‹ï¼Œç”±è¯¥å­è¿›ç¨‹è´Ÿè´£å®Œæˆä¿å­˜è¿‡ç¨‹ï¼Œ&lt;strong&gt;ä¸ä¼šé˜»å¡&lt;/strong&gt; redis-server è¿›ç¨‹å¯¹å®¢æˆ·ç«¯è¯»å†™è¯·æ±‚çš„å¤„ç†&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806145215893.png&#34; alt=&#34;image-20230806145215893&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;è‡ªåŠ¨æ¡ä»¶è§¦å‘&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è‡ªåŠ¨æ¡ä»¶è§¦å‘&#34;&gt;#&lt;/a&gt; è‡ªåŠ¨æ¡ä»¶è§¦å‘&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬è´¨ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å®šæ—¶è‡ªåŠ¨æ‰§è¡Œ bgsave å‘½ä»¤&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç”¨æˆ·å¯ä¿®æ”¹é…ç½®æ–‡ä»¶  &lt;code&gt;redis.conf&lt;/code&gt;  ä¸­ SNAPSHOTTING çš„ save å‚æ•°ï¼Œä»è€Œè®¾ç½®è‡ªåŠ¨è§¦å‘å¿«ç…§çš„æ—¶é—´é—´éš”ã€‚æ¯”å¦‚  &lt;code&gt;save m n&lt;/code&gt;  è¡¨ç¤ºæ¯éš” m ç§’æ£€æµ‹ä¸€æ¬¡æ•°æ®é›†ï¼Œå¦‚æœæ£€æµ‹å‡ºè¶…è¿‡ n æ¬¡å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨è§¦å‘ RDB æŒä¹…åŒ–æ¡ä»¶ï¼Œæ‰§è¡Œå¿«ç…§ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ï¼Œè¿™é‡Œè¯´çš„æ˜¯&lt;strong&gt;æ¯éš” m ç§’æ£€æµ‹ä¸€æ¬¡ï¼Œ&lt;font color=&#39;red&#39;&gt;å¯¹å˜åŒ–çš„è®¡æ•°æ˜¯ç´¯åŠ çš„&lt;/font&gt;ï¼Œåªè¦åœ¨æŸæ¬¡æ£€æµ‹ä¸­å‘ç°å˜åŒ–æ•°ç´¯åŠ å€¼è¾¾åˆ° n æ¬¡ï¼Œå°±ä¼šè§¦å‘ RDB æŒä¹…åŒ–ã€‚&lt;font color=&#39;red&#39;&gt;è€Œä¸æ˜¯è¦æ±‚ n æ¬¡å˜åŒ–éƒ½é›†ä¸­å‘ç”Ÿåœ¨æŸä¸ª m ç§’å†…ï¼&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;Redis 6.0.16 åŠä¹‹å‰&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;save 900 1ï¼šæ¯éš” 900s (15min) æ£€æµ‹ä¸€æ¬¡ï¼Œå¦‚æœæœ‰è¶…è¿‡ 1 ä¸ª key å‘ç”Ÿäº†å˜åŒ–ï¼Œå°±å†™ä¸€ä»½æ–°çš„ RDB æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;save 300 10ï¼šæ¯éš” 300s (5min) æ£€æµ‹ä¸€æ¬¡ï¼Œå¦‚æœæœ‰è¶…è¿‡ 10 ä¸ª key å‘ç”Ÿäº†å˜åŒ–ï¼Œå°±å†™ä¸€ä»½æ–°çš„ RDB æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;save 60 10000ï¼šæ¯éš” 60s (1min) æ£€æµ‹ä¸€æ¬¡ï¼Œå¦‚æœæœ‰è¶…è¿‡ 10000 ä¸ª key å‘ç”Ÿäº†å˜åŒ–ï¼Œå°±å†™ä¸€ä»½æ–°çš„ RDB æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806010837837.png&#34; alt=&#34;image-20230806010837837&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;Redis 6.0.16 ä»¥åè‡³ä»Š&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯éš” 3600sï¼ˆ1hourï¼‰æ£€æµ‹ä¸€æ¬¡ï¼Œå¦‚æœæœ‰è¶…è¿‡ 1 å¤„å˜åŒ–ï¼Œå°±å†™ä¸€ä»½æ–°çš„ RDB æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;æ¯éš” 300sï¼ˆ5minï¼‰æ£€æµ‹ä¸€æ¬¡ï¼Œå¦‚æœæœ‰è¶…è¿‡ 100 å¤„å˜åŒ–ï¼Œå°±å†™ä¸€ä»½æ–°çš„ RDB æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;æ¯éš” 60sï¼ˆ1minï¼‰æ£€æµ‹ä¸€æ¬¡ï¼Œå¦‚æœæœ‰è¶…è¿‡ 10000 å¤„å˜åŒ–ï¼Œå°±å†™ä¸€ä»½æ–°çš„ RDB æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806010819707.png&#34; alt=&#34;image-20230806010819707&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;rdb-æŒä¹…åŒ–è¿‡ç¨‹å·¥ä½œæœºåˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rdb-æŒä¹…åŒ–è¿‡ç¨‹å·¥ä½œæœºåˆ¶&#34;&gt;#&lt;/a&gt; RDB æŒä¹…åŒ–è¿‡ç¨‹ï¼ˆå·¥ä½œæœºåˆ¶ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806145215893.png&#34; alt=&#34;image-20230806145215893&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Redis è¿›è¡Œ bgsave æŒä¹…åŒ–æ—¶ï¼ŒæœåŠ¡å™¨è¿›ç¨‹ redis-server ä¼šæ‰§è¡Œä»¥ä¸‹æ“ä½œ:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœåŠ¡å™¨è¿›ç¨‹ï¼ˆçˆ¶è¿›ç¨‹ï¼‰è°ƒç”¨ &lt;font color=&#39;red&#39;&gt;forks&lt;/font&gt; ç”Ÿæˆä¸€ä¸ª bgsave å­è¿›ç¨‹&lt;/li&gt;
&lt;li&gt;bgsave å­è¿›ç¨‹è°ƒç”¨ &lt;font color=&#39;red&#39;&gt;dump&lt;/font&gt; å°†å†…å­˜æ•°æ®å†™å…¥åˆ°ä¸€ä¸ª RDB ä¸´æ—¶æ–‡ä»¶ä¸­&lt;/li&gt;
&lt;li&gt;æ–° RDB æ–‡ä»¶&lt;font color=&#39;red&#39;&gt;è¦†ç›–&lt;/font&gt;åŸæ¥çš„ RDB æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;bgsave å­è¿›ç¨‹ä»¥ **&lt;font color=&#39;red&#39;&gt;å¼‚æ­¥æ–¹å¼&lt;/font&gt;** å®ŒæˆæŒä¹…åŒ–ï¼Œè¯¥è¿‡ç¨‹&lt;font color=&#39;red&#39;&gt;ä¸ä¼šé˜»å¡ redis-server è¿›ç¨‹&lt;/font&gt;ï¼ŒRedis å¯ä»¥ç»§ç»­æ¥æ”¶å¹¶å¤„ç†ç”¨æˆ·çš„è¯»å†™è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/Redis%E5%86%99%E6%97%B6%E5%A4%8D%E5%88%B6.png&#34; alt=&#34;Rediså†™æ—¶å¤åˆ¶&#34; /&gt;&lt;/p&gt;
&lt;center&gt;Rediså†™æ—¶å¤åˆ¶&lt;/center&gt;
&lt;p&gt;å…¶ä¸­ï¼Œbgsave å­è¿›ç¨‹çš„è¯¦ç»†å·¥ä½œåŸç†å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231207202547716.png&#34; alt=&#34;image-20231207202547716&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç”±äºå­è¿›ç¨‹å¯ä»¥ç»§æ‰¿çˆ¶è¿›ç¨‹çš„æ‰€æœ‰èµ„æºï¼Œä¸”çˆ¶è¿›ç¨‹ä¸èƒ½æ‹’ç»å­è¿›ç¨‹çš„ç»§æ‰¿æƒã€‚æ‰€ä»¥ï¼Œbgsave å­è¿›ç¨‹æœ‰æƒè¯»å–åˆ° redis-server è¿›ç¨‹å†™å…¥åˆ°å†…å­˜ä¸­çš„ç”¨æˆ·æ•°æ®ï¼Œä½¿å¾—å°†å†…å­˜æ•°æ®æŒä¹…åŒ–åˆ° dump.rdb æˆä¸ºå¯èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;bgsave å­è¿›ç¨‹åœ¨æŒä¹…åŒ–æ—¶é¦–å…ˆä¼šå°†å†…å­˜ä¸­çš„å…¨é‡æ•°æ® &lt;font color=&#39;red&#39;&gt;copy&lt;/font&gt; åˆ°ç£ç›˜ä¸­çš„ä¸€ä¸ª RDB ä¸´æ—¶æ–‡ä»¶ï¼Œcopy ç»“æŸåï¼Œå†å°†è¯¥æ–‡ä»¶ &lt;font color=&#39;red&#39;&gt;rename&lt;/font&gt; ä¸º dump.rdbï¼Œæ›¿æ¢æ‰åŸæ¥çš„åŒåæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œåœ¨è¿›è¡ŒæŒä¹…åŒ–è¿‡ç¨‹ä¸­ï¼Œå¦‚æœ redis-server è¿›ç¨‹æ¥æ”¶åˆ°äº†ç”¨æˆ·å†™è¯·æ±‚ï¼Œåˆ™ç³»ç»Ÿä¼šå°†å†…å­˜ä¸­å‘ç”Ÿæ•°æ®ä¿®æ”¹çš„ç‰©ç†å— copy å‡ºä¸€ä¸ªå‰¯æœ¬ã€‚ç­‰å†…å­˜ä¸­çš„å…¨é‡æ•°æ® copy ç»“æŸåï¼Œä¼šå†å°†å‰¯æœ¬ä¸­çš„æ•°æ® copy åˆ° RDB ä¸´æ—¶æ–‡ä»¶ã€‚è¿™ä¸ªå‰¯æœ¬çš„ç”Ÿæˆæ˜¯ç”±äº Linux ç³»ç»Ÿçš„&lt;font color=&#39;red&#39;&gt;&lt;strong&gt;å†™æ—¶å¤åˆ¶æŠ€æœ¯&lt;/strong&gt;ï¼ˆ &lt;code&gt;Copy-On-Write&lt;/code&gt; ï¼‰&lt;/font&gt;å®ç°çš„ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;copy-on-write æ˜¯ Linux ç³»ç»Ÿçš„ä¸€ç§è¿›ç¨‹ç®¡ç†æŠ€æœ¯ã€‚&lt;/p&gt;
&lt;p&gt;åŸæœ¬åœ¨ Unix ç³»ç»Ÿä¸­ï¼Œå½“ä¸€ä¸ªä¸»è¿›ç¨‹é€šè¿‡ fork () ç³»ç»Ÿè°ƒç”¨åˆ›å»ºå­è¿›ç¨‹åï¼Œå†…æ ¸è¿›ç¨‹ä¼š&lt;font color=&#39;red&#39;&gt;å¤åˆ¶ä¸»è¿›ç¨‹çš„æ•´ä¸ªå†…å­˜ç©ºé—´ä¸­çš„æ•°æ®ï¼Œå¹¶å°†å…¶åˆ†é…ç»™å­è¿›ç¨‹&lt;/font&gt;ã€‚è¿™ç§æ–¹å¼å­˜åœ¨çš„é—®é¢˜æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿™ä¸ªè¿‡ç¨‹éå¸¸è€—æ—¶&lt;/li&gt;
&lt;li&gt;è¿™ä¸ªè¿‡ç¨‹é™ä½äº†ç³»ç»Ÿæ€§èƒ½&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸»è¿›ç¨‹ä¿®æ”¹äº†å…¶å†…å­˜æ•°æ®ï¼Œå­è¿›ç¨‹å‰¯æœ¬ä¸­çš„æ•°æ®æ˜¯æ²¡æœ‰ä¿®æ”¹çš„ã€‚å³å‡ºç°äº†æ•°æ®å†—ä½™ï¼Œè€Œå†—ä½™æ•°æ®æœ€å¤§çš„é—®é¢˜æ˜¯&lt;font color=&#39;red&#39;&gt;æ•°æ®ä¸€è‡´æ€§&lt;/font&gt;æ— æ³•ä¿è¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç°ä»£çš„ Linux åˆ™é‡‡ç”¨äº†æ›´ä¸ºæœ‰æ•ˆçš„æ–¹å¼ï¼š&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;å†™æ—¶å¤åˆ¶&lt;/font&gt;&lt;/strong&gt;ã€‚å­è¿›ç¨‹ä¼šç»§æ‰¿çˆ¶è¿›ç¨‹çš„æ‰€æœ‰èµ„æºï¼Œå…¶ä¸­å°±åŒ…æ‹¬ä¸»è¿›ç¨‹çš„å†…å­˜ç©ºé—´ã€‚å³&lt;font color=&#39;red&#39;&gt;å­è¿›ç¨‹ä¸çˆ¶è¿›ç¨‹å…±äº«å†…å­˜&lt;/font&gt;ã€‚åªè¦å†…å­˜è¢«å…±äº«ï¼Œé‚£ä¹ˆè¯¥å†…å­˜å°±æ˜¯åªè¯»çš„ï¼ˆå†™ä¿æŠ¤çš„ï¼‰ã€‚è€Œ **&lt;font color=&#39;red&#39;&gt;å†™æ—¶å¤åˆ¶åˆ™æ˜¯åœ¨ä»»ä½•ä¸€æ–¹éœ€è¦å†™å…¥æ•°æ®åˆ°å…±äº«å†…å­˜æ—¶ï¼Œéƒ½ä¼šå‡ºç°å¼‚å¸¸ï¼Œæ­¤æ—¶å†…æ ¸è¿›ç¨‹å°±ä¼šå°†éœ€è¦å†™å…¥çš„æ•°æ® copy å‡ºä¸€ä¸ªå‰¯æœ¬ï¼Œå†™å…¥åˆ°å¦å¤–ä¸€å—éå…±äº«å†…å­˜åŒºåŸŸ&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;rdb-é…ç½®é¡¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rdb-é…ç½®é¡¹&#34;&gt;#&lt;/a&gt; RDB é…ç½®é¡¹&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;RDB ç›¸å…³çš„é…ç½®åœ¨é…ç½®æ–‡ä»¶  &lt;code&gt;redis.conf&lt;/code&gt;  ä¸­çš„ SNAPSHOTTING éƒ¨åˆ†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;é…ç½®å‚æ•°&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;th&gt;ç¤ºä¾‹&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;save&lt;/code&gt;  &amp;lt;seconds&amp;gt; &amp;lt;changes&amp;gt;&lt;/td&gt;
&lt;td&gt;è®¾ç½®å¿«ç…§è‡ªåŠ¨è§¦å‘çš„æ¡ä»¶ï¼ˆ&lt;font color=&#39;red&#39;&gt;æ—¶é—´é—´éš”ã€å˜åŒ–æ•°&lt;/font&gt;ï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹æŒä¹…åŒ–æ¡ä»¶ä¸º save 3600 1 300 100 60 10000&lt;/td&gt;
&lt;td&gt;&lt;code&gt;save m n&lt;/code&gt;  è¡¨ç¤ºæ¯éš” m ç§’æ£€æµ‹ä¸€æ¬¡æ•°æ®é›†ï¼Œå¦‚æœæ£€æµ‹å‡ºè¶…è¿‡ n æ¬¡å˜åŒ–ï¼ˆç´¯ç§¯ï¼‰æ—¶ï¼Œè‡ªåŠ¨è§¦å‘ RDB æŒä¹…åŒ–æ¡ä»¶ï¼Œæ‰§è¡Œå¿«ç…§ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;dbfilename&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è®¾ç½® rdb æ–‡ä»¶çš„åç§°ï¼Œé»˜è®¤ä¸º dump.rdb&lt;/td&gt;
&lt;td&gt;dbfilename dump.rdb&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;dir&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è®¾ç½® rdb æ–‡ä»¶çš„ä¿å­˜è·¯å¾„ï¼Œé»˜è®¤ä¸º Redis å®‰è£…æ ¹ç›®å½•&lt;/td&gt;
&lt;td&gt;dir ./&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;stop-write-on-bgsave-error&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å½“å­è¿›ç¨‹æ‰§è¡Œå¿«ç…§ä¿å­˜å‡ºç°é”™è¯¯æ—¶ï¼Œ&lt;font color=&#39;red&#39;&gt;æ˜¯å¦è®©ä¸»è¿›ç¨‹åœæ­¢æ¥æ”¶æ–°çš„å†™è¯·æ±‚&lt;/font&gt;ï¼Œé»˜è®¤ä¸º yes&lt;/td&gt;
&lt;td&gt;stop-write-on-bgsave-error yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;rdbcompression&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å¯¹äºå­˜å‚¨åˆ°ç£ç›˜ä¸­çš„å¿«ç…§ï¼Œ&lt;font color=&#39;red&#39;&gt;æ˜¯å¦é‡‡ç”¨ LZF ç®—æ³•å¯¹å­—ç¬¦ä¸²å¯¹è±¡è¿›è¡Œå‹ç¼©&lt;/font&gt;ï¼Œé»˜è®¤ä¸º yesã€‚å¯å¤§å¹…é™ä½æ–‡ä»¶çš„å¤§å°ï¼Œæ–¹ä¾¿ä¿å­˜åˆ°ç£ç›˜ï¼ŒåŠ é€Ÿä¸»ä»é›†ç¾¤ä¸­ä»èŠ‚ç‚¹çš„æ•°æ®åŒæ­¥ã€‚&lt;/td&gt;
&lt;td&gt;rdbcompression yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;rdbchecksum&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;æ˜¯å¦é‡‡ç”¨ CRC64 ç®—æ³•å¯¹å¿«ç…§æ–‡ä»¶è¿›è¡Œæ•°æ®æ ¡éªŒ&lt;/font&gt;ï¼Œé»˜è®¤ä¸º yes&lt;/td&gt;
&lt;td&gt;rdbchecksum yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;sanitize-dump-payload&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è®¾ç½®åœ¨åŠ è½½ RDB æ–‡ä»¶æˆ–è¿›è¡ŒæŒä¹…åŒ–æ—¶&lt;font color=&#39;red&#39;&gt;æ˜¯å¦å¼€å¯å¯¹ zipListã€ listPack ç­‰æ•°æ®çš„å…¨é¢å®‰å…¨æ£€æµ‹&lt;/font&gt;ï¼Œè¯¥æ£€æµ‹å¯ä»¥é™ä½å‘½ä»¤å¤„ç†æ—¶å‘ç”Ÿç³»ç»Ÿå´©æºƒçš„å¯èƒ½ï¼Œé»˜è®¤ä¸º no&lt;/td&gt;
&lt;td&gt;sanitize-dump-payload clients è¡¨ç¤ºåªæœ‰å½“å®¢æˆ·ç«¯è¿æ¥æ—¶æ£€æµ‹ï¼Œæ’é™¤äº†åŠ è½½ RDB æ–‡ä»¶ä¸è¿›è¡ŒæŒä¹…åŒ–æ—¶çš„æ£€æµ‹ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;rdb-del-sync-files&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;ä¸»ä»å¤åˆ¶æ—¶ï¼Œæ˜¯å¦åˆ é™¤ç”¨äºåŒæ­¥çš„ä»æœºä¸Šçš„ RDB æ–‡ä»¶&lt;/font&gt;ã€‚é»˜è®¤æ˜¯ noï¼Œä¸åˆ é™¤ã€‚ä¸è¿‡éœ€è¦æ³¨æ„ï¼Œåªæœ‰å½“ä»æœºçš„ RDB å’Œ AOF æŒä¹…åŒ–åŠŸèƒ½éƒ½æœªå¼€å¯æ—¶æ‰ç”Ÿæ•ˆã€‚&lt;/td&gt;
&lt;td&gt;rdb-del-sync-files no&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;rdb-æ–‡ä»¶ç»“æ„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rdb-æ–‡ä»¶ç»“æ„&#34;&gt;#&lt;/a&gt; RDB æ–‡ä»¶ç»“æ„&lt;/h3&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231207205049480.png&#34; alt=&#34;image-20231207205049480&#34; /&gt;&lt;/p&gt;
&lt;p&gt;RDB æŒä¹…åŒ–æ–‡ä»¶ dump.rdb ç”±äº”éƒ¨åˆ†æ„æˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;SOFï¼ˆæ–‡ä»¶å¼€å§‹æ ‡è¯†ï¼‰&lt;/font&gt;ï¼šæ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 5 çš„å­—ç¬¦ä¸²å¸¸é‡ &amp;quot;REDIS&amp;quot;ï¼Œæ ‡è¯† RDB æ–‡ä»¶çš„å¼€å§‹ï¼Œä»¥ä¾¿åœ¨åŠ è½½ RDB æ–‡ä»¶æ—¶å¯ä»¥è¿…é€Ÿåˆ¤æ–­å‡ºæ–‡ä»¶æ˜¯å¦æ˜¯ RDB æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;rdb_versionï¼ˆæ–‡ä»¶ç‰ˆæœ¬å·ï¼‰&lt;/font&gt;ï¼šæ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 4 å­—èŠ‚çš„æ•´æ•°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;EOFï¼ˆæ–‡ä»¶ç»“æŸæ ‡è¯†ï¼‰&lt;/font&gt;ï¼šé•¿åº¦ä¸º 1 å­—èŠ‚çš„å¸¸é‡ï¼Œç”¨äºæ ‡è¯† RDB æ•°æ®çš„ç»“æŸï¼Œæ ¡éªŒå’Œçš„å¼€å§‹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;check_sumï¼ˆæ ¡éªŒå’Œï¼‰&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;ç”¨äºåˆ¤æ–­ RDB æ–‡ä»¶ä¸­æ˜¯å¦å‡ºç°æ•°æ®å¼‚å¸¸&lt;/font&gt;ï¼Œé‡‡ç”¨çš„æ˜¯ &lt;font color=&#39;red&#39;&gt;CRC æ ¡éªŒç®—æ³•&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;CRC æ ¡éªŒç®—æ³•ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨æŒä¹…åŒ–æ—¶ï¼Œå…ˆå°† SOFã€rdb_version åŠå†…å­˜æ•°æ®åº“ä¸­çš„æ•°æ®å¿«ç…§è¿™ä¸‰è€…çš„äºŒè¿›åˆ¶æ•°æ®æ‹¼æ¥èµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªäºŒè¿›åˆ¶æ•°ï¼ˆå‡è®¾ç§°ä¸ºæ•° aï¼‰ï¼Œç„¶åå†ä½¿ç”¨è¿™ä¸ª a é™¤ä»¥æ ¡éªŒå’Œ check_sumï¼Œæ­¤æ—¶å¯è·å–åˆ°ä¸€ä¸ªä½™æ•° bï¼Œç„¶åå†å°†è¿™ä¸ª b æ‹¼æ¥åˆ° a çš„åé¢ï¼Œå½¢æˆ databasesã€‚&lt;/p&gt;
&lt;p&gt;åœ¨åŠ è½½æ—¶ï¼Œéœ€è¦å…ˆä½¿ç”¨ check_sum å¯¹ RDB æ–‡ä»¶è¿›è¡Œæ•°æ®æŸåéªŒè¯ã€‚éªŒè¯è¿‡ç¨‹ï¼šåªéœ€å°† RDB æ–‡ä»¶ä¸­é™¤ EOF ä¸ check_sum å¤–çš„æ•°æ®é™¤ä»¥ check_sumã€‚åªè¦é™¤å¾—çš„ä½™æ•°ä¸æ˜¯ 0ï¼Œå°±è¯´æ˜æ–‡ä»¶å‘ç”ŸæŸåã€‚å½“ç„¶ï¼Œå¦‚æœä½™æ•°æ˜¯ 0ï¼Œä¹Ÿä¸èƒ½è‚¯å®šæ–‡ä»¶æ²¡æœ‰æŸåã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;è¿™ç§éªŒè¯ç®—æ³•ï¼Œæ˜¯æ•°æ®æŸåæ ¡éªŒï¼Œè€Œä¸æ˜¯æ•°æ®æ²¡æœ‰æŸåçš„æ ¡éªŒ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;databasesï¼ˆæ•°æ®åº“ï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šå¯ä»¥åŒ…å«ä»»æ„å¤šä¸ªéç©ºæ•°æ®åº“ databaseï¼Œæ¯ä¸ª database åˆç”±ä¸‰éƒ¨åˆ†æ„æˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;blue&#39;&gt;SODBï¼ˆæ•°æ®åº“å¼€å§‹æ ‡è¯†ï¼‰&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;blue&#39;&gt;db_numberï¼ˆæ•°æ®åº“ç¼–å·ï¼‰&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;blue&#39;&gt;key_value_pairsï¼ˆé”®å€¼å¯¹æ•°æ®ï¼‰&lt;/font&gt;ï¼šæ¯ä¸ªé”®å€¼å¯¹åˆç”±å¤šä¸ªæè¿°æ•°æ®æ„æˆï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231207211310010.png&#34; alt=&#34;image-20231207211310010&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;VALUE_TYPE&lt;/li&gt;
&lt;li&gt;EXPIRETIME_UNITï¼ˆè¿‡æœŸæ—¶é—´çš„å•ä½ï¼‰&lt;/li&gt;
&lt;li&gt;timeï¼ˆå½“å‰é”®å€¼å¯¹çš„è¿‡æœŸæ—¶é—´ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;rdb-ä¼˜ç¼ºç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rdb-ä¼˜ç¼ºç‚¹&#34;&gt;#&lt;/a&gt; RDB ä¼˜ç¼ºç‚¹&lt;/h3&gt;
&lt;p&gt;RDB æŒä¹…åŒ–çš„ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€‚åˆ&lt;font color=&#39;red&#39;&gt;å¤§è§„æ¨¡&lt;/font&gt;çš„æ•°æ®æ¢å¤&lt;/li&gt;
&lt;li&gt;æŒ‰ç…§ä¸šåŠ¡ï¼Œ&lt;font color=&#39;red&#39;&gt;å®šæ—¶å¤‡ä»½&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;å¯¹æ•°æ®å®Œæ•´æ€§å’Œä¸€è‡´æ€§è¦æ±‚ä¸é«˜&lt;/li&gt;
&lt;li&gt;dump.rdb æ–‡ä»¶åœ¨å†…å­˜ä¸­çš„&lt;font color=&#39;red&#39;&gt;åŠ è½½é€Ÿåº¦&lt;/font&gt;è¦æ¯” AOF å¿«å¾—å¤š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;RDB æŒä¹…åŒ–çš„ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€å®šé—´éš”æ—¶é—´åšä¸€æ¬¡å¤‡ä»½ï¼Œæ‰€ä»¥å¦‚æœ Redis æ„å¤– down æ‰çš„è¯ï¼Œå°±ä¼šä¸¢å¤±ä»å½“å‰è‡³æœ€è¿‘ä¸€æ¬¡å¿«ç…§æœŸé—´çš„æ•°æ®ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¿«ç…§ä¹‹é—´çš„æ•°æ®ä¼šä¸¢å¤±&lt;/font&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å†…å­˜æ•°æ®çš„å…¨é‡åŒæ­¥ï¼Œå¦‚æœæ•°æ®é‡å¤ªå¤§ä¼šå¯¼è‡´&lt;font color=&#39;red&#39;&gt; I/O ä¸¥é‡å½±å“æœåŠ¡å™¨æ€§èƒ½&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;RDB ä¾èµ–äºä¸»è¿›ç¨‹çš„ forkï¼Œåœ¨æ›´å¤§çš„æ•°æ®é›†ä¸­ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´&lt;font color=&#39;red&#39;&gt;æœåŠ¡è¯·æ±‚çš„ç¬é—´å»¶è¿Ÿ&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;fork çš„æ—¶å€™å†…å­˜ä¸­çš„æ•°æ®è¢«å…‹é™äº†ä¸€ä»½ï¼Œ&lt;font color=&#39;red&#39;&gt;å¤§è‡´ 2 å€çš„æ•°æ®è†¨èƒ€æ€§&lt;/font&gt;ï¼Œéœ€è¦è€ƒè™‘&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å¦‚ä½•ç¦ç”¨-rdb&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•ç¦ç”¨-rdb&#34;&gt;#&lt;/a&gt; å¦‚ä½•ç¦ç”¨ RDB&lt;/h3&gt;
&lt;p&gt;å°†é…ç½®æ–‡ä»¶ä¸­çš„ save å‚æ•°è®¾ç½®ä¸ºç©ºä¸² &amp;quot;&amp;quot;ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å‘½ä»¤ï¼š &lt;code&gt;res-cli config set save &amp;quot;&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806152126685.png&#34; alt=&#34;image-20230806152126685&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å¦‚ä½•æ¢å¤-rdb-æ–‡ä»¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•æ¢å¤-rdb-æ–‡ä»¶&#34;&gt;#&lt;/a&gt; å¦‚ä½•æ¢å¤ RDB æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;å½“ dump.rdb æ–‡ä»¶ç ´æŸæ—¶å¯ä»¥ä½¿ç”¨  &lt;code&gt;redis-check-rdb&lt;/code&gt;  å‘½ä»¤è¿›è¡Œä¿®å¤ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806151515656.png&#34; alt=&#34;image-20230806151515656&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;rdb-å°ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rdb-å°ç»“&#34;&gt;#&lt;/a&gt; RDB å°ç»“&lt;/h3&gt;
&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806153628002.png&#34; alt=&#34;image-20230806153628002&#34;  /&gt;
&lt;h2 id=&#34;aof-æŒä¹…åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aof-æŒä¹…åŒ–&#34;&gt;#&lt;/a&gt; AOF æŒä¹…åŒ–&lt;/h2&gt;
&lt;h3 id=&#34;aof-ç®€ä»‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aof-ç®€ä»‹&#34;&gt;#&lt;/a&gt; AOF ç®€ä»‹&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;åŠ¨æœºï¼šå¯¹äº RDB æŒä¹…åŒ–çš„å¿«ç…§ï¼Œå¦‚æœ Redis å› ä¸ºæŸäº›åŸå› è€Œé€ æˆæ•…éšœåœæœºï¼Œé‚£ä¹ˆæœåŠ¡å™¨&lt;font color=&#39;red&#39;&gt;å°†ä¸¢å¤±æœ€è¿‘å†™å…¥ã€ä½†ä»æœªä¿å­˜åˆ°å¿«ç…§ä¸­çš„é‚£äº›æ•°æ®&lt;/font&gt;ã€‚å› æ­¤ï¼ŒRedis å¢åŠ äº†ä¸€ç§ **&lt;font color=&#39;red&#39;&gt;å®Œå…¨è€ä¹…ã€å®æ—¶æ€§æ›´å¥½&lt;/font&gt;** çš„æŒä¹…åŒ–æ–¹å¼ï¼šAOF æŒä¹…åŒ–ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;AOFï¼ˆ &lt;code&gt;A&lt;/code&gt; ppend  &lt;code&gt;O&lt;/code&gt; nly  &lt;code&gt;F&lt;/code&gt; ileï¼‰&lt;font color=&#39;red&#39;&gt;ä»¥&lt;strong&gt;æ—¥å¿—æ–‡ä»¶&lt;/strong&gt;ï¼ˆ &lt;code&gt;appendonly.aof&lt;/code&gt;  æ–‡ä»¶ï¼‰çš„å½¢å¼æ¥&lt;strong&gt;è¿½åŠ &lt;/strong&gt;è®°å½• Redis æ‰§è¡Œè¿‡çš„æ¯ä¸ª&lt;strong&gt;å†™æ“ä½œæŒ‡ä»¤&lt;/strong&gt;&lt;/font&gt;ã€‚Redis é‡å¯æ—¶å°±æ ¹æ®æ—¥å¿—æ–‡ä»¶çš„å†…å®¹å°†å†™æŒ‡ä»¤ä»å‰åˆ°åé‡æ–°æ‰§è¡Œä¸€æ¬¡ï¼Œä»¥å®Œæˆæ•°æ®çš„æ¢å¤å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;Redis 6.0 ä¹‹å‰é»˜è®¤å…³é—­ AOFï¼ŒRedis 6.0 ä¹‹åé»˜è®¤å¼€å¯ AOF&lt;/font&gt;ã€‚å¼€å¯ AOF åŠŸèƒ½éœ€è¦åœ¨é…ç½®æ–‡ä»¶  &lt;code&gt;redis.conf&lt;/code&gt;  ä¸­è®¾ç½®é…ç½®:  &lt;code&gt;appendonly yes&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;h3 id=&#34;aof-æ–‡ä»¶æ ¼å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aof-æ–‡ä»¶æ ¼å¼&#34;&gt;#&lt;/a&gt; AOF æ–‡ä»¶æ ¼å¼&lt;/h3&gt;
&lt;p&gt;ä» Redis 7 å¼€å§‹ï¼Œé‡‡ç”¨ &lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;Multi Part AOF&lt;/font&gt;&lt;/strong&gt; æœºåˆ¶ï¼Œå°†åŸæ¥çš„å•ä¸ª AOF æ–‡ä»¶æ‹†åˆ†æˆä¸‰ç±»å¤šä¸ª AOF æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;åŸºæœ¬æ–‡ä»¶ï¼ˆbase.rdb/aofï¼‰&lt;/font&gt;ï¼šå¯ä»¥æ˜¯ RDB / AOF æ ¼å¼ï¼Œé»˜è®¤ä¸º RDB æ ¼å¼ï¼Œå³æ··åˆå¼æŒä¹…åŒ–ã€‚ä¸€èˆ¬ç”±å­çº¿ç¨‹é€šè¿‡ rewrite äº§ç”Ÿï¼Œè¯¥æ–‡ä»¶æœ€å¤šåªæœ‰ä¸€ä¸ªã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;å¢é‡æ–‡ä»¶ï¼ˆincr.aofï¼‰&lt;/font&gt;ï¼šä»¥æ“ä½œæ—¥å¿—å½¢å¼è®°å½•å†™å‘½ä»¤ï¼Œä¸€èˆ¬åœ¨ rewrite å¼€å§‹æ‰§è¡Œæ—¶åˆ›å»ºï¼Œè¯¥æ–‡ä»¶å¯ä»¥æœ‰å¤šä¸ªã€‚&lt;/li&gt;
&lt;li&gt;å†å²æ–‡ä»¶ï¼šç”± BASE å’Œ INCR AOF å˜åŒ–è€Œæ¥ï¼Œæ¯æ¬¡ AOFRW æˆåŠŸå®Œæˆæ—¶ï¼Œæœ¬æ¬¡ AOFRW ä¹‹å‰å¯¹åº”çš„ BASE å’Œ INCR AOF éƒ½å°†å˜ä¸º HISTORYï¼ŒHISTORY ç±»å‹çš„ AOF ä¼šè¢« Redis è‡ªåŠ¨åˆ é™¤ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ­¤å¤–ï¼Œè¿˜æœ‰&lt;font color=&#39;gree&#39;&gt;æ¸…å•æ–‡ä»¶ï¼ˆmanifestï¼‰&lt;/font&gt;ï¼šè¯¥æ–‡ä»¶é¦–å…ˆä¼šæŒ‰ç…§ seq åºå·åˆ—ä¸¾å‡ºæ‰€æœ‰&lt;font color=&#39;red&#39;&gt;åŸºæœ¬æ–‡ä»¶&lt;/font&gt;ï¼ŒåŸºæœ¬æ–‡ä»¶ type ç±»å‹ä¸º bï¼Œç„¶åå†æŒ‰ç…§ seq åºå·å†åˆ—ä¸¾å‡ºæ‰€æœ‰&lt;font color=&#39;red&#39;&gt;å¢é‡æ–‡ä»¶&lt;/font&gt;ï¼Œå¢é‡æ–‡ä»¶ type ç±»å‹ä¸º iã€‚å¯¹äº Redis å¯åŠ¨æ—¶çš„æ•°æ®æ¢å¤ï¼Œä¹Ÿä¼šæŒ‰ç…§è¯¥æ–‡ä»¶ç”±ä¸Šåˆ°ä¸‹ä¾æ¬¡åŠ è½½å®ƒä»¬ä¸­çš„æ•°æ®ã€‚å¯ä»¥ç»´æŠ¤ AOF æ–‡ä»¶çš„åˆ›å»ºé¡ºåºï¼Œä¿éšœæ¿€æ´»æ—¶çš„åº”ç”¨é¡ºåºã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä¸­åŸºæœ¬æ–‡ä»¶ä¸€èˆ¬ä¸º rdb æ ¼å¼ï¼Œåœ¨å‰é¢å·²ç»ç ”ç©¶è¿‡äº†ã€‚ä¸‹é¢å°±æ¥çœ‹ä¸€ä¸‹å¢é‡æ–‡ä»¶ä¸æ¸…å•æ–‡ä»¶çš„å†…å®¹æ ¼å¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806210712843.png&#34; alt=&#34;image-20230806210712843&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;aof-é…ç½®é¡¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aof-é…ç½®é¡¹&#34;&gt;#&lt;/a&gt; AOF é…ç½®é¡¹&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;é…ç½®å‚æ•°&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;th&gt;ç¤ºä¾‹&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;appendonly&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;æ˜¯å¦å¼€å¯ AOF&lt;/td&gt;
&lt;td&gt;appendonly yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;appendfilename&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è®¾ç½® AOF æ–‡ä»¶çš„åç§°&lt;/td&gt;
&lt;td&gt;appendfilename &amp;quot;appendonly.aof&amp;quot;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;aof-use-rdb-preamble&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è®¾ç½®åŸºæœ¬æ–‡ä»¶ä¸º RDF æ ¼å¼ / AOF æ ¼å¼ï¼Œ&lt;font color=&#39;red&#39;&gt;é»˜è®¤ä¸º yesï¼ˆRDB æ ¼å¼ï¼‰ï¼Œå³æ··åˆå¼æŒä¹…åŒ–&lt;/font&gt;&lt;/td&gt;
&lt;td&gt;aof-use-rdb-preamble yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;appenddirname&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è®¾ç½® AOF æ–‡ä»¶ç›®å½•ï¼Œé»˜è®¤ä¸º Redis å®‰è£…ç›®å½•&lt;/td&gt;
&lt;td&gt;appenddirname &amp;quot;appendonlydir&amp;quot;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;appendfsync&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è®¾ç½®åŒæ­¥æ–¹å¼ï¼ˆåˆ·ç›˜æ—¶æœºï¼‰&lt;/td&gt;
&lt;td&gt;appendfsync &lt;font color=&#39;red&#39;&gt;always/everysec/no&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;no-appendfsync-on-rewrite&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;AOF rewrite æœŸé—´æ˜¯å¦åŒæ­¥ï¼ˆåˆ·ç›˜ï¼‰&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;auto-aof-rewrite-percentage&lt;/code&gt; &lt;/br&gt; &lt;code&gt;auto-aof-rewrite-min-size&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;rewrite è§¦å‘é…ç½®ã€æ–‡ä»¶é‡å†™ç­–ç•¥&lt;/td&gt;
&lt;td&gt;auto-aof-rewrite-percentage 100&lt;/br&gt;auto-aof-rewrite-min-size 64mb&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;aof-æŒä¹…åŒ–è¿‡ç¨‹å·¥ä½œåŸºæœ¬æµç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aof-æŒä¹…åŒ–è¿‡ç¨‹å·¥ä½œåŸºæœ¬æµç¨‹&#34;&gt;#&lt;/a&gt; AOF æŒä¹…åŒ–è¿‡ç¨‹ï¼ˆå·¥ä½œåŸºæœ¬æµç¨‹ï¼‰&lt;/h3&gt;
&lt;p&gt;AOF æŒä¹…åŒ–åŠŸèƒ½çš„å®ç°å¯ä»¥ç®€å•åˆ†ä¸º 5 æ­¥ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231208165553752.png&#34; alt=&#34;image-20231208165553752&#34; /&gt;&lt;/p&gt;
&lt;center&gt;AOF å·¥ä½œåŸºæœ¬æµç¨‹&lt;/center&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;å‘½ä»¤è¿½åŠ ï¼ˆappendï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šæ‰€æœ‰çš„å†™å‘½ä»¤ä¼š  &lt;code&gt;append&lt;/code&gt;  åˆ°å†…å­˜ä¸­çš„&lt;font color=&#39;gree&#39;&gt; AOF ç¼“å†²åŒº&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æ–‡ä»¶å†™å…¥ï¼ˆwriteï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šå°† AOF ç¼“å†²åŒºçš„æ•°æ®å†™å…¥åˆ° AOF æ–‡ä»¶ä¸­ã€‚è¿™ä¸€æ­¥éœ€è¦è°ƒç”¨  &lt;code&gt;write&lt;/code&gt;  å‡½æ•°ï¼ˆç³»ç»Ÿè°ƒç”¨ï¼‰å°†æ•°æ®å†™å…¥åˆ°äº†&lt;font color=&#39;gree&#39;&gt;ç³»ç»Ÿå†…æ ¸ç¼“å†²åŒº&lt;/font&gt;ä¹‹å&lt;font color=&#39;red&#39;&gt;ç›´æ¥è¿”å›äº†ï¼ˆå»¶è¿Ÿå†™ï¼‰&lt;/font&gt;ã€‚æ³¨æ„ï¼ï¼ï¼&lt;font color=&#39;red&#39;&gt;æ­¤æ—¶å¹¶æ²¡æœ‰åŒæ­¥åˆ°ç£ç›˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æ–‡ä»¶åŒæ­¥ï¼ˆfsyncï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šAOF ç¼“å†²åŒºæ ¹æ®å¯¹åº”çš„æŒä¹…åŒ–æ–¹å¼ï¼ˆ  &lt;code&gt;fsync&lt;/code&gt;  ç­–ç•¥ï¼‰å‘&lt;font color=&#39;gree&#39;&gt;ç¡¬ç›˜&lt;/font&gt;åšåŒæ­¥æ“ä½œã€‚è¿™ä¸€æ­¥éœ€è¦è°ƒç”¨  &lt;code&gt;fsync&lt;/code&gt;  å‡½æ•°ï¼ˆç³»ç»Ÿè°ƒç”¨ï¼‰ï¼Œ  &lt;code&gt;fsync&lt;/code&gt;  é’ˆå¯¹å•ä¸ªæ–‡ä»¶æ“ä½œï¼Œå¯¹å…¶è¿›è¡Œå¼ºåˆ¶ç¡¬ç›˜åŒæ­¥ï¼Œ &lt;code&gt;fsync&lt;/code&gt;  å°†&lt;font color=&#39;red&#39;&gt;é˜»å¡&lt;/font&gt;ç›´åˆ°å†™å…¥ç£ç›˜å®Œæˆåè¿”å›ï¼Œä¿è¯äº†æ•°æ®æŒä¹…åŒ–ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æ–‡ä»¶é‡å†™ï¼ˆrewriteï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šéšç€&lt;font color=&#39;red&#39;&gt;ç£ç›˜ä¸Š&lt;/font&gt;çš„ AOF æ–‡ä»¶è¶Šæ¥è¶Šå¤§ï¼Œåˆ°è¾¾ rewrite æ¡ä»¶æ—¶ï¼Œä¸»çº¿ç¨‹ä¼š fork ä¸€ä¸ªå­çº¿ç¨‹ bgrewriteaof å®šæœŸ AOF æ–‡ä»¶è¿›è¡Œé‡å†™ï¼ˆ&lt;font color=&#39;red&#39;&gt;æ ¹æ®è§„åˆ™å»åˆå¹¶å†™å‘½ä»¤&lt;/font&gt;ï¼‰ï¼Œè¾¾åˆ°&lt;font color=&#39;red&#39;&gt;å‹ç¼©&lt;/font&gt;çš„ç›®çš„ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœåœ¨ rewrite è¿‡ç¨‹ä¸­åˆæœ‰å†™æ“ä½œå‘½ä»¤è¿½åŠ ï¼Œé‚£ä¹ˆè¿™äº›æ•°æ®ä¼šæš‚æ—¶å†™å…¥ aof_rewrite_buf ç¼“å†²åŒºã€‚ç­‰å°†å…¨éƒ¨ rewrite è®¡ç®—ç»“æœå†™å…¥ä¸´æ—¶æ–‡ä»¶åï¼Œä¼šå…ˆå°† aof_rewrite_buf ç¼“å†²åŒºä¸­çš„æ•°æ®å†™å…¥ä¸´æ—¶æ–‡ä»¶ï¼Œç„¶åå† rename ä¸ºç£ç›˜æ–‡ä»¶çš„åŸåç§°ï¼Œè¦†ç›–åŸæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;é‡å¯åŠ è½½ï¼ˆloadï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šå½“ Redis é‡å¯æ—¶ï¼Œå¯ä»¥åŠ è½½ç£ç›˜ä¸Šçš„ AOF æ–‡ä»¶ï¼Œæ‰§è¡Œå…¶ä¸­çš„å†™å‘½ä»¤ï¼Œè¿›è¡Œæ•°æ®æ¢å¤ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;Linux ç³»ç»Ÿç›´æ¥æä¾›äº†ä¸€äº›å‡½æ•°ç”¨äºå¯¹æ–‡ä»¶å’Œè®¾å¤‡è¿›è¡Œè®¿é—®å’Œæ§åˆ¶ï¼Œè¿™äº›å‡½æ•°è¢«ç§°ä¸º&lt;strong&gt;ç³»ç»Ÿè°ƒç”¨ï¼ˆsyscallï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™é‡Œå¯¹ä¸Šé¢æåˆ°çš„ä¸€äº› Linux ç³»ç»Ÿè°ƒç”¨å†åšä¸€éè§£é‡Šï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;write&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;å†™å…¥ç³»ç»Ÿå†…æ ¸ç¼“å†²åŒºä¹‹åç›´æ¥è¿”å›ï¼ˆä»…ä»…æ˜¯å†™åˆ°ç¼“å†²åŒºï¼‰ï¼Œä¸ä¼šç«‹å³åŒæ­¥åˆ°ç¡¬ç›˜&lt;/font&gt;ã€‚è™½ç„¶æé«˜äº†æ•ˆç‡ï¼Œä½†ä¹Ÿå¸¦æ¥äº†&lt;font color=&#39;red&#39;&gt;æ•°æ®ä¸¢å¤±çš„é£é™©&lt;/font&gt;ã€‚åŒæ­¥ç¡¬ç›˜æ“ä½œé€šå¸¸ä¾èµ–äºç³»ç»Ÿè°ƒåº¦æœºåˆ¶ï¼ŒLinux å†…æ ¸é€šå¸¸ä¸º 30s åŒæ­¥ä¸€æ¬¡ï¼Œå…·ä½“å€¼å–å†³äºå†™å‡ºçš„æ•°æ®é‡å’Œ I/O ç¼“å†²åŒºçš„çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fsync&lt;/code&gt; ï¼šç”¨äº&lt;font color=&#39;red&#39;&gt;å¼ºåˆ¶åˆ·æ–°ç³»ç»Ÿå†…æ ¸ç¼“å†²åŒºï¼ˆåŒæ­¥åˆ°åˆ°ç£ç›˜ï¼‰&lt;/font&gt;ï¼Œä¼šä¸€ç›´é˜»å¡ç›´åˆ°ç¡®ä¿å†™ç£ç›˜æ“ä½œç»“æŸæ‰ä¼šè¿”å›ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231208170306808.png&#34; alt=&#34;image-20231208170306808&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;aof-ç¼“å†²åŒºçš„ä¸‰ç§å†™å›åˆ·ç›˜ç­–ç•¥fsync-ç­–ç•¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aof-ç¼“å†²åŒºçš„ä¸‰ç§å†™å›åˆ·ç›˜ç­–ç•¥fsync-ç­–ç•¥&#34;&gt;#&lt;/a&gt; AOF ç¼“å†²åŒºçš„ä¸‰ç§å†™å› / åˆ·ç›˜ç­–ç•¥ï¼ˆ &lt;code&gt;fsync&lt;/code&gt;  ç­–ç•¥ï¼‰&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸»è¦åŒºåˆ«åœ¨äº &lt;strong&gt;&lt;font color=&#39;red&#39;&gt;fsync åŒæ­¥ AOF æ–‡ä»¶çš„æ—¶æœºï¼ˆåˆ·ç›˜ï¼‰&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231208165553752.png&#34; alt=&#34;image-20231208165553752&#34; /&gt;&lt;/p&gt;
&lt;p&gt;AOF ç¼“å†²åŒºéœ€è¦å°†å®ƒä¿å­˜çš„å†™å‘½ä»¤å†™å…¥ç£ç›˜ä¸Šçš„ AOF æ–‡ä»¶ï¼Œå¯ä»¥ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ &lt;code&gt;å‚æ•° appendfsync&lt;/code&gt; ï¼Œæœ‰ä¸‰ç§ç­–ç•¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;always&lt;/code&gt; ï¼š&lt;strong&gt;&lt;font color=&#39;gree&#39;&gt;åŒæ­¥å†™å›&lt;/font&gt;&lt;/strong&gt;ï¼Œä¸»çº¿ç¨‹è°ƒç”¨ write åï¼Œåå°çº¿ç¨‹ä¼šç«‹å³è°ƒç”¨ fsync å‡½æ•°åŒæ­¥ AOF æ–‡ä»¶ï¼ˆåˆ·ç›˜ï¼‰ã€‚fsync å®Œæˆåçº¿ç¨‹è¿”å›ï¼Œè¿™ä¼šä¸¥é‡é™ä½ Redis çš„æ€§èƒ½&lt;font color=&#39;red&#39;&gt;ï¼ˆwrite + fsyncï¼‰&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;everysec&lt;/code&gt; ï¼š&lt;strong&gt;&lt;font color=&#39;gree&#39;&gt;æ¯ç§’å†™å›&lt;/font&gt;&lt;/strong&gt;ï¼Œä¸»çº¿ç¨‹è°ƒç”¨ write åç«‹å³è¿”å›ï¼Œç”±åå°çº¿ç¨‹æ¯ç§’è°ƒç”¨ fsync å‡½æ•°åŒæ­¥ä¸€æ¬¡ AOF æ–‡ä»¶&lt;font color=&#39;red&#39;&gt;ï¼ˆwrite + fsyncï¼Œå…¶ä¸­ fsync é—´éš”ä¸º 1 ç§’ï¼‰&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;no&lt;/code&gt; ï¼š&lt;strong&gt;&lt;font color=&#39;gree&#39;&gt;æ“ä½œç³»ç»Ÿæ§åˆ¶çš„å†™å›&lt;/font&gt;&lt;/strong&gt;ï¼Œä¸»çº¿ç¨‹è°ƒç”¨ write åç«‹å³è¿”å›ï¼Œè®©æ“ä½œç³»ç»Ÿå†³å®šä½•æ—¶è¿›è¡ŒåŒæ­¥ï¼ˆåˆ·ç›˜ï¼‰ã€‚Linux ä¸­ä¸€èˆ¬ä¸º 30 ç§’ä¸€æ¬¡&lt;font color=&#39;red&#39;&gt;ï¼ˆwrite ä½†ä¸ fsyncï¼Œå…¶ä¸­ fsync çš„æ—¶æœºç”±æ“ä½œç³»ç»Ÿå†³å®šï¼‰&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230806200107294.png&#34; alt=&#34;image-20230806200107294&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;aof-é‡å†™æœºåˆ¶rewrite&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aof-é‡å†™æœºåˆ¶rewrite&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸAOF é‡å†™æœºåˆ¶ï¼ˆRewriteï¼‰&lt;/mark&gt;&lt;/h3&gt;
&lt;h4 id=&#34;ä½•ä¸º-rewrite&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½•ä¸º-rewrite&#34;&gt;#&lt;/a&gt; ä½•ä¸º rewrite&lt;/h4&gt;
&lt;p&gt;å½“ AOF å˜å¾—å¤ªå¤§æ—¶ï¼ŒRedis èƒ½å¤Ÿåœ¨åå°äº§ç”Ÿä¸€ä¸ªæ–°çš„ AOF æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä¸åŸæœ‰çš„ AOF æ–‡ä»¶æ‰€ä¿å­˜çš„&lt;font color=&#39;red&#39;&gt;æ•°æ®åº“çŠ¶æ€ä¸€æ ·ï¼Œä½†ä½“ç§¯æ›´å°&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;AOF é‡å†™æ˜¯ä¸€ä¸ªæœ‰æ­§ä¹‰çš„åå­—ï¼Œè¯¥åŠŸèƒ½æ˜¯é€šè¿‡è¯»å–æ•°æ®åº“ä¸­çš„é”®å€¼å¯¹æ¥å®ç°çš„ï¼Œç¨‹åºæ— é¡»å¯¹ç°æœ‰ AOF æ–‡ä»¶è¿›è¡Œä»»ä½•è¯»å…¥ã€åˆ†ææˆ–è€…å†™å…¥æ“ä½œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;font color=&#39;orange&#39;&gt;AOF é‡å†™æœºåˆ¶&lt;/font&gt;ï¼šå¯åŠ¨ AOF æ–‡ä»¶çš„å†…å®¹å‹ç¼©ï¼Œ&lt;font color=&#39;red&#39;&gt;åˆå¹¶å…¶ä¸­çš„å‘½ä»¤ï¼Œåªä¿ç•™å¯ä»¥æ¢å¤æ•°æ®çš„æœ€å°æŒ‡ä»¤é›†&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;é‡å†™å®Œæˆå&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é‡å†™ç»“æœè¢«ä¿å­˜åˆ°ä¸€ä¸ªæ–°çš„ BASE AOF æ–‡ä»¶ä¸­ï¼Œæ–‡ä»¶åä¸Šçš„æ ‡å·åŠ  1ã€‚&lt;/li&gt;
&lt;li&gt;åŒæ—¶ï¼Œæ–°å»ºä¸€ä¸ªç©ºçš„ INCR AOF æ–‡ä»¶ï¼Œæ–‡ä»¶åä¸Šçš„æ ‡å·åŠ  1ï¼Œæ—§çš„è¢«åˆ é™¤ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;rewrite-è§¦å‘æ–¹å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rewrite-è§¦å‘æ–¹å¼&#34;&gt;#&lt;/a&gt; rewrite è§¦å‘æ–¹å¼&lt;/h4&gt;
&lt;p&gt;AOF é‡å†™æœºåˆ¶æœ‰&lt;font color=&#39;red&#39;&gt;ä¸¤ç§è§¦å‘æ–¹å¼&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;è‡ªåŠ¨è§¦å‘&lt;/font&gt;ï¼šå½“ INCR AOF æ–‡ä»¶&lt;font color=&#39;red&#39;&gt;åŒæ—¶æ»¡è¶³&lt;/font&gt;ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶æ—¶ï¼ŒRedis å°±ä¼š&lt;font color=&#39;red&#39;&gt;è‡ªåŠ¨&lt;/font&gt;å¯åŠ¨é‡å†™æœºåˆ¶ï¼Œåªä¿ç•™å¯ä»¥æ¢å¤æ•°æ®çš„æœ€å°æŒ‡ä»¤é›†&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;INCR AOF æ–‡ä»¶è´Ÿè´£è®°å½•ä» AOF ç¼“å†²åŒºå†™å›çš„å†™å‘½ä»¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;å½“ INCR AOF æ–‡ä»¶çš„å¤§å°è¶…è¿‡ä¸Šä¸€æ¬¡é‡å†™ç»“æœï¼ˆå³ BASE AOF æ–‡ä»¶ï¼‰å¤§å° 1 å€ï¼ˆå¯ä»¥é€šè¿‡é…ç½® &lt;code&gt;auto-aof-rewrite-percentage&lt;/code&gt;  ä¿®æ”¹ï¼‰&lt;/li&gt;
&lt;li&gt;å½“ INCR AOF æ–‡ä»¶çš„å¤§å°è¶…è¿‡ 64MBï¼ˆå¯ä»¥é€šè¿‡é…ç½® &lt;code&gt;auto-aof-rewrite-min-size&lt;/code&gt;  ä¿®æ”¹ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æ‰‹åŠ¨è§¦å‘&lt;/font&gt;ï¼šå¯ä»¥æ‰‹åŠ¨ä½¿ç”¨å‘½ä»¤  &lt;code&gt;bgrewriteaof&lt;/code&gt;  æ¥é‡å†™ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…·ä½“è¿‡ç¨‹è§è„‘å›¾ï¼Œè¿™é‡Œåªæ¼”ç¤º AOF é‡å†™åçš„æ•ˆæœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807004504357.png&#34; alt=&#34;image-20230807004504357&#34; /&gt;&lt;/p&gt;
&lt;center&gt;è‡ªåŠ¨é‡å†™&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807004613263.png&#34; alt=&#34;image-20230807004613263&#34; /&gt;&lt;/p&gt;
&lt;center&gt;æ‰‹åŠ¨é‡å†™&lt;/center&gt;
&lt;p&gt;ç»“è®ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AOF æ–‡ä»¶é‡å†™å¹¶ä¸æ˜¯å¯¹åŸæ–‡ä»¶è¿›è¡Œé‡æ–°æ•´ç†ï¼Œè€Œæ˜¯&lt;font color=&#39;red&#39;&gt;ç›´æ¥è¯»å–æœåŠ¡å™¨ç°æœ‰çš„é”®å€¼å¯¹ï¼Œç„¶åç”¨ä¸€æ¡å‘½ä»¤å»ä»£æ›¿ä¹‹å‰è®°å½•è¿™ä¸ªé”®å€¼å¯¹çš„å¤šæ¡å‘½ä»¤&lt;/font&gt;ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„æ–‡ä»¶åå»æ›¿æ¢åŸæ¥çš„ AOF æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;AOF æ–‡ä»¶é‡å†™è§¦å‘æœºåˆ¶ï¼šé€šè¿‡ redis.conf é…ç½®æ–‡ä»¶ä¸­çš„ &lt;code&gt;auto-aof-rewrite-percentage&lt;/code&gt; : é»˜è®¤å€¼ä¸º 100ï¼Œä»¥åŠ &lt;code&gt;auto-aof-rewriteÂ·min-size&lt;/code&gt; : 64mb é…ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´é»˜è®¤ Redis ä¼šè®°å½•ä¸Šæ¬¡é‡å†™æ—¶çš„ AOF å¤§å°ï¼Œé»˜è®¤é…ç½®æ˜¯å½“ AOF æ–‡ä»¶å¤§å°æ˜¯ä¸Šæ¬¡ rewrite åå¤§å°çš„ä¸€å€&lt;strong&gt;ä¸”&lt;/strong&gt;æ–‡ä»¶å¤§äº 64M æ—¶è§¦å‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;rewrite-åŸç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rewrite-åŸç†&#34;&gt;#&lt;/a&gt; rewrite åŸç†&lt;/h4&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/2032648-20220207170749957-1755223036.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨é‡å†™å¼€å§‹å‰ï¼ŒRedis ä¼šåˆ›å»ºä¸€ä¸ªé‡å†™å­è¿›ç¨‹  &lt;code&gt;bgrewriteaof&lt;/code&gt; ï¼Œè¿™ä¸ªå­è¿›ç¨‹ä¼šè¯»å–ç°æœ‰çš„ AOF æ–‡ä»¶ï¼Œå¹¶å°†å…¶åŒ…å«çš„æŒ‡ä»¤è¿›è¡Œ&lt;font color=&#39;red&#39;&gt;åˆ†æã€å‹ç¼©&lt;/font&gt;ï¼Œå†™å…¥åˆ°ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ä¸­ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸æ­¤åŒæ—¶ï¼Œä¸»è¿›ç¨‹ä¼šå°†æ–°æ¥æ”¶åˆ°çš„å†™æŒ‡ä»¤ä¸€è¾¹ç´¯ç§¯åˆ°å†…å­˜ç¼“å†²åŒºä¸­ï¼Œä¸€è¾¹ç»§ç»­å†™å…¥åˆ°åŸæœ‰çš„ AOF æ–‡ä»¶ä¸­ï¼Œè¿™æ ·åšæ˜¯ä¿è¯åŸæœ‰çš„ AOF æ–‡ä»¶çš„å¯ç”¨æ€§ï¼Œé¿å…åœ¨é‡å†™è¿‡ç¨‹ä¸­å‡ºç°æ„å¤–ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å½“é‡å†™å­è¿›ç¨‹å®Œæˆé‡å†™å·¥ä½œåï¼Œå®ƒä¼šç»™çˆ¶è¿›ç¨‹å‘ä¸€ä¸ªä¿¡å·ï¼Œçˆ¶è¿›ç¨‹æ”¶åˆ°ä¿¡å·åå°±ä¼šå°†å†…å­˜ä¸­ç¼“å­˜çš„å†™æŒ‡ä»¤è¿½åŠ åˆ°æ–° AOF æ–‡ä»¶ä¸­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å½“è¿½åŠ ç»“æŸåï¼ŒRedis å°±ä¼šç”¨æ–° AOF æ–‡ä»¶æ¥&lt;font color=&#39;red&#39;&gt;ä»£æ›¿&lt;/font&gt;æ—§ AOF æ–‡ä»¶ï¼Œä¹‹åå†æœ‰æ–°çš„å†™æŒ‡ä»¤ï¼Œå°±éƒ½ä¼šè¿½åŠ åˆ°æ–°çš„ AOF æ–‡ä»¶ä¸­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é‡å†™ AOF æ–‡ä»¶çš„æ“ä½œï¼Œå¹¶æ²¡æœ‰è¯»å–æ—§çš„ AOF æ–‡ä»¶ï¼Œè€Œæ˜¯å°†æ•´ä¸ªå†…å­˜ä¸­çš„æ•°æ®åº“å†…å®¹ç”¨å‘½ä»¤çš„æ–¹å¼é‡å†™äº†ä¸€ä¸ªæ–°çš„ AOF æ–‡ä»¶ï¼Œè¿™ç‚¹å’Œå¿«ç…§æœ‰ç‚¹ç±»ä¼¼&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;aof-æ ¡éªŒæœºåˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aof-æ ¡éªŒæœºåˆ¶&#34;&gt;#&lt;/a&gt; AOF æ ¡éªŒæœºåˆ¶&lt;/h3&gt;
&lt;p&gt;AOF æ ¡éªŒæœºåˆ¶æ˜¯ Redis åœ¨å¯åŠ¨æ—¶å¯¹ AOF æ–‡ä»¶è¿›è¡Œæ£€æŸ¥ï¼Œä»¥&lt;font color=&#39;red&#39;&gt;åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å®Œæ•´ï¼Œæ˜¯å¦æœ‰æŸåæˆ–è€…ä¸¢å¤±çš„æ•°æ®&lt;/font&gt;ã€‚è¿™ä¸ªæœºåˆ¶çš„åŸç†å…¶å®éå¸¸ç®€å•ï¼Œå°±æ˜¯é€šè¿‡ä½¿ç”¨ä¸€ç§å«åš **&lt;font color=&#39;#B32015&#39;&gt;æ ¡éªŒå’Œï¼ˆchecksumï¼‰&lt;/font&gt;** çš„æ•°å­—æ¥éªŒè¯ AOF æ–‡ä»¶ã€‚è¿™ä¸ªæ ¡éªŒå’Œæ˜¯é€šè¿‡å¯¹æ•´ä¸ª AOF æ–‡ä»¶å†…å®¹è¿›è¡Œ&lt;font color=&#39;red&#39;&gt; CRC64 ç®—æ³•&lt;/font&gt;è®¡ç®—å¾—å‡ºçš„æ•°å­—ã€‚å¦‚æœæ–‡ä»¶å†…å®¹å‘ç”Ÿäº†å˜åŒ–ï¼Œé‚£ä¹ˆæ ¡éªŒå’Œä¹Ÿä¼šéšä¹‹æ”¹å˜ã€‚å› æ­¤ï¼ŒRedis åœ¨å¯åŠ¨æ—¶ä¼šæ¯”è¾ƒè®¡ç®—å‡ºçš„æ ¡éªŒå’Œä¸æ–‡ä»¶æœ«å°¾ä¿å­˜çš„æ ¡éªŒå’Œï¼ˆè®¡ç®—çš„æ—¶å€™ä¼šæŠŠæœ€åä¸€è¡Œä¿å­˜æ ¡éªŒå’Œçš„å†…å®¹ç»™å¿½ç•¥ç‚¹ï¼‰ï¼Œä»è€Œåˆ¤æ–­ AOF æ–‡ä»¶æ˜¯å¦å®Œæ•´ã€‚å¦‚æœå‘ç°æ–‡ä»¶æœ‰é—®é¢˜ï¼ŒRedis å°±ä¼šæ‹’ç»å¯åŠ¨å¹¶æä¾›ç›¸åº”çš„é”™è¯¯ä¿¡æ¯ã€‚AOF æ ¡éªŒæœºåˆ¶ååˆ†ç®€å•æœ‰æ•ˆï¼Œå¯ä»¥æé«˜ Redis æ•°æ®çš„å¯é æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ç±»ä¼¼åœ°ï¼Œ&lt;font color=&#39;red&#39;&gt;RDB æ–‡ä»¶ä¹Ÿæœ‰ç±»ä¼¼çš„æ ¡éªŒæœºåˆ¶&lt;/font&gt;æ¥ä¿è¯ RDB æ–‡ä»¶çš„æ­£ç¡®æ€§ï¼Œè¿™é‡Œå°±ä¸é‡å¤è¿›è¡Œä»‹ç»äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;aof-è®°å½•æ—¥å¿—è¿‡ç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aof-è®°å½•æ—¥å¿—è¿‡ç¨‹&#34;&gt;#&lt;/a&gt; AOF è®°å½•æ—¥å¿—è¿‡ç¨‹&lt;/h3&gt;
&lt;p&gt;å…³ç³»å‹æ•°æ®åº“ï¼ˆå¦‚ MySQLï¼‰é€šå¸¸éƒ½æ˜¯æ‰§è¡Œå‘½ä»¤ä¹‹å‰è®°å½•æ—¥å¿—ï¼ˆæ–¹ä¾¿æ•…éšœæ¢å¤ï¼‰ï¼Œè€Œ &lt;font color=&#39;red&#39;&gt;Redis AOF æŒä¹…åŒ–æœºåˆ¶æ˜¯åœ¨æ‰§è¡Œå®Œå‘½ä»¤ä¹‹åå†è®°å½•æ—¥å¿—&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-aof-write-log-disc.png&#34; alt=&#34;AOF è®°å½•æ—¥å¿—è¿‡ç¨‹&#34; /&gt;&lt;/p&gt;
&lt;center&gt;AOF è®°å½•æ—¥å¿—è¿‡ç¨‹&lt;/center&gt;
&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆæ˜¯åœ¨æ‰§è¡Œå®Œå‘½ä»¤ä¹‹åè®°å½•æ—¥å¿—å‘¢ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;é¿å…é¢å¤–çš„æ£€æŸ¥å¼€é”€&lt;/font&gt;ï¼ŒAOF è®°å½•æ—¥å¿—ä¸ä¼šå¯¹å‘½ä»¤è¿›è¡Œè¯­æ³•æ£€æŸ¥ï¼›&lt;/li&gt;
&lt;li&gt;åœ¨å‘½ä»¤æ‰§è¡Œå®Œä¹‹åå†è®°å½•ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸ä¼šé˜»å¡å½“å‰çš„å‘½ä»¤æ‰§è¡Œ&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™æ ·ä¹Ÿå¸¦æ¥äº†é£é™©ï¼ˆæˆ‘åœ¨å‰é¢ä»‹ç» AOF æŒä¹…åŒ–çš„æ—¶å€™ä¹Ÿæåˆ°è¿‡ï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœåˆšæ‰§è¡Œå®Œå‘½ä»¤ Redis å°±å®•æœº&lt;font color=&#39;red&#39;&gt;ä¼šå¯¼è‡´å¯¹åº”çš„ä¿®æ”¹ä¸¢å¤±&lt;/font&gt;ï¼›&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å¯èƒ½ä¼šé˜»å¡åç»­å…¶ä»–å‘½ä»¤çš„æ‰§è¡Œ&lt;/font&gt;ï¼ˆAOF è®°å½•æ—¥å¿—æ˜¯åœ¨ Redis ä¸»çº¿ç¨‹ä¸­è¿›è¡Œçš„ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;aof-ä¼˜ç¼ºç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aof-ä¼˜ç¼ºç‚¹&#34;&gt;#&lt;/a&gt; AOF ä¼˜ç¼ºç‚¹&lt;/h3&gt;
&lt;p&gt;AOF æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ›´å¥½åœ°ä¿æŠ¤æ•°æ®ä¸ä¸¢å¤±&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½¿ç”¨ AOF Redis æ›´åŠ æŒä¹…âˆ¶æ‚¨å¯ä»¥æœ‰&lt;font color=&#39;red&#39;&gt;ä¸åŒçš„ fsync ç­–ç•¥&lt;/font&gt;ï¼šæ ¹æœ¬ä¸ fsyncã€æ¯ç§’ fsyncã€æ¯æ¬¡æŸ¥è¯¢æ—¶ fsyncã€‚ä½¿ç”¨æ¯ç§’ fsync çš„é»˜è®¤ç­–ç•¥ï¼Œå†™å…¥æ€§èƒ½ä»ç„¶å¾ˆæ£’ã€‚fsync æ˜¯ä½¿ç”¨åå°çº¿ç¨‹æ‰§è¡Œçš„ï¼Œå½“æ²¡æœ‰ fsync æ­£åœ¨è¿›è¡Œæ—¶ï¼Œä¸»çº¿ç¨‹å°†åŠªåŠ›æ‰§è¡Œå†™å…¥ï¼Œå› æ­¤æ‚¨&lt;font color=&#39;red&#39;&gt;åªèƒ½ä¸¢å¤±ä¸€ç§’é’Ÿçš„å†™å…¥&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ˜“ä¿®å¤&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;AOF æ—¥å¿—æ˜¯ä¸€ä¸ªä»…é™„åŠ æ—¥å¿—ï¼Œå› æ­¤ä¸ä¼šå‡ºç°å¯»é“é—®é¢˜ï¼Œä¹Ÿä¸ä¼šåœ¨æ–­ç”µæ—¶å‡ºç°æŸåé—®é¢˜ã€‚å³ä½¿ç”±äºæŸç§åŸå› ï¼ˆç£ç›˜å·²æ»¡æˆ–å…¶ä»–åŸå› ï¼‰æ—¥å¿—ä»¥å†™ä¸€åŠçš„å‘½ä»¤ç»“å°¾ï¼Œ &lt;code&gt;redis-check-aof&lt;/code&gt;  å·¥å…·ä¹Ÿèƒ½å¤Ÿè½»æ¾ä¿®å¤å®ƒã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¾—ç›Šäº AOF çš„é‡å†™æœºåˆ¶ï¼Œèƒ½å¤Ÿè‡ªæˆ‘å‹ç¼©&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å½“ AOF å˜å¾—å¤ªå¤§æ—¶ï¼ŒRedis èƒ½å¤Ÿåœ¨åå°è‡ªåŠ¨é‡å†™ AOFã€‚é‡å†™æ˜¯å®Œå…¨å®‰å…¨çš„ï¼Œå› ä¸ºå½“ Redis ç»§ç»­é™„åŠ åˆ°æ—§æ–‡ä»¶æ—¶ï¼Œä¼šä½¿ç”¨åˆ›å»ºå½“å‰æ•°æ®é›†æ‰€éœ€çš„æœ€å°‘æ“ä½œé›†ç”Ÿæˆä¸€ä¸ªå…¨æ–°çš„æ–‡ä»¶ï¼Œä¸€æ—¦ç¬¬äºŒä¸ªæ–‡ä»¶å‡†å¤‡å°±ç»ªï¼ŒRedis å°±ä¼šåˆ‡æ¢ä¸¤è€…å¹¶å¼€å§‹é™„åŠ åˆ°æ–°çš„é‚£ä¸€ä¸ªã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ€§èƒ½é«˜&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ–‡ä»¶å†…å®¹æ˜“ç†è§£&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;AOF ä»¥æ˜“äºç†è§£å’Œè§£æçš„æ ¼å¼ä¾æ¬¡åŒ…å«æ‰€æœ‰æ“ä½œçš„æ—¥å¿—ã€‚æ‚¨ç”šè‡³å¯ä»¥è½»æ¾å¯¼å‡º AOF æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯åšç´§æ€¥æ¢å¤&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å³ä½¿æ‚¨ä¸å°å¿ƒä½¿ç”¨è¯¥ &lt;code&gt;FLUSHALL&lt;/code&gt;  å‘½ä»¤åˆ·æ–°äº†æ‰€æœ‰å†…å®¹ï¼Œåªè¦åœ¨æ­¤æœŸé—´æ²¡æœ‰æ‰§è¡Œæ—¥å¿—é‡å†™ï¼Œæ‚¨ä»ç„¶å¯ä»¥é€šè¿‡åœæ­¢æœåŠ¡å™¨ã€&lt;font color=&#39;red&#39;&gt;åˆ é™¤æœ€æ–°å‘½ä»¤&lt;/font&gt;å¹¶é‡æ–°å¯åŠ¨ Redis æ¥ä¿å­˜æ‚¨çš„æ•°æ®é›†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AOF æœ‰ä»¥ä¸‹ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äºç›¸åŒçš„æ•°æ®é›†è€Œè¨€ï¼Œaof æ–‡ä»¶è¦ **&lt;font color=&#39;red&#39;&gt;è¿œå¤§äº rdb æ–‡ä»¶&lt;/font&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;æ¢å¤é€Ÿåº¦æ…¢äº rdb&lt;/font&gt;**&lt;/li&gt;
&lt;li&gt;aof**&lt;font color=&#39;red&#39;&gt;è¿è¡Œæ•ˆç‡è¦æ…¢äº rdb&lt;/font&gt;**ï¼Œæ¯ç§’åŒæ­¥ç­–ç•¥æ•ˆç‡è¾ƒå¥½ï¼Œä¸åŒæ­¥æ•ˆç‡å’Œ rdb ç›¸åŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;aof-å°ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aof-å°ç»“&#34;&gt;#&lt;/a&gt; AOF å°ç»“&lt;/h3&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807005534144.png&#34; alt=&#34;image-20230807005534144&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;rdb-aof-æ··åˆæŒä¹…åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rdb-aof-æ··åˆæŒä¹…åŒ–&#34;&gt;#&lt;/a&gt; RDB-AOF æ··åˆæŒä¹…åŒ–&lt;/h2&gt;
&lt;p&gt;Redis**&lt;font color=&#39;red&#39;&gt;é»˜è®¤ä»…ä½¿ç”¨ RDB æŒä¹…åŒ–&lt;/font&gt;&lt;strong&gt;ï¼Œç¦ç”¨ AOF æŒä¹…åŒ–ã€‚ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;æ‰‹åŠ¨å¯ç”¨ AOF æŒä¹…åŒ–åï¼ŒAOF çš„ä¼˜å…ˆçº§é«˜äº RDB&lt;/font&gt;**ï¼å¯¹åº”çš„æ•°æ®æ¢å¤é¡ºåºå’ŒåŠ è½½æµç¨‹å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231207165853136.png&#34; alt=&#34;image-20231207165853136&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;rdb-ä¸-aof-å¯¹æ¯”æŒä¹…åŒ–æŠ€æœ¯é€‰å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rdb-ä¸-aof-å¯¹æ¯”æŒä¹…åŒ–æŠ€æœ¯é€‰å‹&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸRDB ä¸ AOF å¯¹æ¯”ï¼ˆæŒä¹…åŒ–æŠ€æœ¯é€‰å‹ï¼‰&lt;/mark&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;RDBï¼šå®šæ—¶ä¸€é”…ç«¯&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;äºŒè€…å„è‡ªçš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;RDB æŒä¹…åŒ–ï¼ˆå®šæ—¶ä¸€é”…ç«¯ï¼‰&lt;/font&gt;ï¼šèƒ½å¤Ÿåœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”å¯¹æ•°æ®åº“è¿›è¡Œå…¨é‡å¿«ç…§å­˜å‚¨&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;AOF æŒä¹…åŒ–ï¼ˆå®æ—¶è®°å½•å†™å‘½ä»¤ï¼‰&lt;/font&gt;ï¼šè®°å½•æ¯æ¬¡å¯¹æœåŠ¡å™¨å†™çš„æ“ä½œï¼Œå½“æœåŠ¡å™¨é‡å¯çš„æ—¶å€™ä¼šé‡æ–°æ‰§è¡Œè¿™äº›å‘½ä»¤æ¥æ¢å¤åŸå§‹çš„æ•°æ®ï¼Œå‘½ä»¤ä»¥ Redis åè®®è¿½åŠ ä¿å­˜æ¯æ¬¡å†™çš„æ“ä½œåˆ°æ–‡ä»¶æœ«å°¾ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;RDB ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;RDB æ–‡ä»¶è¾ƒå°&lt;/li&gt;
&lt;li&gt;æ•°æ®æ¢å¤é€Ÿåº¦å¿«&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;RDB ä¸è¶³ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•°æ®å®‰å…¨æ€§è¾ƒå·®&lt;/li&gt;
&lt;li&gt;å†™æ—¶å¤åˆ¶ä¼šé™ä½æ€§èƒ½&lt;/li&gt;
&lt;li&gt;RDB æ–‡ä»¶çš„å¯è¯»æ€§è¾ƒå·®&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AOF ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•°æ®å®‰å…¨æ€§é«˜ï¼ˆä»…è¿½åŠ æ–°æ‰§è¡Œçš„å†™å‘½ä»¤ï¼‰&lt;/li&gt;
&lt;li&gt;AOF æ–‡ä»¶çš„å¯è¯»æ€§å¼ºï¼Œä»¥ä¸€ç§æ˜“äºç†è§£å’Œè§£æçš„æ ¼å¼åŒ…å«æ‰€æœ‰å†™æ“ä½œçš„æ—¥å¿—&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AOF ä¸è¶³ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AOF æ–‡ä»¶è¾ƒå¤§&lt;/li&gt;
&lt;li&gt;æ•°æ®æ¢å¤é€Ÿåº¦æ…¢&lt;/li&gt;
&lt;li&gt;å†™æ“ä½œä¼šå½±å“æ€§èƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;RDB + AOF åŒæ—¶å¼€å¯æ—¶çš„æƒ…å†µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“ redis é‡å¯çš„æ—¶å€™ä¼š&lt;font color=&#39;red&#39;&gt;ä¼˜å…ˆè½½å…¥ AOF æ–‡ä»¶&lt;/font&gt;æ¥æ¢å¤åŸå§‹çš„æ•°æ®ï¼Œå› ä¸ºåœ¨é€šå¸¸æƒ…å†µä¸‹ AOF æ–‡ä»¶ä¿å­˜çš„æ•°æ®é›†è¦æ¯” RDB æ–‡ä»¶ä¿å­˜çš„æ•°æ®é›†&lt;font color=&#39;red&#39;&gt;æ›´å®Œæ•´&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;RDB çš„æ•°æ®ä¸å®æ—¶ï¼ŒåŒæ—¶ä½¿ç”¨ä¸¤è€…æ—¶æœåŠ¡å™¨é‡å¯ä¹Ÿåªä¼šæ‰¾ AOF æ–‡ä»¶ã€‚&lt;font color=&#39;red&#39;&gt;ä½†æ˜¯ä½œè€…å»ºè®®ä¸è¦åªä½¿ç”¨ AOF&lt;/font&gt;ï¼Œå› ä¸º RDB æ›´é€‚åˆç”¨äºå¤‡ä»½æ•°æ®åº“ (AOF åœ¨ä¸æ–­å˜åŒ–ä¸å¥½å¤‡ä»½)ï¼Œ&lt;font color=&#39;red&#39;&gt;ç•™ç€ rdb ä»¥é˜²ä¸‡ä¸€&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»¼ä¸Šï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;orange&#39;&gt;å®˜æ–¹æ¨è RDB+AOF æ··åˆæ–¹å¼&lt;/font&gt;&lt;/strong&gt;ï¼Œæ—¢èƒ½å¿«é€ŸåŠ è½½åˆèƒ½é¿å…ä¸¢å¤±è¿‡å¤šçš„æ•°æ®ã€‚é…ç½®æ–¹å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å¯¹åº”é…ç½®æ–‡ä»¶ä¸­çš„ &lt;code&gt;aof-use-rdb-preamble&lt;/code&gt; ï¼Œé»˜è®¤ä¸º yes&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¼€å¯ AOF æŒä¹…åŒ–&lt;/font&gt;ï¼Œå¯¹åº”é…ç½®æ–‡ä»¶ä¸­çš„ &lt;code&gt;appendonly&lt;/code&gt;  è®¾ç½®ä¸º yesï¼Œé»˜è®¤ä¸º no&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‹¥å¯¹æ•°æ®å®‰å…¨æ€§è¦æ±‚ä¸é«˜ï¼Œåˆ™æ¨èä½¿ç”¨çº¯ RDB æŒä¹…åŒ–æ–¹å¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸æ¨èä½¿ç”¨çº¯ AOF æŒä¹…åŒ–æ–¹å¼ï¼Œå› ä¸º RDB æ›´é€‚åˆå¤‡ä»½æ•°æ®åº“&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‹¥ Redis ä»…ç”¨äºç¼“å­˜ï¼Œåˆ™æ— éœ€ä½¿ç”¨ä»»ä½•æŒä¹…åŒ–æŠ€æœ¯&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;é‡‡ç”¨ RDB+AOF æ··åˆæŒä¹…åŒ–æ—¶ï¼Œ&lt;font color=&#39;red&#39;&gt;RDB åš&lt;strong&gt;å…¨é‡&lt;/strong&gt;æŒä¹…åŒ–ï¼ŒAOF åš&lt;strong&gt;å¢é‡&lt;/strong&gt;æŒä¹…åŒ–&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…ˆä½¿ç”¨ RDB è¿›è¡Œå¿«ç…§å­˜å‚¨&lt;/li&gt;
&lt;li&gt;ç„¶åä½¿ç”¨ AOF æŒä¹…åŒ–è®°å½•æ‰€æœ‰çš„å†™æ“ä½œ&lt;/li&gt;
&lt;li&gt;å½“é‡å†™ç­–ç•¥æ»¡è¶³æˆ–æ‰‹åŠ¨è§¦å‘é‡å†™çš„æ—¶å€™ï¼Œå°†æœ€æ–°çš„æ•°æ®å­˜å‚¨ä¸ºæ–°çš„ RDB è®°å½•ã€‚&lt;/li&gt;
&lt;li&gt;è¿™æ ·çš„è¯ï¼Œé‡å¯æœåŠ¡çš„æ—¶å€™ä¼šä» RDB å’Œ AOF ä¸¤éƒ¨åˆ†æ¢å¤æ•°æ®ï¼Œæ—¢ä¿è¯äº†æ•°æ®å®Œæ•´æ€§ï¼Œåˆæé«˜äº†æ¢å¤æ•°æ®çš„æ€§èƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç®€å•æ¥è¯´ï¼šæ··åˆæŒä¹…åŒ–æ–¹å¼äº§ç”Ÿçš„æ–‡ä»¶ä¸€éƒ¨åˆ†æ˜¯ RDB æ ¼å¼ï¼Œä¸€éƒ¨åˆ†æ˜¯ AOF æ ¼å¼ã€‚&lt;strong&gt;----ã€‹&lt;font color=&#39;red&#39;&gt;AOF åŒ…æ‹¬äº† RDB å¤´éƒ¨ + AOF æ··å†™&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807011820642.png&#34; alt=&#34;image-20230807011820642&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;çº¯ç¼“å­˜æ¨¡å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#çº¯ç¼“å­˜æ¨¡å¼&#34;&gt;#&lt;/a&gt; çº¯ç¼“å­˜æ¨¡å¼&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Redis ä½œä¸ºåŸºäº key-value çš„å†…å­˜æ•°æ®åº“ï¼Œ&lt;strong&gt;Redis æœ€ä¸»è¦çš„åŠŸèƒ½æ˜¯ç”¨ä½œç¼“å­˜&lt;/strong&gt;ï¼Œè€Œ Redis æŒä¹…åŒ–ä¼šæ¶ˆè€— Redis çš„æ€§èƒ½ï¼Œå› æ­¤å¯ä»¥&lt;strong&gt;åŒæ—¶å…³é—­ RDB+AOF&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ç¦ç”¨ RDB&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ­¤æ—¶ä»ç„¶å¯ä»¥æ‰‹åŠ¨ä½¿ç”¨å‘½ä»¤ &lt;code&gt;SAVE&lt;/code&gt;  å’Œ &lt;code&gt;BGSAVE&lt;/code&gt;  ç”Ÿæˆ rdb æ–‡ä»¶&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å‘½ä»¤ï¼š &lt;code&gt;res-cli config set save &amp;quot;&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807012414863.png&#34; alt=&#34;image-20230807012414863&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ç¦ç”¨ AOF&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ­¤æ—¶ä»ç„¶å¯ä»¥æ‰‹åŠ¨ä½¿ç”¨å‘½ä»¤ &lt;code&gt;BGREWRITEAOF&lt;/code&gt;  ç”Ÿæˆ aof æ–‡ä»¶&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;å‘½ä»¤ï¼š &lt;code&gt;res-cli config set appendonly no&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼šå°† &lt;code&gt;redis.conf&lt;/code&gt;  ä¸­ APPEND ONLY MODE æ¨¡å—ä¸‹çš„ &lt;code&gt;å‚æ•°appendonly&lt;/code&gt;  è®¾ç½®ä¸º no&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;redis-çº¿ç¨‹ioæ¨¡å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-çº¿ç¨‹ioæ¨¡å‹&#34;&gt;#&lt;/a&gt; Redis çº¿ç¨‹ï¼ˆIOï¼‰æ¨¡å‹&lt;/h1&gt;
&lt;p&gt;Redis å®¢æˆ·ç«¯æäº¤çš„å„ç§è¯·æ±‚æ˜¯å¦‚ä½•æœ€ç»ˆè¢« Redis å¤„ç†çš„ï¼Ÿ&lt;font color=&#39;red&#39;&gt;Redis å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚æ‰€é‡‡ç”¨çš„å¤„ç†æ¶æ„ï¼Œç§°ä¸º Redis çš„ IO æ¨¡å‹&lt;/font&gt;ã€‚ä¸åŒç‰ˆæœ¬çš„ Redis é‡‡ç”¨çš„ IO æ¨¡å‹æ˜¯ä¸åŒçš„ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºè¯»å†™å‘½ä»¤æ¥è¯´ï¼ŒRedis ä¸€ç›´æ˜¯å•çº¿ç¨‹æ¨¡å‹ã€‚ä¸è¿‡ï¼Œ&lt;font color=&#39;red&#39;&gt;åœ¨ Redis 4.0 ç‰ˆæœ¬ä¹‹åå¼•å…¥äº†å¤šçº¿ç¨‹æ¥æ‰§è¡Œä¸€äº›å¤§é”®å€¼å¯¹çš„å¼‚æ­¥åˆ é™¤æ“ä½œ&lt;/font&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;Redis 6.0 ç‰ˆæœ¬ä¹‹åå¼•å…¥äº†å¤šçº¿ç¨‹æ¥å¤„ç†ç½‘ç»œè¯·æ±‚ï¼ˆæé«˜ç½‘ç»œ IO è¯»å†™æ€§èƒ½ï¼‰&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å•çº¿ç¨‹æ¨¡å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å•çº¿ç¨‹æ¨¡å‹&#34;&gt;#&lt;/a&gt; å•çº¿ç¨‹æ¨¡å‹&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Redis 3.0 åŠå…¶ä»¥å‰ç‰ˆæœ¬&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231208205447709.png&#34; alt=&#34;image-20231208205447709&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231208210519289.png&#34; alt=&#34;image-20231208210519289&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Redis çš„å•çº¿ç¨‹æ¨¡å‹ï¼š&lt;font color=&#39;red&#39;&gt;æ‰€æœ‰å®¢æˆ·ç«¯çš„è¯·æ±‚å…¨éƒ¨ç”±ä¸€ä¸ªçº¿ç¨‹å¤„ç†&lt;/font&gt;ï¼Œé‡‡ç”¨äº† &lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;IO å¤šè·¯å¤ç”¨ï¼ˆmultiplexingï¼‰æŠ€æœ¯&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Redis åŸºäº Reactor æ¨¡å¼å¼€å‘äº†è‡ªå·±çš„ç½‘ç»œäº‹ä»¶å¤„ç†å™¨ï¼šè¿™ä¸ªå¤„ç†å™¨è¢«ç§°ä¸º **&lt;font color=&#39;cornflowerblue&#39;&gt;æ–‡ä»¶äº‹ä»¶å¤„ç†å™¨ï¼ˆfile event handlerï¼‰&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–‡ä»¶äº‹ä»¶å¤„ç†å™¨ä½¿ç”¨&lt;font color=&#39;cornflowerblue&#39;&gt; I/O å¤šè·¯å¤ç”¨ç¨‹åº&lt;/font&gt;æ¥åŒæ—¶ç›‘å¬å¤šä¸ª&lt;font color=&#39;cornflowerblue&#39;&gt;å¥—æ¥å­—ï¼ˆsocketï¼‰&lt;/font&gt;ï¼Œå¹¶æ ¹æ®å¥—æ¥å­—ç›®å‰æ‰§è¡Œçš„ä»»åŠ¡æ¥ä¸ºå¥—æ¥å­—å…³è”ä¸åŒçš„äº‹ä»¶å¤„ç†å™¨ã€‚&lt;/li&gt;
&lt;li&gt;å½“è¢«ç›‘å¬çš„å¥—æ¥å­—å‡†å¤‡å¥½æ‰§è¡Œè¿æ¥åº”ç­”ï¼ˆacceptï¼‰ã€è¯»å–ï¼ˆreadï¼‰ã€å†™å…¥ï¼ˆwriteï¼‰ã€å…³é—­ï¼ˆcloseï¼‰ç­‰æ“ä½œæ—¶ï¼Œä¸æ“ä½œç›¸å¯¹åº”çš„æ–‡ä»¶äº‹ä»¶å°±ä¼šäº§ç”Ÿï¼Œè¿™æ—¶æ–‡ä»¶äº‹ä»¶å¤„ç†å™¨å°±ä¼šè°ƒç”¨å¥—æ¥å­—ä¹‹å‰å…³è”å¥½çš„äº‹ä»¶å¤„ç†å™¨æ¥å¤„ç†è¿™äº›äº‹ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ–‡ä»¶äº‹ä»¶å¤„ç†å™¨ï¼ˆfile event handlerï¼‰ä¸»è¦æ˜¯åŒ…å« 4 ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤šä¸ª socketï¼ˆå®¢æˆ·ç«¯è¿æ¥ï¼‰&lt;/li&gt;
&lt;li&gt;IO å¤šè·¯å¤ç”¨ç¨‹åºï¼ˆæ”¯æŒå¤šä¸ªå®¢æˆ·ç«¯è¿æ¥çš„å…³é”®ï¼‰&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶äº‹ä»¶åˆ†æ´¾å™¨ï¼ˆå°† socket å…³è”åˆ°ç›¸åº”çš„äº‹ä»¶å¤„ç†å™¨ï¼‰&lt;/li&gt;
&lt;li&gt;äº‹ä»¶å¤„ç†å™¨ï¼ˆè¿æ¥åº”ç­”å¤„ç†å™¨ã€å‘½ä»¤è¯·æ±‚å¤„ç†å™¨ã€å‘½ä»¤å›å¤å¤„ç†å™¨ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-event-handler.png&#34; alt=&#34;æ–‡ä»¶äº‹ä»¶å¤„ç†å™¨ï¼ˆfile event handlerï¼‰&#34; /&gt;&lt;/p&gt;
&lt;center&gt;æ–‡ä»¶äº‹ä»¶å¤„ç†å™¨ï¼ˆfile event handlerï¼‰&lt;/center&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;è™½ç„¶æ–‡ä»¶äº‹ä»¶å¤„ç†å™¨ä»¥å•çº¿ç¨‹æ–¹å¼è¿è¡Œï¼Œä½†é€šè¿‡ä½¿ç”¨ I/O å¤šè·¯å¤ç”¨ç¨‹åºæ¥ç›‘å¬å¤šä¸ªå¥—æ¥å­—&lt;/font&gt;&lt;/strong&gt;ï¼Œæ–‡ä»¶äº‹ä»¶å¤„ç†å™¨æ—¢å®ç°äº†é«˜æ€§èƒ½çš„ç½‘ç»œé€šä¿¡æ¨¡å‹ï¼Œåˆå¯ä»¥å¾ˆå¥½åœ°ä¸ Redis æœåŠ¡å™¨ä¸­å…¶ä»–åŒæ ·ä»¥å•çº¿ç¨‹æ–¹å¼è¿è¡Œçš„æ¨¡å—è¿›è¡Œå¯¹æ¥ï¼Œè¿™ä¿æŒäº† Redis å†…éƒ¨å•çº¿ç¨‹è®¾è®¡çš„ç®€å•æ€§ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;IO å¤šè·¯å¤ç”¨æŠ€æœ¯æ˜¯ä¸€ç§å¤„ç†å¤šä¸ª IO æµçš„æŠ€æœ¯ã€‚å®ƒå…è®¸å•ä¸ªè¿›ç¨‹åŒæ—¶ç›‘è§†å¤šä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼ˆfile descriptorï¼Œfdï¼‰ï¼Œå½“ä¸€ä¸ªæˆ–å¤šä¸ª fd å‡†å¤‡å¥½è¯»æˆ–å†™æ—¶ï¼Œå®ƒå°±å¯ä»¥ç«‹å³å“åº”ã€‚è¿™ç§æŠ€æœ¯å¯ä»¥æé«˜ç³»ç»Ÿçš„å¹¶å‘æ€§å’Œå“åº”èƒ½åŠ›ï¼Œå‡å°‘ç³»ç»Ÿèµ„æºçš„æµªè´¹ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Linux ä¸­ï¼Œepollã€selectã€poll éƒ½æ˜¯ IO å¤šè·¯å¤ç”¨çš„å®ç°æ–¹å¼ï¼Œéƒ½å¯ä»¥ç›‘è§†å¤šä¸ª fdï¼Œä¸€æ—¦æŸä¸ª fd å°±ç»ª (ä¸€èˆ¬æ˜¯è¯»å°±ç»ªæˆ–è€…å†™å°±ç»ª)ï¼Œèƒ½å¤Ÿé€šçŸ¥ç¨‹åºè¿›è¡Œç›¸åº”çš„è¯»å†™æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äº IO å¤šè·¯å¤ç”¨çš„å®ç°æ–¹å¼å¸¸è§çš„æœ‰ä¸‰ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;select æ¨¡å‹&lt;/font&gt;ï¼šæœ€æ—©çš„ IO å¤šè·¯å¤ç”¨æœºåˆ¶ï¼Œ&lt;font color=&#39;red&#39;&gt;åŒæ—¶ç›‘è§† fd çš„æ•°é‡ä¸è¶…è¿‡ 1024 ä¸ªï¼Œè€Œä¸”æ¯æ¬¡åªèƒ½ç›‘è§†ä¸€éƒ¨åˆ† fd çš„çŠ¶æ€å˜åŒ–&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;poll æ¨¡å‹&lt;/font&gt;ï¼šä¸ select ç±»ä¼¼ï¼Œé‡‡ç”¨çš„æ˜¯&lt;font color=&#39;red&#39;&gt;è½®è¯¢ç®—æ³•&lt;/font&gt;ï¼Œä½†æ˜¯å¯ä»¥åŒæ—¶ç›‘è§† fd çš„æ•°é‡æ›´å¤šï¼ˆ65536 ä¸ªï¼‰ï¼Œè¯¥æ¨¡å‹å¯¹å®¢æˆ·ç«¯çš„å°±ç»ªå¤„ç†æ˜¯æœ‰å»¶è¿Ÿçš„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;epoll æ¨¡å‹&lt;/font&gt;ï¼šæ˜¯ Linux æ‰€ç‰¹æœ‰çš„ï¼Œé‡‡ç”¨çš„æ˜¯&lt;font color=&#39;red&#39;&gt;å›è°ƒæ–¹å¼&lt;/font&gt;ï¼Œæ”¯æŒæ›´å¤šçš„ fd æ•°é‡ï¼ˆ8192 ä¸ªï¼‰ï¼Œæ ¹æ®å°±ç»ªäº‹ä»¶å‘ç”Ÿåçš„å¤„ç†æ–¹å¼çš„ä¸åŒï¼Œåˆå¯åˆ†ä¸º LT æ¨¡å‹ä¸ ET æ¨¡å‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ¯ä¸ª&lt;font color=&#39;gree&#39;&gt;å®¢æˆ·ç«¯&lt;/font&gt;è‹¥è¦å‘ Redis æäº¤è¯·æ±‚ï¼Œéƒ½éœ€è¦ä¸ Redis å»ºç«‹ä¸€ä¸ª &lt;font color=&#39;gree&#39;&gt;socket è¿æ¥&lt;/font&gt;ï¼Œå¹¶å‘&lt;font color=&#39;gree&#39;&gt;äº‹ä»¶åˆ†å‘å™¨&lt;/font&gt;æ³¨å†Œä¸€ä¸ªäº‹ä»¶ã€‚ä¸€æ—¦è¯¥äº‹ä»¶å‘ç”Ÿå°±è¡¨æ˜è¯¥è¿æ¥å·²ç»å°±ç»ªã€‚è€Œä¸€æ—¦è¿æ¥å°±ç»ªï¼Œäº‹ä»¶åˆ†å‘å™¨å°±ä¼šæ„ŸçŸ¥åˆ°ï¼Œç„¶åè·å–å®¢æˆ·ç«¯é€šè¿‡è¯¥è¿æ¥å‘é€çš„è¯·æ±‚ï¼Œå¹¶å°†ç”±è¯¥äº‹ä»¶åˆ†å‘å™¨æ‰€ç»‘å®šçš„è¿™ä¸ª&lt;font color=&#39;red&#39;&gt;å”¯ä¸€çš„çº¿ç¨‹&lt;/font&gt;æ¥å¤„ç†ã€‚å¦‚æœè¯¥çº¿ç¨‹è¿˜åœ¨å¤„ç†å¤šä¸ªä»»åŠ¡ï¼Œåˆ™å°†è¯¥ä»»åŠ¡å†™å…¥åˆ°&lt;font color=&#39;gree&#39;&gt;ä»»åŠ¡é˜Ÿåˆ—&lt;/font&gt;ç­‰å¾…çº¿ç¨‹å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹æ‰€ä»¥ç§°ä¸ºäº‹ä»¶åˆ†å‘å™¨ï¼Œæ˜¯å› ä¸ºå®ƒä¼šæ ¹æ®ä¸åŒçš„å°±ç»ªäº‹ä»¶ï¼Œå°†ä»»åŠ¡äº¤ç”±ä¸åŒçš„&lt;font color=&#39;gree&#39;&gt;äº‹ä»¶å¤„ç†å™¨&lt;/font&gt;å»å¤„ç†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ··åˆçº¿ç¨‹æ¨¡å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ··åˆçº¿ç¨‹æ¨¡å‹&#34;&gt;#&lt;/a&gt; æ··åˆçº¿ç¨‹æ¨¡å‹&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Redis 4.0 å¼€å§‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä» Redis 4.0 ç‰ˆæœ¬å¼€å§‹ï¼ŒRedis ä¸­å°±å¼€å§‹åŠ å…¥äº†å¤šçº¿ç¨‹å…ƒç´ ã€‚å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚çš„ä»æ˜¯å•çº¿ç¨‹æ¨¡å‹ï¼Œä½†&lt;font color=&#39;red&#39;&gt;å¯¹äºä¸€äº›æ¯”è¾ƒè€—æ—¶ä½†åˆä¸å½±å“å¯¹å®¢æˆ·ç«¯çš„å“åº”çš„æ“ä½œï¼Œå°±ç”±åå°å…¶å®ƒçº¿ç¨‹æ¥å¤„ç†&lt;/font&gt;ã€‚ä¾‹å¦‚ï¼ŒæŒä¹…åŒ–ã€å¯¹ AOF çš„ rewriteã€å¯¹å¤±æ•ˆè¿æ¥çš„æ¸…ç†ç­‰ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¤šçº¿ç¨‹æ¨¡å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¤šçº¿ç¨‹æ¨¡å‹&#34;&gt;#&lt;/a&gt; å¤šçº¿ç¨‹æ¨¡å‹&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Redis 6.0 å¼€å§‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;Redis 6.0 ç‰ˆæœ¬ï¼Œæ‰æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„å¤šçº¿ç¨‹æ¨¡å‹&lt;/font&gt;ã€‚å› ä¸ºå…¶ **&lt;font color=&#39;red&#39;&gt;å¯¹äºå®¢æˆ·ç«¯è¯·æ±‚çš„å¤„ç†é‡‡ç”¨çš„æ˜¯å¤šçº¿ç¨‹æ¨¡å‹&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231208211428194.png&#34; alt=&#34;image-20231208211428194&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¤šçº¿ç¨‹ IO æ¨¡å‹ä¸­çš„&lt;font color=&#39;red&#39;&gt;â€œå¤šçº¿ç¨‹â€ ä»…ç”¨äºæ¥å—ã€è§£æå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œç„¶åå°†è§£æå‡ºçš„è¯·æ±‚å†™å…¥åˆ°ä»»åŠ¡é˜Ÿåˆ—&lt;/font&gt;ã€‚è€Œ **&lt;font color=&#39;red&#39;&gt;å¯¹å…·ä½“ä»»åŠ¡ï¼ˆå‘½ä»¤ï¼‰çš„å¤„ç†ï¼Œä»æ˜¯ç”±ä¸»çº¿ç¨‹å¤„ç†&lt;/font&gt;**ã€‚è¿™æ ·åšä½¿å¾—ç”¨æˆ·æ— éœ€è€ƒè™‘çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œæ— éœ€è€ƒè™‘äº‹åŠ¡æ§åˆ¶ï¼Œæ— éœ€è€ƒè™‘åƒ LPUSH/LPOP ç­‰å‘½ä»¤çš„æ‰§è¡Œé¡ºåºé—®é¢˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¼˜ç¼ºç‚¹æ€»ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¼˜ç¼ºç‚¹æ€»ç»“&#34;&gt;#&lt;/a&gt; ä¼˜ç¼ºç‚¹æ€»ç»“&lt;/h2&gt;
&lt;p&gt;å•çº¿ç¨‹æ¨¡å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;å¯ç»´æŠ¤æ€§é«˜&lt;/li&gt;
&lt;li&gt;ä¸å­˜åœ¨å¹¶å‘è¯»å†™æƒ…å†µï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸å­˜åœ¨æ‰§è¡Œé¡ºåºçš„ä¸ç¡®å®šæ€§ï¼Œä¸å­˜åœ¨çº¿ç¨‹åˆ‡æ¢å¼€é”€ï¼Œä¸å­˜åœ¨æ­»é”é—®é¢˜ï¼Œä¸å­˜åœ¨ä¸ºäº†æ•°æ®å®‰å…¨è€Œè¿›è¡Œçš„åŠ é” / è§£é”&lt;br /&gt;
å¼€é”€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;æ€§èƒ½ä½&lt;/li&gt;
&lt;li&gt;ä¼šå½¢æˆå¤„ç†å™¨æµªè´¹ï¼ˆå•çº¿ç¨‹åªèƒ½ä½¿ç”¨ä¸€ä¸ªå¤„ç†å™¨ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¤šçº¿ç¨‹æ¨¡å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;ç»“åˆäº†å¤šçº¿ç¨‹ä¸å•çº¿ç¨‹çš„ä¼˜ç‚¹ï¼Œé¿å¼€äº†å®ƒä»¬çš„æ‰€æœ‰ä¸è¶³&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;éæ˜¯ä¸€ä¸ªçœŸæ­£æ„ä¹‰ä¸Šçš„ â€œå¤šçº¿ç¨‹â€ï¼Œå› ä¸ºçœŸæ­£å¤„ç† â€œä»»åŠ¡â€ çš„çº¿ç¨‹ä»æ˜¯å•çº¿ç¨‹ã€‚æ‰€ä»¥ï¼Œå…¶å¯¹æ€§èƒ½ä¹Ÿæ˜¯æœ‰äº›å½±å“çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;redis-60-ä¹‹å‰ä¸ºä»€ä¹ˆä¸ä½¿ç”¨å¤šçº¿ç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-60-ä¹‹å‰ä¸ºä»€ä¹ˆä¸ä½¿ç”¨å¤šçº¿ç¨‹&#34;&gt;#&lt;/a&gt; Redis 6.0 ä¹‹å‰ä¸ºä»€ä¹ˆä¸ä½¿ç”¨å¤šçº¿ç¨‹ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;è™½ç„¶è¯´ Redis æ˜¯å•çº¿ç¨‹æ¨¡å‹ï¼Œä½†æ˜¯å®é™…ä¸Šï¼Œ&lt;strong&gt;Redis åœ¨ 4.0 ä¹‹åçš„ç‰ˆæœ¬ä¸­å°±å·²ç»åŠ å…¥äº†å¯¹å¤šçº¿ç¨‹çš„æ”¯æŒã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œ&lt;font color=&#39;red&#39;&gt;Redis 4.0 å¢åŠ çš„å¤šçº¿ç¨‹ä¸»è¦æ˜¯é’ˆå¯¹ä¸€äº›å¤§é”®å€¼å¯¹çš„åˆ é™¤æ“ä½œçš„å‘½ä»¤&lt;/font&gt;ï¼Œä½¿ç”¨è¿™äº›å‘½ä»¤å°±ä¼šä½¿ç”¨ä¸»çº¿ç¨‹ä¹‹å¤–çš„å…¶ä»–çº¿ç¨‹æ¥ â€œå¼‚æ­¥å¤„ç†â€ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºæ­¤ï¼ŒRedis 4.0 ä¹‹åæ–°å¢äº† &lt;code&gt;UNLINK&lt;/code&gt; ï¼ˆå¯ä»¥çœ‹ä½œæ˜¯  &lt;code&gt;DEL&lt;/code&gt;  çš„å¼‚æ­¥ç‰ˆæœ¬ï¼‰ã€ &lt;code&gt;FLUSHALL ASYNC&lt;/code&gt; ï¼ˆæ¸…ç©ºæ‰€æœ‰æ•°æ®åº“çš„æ‰€æœ‰ keyï¼Œä¸ä»…ä»…æ˜¯å½“å‰  &lt;code&gt;SELECT&lt;/code&gt;  çš„æ•°æ®åº“ï¼‰ã€ &lt;code&gt;FLUSHDB ASYNC&lt;/code&gt; ï¼ˆæ¸…ç©ºå½“å‰  &lt;code&gt;SELECT&lt;/code&gt;  æ•°æ®åº“ä¸­çš„æ‰€æœ‰ keyï¼‰ç­‰å¼‚æ­¥å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis4.0-more-thread.png&#34; alt=&#34;redis4.0 more thread&#34; /&gt;&lt;/p&gt;
&lt;center&gt;redis4.0 more thread&lt;/center&gt;
&lt;p&gt;å¤§ä½“ä¸Šæ¥è¯´ï¼ŒRedis 6.0 ä¹‹å‰ä¸»è¦è¿˜æ˜¯å•çº¿ç¨‹å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é‚£ Redis6.0 ä¹‹å‰ä¸ºä»€ä¹ˆä¸ä½¿ç”¨å¤šçº¿ç¨‹ï¼Ÿ&lt;/strong&gt; æˆ‘è§‰å¾—ä¸»è¦åŸå› æœ‰ 3 ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å•çº¿ç¨‹ç¼–ç¨‹å®¹æ˜“å¹¶ä¸”æ›´å®¹æ˜“ç»´æŠ¤&lt;/font&gt;ï¼›&lt;/li&gt;
&lt;li&gt;Redis çš„æ€§èƒ½ç“¶é¢ˆä¸åœ¨ CPU ï¼Œä¸»è¦åœ¨å†…å­˜å’Œç½‘ç»œï¼›&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å¤šçº¿ç¨‹å°±ä¼šå­˜åœ¨æ­»é”ã€çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ç­‰é—®é¢˜&lt;/font&gt;ï¼Œç”šè‡³ä¼šå½±å“æ€§èƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç›¸å…³é˜…è¯»ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9kcmF2ZW5lc3MubWUvd2h5cy10aGUtZGVzaWduLXJlZGlzLXNpbmdsZS10aHJlYWQv&#34;&gt;ä¸ºä»€ä¹ˆ Redis é€‰æ‹©å•çº¿ç¨‹æ¨¡å‹ï¼Ÿ&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&#34;redis60-ä¹‹åä¸ºä½•å¼•å…¥äº†å¤šçº¿ç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis60-ä¹‹åä¸ºä½•å¼•å…¥äº†å¤šçº¿ç¨‹&#34;&gt;#&lt;/a&gt; Redis6.0 ä¹‹åä¸ºä½•å¼•å…¥äº†å¤šçº¿ç¨‹ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Redis6.0 å¼•å…¥å¤šçº¿ç¨‹ä¸»è¦æ˜¯ä¸ºäº†æé«˜ç½‘ç»œ IO è¯»å†™æ€§èƒ½&lt;/font&gt;&lt;/strong&gt;ï¼Œå› ä¸ºè¿™ä¸ªç®—æ˜¯ Redis ä¸­çš„ä¸€ä¸ªæ€§èƒ½ç“¶é¢ˆï¼ˆRedis çš„ç“¶é¢ˆä¸»è¦å—é™äºå†…å­˜å’Œç½‘ç»œï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶ï¼ŒRedis6.0 å¼•å…¥äº†å¤šçº¿ç¨‹ï¼Œ&lt;font color=&#39;red&#39;&gt;ä½†æ˜¯ Redis çš„å¤šçº¿ç¨‹åªæ˜¯åœ¨ç½‘ç»œæ•°æ®çš„è¯»å†™è¿™ç±»è€—æ—¶æ“ä½œä¸Šä½¿ç”¨äº†ï¼Œæ‰§è¡Œå‘½ä»¤ä»ç„¶æ˜¯å•çº¿ç¨‹é¡ºåºæ‰§è¡Œ&lt;/font&gt;ã€‚å› æ­¤ï¼Œä½ ä¹Ÿä¸éœ€è¦æ‹…å¿ƒçº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;Redis6.0 çš„å¤šçº¿ç¨‹é»˜è®¤æ˜¯ç¦ç”¨çš„ï¼Œåªä½¿ç”¨ä¸»çº¿ç¨‹&lt;/font&gt;ã€‚å¦‚éœ€å¼€å¯éœ€è¦è®¾ç½® IO çº¿ç¨‹æ•° &amp;gt; 1ï¼Œéœ€è¦ä¿®æ”¹ redis é…ç½®æ–‡ä»¶  &lt;code&gt;redis.conf&lt;/code&gt; ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;io-threads &lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;#è®¾ç½® 1 çš„è¯åªä¼šå¼€å¯ä¸»çº¿ç¨‹ï¼Œå®˜ç½‘å»ºè®® 4 æ ¸çš„æœºå™¨å»ºè®®è®¾ç½®ä¸º 2 æˆ– 3 ä¸ªçº¿ç¨‹ï¼Œ8 æ ¸çš„å»ºè®®è®¾ç½®ä¸º 6 ä¸ªçº¿ç¨‹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¦å¤–ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;io-threads çš„ä¸ªæ•°ä¸€æ—¦è®¾ç½®ï¼Œä¸èƒ½é€šè¿‡ config åŠ¨æ€è®¾ç½®ã€‚&lt;/li&gt;
&lt;li&gt;å½“è®¾ç½® ssl åï¼Œio-threads å°†ä¸å·¥ä½œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¼€å¯å¤šçº¿ç¨‹åï¼Œé»˜è®¤åªä¼šä½¿ç”¨å¤šçº¿ç¨‹è¿›è¡Œ IO å†™å…¥ writesï¼Œå³å‘é€æ•°æ®ç»™å®¢æˆ·ç«¯ï¼Œå¦‚æœéœ€è¦å¼€å¯å¤šçº¿ç¨‹ IO è¯»å– readsï¼ŒåŒæ ·éœ€è¦ä¿®æ”¹ redis é…ç½®æ–‡ä»¶  &lt;code&gt;redis.conf&lt;/code&gt;  :&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;io-threads-do-reads &lt;span class=&#34;token function&#34;&gt;yes&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ä½†æ˜¯ **&lt;font color=&#39;red&#39;&gt;å®˜ç½‘æè¿°å¼€å¯å¤šçº¿ç¨‹è¯»å¹¶ä¸èƒ½æœ‰å¤ªå¤§æå‡ï¼Œå› æ­¤ä¸€èˆ¬æƒ…å†µä¸‹å¹¶ä¸å»ºè®®å¼€å¯&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;p&gt;ç›¸å…³é˜…è¯»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvRlp1M2Fjd0s2enJDQlpRXzNIb1Vndw==&#34;&gt;Redis 6.0 æ–°ç‰¹æ€§ - å¤šçº¿ç¨‹è¿ç¯ 13 é—®ï¼&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9zZWdtZW50ZmF1bHQuY29tL2EvMTE5MDAwMDAzOTIyMzY5Ng==&#34;&gt;Redis å¤šçº¿ç¨‹ç½‘ç»œæ¨¡å‹å…¨é¢æ­ç§˜&lt;/span&gt;ï¼ˆæ¨èï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;redis-åå°çº¿ç¨‹äº†è§£å—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-åå°çº¿ç¨‹äº†è§£å—&#34;&gt;#&lt;/a&gt; Redis åå°çº¿ç¨‹äº†è§£å—ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬è™½ç„¶ç»å¸¸è¯´ Redis æ˜¯å•çº¿ç¨‹æ¨¡å‹ï¼ˆä¸»è¦é€»è¾‘æ˜¯å•çº¿ç¨‹å®Œæˆçš„ï¼‰ï¼Œä½†å®é™…è¿˜æœ‰ä¸€äº›åå°çº¿ç¨‹ç”¨äºæ‰§è¡Œä¸€äº›æ¯”è¾ƒè€—æ—¶çš„æ“ä½œï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;bio_close_file&lt;/code&gt;  åå°çº¿ç¨‹ï¼šé‡Šæ”¾ AOF / RDB ç­‰è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;bio_aof_fsync&lt;/code&gt;  åå°çº¿ç¨‹ï¼šè°ƒç”¨  &lt;code&gt;fsync&lt;/code&gt;  å‡½æ•°å°†ç³»ç»Ÿå†…æ ¸ç¼“å†²åŒºè¿˜æœªåŒæ­¥åˆ°åˆ°ç£ç›˜çš„æ•°æ®å¼ºåˆ¶åˆ·åˆ°ç£ç›˜ï¼ˆ AOF æ–‡ä»¶ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;bio_lazy_free&lt;/code&gt;  åå°çº¿ç¨‹ï¼šé‡Šæ”¾å¤§å¯¹è±¡ï¼ˆå·²åˆ é™¤ï¼‰å ç”¨çš„å†…å­˜ç©ºé—´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨  &lt;code&gt;bio.h&lt;/code&gt;  æ–‡ä»¶ä¸­æœ‰å®šä¹‰ï¼ˆRedis 6.0 ç‰ˆæœ¬ï¼Œæºç åœ°å€ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL3JlZGlzL3JlZGlzL2Jsb2IvNi4wL3NyYy9iaW8uaCVFRiVCQyU4OSVFRiVCQyU5QQ==&#34;&gt;https://github.com/redis/redis/blob/6.0/src/bio.hï¼‰ï¼š&lt;/span&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;#ifndef __BIO_H&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;#define __BIO_H&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;/* Exported API */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;bioInit&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;bioCreateBackgroundJob&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt; type&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;arg1&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;arg2&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;arg3&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;unsigned &lt;span class=&#34;token keyword&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;bioPendingJobsOfType&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt; type&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;unsigned &lt;span class=&#34;token keyword&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;bioWaitStepOfType&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt; type&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;time_t &lt;span class=&#34;token function&#34;&gt;bioOlderJobOfType&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt; type&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;bioKillThreads&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;/* Background job opcodes */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;#define &lt;span class=&#34;token constant&#34;&gt;BIO_CLOSE_FILE&lt;/span&gt;    &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/* Deferred close(2) syscall. */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;#define &lt;span class=&#34;token constant&#34;&gt;BIO_AOF_FSYNC&lt;/span&gt;     &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/* Deferred AOF fsync. */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;#define &lt;span class=&#34;token constant&#34;&gt;BIO_LAZY_FREE&lt;/span&gt;     &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;/* Deferred objects freeing. */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;#define &lt;span class=&#34;token constant&#34;&gt;BIO_NUM_OPS&lt;/span&gt;       &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;#endif&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å…³äº Redis åå°çº¿ç¨‹çš„è¯¦ç»†ä»‹ç»å¯ä»¥æŸ¥çœ‹ &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qdWVqaW4uY24vcG9zdC83MTAyNzgwNDM0NzM5NjI2MDE0&#34;&gt;Redis 6.0 åå°çº¿ç¨‹æœ‰å“ªäº›ï¼Ÿ&lt;/span&gt; è¿™ç¯‡å°±æ–‡ç« ã€‚&lt;/p&gt;
&lt;h1 id=&#34;redis-å†…å­˜ç®¡ç†ç¼“å­˜æ•°æ®ç®¡ç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-å†…å­˜ç®¡ç†ç¼“å­˜æ•°æ®ç®¡ç†&#34;&gt;#&lt;/a&gt; Redis å†…å­˜ç®¡ç†ï¼ˆç¼“å­˜æ•°æ®ç®¡ç†ï¼‰&lt;/h1&gt;
&lt;h2 id=&#34;redis-ç»™ç¼“å­˜æ•°æ®è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ„ä¹‰&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-ç»™ç¼“å­˜æ•°æ®è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ„ä¹‰&#34;&gt;#&lt;/a&gt; Redis ç»™ç¼“å­˜æ•°æ®è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ„ä¹‰&lt;/h2&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å› ä¸ºå†…å­˜æ˜¯æœ‰é™çš„&lt;/font&gt;ï¼Œå¦‚æœç¼“å­˜ä¸­çš„æ‰€æœ‰æ•°æ®éƒ½æ˜¯ä¸€ç›´ä¿å­˜çš„è¯ï¼Œåˆ†åˆ†é’Ÿç›´æ¥ Out of memoryã€‚&lt;/p&gt;
&lt;p&gt;Redis è‡ªå¸¦äº†ç»™ç¼“å­˜æ•°æ®è®¾ç½®è¿‡æœŸæ—¶é—´çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; expire key &lt;span class=&#34;token number&#34;&gt;60&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;# æ•°æ®åœ¨ 60s åè¿‡æœŸ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; setex key &lt;span class=&#34;token number&#34;&gt;60&lt;/span&gt; value &lt;span class=&#34;token comment&#34;&gt;# æ•°æ®åœ¨ 60s åè¿‡æœŸ (setex:[set] + [ex] pire)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; ttl key &lt;span class=&#34;token comment&#34;&gt;# æŸ¥çœ‹æ•°æ®è¿˜æœ‰å¤šä¹…è¿‡æœŸ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;56&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ï¼š&lt;strong&gt;Redis ä¸­é™¤äº†å­—ç¬¦ä¸²ç±»å‹æœ‰è‡ªå·±ç‹¬æœ‰è®¾ç½®è¿‡æœŸæ—¶é—´çš„å‘½ä»¤  &lt;code&gt;setex&lt;/code&gt;  å¤–ï¼Œå…¶ä»–æ–¹æ³•éƒ½éœ€è¦ä¾é   &lt;code&gt;expire&lt;/code&gt;  å‘½ä»¤æ¥è®¾ç½®è¿‡æœŸæ—¶é—´ã€‚å¦å¤–ï¼Œ &lt;code&gt;persist&lt;/code&gt;  å‘½ä»¤å¯ä»¥ç§»é™¤ä¸€ä¸ªé”®çš„è¿‡æœŸæ—¶é—´ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;è¿‡æœŸæ—¶é—´é™¤äº†&lt;font color=&#39;red&#39;&gt;æœ‰åŠ©äºç¼“è§£å†…å­˜çš„æ¶ˆè€—&lt;/font&gt;ï¼Œè¿˜æœ‰ä»€ä¹ˆå…¶ä»–ç”¨ä¹ˆï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬çš„ **&lt;font color=&#39;red&#39;&gt;ä¸šåŠ¡åœºæ™¯å°±æ˜¯éœ€è¦æŸä¸ªæ•°æ®åªåœ¨æŸä¸€æ—¶é—´æ®µå†…å­˜åœ¨&lt;/font&gt;**ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„çŸ­ä¿¡éªŒè¯ç å¯èƒ½åªåœ¨ 1 åˆ†é’Ÿå†…æœ‰æ•ˆï¼Œç”¨æˆ·ç™»å½•çš„ Token å¯èƒ½åªåœ¨ 1 å¤©å†…æœ‰æ•ˆã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½¿ç”¨ä¼ ç»Ÿçš„æ•°æ®åº“æ¥å¤„ç†çš„è¯ï¼Œä¸€èˆ¬éƒ½æ˜¯è‡ªå·±åˆ¤æ–­è¿‡æœŸï¼Œè¿™æ ·æ›´éº»çƒ¦å¹¶ä¸”æ€§èƒ½è¦å·®å¾ˆå¤šã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¿‡æœŸæ•°æ®çš„åˆ¤æ–­&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¿‡æœŸæ•°æ®çš„åˆ¤æ–­&#34;&gt;#&lt;/a&gt; è¿‡æœŸæ•°æ®çš„åˆ¤æ–­&lt;/h2&gt;
&lt;p&gt;Redis é€šè¿‡ä¸€ä¸ªå«åš **&lt;font color=&#39;cornflowerblue&#39;&gt;è¿‡æœŸå­—å…¸&lt;/font&gt;**ï¼ˆå¯ä»¥çœ‹ä½œæ˜¯ hash è¡¨ï¼‰æ¥ä¿å­˜æ•°æ®è¿‡æœŸçš„æ—¶é—´ã€‚è¿‡æœŸå­—å…¸çš„&lt;font color=&#39;red&#39;&gt;é”®æŒ‡å‘ Redis æ•°æ®åº“ä¸­çš„æŸä¸ª key (é”®)&lt;/font&gt;ï¼Œè¿‡æœŸå­—å…¸çš„&lt;font color=&#39;red&#39;&gt;å€¼æ˜¯ä¸€ä¸ª long long ç±»å‹çš„æ•´æ•°&lt;/font&gt;ï¼Œè¿™ä¸ªæ•´æ•°ä¿å­˜äº† key æ‰€æŒ‡å‘çš„æ•°æ®åº“é”®çš„è¿‡æœŸæ—¶é—´ï¼ˆæ¯«ç§’ç²¾åº¦çš„ UNIX æ—¶é—´æˆ³ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-expired-dictionary.png&#34; alt=&#34;redisè¿‡æœŸå­—å…¸&#34; /&gt;&lt;/p&gt;
&lt;center&gt;redisè¿‡æœŸå­—å…¸&lt;/center&gt;
&lt;p&gt;è¿‡æœŸå­—å…¸æ˜¯å­˜å‚¨åœ¨  &lt;code&gt;redisDb&lt;/code&gt;  è¿™ä¸ªç»“æ„é‡Œçš„ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c&#34;&gt;&lt;figcaption data-lang=&#34;c&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;typedef&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;redisDb&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    dict &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;dict&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;     &lt;span class=&#34;token comment&#34;&gt;// æ•°æ®åº“é”®ç©ºé—´ï¼Œä¿å­˜ç€æ•°æ®åº“ä¸­æ‰€æœ‰é”®å€¼å¯¹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    dict &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;expires   &lt;span class=&#34;token comment&#34;&gt;// è¿‡æœŸå­—å…¸ï¼Œä¿å­˜ç€é”®çš„è¿‡æœŸæ—¶é—´&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; redisDb&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;è¿‡æœŸçš„æ•°æ®çš„åˆ é™¤ç­–ç•¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¿‡æœŸçš„æ•°æ®çš„åˆ é™¤ç­–ç•¥&#34;&gt;#&lt;/a&gt; è¿‡æœŸçš„æ•°æ®çš„åˆ é™¤ç­–ç•¥&lt;/h2&gt;
&lt;p&gt;å¦‚æœå‡è®¾ä½ è®¾ç½®äº†ä¸€æ‰¹ key åªèƒ½å­˜æ´» 1 åˆ†é’Ÿï¼Œé‚£ä¹ˆ 1 åˆ†é’Ÿåï¼ŒRedis æ˜¯æ€ä¹ˆå¯¹è¿™æ‰¹ key è¿›è¡Œåˆ é™¤çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¸¸ç”¨çš„è¿‡æœŸæ•°æ®çš„åˆ é™¤ç­–ç•¥å°±ä¸¤ä¸ªï¼ˆé‡è¦ï¼è‡ªå·±é€ ç¼“å­˜è½®å­çš„æ—¶å€™éœ€è¦æ ¼å¤–è€ƒè™‘çš„ä¸œè¥¿ï¼‰ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æƒ°æ€§åˆ é™¤&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;åªä¼šåœ¨å–å‡º key çš„æ—¶å€™æ‰å¯¹æ•°æ®è¿›è¡Œè¿‡æœŸæ£€æŸ¥&lt;/font&gt;ã€‚è¿™æ ·å¯¹ CPU æœ€å‹å¥½ï¼Œä½†æ˜¯å¯èƒ½ä¼šé€ æˆå¤ªå¤šè¿‡æœŸ key æ²¡æœ‰è¢«åˆ é™¤ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å®šæœŸåˆ é™¤&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;æ¯éš”ä¸€æ®µæ—¶é—´æŠ½å–ä¸€æ‰¹ key æ‰§è¡Œåˆ é™¤è¿‡æœŸ key æ“ä½œ&lt;/font&gt;ã€‚å¹¶ä¸”ï¼ŒRedis åº•å±‚ä¼šé€šè¿‡é™åˆ¶åˆ é™¤æ“ä½œæ‰§è¡Œçš„æ—¶é•¿å’Œé¢‘ç‡æ¥å‡å°‘åˆ é™¤æ“ä½œå¯¹ CPU æ—¶é—´çš„å½±å“ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å®šæœŸåˆ é™¤å¯¹å†…å­˜æ›´åŠ å‹å¥½ï¼Œæƒ°æ€§åˆ é™¤å¯¹ CPU æ›´åŠ å‹å¥½ã€‚ä¸¤è€…å„æœ‰åƒç§‹ï¼Œæ‰€ä»¥ Redis é‡‡ç”¨çš„æ˜¯ &lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å®šæœŸåˆ é™¤ + æƒ°æ€§åˆ é™¤&lt;/font&gt;&lt;/strong&gt; ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œä»…ä»…é€šè¿‡ç»™ key è®¾ç½®è¿‡æœŸæ—¶é—´è¿˜æ˜¯æœ‰é—®é¢˜çš„ã€‚å› ä¸ºè¿˜æ˜¯&lt;font color=&#39;red&#39;&gt;å¯èƒ½å­˜åœ¨å®šæœŸåˆ é™¤å’Œæƒ°æ€§åˆ é™¤æ¼æ‰äº†å¾ˆå¤šè¿‡æœŸ key çš„æƒ…å†µ&lt;/font&gt;ã€‚è¿™æ ·å°±å¯¼è‡´å¤§é‡è¿‡æœŸ key å †ç§¯åœ¨å†…å­˜é‡Œï¼Œç„¶åå°± Out of memory äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯ï¼š&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;Redis å†…å­˜æ·˜æ±°æœºåˆ¶&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;redis-å†…å­˜æ·˜æ±°æœºåˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-å†…å­˜æ·˜æ±°æœºåˆ¶&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸRedis å†…å­˜æ·˜æ±°æœºåˆ¶&lt;/mark&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;ç›¸å…³é—®é¢˜ï¼šMySQL é‡Œæœ‰ 2000w æ•°æ®ï¼ŒRedis ä¸­åªå­˜ 20w çš„æ•°æ®ï¼Œ&lt;font color=&#39;red&#39;&gt;å¦‚ä½•ä¿è¯ Redis ä¸­çš„æ•°æ®éƒ½æ˜¯çƒ­ç‚¹æ•°æ®ï¼Ÿ&lt;/font&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Redis æä¾› 6 ç§æ•°æ®æ·˜æ±°ç­–ç•¥ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;volatile-lruï¼ˆleast recently usedï¼‰&lt;/strong&gt;ï¼šä»&lt;u&gt;å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ•°æ®é›†&lt;/u&gt;ï¼ˆ &lt;code&gt;server.db[i].expires&lt;/code&gt; ï¼‰ä¸­æŒ‘é€‰&lt;font color=&#39;red&#39;&gt;æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„&lt;/font&gt;æ•°æ®æ·˜æ±°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;volatile-ttl&lt;/strong&gt;ï¼šä»&lt;u&gt;å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ•°æ®é›†&lt;/u&gt;ï¼ˆ &lt;code&gt;server.db[i].expires&lt;/code&gt; ï¼‰ä¸­æŒ‘é€‰&lt;font color=&#39;red&#39;&gt;å°†è¦è¿‡æœŸçš„&lt;/font&gt;æ•°æ®æ·˜æ±°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;volatile-random&lt;/strong&gt;ï¼šä»&lt;u&gt;å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ•°æ®é›†&lt;/u&gt;ï¼ˆ &lt;code&gt;server.db[i].expires&lt;/code&gt; ï¼‰ä¸­&lt;font color=&#39;red&#39;&gt;ä»»æ„é€‰æ‹©&lt;/font&gt;æ•°æ®æ·˜æ±°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;allkeys-lruï¼ˆleast recently usedï¼‰&lt;/strong&gt;ï¼šå½“å†…å­˜ä¸è¶³ä»¥å®¹çº³æ–°å†™å…¥æ•°æ®æ—¶ï¼Œåœ¨&lt;u&gt;é”®ç©ºé—´ä¸­&lt;/u&gt;ï¼Œç§»é™¤&lt;font color=&#39;red&#39;&gt;æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„&lt;/font&gt; keyï¼ˆè¿™ä¸ªæ˜¯&lt;font color=&#39;gree&#39;&gt;æœ€å¸¸ç”¨çš„&lt;/font&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;allkeys-random&lt;/strong&gt;ï¼šä»æ•°æ®é›†ï¼ˆ &lt;code&gt;server.db[i].dict&lt;/code&gt; ï¼‰ä¸­&lt;font color=&#39;red&#39;&gt;ä»»æ„é€‰æ‹©&lt;/font&gt;æ•°æ®æ·˜æ±°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;no-eviction&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;ç¦æ­¢é©±é€æ•°æ®&lt;/font&gt;ï¼Œä¹Ÿå°±æ˜¯è¯´å½“å†…å­˜ä¸è¶³ä»¥å®¹çº³æ–°å†™å…¥æ•°æ®æ—¶ï¼Œæ–°å†™å…¥æ“ä½œä¼šæŠ¥é”™ã€‚è¿™ä¸ªåº”è¯¥æ²¡äººä½¿ç”¨å§ï¼&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Redis 4.0 ç‰ˆæœ¬åå¢åŠ ä»¥ä¸‹ä¸¤ç§ï¼š&lt;/p&gt;
&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;volatile-lfuï¼ˆleast frequently usedï¼‰&lt;/strong&gt;ï¼šä»&lt;u&gt;å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ•°æ®é›†&lt;/u&gt;ï¼ˆ &lt;code&gt;server.db[i].expires&lt;/code&gt; ï¼‰ä¸­æŒ‘é€‰&lt;font color=&#39;red&#39;&gt;æœ€ä¸ç»å¸¸ä½¿ç”¨çš„&lt;/font&gt;æ•°æ®æ·˜æ±°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;allkeys-lfuï¼ˆleast frequently usedï¼‰&lt;/strong&gt;ï¼šå½“å†…å­˜ä¸è¶³ä»¥å®¹çº³æ–°å†™å…¥æ•°æ®æ—¶ï¼Œåœ¨&lt;u&gt;é”®ç©ºé—´ä¸­&lt;/u&gt;ï¼Œç§»é™¤&lt;font color=&#39;red&#39;&gt;æœ€ä¸ç»å¸¸ä½¿ç”¨çš„&lt;/font&gt; keyã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;redis-äº‹åŠ¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-äº‹åŠ¡&#34;&gt;#&lt;/a&gt; Redis äº‹åŠ¡&lt;/h1&gt;
&lt;h2 id=&#34;ç®€ä»‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®€ä»‹&#34;&gt;#&lt;/a&gt; ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;Redis çš„äº‹åŠ¡çš„æœ¬è´¨æ˜¯ **&lt;font color=&#39;red&#39;&gt;ä¸€ç»„å‘½ä»¤çš„æ‰¹å¤„ç†&lt;/font&gt;**ã€‚è¿™ç»„å‘½ä»¤åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šè¢«&lt;font color=&#39;red&#39;&gt;æŒ‰é¡ºåºã€ä¸€æ¬¡æ€§ã€ä¸²è¡ŒåŒ–&lt;/font&gt;å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼Œåªè¦æ²¡æœ‰å‡ºç°è¯­æ³•é”™è¯¯ï¼Œè¿™ç»„å‘½ä»¤åœ¨æ‰§è¡ŒæœŸé—´æ˜¯&lt;font color=&#39;red&#39;&gt;ä¸ä¼šè¢«ä¸­æ–­ï¼ˆå…¶ä»–å‘½ä»¤æ— æ³•æ’å…¥ï¼‰&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¸¸ç”¨å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¸¸ç”¨å‘½ä»¤&#34;&gt;#&lt;/a&gt; å¸¸ç”¨å‘½ä»¤&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‘½ä»¤&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;th&gt;è¿”å›å€¼&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;MULTI&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;æ ‡è®°ä¸€ä¸ªäº‹åŠ¡å—çš„å¼€å§‹&lt;/font&gt;ã€‚éšåçš„ä¸€ç³»åˆ—æŒ‡ä»¤å°†åœ¨æ‰§è¡Œ &lt;code&gt;EXEC&lt;/code&gt;  æ—¶ä½œä¸ºä¸€ä¸ªåŸå­æ‰§è¡Œã€‚&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;WATCH key [key ...]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;ç›‘è§†è‹¥å¹²ä¸ª key&lt;/font&gt;ï¼Œå¦‚æœåœ¨äº‹åŠ¡æ‰§è¡Œå‰è¿™äº› key å‘ç”Ÿæ”¹åŠ¨ï¼Œé‚£ä¹ˆäº‹åŠ¡å°†è¢«æ‰“æ–­ã€‚åœ¨äº‹åŠ¡ä¸­æœ‰æ¡ä»¶çš„æ‰§è¡Œï¼ˆ&lt;font color=&#39;red&#39;&gt;ä¹è§‚é”&lt;/font&gt;ï¼‰ã€‚&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;EXEC&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;æ‰§è¡Œäº‹åŠ¡å—ä¸­æ‰€æœ‰åœ¨æ’é˜Ÿç­‰å¾…çš„æŒ‡ä»¤&lt;/font&gt;ï¼Œå¹¶å°†é“¾æ¥çŠ¶æ€æ¢å¤åˆ°æ­£å¸¸ã€‚&lt;br/&gt;å½“ä½¿ç”¨ &lt;code&gt;WATCH&lt;/code&gt;  æ—¶ï¼Œåªæœ‰å½“è¢«ç›‘è§†çš„é”®æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œä¸”å…è®¸æ£€æŸ¥è®¾å®šæœºåˆ¶æ—¶ï¼Œ &lt;code&gt;EXEC&lt;/code&gt;  ä¼šè¢«æ‰§è¡Œã€‚&lt;/td&gt;
&lt;td&gt;æ¯ä¸ªå…ƒç´ ä¸åŸå­äº‹åŠ¡ä¸­çš„æŒ‡ä»¤ä¸€ä¸€å¯¹åº”ã€‚&lt;br/&gt;ä½¿ç”¨ &lt;code&gt;WATCH&lt;/code&gt;  æ—¶ï¼Œå¦‚æœè¢«ç»ˆæ­¢ï¼Œ &lt;code&gt;EXEC&lt;/code&gt;  åˆ™è¿”å›ä¸€ä¸ªç©ºçš„åº”ç­”é›†åˆã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;UNWATCH &lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;é‡Šæ”¾æ‰€æœ‰è¢« &lt;code&gt;WATCH&lt;/code&gt;  å‘½ä»¤ç›‘è§†çš„ key&lt;/font&gt;&lt;br/&gt;å¦‚æœæ‰§è¡Œ &lt;code&gt;EXEC&lt;/code&gt;  æˆ–è€… &lt;code&gt;DISCARD&lt;/code&gt; ï¼Œåˆ™ä¸éœ€è¦æ‰‹åŠ¨æ‰§è¡Œè¯¥å‘½ä»¤ã€‚&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DISCARD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;å–æ¶ˆäº‹åŠ¡ï¼Œæ”¾å¼ƒæ‰§è¡Œäº‹åŠ¡å—ä¸­çš„æ‰€æœ‰æŒ‡ä»¤&lt;/font&gt;ã€‚&lt;br/&gt;åŒæ—¶ï¼Œ&lt;font color=&#39;red&#39;&gt;é‡Šæ”¾æ‰€æœ‰è¢« &lt;code&gt;WATCH&lt;/code&gt;  å‘½ä»¤ç›‘è§†çš„ key&lt;/font&gt;ã€‚&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Redis å¯ä»¥é€šè¿‡  &lt;code&gt;MULTI&lt;/code&gt; ï¼Œ &lt;code&gt;EXEC&lt;/code&gt; ï¼Œ &lt;code&gt;DISCARD&lt;/code&gt;  å’Œ  &lt;code&gt;WATCH&lt;/code&gt;  ç­‰å‘½ä»¤æ¥å®ç°äº‹åŠ¡ (Transaction) åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; MULTI&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SET PROJECT &lt;span class=&#34;token string&#34;&gt;&#34;JavaGuide&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;QUEUED&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; GET PROJECT&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;QUEUED&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; EXEC&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;JavaGuide&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&#34;https://redis.io/commands/multi&#34;&gt; &lt;code&gt;MULTI&lt;/code&gt; &lt;/a&gt; å‘½ä»¤åå¯ä»¥è¾“å…¥å¤šä¸ªå‘½ä»¤ï¼ŒRedis ä¸ä¼šç«‹å³æ‰§è¡Œè¿™äº›å‘½ä»¤ï¼Œè€Œæ˜¯å°†å®ƒä»¬æ”¾åˆ°é˜Ÿåˆ—ï¼Œå½“è°ƒç”¨äº† &lt;a href=&#34;https://redis.io/commands/exec&#34;&gt; &lt;code&gt;EXEC&lt;/code&gt; &lt;/a&gt; å‘½ä»¤åï¼Œå†æ‰§è¡Œæ‰€æœ‰çš„å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªè¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¼€å§‹äº‹åŠ¡ï¼ˆ &lt;code&gt;MULTI&lt;/code&gt; ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;å‘½ä»¤å…¥é˜Ÿï¼ˆæ‰¹é‡æ“ä½œ Redis çš„å‘½ä»¤ï¼Œå…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰çš„é¡ºåºæ‰§è¡Œï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œäº‹åŠ¡ï¼ˆ &lt;code&gt;EXEC&lt;/code&gt; ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä½ ä¹Ÿå¯ä»¥é€šè¿‡ &lt;a href=&#34;https://redis.io/commands/discard&#34;&gt; &lt;code&gt;DISCARD&lt;/code&gt; &lt;/a&gt; å‘½ä»¤å–æ¶ˆä¸€ä¸ªäº‹åŠ¡ï¼Œå®ƒä¼šæ¸…ç©ºäº‹åŠ¡é˜Ÿåˆ—ä¸­ä¿å­˜çš„æ‰€æœ‰å‘½ä»¤ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; MULTI&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SET PROJECT &lt;span class=&#34;token string&#34;&gt;&#34;JavaGuide&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;QUEUED&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; GET PROJECT&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;QUEUED&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; DISCARD&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ä½ å¯ä»¥é€šè¿‡ &lt;a href=&#34;https://redis.io/commands/watch&#34;&gt; &lt;code&gt;WATCH&lt;/code&gt; &lt;/a&gt; å‘½ä»¤ç›‘å¬æŒ‡å®šçš„ Keyï¼Œå½“è°ƒç”¨  &lt;code&gt;EXEC&lt;/code&gt;  å‘½ä»¤æ‰§è¡Œäº‹åŠ¡æ—¶ï¼Œå¦‚æœä¸€ä¸ªè¢«  &lt;code&gt;WATCH&lt;/code&gt;  å‘½ä»¤ç›‘è§†çš„ Key è¢« &lt;strong&gt;å…¶ä»–å®¢æˆ·ç«¯ / Session&lt;/strong&gt; ä¿®æ”¹çš„è¯ï¼Œæ•´ä¸ªäº‹åŠ¡éƒ½ä¸ä¼šè¢«æ‰§è¡Œã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å®¢æˆ·ç«¯ 1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SET PROJECT &lt;span class=&#34;token string&#34;&gt;&#34;RustGuide&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; WATCH PROJECT&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; MULTI&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SET PROJECT &lt;span class=&#34;token string&#34;&gt;&#34;JavaGuide&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;QUEUED&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å®¢æˆ·ç«¯ 2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# åœ¨å®¢æˆ·ç«¯ 1 æ‰§è¡Œ EXEC å‘½ä»¤æäº¤äº‹åŠ¡ä¹‹å‰ä¿®æ”¹ PROJECT çš„å€¼&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SET PROJECT &lt;span class=&#34;token string&#34;&gt;&#34;GoGuide&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å®¢æˆ·ç«¯ 1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ä¿®æ”¹å¤±è´¥ï¼Œå› ä¸º PROJECT çš„å€¼è¢«å®¢æˆ·ç«¯ 2 ä¿®æ”¹äº†&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; EXEC&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;nil&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; GET PROJECT&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;GoGuide&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ä¸è¿‡ï¼Œå¦‚æœ &lt;strong&gt;WATCH&lt;/strong&gt; ä¸ &lt;strong&gt;äº‹åŠ¡&lt;/strong&gt; åœ¨åŒä¸€ä¸ª Session é‡Œï¼Œå¹¶ä¸”è¢« &lt;strong&gt;WATCH&lt;/strong&gt; ç›‘è§†çš„ Key è¢«ä¿®æ”¹çš„æ“ä½œå‘ç”Ÿåœ¨äº‹åŠ¡å†…éƒ¨ï¼Œè¿™ä¸ªäº‹åŠ¡æ˜¯å¯ä»¥è¢«æ‰§è¡ŒæˆåŠŸçš„ï¼ˆç›¸å…³ issueï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL1NuYWlsY2xpbWIvSmF2YUd1aWRlL2lzc3Vlcy8xNzE0&#34;&gt;WATCH å‘½ä»¤ç¢°åˆ° MULTI å‘½ä»¤æ—¶çš„ä¸åŒæ•ˆæœ&lt;/span&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;äº‹åŠ¡å†…éƒ¨ä¿®æ”¹ WATCH ç›‘è§†çš„ Keyï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SET PROJECT &lt;span class=&#34;token string&#34;&gt;&#34;JavaGuide&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; WATCH PROJECT&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; MULTI&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SET PROJECT &lt;span class=&#34;token string&#34;&gt;&#34;JavaGuide1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;QUEUED&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SET PROJECT &lt;span class=&#34;token string&#34;&gt;&#34;JavaGuide2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;QUEUED&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SET PROJECT &lt;span class=&#34;token string&#34;&gt;&#34;JavaGuide3&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;QUEUED&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; EXEC&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; GET PROJECT&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;JavaGuide3&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;äº‹åŠ¡å¤–éƒ¨ä¿®æ”¹ WATCH ç›‘è§†çš„ Keyï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SET PROJECT &lt;span class=&#34;token string&#34;&gt;&#34;JavaGuide&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; WATCH PROJECT&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; SET PROJECT &lt;span class=&#34;token string&#34;&gt;&#34;JavaGuide2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; MULTI&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; GET &lt;span class=&#34;token environment constant&#34;&gt;USER&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;QUEUED&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; EXEC&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;nil&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;Redis å®˜ç½‘ç›¸å…³ä»‹ç» &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9yZWRpcy5pby90b3BpY3MvdHJhbnNhY3Rpb25z&#34;&gt;https://redis.io/topics/transactions&lt;/span&gt; å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-transactions.png&#34; alt=&#34;Redis äº‹åŠ¡&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç‰¹æ€§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç‰¹æ€§&#34;&gt;#&lt;/a&gt; ç‰¹æ€§&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Redis çš„äº‹åŠ¡å’Œæˆ‘ä»¬å¹³æ—¶ç†è§£çš„å…³ç³»å‹æ•°æ®åº“çš„äº‹åŠ¡ä¸åŒã€‚æˆ‘ä»¬çŸ¥é“äº‹åŠ¡å…·æœ‰å››å¤§ç‰¹æ€§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;** åŸå­æ€§ï¼ˆAtomicityï¼‰ï¼š** äº‹åŠ¡æ˜¯æœ€å°çš„æ‰§è¡Œå•ä½ï¼Œä¸å…è®¸åˆ†å‰²ã€‚äº‹åŠ¡çš„åŸå­æ€§ç¡®ä¿åŠ¨ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼ˆcommitï¼‰ï¼Œè¦ä¹ˆå®Œå…¨ä¸èµ·ä½œç”¨ï¼ˆrollbackï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;** ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼š** æ‰§è¡Œäº‹åŠ¡å‰åï¼Œæ•°æ®ä¿æŒä¸€è‡´ï¼Œå¤šä¸ªäº‹åŠ¡å¯¹åŒä¸€ä¸ªæ•°æ®è¯»å–çš„ç»“æœæ˜¯ç›¸åŒçš„ï¼›&lt;/li&gt;
&lt;li&gt;** éš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼š** å¹¶å‘è®¿é—®æ•°æ®åº“æ—¶ï¼Œä¸€ä¸ªç”¨æˆ·çš„äº‹åŠ¡ä¸è¢«å…¶ä»–äº‹åŠ¡æ‰€å¹²æ‰°ï¼Œå„å¹¶å‘äº‹åŠ¡ä¹‹é—´æ•°æ®åº“æ˜¯ç‹¬ç«‹çš„ï¼›&lt;/li&gt;
&lt;li&gt;** æŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼š** ä¸€ä¸ªäº‹åŠ¡è¢«æäº¤ä¹‹åã€‚å®ƒå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„æ”¹å˜æ˜¯æŒä¹…çš„ï¼Œå³ä½¿æ•°æ®åº“å‘ç”Ÿæ•…éšœä¹Ÿä¸åº”è¯¥å¯¹å…¶æœ‰ä»»ä½•å½±å“ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Redis äº‹åŠ¡ä»…ä¿è¯äº†æ•°æ®çš„ä¸€è‡´æ€§ï¼ˆCï¼‰ï¼Œä¸å…·æœ‰åƒ DBMS ä¸€æ ·çš„ ACID ç‰¹æ€§&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿™ç»„å‘½ä»¤ä¸­çš„&lt;font color=&#39;red&#39;&gt;æŸäº›å‘½ä»¤çš„æ‰§è¡Œå¤±è´¥ä¸ä¼šå½±å“å…¶å®ƒå‘½ä»¤çš„æ‰§è¡Œï¼Œä¸ä¼šå¼•å‘å›æ»šï¼Œå› æ­¤ä¸å…·å¤‡åŸå­æ€§ï¼ˆAï¼‰&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;è¿™ç»„å‘½ä»¤&lt;font color=&#39;red&#39;&gt;ä»…é€šè¿‡&lt;strong&gt;ä¹è§‚é”æœºåˆ¶&lt;/strong&gt;å®ç°äº†ç®€å•çš„éš”ç¦»æ€§&lt;/font&gt;ï¼Œæ²¡æœ‰å¤æ‚çš„éš”ç¦»çº§åˆ«ï¼ˆIï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;è¿™ç»„å‘½ä»¤çš„&lt;font color=&#39;red&#39;&gt;æ‰§è¡Œç»“æœæ˜¯è¢«å†™å…¥åˆ°å†…å­˜çš„ï¼Œæ˜¯å¦æŒä¹…ï¼ˆDï¼‰å–å†³äº Redis çš„æŒä¹…åŒ–ç­–ç•¥ï¼Œä¸äº‹åŠ¡æ— å…³&lt;/font&gt;ã€‚è€Œä¸”ï¼ŒRedis çš„æŒä¹…åŒ–ç­–ç•¥ä¹Ÿå­˜åœ¨æ•°æ®ä¸¢å¤±çš„é—®é¢˜ï¼Œæ›´åŠ æ²¡æ³•ä¿è¯æŒä¹…æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä¸å…·å¤‡åŸå­æ€§a&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸å…·å¤‡åŸå­æ€§a&#34;&gt;#&lt;/a&gt; ä¸å…·å¤‡åŸå­æ€§ï¼ˆAï¼‰&lt;/h3&gt;
&lt;p&gt;Redis äº‹åŠ¡åœ¨è¿è¡Œé”™è¯¯çš„æƒ…å†µä¸‹ï¼Œé™¤äº†æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯çš„å‘½ä»¤å¤–ï¼Œå…¶ä»–å‘½ä»¤éƒ½èƒ½æ­£å¸¸æ‰§è¡Œã€‚å¹¶ä¸”ï¼Œ&lt;font color=&#39;red&#39;&gt;Redis äº‹åŠ¡æ˜¯ä¸æ”¯æŒå›æ»šï¼ˆroll backï¼‰æ“ä½œçš„&lt;/font&gt;ã€‚å› æ­¤ï¼ŒRedis äº‹åŠ¡å…¶å®æ˜¯ä¸æ»¡è¶³åŸå­æ€§çš„ã€‚&lt;/p&gt;
&lt;p&gt;Redis å®˜ç½‘ä¹Ÿè§£é‡Šäº†è‡ªå·±ä¸ºå•¥ä¸æ”¯æŒå›æ»šã€‚ç®€å•æ¥è¯´å°±æ˜¯&lt;font color=&#39;red&#39;&gt; Redis å¼€å‘è€…ä»¬è§‰å¾—æ²¡å¿…è¦æ”¯æŒå›æ»šï¼Œè¿™æ ·æ›´ç®€å•ä¾¿æ·å¹¶ä¸”æ€§èƒ½æ›´å¥½&lt;/font&gt;ã€‚Redis å¼€å‘è€…è§‰å¾—å³ä½¿å‘½ä»¤æ‰§è¡Œé”™è¯¯ä¹Ÿåº”è¯¥åœ¨å¼€å‘è¿‡ç¨‹ä¸­å°±è¢«å‘ç°è€Œä¸æ˜¯ç”Ÿäº§è¿‡ç¨‹ä¸­ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®ç°äº†ç®€å•çš„éš”ç¦»æ€§i&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®ç°äº†ç®€å•çš„éš”ç¦»æ€§i&#34;&gt;#&lt;/a&gt; å®ç°äº†ç®€å•çš„éš”ç¦»æ€§ï¼ˆIï¼‰&lt;/h3&gt;
&lt;p&gt;ä» Redis 2.2 å¼€å§‹ï¼Œå…è®¸ä»¥&lt;font color=&#39;red&#39;&gt;ä¹è§‚é”&lt;/font&gt;çš„å½¢å¼ä¸º Redis äº‹åŠ¡æ“ä½œæä¾›é¢å¤–ä¿è¯ï¼Œå…¶æ–¹å¼ä¸  &lt;code&gt;check-and-set&lt;/code&gt; ï¼ˆCASï¼‰æ“ä½œéå¸¸ç›¸ä¼¼ã€‚ç¨åå°†å¯¹æ­¤è¿›è¡Œè®°å½•ï¼Œå…·ä½“å¯è§&lt;a href=&#34;#%E9%9A%94%E7%A6%BB%E6%9C%BA%E5%88%B6&#34;&gt;éš”ç¦»æœºåˆ¶&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ— æ³•ä¿è¯æŒä¹…æ€§d&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ— æ³•ä¿è¯æŒä¹…æ€§d&#34;&gt;#&lt;/a&gt; æ— æ³•ä¿è¯æŒä¹…æ€§ï¼ˆDï¼‰&lt;/h3&gt;
&lt;p&gt;Redis ä¸åŒäº Memcached çš„å¾ˆé‡è¦ä¸€ç‚¹å°±æ˜¯ï¼ŒRedis æ”¯æŒæŒä¹…åŒ–ï¼Œè€Œä¸”æ”¯æŒ 3 ç§æŒä¹…åŒ–æ–¹å¼:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¿«ç…§ï¼ˆsnapshottingï¼ŒRDBï¼‰&lt;/li&gt;
&lt;li&gt;åªè¿½åŠ æ–‡ä»¶ï¼ˆappend-only file, AOFï¼‰&lt;/li&gt;
&lt;li&gt;RDB å’Œ AOF çš„æ··åˆæŒä¹…åŒ– (Redis 4.0 æ–°å¢)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸ RDB æŒä¹…åŒ–ç›¸æ¯”ï¼ŒAOF æŒä¹…åŒ–çš„å®æ—¶æ€§æ›´å¥½ã€‚åœ¨ Redis çš„é…ç½®æ–‡ä»¶ä¸­å­˜åœ¨ä¸‰ç§ä¸åŒçš„ AOF æŒä¹…åŒ–æ–¹å¼ï¼ˆ  &lt;code&gt;fsync&lt;/code&gt;  ç­–ç•¥ï¼‰ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;appendfsync always    &lt;span class=&#34;token comment&#34;&gt;#æ¯æ¬¡æœ‰æ•°æ®ä¿®æ”¹å‘ç”Ÿæ—¶éƒ½ä¼šè°ƒç”¨ fsync å‡½æ•°åŒæ­¥ AOF æ–‡ä»¶ï¼Œfsync å®Œæˆåçº¿ç¨‹è¿”å›ï¼Œè¿™æ ·ä¼šä¸¥é‡é™ä½ Redis çš„é€Ÿåº¦&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;appendfsync everysec  &lt;span class=&#34;token comment&#34;&gt;#æ¯ç§’é’Ÿè°ƒç”¨ fsync å‡½æ•°åŒæ­¥ä¸€æ¬¡ AOF æ–‡ä»¶&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;appendfsync no        &lt;span class=&#34;token comment&#34;&gt;#è®©æ“ä½œç³»ç»Ÿå†³å®šä½•æ—¶è¿›è¡ŒåŒæ­¥ï¼Œä¸€èˆ¬ä¸º 30 ç§’ä¸€æ¬¡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;font color=&#39;red&#39;&gt;AOF æŒä¹…åŒ–çš„  &lt;code&gt;fsync&lt;/code&gt;  ç­–ç•¥ä¸º noã€everysec æ—¶éƒ½ä¼šå­˜åœ¨æ•°æ®ä¸¢å¤±çš„æƒ…å†µ&lt;/font&gt;ã€‚always ä¸‹å¯ä»¥åŸºæœ¬æ˜¯å¯ä»¥æ»¡è¶³æŒä¹…æ€§è¦æ±‚çš„ï¼Œä½†æ€§èƒ½å¤ªå·®ï¼Œå®é™…å¼€å‘è¿‡ç¨‹ä¸­ä¸ä¼šä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼ŒRedis äº‹åŠ¡çš„æŒä¹…æ€§ä¹Ÿæ˜¯æ²¡åŠæ³•ä¿è¯çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¼‚å¸¸å¤„ç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¼‚å¸¸å¤„ç†&#34;&gt;#&lt;/a&gt; å¼‚å¸¸å¤„ç†&lt;/h2&gt;
&lt;h3 id=&#34;è¯­æ³•é”™è¯¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¯­æ³•é”™è¯¯&#34;&gt;#&lt;/a&gt; è¯­æ³•é”™è¯¯&lt;/h3&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å½“äº‹åŠ¡ä¸­çš„å‘½ä»¤å‡ºç°è¯­æ³•é”™è¯¯æ—¶ï¼Œæ•´ä¸ªäº‹åŠ¡åœ¨  &lt;code&gt;exec&lt;/code&gt;  æ‰§è¡Œæ—¶ä¼šè¢«å–æ¶ˆ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231209124406832.png&#34; alt=&#34;image-20231209124406832&#34; /&gt;&lt;/p&gt;
&lt;p&gt;exec çš„æç¤ºæ˜¯ exec è¢«å¿½ç•¥ï¼Œäº‹åŠ¡è¢«å–æ¶ˆï¼Œå› ä¸ºä¹‹å‰çš„é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶è®¿é—® age çš„å€¼ï¼Œå‘ç°å…¶ä»ä¸º 19ï¼Œå¹¶æ²¡æœ‰å˜ä¸ºäº‹åŠ¡ä¸­è®¾ç½®çš„ 20ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231209124451759.png&#34; alt=&#34;image-20231209124451759&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ‰§è¡Œå¼‚å¸¸&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ‰§è¡Œå¼‚å¸¸&#34;&gt;#&lt;/a&gt; æ‰§è¡Œå¼‚å¸¸&lt;/h3&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¦‚æœäº‹åŠ¡ä¸­çš„å‘½ä»¤æ²¡æœ‰è¯­æ³•é”™è¯¯ï¼Œä½†åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°å¼‚å¸¸ï¼Œè¯¥å¼‚å¸¸ä¸ä¼šå½±å“å…¶å®ƒå‘½ä»¤çš„æ‰§è¡Œ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231209124658817.png&#34; alt=&#34;image-20231209124658817&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šäº‹åŠ¡ä¸­ç¬¬ 2 æ¡å‘½ä»¤åœ¨æ‰§è¡Œæ—¶å‡ºç°å¼‚å¸¸ã€‚å› ä¸º score å¹¶éæ˜¯æ•´å‹ï¼Œæ— æ³•è¢«å¢åŠ  20 çš„æ“ä½œã€‚ä½†è¯¥å¼‚å¸¸å¹¶ä¸ä¼šå½±å“å…¶å‰åå‘½ä»¤çš„æ­£ç¡®æ‰§è¡Œã€‚æŸ¥çœ‹ score ä¸ name çš„å€¼ï¼Œå‘ç°æ˜¯æ‰§è¡ŒæˆåŠŸçš„ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231209124800203.png&#34; alt=&#34;image-20231209124800203&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;éš”ç¦»æœºåˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#éš”ç¦»æœºåˆ¶&#34;&gt;#&lt;/a&gt; éš”ç¦»æœºåˆ¶&lt;/h2&gt;
&lt;h3 id=&#34;ä¸ºä»€ä¹ˆéœ€è¦éš”ç¦»æœºåˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸ºä»€ä¹ˆéœ€è¦éš”ç¦»æœºåˆ¶&#34;&gt;#&lt;/a&gt; ä¸ºä»€ä¹ˆéœ€è¦éš”ç¦»æœºåˆ¶&lt;/h3&gt;
&lt;p&gt;åœ¨å¹¶å‘åœºæ™¯ä¸‹å¯èƒ½ä¼šå‡ºç°å¤šä¸ªå®¢æˆ·ç«¯å¯¹åŒä¸€ä¸ªæ•°æ®è¿›è¡Œä¿®æ”¹çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼šæœ‰ä¸¤ä¸ªå®¢æˆ·ç«¯ C å·¦ä¸ C å³ï¼Œ C å·¦éœ€è¦ç”³è¯· 40 ä¸ªèµ„æºï¼Œ C å³éœ€è¦ç”³è¯· 30 ä¸ªèµ„æºã€‚å®ƒä»¬é¦–å…ˆæŸ¥çœ‹äº†å½“å‰æ‹¥æœ‰çš„èµ„æºæ•°é‡ï¼Œå³ resources çš„å€¼ã€‚å®ƒä»¬æŸ¥çœ‹åˆ°çš„éƒ½æ˜¯ 50ï¼Œéƒ½æ„Ÿè§‰èµ„æºæ•°é‡å¯ä»¥æ»¡è¶³è‡ªå·±çš„éœ€æ±‚ï¼Œäºæ˜¯ä¿®æ”¹èµ„æºæ•°é‡ï¼Œä»¥å æœ‰èµ„æºã€‚ä½†ç»“æœå´æ˜¯èµ„æºå‡ºç°äº† â€œè¶…å–â€ æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231209123019238.png&#34; alt=&#34;image-20231209123019238&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è§£å†³è¿™ç§æƒ…å†µï¼ŒRedis äº‹åŠ¡é€šè¿‡ **&lt;font color=&#39;#B32015&#39;&gt;ä¹è§‚é”æœºåˆ¶&lt;/font&gt;** å®ç°äº†å¤šçº¿ç¨‹ä¸‹çš„æ‰§è¡Œéš”ç¦»ã€‚&lt;/p&gt;
&lt;h3 id=&#34;éš”ç¦»çš„å®ç°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#éš”ç¦»çš„å®ç°&#34;&gt;#&lt;/a&gt; éš”ç¦»çš„å®ç°&lt;/h3&gt;
&lt;p&gt;Redis é€šè¿‡  &lt;code&gt;watch&lt;/code&gt;  å‘½ä»¤å†é…åˆäº‹åŠ¡å®ç°äº†å¤šçº¿ç¨‹ä¸‹çš„æ‰§è¡Œéš”ç¦»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231209123108530.png&#34; alt=&#34;image-20231209123108530&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šä¸¤ä¸ªå®¢æˆ·ç«¯æ‰§è¡Œçš„æ—¶é—´é¡ºåºä¸ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231209123147370.png&#34; alt=&#34;image-20231209123147370&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å½“ C å·¦å®¢æˆ·ç«¯åœ¨  &lt;code&gt;exec&lt;/code&gt;  äº‹åŠ¡å‰å‘ç°å…¶  &lt;code&gt;watch&lt;/code&gt;  çš„æ•°æ®å‘ç”Ÿäº†æ”¹åŠ¨ï¼Œåˆ™ä¼šæ‰“æ–­äº‹åŠ¡æ‰§è¡Œã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®ç°åŸç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®ç°åŸç†&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸå®ç°åŸç†&lt;/mark&gt;&lt;/h3&gt;
&lt;p&gt;å…¶å†…éƒ¨çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å½“æŸä¸€å®¢æˆ·ç«¯å¯¹ key æ‰§è¡Œäº†  &lt;code&gt;watch&lt;/code&gt;  åï¼Œç³»ç»Ÿå°±ä¼šä¸ºè¯¥ key æ·»åŠ ä¸€ä¸ª &lt;font color=&#39;gree&#39;&gt;version ä¹è§‚é”&lt;/font&gt;ï¼Œå¹¶åˆå§‹åŒ– versionã€‚ä¾‹å¦‚åˆå€¼ä¸º 1.0ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ­¤åå®¢æˆ·ç«¯ C å·¦å°†å¯¹è¯¥ key çš„ä¿®æ”¹è¯­å¥å†™å…¥åˆ°äº†äº‹åŠ¡å‘½ä»¤é˜Ÿåˆ—ä¸­ï¼Œè™½æœªæ‰§è¡Œï¼Œä½†å…¶å°†è¯¥ key çš„ value å€¼ä¸ version è¿›è¡Œäº†è¯»å–å¹¶ä¿å­˜åˆ°äº†å½“å‰å®¢æˆ·ç«¯ç¼“å­˜ã€‚æ­¤æ—¶è¯»å–å¹¶ä¿å­˜çš„æ˜¯ version çš„åˆå€¼ 1.0ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ­¤åå®¢æˆ·ç«¯ C å³å¯¹è¯¥ key çš„å€¼è¿›è¡Œäº†ä¿®æ”¹ï¼Œè¿™ä¸ªä¿®æ”¹ä¸ä»…ä¿®æ”¹äº† key çš„ value æœ¬èº«ï¼ŒåŒæ—¶ä¹Ÿå¢åŠ äº† version çš„å€¼ï¼Œä¾‹å¦‚ä½¿å…¶ version å˜ä¸ºäº† 2.0ï¼Œå¹¶å°†è¯¥ version è®°å½•åˆ°äº†è¯¥ key ä¿¡æ¯ä¸­ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ­¤åå®¢æˆ·ç«¯ C å·¦æ‰§è¡Œ execï¼Œå¼€å§‹æ‰§è¡Œäº‹åŠ¡ä¸­çš„å‘½ä»¤ã€‚ä¸è¿‡ï¼Œå…¶åœ¨æ‰§è¡Œåˆ°å¯¹è¯¥ key è¿›è¡Œä¿®æ”¹çš„å‘½ä»¤æ—¶ï¼Œè¯¥å‘½ä»¤&lt;font color=&#39;red&#39;&gt;é¦–å…ˆå¯¹å½“å‰å®¢æˆ·ç«¯ç¼“å­˜ä¸­ä¿å­˜çš„ version å€¼ä¸å½“å‰ key ä¿¡æ¯ä¸­çš„ version å€¼è¿›è¡Œæ¯”è¾ƒ&lt;/font&gt;ã€‚å¦‚æœç¼“å­˜ version å°äº key çš„ versionï¼Œåˆ™è¯´æ˜å®¢æˆ·ç«¯ç¼“å­˜çš„ key çš„ value å·²ç»è¿‡æ—¶ï¼Œè¯¥å†™æ“ä½œå¦‚æœæ‰§è¡Œå¯èƒ½ä¼šç ´åæ•°æ®çš„ä¸€è‡´æ€§ã€‚æ‰€ä»¥è¯¥å†™æ“ä½œä¸æ‰§è¡Œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;redisäº‹åŠ¡-vs-æ•°æ®åº“äº‹åŠ¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redisäº‹åŠ¡-vs-æ•°æ®åº“äº‹åŠ¡&#34;&gt;#&lt;/a&gt; Redis äº‹åŠ¡ v.s æ•°æ®åº“äº‹åŠ¡&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å•ç‹¬çš„éš”ç¦»æ“ä½œ&lt;/strong&gt;ï¼šRedis çš„äº‹åŠ¡ä»…ä»…æ˜¯ä¿è¯äº‹åŠ¡é‡Œçš„æ“ä½œä¼šè¢«è¿ç»­ç‹¬å çš„æ‰§è¡Œï¼Œredis å‘½ä»¤æ‰§è¡Œæ˜¯å•çº¿ç¨‹æ¶æ„ï¼Œ&lt;font color=&#39;red&#39;&gt;åœ¨æ‰§è¡Œå®Œäº‹åŠ¡å†…æ‰€æœ‰æŒ‡ä»¤å‰ï¼Œæ˜¯ä¸å¯èƒ½å†å»åŒæ—¶æ‰§è¡Œå…¶ä»–å®¢æˆ·ç«¯çš„è¯·æ±‚&lt;/font&gt;çš„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æ²¡æœ‰éš”ç¦»çº§åˆ«çš„æ¦‚å¿µ&lt;/font&gt;&lt;/strong&gt;ï¼šå› ä¸º&lt;font color=&#39;red&#39;&gt;äº‹åŠ¡æäº¤å‰ä»»ä½•æŒ‡ä»¤éƒ½ä¸ä¼šè¢«å®é™…æ‰§è¡Œ&lt;/font&gt;ï¼Œä¹Ÿå°±ä¸å­˜åœ¨ â€œäº‹åŠ¡å†…çš„æŸ¥è¯¢è¦çœ‹åˆ°äº‹åŠ¡é‡Œçš„æ›´æ–°ï¼Œåœ¨äº‹åŠ¡å¤–æŸ¥è¯¢ä¸èƒ½çœ‹åˆ°â€ è¿™ç§é—®é¢˜äº†&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å› æ­¤&lt;font color=&#39;red&#39;&gt;ä¸å­˜åœ¨ â€œä¸‰å¤§è¯»é—®é¢˜â€ï¼šä¸å¯é‡å¤è¯»ã€è„è¯»ã€å¹»è¯»&lt;/font&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;ä¸ä¿è¯åŸå­æ€§&lt;/font&gt;&lt;/strong&gt;ï¼šRedis çš„äº‹åŠ¡ **&lt;font color=&#39;red&#39;&gt;ä¸ä¿è¯åŸå­æ€§&lt;/font&gt;**ï¼Œä¹Ÿå°±æ˜¯ä¸ä¿è¯æ‰€æœ‰æŒ‡ä»¤åŒæ—¶æˆåŠŸæˆ–åŒæ—¶å¤±è´¥ï¼Œåªæœ‰å†³å®šæ˜¯å¦å¼€å§‹æ‰§è¡Œå…¨éƒ¨æŒ‡ä»¤çš„èƒ½åŠ›ï¼Œ&lt;font color=&#39;red&#39;&gt;æ²¡æœ‰å›æ»šèƒ½åŠ›&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ’å®ƒæ€§&lt;/strong&gt;ï¼šRedis ä¼šä¿è¯ä¸€ä¸ªäº‹åŠ¡å†…çš„å‘½ä»¤ä¾æ¬¡æ‰§è¡Œï¼Œè€Œ&lt;font color=&#39;red&#39;&gt;ä¸ä¼šè¢«å…¶å®ƒå‘½ä»¤æ’å…¥&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å¦‚ä½•è§£å†³-redis-äº‹åŠ¡çš„ç¼ºé™·&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•è§£å†³-redis-äº‹åŠ¡çš„ç¼ºé™·&#34;&gt;#&lt;/a&gt; å¦‚ä½•è§£å†³ Redis äº‹åŠ¡çš„ç¼ºé™·&lt;/h2&gt;
&lt;p&gt;Redis ä» 2.6 ç‰ˆæœ¬å¼€å§‹æ”¯æŒæ‰§è¡Œ Lua è„šæœ¬ï¼Œå®ƒçš„åŠŸèƒ½å’Œäº‹åŠ¡éå¸¸ç±»ä¼¼ã€‚&lt;font color=&#39;red&#39;&gt;å¯ä»¥åˆ©ç”¨ Lua è„šæœ¬æ¥æ‰¹é‡æ‰§è¡Œå¤šæ¡ Redis å‘½ä»¤&lt;/font&gt;ï¼Œè¿™äº› Redis å‘½ä»¤ä¼šè¢«æäº¤åˆ° Redis æœåŠ¡å™¨ä¸€æ¬¡æ€§æ‰§è¡Œå®Œæˆï¼Œå¤§å¹…å‡å°äº†ç½‘ç»œå¼€é”€ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€æ®µ Lua è„šæœ¬å¯ä»¥è§†ä½œä¸€æ¡å‘½ä»¤æ‰§è¡Œï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸€æ®µ Lua è„šæœ¬æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸ä¼šæœ‰å…¶ä»–è„šæœ¬æˆ– Redis å‘½ä»¤åŒæ—¶æ‰§è¡Œ&lt;/font&gt;ï¼Œä¿è¯äº†æ“ä½œä¸ä¼šè¢«å…¶ä»–æŒ‡ä»¤æ’å…¥æˆ–æ‰“æ‰°ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œ&lt;font color=&#39;red&#39;&gt;å¦‚æœ Lua è„šæœ¬è¿è¡Œæ—¶å‡ºé”™å¹¶ä¸­é€”ç»“æŸï¼Œå‡ºé”™ä¹‹åçš„å‘½ä»¤æ˜¯ä¸ä¼šè¢«æ‰§è¡Œçš„&lt;/font&gt;ã€‚å¹¶ä¸”ï¼Œ&lt;font color=&#39;red&#39;&gt;å‡ºé”™ä¹‹å‰æ‰§è¡Œçš„å‘½ä»¤æ˜¯æ— æ³•è¢«æ’¤é”€çš„ï¼Œæ— æ³•å®ç°ç±»ä¼¼å…³ç³»å‹æ•°æ®åº“æ‰§è¡Œå¤±è´¥å¯ä»¥å›æ»šçš„é‚£ç§åŸå­æ€§æ•ˆæœ&lt;/font&gt;ã€‚å› æ­¤ï¼Œ ä¸¥æ ¼æ¥è¯´çš„è¯ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;é€šè¿‡ Lua è„šæœ¬æ¥æ‰¹é‡æ‰§è¡Œ Redis å‘½ä»¤å®é™…ä¹Ÿæ˜¯ä¸å®Œå…¨æ»¡è¶³åŸå­æ€§çš„&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæƒ³è¦è®© Lua è„šæœ¬ä¸­çš„å‘½ä»¤å…¨éƒ¨æ‰§è¡Œï¼Œå¿…é¡»ä¿è¯è¯­å¥è¯­æ³•å’Œå‘½ä»¤éƒ½æ˜¯å¯¹çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼ŒRedis 7.0 æ–°å¢äº† &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9yZWRpcy5pby9kb2NzL21hbnVhbC9wcm9ncmFtbWFiaWxpdHkvZnVuY3Rpb25zLWludHJvLw==&#34;&gt;Redis functions&lt;/span&gt; ç‰¹æ€§ï¼Œä½ å¯ä»¥å°† Redis functions çœ‹ä½œæ˜¯æ¯” Lua æ›´å¼ºå¤§çš„è„šæœ¬ã€‚&lt;/p&gt;
&lt;h1 id=&#34;redis-ç®¡é“pipeline&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-ç®¡é“pipeline&#34;&gt;#&lt;/a&gt; Redis ç®¡é“ï¼ˆpipelineï¼‰&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;Redis ç®¡é“ ä¸ Redis äº‹åŠ¡ ä¹‹é—´çš„å…³ç³»ï¼Œç±»ä¼¼äºé›·é”‹ä¸é›·å³°å¡”çš„å…³ç³»ï¼ŒJava ä¸ JavaScript çš„å…³ç³»ï¼Œ&lt;font color=&#39;red&#39;&gt;çœ‹ä¸Šå»ç›¸ä¼¼ï¼Œä½†å®é™…æ²¡æœ‰ä»»ä½•å…³ç³»ï¼&lt;/font&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;å¼•è¨€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¼•è¨€&#34;&gt;#&lt;/a&gt; å¼•è¨€&lt;/h2&gt;
&lt;p&gt;å¦‚ä½•ä¼˜åŒ–å‘½ä»¤é¢‘ç¹å¾€è¿”é€ æˆçš„æ€§èƒ½ç“¶é¢ˆï¼Ÿ&lt;/p&gt;
&lt;p&gt;Redis æ˜¯ä¸€ç§åŸºäº&lt;font color=&#39;red&#39;&gt;å®¢æˆ·ç«¯ - æœåŠ¡ç«¯æ¨¡å‹&lt;/font&gt;ä»¥åŠè¯·æ±‚ / å“åº”åè®®çš„ TCP æœåŠ¡ã€‚ä¸€ä¸ªè¯·æ±‚ä¼šéµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€å‘½ä»¤&lt;/font&gt;(åˆ†å››æ­¥ï¼šå‘é€å‘½ä»¤â†’å‘½ä»¤æ’é˜Ÿâ†’å‘½ä»¤æ‰§è¡Œâ†’è¿”å›ç»“æœ)ï¼Œå¹¶ç›‘å¬ Socket è¿”å›ï¼Œé€šå¸¸&lt;font color=&#39;red&#39;&gt;ä»¥&lt;strong&gt;é˜»å¡æ¨¡å¼&lt;/strong&gt;ç­‰å¾…æœåŠ¡ç«¯å“åº”&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æœåŠ¡ç«¯å¤„ç†å‘½ä»¤ï¼Œå¹¶å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸Šè¿°ä¸¤æ­¥çš„æ€»è€—æ—¶ç§°ä¸ºï¼š&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;Round Trip Timeï¼ˆå³ RTTï¼Œæ•°æ®åŒ…å¾€è¿”äºä¸¤ç«¯çš„æ—¶é—´)&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœåŒæ—¶éœ€è¦æ‰§è¡Œå¤§é‡çš„å‘½ä»¤ï¼Œé‚£ä¹ˆå°±&lt;font color=&#39;red&#39;&gt;è¦ç­‰å¾…ä¸Šä¸€æ¡å‘½ä»¤åº”ç­”åå†æ‰§è¡Œ&lt;/font&gt;ï¼Œè¿™ä¸­é—´ä¸ä»…ä»…å¤šäº† RTTï¼ˆRound Time Tripï¼‰ï¼Œè€Œä¸”è¿˜é¢‘ç¹è°ƒç”¨ç³»ç»Ÿ IOï¼Œå‘é€ç½‘ç»œè¯·æ±‚ï¼ŒåŒæ—¶éœ€è¦ redis è°ƒç”¨å¤šæ¬¡ read () å’Œ write () ç³»ç»Ÿæ–¹æ³•ï¼Œç³»ç»Ÿæ–¹æ³•ä¼šå°†æ•°æ®ä»ç”¨æˆ·æ€è½¬ç§»åˆ°å†…æ ¸æ€ï¼Œè¿™æ ·å°±ä¼šå¯¹è¿›ç¨‹ä¸Šä¸‹æ–‡æœ‰æ¯”è¾ƒå¤§çš„å½±å“äº†ï¼Œ&lt;font color=&#39;red&#39;&gt;æ€§èƒ½ä¸å¤ªå¥½&lt;/font&gt;o(â•¥ï¹â•¥)o&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807140057973.png&#34; alt=&#34;image-20230807140057973&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç®€ä»‹-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®€ä»‹-2&#34;&gt;#&lt;/a&gt; ç®€ä»‹&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;é€šè¿‡ **&lt;font color=&#39;red&#39;&gt;æ‰¹å¤„ç† Redis å‘½ä»¤&lt;/font&gt;** æ¥&lt;font color=&#39;red&#39;&gt;ä¼˜åŒ–å¾€è¿”æ—¶é—´ RTT&lt;/font&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Redis ç®¡é“ (pipeline)&lt;/strong&gt;ï¼šä¸ºäº†ä¼˜åŒ– RTT å¾€è¿”æ—¶é—´ï¼Œå¯ä»¥&lt;font color=&#39;orange&#39;&gt;ä¸€æ¬¡æ€§æ‰“åŒ…å‘é€å¤šæ¡å‘½ä»¤&lt;/font&gt;ç»™æœåŠ¡ç«¯ï¼Œè€Œ&lt;font color=&#39;red&#39;&gt;æ— éœ€ç­‰å¾…å¯¹æ¯ä¸ªå‘½ä»¤çš„å“åº”&lt;/font&gt;ã€‚ç­‰å¾…æœåŠ¡ç«¯ä¾æ¬¡å¤„ç†å®Œå®Œæ¯•åï¼Œ&lt;font color=&#39;red&#39;&gt;é€šè¿‡ä¸€æ¡å“åº”ä¸€æ¬¡æ€§å°†ç»“æœè¿”å›&lt;/font&gt;ï¼Œé€šè¿‡å‡å°‘å®¢æˆ·ç«¯ä¸ redis çš„é€šä¿¡æ¬¡æ•°æ¥å®ç°é™ä½å¾€è¿”å»¶æ—¶æ—¶é—´ã€‚pipeline çš„&lt;font color=&#39;orange&#39;&gt;å®ç°åŸç†æ˜¯é˜Ÿåˆ—&lt;/font&gt;ï¼Œå…ˆè¿›å…ˆå‡ºç‰¹æ€§å°±ä¿è¯æ•°æ®çš„é¡ºåºæ€§ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ˜¯&lt;strong&gt;ä¸€ç§æ‰¹å¤„ç†å‘½ä»¤çš„å˜ç§ä¼˜åŒ–æªæ–½&lt;/strong&gt;ï¼Œç±»ä¼¼ Redis åŸç”Ÿçš„æ‰¹å‘½ä»¤ï¼ˆä¾‹å¦‚ mget å’Œ msetï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1ffba84802bd4732b4a390d0aade8020.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ¡ˆä¾‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¡ˆä¾‹&#34;&gt;#&lt;/a&gt; æ¡ˆä¾‹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å°†æ¬²æ‰§è¡Œçš„å‘½ä»¤å…¨éƒ¨å†™åˆ°ä¸€ä¸ª txt æ–‡ä»¶ä¸­&lt;/li&gt;
&lt;li&gt;å°† txt æ–‡ä»¶çš„å†…å®¹ä¼ é€’ç»™ Redis çš„ pipe å‚æ•°&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807140935362.png&#34; alt=&#34;image-20230807140935362&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ€»ç»“&#34;&gt;#&lt;/a&gt; æ€»ç»“&lt;/h2&gt;
&lt;h3 id=&#34;ç®¡é“-vs-åŸç”Ÿæ‰¹é‡æ“ä½œå‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®¡é“-vs-åŸç”Ÿæ‰¹é‡æ“ä½œå‘½ä»¤&#34;&gt;#&lt;/a&gt; ç®¡é“ vs åŸç”Ÿæ‰¹é‡æ“ä½œå‘½ä»¤&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç®¡é“&lt;/th&gt;
&lt;th&gt;åŸç”Ÿæ‰¹é‡å‘½ä»¤&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;éåŸå­æ€§&lt;/font&gt;&lt;/td&gt;
&lt;td&gt;åŸå­æ€§&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ”¯æŒæ‰¹é‡æ‰§è¡Œä¸åŒå‘½ä»¤&lt;/td&gt;
&lt;td&gt;ä¸€æ¬¡åªèƒ½æ‰§è¡Œä¸€ç§å‘½ä»¤&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯å…±åŒå®Œæˆ&lt;/td&gt;
&lt;td&gt;æœåŠ¡ç«¯å®ç°&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;ç®¡é“-vs-redis-äº‹åŠ¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®¡é“-vs-redis-äº‹åŠ¡&#34;&gt;#&lt;/a&gt; ç®¡é“ vs Redis äº‹åŠ¡&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç®¡é“&lt;/th&gt;
&lt;th&gt;Redis äº‹åŠ¡&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;éåŸå­æ€§ï¼Œpipeline ä¹‹é—´å¯ä»¥&lt;font color=&#39;red&#39;&gt;äº¤é”™æ‰§è¡Œ&lt;/font&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;å¯è§†ä¸ºåŸå­æ“ä½œï¼Œä½†ä¸æ»¡è¶³åŸå­æ€§&lt;/font&gt;ï¼Œè™½ç„¶ä¸¤ä¸ªä¸åŒçš„äº‹åŠ¡ä¸ä¼šåŒæ—¶è¿è¡Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¸€æ¬¡æ€§å‘é€å¤šæ¡å‘½ä»¤åˆ°æœåŠ¡ç«¯ï¼Œè¯·æ±‚æ¬¡æ•°æ›´å°‘&lt;/td&gt;
&lt;td&gt;éœ€è¦é€æ¡å‘é€å‘½ä»¤åˆ°æœåŠ¡ç«¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;éé˜»å¡&lt;/font&gt;&lt;/td&gt;
&lt;td&gt;ä¼šé˜»å¡å…¶ä»–å‘½ä»¤çš„æ‰§è¡Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;ä½¿ç”¨ç®¡é“çš„æ³¨æ„äº‹é¡¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½¿ç”¨ç®¡é“çš„æ³¨æ„äº‹é¡¹&#34;&gt;#&lt;/a&gt; ä½¿ç”¨ç®¡é“çš„æ³¨æ„äº‹é¡¹&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;pipeline ç¼“å†²çš„æŒ‡ä»¤åªæ˜¯ä¼šä¾æ¬¡æ‰§è¡Œï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸ä¿è¯åŸå­æ€§ï¼Œå¦‚æœæ‰§è¡Œä¸­æŒ‡ä»¤å‘ç”Ÿå¼‚å¸¸ï¼Œå°†ä¼šç»§ç»­æ‰§è¡Œåç»­çš„æŒ‡ä»¤&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ Redis äº‹åŠ¡å‘ç”Ÿå‘½ä»¤çš„è¿è¡Œæ—¶å¼‚å¸¸ç±»ä¼¼ï¼Œå†¤å¤´å€ºä¸»ï¼Œä¸ä¼šè¿å&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨ pipeline ç»„è£…çš„&lt;font color=&#39;red&#39;&gt;å‘½ä»¤ä¸ªæ•°ä¸èƒ½å¤ªå¤š&lt;/font&gt;ï¼ˆä¾‹å¦‚ 10kï¼‰ï¼Œä¸ç„¶æ•°æ®é‡è¿‡å¤§å®¢æˆ·ç«¯é˜»å¡çš„æ—¶é—´å¯èƒ½è¿‡ä¹…ï¼ŒåŒæ—¶&lt;font color=&#39;red&#39;&gt;æœåŠ¡ç«¯æ­¤æ—¶ä¹Ÿè¢«è¿«å›å¤ä¸€ä¸ªé˜Ÿåˆ—ç­”å¤ï¼Œå ç”¨å¾ˆå¤šå†…å­˜&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;redis-æ€§èƒ½ä¼˜åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-æ€§èƒ½ä¼˜åŒ–&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸRedis æ€§èƒ½ä¼˜åŒ–&lt;/mark&gt;&lt;/h1&gt;
&lt;p&gt;é™¤äº†ä¸‹é¢ä»‹ç»çš„å†…å®¹ä¹‹å¤–ï¼Œå†æ¨èä¸¤ç¯‡ä¸é”™çš„æ–‡ç« ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3Mvbk5FdVl3ME5sWUdodUtLS0tvV2ZjUQ==&#34;&gt;ä½ çš„ Redis çœŸçš„å˜æ…¢äº†å—ï¼Ÿæ€§èƒ½ä¼˜åŒ–å¦‚ä½•åš - é˜¿é‡Œå¼€å‘è€…&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qYXZhZ3VpZGUuY24vZGF0YWJhc2UvcmVkaXMvcmVkaXMtY29tbW9uLWJsb2NraW5nLXByb2JsZW1zLXN1bW1hcnkuaHRtbA==&#34;&gt;Redis å¸¸è§é˜»å¡åŸå› æ€»ç»“ - JavaGuide&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä½¿ç”¨æ‰¹é‡æ“ä½œå‡å°‘ç½‘ç»œä¼ è¾“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½¿ç”¨æ‰¹é‡æ“ä½œå‡å°‘ç½‘ç»œä¼ è¾“&#34;&gt;#&lt;/a&gt; ä½¿ç”¨æ‰¹é‡æ“ä½œå‡å°‘ç½‘ç»œä¼ è¾“&lt;/h2&gt;
&lt;p&gt;ä¸€ä¸ª Redis å‘½ä»¤çš„æ‰§è¡Œå¯ä»¥ç®€åŒ–ä¸ºä»¥ä¸‹ 4 æ­¥ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å‘é€å‘½ä»¤&lt;/li&gt;
&lt;li&gt;å‘½ä»¤æ’é˜Ÿ&lt;/li&gt;
&lt;li&gt;å‘½ä»¤æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;è¿”å›ç»“æœ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å…¶ä¸­ï¼Œç¬¬ 1 æ­¥å’Œç¬¬ 4 æ­¥è€—è´¹æ—¶é—´ä¹‹å’Œç§°ä¸º &lt;strong&gt;Round Trip Time (RTT, å¾€è¿”æ—¶é—´)&lt;/strong&gt; ï¼Œä¹Ÿå°±æ˜¯æ•°æ®åœ¨ç½‘ç»œä¸Šä¼ è¾“çš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä½¿ç”¨æ‰¹é‡æ“ä½œå¯ä»¥å‡å°‘ç½‘ç»œä¼ è¾“æ¬¡æ•°ï¼Œè¿›è€Œæœ‰æ•ˆå‡å°ç½‘ç»œå¼€é”€ï¼Œå¤§å¹…å‡å°‘ RTT&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œé™¤äº†èƒ½å‡å°‘ RTT ä¹‹å¤–ï¼Œå‘é€ä¸€æ¬¡å‘½ä»¤çš„ socket I/O æˆæœ¬ä¹Ÿæ¯”è¾ƒé«˜ï¼ˆæ¶‰åŠä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå­˜åœ¨ &lt;code&gt;read()&lt;/code&gt;  å’Œ &lt;code&gt;write()&lt;/code&gt;  ç³»ç»Ÿè°ƒç”¨ï¼‰ï¼Œ&lt;font color=&#39;red&#39;&gt;æ‰¹é‡æ“ä½œè¿˜å¯ä»¥å‡å°‘ socket I/O æˆæœ¬&lt;/font&gt;ã€‚è¿™ä¸ªåœ¨å®˜æ–¹å¯¹ pipeline çš„ä»‹ç»ä¸­æœ‰æåˆ°ï¼š[&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9yZWRpcy5pby9kb2NzL21hbnVhbC9waXBlbGluaW5nLw==&#34;&gt;https://redis.io/docs/manual/pipelining/&lt;/span&gt; ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åŸç”Ÿæ‰¹é‡æ“ä½œå‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸç”Ÿæ‰¹é‡æ“ä½œå‘½ä»¤&#34;&gt;#&lt;/a&gt; åŸç”Ÿæ‰¹é‡æ“ä½œå‘½ä»¤&lt;/h3&gt;
&lt;p&gt;Redis ä¸­æœ‰ä¸€äº›åŸç”Ÿæ”¯æŒæ‰¹é‡æ“ä½œçš„å‘½ä»¤ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;MGET&lt;/code&gt;  (è·å–ä¸€ä¸ªæˆ–å¤šä¸ªæŒ‡å®š key çš„å€¼)ã€ &lt;code&gt;MSET&lt;/code&gt;  (è®¾ç½®ä¸€ä¸ªæˆ–å¤šä¸ªæŒ‡å®š key çš„å€¼)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;HMGET&lt;/code&gt;  (è·å–æŒ‡å®šå“ˆå¸Œè¡¨ä¸­ä¸€ä¸ªæˆ–è€…å¤šä¸ªæŒ‡å®šå­—æ®µçš„å€¼)ã€ &lt;code&gt;HMSET&lt;/code&gt;  (åŒæ—¶å°†ä¸€ä¸ªæˆ–å¤šä¸ª field-value å¯¹è®¾ç½®åˆ°æŒ‡å®šå“ˆå¸Œè¡¨ä¸­)ã€&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SADD&lt;/code&gt; ï¼ˆå‘æŒ‡å®šé›†åˆæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼‰&lt;/li&gt;
&lt;li&gt;â€¦â€¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸è¿‡ï¼Œåœ¨ Redis å®˜æ–¹æä¾›çš„åˆ†ç‰‡é›†ç¾¤è§£å†³æ–¹æ¡ˆ &lt;font color=&#39;red&#39;&gt;Redis Cluster ä¸‹ï¼Œä½¿ç”¨è¿™äº›åŸç”Ÿæ‰¹é‡æ“ä½œå‘½ä»¤å¯èƒ½ä¼šå­˜åœ¨ä¸€äº›å°é—®é¢˜éœ€è¦è§£å†³&lt;/font&gt;ã€‚å°±æ¯”å¦‚è¯´  &lt;code&gt;MGET&lt;/code&gt;  æ— æ³•ä¿è¯æ‰€æœ‰çš„ key éƒ½åœ¨åŒä¸€ä¸ª &lt;strong&gt;hash slot&lt;/strong&gt;ï¼ˆå“ˆå¸Œæ§½ï¼‰ä¸Šï¼Œ &lt;code&gt;MGET&lt;/code&gt;  å¯èƒ½è¿˜æ˜¯éœ€è¦å¤šæ¬¡ç½‘ç»œä¼ è¾“ï¼ŒåŸå­æ“ä½œä¹Ÿæ— æ³•ä¿è¯äº†ã€‚ä¸è¿‡ï¼Œç›¸è¾ƒäºéæ‰¹é‡æ“ä½œï¼Œè¿˜æ˜¯å¯ä»¥èŠ‚çœä¸å°‘ç½‘ç»œä¼ è¾“æ¬¡æ•°ã€‚&lt;/p&gt;
&lt;p&gt;æ•´ä¸ªæ­¥éª¤çš„ç®€åŒ–ç‰ˆå¦‚ä¸‹ï¼ˆé€šå¸¸ç”± Redis å®¢æˆ·ç«¯å®ç°ï¼Œæ— éœ€æˆ‘ä»¬è‡ªå·±å†æ‰‹åŠ¨å®ç°ï¼‰ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ‰¾åˆ° key å¯¹åº”çš„æ‰€æœ‰ hash slotï¼›&lt;/li&gt;
&lt;li&gt;åˆ†åˆ«å‘å¯¹åº”çš„ Redis èŠ‚ç‚¹å‘èµ·  &lt;code&gt;MGET&lt;/code&gt;  è¯·æ±‚è·å–æ•°æ®ï¼›&lt;/li&gt;
&lt;li&gt;ç­‰å¾…æ‰€æœ‰è¯·æ±‚æ‰§è¡Œç»“æŸï¼Œé‡æ–°ç»„è£…ç»“æœæ•°æ®ï¼Œä¿æŒè·Ÿå…¥å‚ key çš„é¡ºåºä¸€è‡´ï¼Œç„¶åè¿”å›ç»“æœã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœæƒ³è¦è§£å†³è¿™ä¸ªå¤šæ¬¡ç½‘ç»œä¼ è¾“çš„é—®é¢˜ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„åŠæ³•æ˜¯è‡ªå·±ç»´æŠ¤ key ä¸ slot çš„å…³ç³»ã€‚ä¸è¿‡è¿™æ ·ä¸å¤ªçµæ´»ï¼Œè™½ç„¶å¸¦æ¥äº†æ€§èƒ½æå‡ï¼Œä½†åŒæ ·è®©ç³»ç»Ÿå¤æ‚æ€§æå‡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç®¡é“pipeline&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®¡é“pipeline&#34;&gt;#&lt;/a&gt; ç®¡é“ï¼ˆpipelineï¼‰&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;å‚è€ƒå‰æ–‡ [Redis ç®¡é“](#Redis ç®¡é“ï¼ˆpipelineï¼‰)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¯¹äºä¸æ”¯æŒæ‰¹é‡æ“ä½œçš„å‘½ä»¤ï¼Œæˆ‘ä»¬&lt;font color=&#39;red&#39;&gt;å¯ä»¥åˆ©ç”¨ &lt;strong&gt;pipelineï¼ˆæµæ°´çº¿)&lt;/strong&gt; å°†ä¸€æ‰¹ Redis å‘½ä»¤å°è£…æˆä¸€ç»„ï¼Œè¿™äº› Redis å‘½ä»¤ä¼šè¢«ä¸€æ¬¡æ€§æäº¤åˆ° Redis æœåŠ¡å™¨ï¼Œåªéœ€è¦ä¸€æ¬¡ç½‘ç»œä¼ è¾“&lt;/font&gt;ã€‚ä¸è¿‡ï¼Œéœ€è¦æ³¨æ„æ§åˆ¶ä¸€æ¬¡æ‰¹é‡æ“ä½œçš„ &lt;strong&gt;å…ƒç´ ä¸ªæ•°&lt;/strong&gt; (ä¾‹å¦‚ 500 ä»¥å†…ï¼Œå®é™…ä¹Ÿå’Œå…ƒç´ å­—èŠ‚æ•°æœ‰å…³)ï¼Œé¿å…ç½‘ç»œä¼ è¾“çš„æ•°æ®é‡è¿‡å¤§ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ &lt;code&gt;MGET&lt;/code&gt; ã€ &lt;code&gt;MSET&lt;/code&gt;  ç­‰åŸç”Ÿæ‰¹é‡æ“ä½œå‘½ä»¤ä¸€æ ·ï¼Œ&lt;font color=&#39;red&#39;&gt;pipeline åŒæ ·åœ¨ Redis Cluster ä¸Šä½¿ç”¨ä¼šå­˜åœ¨ä¸€äº›å°é—®é¢˜&lt;/font&gt;ã€‚åŸå› ç±»ä¼¼ï¼Œæ— æ³•ä¿è¯æ‰€æœ‰çš„ key éƒ½åœ¨åŒä¸€ä¸ª &lt;strong&gt;hash slot&lt;/strong&gt;ï¼ˆå“ˆå¸Œæ§½ï¼‰ä¸Šã€‚å¦‚æœæƒ³è¦ä½¿ç”¨çš„è¯ï¼Œå®¢æˆ·ç«¯éœ€è¦è‡ªå·±ç»´æŠ¤ key ä¸ slot çš„å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;[pipeline ä¸åŸç”Ÿæ‰¹é‡æ“ä½œå‘½ä»¤çš„åŒºåˆ«](# ç®¡é“ vs åŸç”Ÿæ‰¹é‡æ“ä½œå‘½ä»¤)&lt;/p&gt;
&lt;p&gt;[pipeline ä¸ Redis äº‹åŠ¡çš„åŒºåˆ«](# ç®¡é“ vs Redis äº‹åŠ¡)&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œ&lt;font color=&#39;red&#39;&gt;pipeline ä¸é€‚ç”¨äºæ‰§è¡Œé¡ºåºæœ‰ä¾èµ–å…³ç³»çš„ä¸€æ‰¹å‘½ä»¤&lt;/font&gt;ã€‚å°±æ¯”å¦‚è¯´ï¼Œä½ éœ€è¦å°†å‰ä¸€ä¸ªå‘½ä»¤çš„ç»“æœç»™åç»­çš„å‘½ä»¤ä½¿ç”¨ï¼Œpipeline å°±æ²¡åŠæ³•æ»¡è¶³ä½ çš„éœ€æ±‚äº†ã€‚å¯¹äºè¿™ç§éœ€æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &lt;strong&gt;Lua è„šæœ¬&lt;/strong&gt; ã€‚&lt;/p&gt;
&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-pipeline-vs-transaction.png&#34; alt=&#34;img&#34; style=&#34;zoom:67%;&#34; /&gt;
&lt;h3 id=&#34;lua-è„šæœ¬&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#lua-è„šæœ¬&#34;&gt;#&lt;/a&gt; Lua è„šæœ¬&lt;/h3&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;Lua è„šæœ¬åŒæ ·æ”¯æŒæ‰¹é‡æ“ä½œå¤šæ¡å‘½ä»¤ï¼Œä¸€æ®µ Lua è„šæœ¬å¯ä»¥è§†ä½œä¸€æ¡å‘½ä»¤æ‰§è¡Œï¼Œå¯ä»¥çœ‹ä½œæ˜¯ &lt;strong&gt;åŸå­æ“ä½œ&lt;/strong&gt; &lt;/font&gt;ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ®µ Lua è„šæœ¬æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸ä¼šæœ‰å…¶ä»–è„šæœ¬æˆ– Redis å‘½ä»¤åŒæ—¶æ‰§è¡Œï¼Œä¿è¯äº†æ“ä½œä¸ä¼šè¢«å…¶ä»–æŒ‡ä»¤æ’å…¥æˆ–æ‰“æ‰°ï¼Œè¿™æ˜¯ pipeline æ‰€ä¸å…·å¤‡çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¹¶ä¸”ï¼Œ&lt;font color=&#39;red&#39;&gt;Lua è„šæœ¬ä¸­æ”¯æŒä¸€äº›ç®€å•çš„é€»è¾‘å¤„ç†&lt;/font&gt;ï¼Œæ¯”å¦‚ä½¿ç”¨å‘½ä»¤è¯»å–å€¼å¹¶åœ¨ Lua è„šæœ¬ä¸­è¿›è¡Œå¤„ç†ï¼Œè¿™åŒæ ·æ˜¯ pipeline æ‰€ä¸å…·å¤‡çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼ŒLua è„šæœ¬ä¾ç„¶å­˜åœ¨ä¸‹é¢è¿™äº›ç¼ºé™·ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å¦‚æœ Lua è„šæœ¬è¿è¡Œæ—¶å‡ºé”™å¹¶ä¸­é€”ç»“æŸï¼Œä¹‹åçš„æ“ä½œä¸ä¼šè¿›è¡Œï¼Œä½†æ˜¯ä¹‹å‰å·²ç»å‘ç”Ÿçš„å†™æ“ä½œä¸ä¼šæ’¤é”€&lt;/font&gt;ï¼Œæ‰€ä»¥å³ä½¿ä½¿ç”¨äº† Lua è„šæœ¬ï¼Œä¹Ÿä¸èƒ½å®ç°ç±»ä¼¼æ•°æ®åº“å›æ»šçš„åŸå­æ€§ã€‚&lt;/li&gt;
&lt;li&gt;Redis Cluster ä¸‹ Lua è„šæœ¬çš„åŸå­æ“ä½œä¹Ÿæ— æ³•ä¿è¯äº†ï¼ŒåŸå› åŒæ ·æ˜¯æ— æ³•ä¿è¯æ‰€æœ‰çš„ key éƒ½åœ¨åŒä¸€ä¸ª &lt;strong&gt;hash slot&lt;/strong&gt;ï¼ˆå“ˆå¸Œæ§½ï¼‰ä¸Šã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å¤§é‡-key-é›†ä¸­è¿‡æœŸé—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¤§é‡-key-é›†ä¸­è¿‡æœŸé—®é¢˜&#34;&gt;#&lt;/a&gt; å¤§é‡ key é›†ä¸­è¿‡æœŸé—®é¢˜&lt;/h2&gt;
&lt;p&gt;æˆ‘åœ¨å‰é¢æåˆ°è¿‡ï¼šå¯¹äºè¿‡æœŸ keyï¼ŒRedis é‡‡ç”¨çš„æ˜¯ &lt;font color=&#39;cornflowerblue&#39;&gt;å®šæœŸåˆ é™¤ + æƒ°æ€§åˆ é™¤&lt;/font&gt; ç­–ç•¥ã€‚&lt;/p&gt;
&lt;p&gt;å®šæœŸåˆ é™¤æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æœ&lt;font color=&#39;red&#39;&gt;çªç„¶é‡åˆ°å¤§é‡è¿‡æœŸ key &lt;/font&gt;çš„è¯ï¼Œå®¢æˆ·ç«¯è¯·æ±‚å¿…é¡»ç­‰å¾…å®šæœŸæ¸…ç†è¿‡æœŸ key ä»»åŠ¡çº¿ç¨‹æ‰§è¡Œå®Œæˆï¼Œå› ä¸ºè¿™ä¸ªè¿™ä¸ª&lt;font color=&#39;red&#39;&gt;å®šæœŸä»»åŠ¡çº¿ç¨‹æ˜¯åœ¨ Redis ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œçš„&lt;/font&gt;ã€‚è¿™å°±å¯¼è‡´å®¢æˆ·ç«¯è¯·æ±‚æ²¡åŠæ³•è¢«åŠæ—¶å¤„ç†ï¼Œå“åº”é€Ÿåº¦ä¼šæ¯”è¾ƒæ…¢ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸¤ç§å¸¸è§çš„è§£å†³æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç»™ key è®¾ç½® **&lt;font color=&#39;red&#39;&gt;éšæœºè¿‡æœŸæ—¶é—´&lt;/font&gt;**ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¼€å¯ lazy-freeï¼ˆæƒ°æ€§åˆ é™¤ï¼‰&lt;/font&gt;&lt;/strong&gt;ã€‚è¯¥ç‰¹æ€§æ˜¯ Redis 4.0 å¼€å§‹å¼•å…¥çš„ï¼ŒæŒ‡çš„æ˜¯è®© Redis &lt;font color=&#39;red&#39;&gt;é‡‡ç”¨å¼‚æ­¥æ–¹å¼å»¶è¿Ÿé‡Šæ”¾ key ä½¿ç”¨çš„å†…å­˜ï¼Œå°†è¯¥æ“ä½œäº¤ç»™å•ç‹¬çš„å­çº¿ç¨‹å¤„ç†ï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸ªäººå»ºè®®ä¸ç®¡æ˜¯å¦å¼€å¯ lazy-freeï¼Œæˆ‘ä»¬éƒ½&lt;font color=&#39;red&#39;&gt;å°½é‡ç»™ key è®¾ç½®éšæœºè¿‡æœŸæ—¶é—´&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;bigkeyå¤§-key&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#bigkeyå¤§-key&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸbigkeyï¼ˆå¤§ Keyï¼‰&lt;/mark&gt;&lt;/h2&gt;
&lt;h3 id=&#34;bigkey-æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#bigkey-æ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; bigkey æ˜¯ä»€ä¹ˆ&lt;/h3&gt;
&lt;p&gt;ç®€å•æ¥è¯´ï¼Œå¦‚æœ **&lt;font color=&#39;red&#39;&gt;ä¸€ä¸ª key å¯¹åº”çš„ value æ‰€å ç”¨çš„å†…å­˜æ¯”è¾ƒå¤§&lt;/font&gt;**ï¼Œé‚£è¿™ä¸ª key å°±å¯ä»¥çœ‹ä½œæ˜¯ bigkeyã€‚å…·ä½“å¤šå¤§æ‰ç®—å¤§å‘¢ï¼Ÿæœ‰ä¸€ä¸ªä¸æ˜¯ç‰¹åˆ«ç²¾ç¡®çš„å‚è€ƒæ ‡å‡†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;String ç±»å‹çš„ value è¶…è¿‡ 1MB&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å¤åˆç±»å‹ï¼ˆListã€Hashã€Setã€Sorted Set ç­‰ï¼‰çš„ value åŒ…å«çš„å…ƒç´ è¶…è¿‡ 5000 ä¸ª&lt;/font&gt;ï¼ˆä¸è¿‡ï¼Œå¯¹äºå¤åˆç±»å‹çš„ value æ¥è¯´ï¼Œä¸ä¸€å®šåŒ…å«çš„å…ƒç´ è¶Šå¤šï¼Œå ç”¨çš„å†…å­˜å°±è¶Šå¤šï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/bigkey-criterion.png&#34; alt=&#34;bigkey åˆ¤å®šæ ‡å‡†&#34; /&gt;&lt;/p&gt;
&lt;center&gt;bigkey åˆ¤å®šæ ‡å‡†&lt;/center&gt;
&lt;h3 id=&#34;bigkey-æ€ä¹ˆäº§ç”Ÿçš„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#bigkey-æ€ä¹ˆäº§ç”Ÿçš„&#34;&gt;#&lt;/a&gt; bigkey æ€ä¹ˆäº§ç”Ÿçš„&lt;/h3&gt;
&lt;p&gt;bigkey é€šå¸¸æ˜¯ç”±äºä¸‹é¢è¿™äº›åŸå› äº§ç”Ÿçš„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¨‹åºè®¾è®¡ä¸å½“ï¼Œæ¯”å¦‚ç›´æ¥ä½¿ç”¨ String ç±»å‹å­˜å‚¨è¾ƒå¤§çš„æ–‡ä»¶å¯¹åº”çš„äºŒè¿›åˆ¶æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºä¸šåŠ¡çš„æ•°æ®è§„æ¨¡è€ƒè™‘ä¸å‘¨åˆ°ï¼Œæ¯”å¦‚ä½¿ç”¨é›†åˆç±»å‹çš„æ—¶å€™æ²¡æœ‰è€ƒè™‘åˆ°æ•°æ®é‡çš„å¿«é€Ÿå¢é•¿ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æœªåŠæ—¶æ¸…ç†åƒåœ¾æ•°æ®&lt;/font&gt;ï¼Œæ¯”å¦‚å“ˆå¸Œä¸­å†—ä½™äº†å¤§é‡çš„æ— ç”¨é”®å€¼å¯¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;bigkey-çš„å±å®³&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#bigkey-çš„å±å®³&#34;&gt;#&lt;/a&gt; bigkey çš„å±å®³&lt;/h3&gt;
&lt;p&gt;bigkey é™¤äº†&lt;font color=&#39;red&#39;&gt;ä¼šæ¶ˆè€—æ›´å¤šçš„å†…å­˜ç©ºé—´å’Œå¸¦å®½ï¼Œè¿˜ä¼šå¯¹æ€§èƒ½é€ æˆæ¯”è¾ƒå¤§çš„å½±å“&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨&lt;a href=&#34;&#34;&gt; Redis å¸¸è§é˜»å¡åŸå› æ€»ç»“&lt;/a&gt;è¿™ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬æåˆ°ï¼šå¤§ key è¿˜ä¼šé€ æˆé˜»å¡é—®é¢˜ã€‚å…·ä½“æ¥è¯´ï¼Œä¸»è¦ä½“ç°åœ¨ä¸‹é¢ä¸‰ä¸ªæ–¹é¢ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å®¢æˆ·ç«¯è¶…æ—¶é˜»å¡&lt;/font&gt;ï¼šç”±äº Redis æ‰§è¡Œå‘½ä»¤æ˜¯å•çº¿ç¨‹å¤„ç†ï¼Œç„¶ååœ¨æ“ä½œå¤§ key æ—¶ä¼šæ¯”è¾ƒè€—æ—¶ï¼Œé‚£ä¹ˆå°±ä¼šé˜»å¡ Redisï¼Œä»å®¢æˆ·ç«¯è¿™ä¸€è§†è§’çœ‹ï¼Œå°±æ˜¯å¾ˆä¹…å¾ˆä¹…éƒ½æ²¡æœ‰å“åº”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ç½‘ç»œé˜»å¡&lt;/font&gt;ï¼šæ¯æ¬¡è·å–å¤§ key äº§ç”Ÿçš„ç½‘ç»œæµé‡è¾ƒå¤§ï¼Œå¦‚æœä¸€ä¸ª key çš„å¤§å°æ˜¯ 1 MBï¼Œæ¯ç§’è®¿é—®é‡ä¸º 1000ï¼Œé‚£ä¹ˆæ¯ç§’ä¼šäº§ç”Ÿ 1000MB çš„æµé‡ï¼Œè¿™å¯¹äºæ™®é€šåƒå…†ç½‘å¡çš„æœåŠ¡å™¨æ¥è¯´æ˜¯ç¾éš¾æ€§çš„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å·¥ä½œçº¿ç¨‹é˜»å¡&lt;/font&gt;ï¼šå¦‚æœä½¿ç”¨ del åˆ é™¤å¤§ key æ—¶ï¼Œä¼šé˜»å¡å·¥ä½œçº¿ç¨‹ï¼Œè¿™æ ·å°±æ²¡åŠæ³•å¤„ç†åç»­çš„å‘½ä»¤ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¤§ key é€ æˆçš„é˜»å¡é—®é¢˜è¿˜ä¼š&lt;font color=&#39;red&#39;&gt;è¿›ä¸€æ­¥å½±å“åˆ°ä¸»ä»åŒæ­¥å’Œé›†ç¾¤æ‰©å®¹&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç»¼ä¸Šï¼Œå¤§ key å¸¦æ¥çš„æ½œåœ¨é—®é¢˜æ˜¯éå¸¸å¤šçš„ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡é¿å… Redis ä¸­å­˜åœ¨ bigkeyã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•å‘ç°-bigkey&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•å‘ç°-bigkey&#34;&gt;#&lt;/a&gt; å¦‚ä½•å‘ç° bigkey&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;1ã€ä½¿ç”¨ Redis è‡ªå¸¦çš„ --bigkeys å‚æ•°æ¥æŸ¥æ‰¾&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# redis-cli -p 6379 --bigkeys&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# Scanning the entire keyspace to find biggest keys as well as&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# average sizes per key type.  You can use -i 0.1 to sleep 0.1 sec&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# per 100 SCAN commands (not usually needed).&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;00.00%&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; Biggest string found so far &lt;span class=&#34;token string&#34;&gt;&#39;&#34;ballcat:oauth:refresh_auth:f6cdb384-9a9d-4f2f-af01-dc3f28057c20&#34;&#39;&lt;/span&gt; with &lt;span class=&#34;token number&#34;&gt;4437&lt;/span&gt; bytes&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;00.00%&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; Biggest list   found so far &lt;span class=&#34;token string&#34;&gt;&#39;&#34;my-list&#34;&#39;&lt;/span&gt; with &lt;span class=&#34;token number&#34;&gt;17&lt;/span&gt; items&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;-------- summary -------&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Sampled &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt; keys &lt;span class=&#34;token keyword&#34;&gt;in&lt;/span&gt; the keyspace&lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Total key length &lt;span class=&#34;token keyword&#34;&gt;in&lt;/span&gt; bytes is &lt;span class=&#34;token number&#34;&gt;264&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;avg len &lt;span class=&#34;token number&#34;&gt;52.80&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Biggest   list found &lt;span class=&#34;token string&#34;&gt;&#39;&#34;my-list&#34;&#39;&lt;/span&gt; has &lt;span class=&#34;token number&#34;&gt;17&lt;/span&gt; items&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Biggest string found &lt;span class=&#34;token string&#34;&gt;&#39;&#34;ballcat:oauth:refresh_auth:f6cdb384-9a9d-4f2f-af01-dc3f28057c20&#34;&#39;&lt;/span&gt; has &lt;span class=&#34;token number&#34;&gt;4437&lt;/span&gt; bytes&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; lists with &lt;span class=&#34;token number&#34;&gt;17&lt;/span&gt; items &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;20.00&lt;/span&gt;% of keys, avg size &lt;span class=&#34;token number&#34;&gt;17.00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; hashs with &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; fields &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;00.00% of keys, avg size &lt;span class=&#34;token number&#34;&gt;0.00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt; strings with &lt;span class=&#34;token number&#34;&gt;4831&lt;/span&gt; bytes &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;80.00&lt;/span&gt;% of keys, avg size &lt;span class=&#34;token number&#34;&gt;1207.75&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; streams with &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; entries &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;00.00% of keys, avg size &lt;span class=&#34;token number&#34;&gt;0.00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; sets with &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; members &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;00.00% of keys, avg size &lt;span class=&#34;token number&#34;&gt;0.00&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; zsets with &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; members &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;00.00% of keys, avg size &lt;span class=&#34;token number&#34;&gt;0.00&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ä»è¿™ä¸ªå‘½ä»¤çš„è¿è¡Œç»“æœï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼šè¿™ä¸ªå‘½ä»¤&lt;font color=&#39;red&#39;&gt;ä¼šæ‰«æ (Scan) Redis ä¸­çš„æ‰€æœ‰ key&lt;/font&gt; ï¼Œä¼šå¯¹ Redis çš„æ€§èƒ½æœ‰ä¸€ç‚¹å½±å“ã€‚å¹¶ä¸”ï¼Œè¿™ç§æ–¹å¼&lt;font color=&#39;red&#39;&gt;åªèƒ½æ‰¾å‡ºæ¯ç§æ•°æ®ç»“æ„ top 1 bigkey&lt;/font&gt;ï¼ˆå ç”¨å†…å­˜æœ€å¤§çš„ String æ•°æ®ç±»å‹ï¼ŒåŒ…å«å…ƒç´ æœ€å¤šçš„å¤åˆæ•°æ®ç±»å‹ï¼‰ã€‚ç„¶è€Œï¼Œä¸€ä¸ª key çš„å…ƒç´ å¤šå¹¶ä¸ä»£è¡¨å ç”¨å†…å­˜ä¹Ÿå¤šï¼Œéœ€è¦æˆ‘ä»¬æ ¹æ®å…·ä½“çš„ä¸šåŠ¡æƒ…å†µæ¥è¿›ä¸€æ­¥åˆ¤æ–­ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨çº¿ä¸Šæ‰§è¡Œè¯¥å‘½ä»¤æ—¶ï¼Œä¸ºäº†é™ä½å¯¹ Redis çš„å½±å“ï¼Œ&lt;font color=&#39;red&#39;&gt;éœ€è¦æŒ‡å®š  &lt;code&gt;-i&lt;/code&gt;  å‚æ•°æ§åˆ¶æ‰«æçš„é¢‘ç‡&lt;/font&gt;ã€‚ &lt;code&gt;redis-cli -p 6379 --bigkeys -i 3&lt;/code&gt;  è¡¨ç¤ºæ‰«æè¿‡ç¨‹ä¸­æ¯æ¬¡æ‰«æåä¼‘æ¯çš„æ—¶é—´é—´éš”ä¸º 3 ç§’ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;2ã€ä½¿ç”¨ Redis è‡ªå¸¦çš„ SCAN å‘½ä»¤&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SCAN&lt;/code&gt;  å‘½ä»¤å¯ä»¥æŒ‰ç…§ä¸€å®šçš„æ¨¡å¼ã€æ•°é‡è¿”å›åŒ¹é…çš„ keyã€‚è·å–äº† key ä¹‹åï¼Œå¯ä»¥åˆ©ç”¨  &lt;code&gt;STRLEN&lt;/code&gt; ã€ &lt;code&gt;HLEN&lt;/code&gt; ã€ &lt;code&gt;LLEN&lt;/code&gt;  ç­‰å‘½ä»¤è¿”å›å…¶é•¿åº¦æˆ–æˆå‘˜æ•°é‡ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ•°æ®ç»“æ„&lt;/th&gt;
&lt;th&gt;å‘½ä»¤&lt;/th&gt;
&lt;th&gt;å¤æ‚åº¦&lt;/th&gt;
&lt;th&gt;ç»“æœï¼ˆå¯¹åº” keyï¼‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;String&lt;/td&gt;
&lt;td&gt;STRLEN&lt;/td&gt;
&lt;td&gt;O(1)&lt;/td&gt;
&lt;td&gt;å­—ç¬¦ä¸²å€¼çš„é•¿åº¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Hash&lt;/td&gt;
&lt;td&gt;HLEN&lt;/td&gt;
&lt;td&gt;O(1)&lt;/td&gt;
&lt;td&gt;å“ˆå¸Œè¡¨ä¸­å­—æ®µçš„æ•°é‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List&lt;/td&gt;
&lt;td&gt;LLEN&lt;/td&gt;
&lt;td&gt;O(1)&lt;/td&gt;
&lt;td&gt;åˆ—è¡¨å…ƒç´ æ•°é‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Set&lt;/td&gt;
&lt;td&gt;SCARD&lt;/td&gt;
&lt;td&gt;O(1)&lt;/td&gt;
&lt;td&gt;é›†åˆå…ƒç´ æ•°é‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Sorted Set&lt;/td&gt;
&lt;td&gt;ZCARD&lt;/td&gt;
&lt;td&gt;O(1)&lt;/td&gt;
&lt;td&gt;æœ‰åºé›†åˆçš„å…ƒç´ æ•°é‡&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;å¯¹äºé›†åˆç±»å‹è¿˜å¯ä»¥ä½¿ç”¨  &lt;code&gt;MEMORY USAGE&lt;/code&gt;  å‘½ä»¤ï¼ˆRedis 4.0+ï¼‰ï¼Œè¿™ä¸ªå‘½ä»¤ä¼šè¿”å›é”®å€¼å¯¹å ç”¨çš„å†…å­˜ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;3ã€å€ŸåŠ©å¼€æºå·¥å…·åˆ†æ RDB æ–‡ä»¶&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡åˆ†æ RDB æ–‡ä»¶æ¥æ‰¾å‡º big keyã€‚è¿™ç§æ–¹æ¡ˆçš„å‰ææ˜¯ä½ çš„ Redis é‡‡ç”¨çš„æ˜¯ RDB æŒä¹…åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;ç½‘ä¸Šæœ‰ç°æˆçš„ä»£ç  / å·¥å…·å¯ä»¥ç›´æ¥æ‹¿æ¥ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL3NyaXBhdGhpa3Jpc2huYW4vcmVkaXMtcmRiLXRvb2xz&#34;&gt;redis-rdb-tools&lt;/span&gt;ï¼šPython è¯­è¨€å†™çš„ç”¨æ¥åˆ†æ Redis çš„ RDB å¿«ç…§æ–‡ä»¶ç”¨çš„å·¥å…·&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL3dlaXlhbndlaTQxMi9yZGJfYmlna2V5cw==&#34;&gt;rdb_bigkeys&lt;/span&gt; : Go è¯­è¨€å†™çš„ç”¨æ¥åˆ†æ Redis çš„ RDB å¿«ç…§æ–‡ä»¶ç”¨çš„å·¥å…·ï¼Œæ€§èƒ½æ›´å¥½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;4ã€å€ŸåŠ©å…¬æœ‰äº‘çš„ Redis åˆ†ææœåŠ¡&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ ç”¨çš„æ˜¯å…¬æœ‰äº‘çš„ Redis æœåŠ¡çš„è¯ï¼Œå¯ä»¥çœ‹çœ‹å…¶æ˜¯å¦æä¾›äº† key åˆ†æåŠŸèƒ½ï¼ˆä¸€èˆ¬éƒ½æä¾›äº†ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œä»¥é˜¿é‡Œäº‘ Redis ä¸ºä¾‹è¯´æ˜ï¼Œå®ƒ&lt;font color=&#39;red&#39;&gt;æ”¯æŒ bigkey å®æ—¶åˆ†æã€å‘ç°&lt;/font&gt;ï¼Œæ–‡æ¡£åœ°å€ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuYWxpYmFiYWNsb3VkLmNvbS9oZWxwL3poL2Fwc2FyYWRiLWZvci1yZWRpcy9sYXRlc3QvdXNlLXRoZS1yZWFsLXRpbWUta2V5LXN0YXRpc3RpY3MtZmVhdHVyZQ==&#34;&gt;https://www.alibabacloud.com/help/zh/apsaradb-for-redis/latest/use-the-real-time-key-statistics-feature&lt;/span&gt; ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/aliyun-key-analysis.png&#34; alt=&#34;é˜¿é‡Œäº‘Keyåˆ†æ&#34; /&gt;&lt;/p&gt;
&lt;center&gt;é˜¿é‡Œäº‘Keyåˆ†æ&lt;/center&gt;
&lt;h3 id=&#34;å¦‚ä½•å¤„ç†-bigkey&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•å¤„ç†-bigkey&#34;&gt;#&lt;/a&gt; å¦‚ä½•å¤„ç† bigkey&lt;/h3&gt;
&lt;p&gt;bigkey çš„å¸¸è§å¤„ç†ä»¥åŠä¼˜åŒ–åŠæ³•å¦‚ä¸‹ï¼ˆè¿™äº›æ–¹æ³•å¯ä»¥é…åˆèµ·æ¥ä½¿ç”¨ï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;åˆ†å‰² bigkey&lt;/font&gt;&lt;/strong&gt;ï¼šå°†ä¸€ä¸ª bigkey åˆ†å‰²ä¸ºå¤šä¸ªå° keyã€‚ä¾‹å¦‚ï¼Œå°†ä¸€ä¸ªå«æœ‰ä¸Šä¸‡å­—æ®µæ•°é‡çš„ Hash æŒ‰ç…§ä¸€å®šç­–ç•¥ï¼ˆæ¯”å¦‚äºŒæ¬¡å“ˆå¸Œï¼‰æ‹†åˆ†ä¸ºå¤šä¸ª Hashã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æ‰‹åŠ¨æ¸…ç†&lt;/font&gt;&lt;/strong&gt;ï¼šRedis 4.0+ å¯ä»¥ä½¿ç”¨  &lt;code&gt;UNLINK&lt;/code&gt;  å‘½ä»¤æ¥å¼‚æ­¥åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªæŒ‡å®šçš„ keyã€‚Redis 4.0 ä»¥ä¸‹å¯ä»¥è€ƒè™‘ä½¿ç”¨  &lt;code&gt;SCAN&lt;/code&gt;  å‘½ä»¤ç»“åˆ  &lt;code&gt;DEL&lt;/code&gt;  å‘½ä»¤æ¥åˆ†æ‰¹æ¬¡åˆ é™¤ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;é‡‡ç”¨åˆé€‚çš„æ•°æ®ç»“æ„&lt;/font&gt;&lt;/strong&gt;ï¼šä¾‹å¦‚ï¼Œæ–‡ä»¶äºŒè¿›åˆ¶æ•°æ®ä¸ä½¿ç”¨ String ä¿å­˜ã€ä½¿ç”¨ HyperLogLog ç»Ÿè®¡é¡µé¢ UVã€Bitmap ä¿å­˜çŠ¶æ€ä¿¡æ¯ï¼ˆ0/1ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;å¼€å¯ lazy-freeï¼ˆæƒ°æ€§åˆ é™¤ / å»¶è¿Ÿé‡Šæ”¾ï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šlazy-free ç‰¹æ€§æ˜¯ Redis 4.0 å¼€å§‹å¼•å…¥çš„ï¼ŒæŒ‡çš„æ˜¯è®© Redis é‡‡ç”¨å¼‚æ­¥æ–¹å¼å»¶è¿Ÿé‡Šæ”¾ key ä½¿ç”¨çš„å†…å­˜ï¼Œå°†è¯¥æ“ä½œäº¤ç»™å•ç‹¬çš„å­çº¿ç¨‹å¤„ç†ï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;hotkeyçƒ­-key&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#hotkeyçƒ­-key&#34;&gt;#&lt;/a&gt; hotkeyï¼ˆçƒ­ Keyï¼‰&lt;/h2&gt;
&lt;h3 id=&#34;hotkey-æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#hotkey-æ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; hotkey æ˜¯ä»€ä¹ˆ&lt;/h3&gt;
&lt;p&gt;å¦‚æœ **&lt;font color=&#39;red&#39;&gt;ä¸€ä¸ª key çš„è®¿é—®æ¬¡æ•°æ¯”è¾ƒå¤šä¸”æ˜æ˜¾å¤šäºå…¶ä»– key&lt;/font&gt;** ï¼Œé‚£è¿™ä¸ª key å°±å¯ä»¥çœ‹ä½œæ˜¯ hotkeyï¼ˆçƒ­ Keyï¼‰ã€‚ä¾‹å¦‚åœ¨ Redis å®ä¾‹çš„æ¯ç§’å¤„ç†è¯·æ±‚è¾¾åˆ° 5000 æ¬¡ï¼Œè€Œå…¶ä¸­æŸä¸ª key çš„æ¯ç§’è®¿é—®é‡å°±é«˜è¾¾ 2000 æ¬¡ï¼Œé‚£è¿™ä¸ª key å°±å¯ä»¥çœ‹ä½œæ˜¯ hotkeyã€‚&lt;/p&gt;
&lt;p&gt;hotkey å‡ºç°çš„åŸå› ä¸»è¦æ˜¯&lt;font color=&#39;red&#39;&gt;æŸä¸ªçƒ­ç‚¹æ•°æ®è®¿é—®é‡æš´å¢&lt;/font&gt;ï¼Œå¦‚é‡å¤§çš„çƒ­æœäº‹ä»¶ã€å‚ä¸ç§’æ€çš„å•†å“ã€‚&lt;/p&gt;
&lt;h3 id=&#34;hotkey-çš„å±å®³&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#hotkey-çš„å±å®³&#34;&gt;#&lt;/a&gt; hotkey çš„å±å®³&lt;/h3&gt;
&lt;p&gt;å¤„ç† hotkey ä¼š&lt;font color=&#39;red&#39;&gt;å ç”¨å¤§é‡çš„ CPU å’Œå¸¦å®½ï¼Œå¯èƒ½ä¼šå½±å“ Redis å®ä¾‹å¯¹å…¶ä»–è¯·æ±‚çš„æ­£å¸¸å¤„ç†&lt;/font&gt;ã€‚æ­¤å¤–ï¼Œå¦‚æœçªç„¶è®¿é—® hotkey çš„è¯·æ±‚è¶…å‡ºäº† Redis çš„å¤„ç†èƒ½åŠ›ï¼Œ&lt;font color=&#39;red&#39;&gt;Redis å°±ä¼šç›´æ¥å®•æœº&lt;/font&gt;ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå¤§é‡è¯·æ±‚å°†è½åˆ°åé¢çš„æ•°æ®åº“ä¸Šï¼Œ&lt;font color=&#39;red&#39;&gt;å¯èƒ½ä¼šå¯¼è‡´æ•°æ®åº“å´©æºƒ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œhotkey å¾ˆå¯èƒ½æˆä¸ºç³»ç»Ÿæ€§èƒ½çš„ç“¶é¢ˆç‚¹ï¼Œéœ€è¦å•ç‹¬å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼Œä»¥ç¡®ä¿ç³»ç»Ÿçš„é«˜å¯ç”¨æ€§å’Œç¨³å®šæ€§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•å‘ç°-hotkey&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•å‘ç°-hotkey&#34;&gt;#&lt;/a&gt; å¦‚ä½•å‘ç° hotkey&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;1ã€ä½¿ç”¨ Redis è‡ªå¸¦çš„ --hotkeys å‚æ•°æ¥æŸ¥æ‰¾&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Redis 4.0.3 ç‰ˆæœ¬ä¸­æ–°å¢äº†  &lt;code&gt;hotkeys&lt;/code&gt;  å‚æ•°ï¼Œè¯¥å‚æ•°&lt;font color=&#39;red&#39;&gt;èƒ½å¤Ÿè¿”å›æ‰€æœ‰ key çš„è¢«è®¿é—®æ¬¡æ•°&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨è¯¥æ–¹æ¡ˆçš„å‰ææ¡ä»¶æ˜¯ Redis Server çš„  &lt;code&gt;maxmemory-policy&lt;/code&gt;  &lt;font color=&#39;red&#39;&gt;å‚æ•°è®¾ç½®ä¸º LFU ç®—æ³•&lt;/font&gt;ï¼Œä¸ç„¶å°±ä¼šå‡ºç°å¦‚ä¸‹æ‰€ç¤ºçš„é”™è¯¯ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# redis-cli -p 6379 --hotkeys&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# Scanning the entire keyspace to find hot keys as well as&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# average sizes per key type.  You can use -i 0.1 to sleep 0.1 sec&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# per 100 SCAN commands (not usually needed).&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Error: ERR An LFU maxmemory policy is not selected, access frequency not tracked. Please note that when switching between policies at runtime LRU and LFU data will take some &lt;span class=&#34;token function&#34;&gt;time&lt;/span&gt; to adjust.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;Redis ä¸­æœ‰ä¸¤ç§ LFU ç®—æ³•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;volatile-lfuï¼ˆleast frequently usedï¼‰&lt;/strong&gt;ï¼šä»&lt;u&gt;å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ•°æ®é›†&lt;/u&gt;ï¼ˆ &lt;code&gt;server.db[i].expires&lt;/code&gt; ï¼‰ä¸­æŒ‘é€‰&lt;font color=&#39;red&#39;&gt;æœ€ä¸ç»å¸¸ä½¿ç”¨çš„&lt;/font&gt;æ•°æ®æ·˜æ±°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;allkeys-lfuï¼ˆleast frequently usedï¼‰&lt;/strong&gt;ï¼šå½“å†…å­˜ä¸è¶³ä»¥å®¹çº³æ–°å†™å…¥æ•°æ®æ—¶ï¼Œåœ¨&lt;u&gt;é”®ç©ºé—´ä¸­&lt;/u&gt;ï¼Œç§»é™¤&lt;font color=&#39;red&#39;&gt;æœ€ä¸ç»å¸¸ä½¿ç”¨çš„&lt;/font&gt; keyã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯é…ç½®æ–‡ä»¶  &lt;code&gt;redis.conf&lt;/code&gt;  ä¸­çš„ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight properties&#34;&gt;&lt;figcaption data-lang=&#34;.properties&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ä½¿ç”¨ volatile-lfu ç­–ç•¥&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key attr-name&#34;&gt;maxmemory-policy&lt;/span&gt; &lt;span class=&#34;token value attr-value&#34;&gt;volatile-lfu&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æˆ–è€…ä½¿ç”¨ allkeys-lfu ç­–ç•¥&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key attr-name&#34;&gt;maxmemory-policy&lt;/span&gt; &lt;span class=&#34;token value attr-value&#34;&gt;allkeys-lfu&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ &lt;code&gt;hotkeys&lt;/code&gt;  å‚æ•°å‘½ä»¤ä¹Ÿä¼šå¢åŠ  Redis å®ä¾‹çš„ CPU å’Œå†…å­˜æ¶ˆè€—ï¼ˆå…¨å±€æ‰«æï¼‰ï¼Œå› æ­¤éœ€è¦è°¨æ…ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;2ã€ä½¿ç”¨ MONITOR å‘½ä»¤&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;MONITOR&lt;/code&gt;  å‘½ä»¤æ˜¯ Redis æä¾›çš„ä¸€ç§å®æ—¶æŸ¥çœ‹ Redis çš„æ‰€æœ‰æ“ä½œçš„æ–¹å¼ï¼Œå¯ä»¥ç”¨äº&lt;font color=&#39;red&#39;&gt;å®æ—¶ç›‘æ§ Redis å®ä¾‹çš„æ“ä½œæƒ…å†µï¼ŒåŒ…æ‹¬è¯»å†™ã€åˆ é™¤ç­‰æ“ä½œ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºè¯¥å‘½ä»¤å¯¹ Redis æ€§èƒ½çš„å½±å“æ¯”è¾ƒå¤§ï¼Œ&lt;font color=&#39;red&#39;&gt;å› æ­¤ç¦æ­¢é•¿æ—¶é—´å¼€å¯&lt;/font&gt;  &lt;code&gt;MONITOR&lt;/code&gt; ï¼ˆç”Ÿäº§ç¯å¢ƒä¸­å»ºè®®è°¨æ…ä½¿ç”¨è¯¥å‘½ä»¤ï¼‰ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;# redis&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;cli&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;MONITOR&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token constant&#34;&gt;OK&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1683638260.637378&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;172.17&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;61516&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;ping&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1683638267.144236&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;172.17&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;61518&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;smembers&#34;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;mySet&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1683638268.941863&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;172.17&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;61518&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;smembers&#34;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;mySet&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1683638269.551671&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;172.17&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;61518&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;smembers&#34;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;mySet&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1683638270.646256&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;172.17&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;61516&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;ping&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1683638270.849551&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;172.17&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;61518&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;smembers&#34;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;mySet&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1683638271.926945&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;172.17&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;61518&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;smembers&#34;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;mySet&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1683638274.276599&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;172.17&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;61518&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;smembers&#34;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;mySet2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1683638276.327234&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;172.17&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;61518&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;smembers&#34;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;mySet&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;åœ¨å‘ç”Ÿç´§æ€¥æƒ…å†µæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©åœ¨åˆé€‚çš„æ—¶æœºçŸ­æš‚æ‰§è¡Œ  &lt;code&gt;MONITOR&lt;/code&gt;  å‘½ä»¤å¹¶å°†è¾“å‡ºé‡å®šå‘è‡³æ–‡ä»¶ï¼Œåœ¨å…³é—­  &lt;code&gt;MONITOR&lt;/code&gt;  å‘½ä»¤åé€šè¿‡å¯¹æ–‡ä»¶ä¸­è¯·æ±‚è¿›è¡Œå½’ç±»åˆ†æå³å¯æ‰¾å‡ºè¿™æ®µæ—¶é—´ä¸­çš„ hotkeyã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;3ã€å€ŸåŠ©å¼€æºé¡¹ç›®&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;äº¬ä¸œé›¶å”®çš„ &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRlZS5jb20vamQtcGxhdGZvcm0tb3BlbnNvdXJjZS9ob3RrZXk=&#34;&gt;hotkey&lt;/span&gt; è¿™ä¸ªé¡¹ç›®ä¸å…‰æ”¯æŒ hotkey çš„å‘ç°ï¼Œè¿˜æ”¯æŒ hotkey çš„å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/jd-hotkey.png&#34; alt=&#34;äº¬ä¸œé›¶å”®å¼€æºçš„ hotkey&#34; /&gt;&lt;/p&gt;
&lt;center&gt;äº¬ä¸œé›¶å”®å¼€æºçš„ hotkey&lt;/center&gt;
&lt;p&gt;&lt;strong&gt;4ã€æ ¹æ®ä¸šåŠ¡æƒ…å†µæå‰é¢„ä¼°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥æ ¹æ®ä¸šåŠ¡æƒ…å†µæ¥é¢„ä¼°ä¸€äº› hotkeyï¼Œæ¯”å¦‚å‚ä¸ç§’æ€æ´»åŠ¨çš„å•†å“æ•°æ®ç­‰ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬æ— æ³•é¢„ä¼°æ‰€æœ‰ hotkey çš„å‡ºç°ï¼Œæ¯”å¦‚çªå‘çš„çƒ­ç‚¹æ–°é—»äº‹ä»¶ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5ã€ä¸šåŠ¡ä»£ç ä¸­è®°å½•åˆ†æ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä¸šåŠ¡ä»£ç ä¸­æ·»åŠ ç›¸åº”çš„é€»è¾‘å¯¹ key çš„è®¿é—®æƒ…å†µè¿›è¡Œè®°å½•åˆ†æã€‚ä¸è¿‡ï¼Œè¿™ç§æ–¹å¼ä¼šè®©ä¸šåŠ¡ä»£ç çš„å¤æ‚æ€§å¢åŠ ï¼Œä¸€èˆ¬ä¹Ÿä¸ä¼šé‡‡ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;6ã€å€ŸåŠ©å…¬æœ‰äº‘çš„ Redis åˆ†ææœåŠ¡&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ ç”¨çš„æ˜¯å…¬æœ‰äº‘çš„ Redis æœåŠ¡çš„è¯ï¼Œå¯ä»¥çœ‹çœ‹å…¶æ˜¯å¦æä¾›äº† key åˆ†æåŠŸèƒ½ï¼ˆä¸€èˆ¬éƒ½æä¾›äº†ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œä»¥é˜¿é‡Œäº‘ Redis ä¸ºä¾‹è¯´æ˜ï¼Œå®ƒ&lt;font color=&#39;red&#39;&gt;æ”¯æŒ hotkey å®æ—¶åˆ†æã€å‘ç°&lt;/font&gt;ï¼Œæ–‡æ¡£åœ°å€ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuYWxpYmFiYWNsb3VkLmNvbS9oZWxwL3poL2Fwc2FyYWRiLWZvci1yZWRpcy9sYXRlc3QvdXNlLXRoZS1yZWFsLXRpbWUta2V5LXN0YXRpc3RpY3MtZmVhdHVyZQ==&#34;&gt;https://www.alibabacloud.com/help/zh/apsaradb-for-redis/latest/use-the-real-time-key-statistics-feature&lt;/span&gt; ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://oss.javaguide.cn/github/javaguide/database/redis/aliyun-key-analysis.png&#34; alt=&#34;é˜¿é‡Œäº‘Keyåˆ†æ&#34; /&gt;&lt;/p&gt;
&lt;center&gt;é˜¿é‡Œäº‘Keyåˆ†æ&lt;/center&gt;
&lt;h3 id=&#34;å¦‚ä½•è§£å†³-hotkey&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•è§£å†³-hotkey&#34;&gt;#&lt;/a&gt; å¦‚ä½•è§£å†³ hotkey&lt;/h3&gt;
&lt;p&gt;hotkey çš„å¸¸è§å¤„ç†ä»¥åŠä¼˜åŒ–åŠæ³•å¦‚ä¸‹ï¼ˆè¿™äº›æ–¹æ³•å¯ä»¥é…åˆèµ·æ¥ä½¿ç”¨ï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;è¯»å†™åˆ†ç¦»&lt;/font&gt;&lt;/strong&gt;ï¼šä¸»èŠ‚ç‚¹å¤„ç†å†™è¯·æ±‚ï¼Œä»èŠ‚ç‚¹å¤„ç†è¯»è¯·æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;ä½¿ç”¨ Redis Cluster&lt;/font&gt;&lt;/strong&gt;ï¼šå°†çƒ­ç‚¹æ•°æ®åˆ†æ•£å­˜å‚¨åœ¨å¤šä¸ª Redis èŠ‚ç‚¹ä¸Šã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;äºŒçº§ç¼“å­˜&lt;/font&gt;&lt;/strong&gt;ï¼šhotkey é‡‡ç”¨äºŒçº§ç¼“å­˜çš„æ–¹å¼è¿›è¡Œå¤„ç†ï¼Œå°† hotkey å­˜æ”¾ä¸€ä»½åˆ° JVM æœ¬åœ°å†…å­˜ä¸­ï¼ˆå¯ä»¥ç”¨ Caffeineï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é™¤äº†è¿™äº›æ–¹æ³•ä¹‹å¤–ï¼Œå¦‚æœä½ ä½¿ç”¨&lt;font color=&#39;red&#39;&gt;å…¬æœ‰äº‘çš„ Redis æœåŠ¡&lt;/font&gt;è¯ï¼Œè¿˜å¯ä»¥ç•™æ„å…¶æä¾›çš„å¼€ç®±å³ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œä»¥é˜¿é‡Œäº‘ Redis ä¸ºä¾‹è¯´æ˜ï¼Œå®ƒ&lt;font color=&#39;red&#39;&gt;æ”¯æŒé€šè¿‡ä»£ç†æŸ¥è¯¢ç¼“å­˜åŠŸèƒ½ï¼ˆProxy Query Cacheï¼‰ä¼˜åŒ–çƒ­ç‚¹ Key é—®é¢˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/aliyun-hotkey-proxy-query-cache.png&#34; alt=&#34;é€šè¿‡é˜¿é‡Œäº‘çš„Proxy Query Cacheä¼˜åŒ–çƒ­ç‚¹Keyé—®é¢˜&#34; /&gt;&lt;/p&gt;
&lt;center&gt;é€šè¿‡é˜¿é‡Œäº‘çš„Proxy Query Cacheä¼˜åŒ–çƒ­ç‚¹Keyé—®é¢˜&lt;/center&gt;
&lt;h2 id=&#34;æ…¢æŸ¥è¯¢å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ…¢æŸ¥è¯¢å‘½ä»¤&#34;&gt;#&lt;/a&gt; æ…¢æŸ¥è¯¢å‘½ä»¤&lt;/h2&gt;
&lt;h3 id=&#34;æ…¢æŸ¥è¯¢å‘½ä»¤çš„äº§ç”ŸåŸå› &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ…¢æŸ¥è¯¢å‘½ä»¤çš„äº§ç”ŸåŸå› &#34;&gt;#&lt;/a&gt; æ…¢æŸ¥è¯¢å‘½ä»¤çš„äº§ç”ŸåŸå› &lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“ä¸€ä¸ª Redis å‘½ä»¤çš„æ‰§è¡Œå¯ä»¥ç®€åŒ–ä¸ºä»¥ä¸‹ 4 æ­¥ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å‘é€å‘½ä»¤&lt;/li&gt;
&lt;li&gt;å‘½ä»¤æ’é˜Ÿ&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å‘½ä»¤æ‰§è¡Œ&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;è¿”å›ç»“æœ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Redis æ…¢æŸ¥è¯¢ç»Ÿè®¡çš„æ˜¯å‘½ä»¤æ‰§è¡Œè¿™ä¸€æ­¥éª¤çš„è€—æ—¶ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ…¢æŸ¥è¯¢å‘½ä»¤ä¹Ÿå°±æ˜¯é‚£äº›å‘½ä»¤æ‰§è¡Œæ—¶é—´è¾ƒé•¿çš„å‘½ä»¤&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Redis ä¸ºä»€ä¹ˆä¼šæœ‰æ…¢æŸ¥è¯¢å‘½ä»¤å‘¢ï¼Ÿ[O (n) å‘½ä»¤](#O (n) å‘½ä»¤)&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•å‘ç°æ…¢æŸ¥è¯¢å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•å‘ç°æ…¢æŸ¥è¯¢å‘½ä»¤&#34;&gt;#&lt;/a&gt; å¦‚ä½•å‘ç°æ…¢æŸ¥è¯¢å‘½ä»¤&lt;/h3&gt;
&lt;p&gt;åœ¨  &lt;code&gt;redis.conf&lt;/code&gt;  æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨  &lt;code&gt;slowlog-log-slower-than&lt;/code&gt;  å‚æ•°è®¾ç½®è€—æ—¶å‘½ä»¤çš„é˜ˆå€¼ï¼Œå¹¶ä½¿ç”¨  &lt;code&gt;slowlog-max-len&lt;/code&gt;  å‚æ•°è®¾ç½®è€—æ—¶å‘½ä»¤çš„æœ€å¤§è®°å½•æ¡æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å½“ Redis æœåŠ¡å™¨æ£€æµ‹åˆ°æ‰§è¡Œæ—¶é—´è¶…è¿‡  &lt;code&gt;slowlog-log-slower-than&lt;/code&gt;  é˜ˆå€¼çš„å‘½ä»¤æ—¶&lt;/font&gt;ï¼Œå°±ä¼šå°†è¯¥å‘½ä»¤è®°å½•åœ¨ **&lt;font color=&#39;#B32015&#39;&gt;æ…¢æŸ¥è¯¢æ—¥å¿— (slow log)&lt;/font&gt;** ä¸­ï¼Œè¿™ç‚¹å’Œ MySQL è®°å½•æ…¢æŸ¥è¯¢è¯­å¥ç±»ä¼¼ã€‚&lt;font color=&#39;red&#39;&gt;å½“æ…¢æŸ¥è¯¢æ—¥å¿—è¶…è¿‡è®¾å®šçš„æœ€å¤§è®°å½•æ¡æ•°  &lt;code&gt;slowlog-max-len&lt;/code&gt;  ä¹‹åï¼ŒRedis ä¼šæŠŠæœ€æ—©çš„æ‰§è¡Œå‘½ä»¤ä¾æ¬¡èˆå¼ƒ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;âš ï¸æ³¨æ„ï¼šç”±äºæ…¢æŸ¥è¯¢æ—¥å¿—ä¼šå ç”¨ä¸€å®šå†…å­˜ç©ºé—´ï¼Œå¦‚æœè®¾ç½®æœ€å¤§è®°å½•æ¡æ•°è¿‡å¤§ï¼Œå¯èƒ½ä¼šå¯¼è‡´å†…å­˜å ç”¨è¿‡é«˜çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;slowlog-log-slower-than&lt;/code&gt;  å’Œ &lt;code&gt;slowlog-max-len&lt;/code&gt;  çš„é»˜è®¤é…ç½®å¦‚ä¸‹ (å¯ä»¥è‡ªè¡Œä¿®æ”¹)ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight nginx&#34;&gt;&lt;figcaption data-lang=&#34;nginx&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# The following time is expressed in microseconds, so 1000000 is equivalent&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# to one second. Note that a negative number disables the slow log, while&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# a value of zero forces the logging of every command.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;slowlog-log-slower-than 10000&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# There is no limit to this length. Just be aware that it will consume memory.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# You can reclaim memory used by the slow log with SLOWLOG RESET.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;slowlog-max-len 128&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é™¤äº†ä¿®æ”¹é…ç½®æ–‡ä»¶ä¹‹å¤–ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡  &lt;code&gt;CONFIG&lt;/code&gt;  å‘½ä»¤ç›´æ¥è®¾ç½®ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å‘½ä»¤æ‰§è¡Œè€—æ—¶è¶…è¿‡ 10000 å¾®å¦™ï¼ˆå³ 10 æ¯«ç§’ï¼‰å°±ä¼šè¢«è®°å½•&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;CONFIG SET slowlog-log-slower-than &lt;span class=&#34;token number&#34;&gt;10000&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# åªä¿ç•™æœ€è¿‘ 128 æ¡è€—æ—¶å‘½ä»¤&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;CONFIG SET slowlog-max-len &lt;span class=&#34;token number&#34;&gt;128&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è·å–æ…¢æŸ¥è¯¢æ—¥å¿—çš„å†…å®¹å¾ˆç®€å•ï¼Œç›´æ¥ä½¿ç”¨  &lt;code&gt;SLOWLOG GET&lt;/code&gt;  å‘½ä»¤å³å¯ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;SLOWLOG&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;GET&lt;/span&gt; #æ…¢æ—¥å¿—æŸ¥è¯¢&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;   &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1684326682&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;   &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;12000&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;   &lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;KEYS&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;*&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;   &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;172.17.0.1:61152&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;   &lt;span class=&#34;token number&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token comment&#34;&gt;// ...&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æ…¢æŸ¥è¯¢æ—¥å¿—ä¸­çš„æ¯ä¸ªæ¡ç›®éƒ½ç”±ä»¥ä¸‹å…­ä¸ªå€¼ç»„æˆï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å”¯ä¸€æ¸è¿›çš„&lt;font color=&#39;gree&#39;&gt;æ—¥å¿—æ ‡è¯†ç¬¦&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¤„ç†è®°å½•å‘½ä»¤çš„&lt;font color=&#39;gree&#39;&gt; Unix æ—¶é—´æˆ³&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;æ‰§è¡Œæ‰€éœ€çš„æ—¶é—´é‡&lt;/font&gt;ï¼Œä»¥å¾®ç§’ä¸ºå•ä½ã€‚&lt;/li&gt;
&lt;li&gt;ç»„æˆ&lt;font color=&#39;gree&#39;&gt;å‘½ä»¤å‚æ•°&lt;/font&gt;çš„æ•°ç»„ã€‚&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯&lt;font color=&#39;gree&#39;&gt; IP åœ°å€å’Œç«¯å£&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯&lt;font color=&#39;gree&#39;&gt;åç§°&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;SLOWLOG GET&lt;/code&gt;  å‘½ä»¤é»˜è®¤è¿”å›æœ€è¿‘ 10 æ¡çš„çš„æ…¢æŸ¥è¯¢å‘½ä»¤ï¼Œä½ ä¹Ÿè‡ªå·±å¯ä»¥æŒ‡å®šè¿”å›çš„æ…¢æŸ¥è¯¢å‘½ä»¤çš„æ•°é‡  &lt;code&gt;SLOWLOG GET N&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯å…¶ä»–æ¯”è¾ƒå¸¸ç”¨çš„æ…¢æŸ¥è¯¢ç›¸å…³çš„å‘½ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# è¿”å›æ…¢æŸ¥è¯¢å‘½ä»¤çš„æ•°é‡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; SLOWLOG LEN&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;integer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;128&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ¸…ç©ºæ…¢æŸ¥è¯¢å‘½ä»¤&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:637&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;9&lt;/span&gt;&gt;&lt;/span&gt; SLOWLOG RESET&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;redis-å†…å­˜ç¢ç‰‡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-å†…å­˜ç¢ç‰‡&#34;&gt;#&lt;/a&gt; Redis å†…å­˜ç¢ç‰‡&lt;/h2&gt;
&lt;h3 id=&#34;å†…å­˜ç¢ç‰‡æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å†…å­˜ç¢ç‰‡æ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; å†…å­˜ç¢ç‰‡æ˜¯ä»€ä¹ˆ&lt;/h3&gt;
&lt;p&gt;å¯ä»¥å°†å†…å­˜ç¢ç‰‡ç®€å•åœ°ç†è§£ä¸ºé‚£äº›&lt;font color=&#39;red&#39;&gt;ä¸å¯ç”¨çš„ç©ºé—²å†…å­˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼šæ“ä½œç³»ç»Ÿä¸ºä½ åˆ†é…äº† 32 å­—èŠ‚çš„è¿ç»­å†…å­˜ç©ºé—´ï¼Œè€Œä½ å­˜å‚¨æ•°æ®å®é™…åªéœ€è¦ä½¿ç”¨ 24 å­—èŠ‚å†…å­˜ç©ºé—´ï¼Œé‚£è¿™å¤šä½™å‡ºæ¥çš„ 8 å­—èŠ‚å†…å­˜ç©ºé—´å¦‚æœåç»­æ²¡åŠæ³•å†è¢«åˆ†é…å­˜å‚¨å…¶ä»–æ•°æ®çš„è¯ï¼Œå°±å¯ä»¥è¢«ç§°ä¸ºå†…å­˜ç¢ç‰‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/memory-fragmentation.png&#34; alt=&#34;å†…å­˜ç¢ç‰‡&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å†…å­˜ç¢ç‰‡&lt;/center&gt;
&lt;p&gt;Redis å†…å­˜ç¢ç‰‡&lt;font color=&#39;red&#39;&gt;è™½ç„¶ä¸ä¼šå½±å“ Redis æ€§èƒ½ï¼Œä½†æ˜¯ä¼šå¢åŠ å†…å­˜æ¶ˆè€—&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;redis-å†…å­˜ç¢ç‰‡çš„äº§ç”ŸåŸå› &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-å†…å­˜ç¢ç‰‡çš„äº§ç”ŸåŸå› &#34;&gt;#&lt;/a&gt; Redis å†…å­˜ç¢ç‰‡çš„äº§ç”ŸåŸå› &lt;/h3&gt;
&lt;p&gt;Redis å†…å­˜ç¢ç‰‡äº§ç”Ÿæ¯”è¾ƒå¸¸è§çš„ 2 ä¸ªåŸå› ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;1ã€Redis å­˜å‚¨æ•°æ®æ—¶ï¼Œå‘æ“ä½œç³»ç»Ÿç”³è¯·çš„å†…å­˜ç©ºé—´å¯èƒ½ä¼šå¤§äºæ•°æ®å®é™…éœ€è¦çš„å­˜å‚¨ç©ºé—´ã€‚&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Redis ä½¿ç”¨  &lt;code&gt;zmalloc&lt;/code&gt;  æ–¹æ³•ï¼ˆRedis è‡ªå·±å®ç°çš„å†…å­˜åˆ†é…æ–¹æ³•) è¿›è¡Œå†…å­˜åˆ†é…çš„æ—¶å€™ï¼Œé™¤äº†è¦åˆ†é…  &lt;code&gt;size&lt;/code&gt;  å¤§å°çš„å†…å­˜ä¹‹å¤–ï¼Œè¿˜ä¼šå¤šåˆ†é…  &lt;code&gt;PREFIX_SIZE&lt;/code&gt;  å¤§å°çš„å†…å­˜ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;zmalloc&lt;/code&gt;  æ–¹æ³•æºç å¦‚ä¸‹ï¼ˆæºç åœ°å€ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2FudGlyZXovcmVkaXMtdG9vbHMvYmxvYi9tYXN0ZXIvem1hbGxvYy5jJUVGJUJDJTg5&#34;&gt;https://github.com/antirez/redis-tools/blob/master/zmalloc.cï¼‰&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;zmalloc&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;size_t size&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;   &lt;span class=&#34;token comment&#34;&gt;// åˆ†é…æŒ‡å®šå¤§å°çš„å†…å­˜&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;   &lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;ptr &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;malloc&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;size&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;token constant&#34;&gt;PREFIX_SIZE&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;   &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt;ptr&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;zmalloc_oom_handler&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;size&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;#ifdef &lt;span class=&#34;token class-name&#34;&gt;HAVE_MALLOC_SIZE&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;   &lt;span class=&#34;token function&#34;&gt;update_zmalloc_stat_alloc&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;zmalloc_size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;ptr&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;   &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; ptr&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;#&lt;span class=&#34;token keyword&#34;&gt;else&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;   &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;size_t&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;ptr&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; size&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;   &lt;span class=&#34;token function&#34;&gt;update_zmalloc_stat_alloc&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;size&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;token constant&#34;&gt;PREFIX_SIZE&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;   &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;char&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;ptr&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;token constant&#34;&gt;PREFIX_SIZE&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;#endif&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¦å¤–ï¼Œ&lt;font color=&#39;red&#39;&gt;Redis å¯ä»¥ä½¿ç”¨å¤šç§å†…å­˜åˆ†é…å™¨ï¼ˆlibcã€jemallocã€tcmallocï¼‰æ¥åˆ†é…å†…å­˜&lt;/font&gt;ï¼Œé»˜è®¤ä½¿ç”¨&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2plbWFsbG9jL2plbWFsbG9j&#34;&gt; jemalloc&lt;/span&gt;ã€‚è€Œ jemalloc æŒ‰ç…§ä¸€ç³»åˆ—å›ºå®šçš„å¤§å°ï¼ˆ8 å­—èŠ‚ã€16 å­—èŠ‚ã€32 å­—èŠ‚â€¦â€¦ï¼‰æ¥åˆ†é…å†…å­˜çš„ã€‚jemalloc åˆ’åˆ†çš„å†…å­˜å•å…ƒå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/6803d3929e3e46c1b1c9d0bb9ee8e717.png&#34; alt=&#34;jemalloc å†…å­˜å•å…ƒç¤ºæ„å›¾&#34; /&gt;&lt;/p&gt;
&lt;center&gt;jemalloc å†…å­˜å•å…ƒç¤ºæ„å›¾&lt;/center&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å½“ç¨‹åºç”³è¯·çš„å†…å­˜æœ€æ¥è¿‘æŸä¸ªå›ºå®šå€¼æ—¶ï¼Œjemalloc ä¼šç»™å®ƒåˆ†é…ç›¸åº”å¤§å°çš„ç©ºé—´&lt;/font&gt;ã€‚å°±æ¯”å¦‚è¯´ç¨‹åºéœ€è¦ç”³è¯· 17 å­—èŠ‚çš„å†…å­˜ï¼Œjemalloc ä¼šç›´æ¥ç»™å®ƒåˆ†é… 32 å­—èŠ‚çš„å†…å­˜ï¼Œè¿™æ ·ä¼šå¯¼è‡´æœ‰ 15 å­—èŠ‚å†…å­˜çš„æµªè´¹ã€‚ä¸è¿‡ï¼Œ&lt;font color=&#39;red&#39;&gt;jemalloc ä¸“é—¨é’ˆå¯¹å†…å­˜ç¢ç‰‡é—®é¢˜åšäº†ä¼˜åŒ–ï¼Œä¸€èˆ¬ä¸ä¼šå­˜åœ¨è¿‡åº¦ç¢ç‰‡åŒ–çš„é—®é¢˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;2ã€é¢‘ç¹ä¿®æ”¹ Redis ä¸­çš„æ•°æ®ä¹Ÿä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡ã€‚&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å½“ Redis ä¸­çš„æŸä¸ªæ•°æ®åˆ é™¤æ—¶ï¼ŒRedis é€šå¸¸ä¸ä¼šè½»æ˜“é‡Šæ”¾å†…å­˜ç»™æ“ä½œç³»ç»Ÿ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªåœ¨ Redis å®˜æ–¹æ–‡æ¡£ä¸­ä¹Ÿæœ‰å¯¹åº”çš„åŸè¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-docs-memory-optimization.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ–‡æ¡£åœ°å€ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9yZWRpcy5pby90b3BpY3MvbWVtb3J5LW9wdGltaXphdGlvbg==&#34;&gt;https://redis.io/topics/memory-optimization&lt;/span&gt; ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•æŸ¥çœ‹-redis-å†…å­˜ç¢ç‰‡çš„ä¿¡æ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•æŸ¥çœ‹-redis-å†…å­˜ç¢ç‰‡çš„ä¿¡æ¯&#34;&gt;#&lt;/a&gt; å¦‚ä½•æŸ¥çœ‹ Redis å†…å­˜ç¢ç‰‡çš„ä¿¡æ¯&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨  &lt;code&gt;info memory&lt;/code&gt;  å‘½ä»¤å³å¯æŸ¥çœ‹ Redis å†…å­˜ç›¸å…³çš„ä¿¡æ¯ã€‚ä¸‹å›¾ä¸­æ¯ä¸ªå‚æ•°å…·ä½“çš„å«ä¹‰ï¼ŒRedis å®˜æ–¹æ–‡æ¡£æœ‰è¯¦ç»†çš„ä»‹ç»ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9JTkZP&#34;&gt;https://redis.io/commands/INFO&lt;/span&gt; ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-info-memory.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Redis å†…å­˜ç¢ç‰‡ç‡çš„è®¡ç®—å…¬å¼ï¼š &lt;code&gt;mem_fragmentation_ratio&lt;/code&gt;  ï¼ˆå†…å­˜ç¢ç‰‡ç‡ï¼‰=  &lt;code&gt;used_memory_rss&lt;/code&gt;  (æ“ä½œç³»ç»Ÿå®é™…åˆ†é…ç»™ Redis çš„ç‰©ç†å†…å­˜ç©ºé—´å¤§å°)/  &lt;code&gt;used_memory&lt;/code&gt;  (Redis å†…å­˜åˆ†é…å™¨ä¸ºäº†å­˜å‚¨æ•°æ®å®é™…ç”³è¯·ä½¿ç”¨çš„å†…å­˜ç©ºé—´å¤§å°)&lt;/p&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œ &lt;code&gt;mem_fragmentation_ratio&lt;/code&gt;  ï¼ˆå†…å­˜ç¢ç‰‡ç‡ï¼‰çš„å€¼è¶Šå¤§ä»£è¡¨å†…å­˜ç¢ç‰‡ç‡è¶Šä¸¥é‡ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€å®šä¸è¦è¯¯è®¤ä¸º &lt;code&gt;used_memory_rss&lt;/code&gt;  å‡å»  &lt;code&gt;used_memory&lt;/code&gt;  å€¼å°±æ˜¯å†…å­˜ç¢ç‰‡çš„å¤§å°ï¼ï¼ï¼è¿™ä¸ä»…åŒ…æ‹¬å†…å­˜ç¢ç‰‡ï¼Œè¿˜åŒ…æ‹¬å…¶ä»–è¿›ç¨‹å¼€é”€ï¼Œä»¥åŠå…±äº«åº“ã€å †æ ˆç­‰çš„å¼€é”€ã€‚&lt;/p&gt;
&lt;p&gt;å¾ˆå¤šå°ä¼™ä¼´å¯èƒ½è¦é—®äº†ï¼šâ€œå¤šå¤§çš„å†…å­˜ç¢ç‰‡ç‡æ‰æ˜¯éœ€è¦æ¸…ç†å‘¢ï¼Ÿâ€ã€‚&lt;/p&gt;
&lt;p&gt;é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è®¤ä¸º  &lt;code&gt;mem_fragmentation_ratio &amp;gt; 1.5&lt;/code&gt;  çš„è¯æ‰éœ€è¦æ¸…ç†å†…å­˜ç¢ç‰‡ã€‚  &lt;code&gt;mem_fragmentation_ratio &amp;gt; 1.5&lt;/code&gt;  æ„å‘³ç€ä½ ä½¿ç”¨ Redis å­˜å‚¨å®é™…å¤§å° 2G çš„æ•°æ®éœ€è¦ä½¿ç”¨å¤§äº 3G çš„å†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæƒ³è¦å¿«é€ŸæŸ¥çœ‹å†…å­˜ç¢ç‰‡ç‡çš„è¯ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡ä¸‹é¢è¿™ä¸ªå‘½ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; redis-cli &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt; info &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;grep&lt;/span&gt; mem_fragmentation_ratio&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¦å¤–ï¼Œå†…å­˜ç¢ç‰‡ç‡å¯èƒ½å­˜åœ¨å°äº 1 çš„æƒ…å†µã€‚è¿™ç§æƒ…å†µæˆ‘åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­è¿˜æ²¡æœ‰é‡åˆ°è¿‡ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç«  &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvZHJsRHZwN2JmcTVqdDJNNXBUcUpDdw==&#34;&gt;æ•…éšœåˆ†æ | Redis å†…å­˜ç¢ç‰‡ç‡å¤ªä½è¯¥æ€ä¹ˆåŠï¼Ÿ- çˆ±å¯ç”Ÿå¼€æºç¤¾åŒº&lt;/span&gt; ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•æ¸…ç†-redis-å†…å­˜ç¢ç‰‡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•æ¸…ç†-redis-å†…å­˜ç¢ç‰‡&#34;&gt;#&lt;/a&gt; å¦‚ä½•æ¸…ç† Redis å†…å­˜ç¢ç‰‡ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;Redis4.0-RC3 ç‰ˆæœ¬ä»¥åè‡ªå¸¦äº†å†…å­˜æ•´ç†ï¼Œå¯ä»¥é¿å…å†…å­˜ç¢ç‰‡ç‡è¿‡å¤§çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ç›´æ¥é€šè¿‡  &lt;code&gt;config set&lt;/code&gt;  å‘½ä»¤å°†  &lt;code&gt;activedefrag&lt;/code&gt;  é…ç½®é¡¹è®¾ç½®ä¸º  &lt;code&gt;yes&lt;/code&gt;  å³å¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;config &lt;span class=&#34;token builtin class-name&#34;&gt;set&lt;/span&gt; activedefrag &lt;span class=&#34;token function&#34;&gt;yes&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å…·ä½“ä»€ä¹ˆæ—¶å€™æ¸…ç†éœ€è¦é€šè¿‡ä¸‹é¢ä¸¤ä¸ªå‚æ•°æ§åˆ¶ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å†…å­˜ç¢ç‰‡å ç”¨ç©ºé—´è¾¾åˆ° 500mb çš„æ—¶å€™å¼€å§‹æ¸…ç†&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;config &lt;span class=&#34;token builtin class-name&#34;&gt;set&lt;/span&gt; active-defrag-ignore-bytes 500mb&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å†…å­˜ç¢ç‰‡ç‡å¤§äº 1.5 çš„æ—¶å€™å¼€å§‹æ¸…ç†&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;config &lt;span class=&#34;token builtin class-name&#34;&gt;set&lt;/span&gt; active-defrag-threshold-lower &lt;span class=&#34;token number&#34;&gt;50&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é€šè¿‡ Redis è‡ªåŠ¨å†…å­˜ç¢ç‰‡æ¸…ç†æœºåˆ¶å¯èƒ½ä¼šå¯¹ Redis çš„æ€§èƒ½äº§ç”Ÿå½±å“ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢ä¸¤ä¸ªå‚æ•°æ¥å‡å°‘å¯¹ Redis æ€§èƒ½çš„å½±å“ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å†…å­˜ç¢ç‰‡æ¸…ç†æ‰€å ç”¨ CPU æ—¶é—´çš„æ¯”ä¾‹ä¸ä½äº 20%&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;config &lt;span class=&#34;token builtin class-name&#34;&gt;set&lt;/span&gt; active-defrag-cycle-min &lt;span class=&#34;token number&#34;&gt;20&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å†…å­˜ç¢ç‰‡æ¸…ç†æ‰€å ç”¨ CPU æ—¶é—´çš„æ¯”ä¾‹ä¸é«˜äº 50%&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;config &lt;span class=&#34;token builtin class-name&#34;&gt;set&lt;/span&gt; active-defrag-cycle-max &lt;span class=&#34;token number&#34;&gt;50&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¦å¤–ï¼Œ&lt;font color=&#39;red&#39;&gt;é‡å¯èŠ‚ç‚¹å¯ä»¥åšåˆ°å†…å­˜ç¢ç‰‡é‡æ–°æ•´ç†&lt;/font&gt;ã€‚å¦‚æœä½ é‡‡ç”¨çš„æ˜¯é«˜å¯ç”¨æ¶æ„çš„ Redis é›†ç¾¤çš„è¯ï¼Œä½ &lt;font color=&#39;red&#39;&gt;å¯ä»¥å°†ç¢ç‰‡ç‡è¿‡é«˜çš„ä¸»èŠ‚ç‚¹è½¬æ¢ä¸ºä»èŠ‚ç‚¹ï¼Œä»¥ä¾¿è¿›è¡Œå®‰å…¨é‡å¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h1 id=&#34;redis-ç”Ÿäº§é—®é¢˜é«˜å¹¶å‘é—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-ç”Ÿäº§é—®é¢˜é«˜å¹¶å‘é—®é¢˜&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸRedis ç”Ÿäº§é—®é¢˜ï¼ˆé«˜å¹¶å‘é—®é¢˜ï¼‰&lt;/mark&gt;&lt;/h1&gt;
&lt;h2 id=&#34;ç¼“å­˜ç©¿é€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¼“å­˜ç©¿é€&#34;&gt;#&lt;/a&gt; ç¼“å­˜ç©¿é€&lt;/h2&gt;
&lt;h3 id=&#34;æ˜¯ä»€ä¹ˆ-5&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ˜¯ä»€ä¹ˆ-5&#34;&gt;#&lt;/a&gt; æ˜¯ä»€ä¹ˆ&lt;/h3&gt;
&lt;p&gt;ç¼“å­˜ç©¿é€è¯´ç®€å•ç‚¹å°±æ˜¯ **&lt;font color=&#39;#B32015&#39;&gt;&lt;font color=&#39;orange&#39;&gt;å¤§é‡è¯·æ±‚çš„ key æ—¢ä¸å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œä¹Ÿä¸å­˜åœ¨äºæ•°æ®åº“ä¸­&lt;/font&gt;ï¼Œè¿›è¡Œäº†ä¸¤æ¬¡æ— ç”¨çš„æŸ¥è¯¢ï¼Œæœ€ç»ˆè¿”å›ç©ºæ•°æ®&lt;/font&gt;**ã€‚è¿™å°±&lt;font color=&#39;red&#39;&gt;å¯¼è‡´è¿™äº›è¯·æ±‚ç›´æ¥åˆ°äº†æ•°æ®åº“ä¸Šï¼Œæ ¹æœ¬æ²¡æœ‰ç»è¿‡ç¼“å­˜è¿™ä¸€å±‚ï¼Œå¯¹æ•°æ®åº“é€ æˆäº†å·¨å¤§çš„å‹åŠ›ï¼Œå¯èƒ½ç›´æ¥å°±è¢«è¿™ä¹ˆå¤šè¯·æ±‚å¼„å®•æœºäº†&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-cache-penetration.png&#34; alt=&#34;ç¼“å­˜ç©¿é€&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ç¼“å­˜ç©¿é€&lt;/center&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼šæŸä¸ªé»‘å®¢æ•…æ„åˆ¶é€ ä¸€äº›éæ³•çš„ key å‘èµ·å¤§é‡è¯·æ±‚ï¼Œå¯¼è‡´å¤§é‡è¯·æ±‚è½åˆ°æ•°æ®åº“ï¼Œç»“æœæ•°æ®åº“ä¸Šä¹Ÿæ²¡æœ‰æŸ¥åˆ°å¯¹åº”çš„æ•°æ®ã€‚ä¹Ÿå°±æ˜¯è¯´è¿™äº›è¯·æ±‚æœ€ç»ˆéƒ½è½åˆ°äº†æ•°æ®åº“ä¸Šï¼Œå¯¹æ•°æ®åº“é€ æˆäº†å·¨å¤§çš„å‹åŠ›ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•è§£å†³&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•è§£å†³&#34;&gt;#&lt;/a&gt; å¦‚ä½•è§£å†³&lt;/h3&gt;
&lt;p&gt;æœ€åŸºæœ¬çš„å°±æ˜¯&lt;font color=&#39;red&#39;&gt;é¦–å…ˆåšå¥½å‚æ•°æ ¡éªŒ&lt;/font&gt;ï¼Œä¸€äº›ä¸åˆæ³•çš„å‚æ•°è¯·æ±‚ç›´æ¥æŠ›å‡ºå¼‚å¸¸ä¿¡æ¯è¿”å›ç»™å®¢æˆ·ç«¯ã€‚æ¯”å¦‚æŸ¥è¯¢çš„æ•°æ®åº“ id ä¸èƒ½å°äº 0ã€ä¼ å…¥çš„é‚®ç®±æ ¼å¼ä¸å¯¹çš„æ—¶å€™ç›´æ¥è¿”å›é”™è¯¯æ¶ˆæ¯ç»™å®¢æˆ·ç«¯ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1ç¼“å­˜æ— æ•ˆ-key&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#1ç¼“å­˜æ— æ•ˆ-key&#34;&gt;#&lt;/a&gt; 1ï¼‰ç¼“å­˜æ— æ•ˆ key&lt;/h4&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å°†ç¼“å­˜å’Œæ•°æ®åº“éƒ½æŸ¥ä¸åˆ°æŸä¸ª key çš„æ•°æ®å†™åˆ° Redis ä¸­ï¼Œå¹¶è®¾ç½®è¿‡æœŸæ—¶é—´&lt;/font&gt;ã€‚å…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š &lt;code&gt;SET key value EX 10086&lt;/code&gt;  ã€‚è¿™ç§æ–¹å¼å¯ä»¥è§£å†³è¯·æ±‚çš„ key å˜åŒ–ä¸é¢‘ç¹çš„æƒ…å†µï¼Œå¦‚æœé»‘å®¢æ¶æ„æ”»å‡»ï¼Œæ¯æ¬¡æ„å»ºä¸åŒçš„è¯·æ±‚ keyï¼Œä¼šå¯¼è‡´ Redis ä¸­ç¼“å­˜å¤§é‡æ— æ•ˆçš„ key ã€‚å¾ˆæ˜æ˜¾ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è¿™ç§æ–¹æ¡ˆå¹¶ä¸èƒ½ä»æ ¹æœ¬ä¸Šè§£å†³æ­¤é—®é¢˜&lt;/font&gt;&lt;/strong&gt;ã€‚å¦‚æœéè¦ç”¨è¿™ç§æ–¹å¼æ¥è§£å†³ç©¿é€é—®é¢˜çš„è¯ï¼Œå°½é‡å°†æ— æ•ˆçš„ key çš„è¿‡æœŸæ—¶é—´è®¾ç½®çŸ­ä¸€ç‚¹æ¯”å¦‚ 1 åˆ†é’Ÿã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œè¿™é‡Œå¤šè¯´ä¸€å˜´ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬æ˜¯è¿™æ ·è®¾è®¡ key çš„ï¼š &lt;code&gt;è¡¨å:åˆ—å:ä¸»é”®å:ä¸»é”®å€¼&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœç”¨ Java ä»£ç å±•ç¤ºçš„è¯ï¼Œå·®ä¸å¤šæ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;getObjectInclNullById&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Integer&lt;/span&gt; id&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;// ä»ç¼“å­˜ä¸­è·å–æ•°æ®&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token class-name&#34;&gt;Object&lt;/span&gt; cacheValue &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; cache&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;id&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;// ç¼“å­˜ä¸ºç©º&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;cacheValue &lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ä»æ•°æ®åº“ä¸­è·å–&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token class-name&#34;&gt;Object&lt;/span&gt; storageValue &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; storage&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;key&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// ç¼“å­˜ç©ºå¯¹è±¡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        cache&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;key&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; storageValue&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;// å¦‚æœå­˜å‚¨æ•°æ®ä¸ºç©ºï¼Œéœ€è¦è®¾ç½®ä¸€ä¸ªè¿‡æœŸæ—¶é—´ (300 ç§’)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;storageValue &lt;span class=&#34;token operator&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            &lt;span class=&#34;token comment&#34;&gt;// å¿…é¡»è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œå¦åˆ™æœ‰è¢«æ”»å‡»çš„é£é™©&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            cache&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;expire&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;key&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;60&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; storageValue&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; cacheValue&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;2å¸ƒéš†è¿‡æ»¤å™¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#2å¸ƒéš†è¿‡æ»¤å™¨&#34;&gt;#&lt;/a&gt; 2ï¼‰å¸ƒéš†è¿‡æ»¤å™¨&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å¸¸ç”¨æ–¹æ³•&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¸ƒéš†è¿‡æ»¤å™¨æ˜¯ä¸€ä¸ªéå¸¸ç¥å¥‡çš„æ•°æ®ç»“æ„ï¼Œå®ƒå°†æ‰€æœ‰å¯èƒ½å­˜åœ¨çš„æ•°æ®å“ˆå¸Œåˆ°ä¸€ä¸ªè¶³å¤Ÿå¤§çš„  &lt;code&gt;bitmap&lt;/code&gt;  ä¸­ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä¸€ä¸ªä¸€å®šä¸å­˜åœ¨çš„æ•°æ®ä¼šè¢«æ‹¦æˆªæ‰&lt;/font&gt;&lt;/strong&gt;ï¼Œä»è€Œé¿å…äº†å¯¹åº•å±‚å­˜å‚¨ç³»ç»Ÿçš„æŸ¥è¯¢å‹åŠ›ã€‚é€šè¿‡å®ƒæˆ‘ä»¬&lt;font color=&#39;red&#39;&gt;å¯ä»¥éå¸¸æ–¹ä¾¿åœ°åˆ¤æ–­ä¸€ä¸ªç»™å®šæ•°æ®æ˜¯å¦å­˜åœ¨äºæµ·é‡æ•°æ®ä¸­&lt;/font&gt;ã€‚æˆ‘ä»¬éœ€è¦çš„å°±æ˜¯&lt;font color=&#39;red&#39;&gt;åˆ¤æ–­ key æ˜¯å¦åˆæ³•&lt;/font&gt;ï¼Œæœ‰æ²¡æœ‰æ„Ÿè§‰å¸ƒéš†è¿‡æ»¤å™¨å°±æ˜¯æˆ‘ä»¬æƒ³è¦æ‰¾çš„é‚£ä¸ª â€œäººâ€ã€‚&lt;/p&gt;
&lt;p&gt;å…·ä½“æ˜¯è¿™æ ·åšçš„ï¼šæŠŠæ‰€æœ‰å¯èƒ½å­˜åœ¨çš„è¯·æ±‚å€¼éƒ½å­˜æ”¾åœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­ï¼Œå½“ç”¨æˆ·è¯·æ±‚è¿‡æ¥ï¼Œå…ˆåˆ¤æ–­ç”¨æˆ·å‘æ¥çš„è¯·æ±‚å€¼æ˜¯å¦å­˜åœ¨äºå¸ƒéš†è¿‡æ»¤å™¨ä¸­ã€‚&lt;font color=&#39;red&#39;&gt;ä¸å­˜åœ¨çš„è¯ï¼Œç›´æ¥è¿”å›è¯·æ±‚å‚æ•°é”™è¯¯ä¿¡æ¯ç»™å®¢æˆ·ç«¯&lt;/font&gt;ï¼Œå­˜åœ¨çš„è¯æ‰ä¼šèµ°ä¸‹é¢çš„æµç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;åŠ å…¥å¸ƒéš†è¿‡æ»¤å™¨ä¹‹åçš„ç¼“å­˜å¤„ç†æµç¨‹å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-cache-penetration-bloom-filter.png&#34; alt=&#34;åŠ å…¥å¸ƒéš†è¿‡æ»¤å™¨ä¹‹åçš„ç¼“å­˜å¤„ç†æµç¨‹å›¾&#34; /&gt;&lt;/p&gt;
&lt;center&gt;åŠ å…¥å¸ƒéš†è¿‡æ»¤å™¨ä¹‹åçš„ç¼“å­˜å¤„ç†æµç¨‹å›¾&lt;/center&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¸ƒéš†è¿‡æ»¤å™¨å¯èƒ½ä¼šå­˜åœ¨è¯¯åˆ¤çš„æƒ…å†µã€‚æ€»ç»“æ¥è¯´å°±æ˜¯ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¸ƒéš†è¿‡æ»¤å™¨è¯´æŸä¸ªå…ƒç´ å­˜åœ¨ï¼Œå°æ¦‚ç‡ä¼šè¯¯åˆ¤ã€‚å¸ƒéš†è¿‡æ»¤å™¨è¯´æŸä¸ªå…ƒç´ ä¸åœ¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå…ƒç´ ä¸€å®šä¸åœ¨ã€‚&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;ä¸ºä»€ä¹ˆä¼šå‡ºç°è¯¯åˆ¤çš„æƒ…å†µå‘¢ï¼Ÿæˆ‘ä»¬è¿˜è¦ä»å¸ƒéš†è¿‡æ»¤å™¨çš„åŸç†æ¥è¯´ï¼&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ï¼Œ&lt;strong&gt;å½“ä¸€ä¸ªå…ƒç´ åŠ å…¥å¸ƒéš†è¿‡æ»¤å™¨ä¸­çš„æ—¶å€™ï¼Œä¼šè¿›è¡Œå“ªäº›æ“ä½œï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­çš„&lt;font color=&#39;red&#39;&gt;å“ˆå¸Œå‡½æ•°&lt;/font&gt;å¯¹å…ƒç´ å€¼è¿›è¡Œè®¡ç®—ï¼Œå¾—åˆ°å“ˆå¸Œå€¼ï¼ˆæœ‰å‡ ä¸ªå“ˆå¸Œå‡½æ•°å¾—åˆ°å‡ ä¸ªå“ˆå¸Œå€¼ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ ¹æ®å¾—åˆ°çš„å“ˆå¸Œå€¼ï¼Œåœ¨&lt;font color=&#39;gree&#39;&gt;ä½æ•°ç»„&lt;/font&gt;ä¸­æŠŠå¯¹åº”ä¸‹æ ‡çš„å€¼ç½®ä¸º 1ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ï¼Œ&lt;strong&gt;å½“æˆ‘ä»¬éœ€è¦åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨äºå¸ƒéš†è¿‡æ»¤å™¨çš„æ—¶å€™ï¼Œä¼šè¿›è¡Œå“ªäº›æ“ä½œï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯¹ç»™å®šå…ƒç´ å†æ¬¡è¿›è¡Œç›¸åŒçš„å“ˆå¸Œè®¡ç®—ï¼›&lt;/li&gt;
&lt;li&gt;å¾—åˆ°å€¼ä¹‹ååˆ¤æ–­ä½æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯å¦éƒ½ä¸º 1ï¼Œå¦‚æœå€¼éƒ½ä¸º 1ï¼Œé‚£ä¹ˆè¯´æ˜è¿™ä¸ªå€¼åœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªå€¼ä¸ä¸º 1ï¼Œè¯´æ˜è¯¥å…ƒç´ ä¸åœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç„¶åï¼Œä¸€å®šä¼šå‡ºç°è¿™æ ·ä¸€ç§æƒ…å†µï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä¸åŒçš„å­—ç¬¦ä¸²å¯èƒ½å“ˆå¸Œå‡ºæ¥çš„ä½ç½®ç›¸åŒã€‚&lt;/font&gt;&lt;/strong&gt; ï¼ˆå¯ä»¥é€‚å½“å¢åŠ ä½æ•°ç»„å¤§å°æˆ–è€…è°ƒæ•´æˆ‘ä»¬çš„å“ˆå¸Œå‡½æ•°æ¥é™ä½æ¦‚ç‡ï¼‰&lt;/p&gt;
&lt;p&gt;æ›´å¤šå…³äºå¸ƒéš†è¿‡æ»¤å™¨çš„å†…å®¹å¯ä»¥çœ‹æˆ‘çš„è¿™ç¯‡åŸåˆ›ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qYXZhZ3VpZGUuY24vY3MtYmFzaWNzL2RhdGEtc3RydWN0dXJlL2Jsb29tLWZpbHRlci8=&#34;&gt;ã€Šä¸äº†è§£å¸ƒéš†è¿‡æ»¤å™¨ï¼Ÿä¸€æ–‡ç»™ä½ æ•´çš„æ˜æ˜ç™½ç™½ï¼ã€‹&lt;/span&gt; ï¼Œå¼ºçƒˆæ¨èï¼Œä¸ªäººæ„Ÿè§‰ç½‘ä¸Šåº”è¯¥æ‰¾ä¸åˆ°æ€»ç»“çš„è¿™ä¹ˆæ˜æ˜ç™½ç™½çš„æ–‡ç« äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç¼“å­˜å‡»ç©¿&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¼“å­˜å‡»ç©¿&#34;&gt;#&lt;/a&gt; ç¼“å­˜å‡»ç©¿&lt;/h2&gt;
&lt;h3 id=&#34;æ˜¯ä»€ä¹ˆ-6&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ˜¯ä»€ä¹ˆ-6&#34;&gt;#&lt;/a&gt; æ˜¯ä»€ä¹ˆ&lt;/h3&gt;
&lt;p&gt;ç¼“å­˜å‡»ç©¿ä¸­ï¼Œ&lt;strong&gt;&lt;font color=&#39;orange&#39;&gt;è¯·æ±‚çš„ key æ˜¯&lt;u&gt;çƒ­ç‚¹æ•°æ®&lt;/u&gt;ï¼Œè¯¥æ•°æ®å­˜åœ¨äºæ•°æ®åº“ä¸­ï¼Œä½†ä¸å­˜åœ¨äºç¼“å­˜ä¸­ï¼ˆé€šå¸¸å› ä¸ºç¼“å­˜ä¸­çš„é‚£ä»½æ•°æ®å·²ç»è¿‡æœŸï¼‰&lt;/font&gt;&lt;/strong&gt;ã€‚è¿™å°±å¯èƒ½ä¼šå¯¼è‡´ç¬æ—¶å¤§é‡çš„è¯·æ±‚ç›´æ¥æ‰“åˆ°äº†æ•°æ®åº“ä¸Šï¼Œå¯¹æ•°æ®åº“é€ æˆäº†å·¨å¤§çš„å‹åŠ›ï¼Œå¯èƒ½ç›´æ¥å°±è¢«è¿™ä¹ˆå¤šè¯·æ±‚å¼„å®•æœºäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-cache-breakdown.png&#34; alt=&#34;ç¼“å­˜å‡»ç©¿&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ç¼“å­˜å‡»ç©¿&lt;/center&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼šç§’æ€è¿›è¡Œè¿‡ç¨‹ä¸­ï¼Œç¼“å­˜ä¸­çš„æŸä¸ªç§’æ€å•†å“çš„æ•°æ®çªç„¶è¿‡æœŸï¼Œè¿™å°±å¯¼è‡´ç¬æ—¶å¤§é‡å¯¹è¯¥å•†å“çš„è¯·æ±‚ç›´æ¥è½åˆ°æ•°æ®åº“ä¸Šï¼Œå¯¹æ•°æ®åº“é€ æˆäº†å·¨å¤§çš„å‹åŠ›ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•è§£å†³-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•è§£å†³-2&#34;&gt;#&lt;/a&gt; å¦‚ä½•è§£å†³&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é’ˆå¯¹çƒ­ç‚¹æ•°æ®æå‰é¢„çƒ­ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å°†çƒ­ç‚¹æ•°æ®å­˜å…¥ç¼“å­˜ä¸­å¹¶è®¾ç½®åˆç†çš„è¿‡æœŸæ—¶é—´ï¼ˆæ°¸ä¸è¿‡æœŸ / è¿‡æœŸæ—¶é—´è¾ƒé•¿ï¼‰&lt;/font&gt;&lt;/strong&gt;ã€‚æ¯”å¦‚ç§’æ€åœºæ™¯ä¸‹çš„æ•°æ®åœ¨ç§’æ€ç»“æŸä¹‹å‰ä¸è¿‡æœŸã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¯·æ±‚æ•°æ®åº“å†™æ•°æ®åˆ°ç¼“å­˜ä¹‹å‰ï¼Œå…ˆ&lt;font color=&#39;red&#39;&gt;è·å–äº’æ–¥é” mutex&lt;/font&gt;ï¼Œä¿è¯åªæœ‰ä¸€ä¸ªè¯·æ±‚ä¼šè½åˆ°æ•°æ®åº“ä¸Šï¼Œå‡å°‘æ•°æ®åº“çš„å‹åŠ›ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç¼“å­˜ç©¿é€ä¸ç¼“å­˜å‡»ç©¿çš„åŒºåˆ«&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¼“å­˜ç©¿é€ä¸ç¼“å­˜å‡»ç©¿çš„åŒºåˆ«&#34;&gt;#&lt;/a&gt; ç¼“å­˜ç©¿é€ä¸ç¼“å­˜å‡»ç©¿çš„åŒºåˆ«&lt;/h3&gt;
&lt;p&gt;ç¼“å­˜ç©¿é€ä¸­ï¼Œè¯·æ±‚çš„ key æ—¢ä¸å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œä¹Ÿä¸å­˜åœ¨äºæ•°æ®åº“ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ç¼“å­˜å‡»ç©¿ä¸­ï¼Œè¯·æ±‚çš„ key å¯¹åº”çš„æ˜¯ &lt;strong&gt;çƒ­ç‚¹æ•°æ®&lt;/strong&gt; ï¼Œè¯¥æ•°æ® &lt;strong&gt;å­˜åœ¨äºæ•°æ®åº“ä¸­ï¼Œä½†ä¸å­˜åœ¨äºç¼“å­˜ä¸­ï¼ˆé€šå¸¸æ˜¯å› ä¸ºç¼“å­˜ä¸­çš„é‚£ä»½æ•°æ®å·²ç»è¿‡æœŸï¼‰&lt;/strong&gt; ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç¼“å­˜é›ªå´©&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¼“å­˜é›ªå´©&#34;&gt;#&lt;/a&gt; ç¼“å­˜é›ªå´©&lt;/h2&gt;
&lt;h3 id=&#34;æ˜¯ä»€ä¹ˆ-7&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ˜¯ä»€ä¹ˆ-7&#34;&gt;#&lt;/a&gt; æ˜¯ä»€ä¹ˆ&lt;/h3&gt;
&lt;p&gt;å®é™…ä¸Šï¼Œç¼“å­˜é›ªå´©æè¿°çš„å°±æ˜¯è¿™æ ·ä¸€ä¸ªç®€å•çš„åœºæ™¯ï¼š**&lt;font color=&#39;#B32015&#39;&gt;&lt;font color=&#39;orange&#39;&gt;ç¼“å­˜åœ¨åŒä¸€æ—¶é—´å¤§é¢ç§¯å¤±æ•ˆ&lt;/font&gt;ï¼Œå¯¼è‡´å¤§é‡çš„è¯·æ±‚éƒ½ç›´æ¥è½åˆ°äº†æ•°æ®åº“ä¸Šï¼Œå¯¹æ•°æ®åº“é€ æˆäº†å·¨å¤§çš„å‹åŠ›ã€‚&lt;/font&gt;** è¿™å°±å¥½æ¯”é›ªå´©ä¸€æ ·ï¼Œæ‘§æ¯æ‹‰æœ½ä¹‹åŠ¿ï¼Œæ•°æ®åº“çš„å‹åŠ›å¯æƒ³è€ŒçŸ¥ï¼Œå¯èƒ½ç›´æ¥å°±è¢«è¿™ä¹ˆå¤šè¯·æ±‚å¼„å®•æœºäº†ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œ&lt;font color=&#39;red&#39;&gt;ç¼“å­˜æœåŠ¡å®•æœºä¹Ÿä¼šå¯¼è‡´ç¼“å­˜é›ªå´©ç°è±¡ï¼Œå¯¼è‡´æ‰€æœ‰çš„è¯·æ±‚éƒ½è½åˆ°äº†æ•°æ®åº“ä¸Š&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-cache-avalanche.png&#34; alt=&#34;ç¼“å­˜é›ªå´©&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ç¼“å­˜é›ªå´©&lt;/center&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼šæ•°æ®åº“ä¸­çš„å¤§é‡æ•°æ®åœ¨åŒä¸€æ—¶é—´è¿‡æœŸï¼Œè¿™ä¸ªæ—¶å€™çªç„¶æœ‰å¤§é‡çš„è¯·æ±‚éœ€è¦è®¿é—®è¿™äº›è¿‡æœŸçš„æ•°æ®ã€‚è¿™å°±å¯¼è‡´å¤§é‡çš„è¯·æ±‚ç›´æ¥è½åˆ°æ•°æ®åº“ä¸Šï¼Œå¯¹æ•°æ®åº“é€ æˆäº†å·¨å¤§çš„å‹åŠ›ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•è§£å†³-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•è§£å†³-3&#34;&gt;#&lt;/a&gt; å¦‚ä½•è§£å†³&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;é’ˆå¯¹çƒ­ç‚¹ç¼“å­˜å¤±æ•ˆçš„æƒ…å†µï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è®¾ç½®ä¸åŒçš„å¤±æ•ˆæ—¶é—´ï¼Œæ¯”å¦‚&lt;font color=&#39;red&#39;&gt;éšæœºè®¾ç½®ç¼“å­˜çš„å¤±æ•ˆæ—¶é—´&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ç¼“å­˜æ°¸ä¸å¤±æ•ˆï¼ˆä¸å¤ªæ¨èï¼Œå®ç”¨æ€§å¤ªå·®ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;è®¾ç½®äºŒçº§ç¼“å­˜&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;é’ˆå¯¹ Redis æœåŠ¡ä¸å¯ç”¨çš„æƒ…å†µï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;é‡‡ç”¨ Redis é›†ç¾¤&lt;/font&gt;ï¼Œé¿å…å•æœºå‡ºç°é—®é¢˜æ•´ä¸ªç¼“å­˜æœåŠ¡éƒ½æ²¡åŠæ³•ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;é™æµ&lt;/font&gt;ï¼Œé¿å…åŒæ—¶å¤„ç†å¤§é‡çš„è¯·æ±‚ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ç¼“å­˜é›ªå´©ä¸ç¼“å­˜å‡»ç©¿çš„åŒºåˆ«&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¼“å­˜é›ªå´©ä¸ç¼“å­˜å‡»ç©¿çš„åŒºåˆ«&#34;&gt;#&lt;/a&gt; ç¼“å­˜é›ªå´©ä¸ç¼“å­˜å‡»ç©¿çš„åŒºåˆ«&lt;/h3&gt;
&lt;p&gt;ç¼“å­˜é›ªå´©å’Œç¼“å­˜å‡»ç©¿æ¯”è¾ƒåƒï¼Œä½†&lt;font color=&#39;red&#39;&gt;å¯¼è‡´ç¼“å­˜é›ªå´©çš„åŸå› æ˜¯ç¼“å­˜ä¸­çš„å¤§é‡æˆ–è€…æ‰€æœ‰æ•°æ®å¤±æ•ˆ&lt;/font&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;å¯¼è‡´ç¼“å­˜å‡»ç©¿çš„åŸå› ä¸»è¦æ˜¯æŸä¸ªçƒ­ç‚¹æ•°æ®ä¸å­˜åœ¨äºç¼“å­˜ä¸­ï¼ˆé€šå¸¸æ˜¯å› ä¸ºç¼“å­˜ä¸­çš„é‚£ä»½æ•°æ®å·²ç»è¿‡æœŸï¼‰&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¦‚ä½•ä¿è¯ç¼“å­˜å’Œæ•°æ®åº“æ•°æ®çš„ä¸€è‡´æ€§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•ä¿è¯ç¼“å­˜å’Œæ•°æ®åº“æ•°æ®çš„ä¸€è‡´æ€§&#34;&gt;#&lt;/a&gt; å¦‚ä½•ä¿è¯ç¼“å­˜å’Œæ•°æ®åº“æ•°æ®çš„ä¸€è‡´æ€§ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;ä¸ªäººè§‰å¾—å¼•å…¥ç¼“å­˜ä¹‹åï¼Œå¦‚æœä¸ºäº†çŸ­æ—¶é—´çš„ä¸ä¸€è‡´æ€§é—®é¢˜ï¼Œé€‰æ‹©è®©ç³»ç»Ÿè®¾è®¡å˜å¾—æ›´åŠ å¤æ‚çš„è¯ï¼Œå®Œå…¨æ²¡å¿…è¦ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢å•ç‹¬å¯¹ **&lt;font color=&#39;#B32015&#39;&gt;Cache Aside Patternï¼ˆæ—è·¯ç¼“å­˜æ¨¡å¼ï¼‰&lt;/font&gt;** æ¥èŠèŠã€‚&lt;/p&gt;
&lt;p&gt;Cache Aside Pattern ä¸­é‡åˆ°å†™è¯·æ±‚æ˜¯è¿™æ ·çš„ï¼šæ›´æ–° DBï¼Œç„¶åç›´æ¥åˆ é™¤ cache ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ›´æ–°æ•°æ®åº“æˆåŠŸï¼Œè€Œåˆ é™¤ç¼“å­˜è¿™ä¸€æ­¥å¤±è´¥çš„æƒ…å†µçš„è¯ï¼Œç®€å•è¯´ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç¼©çŸ­ç¼“å­˜å¤±æ•ˆæ—¶é—´ï¼ˆä¸æ¨èï¼Œæ²»æ ‡ä¸æ²»æœ¬ï¼‰&lt;/strong&gt;ï¼šæˆ‘ä»¬è®©ç¼“å­˜æ•°æ®çš„è¿‡æœŸæ—¶é—´å˜çŸ­ï¼Œè¿™æ ·çš„è¯ç¼“å­˜å°±ä¼šä»æ•°æ®åº“ä¸­åŠ è½½æ•°æ®ã€‚å¦å¤–ï¼Œè¿™ç§è§£å†³åŠæ³•å¯¹äºå…ˆæ“ä½œç¼“å­˜åæ“ä½œæ•°æ®åº“çš„åœºæ™¯ä¸é€‚ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;å¢åŠ  cache æ›´æ–°é‡è¯•æœºåˆ¶ï¼ˆå¸¸ç”¨ï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šå¦‚æœ cache æœåŠ¡å½“å‰ä¸å¯ç”¨å¯¼è‡´ç¼“å­˜åˆ é™¤å¤±è´¥çš„è¯ï¼Œæˆ‘ä»¬å°±éš”ä¸€æ®µæ—¶é—´è¿›è¡Œé‡è¯•ï¼Œé‡è¯•æ¬¡æ•°å¯ä»¥è‡ªå·±å®šã€‚å¦‚æœå¤šæ¬¡é‡è¯•è¿˜æ˜¯å¤±è´¥çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå½“å‰æ›´æ–°å¤±è´¥çš„ key å­˜å…¥é˜Ÿåˆ—ä¸­ï¼Œç­‰ç¼“å­˜æœåŠ¡å¯ç”¨ä¹‹åï¼Œå†å°†ç¼“å­˜ä¸­å¯¹åº”çš„ key åˆ é™¤å³å¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç›¸å…³æ–‡ç« æ¨èï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TXpJeU9UWXhOREk1T0E9PSZhbXA7bWlkPTIyNDc0ODczMTImYW1wO2lkeD0xJmFtcDtzbj1mYTE5NTY2ZjU3MjlkNjU5ODE1NWI1YzY3NmVlZTYyZCZhbXA7Y2hrc209ZThiZWI4ZTVkZmM5MzFmM2UzNTY1NWRhOWRhMGI2MWM3OWYyODQzMTAxYzEzMGNmMzg5OTY0NDY5NzUwMTRmOTU4YTY0ODFhYWNmMSZhbXA7c2NlbmU9MTc4JmFtcDtjdXJfYWxidW1faWQ9MTY5OTc2NjU4MDUzODAzMjEyOCNyZA==&#34;&gt;ç¼“å­˜å’Œæ•°æ®åº“ä¸€è‡´æ€§é—®é¢˜ï¼Œçœ‹è¿™ç¯‡å°±å¤Ÿäº† - æ°´æ»´ä¸é“¶å¼¹&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;redis-é˜»å¡çš„å¸¸è§åŸå› &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-é˜»å¡çš„å¸¸è§åŸå› &#34;&gt;#&lt;/a&gt; Redis é˜»å¡çš„å¸¸è§åŸå› &lt;/h2&gt;
&lt;h3 id=&#34;on-å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#on-å‘½ä»¤&#34;&gt;#&lt;/a&gt; O (n) å‘½ä»¤&lt;/h3&gt;
&lt;p&gt;Redis ä¸­çš„å¤§éƒ¨åˆ†å‘½ä»¤éƒ½æ˜¯ O (1) æ—¶é—´å¤æ‚åº¦ï¼Œä½†ä¹Ÿæœ‰å°‘éƒ¨åˆ†&lt;font color=&#39;red&#39;&gt; O (n) æ—¶é—´å¤æ‚åº¦çš„å‘½ä»¤&lt;/font&gt;ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;KEYS *&lt;/code&gt; ï¼šä¼šè¿”å›æ‰€æœ‰ç¬¦åˆè§„åˆ™çš„ keyã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;HGETALL&lt;/code&gt; ï¼šä¼šè¿”å›ä¸€ä¸ª Hash ä¸­æ‰€æœ‰çš„é”®å€¼å¯¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;LRANGE&lt;/code&gt; ï¼šä¼šè¿”å› List ä¸­æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SMEMBERS&lt;/code&gt; ï¼šè¿”å› Set ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SINTER&lt;/code&gt; / &lt;code&gt;SUNION&lt;/code&gt; / &lt;code&gt;SDIFF&lt;/code&gt; ï¼šè®¡ç®—å¤šä¸ª Set çš„äº¤é›† / å¹¶é›† / å·®é›†ã€‚&lt;/li&gt;
&lt;li&gt;â€¦â€¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç”±äºè¿™äº›å‘½ä»¤æ—¶é—´å¤æ‚åº¦æ˜¯ O (n)ï¼Œæœ‰æ—¶å€™ä¹Ÿä¼šå…¨è¡¨æ‰«æï¼Œéšç€ n çš„å¢å¤§ï¼Œæ‰§è¡Œè€—æ—¶ä¹Ÿä¼šè¶Šé•¿ã€‚ä¸è¿‡ï¼Œè¿™äº›å‘½ä»¤å¹¶ä¸æ˜¯ä¸€å®šä¸èƒ½ä½¿ç”¨ï¼Œä½†æ˜¯éœ€è¦æ˜ç¡® N çš„å€¼ã€‚å¦å¤–ï¼Œ&lt;font color=&#39;red&#39;&gt;æœ‰éå†çš„éœ€æ±‚å¯ä»¥ä½¿ç”¨  &lt;code&gt;HSCAN&lt;/code&gt; ã€ &lt;code&gt;SSCAN&lt;/code&gt; ã€ &lt;code&gt;ZSCAN&lt;/code&gt;  ä»£æ›¿&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†è¿™äº› O (n) æ—¶é—´å¤æ‚åº¦çš„å‘½ä»¤å¯èƒ½ä¼šå¯¼è‡´æ…¢æŸ¥è¯¢ä¹‹å¤–ï¼Œ è¿˜æœ‰ä¸€äº›&lt;font color=&#39;red&#39;&gt;æ—¶é—´å¤æ‚åº¦å¯èƒ½åœ¨ O (N) ä»¥ä¸Šçš„å‘½ä»¤&lt;/font&gt;ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ZRANGE&lt;/code&gt; / &lt;code&gt;ZREVRANGE&lt;/code&gt; ï¼šè¿”å›æŒ‡å®š Sorted Set ä¸­æŒ‡å®šæ’åèŒƒå›´å†…çš„æ‰€æœ‰å…ƒç´ ã€‚æ—¶é—´å¤æ‚åº¦ä¸º O (log (n)+m)ï¼Œn ä¸ºæ‰€æœ‰å…ƒç´ çš„æ•°é‡ï¼Œ m ä¸ºè¿”å›çš„å…ƒç´ æ•°é‡ï¼Œå½“ m å’Œ n ç›¸å½“å¤§æ—¶ï¼ŒO (n) çš„æ—¶é—´å¤æ‚åº¦æ›´å°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ZREMRANGEBYRANK&lt;/code&gt; / &lt;code&gt;ZREMRANGEBYSCORE&lt;/code&gt; ï¼šç§»é™¤ Sorted Set ä¸­æŒ‡å®šæ’åèŒƒå›´ / æŒ‡å®š score èŒƒå›´å†…çš„æ‰€æœ‰å…ƒç´ ã€‚æ—¶é—´å¤æ‚åº¦ä¸º O (log (n)+m)ï¼Œn ä¸ºæ‰€æœ‰å…ƒç´ çš„æ•°é‡ï¼Œ m è¢«åˆ é™¤å…ƒç´ çš„æ•°é‡ï¼Œå½“ m å’Œ n ç›¸å½“å¤§æ—¶ï¼ŒO (n) çš„æ—¶é—´å¤æ‚åº¦æ›´å°ã€‚&lt;/li&gt;
&lt;li&gt;â€¦â€¦&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;save-åˆ›å»º-rdb-å¿«ç…§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#save-åˆ›å»º-rdb-å¿«ç…§&#34;&gt;#&lt;/a&gt; SAVE åˆ›å»º RDB å¿«ç…§&lt;/h3&gt;
&lt;p&gt;Redis æä¾›äº†ä¸¤ä¸ªå‘½ä»¤æ¥ç”Ÿæˆ RDB å¿«ç…§æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;save&lt;/code&gt;  : åŒæ­¥ä¿å­˜æ“ä½œï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä¼šé˜»å¡ Redis ä¸»çº¿ç¨‹&lt;/font&gt;&lt;/strong&gt;ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;bgsave&lt;/code&gt;  : fork å‡ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œå­è¿›ç¨‹æ‰§è¡Œï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸ä¼šé˜»å¡ Redis ä¸»çº¿ç¨‹&lt;/font&gt;ï¼Œé»˜è®¤é€‰é¡¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼ŒRedis é»˜è®¤é…ç½®ä¼šä½¿ç”¨  &lt;code&gt;bgsave&lt;/code&gt;  å‘½ä»¤ã€‚å¦‚æœæ‰‹åŠ¨ä½¿ç”¨  &lt;code&gt;save&lt;/code&gt;  å‘½ä»¤ç”Ÿæˆ RDB å¿«ç…§æ–‡ä»¶çš„è¯ï¼Œå°±ä¼šé˜»å¡ä¸»çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;aof&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aof&#34;&gt;#&lt;/a&gt; AOF&lt;/h3&gt;
&lt;h4 id=&#34;aof-æ—¥å¿—è®°å½•é˜»å¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aof-æ—¥å¿—è®°å½•é˜»å¡&#34;&gt;#&lt;/a&gt; AOF æ—¥å¿—è®°å½•é˜»å¡&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;AOF æŒä¹…åŒ–æœºåˆ¶æ˜¯åœ¨æ‰§è¡Œå®Œå‘½ä»¤ä¹‹åå†è®°å½•æ—¥å¿—&lt;/font&gt;&lt;/strong&gt;ï¼Œè¿™å’Œå…³ç³»å‹æ•°æ®åº“ï¼ˆå¦‚ MySQLï¼‰é€šå¸¸éƒ½æ˜¯æ‰§è¡Œå‘½ä»¤ä¹‹å‰è®°å½•æ—¥å¿—ï¼ˆæ–¹ä¾¿æ•…éšœæ¢å¤ï¼‰ä¸åŒã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://oss.javaguide.cn/github/javaguide/database/redis/redis-aof-write-log-disc.png&#34; alt=&#34;AOF è®°å½•æ—¥å¿—è¿‡ç¨‹&#34; /&gt;&lt;/p&gt;
&lt;center&gt;AOF è®°å½•æ—¥å¿—è¿‡ç¨‹&lt;/center&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆæ˜¯åœ¨æ‰§è¡Œå®Œå‘½ä»¤ä¹‹åè®°å½•æ—¥å¿—å‘¢ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;é¿å…é¢å¤–çš„å‘½ä»¤è¯­æ³•æ£€æŸ¥å¼€é”€&lt;/font&gt;ï¼ŒAOF è®°å½•æ—¥å¿—ä¸ä¼šå¯¹å‘½ä»¤è¿›è¡Œè¯­æ³•æ£€æŸ¥ï¼›&lt;/li&gt;
&lt;li&gt;åœ¨å‘½ä»¤æ‰§è¡Œå®Œä¹‹åå†è®°å½•ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸ä¼šé˜»å¡å½“å‰çš„å‘½ä»¤æ‰§è¡Œ&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™æ ·ä¹Ÿå¸¦æ¥äº†é£é™©ï¼ˆæˆ‘åœ¨å‰é¢ä»‹ç» AOF æŒä¹…åŒ–çš„æ—¶å€™ä¹Ÿæåˆ°è¿‡ï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœåˆšæ‰§è¡Œå®Œå‘½ä»¤ Redis å°±å®•æœºï¼Œä¼šå¯¼è‡´å¯¹åº”çš„ä¿®æ”¹ä¸¢å¤±ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç”±äº AOF è®°å½•æ—¥å¿—æ˜¯åœ¨ Redis ä¸»çº¿ç¨‹ä¸­è¿›è¡Œçš„ï¼Œå› æ­¤å¯èƒ½ä¼šé˜»å¡åç»­å…¶ä»–å‘½ä»¤çš„æ‰§è¡Œ&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;aof-åˆ·ç›˜é˜»å¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aof-åˆ·ç›˜é˜»å¡&#34;&gt;#&lt;/a&gt; AOF åˆ·ç›˜é˜»å¡&lt;/h4&gt;
&lt;p&gt;å¼€å¯ AOF æŒä¹…åŒ–åï¼ŒRedis ä¼šå°†æ¯æ¡æ‰§è¡Œçš„å†™å‘½ä»¤å†™å…¥åˆ° AOF ç¼“å†²åŒº  &lt;code&gt;server.aof_buf&lt;/code&gt;  ä¸­ï¼Œç„¶åå†æ ¹æ®  &lt;code&gt;appendfsync&lt;/code&gt;  é…ç½®å‚æ•°æ¥å†³å®šä½•æ—¶å°†å…¶åŒæ­¥åˆ°ç¡¬ç›˜ä¸­çš„ AOF æ–‡ä»¶ï¼ˆåˆ·ç›˜ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Redis çš„é…ç½®æ–‡ä»¶ä¸­å­˜åœ¨ä¸‰ç§ä¸åŒçš„ AOF æŒä¹…åŒ–æ–¹å¼ï¼ˆ  &lt;code&gt;fsync&lt;/code&gt;  ç­–ç•¥ï¼‰ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;always&lt;/code&gt; ï¼šä¸»çº¿ç¨‹è°ƒç”¨  &lt;code&gt;write&lt;/code&gt;  æ‰§è¡Œå†™æ“ä½œåï¼Œåå°çº¿ç¨‹ï¼ˆ  &lt;code&gt;aof_fsync&lt;/code&gt;  çº¿ç¨‹ï¼‰ç«‹å³ä¼šè°ƒç”¨  &lt;code&gt;fsync&lt;/code&gt;  å‡½æ•°åŒæ­¥ AOF æ–‡ä»¶ï¼ˆåˆ·ç›˜ï¼‰ï¼Œ &lt;code&gt;fsync&lt;/code&gt;  å®Œæˆåçº¿ç¨‹è¿”å›ï¼Œè¿™æ ·ä¼šä¸¥é‡é™ä½ Redis çš„æ€§èƒ½ï¼ˆ &lt;code&gt;write&lt;/code&gt;  +  &lt;code&gt;fsync&lt;/code&gt; ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;everysec&lt;/code&gt; ï¼šä¸»çº¿ç¨‹è°ƒç”¨  &lt;code&gt;write&lt;/code&gt;  æ‰§è¡Œå†™æ“ä½œåç«‹å³è¿”å›ï¼Œç”±åå°çº¿ç¨‹ï¼ˆ  &lt;code&gt;aof_fsync&lt;/code&gt;  çº¿ç¨‹ï¼‰æ¯ç§’é’Ÿè°ƒç”¨  &lt;code&gt;fsync&lt;/code&gt;  å‡½æ•°ï¼ˆç³»ç»Ÿè°ƒç”¨ï¼‰åŒæ­¥ä¸€æ¬¡ AOF æ–‡ä»¶ï¼ˆ &lt;code&gt;write&lt;/code&gt; + &lt;code&gt;fsync&lt;/code&gt; ï¼Œ &lt;code&gt;fsync&lt;/code&gt;  é—´éš”ä¸º 1 ç§’ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;no&lt;/code&gt; ï¼šä¸»çº¿ç¨‹è°ƒç”¨  &lt;code&gt;write&lt;/code&gt;  æ‰§è¡Œå†™æ“ä½œåç«‹å³è¿”å›ï¼Œè®©æ“ä½œç³»ç»Ÿå†³å®šä½•æ—¶è¿›è¡ŒåŒæ­¥ï¼ŒLinux ä¸‹ä¸€èˆ¬ä¸º 30 ç§’ä¸€æ¬¡ï¼ˆ &lt;code&gt;write&lt;/code&gt;  ä½†ä¸ &lt;code&gt;fsync&lt;/code&gt; ï¼Œ &lt;code&gt;fsync&lt;/code&gt;  çš„æ—¶æœºç”±æ“ä½œç³»ç»Ÿå†³å®šï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å½“åå°çº¿ç¨‹ï¼ˆ  &lt;code&gt;aof_fsync&lt;/code&gt;  çº¿ç¨‹ï¼‰è°ƒç”¨  &lt;code&gt;fsync&lt;/code&gt;  å‡½æ•°åŒæ­¥ AOF æ–‡ä»¶æ—¶ï¼Œéœ€è¦ç­‰å¾…ï¼Œç›´åˆ°å†™å…¥å®Œæˆ&lt;/font&gt;ã€‚å½“ç£ç›˜å‹åŠ›å¤ªå¤§çš„æ—¶å€™ï¼Œä¼šå¯¼è‡´  &lt;code&gt;fsync&lt;/code&gt;  æ“ä½œå‘ç”Ÿé˜»å¡ï¼Œä¸»çº¿ç¨‹è°ƒç”¨  &lt;code&gt;write&lt;/code&gt;  å‡½æ•°æ—¶ä¹Ÿä¼šè¢«é˜»å¡ã€‚&lt;font color=&#39;red&#39;&gt; &lt;code&gt;fsync&lt;/code&gt;  å®Œæˆåï¼Œä¸»çº¿ç¨‹æ‰§è¡Œ  &lt;code&gt;write&lt;/code&gt;  æ‰èƒ½æˆåŠŸè¿”å›&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å…³äº AOF å·¥ä½œæµç¨‹çš„è¯¦ç»†ä»‹ç»å¯ä»¥æŸ¥çœ‹ï¼š[AOF æŒä¹…åŒ–](#AOF æŒä¹…åŒ–)ï¼Œæœ‰åŠ©äºç†è§£ AOF åˆ·ç›˜é˜»å¡ã€‚&lt;/p&gt;
&lt;h4 id=&#34;aof-é‡å†™é˜»å¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aof-é‡å†™é˜»å¡&#34;&gt;#&lt;/a&gt; AOF é‡å†™é˜»å¡&lt;/h4&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/2032648-20220207170749957-1755223036.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸»çº¿ç¨‹ fork å‡ºä¸€æ¡å­çº¿ç¨‹æ¥å°†æ–‡ä»¶é‡å†™ï¼Œåœ¨æ‰§è¡Œ  &lt;code&gt;BGREWRITEAOF&lt;/code&gt;  å‘½ä»¤æ—¶ï¼ŒRedis æœåŠ¡å™¨ä¼šç»´æŠ¤ä¸€ä¸ª&lt;font color=&#39;gree&#39;&gt; AOF é‡å†™ç¼“å†²åŒº&lt;/font&gt;ï¼Œè¯¥ç¼“å†²åŒºä¼šåœ¨å­çº¿ç¨‹åˆ›å»ºæ–° AOF æ–‡ä»¶æœŸé—´ï¼Œè®°å½•æœåŠ¡å™¨æ‰§è¡Œçš„æ‰€æœ‰å†™å‘½ä»¤ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å½“å­çº¿ç¨‹å®Œæˆåˆ›å»ºæ–° AOF æ–‡ä»¶çš„å·¥ä½œä¹‹åï¼ŒæœåŠ¡å™¨ä¼šå°† AOF é‡å†™ç¼“å†²åŒºä¸­çš„æ‰€æœ‰å†…å®¹è¿½åŠ åˆ°æ–° AOF æ–‡ä»¶çš„æœ«å°¾&lt;/font&gt;ï¼Œä½¿å¾—æ–°çš„ AOF æ–‡ä»¶ä¿å­˜çš„æ•°æ®åº“çŠ¶æ€ä¸ç°æœ‰çš„æ•°æ®åº“çŠ¶æ€ä¸€è‡´ã€‚&lt;/li&gt;
&lt;li&gt;æœ€åï¼ŒæœåŠ¡å™¨ç”¨æ–°çš„ AOF æ–‡ä»¶æ›¿æ¢æ—§çš„ AOF æ–‡ä»¶ï¼Œä»¥æ­¤æ¥å®Œæˆ AOF æ–‡ä»¶é‡å†™æ“ä½œã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é˜»å¡å°±æ˜¯å‡ºç°åœ¨ç¬¬ 2 æ­¥çš„è¿‡ç¨‹ä¸­ï¼Œå°† AOF é‡å†™ç¼“å†²åŒºä¸­çš„æ–°æ•°æ®å†™åˆ°æ–° AOF æ–‡ä»¶çš„è¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿ&lt;strong&gt;é˜»å¡&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç›¸å…³é˜…è¯»ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jbG91ZC50ZW5jZW50LmNvbS9kZXZlbG9wZXIvYXJ0aWNsZS8xNjMzMDc3&#34;&gt;Redis AOF é‡å†™é˜»å¡é—®é¢˜åˆ†æ&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;bigkey&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#bigkey&#34;&gt;#&lt;/a&gt; bigkey&lt;/h3&gt;
&lt;p&gt;[bigkey æ˜¯ä»€ä¹ˆ](#bigkey æ˜¯ä»€ä¹ˆ)&lt;/p&gt;
&lt;p&gt;[bigkey çš„å±å®³](#bigkey çš„å±å®³)&lt;/p&gt;
&lt;h4 id=&#34;æŸ¥æ‰¾-bigkey&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æŸ¥æ‰¾-bigkey&#34;&gt;#&lt;/a&gt; æŸ¥æ‰¾ bigkey&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;[å¦‚ä½•å‘ç° bigkey](# å¦‚ä½•å‘ç° bigkey)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å½“æˆ‘ä»¬åœ¨ä½¿ç”¨ Redis è‡ªå¸¦çš„  &lt;code&gt;--bigkeys&lt;/code&gt;  å‚æ•°æŸ¥æ‰¾å¤§ key æ—¶ï¼Œ&lt;font color=&#39;red&#39;&gt;æœ€å¥½é€‰æ‹©åœ¨ä»èŠ‚ç‚¹ä¸Šæ‰§è¡Œè¯¥å‘½ä»¤&lt;/font&gt;ï¼Œå› ä¸ºä¸»èŠ‚ç‚¹ä¸Šæ‰§è¡Œæ—¶ï¼Œä¼š&lt;strong&gt;é˜»å¡&lt;/strong&gt;ä¸»èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨  &lt;code&gt;SCAN&lt;/code&gt;  å‘½ä»¤æ¥æŸ¥æ‰¾å¤§ keyï¼›&lt;/li&gt;
&lt;li&gt;é€šè¿‡åˆ†æ RDB æ–‡ä»¶æ¥æ‰¾å‡º big keyï¼Œè¿™ç§æ–¹æ¡ˆçš„å‰ææ˜¯ Redis é‡‡ç”¨çš„æ˜¯ RDB æŒä¹…åŒ–ã€‚ç½‘ä¸Šæœ‰ç°æˆçš„å·¥å…·ï¼š
&lt;ul&gt;
&lt;li&gt;redis-rdb-toolsï¼šPython è¯­è¨€å†™çš„ç”¨æ¥åˆ†æ Redis çš„ RDB å¿«ç…§æ–‡ä»¶ç”¨çš„å·¥å…·&lt;/li&gt;
&lt;li&gt;rdb_bigkeysï¼šGo è¯­è¨€å†™çš„ç”¨æ¥åˆ†æ Redis çš„ RDB å¿«ç…§æ–‡ä»¶ç”¨çš„å·¥å…·ï¼Œæ€§èƒ½æ›´å¥½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;åˆ é™¤-bigkey&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ é™¤-bigkey&#34;&gt;#&lt;/a&gt; åˆ é™¤ bigkey&lt;/h4&gt;
&lt;p&gt;åˆ é™¤æ“ä½œçš„æœ¬è´¨æ˜¯è¦é‡Šæ”¾é”®å€¼å¯¹å ç”¨çš„å†…å­˜ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;é‡Šæ”¾å†…å­˜åªæ˜¯ç¬¬ä¸€æ­¥ï¼Œä¸ºäº†æ›´åŠ é«˜æ•ˆåœ°ç®¡ç†å†…å­˜ç©ºé—´ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;åœ¨åº”ç”¨ç¨‹åºé‡Šæ”¾å†…å­˜æ—¶ï¼Œæ“ä½œç³»ç»Ÿéœ€è¦æŠŠé‡Šæ”¾æ‰çš„å†…å­˜å—æ’å…¥ä¸€ä¸ªç©ºé—²å†…å­˜å—çš„é“¾è¡¨ï¼Œä»¥ä¾¿åç»­è¿›è¡Œç®¡ç†å’Œå†åˆ†é…&lt;/font&gt;&lt;/strong&gt;ã€‚è¿™ä¸ªè¿‡ç¨‹æœ¬èº«éœ€è¦ä¸€å®šæ—¶é—´ï¼Œè€Œä¸”ä¼š **&lt;font color=&#39;red&#39;&gt;é˜»å¡&lt;/font&gt;** å½“å‰é‡Šæ”¾å†…å­˜çš„åº”ç”¨ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå¦‚æœä¸€ä¸‹å­é‡Šæ”¾äº†å¤§é‡å†…å­˜ï¼Œç©ºé—²å†…å­˜å—é“¾è¡¨æ“ä½œæ—¶é—´å°±ä¼šå¢åŠ ï¼Œç›¸åº”åœ°å°±ä¼šé€ æˆ Redis ä¸»çº¿ç¨‹çš„é˜»å¡ï¼Œå¦‚æœä¸»çº¿ç¨‹å‘ç”Ÿäº†é˜»å¡ï¼Œå…¶ä»–æ‰€æœ‰è¯·æ±‚å¯èƒ½éƒ½ä¼šè¶…æ—¶ï¼Œè¶…æ—¶è¶Šæ¥è¶Šå¤šï¼Œä¼šé€ æˆ Redis è¿æ¥è€—å°½ï¼Œäº§ç”Ÿå„ç§å¼‚å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;åˆ é™¤å¤§ key æ—¶å»ºè®®é‡‡ç”¨&lt;font color=&#39;cornflowerblue&#39;&gt;åˆ†æ‰¹æ¬¡åˆ é™¤&lt;/font&gt;å’Œ&lt;font color=&#39;cornflowerblue&#39;&gt;å¼‚æ­¥åˆ é™¤&lt;/font&gt;çš„æ–¹å¼è¿›è¡Œã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ¸…ç©ºæ•°æ®åº“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¸…ç©ºæ•°æ®åº“&#34;&gt;#&lt;/a&gt; æ¸…ç©ºæ•°æ®åº“&lt;/h3&gt;
&lt;p&gt;æ¸…ç©ºæ•°æ®åº“å’Œä¸Šé¢ bigkey åˆ é™¤ä¹Ÿæ˜¯åŒæ ·é“ç†ï¼Œ&lt;font color=&#39;red&#39;&gt; &lt;code&gt;flushdb&lt;/code&gt; ã€ &lt;code&gt;flushall&lt;/code&gt;  ä¹Ÿæ¶‰åŠåˆ°åˆ é™¤å’Œé‡Šæ”¾æ‰€æœ‰çš„é”®å€¼å¯¹ï¼Œä¹Ÿæ˜¯ Redis çš„é˜»å¡ç‚¹&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é›†ç¾¤æ‰©å®¹-ç¼©å®¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é›†ç¾¤æ‰©å®¹-ç¼©å®¹&#34;&gt;#&lt;/a&gt; é›†ç¾¤æ‰©å®¹ã€ç¼©å®¹&lt;/h3&gt;
&lt;p&gt;Redis é›†ç¾¤å¯ä»¥è¿›è¡Œ&lt;font color=&#39;red&#39;&gt;èŠ‚ç‚¹çš„åŠ¨æ€æ‰©å®¹ã€ç¼©å®¹&lt;/font&gt;ï¼Œè¿™ä¸€è¿‡ç¨‹ç›®å‰è¿˜å¤„äºåŠè‡ªåŠ¨çŠ¶æ€ï¼Œéœ€è¦äººå·¥ä»‹å…¥ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ‰©ç¼©å®¹çš„æ—¶å€™ï¼Œéœ€è¦è¿›è¡Œ&lt;font color=&#39;red&#39;&gt;æ•°æ®è¿ç§»&lt;/font&gt;ã€‚è€Œ Redis ä¸ºäº†ä¿è¯è¿ç§»çš„ä¸€è‡´æ€§ï¼Œ&lt;font color=&#39;red&#39;&gt;è¿ç§»æ‰€æœ‰æ“ä½œéƒ½æ˜¯åŒæ­¥æ“ä½œ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œè¿ç§»æ—¶ï¼Œä¸¤ç«¯çš„ Redis å‡ä¼šè¿›å…¥æ—¶é•¿ä¸ç­‰çš„&lt;font color=&#39;red&#39;&gt;é˜»å¡&lt;/font&gt;çŠ¶æ€ï¼Œå¯¹äºå° Keyï¼Œè¯¥æ—¶é—´å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œä½†å¦‚æœä¸€æ—¦ Key çš„å†…å­˜ä½¿ç”¨è¿‡å¤§ï¼Œä¸¥é‡çš„æ—¶å€™ä¼šè§¦å‘é›†ç¾¤å†…çš„æ•…éšœè½¬ç§»ï¼Œé€ æˆä¸å¿…è¦çš„åˆ‡æ¢ã€‚&lt;/p&gt;
&lt;h3 id=&#34;swapå†…å­˜äº¤æ¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#swapå†…å­˜äº¤æ¢&#34;&gt;#&lt;/a&gt; Swapï¼ˆå†…å­˜äº¤æ¢ï¼‰&lt;/h3&gt;
&lt;p&gt;Linux ä¸­çš„ Swap å¸¸è¢«ç§°ä¸ºå†…å­˜äº¤æ¢ã€‚ç±»ä¼¼äº Windows ä¸­çš„è™šæ‹Ÿå†…å­˜ï¼Œå°±æ˜¯&lt;font color=&#39;red&#39;&gt;å½“å†…å­˜ä¸è¶³çš„æ—¶å€™ï¼ŒæŠŠä¸€éƒ¨åˆ†ç¡¬ç›˜ç©ºé—´è™šæ‹Ÿæˆå†…å­˜ä½¿ç”¨ï¼Œä»è€Œè§£å†³å†…å­˜å®¹é‡ä¸è¶³çš„æƒ…å†µ&lt;/font&gt;ã€‚å› æ­¤ï¼ŒSwap åˆ†åŒºçš„ä½œç”¨å°±æ˜¯&lt;font color=&#39;red&#39;&gt;ç‰ºç‰²ç¡¬ç›˜ï¼Œå¢åŠ å†…å­˜&lt;/font&gt;ï¼Œè§£å†³ VPS å†…å­˜ä¸å¤Ÿç”¨æˆ–è€…çˆ†æ»¡çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Swap å¯¹äº Redis æ¥è¯´æ˜¯éå¸¸è‡´å‘½çš„ï¼Œå› ä¸º Redis ä¿è¯é«˜æ€§èƒ½çš„ä¸€ä¸ªé‡è¦å‰ææ˜¯æ‰€æœ‰çš„æ•°æ®åœ¨å†…å­˜ä¸­&lt;/font&gt;&lt;/strong&gt;ã€‚å¦‚æœæ“ä½œç³»ç»ŸæŠŠ Redis ä½¿ç”¨çš„éƒ¨åˆ†å†…å­˜æ¢å‡ºç¡¬ç›˜ï¼Œç”±äºå†…å­˜ä¸ç¡¬ç›˜çš„è¯»å†™é€Ÿåº¦å·®å‡ ä¸ªæ•°é‡çº§ï¼Œä¼šå¯¼è‡´å‘ç”Ÿäº¤æ¢åçš„ Redis æ€§èƒ½æ€¥å‰§ä¸‹é™ã€‚&lt;/p&gt;
&lt;p&gt;è¯†åˆ« Redis å‘ç”Ÿ Swap çš„æ£€æŸ¥æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;1ã€æŸ¥è¯¢ Redis è¿›ç¨‹å·&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;reids-cli &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6383&lt;/span&gt; info server &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;grep&lt;/span&gt; process_id&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;process_id: &lt;span class=&#34;token number&#34;&gt;4476&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;2ã€æ ¹æ®è¿›ç¨‹å·æŸ¥è¯¢å†…å­˜äº¤æ¢ä¿¡æ¯&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; /proc/4476/smaps &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;grep&lt;/span&gt; Swap&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Swap: 0kB&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Swap: 0kB&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Swap: 4kB&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Swap: 0kB&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Swap: 0kB&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;..&lt;/span&gt;.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¦‚æœäº¤æ¢é‡éƒ½æ˜¯ 0KB æˆ–è€…ä¸ªåˆ«çš„æ˜¯ 4KBï¼Œåˆ™æ­£å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;é¢„é˜²å†…å­˜äº¤æ¢çš„æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¿è¯æœºå™¨å……è¶³çš„å¯ç”¨å†…å­˜&lt;/li&gt;
&lt;li&gt;ç¡®ä¿æ‰€æœ‰ Redis å®ä¾‹è®¾ç½®æœ€å¤§å¯ç”¨å†…å­˜ (maxmemory)ï¼Œé˜²æ­¢æç«¯æƒ…å†µ Redis å†…å­˜ä¸å¯æ§çš„å¢é•¿&lt;/li&gt;
&lt;li&gt;é™ä½ç³»ç»Ÿä½¿ç”¨ swap ä¼˜å…ˆçº§ï¼Œå¦‚ &lt;code&gt;echo 10 &amp;gt; /proc/sys/vm/swappiness&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;cpu-ç«äº‰&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#cpu-ç«äº‰&#34;&gt;#&lt;/a&gt; CPU ç«äº‰&lt;/h3&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;Redis æ˜¯å…¸å‹çš„ CPU å¯†é›†å‹åº”ç”¨ï¼Œä¸å»ºè®®å’Œå…¶ä»–å¤šæ ¸ CPU å¯†é›†å‹æœåŠ¡éƒ¨ç½²åœ¨ä¸€èµ·&lt;/font&gt;ã€‚å½“å…¶ä»–è¿›ç¨‹è¿‡åº¦æ¶ˆè€— CPU æ—¶ï¼Œå°†ä¸¥é‡å½±å“ Redis çš„ååé‡ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡  &lt;code&gt;reids-cli --stat&lt;/code&gt;  è·å–å½“å‰ Redis ä½¿ç”¨æƒ…å†µã€‚é€šè¿‡  &lt;code&gt;top&lt;/code&gt;  å‘½ä»¤è·å–è¿›ç¨‹å¯¹ CPU çš„åˆ©ç”¨ç‡ç­‰ä¿¡æ¯ï¼Œé€šè¿‡  &lt;code&gt;info commandstats&lt;/code&gt;  ç»Ÿè®¡ä¿¡æ¯åˆ†æå‡ºå‘½ä»¤ä¸åˆç†å¼€é”€æ—¶é—´ï¼ŒæŸ¥çœ‹æ˜¯å¦æ˜¯å› ä¸ºé«˜ç®—æ³•å¤æ‚åº¦æˆ–è€…è¿‡åº¦çš„å†…å­˜ä¼˜åŒ–é—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç½‘ç»œé—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç½‘ç»œé—®é¢˜&#34;&gt;#&lt;/a&gt; ç½‘ç»œé—®é¢˜&lt;/h3&gt;
&lt;p&gt;è¿æ¥æ‹’ç»ã€ç½‘ç»œå»¶è¿Ÿï¼Œç½‘å¡è½¯ä¸­æ–­ç­‰ç½‘ç»œé—®é¢˜ä¹Ÿå¯èƒ½ä¼šå¯¼è‡´ Redis é˜»å¡ã€‚&lt;/p&gt;
&lt;h1 id=&#34;redis-å‘å¸ƒè®¢é˜…pubsub&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-å‘å¸ƒè®¢é˜…pubsub&#34;&gt;#&lt;/a&gt; Redis å‘å¸ƒè®¢é˜…ï¼ˆpub/subï¼‰&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™æ˜¯ Redis çš„ç¬¬ä¸€ä»£æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œç¬¬äºŒä»£æ˜¯ Streamï¼Œç„¶è€Œ&lt;strong&gt;ä¸€èˆ¬ä½¿ç”¨çš„éƒ½æ˜¯æ›´åŠ æˆç†Ÿçš„ç¬¬ä¸‰æ–¹æ¶ˆæ¯ä¸­é—´ä»¶&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;äº†è§£å³å¯&lt;/strong&gt;ï¼Œå®é™…å·¥ä½œä¸­ç”¨çš„å¾ˆå°‘ï¼Œä¸€èˆ¬éƒ½æ˜¯å°† Redis ç”¨ä½œ&lt;strong&gt;åˆ†å¸ƒå¼ç¼“å­˜&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;æ¶ˆæ¯ç³»ç»Ÿ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶ˆæ¯ç³»ç»Ÿ&#34;&gt;#&lt;/a&gt; æ¶ˆæ¯ç³»ç»Ÿ&lt;/h2&gt;
&lt;p&gt;å‘å¸ƒ / è®¢é˜…ï¼Œå³ pub/subï¼Œæ˜¯&lt;font color=&#39;red&#39;&gt;ä¸€ç§æ¶ˆæ¯é€šä¿¡æ¨¡å¼&lt;/font&gt;ï¼šå‘å¸ƒè€…ä¹Ÿç§°ä¸ºæ¶ˆæ¯ç”Ÿäº§è€…ï¼Œç”Ÿäº§å’Œå‘é€æ¶ˆæ¯åˆ°å­˜å‚¨ç³»ç»Ÿï¼›è®¢é˜…è€…ä¹Ÿç§°ä¸ºæ¶ˆæ¯æ¶ˆè´¹è€…ï¼Œä»å­˜å‚¨ç³»ç»Ÿæ¥æ”¶å’Œæ¶ˆè´¹æ¶ˆæ¯ã€‚è¿™ä¸ªå­˜å‚¨ç³»ç»Ÿå¯ä»¥æ˜¯æ–‡ä»¶ç³»ç»Ÿ FSã€æ¶ˆæ¯ä¸­é—´ä»¶ MQã€æ•°æ®ç®¡ç†ç³»ç»Ÿ DBMSï¼Œä¹Ÿå¯ä»¥æ˜¯ Redisã€‚&lt;font color=&#39;red&#39;&gt;æ•´ä¸ªæ¶ˆæ¯å‘å¸ƒè€…ã€è®¢é˜…è€…ã€å­˜å‚¨ç³»ç»Ÿç§°ä¸ºæ¶ˆæ¯ç³»ç»Ÿ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231207161229390.png&#34; alt=&#34;image-20231207161229390&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ¶ˆæ¯ç³»ç»Ÿä¸­çš„è®¢é˜…è€…è®¢é˜…äº†æŸç±»æ¶ˆæ¯åï¼Œåªè¦å­˜å‚¨ç³»ç»Ÿä¸­å­˜åœ¨è¯¥ç±»æ¶ˆæ¯ï¼Œå…¶å°±å¯ä¸æ–­çš„æ¥æ”¶å¹¶æ¶ˆè´¹è¿™äº›æ¶ˆæ¯ã€‚å½“å­˜å‚¨ç³»ç»Ÿä¸­æ²¡æœ‰è¯¥æ¶ˆæ¯åï¼Œè®¢é˜…è€…çš„æ¥æ”¶ã€æ¶ˆè´¹é˜»å¡ã€‚è€Œå½“å‘å¸ƒè€…å°†æ¶ˆæ¯å†™å…¥åˆ°å­˜å‚¨ç³»ç»Ÿåï¼Œä¼šç«‹å³å”¤é†’è®¢é˜…è€…ã€‚å½“å­˜å‚¨ç³»ç»Ÿæ”¾æ»¡æ—¶ï¼Œä¸åŒçš„å‘å¸ƒè€…å…·æœ‰ä¸åŒçš„å¤„ç†æ–¹å¼ï¼šæœ‰çš„ä¼šé˜»å¡å‘å¸ƒè€…çš„å‘å¸ƒï¼Œç­‰å¾…å¯ç”¨çš„å­˜å‚¨ç©ºé—´ï¼›æœ‰çš„åˆ™ä¼šå°†å¤šä½™çš„æ¶ˆæ¯ä¸¢å¤±ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œä¸åŒçš„æ¶ˆæ¯ç³»ç»Ÿæ¶ˆæ¯çš„å‘å¸ƒ / è®¢é˜…æ–¹å¼ä¹Ÿæ˜¯ä¸åŒçš„ã€‚ä¾‹å¦‚ RocketMQã€ Kafka ç­‰æ¶ˆæ¯ä¸­é—´ä»¶æ„æˆçš„æ¶ˆæ¯ç³»ç»Ÿä¸­ï¼Œå‘å¸ƒ / è®¢é˜…çš„æ¶ˆæ¯éƒ½æ˜¯ä»¥&lt;font color=&#39;gree&#39;&gt;ä¸»é¢˜ Topic &lt;/font&gt;åˆ†ç±»çš„ã€‚è€Œ Redis æ„æˆçš„æ¶ˆæ¯ç³»ç»Ÿä¸­ï¼Œå‘å¸ƒ / è®¢é˜…çš„æ¶ˆæ¯éƒ½æ˜¯ä»¥&lt;font color=&#39;gree&#39;&gt;é¢‘é“ Channel &lt;/font&gt;åˆ†ç±»çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;pubsub-ç®€ä»‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#pubsub-ç®€ä»‹&#34;&gt;#&lt;/a&gt; pub/sub ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;Redis å‘å¸ƒè®¢é˜…ï¼ˆpub/subï¼‰æ˜¯ä¸€ç§æ¶ˆæ¯é€šä¿¡æ¨¡å¼ï¼š&lt;font color=&#39;red&#39;&gt;å‘é€è€… (PUBLISH) å‘é€æ¶ˆæ¯ï¼Œè®¢é˜…è€… (SUBSCRIBE) æ¥æ”¶æ¶ˆæ¯&lt;/font&gt;ï¼Œå¯ä»¥å®ç°è¿›ç¨‹é—´çš„æ¶ˆæ¯ä¼ é€’ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€è¨€è”½ä¹‹ï¼šRedis å¯ä»¥é€šè¿‡å‘å¸ƒè®¢é˜…å®ç°æ¶ˆæ¯çš„å¼•å¯¼å’Œåˆ†æµï¼Œå®ç°æ¶ˆæ¯ä¸­é—´ä»¶ MQ çš„åŠŸèƒ½ã€‚ä½†æ˜¯&lt;font color=&#39;red&#39;&gt;ä¸æ¨èä½¿ç”¨&lt;/font&gt;è¯¥åŠŸèƒ½ï¼Œä¸“ä¸šçš„äº‹æƒ…äº¤ç»™ä¸“ä¸šçš„ä¸­é—´ä»¶å¤„ç†ï¼Œredis å°±åšå¥½åˆ†å¸ƒå¼ç¼“å­˜åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807173639960.png&#34; alt=&#34;image-20230807173639960&#34; /&gt;&lt;/p&gt;
&lt;center&gt;Rediså®¢æˆ·ç«¯å¯ä»¥è®¢é˜…ä»»æ„æ•°é‡çš„é¢‘é“ï¼Œç±»ä¼¼å¾®ä¿¡å…³æ³¨å¤šä¸ªå…¬ä¼—å·&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807173711847.png&#34; alt=&#34;image-20230807173711847&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å½“æœ‰æ–°æ¶ˆæ¯é€šè¿‡PUBLISHå‘½ä»¤å‘é€ç»™é¢‘é“æ—¶
&lt;/center&gt;
&lt;p&gt;å°ç»“ï¼šå‘å¸ƒ / è®¢é˜…å…¶å®æ˜¯&lt;strong&gt;ä¸€ä¸ªè½»é‡çš„é˜Ÿåˆ—&lt;/strong&gt;ï¼Œåªä¸è¿‡&lt;strong&gt;æ•°æ®ä¸ä¼šè¢«æŒä¹…åŒ–&lt;/strong&gt;ï¼Œä¸€èˆ¬&lt;strong&gt;ç”¨æ¥å¤„ç†å®æ—¶æ€§è¾ƒé«˜çš„å¼‚æ­¥æ¶ˆæ¯&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807173943443.png&#34; alt=&#34;image-20230807173943443&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç›¸å…³å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç›¸å…³å‘½ä»¤&#34;&gt;#&lt;/a&gt; ç›¸å…³å‘½ä»¤&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‘½ä»¤&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;PUBLISH&lt;/code&gt;  channel message&lt;/td&gt;
&lt;td&gt;å‘å¸ƒä¸€ä¸ªé¢‘é“çš„æ¶ˆæ¯ã€‚è¿”å›å€¼ä¸ºæ¥æ”¶åˆ°è¯¥æ¶ˆæ¯çš„è®¢é˜…è€…æ•°é‡ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SUBSCRIBE&lt;/code&gt;  channel [channel ...]&lt;/td&gt;
&lt;td&gt;åŒæ—¶è®¢é˜…ä»»æ„æ•°é‡çš„ channelã€‚åœ¨è¾“å‡ºäº†è®¢é˜…äº†ä¸»é¢˜åï¼Œå‘½ä»¤å¤„äºé˜»å¡çŠ¶æ€ï¼Œç­‰å¾…ç›¸å…³ channel çš„æ¶ˆæ¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;PSUBSCRIBE&lt;/code&gt;  pattern [pattern â€¦]&lt;/td&gt;
&lt;td&gt;è®¢é˜…ä¸€ä¸ªæˆ–å¤šä¸ªç¬¦åˆç»™å®šæ¨¡å¼ pattern çš„é¢‘é“ channelã€‚è¿™é‡Œçš„ pattern åªèƒ½ä½¿ç”¨é€šé…ç¬¦ *ã€‚ä¾‹å¦‚ï¼Œit* å¯ä»¥åŒ¹é…æ‰€æœ‰ä»¥ it å¼€å¤´çš„é¢‘é“ï¼Œåƒ it.newsã€it.blogã€ it.tweets ç­‰ï¼›news.* å¯ä»¥åŒ¹é…æ‰€æœ‰ä»¥ news. å¼€å¤´çš„é¢‘é“ï¼Œåƒ news.global.todayã€&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL25ld3MuaXQ=&#34;&gt;news.it&lt;/span&gt; ç­‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;UNSUBSCRIBE&lt;/code&gt;  [channel [channel â€¦]]&lt;/td&gt;
&lt;td&gt;é€€è®¢æŒ‡å®šçš„é¢‘é“ã€‚å¦‚æœæ²¡æœ‰é¢‘é“è¢«æŒ‡å®šï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæ— å‚æ•°çš„ UNSUBSCRIBE å‘½ä»¤è¢«æ‰§è¡Œï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯ä½¿ç”¨ SUBSCRIBE å‘½ä»¤è®¢é˜…çš„æ‰€æœ‰é¢‘é“éƒ½ä¼šè¢«é€€è®¢ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå‘½ä»¤ä¼šè¿”å›ä¸€ä¸ªä¿¡æ¯ï¼Œå‘ŠçŸ¥å®¢æˆ·ç«¯æ‰€æœ‰è¢«é€€è®¢çš„é¢‘é“ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;PUNSUBSCRIBE&lt;/code&gt;  [channel [channel â€¦]]&lt;/td&gt;
&lt;td&gt;é€€è®¢ä¸€ä¸ªæˆ–å¤šä¸ªç¬¦åˆç»™å®šæ¨¡å¼çš„é¢‘é“ã€‚è¿™é‡Œçš„ pattern ä¹Ÿåªèƒ½ä½¿ç”¨é€šé…ç¬¦ *ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;PUBSUB&lt;/code&gt;  &amp;lt;subcommand&amp;gt; [argument [argument â€¦]]&lt;/td&gt;
&lt;td&gt;PUBSUB æ˜¯ä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;æŸ¥çœ‹è®¢é˜…ä¸å‘å¸ƒç³»ç»ŸçŠ¶æ€&lt;/font&gt;çš„&lt;font color=&#39;red&#39;&gt;å†…çœå‘½ä»¤é›†&lt;/font&gt;ï¼Œå®ƒç”±æ•°ä¸ªä¸åŒæ ¼å¼çš„å­å‘½ä»¤ç»„æˆã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;ç¼ºç‚¹-4&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¼ºç‚¹-4&#34;&gt;#&lt;/a&gt; ç¼ºç‚¹&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ Redis ç³»ç»Ÿä¸­ **&lt;font color=&#39;red&#39;&gt;å‘å¸ƒçš„æ¶ˆæ¯ä¸èƒ½æŒä¹…åŒ–&lt;/font&gt;**ã€‚å› æ­¤ï¼Œ&lt;font color=&#39;red&#39;&gt;å¿…é¡»å…ˆæ‰§è¡Œè®¢é˜…ï¼Œå†ç­‰å¾…æ¶ˆæ¯å‘å¸ƒ&lt;/font&gt;ã€‚å¦‚æœå…ˆå‘å¸ƒäº†æ¶ˆæ¯ï¼Œé‚£ä¹ˆè¯¥æ¶ˆæ¯ç”±äºæ²¡æœ‰è®¢é˜…è€…ï¼Œæ¶ˆæ¯å°†è¢«ç›´æ¥ä¸¢å¼ƒã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¶ˆæ¯åªç®¡å‘é€ï¼Œå¯¹äºå‘å¸ƒè€…è€Œè¨€æ¶ˆæ¯æ˜¯å³å‘å³å¤±çš„ï¼Œä¸ç®¡æ¥æ”¶ï¼Œä¹Ÿ **&lt;font color=&#39;red&#39;&gt;æ²¡æœ‰ ACK æœºåˆ¶&lt;/font&gt;**ï¼Œæ— æ³•ä¿è¯æ¶ˆæ¯çš„æ¶ˆè´¹æˆåŠŸã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä»¥ä¸Šçš„ç¼ºç‚¹å¯¼è‡´ **&lt;font color=&#39;#B32015&#39;&gt;Redis çš„ Pub/Sub æ¨¡å¼å°±åƒä¸ªå°ç©å…·&lt;/font&gt;**ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å‡ ä¹æ— ç”¨æ­¦ä¹‹åœ°ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ºæ­¤ Redis5.0 ç‰ˆæœ¬æ–°å¢äº† Stream æ•°æ®ç»“æ„ï¼Œä¸ä½†æ”¯æŒå¤šæ’­ï¼Œè¿˜æ”¯æŒæ•°æ®æŒä¹…åŒ–ï¼Œç›¸æ¯” Pub/Sub æ›´åŠ çš„å¼ºå¤§ï¼Œä½†æ˜¯ä¹Ÿä¸æ¨èä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;redis-é›†ç¾¤é«˜å¯ç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-é›†ç¾¤é«˜å¯ç”¨&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸRedis é›†ç¾¤ï¼ˆé«˜å¯ç”¨ï¼‰&lt;/mark&gt;&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;Redis ä¸ºäº†æ”¯æŒé«˜å¯ç”¨ï¼ˆHAï¼‰ï¼Œæœ‰ 2 å¥—æœºåˆ¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸»ä»å¤åˆ¶ï¼ˆreplicaï¼‰+ å“¨å…µï¼ˆsentinelï¼‰&lt;/li&gt;
&lt;li&gt;é›†ç¾¤ï¼ˆclusterï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸ºäº†é¿å… Redis çš„å•ç‚¹æ•…éšœé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥æ­å»ºä¸€ä¸ª Redis é›†ç¾¤ï¼Œå°†æ•°æ®å¤‡ä»½åˆ°é›†ç¾¤ä¸­çš„å…¶å®ƒèŠ‚ç‚¹ä¸Šã€‚è‹¥ä¸€ä¸ª Redis èŠ‚ç‚¹å®•æœºï¼Œåˆ™ç”±é›†ç¾¤ä¸­çš„å…¶å®ƒèŠ‚ç‚¹é¡¶ä¸Šã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸»ä»å¤åˆ¶replica&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸»ä»å¤åˆ¶replica&#34;&gt;#&lt;/a&gt; ä¸»ä»å¤åˆ¶ï¼ˆreplicaï¼‰&lt;/h2&gt;
&lt;h3 id=&#34;æ˜¯ä»€ä¹ˆ-8&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ˜¯ä»€ä¹ˆ-8&#34;&gt;#&lt;/a&gt; æ˜¯ä»€ä¹ˆ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;æ‰¿ä¸Šå¯ä¸‹çš„ä¸€èŠ‚ï¼Œå‰æ–‡éƒ½æ˜¯åœ¨å•æœºåœºæ™¯ä¸‹ï¼Œä»æ­¤å¼€å§‹ä»‹ç»å¤šå° Redis æœºå™¨çš„åœºæ™¯ï¼Œå³&lt;strong&gt;é€šè¿‡ä¸»ä»å¤åˆ¶æ”¯æŒå¤šå¯ç”¨æ€§ã€æ•…éšœè½¬ç§»&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Redis çš„ä¸»ä»é›†ç¾¤æ˜¯ä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;â€œä¸€ä¸»å¤šä»â€ çš„è¯»å†™åˆ†ç¦»é›†ç¾¤&lt;/font&gt;ã€‚é›†ç¾¤ä¸­çš„ &lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Master èŠ‚ç‚¹è´Ÿè´£å¤„ç†å®¢æˆ·ç«¯çš„è¯»å†™è¯·æ±‚ï¼Œè€Œ Slave èŠ‚ç‚¹ä»…èƒ½å¤„ç†å®¢æˆ·ç«¯çš„è¯»è¯·æ±‚&lt;/font&gt;&lt;/strong&gt;ã€‚ä¹‹æ‰€ä»¥è¦å°†é›†ç¾¤æ­å»ºä¸ºè¯»å†™åˆ†ç¦»æ¨¡å¼ï¼Œä¸»è¦åŸå› æ˜¯ï¼Œå¯¹äºæ•°æ®åº“é›†ç¾¤ï¼Œå†™æ“ä½œå‹åŠ›ä¸€èˆ¬éƒ½è¾ƒå°ï¼Œå‹åŠ›å¤§å¤šæ•°æ¥è‡ªäºè¯»æ“ä½œè¯·æ±‚ã€‚æ‰€ä»¥ï¼Œåªæœ‰ä¸€ä¸ªèŠ‚ç‚¹è´Ÿè´£å¤„ç†å†™æ“ä½œè¯·æ±‚å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å½“ Master èŠ‚ç‚¹ä¸Šçš„æ•°æ®å˜åŒ–æ—¶ï¼Œä¼šè‡ªåŠ¨å°†æ–°æ•°æ®&lt;font color=&#39;red&#39;&gt;å¼‚æ­¥å¤åˆ¶&lt;/font&gt;åˆ°å…¶ä»– Slave èŠ‚ç‚¹ä¸Šã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä½œç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½œç”¨&#34;&gt;#&lt;/a&gt; ä½œç”¨&lt;/h3&gt;
&lt;p&gt;Redis ä¸»ä»å¤åˆ¶ï¼ˆreplicaï¼‰çš„åŠŸèƒ½å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è¯»å†™åˆ†ç¦»&lt;/font&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®¹ç¾æ¢å¤&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®å¤‡ä»½&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ°´å¹³æ‰©å®¹ï¼Œæ”¯æ’‘é«˜å¹¶å‘&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åŸºæœ¬å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸºæœ¬å‘½ä»¤&#34;&gt;#&lt;/a&gt; åŸºæœ¬å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;INFO replication&lt;/code&gt; ï¼šä»¥ä¸€ç§æ˜“äºç†è§£å’Œé˜…è¯»çš„æ ¼å¼ï¼Œ&lt;font color=&#39;red&#39;&gt;è¿”å›å…³äºå½“å‰ Redis æœåŠ¡å™¨çš„&lt;strong&gt;ç›´æ¥ä¸» / ä»&lt;/strong&gt;å¤åˆ¶ä¿¡æ¯&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;REPLICAOF masterIp masterPort&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;ä¿®æ”¹å½“å‰ Redis æœåŠ¡å™¨çš„ä¸» / ä»å¤åˆ¶è®¾ç½®ï¼ˆè‡ªåŠ¨é…ç½®ï¼‰&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸€èˆ¬å†™å…¥è¿› redis.conf é…ç½®æ–‡ä»¶å†…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;SLAVEOF masterIp masterPort&lt;/code&gt; ï¼šå°†å½“å‰ Redis æœåŠ¡å™¨&lt;font color=&#39;red&#39;&gt;è½¬å˜ä¸ºæŒ‡å®šæœåŠ¡å™¨çš„ä»å±æœåŠ¡å™¨&lt;/font&gt;ï¼ˆæ‰‹åŠ¨é…ç½®ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯æ¬¡ä¸ master æ–­å¼€ä¹‹åï¼Œéƒ½éœ€è¦&lt;font color=&#39;red&#39;&gt;é‡æ–°è¿æ¥&lt;/font&gt;ï¼Œé™¤éä½ é…ç½®è¿› redis.conf æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;åœ¨è¿è¡ŒæœŸé—´ä¿®æ”¹ slave èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œå¦‚æœè¯¥æ•°æ®åº“å·²ç»æ˜¯æŸä¸ªä¸»æ•°æ®åº“çš„ä»æ•°æ®åº“ï¼Œé‚£ä¹ˆä¼šåœæ­¢å’ŒåŸä¸»æ•°æ®åº“çš„åŒæ­¥å…³ç³»ï¼Œè½¬è€Œå’Œæ–°çš„ä¸»æ•°æ®åº“åŒæ­¥ï¼Œ&lt;font color=&#39;red&#39;&gt;æ”¹æ¢é—¨åº­&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;SLAVEOF NO ONE&lt;/code&gt; ï¼šå°†ä½¿å¾—è¿™ä¸ªä»å±æœåŠ¡å™¨å…³é—­å¤åˆ¶åŠŸèƒ½ï¼Œå¹¶ä»ä»å±æœåŠ¡å™¨&lt;font color=&#39;red&#39;&gt;è½¬å›ä¸»æœåŠ¡å™¨ï¼Œè‡ªç«‹ä¸ºç‹&lt;/font&gt;ï¼ŒåŒæ—¶åŸæ¥åŒæ­¥æ‰€å¾—çš„æ•°æ®é›†ä¸ä¼šè¢«ä¸¢å¼ƒã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å¸¸ç”¨çš„3æ‹›&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¸¸ç”¨çš„3æ‹›&#34;&gt;#&lt;/a&gt; å¸¸ç”¨çš„ 3 æ‹›&lt;/h3&gt;
&lt;p&gt;é…ç½®æ–¹æ³•ï¼š&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;é…ä»ä¸é…ä¸»&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;master å¦‚æœé…ç½®äº†  &lt;code&gt;requirepass&lt;/code&gt;  å‚æ•°ï¼Œéœ€è¦å¯†ç ç™»é™†&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é‚£ä¹ˆ slave å°±è¦é…ç½®  &lt;code&gt;masterauth&lt;/code&gt;  æ¥è®¾ç½®æ ¡éªŒå¯†ç ï¼Œå¦åˆ™ master ä¼šæ‹’ç» slave çš„è®¿é—®è¯·æ±‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807183910365.png&#34; alt=&#34;image-20230807183910365&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;ä¸€ä¸»äºŒä»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸€ä¸»äºŒä»&#34;&gt;#&lt;/a&gt; ä¸€ä¸»äºŒä»&lt;/h4&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807201752116.png&#34; alt=&#34;image-20230807201752116&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;æ–¹æ¡ˆ1é…ç½®æ–‡ä»¶å›ºå®šå†™æ­»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ–¹æ¡ˆ1é…ç½®æ–‡ä»¶å›ºå®šå†™æ­»&#34;&gt;#&lt;/a&gt; æ–¹æ¡ˆ 1ï¼šé…ç½®æ–‡ä»¶å›ºå®šå†™æ­»&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;é…ä»ï¼ˆ6380 å’Œ 6381ï¼‰ä¸é…ä¸»&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807193239828.png&#34; alt=&#34;image-20230807193239828&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¾æ¬¡å¯åŠ¨ master å’Œä¸¤å° slave&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807193418057.png&#34; alt=&#34;image-20230807193418057&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŸ¥çœ‹ä¸»ä»å…³ç³»&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;é€šè¿‡æ—¥å¿—æ–‡ä»¶ï¼šé€šè¿‡ &lt;code&gt;vim 6379.log&lt;/code&gt;  æŸ¥çœ‹ master æ—¥å¿—ï¼Œé€šè¿‡ &lt;code&gt; vim 6380/6381.log&lt;/code&gt;  æŸ¥çœ‹ slave æ—¥å¿—&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807193701621.png&#34; alt=&#34;image-20230807193701621&#34; /&gt;&lt;/p&gt;
&lt;center&gt;masteræ—¥å¿—&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807193733743.png&#34; alt=&#34;image-20230807193733743&#34; /&gt;&lt;/p&gt;
&lt;center&gt;slaveæ—¥å¿—&lt;/center&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€šè¿‡å‘½ä»¤ï¼š &lt;code&gt;info relication&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807193843707.png&#34; alt=&#34;image-20230807193843707&#34; /&gt;&lt;/p&gt;
&lt;center&gt;masterçš„ä¸»ä»å¤åˆ¶ä¿¡æ¯&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807193915854.png&#34; alt=&#34;image-20230807193915854&#34; /&gt;&lt;/p&gt;
&lt;center&gt;slaveçš„ä¸»ä»å¤åˆ¶ä¿¡æ¯&lt;/center&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;ä¸»ä»å¤åˆ¶é—®é¢˜æ¼”ç¤º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸»ä»å¤åˆ¶é—®é¢˜æ¼”ç¤º&#34;&gt;#&lt;/a&gt; ä¸»ä»å¤åˆ¶é—®é¢˜æ¼”ç¤º&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜ 1ï¼š&lt;strong&gt;slave ä¸èƒ½æ‰§è¡Œå†™å‘½ä»¤ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807194936720.png&#34; alt=&#34;image-20230807194936720&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜ 2ï¼šslave åˆ‡å…¥ç‚¹é—®é¢˜ã€‚å½“æŸå° slave shutdown å¹¶é‡å¯åï¼Œ&lt;strong&gt;slave å¯¹ master é¦–æ¬¡è¿›è¡Œå…¨é‡å¤åˆ¶ï¼Œç„¶åè¿›è¡Œå¢é‡å¤åˆ¶&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807194924560.png&#34; alt=&#34;image-20230807194924560&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜ 3ï¼šmaster shutdown åï¼Œslave åŸåœ°å¾…å‘½ï¼Œæ•°æ®ä»å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œ&lt;strong&gt;slave ç­‰å¾… master é‡å¯å½’æ¥&lt;/strong&gt;ï¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜ 4ï¼šshutdown åçš„&lt;strong&gt; master é‡å¯å½’æ¥ï¼Œä¸»ä»å…³ç³»è¿˜åœ¨ï¼slave è¿˜èƒ½é¡ºåˆ©å¤åˆ¶ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ–¹æ¡ˆ2å‘½ä»¤æ“ä½œæ‰‹åŠ¨æŒ‡å®š&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ–¹æ¡ˆ2å‘½ä»¤æ“ä½œæ‰‹åŠ¨æŒ‡å®š&#34;&gt;#&lt;/a&gt; æ–¹æ¡ˆ 2ï¼šå‘½ä»¤æ“ä½œæ‰‹åŠ¨æŒ‡å®š&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;slave åœæœºå¹¶å»æ‰é…ç½®é¡¹ï¼Œæ¸…ç©ºä¸»ä»å…³ç³»ã€‚æ­¤æ—¶ 3 æœºéƒ½æ˜¯ masterï¼Œäº’ä¸ä»å±ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨é¢„è®¾çš„ 2 ä¸ª slave ä¸Šæ‰§è¡Œå‘½ä»¤ &lt;code&gt;SLAVEOF masterIp masterHost&lt;/code&gt;  æŒ‡å®š master&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ç§æƒ…å†µä¸‹ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è‹¥ slave shutdown å¹¶é‡å¯ï¼Œä¸»ä»å…³ç³»å°±ä¸å­˜åœ¨äº†ï¼ˆå› ä¸ºæ²¡æœ‰è®¾ç½®é…ç½®æ–‡ä»¶ï¼‰ï¼&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807200155294.png&#34; alt=&#34;image-20230807200155294&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;é…ç½®-vs-å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é…ç½®-vs-å‘½ä»¤&#34;&gt;#&lt;/a&gt; é…ç½® vs å‘½ä»¤&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;é…ç½®ï¼ˆå³æ–¹æ¡ˆ 1ï¼‰æŒä¹…ç¨³å®šï¼Œå‘½ä»¤ï¼ˆå³æ–¹æ¡ˆ 2ï¼‰ä¸´æ—¶ç”Ÿæ•ˆ&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;è–ªç«ç›¸ä¼ &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è–ªç«ç›¸ä¼ &#34;&gt;#&lt;/a&gt; è–ªç«ç›¸ä¼ &lt;/h4&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807202217260.png&#34; alt=&#34;image-20230807202217260&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¦ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;slaveï¼ˆ6380ï¼‰ä¹Ÿå¯ä»¥ä½œä¸ºå…¶ä»– slaveï¼ˆ6381ï¼‰çš„ masterï¼Œæ¥æ”¶å…¶è¿æ¥å’ŒåŒæ­¥è¯·æ±‚ï¼Œå¯ä»¥&lt;strong&gt;æœ‰æ•ˆå‡è½»ä¸» masterï¼ˆ6379ï¼‰çš„å†™å‹åŠ›&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æ”¹å˜ master çš„å‘½ä»¤ï¼š &lt;code&gt;SLAVEOF newMasterIp newMasterPort&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;slaveï¼ˆ6380ï¼‰ä»ç„¶æ— æ³•æ‰§è¡Œå†™å‘½ä»¤ï¼&lt;/font&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;slaveï¼ˆ6381ï¼‰ä¸­é€”å˜æ›´è½¬å‘ï¼Œmaster ä» 6379 å˜ä¸º 6380ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä¼šæ¸…é™¤ä¹‹å‰ masterï¼ˆ6379ï¼‰çš„æ•°æ®ï¼Œé‡æ–°å»ºç«‹æ‹·è´æ–°çš„ masterï¼ˆ6380ï¼‰çš„æ•°æ®&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;è‡ªç«‹ä¸ºç‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è‡ªç«‹ä¸ºç‹&#34;&gt;#&lt;/a&gt; è‡ªç«‹ä¸ºç‹&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;slave è½¬æˆ master&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å‘½ä»¤ &lt;code&gt;SLAVEOF NO ONE&lt;/code&gt; ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;åœæ­¢ä¸å…¶ä»–æ•°æ®åº“çš„åŒæ­¥ï¼Œæ¸…ç©ºæ•°æ®ï¼Œè½¬æˆ Master æ•°æ®åº“&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸€ä¸»äºŒä»çš„æ¡ˆä¾‹æ¼”ç¤º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸€ä¸»äºŒä»çš„æ¡ˆä¾‹æ¼”ç¤º&#34;&gt;#&lt;/a&gt; ä¸€ä¸»äºŒä»çš„æ¡ˆä¾‹æ¼”ç¤º&lt;/h3&gt;
&lt;h4 id=&#34;æ¶æ„è¯´æ˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶æ„è¯´æ˜&#34;&gt;#&lt;/a&gt; æ¶æ„è¯´æ˜&lt;/h4&gt;
&lt;p&gt;ä¸€ä¸»äºŒä»ï¼Œä¸€ä¸ª masterï¼Œä¸¤ä¸ª slaveï¼Œç¤ºæ„å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807185141276.png&#34; alt=&#34;image-20230807185141276&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ‹·è´å¤šä»½é…ç½®æ–‡ä»¶ï¼Œåˆ†åˆ«å‘½åä¸ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;redis6379.conf&lt;/li&gt;
&lt;li&gt;redis6380.conf&lt;/li&gt;
&lt;li&gt;redis6381.conf&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å£è¯€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å£è¯€&#34;&gt;#&lt;/a&gt; &lt;mark&gt;å£è¯€&lt;/mark&gt;&lt;/h4&gt;
&lt;p&gt;å‰æï¼šä¸‰è¾¹ç½‘ç»œäº’ç›¸ ping é€šï¼ŒåŒæ—¶æ³¨æ„é˜²ç«å¢™é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‰å¤§å‘½ä»¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸»ä»å¤åˆ¶ï¼š &lt;code&gt;REPLICAOF masterIp masterPort&lt;/code&gt; ï¼Œé…ä»ä¸é…ä¸»&lt;/li&gt;
&lt;li&gt;æ”¹æ¢é—¨åº­ï¼š &lt;code&gt;SLAVEOF masterIp masterPort&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è‡ªç«‹ä¸ºç‹ï¼š &lt;code&gt;SLAVEOF NO ONE&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ä¿®æ”¹é…ç½®æ–‡ä»¶çš„æ“ä½œç»†èŠ‚&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¿®æ”¹é…ç½®æ–‡ä»¶çš„æ“ä½œç»†èŠ‚&#34;&gt;#&lt;/a&gt; ä¿®æ”¹é…ç½®æ–‡ä»¶çš„æ“ä½œç»†èŠ‚&lt;/h4&gt;
&lt;p&gt;ä»¥ redis6379.conf ä¸ºä¾‹ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;è¦æ±‚ Redis åå°è¿è¡Œï¼Œä¸è¦å¼¹å‡ºå‘½ä»¤è¡Œçª—å£ï¼š &lt;code&gt;daemonize yes&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å–æ¶ˆ IP çš„ç»‘å®šï¼Œå¦åˆ™å½±å“è¿œç¨‹ IP è¿æ¥ï¼Œæ³¨é‡Šæ‰ &lt;code&gt;bind 127.0.0.1&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…³é—­ä¿æŠ¤æ¨¡å¼ï¼Œå¦åˆ™å½±å“è¿œç¨‹è®¿é—® / è¿æ¥ï¼š &lt;code&gt;protected-mode no&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŒ‡å®šç«¯å£ï¼š &lt;code&gt;port 6379&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŒ‡å®šå½“å‰å·¥ä½œç›®å½•ï¼Œ &lt;code&gt;dir /myredis&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®¾ç½® pidï¼ˆè¿›ç¨‹ idï¼‰æ–‡ä»¶çš„è·¯å¾„å’Œåå­—ï¼š &lt;code&gt;pidfile /var/run/redis_6379.pid&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®¾ç½® log æ–‡ä»¶çš„è·¯å¾„å’Œåå­—ï¼š &lt;code&gt;logfile &amp;quot;/myredis/6379.log&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;è®¾ç½® Redis æœåŠ¡å™¨çš„å¯†ç &lt;/font&gt;ï¼š &lt;code&gt;requirepass 111111&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;masterã€slave å‡é…ç½®&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®¾ç½® rdb æ–‡ä»¶çš„åç§°ï¼š &lt;code&gt;dbfilename dump6379.rdb&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‹¥å¼€å¯ AOFï¼Œè¿˜éœ€è®¾ç½® aof æ–‡ä»¶çš„åå­—ï¼šappendfilename ã€‚è¿™é‡Œä¸å¼€å¯äº†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;slave è®¾ç½®æ‰€è®¿é—®çš„ master çš„ IP å’Œç«¯å£ï¼š &lt;code&gt;replicaofÂ masterIp 6379&lt;/code&gt; ï¼Œå¹¶è®¾ç½®é€šè¡Œå¯†ç  &lt;code&gt;masterauthÂ &amp;quot;111111&amp;quot;&lt;/code&gt; &lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;slave éœ€è¦é…ç½®&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;åŸç†å·¥ä½œæµç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸç†å·¥ä½œæµç¨‹&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸåŸç†ï¼ˆå·¥ä½œæµç¨‹ï¼‰&lt;/mark&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/developer_1b16183.png&#34; alt=&#34;developer_1b16183&#34; /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;slave é¦–æ¬¡è¿æ¥ï¼Œè¯·æ±‚å®Œå…¨åŒæ­¥ï¼ˆsyncï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šslave &lt;font color=&#39;red&#39;&gt;é¦–æ¬¡è¿æ¥&lt;/font&gt; master åä¼šå‘é€ä¸€ä¸ª  &lt;code&gt;sync&lt;/code&gt;  å‘½ä»¤ï¼Œ&lt;font color=&#39;red&#39;&gt;è¯·æ±‚å®Œå…¨åŒæ­¥ï¼ˆå…¨é‡å¤åˆ¶ï¼‰&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ‰§è¡Œä¸€æ¬¡å®Œå…¨åŒæ­¥ï¼ˆ&lt;font color=&#39;red&#39;&gt;å…¨é‡å¤åˆ¶&lt;/font&gt;ï¼‰ï¼Œslave è‡ªèº«åŸæœ‰æ•°æ®ä¼šè¢«&lt;font color=&#39;red&#39;&gt;è¦†ç›–æ¸…é™¤&lt;/font&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;master ä¿å­˜ RDB å¿«ç…§ï¼ŒåŒæ—¶ç¼“å­˜å†™å‘½ä»¤ï¼Œå“åº”ç»™æ‰€æœ‰ slave è¿›è¡Œåˆå§‹åŒ–ï¼ˆå®Œå…¨åŒæ­¥ï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;master èŠ‚ç‚¹æ”¶åˆ°  &lt;code&gt;sync&lt;/code&gt;  å‘½ä»¤åä¼šå¼€å§‹åœ¨åå°&lt;font color=&#39;red&#39;&gt;ä¿å­˜å¿«ç…§&lt;/font&gt;(å³ RDB æŒä¹…åŒ–ï¼Œä¸»ä»å¤åˆ¶æ—¶ä¼šè§¦å‘ RDB)ï¼ŒåŒæ—¶&lt;font color=&#39;red&#39;&gt;ç¼“å­˜æ‰€æœ‰æ¥æ”¶åˆ°çš„å†™å‘½ä»¤&lt;/font&gt;ï¼Œmaster èŠ‚ç‚¹æ‰§è¡Œ RDB æŒä¹…åŒ–å®Œåï¼Œ&lt;font color=&#39;red&#39;&gt;master å°† rdb å¿«ç…§æ–‡ä»¶å’Œæ‰€æœ‰ç¼“å­˜çš„å†™å‘½ä»¤å‘é€åˆ°æ‰€æœ‰ slave&lt;/font&gt;ï¼Œä»¥å®Œæˆä¸€æ¬¡å®Œå…¨åŒæ­¥&lt;/li&gt;
&lt;li&gt;è€Œ slave æœåŠ¡åœ¨æ¥æ”¶åˆ°æ•°æ®åº“æ–‡ä»¶æ•°æ®åï¼Œå°†å…¶&lt;font color=&#39;red&#39;&gt;å­˜ç›˜å¹¶åŠ è½½åˆ°å†…å­˜ä¸­&lt;/font&gt;ï¼Œä»è€Œ&lt;font color=&#39;red&#39;&gt;å®Œæˆå¤åˆ¶åˆå§‹åŒ–&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;å¿ƒè·³æŒç»­ï¼Œä¿æŒé€šä¿¡&lt;/font&gt;&lt;/strong&gt;ï¼šmaster å‘ slave å‘å‡º PING åŒ…ï¼Œå‘¨æœŸé»˜è®¤ 10 ç§’ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807205137957.png&#34; alt=&#34;image-20230807205137957&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;è¿›å…¥å¹³ç¨³ï¼Œå¢é‡å¤åˆ¶&lt;/font&gt;&lt;/strong&gt;ï¼šmaster ç»§ç»­å°†æ–°çš„æ‰€æœ‰æ”¶é›†åˆ°çš„å†™å‘½ä»¤è‡ªåŠ¨ä¾æ¬¡ä¼ ç»™ slaveï¼Œå®ŒæˆåŒæ­¥&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;slave ä¸‹çº¿ï¼Œé‡è¿ç»­ä¼ &lt;/font&gt;&lt;/strong&gt;ï¼šå‡è®¾æŸå° slave å®•æœºå¹¶é‡å¯äº†ï¼Œmaster ä¼šæ£€æŸ¥ backlog é‡Œé¢çš„ &lt;code&gt;offset&lt;/code&gt; ï¼Œmaster å’Œ slave éƒ½ä¼šä¿å­˜ä¸€ä¸ªå¤åˆ¶çš„  &lt;code&gt;offset&lt;/code&gt;  å’Œä¸€ä¸ª masterIdï¼Œ &lt;code&gt;offset&lt;/code&gt;  æ˜¯ä¿å­˜åœ¨ backlog ä¸­çš„ã€‚&lt;font color=&#39;red&#39;&gt;master åªä¼šæŠŠå·²ç»å¤åˆ¶çš„Â  &lt;code&gt;offset&lt;/code&gt;  åé¢çš„æ•°æ®å¤åˆ¶ç»™ slave&lt;/font&gt;ï¼Œç±»ä¼¼ **&lt;font color=&#39;red&#39;&gt;æ–­ç‚¹ç»­ä¼ &lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;åˆ†çº§ç®¡ç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†çº§ç®¡ç†&#34;&gt;#&lt;/a&gt; åˆ†çº§ç®¡ç†&lt;/h3&gt;
&lt;p&gt;è‹¥ Redis ä¸»ä»é›†ç¾¤ä¸­çš„ Slave è¾ƒå¤šæ—¶ï¼Œå®ƒä»¬çš„æ•°æ®åŒæ­¥è¿‡ç¨‹ä¼šå¯¹ Master å½¢æˆè¾ƒå¤§çš„æ€§èƒ½å‹åŠ›ã€‚æ­¤æ—¶å¯ä»¥&lt;font color=&#39;red&#39;&gt;å¯¹è¿™äº› Slave è¿›è¡Œåˆ†çº§ç®¡ç†&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231210144213994.png&#34; alt=&#34;image-20231210144213994&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è®¾ç½®æ–¹å¼å¾ˆç®€å•ï¼Œåªéœ€è¦ **&lt;font color=&#39;red&#39;&gt;è®©ä½çº§åˆ« Slave æŒ‡å®šå…¶ slaveof çš„ä¸»æœºä¸ºå…¶ä¸Šä¸€çº§ Slave å³å¯&lt;/font&gt;**ã€‚ä¸è¿‡ï¼Œä¸Šä¸€çº§ Slave çš„çŠ¶æ€ä»ä¸º Slaveï¼Œåªä¸è¿‡ï¼Œå…¶æ˜¯æ›´ä¸Šä¸€çº§çš„ Slaveã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼ŒæŒ‡å®š 6382 ä¸»æœºä¸º 6381 ä¸»æœºçš„ Slaveï¼Œè€Œ 6381 ä¸»æœºä»ä¸ºçœŸæ­£çš„ Master çš„ Slaveã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231210144439772.png&#34; alt=&#34;image-20231210144439772&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶ä¼šå‘ç°ï¼Œ Master çš„ Slave åªæœ‰ 6381 ä¸€ä¸ªä¸»æœºã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®¹ç¾å†·å¤„ç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®¹ç¾å†·å¤„ç†&#34;&gt;#&lt;/a&gt; å®¹ç¾å†·å¤„ç†&lt;/h3&gt;
&lt;p&gt;åœ¨ Master/Slave çš„ Redis é›†ç¾¤ä¸­ï¼Œ&lt;font color=&#39;red&#39;&gt;è‹¥ Master å‡ºç°å®•æœºæ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/font&gt;æœ‰ä¸¤ç§å¤„ç†æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å†·å¤„ç†&lt;/font&gt;ï¼šæ‰‹å·¥è§’è‰²è°ƒæ•´ï¼Œä½¿ Slave æ™‹å‡ä¸º Master&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;çƒ­å¤„ç†ï¼ˆå“¨å…µæ¨¡å¼ï¼‰&lt;/font&gt;ï¼šå®ç° Redis é›†ç¾¤çš„é«˜å¯ç”¨ HA&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ— è®º Master æ˜¯å¦å®•æœºï¼ŒSlave éƒ½å¯é€šè¿‡ slaveof no one å°†è‡ªå·±ç”± Slave æ™‹å‡ä¸º Masterã€‚å¦‚æœå…¶åŸæœ¬å°±æœ‰ä¸‹ä¸€çº§çš„ Slaveï¼Œé‚£ä¹ˆï¼Œå…¶å°±ç›´æ¥å˜ä¸ºäº†è¿™äº› Slave çš„çœŸæ­£çš„ Master äº†ã€‚è€ŒåŸæ¥çš„ Master ä¹Ÿä¼šå¤±å»è¿™ä¸ªåŸæ¥çš„ Slaveã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231210144722685.png&#34; alt=&#34;image-20231210144722685&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;ç¼ºç‚¹-5&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¼ºç‚¹-5&#34;&gt;#&lt;/a&gt; ç¼ºç‚¹&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¤åˆ¶ï¼ˆåŒæ­¥ï¼‰å»¶æ—¶&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç”±äºæ‰€æœ‰çš„å†™æ“ä½œéƒ½æ˜¯å…ˆåœ¨ Master ä¸Šæ“ä½œï¼Œç„¶ååŒæ­¥æ›´æ–°åˆ° Slave ä¸Šï¼Œæ‰€ä»¥ä» Master åŒæ­¥åˆ° Slave æœºå™¨æœ‰ä¸€å®šçš„å»¶è¿Ÿï¼Œå½“&lt;font color=&#39;red&#39;&gt;ç³»ç»Ÿå¾ˆç¹å¿™&lt;/font&gt;çš„æ—¶å€™ï¼Œå»¶è¿Ÿé—®é¢˜ä¼šæ›´åŠ ä¸¥é‡ï¼Œ&lt;font color=&#39;red&#39;&gt;Slave æœºå™¨æ•°é‡çš„å¢åŠ &lt;/font&gt;ä¹Ÿä¼šä½¿è¿™ä¸ªé—®é¢˜æ›´åŠ ä¸¥é‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807210259342.png&#34; alt=&#34;image-20230807210259342&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Master å®•æœºåç¾¤é¾™æ— é¦–&lt;/font&gt;&lt;/strong&gt;ï¼é»˜è®¤æƒ…å†µä¸‹ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸ä¼šä» slave ä¸­é‡é€‰ä¸€ä¸ª master&lt;/font&gt;ï¼Œç³»ç»Ÿä¼šé™·å…¥åŠç˜«ç—ªçŠ¶æ€ï¼ˆ&lt;font color=&#39;red&#39;&gt;åªèƒ½è¯»å–ï¼Œä¸èƒ½å†™å…¥&lt;/font&gt;ï¼‰é‚£å®¢æˆ·ç«¯çš„å†™å‘½ä»¤å¦‚ä½•æ‰§è¡Œå•Šï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœŸå¾…æœ‰ä¸€ç§é«˜å¯ç”¨çš„å¤‡ä»½ã€æ¢å¤æœºåˆ¶ï¼Œèƒ½å¤Ÿä»å‰©ä¸‹çš„ slave ä¸­é€‰å‡ºä¸€ä¸ª masterï¼ï¼ˆ&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æ— äººå€¼å®ˆå®‰è£…ï¼šå“¨å…µï¼&lt;/font&gt;&lt;/strong&gt;ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å“¨å…µæœºåˆ¶sentinel&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å“¨å…µæœºåˆ¶sentinel&#34;&gt;#&lt;/a&gt; å“¨å…µæœºåˆ¶ï¼ˆsentinelï¼‰&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;ç›®çš„ï¼šä¸ºäº†å®ç°ä¸»ä»é›†ç¾¤ä¸­çš„ **&lt;font color=&#39;red&#39;&gt;è‡ªåŠ¨åŒ–çš„æ•…éšœè½¬ç§»&lt;/font&gt;**ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ™®é€šçš„ä¸»ä»å¤åˆ¶æ–¹æ¡ˆä¸‹ï¼Œä¸€æ—¦ master å®•æœºï¼Œæˆ‘ä»¬éœ€è¦ä» slave ä¸­æ‰‹åŠ¨é€‰æ‹©ä¸€ä¸ªæ–°çš„ masterï¼ŒåŒæ—¶éœ€è¦ä¿®æ”¹åº”ç”¨æ–¹çš„ä¸»èŠ‚ç‚¹åœ°å€ï¼Œè¿˜éœ€è¦å‘½ä»¤æ‰€æœ‰ä»èŠ‚ç‚¹å»å¤åˆ¶æ–°çš„ä¸»èŠ‚ç‚¹ï¼Œæ•´ä¸ªè¿‡ç¨‹éœ€è¦äººå·¥å¹²é¢„ã€‚äººå·¥å¹²é¢„å¤§å¤§å¢åŠ äº†é—®é¢˜çš„å¤„ç†æ—¶é—´ä»¥åŠå‡ºé”™çš„å¯èƒ½æ€§ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥å€ŸåŠ© Redis å®˜æ–¹çš„ Sentinelï¼ˆå“¨å…µï¼‰æ–¹æ¡ˆæ¥å¸®åŠ©æˆ‘ä»¬è§£å†³è¿™ä¸ªç—›ç‚¹ï¼Œå®ç°è‡ªåŠ¨åŒ–çš„æ•…éšœè½¬ç§»ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ˜¯ä»€ä¹ˆ-9&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ˜¯ä»€ä¹ˆ-9&#34;&gt;#&lt;/a&gt; æ˜¯ä»€ä¹ˆ&lt;/h3&gt;
&lt;p&gt;Redis Sentinel å®ç° Redis é›†ç¾¤é«˜å¯ç”¨ï¼Œ&lt;font color=&#39;red&#39;&gt;åªæ˜¯åœ¨ä¸»ä»å¤åˆ¶å®ç°é›†ç¾¤çš„åŸºç¡€ä¸‹ï¼Œå¤šäº†ä¸€ä¸ª Sentinel è§’è‰²æ¥å¸®åŠ©æˆ‘ä»¬ç›‘æ§ Redis èŠ‚ç‚¹çš„è¿è¡ŒçŠ¶æ€ï¼Œå¹¶è‡ªåŠ¨å®ç°æ•…éšœè½¬ç§»&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å½“ master èŠ‚ç‚¹å‡ºç°æ•…éšœçš„æ—¶å€™ï¼ŒSentinel ä¼šè‡ªåŠ¨æ ¹æ®ä¸€å®šçš„è§„åˆ™é€‰å‡ºä¸€ä¸ª slave å‡çº§ä¸º masterï¼Œä»è€Œå®ç°è‡ªåŠ¨åŒ–çš„æ•…éšœè½¬ç§»ï¼Œç¡®ä¿æ•´ä¸ª Redis ç³»ç»Ÿçš„é«˜å¯ç”¨æ€§ï¼ˆHAï¼‰&lt;/font&gt;&lt;/strong&gt;ã€‚æ•´ä¸ªè¿‡ç¨‹å®Œå…¨è‡ªåŠ¨ï¼Œä¸éœ€è¦äººå·¥ä»‹å…¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-master-slave-sentinel.png&#34; alt=&#34;redis-master-slave-sentinel.png&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä½œç”¨-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½œç”¨-2&#34;&gt;#&lt;/a&gt; ä½œç”¨&lt;/h3&gt;
&lt;p&gt;Sentinel èŠ‚ç‚¹çš„åŠŸèƒ½å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç›‘æ§&lt;/font&gt;&lt;/strong&gt;ï¼šSentinel å¯ä»¥ç›‘æ§æ‰€æœ‰ Redis èŠ‚ç‚¹ï¼ˆåŒ…æ‹¬ Sentinel èŠ‚ç‚¹è‡ªèº«ï¼‰çš„&lt;font color=&#39;red&#39;&gt;çŠ¶æ€æ˜¯å¦æ­£å¸¸&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ•…éšœè½¬ç§»&lt;/font&gt;&lt;/strong&gt;ï¼šå¦‚æœä¸€ä¸ª master å‡ºç°æ•…éšœï¼ŒSentinel ä¼šå¸®åŠ©æˆ‘ä»¬å®ç°æ•…éšœè½¬ç§»ï¼Œ&lt;font color=&#39;red&#39;&gt;è‡ªåŠ¨å°†æŸä¸€å° slave å‡çº§ä¸º master&lt;/font&gt;ï¼Œç¡®ä¿æ•´ä¸ª Redis ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ¶ˆæ¯é€šçŸ¥&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;é€šçŸ¥ slave æ–°çš„ master è¿æ¥ä¿¡æ¯&lt;/font&gt;ï¼Œè®©å®ƒä»¬æ‰§è¡Œ replicaof æˆä¸ºæ–°çš„ master çš„ slaveã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;é…ç½®ä¸­å¿ƒ&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;å®¢æˆ·ç«¯é€šè¿‡è¿æ¥ sentinel æ¥è·å¾— master çš„åœ°å€&lt;/font&gt;ï¼Œå¦‚æœå‘ç”Ÿæ•…éšœè½¬ç§»ï¼Œsentinel ä¼šé€šçŸ¥æ–°çš„ master é“¾æ¥ä¿¡æ¯ç»™å®¢æˆ·ç«¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sentinel æœ¬èº«è®¾è®¡çš„å°±æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œ&lt;font color=&#39;red&#39;&gt;å»ºè®®å¤šä¸ª sentinel èŠ‚ç‚¹åä½œè¿è¡Œ&lt;/font&gt;ï¼Œå¥½å¤„æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤šä¸ª sentinel èŠ‚ç‚¹é€šè¿‡&lt;font color=&#39;red&#39;&gt;æŠ•ç¥¨&lt;/font&gt;çš„æ–¹å¼æ¥ç¡®å®š master èŠ‚ç‚¹æ˜¯å¦çœŸçš„ä¸å¯ç”¨ï¼Œ&lt;font color=&#39;red&#39;&gt;é¿å…è¯¯åˆ¤&lt;/font&gt;ï¼ˆæ¯”å¦‚ç½‘ç»œé—®é¢˜å¯èƒ½ä¼šå¯¼è‡´è¯¯åˆ¤ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;Sentinel è‡ªèº«å°±æ˜¯&lt;font color=&#39;red&#39;&gt;é«˜å¯ç”¨&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;sentinel-é…ç½®æ–‡ä»¶sentinelconf&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sentinel-é…ç½®æ–‡ä»¶sentinelconf&#34;&gt;#&lt;/a&gt; Sentinel é…ç½®æ–‡ä»¶ï¼ˆsentinel.confï¼‰&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;é»˜è®¤åœ¨ /opt/redis-7.0.0 ç›®å½•ä¸‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Sentinelï¼ˆå“¨å…µï¼‰åªæ˜¯ Redis çš„ä¸€ç§è¿è¡Œæ¨¡å¼ï¼Œä¸æä¾›è¯»å†™æœåŠ¡ï¼Œé»˜è®¤è¿è¡Œåœ¨ &lt;font color=&#39;red&#39;&gt;26379&lt;/font&gt; ç«¯å£ä¸Šï¼Œä¾èµ–äº Redis å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;Redis åœ¨ Sentinel è¿™ç§ç‰¹æ®Šçš„è¿è¡Œæ¨¡å¼ä¸‹ï¼Œä½¿ç”¨ä¸“é—¨çš„å‘½ä»¤è¡¨ï¼Œä¹Ÿå°±æ˜¯è¯´æ™®é€šæ¨¡å¼è¿è¡Œä¸‹çš„ Redis å‘½ä»¤å°†æ— æ³•ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å°±å¯ä»¥&lt;font color=&#39;red&#39;&gt;è®© Redis ä»¥ Sentinel çš„æ–¹å¼è¿è¡Œ&lt;/font&gt;:&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;redis-sentinel /path/to/sentinel.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;æˆ–è€…&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;redis-server /path/to/sentinel.conf &lt;span class=&#34;token parameter variable&#34;&gt;--sentinel&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;Redis æºç ä¸­çš„&lt;font color=&#39;red&#39;&gt;  &lt;code&gt;sentinel.conf&lt;/code&gt;  æ–‡ä»¶æ˜¯ç”¨æ¥é…ç½® Sentinel çš„&lt;/font&gt;ï¼Œä¸€ä¸ªå¸¸è§çš„æœ€å°é…ç½®å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;// æŒ‡å®šè¦ç›‘è§†çš„ master&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;// 127.0.0.1 6379 ä¸º master åœ°å€&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;// 2 è¡¨ç¤ºå½“æœ‰ 2 ä¸ª sentinel è®¤ä¸º master å¤±æ•ˆæ—¶ï¼Œmaster æ‰ç®—çœŸæ­£å¤±æ•ˆ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;sentinel monitor mymaster &lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;//master èŠ‚ç‚¹å®•æœºå¤šé•¿æ—¶é—´æ‰ä¼šè¢« sentinel è®¤ä¸ºæ˜¯å¤±æ•ˆ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;sentinel down&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;after&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;milliseconds mymaster &lt;span class=&#34;token number&#34;&gt;60000&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;sentinel failover&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;timeout mymaster &lt;span class=&#34;token number&#34;&gt;180000&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;sentinel parallel&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;syncs mymaster &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;sentinel monitor resque &lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.3&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6380&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;sentinel down&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;after&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;milliseconds resque &lt;span class=&#34;token number&#34;&gt;10000&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;sentinel failover&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;timeout resque &lt;span class=&#34;token number&#34;&gt;180000&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;// åœ¨å‘ç”Ÿä¸»å¤‡åˆ‡æ¢æ—¶æœ€å¤šå¯ä»¥æœ‰ 5 ä¸ª slave åŒæ—¶å¯¹æ–°çš„ master è¿›è¡ŒåŒæ­¥&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;sentinel parallel&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;syncs resque &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é‡ç‚¹å‚æ•°è¯´æ˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;bind&lt;/code&gt; ï¼šæœåŠ¡ç›‘å¬åœ°å€ï¼Œç”¨äºå®¢æˆ·ç«¯è¿æ¥ï¼Œé»˜è®¤ä¸ºæœ¬æœºåœ°å€&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;daemonize&lt;/code&gt; ï¼šæ˜¯å¦ä»¥åå° daemonï¼ˆåå°è¿›ç¨‹ï¼‰æ–¹å¼è¿è¡Œï¼Œè®¾ä¸º yes&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;protected-mode&lt;/code&gt; ï¼šæ˜¯å¦å¼€å¯å®‰å…¨ä¿æŠ¤æ¨¡å¼ï¼Œè®¾ä¸º noï¼Œå¦åˆ™å½±å“è¿œç¨‹è®¿é—® / è¿æ¥&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;port&lt;/code&gt; ï¼šç«¯å£ï¼Œé»˜è®¤æ˜¯ 26379&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;logfile&lt;/code&gt; ï¼šæ—¥å¿—æ–‡ä»¶è·¯å¾„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;pidfile&lt;/code&gt; ï¼špid æ–‡ä»¶è·¯å¾„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;dir&lt;/code&gt; ï¼šå·¥ä½œç›®å½•&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;sentinel monitor &amp;lt;master-name&amp;gt; &amp;lt;master-ip&amp;gt; &amp;lt;master-port&amp;gt; &amp;lt;quorum&amp;gt;&lt;/code&gt; &lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;è®¾ç½® Sentinel è¦ç›‘æ§çš„ master&lt;/font&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;quorum&lt;/code&gt; ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;åˆ¤å®š master å¤±æ•ˆï¼ˆ&lt;font color=&#39;cornflowerblue&#39;&gt;å®¢è§‚ä¸‹çº¿&lt;/font&gt;ï¼‰æœ€å°‘éœ€è¦çš„ä»²è£ Sentinel èŠ‚ç‚¹æ•°&lt;/font&gt;&lt;/strong&gt;ï¼Œå³åŒæ„æ•…éšœè½¬ç§»çš„æ³•å®š&lt;font color=&#39;red&#39;&gt;æŠ•ç¥¨æ•°&lt;/font&gt;ã€‚ä¾‹å¦‚ quorum ä¸º 2 è¡¨ç¤ºå½“æœ‰ 2 ä¸ª sentinel è®¤ä¸º master å¤±æ•ˆæ—¶ï¼Œmaster æ‰ç®—çœŸæ­£å¤±æ•ˆã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;sentinel å®šæ—¶å‘ master å‘å‡º PING åŒ…&lt;/strong&gt;æ¥ç¡®è®¤ master æ˜¯å¦æŒ‚æ‰ã€‚&lt;/p&gt;
&lt;p&gt;ä½†ç½‘ç»œæ˜¯ä¸å¯é çš„ï¼Œæœ‰æ—¶æŸä¸ª sentinel å¯èƒ½å› ä¸º&lt;strong&gt;ç½‘ç»œæ‹¥å µ&lt;/strong&gt;æ²¡æ”¶åˆ° master çš„å“åº”ï¼Œä»è€Œ&lt;strong&gt;è¯¯ä»¥ä¸º master å·²æŒ‚æ‰&lt;/strong&gt;ã€‚å› æ­¤éœ€è¦å¤šä¸ª sentinel éƒ½ä¸€è‡´è®¤ä¸º master å·²æŒ‚ï¼Œæ‰å¯è¿›è¡Œä¸»ä»åˆ‡æ¢ã€æ•…éšœè½¬ç§»ï¼Œä¿è¯äº†å…¬å¹³æ€§å’Œé«˜å¯ç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;sentinel auth-pass &amp;lt;master-name&amp;gt; &amp;lt;password&amp;gt;&lt;/code&gt; ï¼šè®¾ç½®è¿æ¥ master æœåŠ¡å™¨çš„å¯†ç &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;sentinel down-after-milliseconds &amp;lt;master-name&amp;gt; &amp;lt;milliseconds&amp;gt;&lt;/code&gt; &lt;/strong&gt;ï¼šæŒ‡å®šå¦‚æœ master åœ¨å¤šå°‘æ¯«ç§’ä¹‹åæ²¡æœ‰åº”ç­” sentinelï¼Œsentinel åˆ™ä¸»è§‚ä¸Šè®¤ä¸º master ä¸‹çº¿ï¼ˆ&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ä¸»è§‚ä¸‹çº¿&lt;/font&gt;&lt;/strong&gt;ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;sentinel parallel-syncs &amp;lt;master-name&amp;gt; &amp;lt;nums&amp;gt;&lt;/code&gt; ï¼šè¡¨ç¤ºå…è®¸å¹¶è¡ŒåŒæ­¥çš„ slave ä¸ªæ•°ï¼Œå½“ master æŒ‚äº†åï¼Œå“¨å…µä¼šé€‰å‡ºæ–°çš„ masterï¼Œæ­¤æ—¶ï¼Œå‰©ä½™çš„ slave ä¼šå‘æ–°çš„ master å‘èµ·åŒæ­¥æ•°æ®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;sentinel failover-timeout &amp;lt;master-name&amp;gt; &amp;lt;milliseconds&amp;gt;&lt;/code&gt; ï¼šæ•…éšœè½¬ç§»çš„è¶…æ—¶æ—¶é—´ã€‚è¿›è¡Œæ•…éšœè½¬ç§»æ—¶ï¼Œå¦‚æœè¶…è¿‡è®¾ç½®çš„æ¯«ç§’ï¼Œè¡¨ç¤ºæ•…éšœè½¬ç§»å¤±è´¥&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;sentinel notification-script &amp;lt;master-name&amp;gt; &amp;lt;script-path&amp;gt; &lt;/code&gt; ï¼šé…ç½®å½“æŸä¸€äº‹ä»¶å‘ç”Ÿæ—¶æ‰€éœ€è¦æ‰§è¡Œçš„è„šæœ¬&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;sentinel client-reconfig-script &amp;lt;master-name&amp;gt; &amp;lt;script-path&amp;gt;&lt;/code&gt; ï¼šå®¢æˆ·ç«¯é‡æ–°é…ç½® master å‚æ•°è„šæœ¬&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ¡ˆä¾‹æ¼”ç¤º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¡ˆä¾‹æ¼”ç¤º&#34;&gt;#&lt;/a&gt; æ¡ˆä¾‹æ¼”ç¤º&lt;/h3&gt;
&lt;h4 id=&#34;æ¶æ„è¯´æ˜-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶æ„è¯´æ˜-2&#34;&gt;#&lt;/a&gt; æ¶æ„è¯´æ˜&lt;/h4&gt;
&lt;p&gt;**&lt;font color=&#39;red&#39;&gt;å¦‚æœæƒ³è¦å®ç°é«˜å¯ç”¨ï¼Œå»ºè®®å°†å“¨å…µ Sentinel é…ç½®æˆå•æ•°ï¼Œä¸”å¤§äºç­‰äº 3 å°ã€‚&lt;/font&gt;** å¥½å¤„æœ‰äºŒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é˜²æ­¢æŸå° sentinel æ— æ³•è¿æ¥åˆ° masterï¼Œå¯¼è‡´è¯¯åˆ‡æ¢&lt;/li&gt;
&lt;li&gt;åˆ©äºæŠ•ç¥¨é€‰ä¸¾&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸€ä¸ªæœ€ç®€æ˜“çš„ Redis Sentinel é›†ç¾¤å¦‚ä¸‹æ‰€ç¤ºï¼ˆå®˜æ–¹æ–‡æ¡£ä¸­çš„ä¸€ä¸ªä¾‹å­ï¼‰ï¼Œå…¶ä¸­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;3 ä¸ª Sentinel èŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;1 ä¸ª Master èŠ‚ç‚¹ï¼Œ2 ä¸ª Slave èŠ‚ç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœ Master å‡ºç°é—®é¢˜ï¼Œåªè¦ Sentinel é›†ç¾¤å…¶ä¸­çš„ä¸¤ä¸ªæŠ•ç¥¨èµåŒçš„è¯ï¼Œå°±ä¼šå¼€å§‹æ•…éšœè½¬ç§»å·¥ä½œï¼Œä» 2 ä¸ª Slave ä¸­é‡æ–°é€‰å‡ºä¸€ä¸ªä½œä¸º masterã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808002037403.png&#34; alt=&#34;image-20230808002037403&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;é…ç½®è¯´æ˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é…ç½®è¯´æ˜&#34;&gt;#&lt;/a&gt; é…ç½®è¯´æ˜&lt;/h4&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808105627695.png&#34; alt=&#34;image-20230808105627695&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç”±äºæœºå™¨ç¡¬ä»¶å…³ç³»ï¼Œæˆ‘ä»¬çš„ 3 ä¸ªå“¨å…µéƒ½åŒæ—¶é…ç½®è¿› 192.168.111.169 åŒä¸€å°æœºå™¨ï¼Œå³&lt;font color=&#39;red&#39;&gt;3 ä¸ªå“¨å…µå’Œ master åœ¨ä¸€å°æœºå™¨ä¸Š&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é…ç½®è¿™ 3 ä¸ªå“¨å…µçš„é…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808104641977.png&#34; alt=&#34;image-20230808104641977&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808104655030.png&#34; alt=&#34;image-20230808104655030&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808104707250.png&#34; alt=&#34;image-20230808104707250&#34; /&gt;&lt;/p&gt;
&lt;p&gt;master é…ç½®æ–‡ä»¶è¯´æ˜ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808104812771.png&#34; alt=&#34;image-20230808104812771&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;å…ˆæµ‹è¯•æ­£å¸¸çš„ä¸»ä»å¤åˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å…ˆæµ‹è¯•æ­£å¸¸çš„ä¸»ä»å¤åˆ¶&#34;&gt;#&lt;/a&gt; å…ˆæµ‹è¯•æ­£å¸¸çš„ä¸»ä»å¤åˆ¶&lt;/h4&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230807201752116.png&#34; alt=&#34;image-20230807201752116&#34; /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;169 æœºå™¨ä¸Šæ–°å»º redis6379.conf é…ç½®æ–‡ä»¶ï¼Œç”±äº 6379 åç»­å¯èƒ½ä¼šå˜æˆä»æœºï¼Œéœ€è¦è®¾ç½®è®¿é—®æ–°ä¸»æœºçš„å¯†ç ï¼Œè¯·è®¾ç½® masterauth é¡¹è®¿é—®å¯†ç ä¸º 111111ï¼Œä¸ç„¶åç»­å¯èƒ½æŠ¥é”™ master_link_status:down&lt;/li&gt;
&lt;li&gt;172 æœºå™¨ä¸Šæ–°å»º redis6380.conf é…ç½®æ–‡ä»¶ï¼Œè®¾ç½®å¥½ &lt;code&gt;replicaof \&amp;lt;masterip&amp;gt; \&amp;lt;masterport&amp;gt;&lt;/code&gt; ï¼Œä»¥åŠ masterauth é¡¹è®¿é—®å¯†ç ä¸º 111111&lt;/li&gt;
&lt;li&gt;173 æœºå™¨ä¸Šæ–°å»º redis6381.conf é…ç½®æ–‡ä»¶ï¼Œè®¾ç½®å¥½ &lt;code&gt;replicaof \&amp;lt;masterip&amp;gt; \&amp;lt;masterport&amp;gt;&lt;/code&gt; ï¼Œä»¥åŠ masterauth é¡¹è®¿é—®å¯†ç ä¸º 111111&lt;/li&gt;
&lt;li&gt;å¯åŠ¨ 3 å°æœºå™¨å®ä¾‹ï¼š
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;redis-cli -a 111111 -p 6379&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;redis-cli -a 111111 -p 6380&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;redis-cli -a 111111 -p 6381&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æµ‹è¯•&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;sentinel-æ¥äº†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sentinel-æ¥äº†&#34;&gt;#&lt;/a&gt; Sentinel æ¥äº†ï¼&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;sentinel ä¹‹é—´é€šè¿‡ master æ¥è·å–ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;slave ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;å…¶ä»– sentinel ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»è€Œå®ç°é€šä¿¡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ masterï¼ˆ6379ï¼‰è¿™å°æœºå™¨ä¸Š&lt;font color=&#39;red&#39;&gt;å¯åŠ¨ 3 ä¸ª sentinel&lt;/font&gt;ï¼ˆ26379/26380/26381ï¼‰ï¼Œå®Œæˆç›‘æ§&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;redis-sentinel sentinel26379.conf --sentinel&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;redis-sentinel sentinel26380.conf --sentinel&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;redis-sentinel sentinel26381.conf --sentinel&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808110202022.png&#34; alt=&#34;image-20230808110202022&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808110255818.png&#34; alt=&#34;image-20230808110255818&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŸ¥çœ‹å“¨å…µçš„æ—¥å¿—æ–‡ä»¶ &lt;code&gt;sentinel26379.log&lt;/code&gt; ï¼Œå¯ä»¥çœ‹åˆ°&lt;font color=&#39;red&#39;&gt;å½“å‰ sentinel çš„ä¿¡æ¯&lt;/font&gt;ã€&lt;font color=&#39;red&#39;&gt;æ‰€ç›‘æ§ master ä»¥åŠ slave çš„ä¿¡æ¯&lt;/font&gt;ã€&lt;font color=&#39;red&#39;&gt;å…¶ä»– sentinel çš„ä¿¡æ¯&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808111127304.png&#34; alt=&#34;image-20230808111127304&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å†æµ‹è¯•ä¸€æ¬¡ä¸»ä»å¤åˆ¶ï¼Œæœ¨æœ‰é—®é¢˜&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;å½“-master-æŒ‚äº†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å½“-master-æŒ‚äº†&#34;&gt;#&lt;/a&gt; å½“ master æŒ‚äº†ï¼&lt;/h4&gt;
&lt;p&gt;é€šè¿‡å‘½ä»¤ &lt;code&gt;SHUTDOWN&lt;/code&gt;  æ‰‹åŠ¨å…³é—­ 6379 æœåŠ¡å™¨ï¼Œæ¨¡æ‹Ÿ master æŒ‚æ‰ã€‚&lt;/p&gt;
&lt;p&gt;æ€è€ƒä»¥ä¸‹é—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜ 1ï¼š&lt;font color=&#39;red&#39;&gt;ä¸¤å° slave ä¸Šçš„æ•°æ®è¿˜ OKï¼&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜ 2ï¼š** ä¼šä»è¿™ä¸¤å° slave ä¸Šé€‰å‡ºæ–°çš„ masterï¼** å…·ä½“ä¿¡æ¯å¯æŸ¥çœ‹ sentinel çš„ log æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œå“¨å…µé…ç½®æ–‡ä»¶ &lt;code&gt;sentinel.conf&lt;/code&gt;  ä¸­ä¼šè‡ªåŠ¨ç”Ÿæˆå†…å®¹ä¿¡æ¯&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜ 3ï¼š&lt;strong&gt;down æœºçš„æ—§ master é‡å¯å½’æ¥ï¼Œä¹Ÿåªèƒ½æ‹œè®¤æ–° masterï¼Œä½œå®ƒçš„ slaveï¼&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ master6379 å®•æœºåï¼Œä¼šå‡ºç°ä¸¤ç§é”™è¯¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Errorï¼šServer closed the connection&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Errorï¼šBroken pipe&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;broken pipe&lt;/strong&gt;ï¼špipe æ˜¯ç®¡é“çš„æ„æ€ï¼Œç®¡é“é‡Œé¢æ˜¯æ•°æ®æµï¼Œé€šå¸¸æ˜¯ä»æ–‡ä»¶æˆ–ç½‘ç»œå¥—æ¥å­—è¯»å–çš„æ•°æ®ã€‚&lt;font color=&#39;red&#39;&gt;å½“è¯¥ç®¡é“ä»å¦ä¸€ç«¯çªç„¶å…³é—­æ—¶ï¼Œä¼šå‘ç”Ÿæ•°æ®çªç„¶ä¸­æ–­&lt;/font&gt;ï¼Œå³æ˜¯ brokenï¼Œå¯¹äº socket æ¥è¯´ï¼Œå¯èƒ½æ˜¯ç½‘ç»œè¢«æ‹”å‡ºæˆ–å¦ä¸€ç«¯çš„è¿›ç¨‹å´©æºƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¦‚ä½•è§£å†³&lt;/strong&gt;ï¼šå½“è¯¥å¼‚å¸¸äº§ç”Ÿçš„æ—¶å€™ï¼Œ&lt;font color=&#39;red&#39;&gt;å¯¹äºæœåŠ¡ç«¯æ¥è¯´ï¼Œå¹¶æ²¡æœ‰å¤šå°‘å½±å“&lt;/font&gt;ã€‚å› ä¸ºå¯èƒ½æ˜¯æŸä¸ªå®¢æˆ·ç«¯çªç„¶ä¸­æ­¢äº†è¿›ç¨‹å¯¼è‡´äº†è¯¥é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ€»ç»“&lt;/strong&gt;ï¼šè¿™ä¸ªå¼‚å¸¸æ˜¯&lt;font color=&#39;red&#39;&gt;å®¢æˆ·ç«¯è¯»å–è¶…æ—¶&lt;/font&gt;å…³é—­äº†è¿æ¥ï¼Œè¿™æ—¶å€™æœåŠ¡å™¨ç«¯å†å‘å®¢æˆ·ç«¯å·²ç»æ–­å¼€çš„è¿æ¥å†™æ•°æ®æ—¶å°±å‘ç”Ÿäº† broken pipe å¼‚å¸¸ï¼&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808113740061.png&#34; alt=&#34;image-20230808113740061&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é’ˆå¯¹æœ¬æ¬¡æ¡ˆä¾‹ï¼Œåˆ†æè°æ˜¯ masterï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;6381 è¢«é€‰ä¸ºæ–° masterï¼Œä¸Šä½æˆåŠŸ&lt;/li&gt;
&lt;li&gt;ä»¥å‰çš„ 6379 ä» master é™çº§å˜æˆäº† slave&lt;/li&gt;
&lt;li&gt;6380 è¿˜æ˜¯ slaveï¼Œåªä¸è¿‡æ¢äº†ä¸ªæ–°è€å¤§ 6381 (6379 å˜ 6381)ï¼Œ6380 è¿˜æ˜¯ slave&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;å¯¹æ¯”æ–°è€masterçš„é…ç½®æ–‡ä»¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¯¹æ¯”æ–°è€masterçš„é…ç½®æ–‡ä»¶&#34;&gt;#&lt;/a&gt; å¯¹æ¯”æ–°è€ master çš„é…ç½®æ–‡ä»¶&lt;/h4&gt;
&lt;p&gt;æ—§ masterï¼ˆ6379ï¼‰çš„é…ç½®æ–‡ä»¶  &lt;code&gt;redis6379.conf&lt;/code&gt;  ä¸­ä¼šè‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹å†…å®¹ï¼Œè®© å…¶å»åšæ–° masterï¼ˆ6381ï¼‰çš„ slaveï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808115231877.png&#34; alt=&#34;image-20230808115231877&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ–° masterï¼ˆ6381ï¼‰çš„é…ç½®æ–‡ä»¶  &lt;code&gt;redis6381.conf&lt;/code&gt;  ä¸­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è‡ªåŠ¨åˆ æ‰  &lt;code&gt;replicaof&lt;/code&gt;  å‚æ•°çš„é…ç½®&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹å†…å®¹ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»“è®ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;conf æ–‡ä»¶çš„å†…å®¹ä¼šè¢« sentinel åŠ¨æ€æ›´æ”¹&lt;/li&gt;
&lt;li&gt;Master-Slave åˆ‡æ¢åï¼Œmaster_redis.confã€slave_redis.conf å’Œ sentinel.conf çš„å†…å®¹éƒ½ä¼šå‘ç”Ÿæ”¹å˜ï¼Œå³&lt;font color=&#39;red&#39;&gt;master_redis.conf ä¸­ä¼šå¤šä¸€è¡Œ slaveof çš„é…ç½®&lt;/font&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;sentinel.conf çš„ç›‘æ§ç›®æ ‡ä¼šéšä¹‹è°ƒæ¢&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å…¶ä»–å¤‡æ³¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å…¶ä»–å¤‡æ³¨&#34;&gt;#&lt;/a&gt; å…¶ä»–å¤‡æ³¨&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ç”Ÿäº§éƒ½æ˜¯ä¸åŒæœºæˆ¿ä¸åŒæœåŠ¡å™¨ï¼Œ&lt;strong&gt;å¾ˆå°‘å‡ºç° Sentinel å…¨æŒ‚æ‰çš„æƒ…å†µ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯ä»¥åŒæ—¶ç›‘æ§å¤šä¸ª master&lt;/strong&gt;ï¼Œä¸€è¡Œä¸€ä¸ª&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;sentinel-åŸç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sentinel-åŸç†&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸSentinel åŸç†&lt;/mark&gt;&lt;/h3&gt;
&lt;h4 id=&#34;ä¸‰ä¸ªå®šæ—¶ä»»åŠ¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸‰ä¸ªå®šæ—¶ä»»åŠ¡&#34;&gt;#&lt;/a&gt; ä¸‰ä¸ªå®šæ—¶ä»»åŠ¡&lt;/h4&gt;
&lt;p&gt;Sentinel ç»´æŠ¤ç€ä¸‰ä¸ªå®šæ—¶ä»»åŠ¡ä»¥ç›‘æµ‹ Redis èŠ‚ç‚¹åŠå…¶å®ƒ Sentinel èŠ‚ç‚¹çš„çŠ¶æ€ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;info ä»»åŠ¡&lt;/font&gt;ï¼šæ¯ä¸ª Sentinel æ¯éš” 10 ç§’å°±ä¼šå‘ Redis é›†ç¾¤ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹å‘é€  &lt;code&gt;info&lt;/code&gt;  å‘½ä»¤ï¼Œä»¥&lt;font color=&#39;red&#39;&gt;è·å¾—æœ€æ–°çš„ Redis æ‹“æ‰‘ç»“æ„&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ping ä»»åŠ¡&lt;/font&gt;ï¼šæ¯ä¸ª Sentinel æ¯éš” 1 ç§’å°±ä¼šå‘æ‰€æœ‰ Redis èŠ‚ç‚¹åŠå…¶å®ƒ Sentinel èŠ‚ç‚¹å‘é€ä¸€æ¡  &lt;code&gt;ping&lt;/code&gt;  å‘½ä»¤ï¼Œä»¥&lt;font color=&#39;red&#39;&gt;æ£€æµ‹è¿™äº›èŠ‚ç‚¹çš„å­˜æ´»çŠ¶æ€&lt;/font&gt;ã€‚è¯¥ä»»åŠ¡&lt;font color=&#39;red&#39;&gt;æ˜¯åˆ¤æ–­èŠ‚ç‚¹åœ¨çº¿çŠ¶æ€çš„é‡è¦ä¾æ®&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;pub/sub ä»»åŠ¡&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;p&gt;â€‹	æ¯ä¸ª Sentinel èŠ‚ç‚¹åœ¨å¯åŠ¨æ—¶éƒ½ä¼š&lt;font color=&#39;red&#39;&gt;å‘æ‰€æœ‰ Redis èŠ‚ç‚¹è®¢é˜…Â  &lt;code&gt;__sentinel__:hello&lt;/code&gt;  ä¸»é¢˜çš„ä¿¡æ¯&lt;/font&gt;ï¼Œå½“ Redis èŠ‚ç‚¹ä¸­è¯¥ä¸»é¢˜çš„ä¿¡æ¯å‘ç”Ÿäº†å˜åŒ–ï¼Œå°±ä¼šç«‹å³é€šçŸ¥åˆ°æ‰€æœ‰è®¢é˜…è€…ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	å¯åŠ¨åï¼Œæ¯ä¸ª Sentinel èŠ‚ç‚¹æ¯ 2 ç§’å°±ä¼šå‘æ¯ä¸ª Redis èŠ‚ç‚¹å‘å¸ƒä¸€æ¡  &lt;code&gt;__sentinel__:hello&lt;/code&gt;  ä¸»é¢˜çš„ä¿¡æ¯ï¼Œè¯¥ä¿¡æ¯æ˜¯&lt;font color=&#39;red&#39;&gt;å½“å‰ Sentinel å¯¹æ¯ä¸ª Redis èŠ‚ç‚¹åœ¨çº¿çŠ¶æ€çš„åˆ¤æ–­ç»“æœåŠå½“å‰ Sentinel èŠ‚ç‚¹ä¿¡æ¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	å½“ Sentinel èŠ‚ç‚¹æ¥æ”¶åˆ°  &lt;code&gt;__sentinel__:hello&lt;/code&gt;  ä¸»é¢˜ä¿¡æ¯åï¼Œå°±ä¼šè¯»å–å¹¶è§£æè¿™äº›ä¿¡æ¯ï¼Œç„¶åä¸»è¦å®Œæˆä»¥ä¸‹ä¸‰é¡¹å·¥ä½œï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœå‘ç°&lt;font color=&#39;red&#39;&gt;æœ‰æ–°çš„ Sentinel èŠ‚ç‚¹åŠ å…¥&lt;/font&gt;ï¼Œåˆ™è®°å½•ä¸‹æ–°åŠ å…¥ Sentinel èŠ‚ç‚¹ä¿¡æ¯ï¼Œå¹¶ä¸å…¶å»ºç«‹è¿æ¥ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœå‘ç°&lt;font color=&#39;red&#39;&gt;æœ‰ Sentinel Leader é€‰ä¸¾çš„é€‰ç¥¨ä¿¡æ¯&lt;/font&gt;ï¼Œåˆ™æ‰§è¡Œ Leader é€‰ä¸¾è¿‡ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æ±‡æ€»å…¶å®ƒ Sentinel èŠ‚ç‚¹å¯¹å½“å‰ Redis èŠ‚ç‚¹åœ¨çº¿çŠ¶æ€çš„åˆ¤æ–­ç»“æœ&lt;/font&gt;ï¼Œä½œä¸º Redis èŠ‚ç‚¹å®¢è§‚ä¸‹çº¿çš„åˆ¤æ–­ä¾æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;redis-èŠ‚ç‚¹ä¸‹çº¿downåˆ¤æ–­&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-èŠ‚ç‚¹ä¸‹çº¿downåˆ¤æ–­&#34;&gt;#&lt;/a&gt; Redis èŠ‚ç‚¹ä¸‹çº¿ï¼ˆDOWNï¼‰åˆ¤æ–­&lt;/h4&gt;
&lt;p&gt;å¯¹äºæ¯ä¸ª Redis èŠ‚ç‚¹åœ¨çº¿çŠ¶æ€çš„ç›‘æ§æ˜¯ç”± Sentinel å®Œæˆçš„ã€‚&lt;/p&gt;
&lt;h5 id=&#34;ä¸»è§‚ä¸‹çº¿subjectively-down&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸»è§‚ä¸‹çº¿subjectively-down&#34;&gt;#&lt;/a&gt; ä¸»è§‚ä¸‹çº¿ï¼ˆSubjectively DOWNï¼‰&lt;/h5&gt;
&lt;p&gt;æ¯ä¸ª Sentinel èŠ‚ç‚¹æ¯ç§’å°±ä¼šå‘æ¯ä¸ª Redis èŠ‚ç‚¹å‘é€  &lt;code&gt;ping&lt;/code&gt;  å¿ƒè·³æ£€æµ‹ï¼Œå¦‚æœ Sentinel åœ¨ [down-after-milliseconds] æ—¶é—´å†…&lt;font color=&#39;red&#39;&gt;æ²¡æœ‰æ”¶åˆ°æŸ Redis èŠ‚ç‚¹çš„å›å¤&lt;/font&gt;ï¼Œåˆ™ Sentinel èŠ‚ç‚¹å°±ä¼šå¯¹è¯¥ Redis èŠ‚ç‚¹åšå‡º â€œä¸‹çº¿çŠ¶æ€â€ çš„åˆ¤æ–­ã€‚è¿™ä¸ªåˆ¤æ–­ **&lt;font color=&#39;red&#39;&gt;ä»…ä»…æ˜¯å½“å‰ Sentinel èŠ‚ç‚¹çš„ â€œä¸€å®¶ä¹‹è¨€â€&lt;/font&gt;**ï¼Œæ‰€ä»¥ç§°ä¸ºä¸»è§‚ä¸‹çº¿ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-master-slave-sentinel-ping-sdown.png&#34; alt=&#34;redis-master-slave-sentinel-ping-sdown.png&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;å®¢è§‚ä¸‹çº¿objectively-down&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®¢è§‚ä¸‹çº¿objectively-down&#34;&gt;#&lt;/a&gt; å®¢è§‚ä¸‹çº¿ï¼ˆObjectively DOWNï¼‰&lt;/h5&gt;
&lt;p&gt;å½“ Sentinel ä¸»è§‚ä¸‹çº¿çš„èŠ‚ç‚¹æ˜¯ master æ—¶ï¼Œè¯¥ Sentinel èŠ‚ç‚¹ä¼šå‘æ¯ä¸ªå…¶å®ƒ Sentinel èŠ‚ç‚¹å‘é€  &lt;code&gt;sentinel is-master-down-by-addr&lt;/code&gt;  å‘½ä»¤ï¼Œä»¥è¯¢é—®å…¶å¯¹ master åœ¨çº¿çŠ¶æ€çš„åˆ¤æ–­ç»“æœã€‚è¿™äº› Sentinel èŠ‚ç‚¹åœ¨æ”¶åˆ°å‘½ä»¤åä¼šå‘è¿™ä¸ªå‘é—® Sentinel èŠ‚ç‚¹å“åº” 0ï¼ˆåœ¨çº¿ï¼‰æˆ– 1ï¼ˆä¸‹çº¿ï¼‰ã€‚&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å½“ Sentinel æ”¶åˆ°è¶…è¿‡ quorum ä¸ªï¼ˆé€šå¸¸ä¸ºè¿‡åŠï¼‰ä¸‹çº¿åˆ¤æ–­åï¼Œå°±ä¼šå¯¹ master åšå‡ºå®¢è§‚ä¸‹çº¿åˆ¤æ–­&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/redis-master-slave-sentinel-ping-odown.png&#34; alt=&#34;redis-master-slave-sentinel-ping-odown.png&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;sentinel-leader-é€‰ä¸¾raft-ç®—æ³•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sentinel-leader-é€‰ä¸¾raft-ç®—æ³•&#34;&gt;#&lt;/a&gt; Sentinel Leader é€‰ä¸¾ï¼ˆRaft ç®—æ³•ï¼‰&lt;/h4&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å½“ Sentinel èŠ‚ç‚¹å¯¹ master åšå‡ºå®¢è§‚ä¸‹çº¿åˆ¤æ–­åï¼Œ&lt;strong&gt;ç”± Sentinel Leader æ¥å®Œæˆåç»­çš„æ•…éšœè½¬ç§»&lt;/strong&gt;&lt;/font&gt;ã€‚å³ Sentinel é›†ç¾¤ä¸­çš„èŠ‚ç‚¹ä¹Ÿå¹¶éæ˜¯å¯¹ç­‰èŠ‚ç‚¹ï¼Œæ˜¯å­˜åœ¨ Leader ä¸ Follower çš„ã€‚&lt;/p&gt;
&lt;p&gt;Sentinel Leader çš„é€‰ä¸¾æ˜¯é€šè¿‡ &lt;strong&gt;&lt;font color=&#39;orange&#39;&gt;Raft ç®—æ³•&lt;/font&gt;&lt;/strong&gt; å®ç°çš„ã€‚Raft ç®—æ³•æ¯”è¾ƒå¤æ‚ï¼Œåé¢ä¼šè¯¦ç»†å­¦ä¹ ï¼Œè¿™é‡Œä»…ç®€å•ä»‹ç»ä¸€ä¸‹ **&lt;font color=&#39;red&#39;&gt;å¤§è‡´æ€è·¯ï¼ˆå…ˆåˆ°å…ˆå¾—ï¼‰&lt;/font&gt;**ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ¯ä¸ª Sentinel é€‰ä¸¾å‚ä¸è€…éƒ½å…·æœ‰å½“é€‰ Leader çš„èµ„æ ¼ï¼Œå½“å…¶å®Œæˆäº† â€œå®¢è§‚ä¸‹çº¿â€ åˆ¤æ–­åï¼Œå°±ä¼šç«‹å³ &lt;font color=&#39;red&#39;&gt;â€œæ¯›é‚è‡ªèâ€&lt;/font&gt; æ¨é€‰è‡ªå·±åš Leaderï¼Œå°†è‡ªå·±çš„ææ¡ˆå‘é€ç»™æ‰€æœ‰ Sentinel å‚ä¸è€…ã€‚&lt;/li&gt;
&lt;li&gt;å…¶å®ƒå‚ä¸è€…åœ¨æ”¶åˆ°ææ¡ˆåï¼Œ&lt;font color=&#39;red&#39;&gt;åªè¦è‡ªå·±æ‰‹ä¸­çš„é€‰ç¥¨æ²¡æœ‰æŠ•å‡ºå»ï¼Œå…¶å°±ä¼šç«‹å³é€šè¿‡è¯¥ææ¡ˆ&lt;/font&gt;ï¼Œå¹¶å°†åŒæ„ç»“æœåé¦ˆç»™ææ¡ˆè€…ã€‚&lt;/li&gt;
&lt;li&gt;åç»­å†è¿‡æ¥çš„ææ¡ˆä¼šç”±äºè¯¥å‚ä¸è€…æ²¡æœ‰äº†é€‰ç¥¨è€Œè¢«æ‹’ç»ã€‚&lt;/li&gt;
&lt;li&gt;å½“ææ¡ˆè€…æ”¶åˆ°äº†åŒæ„åé¦ˆæ•°é‡å¤§äºç­‰äº max (quorumï¼Œ sentinelNum/2+1) æ—¶ï¼Œè¯¥ææ¡ˆè€…å½“é€‰ Leaderã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ç½‘ç»œæ²¡æœ‰é—®é¢˜çš„å‰æä¸‹ï¼ŒåŸºæœ¬å°±æ˜¯è°å…ˆåšå‡ºäº† â€œå®¢è§‚ä¸‹çº¿â€ åˆ¤æ–­ï¼Œè°å°±ä¼šé¦–å…ˆå‘èµ· Sentinel Leader çš„é€‰ä¸¾ï¼Œè°å°±ä¼šå¾—åˆ°å¤§å¤šæ•°å‚ä¸è€…çš„æ”¯æŒï¼Œè°å°±ä¼šå½“é€‰ Leaderã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;Sentinel Leader é€‰ä¸¾åœ¨æ•…éšœè½¬ç§»å‘ç”Ÿä¹‹å‰è¿›è¡Œ&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æ•…éšœè½¬ç§»ç»“æŸå Sentinel ä¸å†ç»´æŠ¤è¿™ç§ Leader-Follower å…³ç³»&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;master-é€‰ä¸¾&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#master-é€‰ä¸¾&#34;&gt;#&lt;/a&gt; Master é€‰ä¸¾&lt;/h4&gt;
&lt;p&gt;åœ¨è¿›è¡Œæ•…éšœè½¬ç§»æ—¶ï¼ŒSentinel Leader éœ€è¦ä»æ‰€æœ‰ Redis çš„ Slave èŠ‚ç‚¹ä¸­é€‰æ‹©å‡ºæ–°çš„ Masterã€‚å…¶é€‰æ‹©ç®—æ³•ä¸ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;è¿‡æ»¤æ‰æ‰€æœ‰ä¸»è§‚ä¸‹çº¿çš„ï¼Œæˆ–å¿ƒè·³æ²¡æœ‰å“åº” Sentinel çš„ï¼Œæˆ– replica-priority å€¼ä¸º 0 çš„ Redis èŠ‚ç‚¹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;slave ä¼˜å…ˆçº§&lt;/strong&gt;ï¼šåœ¨å‰©ä½™ Redis èŠ‚ç‚¹ä¸­é€‰æ‹©å‡º &lt;font color=&#39;red&#39;&gt; &lt;code&gt;replica-priority&lt;/code&gt;  æœ€å°&lt;/font&gt;çš„çš„èŠ‚ç‚¹åˆ—è¡¨ã€‚å¦‚æœåªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œå¦åˆ™ï¼Œç»§ç»­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¤åˆ¶è¿›åº¦&lt;/strong&gt;ï¼šä»ä¼˜å…ˆçº§ç›¸åŒçš„èŠ‚ç‚¹åˆ—è¡¨ä¸­é€‰æ‹©&lt;font color=&#39;red&#39;&gt;å¤åˆ¶åç§»é‡æœ€å¤§&lt;/font&gt;çš„èŠ‚ç‚¹ã€‚å¦‚æœåªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œå¦åˆ™ï¼Œç»§ç»­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;runidï¼ˆè¿è¡Œ idï¼‰&lt;/strong&gt;ï¼šä»å¤åˆ¶åç§»å€¼é‡ç›¸åŒçš„èŠ‚ç‚¹åˆ—è¡¨ä¸­é€‰æ‹©&lt;font color=&#39;red&#39;&gt;runid æœ€å°&lt;/font&gt;çš„èŠ‚ç‚¹è¿”å›&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808165640759.png&#34; alt=&#34;image-20230808165640759&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;æ•…éšœè½¬ç§»failoveræµç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•…éšœè½¬ç§»failoveræµç¨‹&#34;&gt;#&lt;/a&gt; æ•…éšœè½¬ç§»ï¼ˆfailoverï¼‰æµç¨‹&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é›†ç¾¤æ­£å¸¸è¿è¡Œ&lt;/strong&gt;ï¼š3 ä¸ª sentinel ç›‘æ§ä¸€ä¸»äºŒä»é›†ç¾¤ï¼Œæ­£å¸¸è¿è¡Œä¸­&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808161905591.png&#34; alt=&#34;image-20230808161905591&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;SDown ä¸»è§‚ä¸‹çº¿ï¼ˆSubjectively Downï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šæŒ‡çš„æ˜¯&lt;font color=&#39;red&#39;&gt;å•ä¸ª Sentinel å®ä¾‹&lt;/font&gt;å¯¹ master æœåŠ¡å™¨åšå‡ºçš„ä¸‹çº¿åˆ¤æ–­ï¼ˆæœ‰å¯èƒ½æ˜¯æ¥æ”¶ä¸åˆ°è®¢é˜…ï¼Œä¹‹é—´çš„ç½‘ç»œä¸é€šç­‰ç­‰åŸå› ï¼‰ã€‚å¦‚æœ master æœåŠ¡å™¨åœ¨ [ &lt;code&gt;sentinel down-after-milliseconds&lt;/code&gt; ] ç»™å®šçš„æ¯«ç§’æ•°ä¹‹å†…æ²¡æœ‰å›åº” PING å‘½ä»¤ï¼Œæˆ–è€…è¿”å›ä¸€ä¸ªé”™è¯¯æ¶ˆæ¯ï¼Œé‚£ä¹ˆè¿™ä¸ª Sentinel ä¼šä¸»è§‚çš„ (&lt;font color=&#39;red&#39;&gt;å•æ–¹é¢çš„&lt;/font&gt;) è®¤ä¸ºè¿™ä¸ª master ä¸å¯ä»¥ç”¨äº†ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;sentinel é…ç½®æ–‡ä»¶ä¸­çš„ &lt;code&gt;sentinel down-after-milliseconds &amp;lt;masterName&amp;gt; &amp;lt;timeout&amp;gt;&lt;/code&gt;  è®¾ç½®äº†åˆ¤æ–­ä¸»è§‚ä¸‹çº¿çš„æ—¶é—´é•¿åº¦ï¼Œè¡¨ç¤º master è¢«å½“å‰ sentinel å®ä¾‹è®¤å®šä¸ºå¤±æ•ˆçš„é—´éš”æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808162539926.png&#34; alt=&#34;image-20230808162539926&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ODown å®¢è§‚ä¸‹çº¿ï¼ˆObjectively Downï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šéœ€è¦ä¸€å®šæ•°é‡çš„ sentinelï¼Œ&lt;font color=&#39;red&#39;&gt;å¤šä¸ª sentinel è¾¾æˆä¸€è‡´æ„è§&lt;/font&gt;æ‰èƒ½è®¤ä¸ºä¸€ä¸ª master å®¢è§‚ä¸Šå·²ç»å®•æ‰ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808162827271.png&#34; alt=&#34;image-20230808162827271&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;master-name&lt;/code&gt;  æ˜¯å¯¹æŸä¸ª master+slave ç»„åˆçš„ä¸€ä¸ªåŒºåˆ†æ ‡è¯† (ä¸€å¥— sentinel å¯ä»¥ç›‘å¬å¤šç»„ master+slave è¿™æ ·çš„ç»„åˆ)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;quorum&lt;/code&gt;  è¿™ä¸ªå‚æ•°æ˜¯è¿›è¡Œå®¢è§‚ä¸‹çº¿çš„ä¸€ä¸ªä¾æ®&lt;/strong&gt;ï¼Œå³æ³•å®šäººæ•° / æ³•å®šç¥¨æ•°ã€‚æ„æ€æ˜¯è‡³å°‘æœ‰ quorum ä¸ª sentinel è®¤ä¸ºè¿™ä¸ª master æœ‰æ•…éšœæ‰ä¼šå¯¹è¿™ä¸ª master è¿›è¡Œä¸‹çº¿ä»¥åŠæ•…éšœè½¬ç§»ã€‚å› ä¸ºæœ‰çš„æ—¶å€™ï¼ŒæŸä¸ª sentinel èŠ‚ç‚¹å¯èƒ½å› ä¸ºè‡ªèº«ç½‘ç»œåŸå› å¯¼è‡´æ— æ³•è¿æ¥ masterï¼Œè€Œæ­¤æ—¶ master å¹¶æ²¡æœ‰å‡ºç°æ•…éšœï¼Œæ‰€ä»¥è¿™å°±éœ€è¦å¤šä¸ª sentinel éƒ½ä¸€è‡´è®¤ä¸ºè¯¥ master æœ‰é—®é¢˜ï¼Œæ‰å¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œï¼Œè¿™å°±ä¿è¯äº†å…¬å¹³æ€§å’Œé«˜å¯ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Sentinel Leader é€‰ä¸¾&lt;/strong&gt;ï¼šä» sentinel é›†ç¾¤ä¸­é€‰å‡º &lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;Sentinel Leaderï¼ˆå…µç‹ï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šå½“ master è¢«åˆ¤æ–­ ODown ä»¥åï¼Œå„ä¸ª sentinel èŠ‚ç‚¹ä¼šè¿›è¡Œåå•†ï¼Œå…ˆé€šè¿‡&lt;font color=&#39;orange&#39;&gt;Raft ç®—æ³•&lt;/font&gt;é€‰ä¸¾å‡ºä¸€ä¸ª Sentinel Leaderï¼Œ&lt;font color=&#39;red&#39;&gt;ç”±å®ƒè¿›è¡Œ failover (æ•…éšœè¿ç§»)&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç›‘è§†è¯¥ Master çš„æ‰€æœ‰ Sentinel éƒ½æœ‰å¯èƒ½è¢«é€‰ä¸º Leaderï¼Œé€‰ä¸¾ä½¿ç”¨çš„ç®—æ³•æ˜¯ Raft ç®—æ³•ï¼Œå…¶åŸºæœ¬æ€è·¯æ˜¯ **&lt;font color=&#39;red&#39;&gt;å…ˆåˆ°å…ˆå¾—&lt;/font&gt;**ï¼šå³åœ¨ä¸€è½®é€‰ä¸¾ä¸­ï¼ŒSentinel A å‘ Sentinel B å‘é€æˆä¸º Leader çš„ç”³è¯·ï¼Œå¦‚æœ Sentinel B æ²¡æœ‰åŒæ„è¿‡å…¶ä»– Sentinelï¼Œåˆ™å®ƒä¼šåŒæ„ Sentinel A æˆä¸º Leader&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808164314705.png&#34; alt=&#34;image-20230808164314705&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä»ä¸‰ä¸ª sentinel å®ä¾‹çš„ log æ–‡ä»¶ä¸­å¯ä»¥çœ‹è§å…µç‹çš„è¯ç”Ÿè¿‡ç¨‹ä»¥åŠå…µç‹æ‰§è¡Œæ•…éšœè¿ç§»çš„è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808163922904.png&#34; alt=&#34;image-20230808163922904&#34; /&gt;&lt;/p&gt;
&lt;center&gt;sentinel26379.log&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808163958440.png&#34; alt=&#34;image-20230808163958440&#34; /&gt;&lt;/p&gt;
&lt;center&gt;&lt;font color=&#39;red&#39;&gt;sentinel26380.log&lt;/font&gt;&lt;/font&gt;&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808164037410.png&#34; alt=&#34;image-20230808164037410&#34; /&gt;&lt;/p&gt;
&lt;center&gt;sentinel26381.log&lt;/center&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;orange&#39;&gt;æ•…éšœè½¬ç§»ï¼Œé€‰ä¸¾æ–°çš„ master&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ–°ä¸»ç™»åŸº&lt;/strong&gt;ï¼š**&lt;font color=&#39;orange&#39;&gt;æ–° master é€‰ä¸¾ç®—æ³•&lt;/font&gt;** å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;ä¼˜å…ˆçº§é«˜&lt;/font&gt;ï¼šæ‰€æœ‰ slave ä¸­ï¼Œæ ¹æ® redis.conf é…ç½®æ–‡ä»¶ä¸­çš„ä¼˜å…ˆçº§ &lt;code&gt;slave-priority&lt;/code&gt;  æˆ–è€… &lt;code&gt;replica-priority&lt;/code&gt; ï¼Œé€‰æ‹©ä¼˜å…ˆçº§æœ€é«˜çš„ slave ä½œä¸ºæ–° masterã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808170206385.png&#34; alt=&#34;image-20230808170206385&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;å¤åˆ¶åç§»å¤§&lt;/font&gt;ï¼šæ‰€æœ‰ slave ä¸­ï¼Œæ ¹æ®å¤åˆ¶åç§»ä½ç½® &lt;code&gt;offset&lt;/code&gt; ï¼Œè¯¥å€¼æœ€å¤§çš„ slave ä½œä¸ºæ–° masterã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;Run ID å°&lt;/font&gt;ï¼šæ‰€æœ‰ slave ä¸­ï¼Œé€‰æ‹© Run ID æœ€å°çš„ slave ä½œä¸ºæ–° masterï¼Œæ˜¯æŒ‰ç…§å­—å…¸é¡ºåºï¼ŒASCII ç ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230808165640759.png&#34; alt=&#34;image-20230808165640759&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¾¤è‡£ä¿¯é¦–&lt;/strong&gt;ï¼šä¸€æœå¤©å­ä¸€æœè‡£ï¼Œæ¢ä¸ªç å¤´é‡æ–°æ‹œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Sentinel leader ä¼šå¯¹é€‰ä¸¾å‡ºçš„ slave æ‰§è¡Œ  &lt;code&gt;SLAVEOF NO ONE&lt;/code&gt;  å‘½ä»¤ï¼Œå°†å…¶ææ‹”ä¸ºæ–° master&lt;/li&gt;
&lt;li&gt;Sentinel leader å‘å…¶ä½™ slave å‘é€  &lt;code&gt;SLAVEOF&lt;/code&gt;  å‘½ä»¤ï¼Œä½¿å®ƒä»¬æˆä¸ºæ–° master çš„ slave&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ—§ä¸»æ‹œæœ&lt;/strong&gt;ï¼šè€ master å›æ¥ä¹Ÿè®¤æ€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è€ master æˆä¸ºæ–° master çš„ slave&lt;/li&gt;
&lt;li&gt;Sentinel leader ä¼šè®©è€ master é™çº§ä¸º slaveï¼Œå¹¶æ¢å¤æ­£å¸¸å·¥ä½œ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ€»ç»“ï¼šä¸Šè¿° failoverï¼ˆæ•…éšœè¿ç§»ï¼‰å‡ç”± sentinel ç‹¬è‡ªå®Œæˆï¼Œæ— éœ€äººå·¥å¹²é¢„ï¼Œå› æ­¤ç§°ä¹‹ä¸º&lt;strong&gt;æ— äººå€¼å®ˆå®‰è£…&lt;/strong&gt;ï¼&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;redis-èŠ‚ç‚¹ä¸Šçº¿&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-èŠ‚ç‚¹ä¸Šçº¿&#34;&gt;#&lt;/a&gt; Redis èŠ‚ç‚¹ä¸Šçº¿&lt;/h4&gt;
&lt;p&gt;ä¸åŒçš„èŠ‚ç‚¹ç±»å‹ï¼Œå…¶ä¸Šçº¿çš„æ–¹å¼ä¹Ÿæ˜¯ä¸åŒçš„ã€‚&lt;/p&gt;
&lt;h5 id=&#34;åŸèŠ‚ç‚¹ä¸Šçº¿&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸèŠ‚ç‚¹ä¸Šçº¿&#34;&gt;#&lt;/a&gt; åŸèŠ‚ç‚¹ä¸Šçº¿&lt;/h5&gt;
&lt;p&gt;æ— è®ºæ˜¯åŸä¸‹çº¿çš„ master èŠ‚ç‚¹è¿˜æ˜¯åŸä¸‹çº¿çš„ slave èŠ‚ç‚¹ï¼Œåªè¦æ˜¯åŸ Redis é›†ç¾¤ä¸­çš„èŠ‚ç‚¹ä¸Šçº¿ï¼Œ&lt;font color=&#39;red&#39;&gt;åªéœ€å¯åŠ¨ Redis å³å¯&lt;/font&gt;ã€‚å› ä¸ºæ¯ä¸ª Sentinel ä¸­éƒ½ä¿å­˜æœ‰åŸæ¥å…¶ç›‘æ§çš„æ‰€æœ‰ Redis èŠ‚ç‚¹åˆ—è¡¨ï¼ŒSentinel ä¼šå®šæ—¶æŸ¥çœ‹è¿™äº› Redis èŠ‚ç‚¹æ˜¯å¦æ¢å¤ã€‚&lt;font color=&#39;red&#39;&gt;å¦‚æœ Sentinel æŸ¥çœ‹åˆ°å…¶å·²ç»æ¢å¤ï¼Œåˆ™ä¼šå‘½å…¶ä»å½“å‰ master è¿›è¡Œæ•°æ®åŒæ­¥&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œ&lt;font color=&#39;red&#39;&gt;å¦‚æœæ˜¯åŸ master ä¸Šçº¿ï¼Œåœ¨æ–° master æ™‹å‡å Sentinel Leader ä¼šç«‹å³å…ˆå°†åŸ master èŠ‚ç‚¹æ›´æ–°ä¸º slaveï¼Œç„¶åæ‰ä¼šå®šæ—¶æŸ¥çœ‹å…¶æ˜¯å¦æ¢å¤&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;æ–°èŠ‚ç‚¹ä¸Šçº¿&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ–°èŠ‚ç‚¹ä¸Šçº¿&#34;&gt;#&lt;/a&gt; æ–°èŠ‚ç‚¹ä¸Šçº¿&lt;/h5&gt;
&lt;p&gt;å¦‚æœéœ€è¦åœ¨ Redis é›†ç¾¤ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œå…¶æœªæ›¾å‡ºç°åœ¨ Redis é›†ç¾¤ä¸­ï¼Œåˆ™ä¸Šçº¿æ“ä½œ&lt;font color=&#39;red&#39;&gt;åªèƒ½æ‰‹å·¥å®Œæˆ&lt;/font&gt;ã€‚å³æ·»åŠ è€…åœ¨æ·»åŠ ä¹‹å‰å¿…é¡»çŸ¥é“å½“å‰ master æ˜¯è°ï¼Œç„¶ååœ¨æ–°èŠ‚ç‚¹å¯åŠ¨å&lt;font color=&#39;red&#39;&gt;è¿è¡Œ  &lt;code&gt;slaveof&lt;/code&gt;  å‘½ä»¤åŠ å…¥é›†ç¾¤&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;sentinel-èŠ‚ç‚¹ä¸Šçº¿&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sentinel-èŠ‚ç‚¹ä¸Šçº¿&#34;&gt;#&lt;/a&gt; Sentinel èŠ‚ç‚¹ä¸Šçº¿&lt;/h5&gt;
&lt;p&gt;å¦‚æœè¦æ·»åŠ çš„æ˜¯ Sentinel èŠ‚ç‚¹ï¼Œæ— è®ºå…¶æ˜¯å¦æ›¾ç»å‡ºç°åœ¨ Sentinel é›†ç¾¤ä¸­ï¼Œéƒ½éœ€è¦&lt;font color=&#39;red&#39;&gt;æ‰‹å·¥å®Œæˆ&lt;/font&gt;ã€‚å³æ·»åŠ è€…åœ¨æ·»åŠ ä¹‹å‰å¿…é¡»çŸ¥é“å½“å‰ master æ˜¯è°ï¼Œç„¶ååœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ sentinel monitor å±æ€§ï¼Œ&lt;font color=&#39;red&#39;&gt;æŒ‡å®šè¦ç›‘æ§çš„ masterï¼Œç„¶åå¯åŠ¨ Sentinel å³å¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;sentinel-ä½¿ç”¨å»ºè®®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sentinel-ä½¿ç”¨å»ºè®®&#34;&gt;#&lt;/a&gt; Sentinel ä½¿ç”¨å»ºè®®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å“¨å…µçš„æ•°é‡åº”ä¸ºå¤šä¸ªï¼Œä¸”å¥‡æ•°&lt;/font&gt;&lt;/strong&gt;ã€‚å“¨å…µæœ¬èº«åº”è¯¥é›†ç¾¤ï¼Œä¿è¯é«˜å¯ç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å„ä¸ªå“¨å…µçš„é…ç½®åº”ä¸€è‡´&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœå“¨å…µéƒ¨ç½²åœ¨ Docker ç­‰å®¹å™¨é‡Œé¢ï¼Œå°¤å…¶è¦&lt;font color=&#39;red&#39;&gt;æ³¨æ„ç«¯å£çš„æ­£ç¡®æ˜ å°„&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ä¸»ä»å¤åˆ¶ + å“¨å…µ&lt;/code&gt;  æœºåˆ¶ **&lt;font color=&#39;#B32015&#39;&gt;å¹¶ä¸èƒ½ç¡®ä¿æ•°æ®é›¶ä¸¢å¤±&lt;/font&gt;**ã€‚å› ä¸ºä» master æŒ‚æ‰åˆ°é€‰ä¸¾å‡ºæ–° master çš„è¿™æ®µæ—¶é—´å†…ï¼Œæ— æ³•æ‰§è¡Œå†™å‘½ä»¤ï¼&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¼•å‡º&lt;strong&gt;é›†ç¾¤ï¼ˆclusterï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;åˆ†å¸ƒå¼ç³»ç»Ÿåˆ‡ç‰‡é›†ç¾¤cluster&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†å¸ƒå¼ç³»ç»Ÿåˆ‡ç‰‡é›†ç¾¤cluster&#34;&gt;#&lt;/a&gt; åˆ†å¸ƒå¼ç³»ç»Ÿ / åˆ‡ç‰‡é›†ç¾¤ï¼ˆclusterï¼‰&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½œä¸º Redis å®ç°é«˜å¯ç”¨çš„ä¸€ç§æ–¹æ¡ˆï¼Œä¼˜äº  &lt;code&gt;ä¸»ä»å¤åˆ¶ + Sentinel&lt;/code&gt;  æ–¹æ¡ˆï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Redis åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå®˜æ–¹ç§°ä¸º Redis Clusterï¼Œ Redis é›†ç¾¤ï¼Œå…¶æ˜¯ Redis 3.0 å¼€å§‹æ¨å‡ºçš„åˆ†å¸ƒå¼è§£å†³æ–¹æ¡ˆã€‚å…¶å¯ä»¥&lt;font color=&#39;red&#39;&gt;å¾ˆå¥½åœ°è§£å†³ä¸åŒ Redis èŠ‚ç‚¹å­˜æ”¾ä¸åŒæ•°æ®ï¼Œå¹¶å°†ç”¨æˆ·è¯·æ±‚æ–¹ä¾¿åœ°è·¯ç”±åˆ°ä¸åŒ Redis çš„é—®é¢˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å·²ç»æœ‰ä¸»ä»å¤åˆ¶-sentineläº†ä¸ºä»€ä¹ˆè¿˜éœ€è¦-redis-cluster&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å·²ç»æœ‰ä¸»ä»å¤åˆ¶-sentineläº†ä¸ºä»€ä¹ˆè¿˜éœ€è¦-redis-cluster&#34;&gt;#&lt;/a&gt; å·²ç»æœ‰ä¸»ä»å¤åˆ¶ã€Sentinel äº†ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦ Redis Clusterï¼Ÿ&lt;/h3&gt;
&lt;p&gt;ä¸»ä»å¤åˆ¶å’Œ Redis Sentinel è¿™ä¸¤ç§æ–¹æ¡ˆæœ¬è´¨éƒ½æ˜¯é€šè¿‡å¢åŠ ä¸»åº“ï¼ˆmasterï¼‰çš„å‰¯æœ¬ï¼ˆslaveï¼‰æ•°é‡çš„æ–¹å¼æ¥æé«˜ Redis æœåŠ¡çš„æ•´ä½“å¯ç”¨æ€§å’Œè¯»ååé‡ï¼Œ&lt;font color=&#39;red&#39;&gt;éƒ½ä¸æ”¯æŒæ¨ªå‘æ‰©å±•æ¥ç¼“è§£å†™å‹åŠ›ï¼Œä»¥åŠè§£å†³ç¼“å­˜æ•°æ®é‡è¿‡å¤§çš„é—®é¢˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/f682fc80-930c-4e35-978b-496b856d790b.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é€šå¸¸æƒ…å†µä¸‹ï¼Œæ›´å»ºè®®ä½¿ç”¨ **&lt;font color=&#39;#B32015&#39;&gt;Redis åˆ‡ç‰‡é›†ç¾¤ï¼ˆclusterï¼‰&lt;/font&gt;** è¿™ç§æ–¹æ¡ˆï¼Œæ›´èƒ½æ»¡è¶³é«˜å¹¶å‘åœºæ™¯ä¸‹åˆ†å¸ƒå¼ç¼“å­˜çš„è¦æ±‚ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ˜¯ä»€ä¹ˆ-10&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ˜¯ä»€ä¹ˆ-10&#34;&gt;#&lt;/a&gt; æ˜¯ä»€ä¹ˆ&lt;/h3&gt;
&lt;p&gt;ç®€å•æ¥è¯´å°±æ˜¯ **&lt;font color=&#39;red&#39;&gt;éƒ¨ç½²å¤šå° masterï¼Œå®ƒä»¬ä¹‹é—´å¹³ç­‰ï¼Œæ¯ä¸ª master åªå­˜å‚¨æ•´ä¸ªæ•°æ®åº“çš„ä¸€éƒ¨åˆ†æ•°æ®ï¼ŒåŒæ—¶å¯¹å¤–æä¾›è¯» / å†™æœåŠ¡ï¼Œå®ç°è´Ÿè½½å‡è¡¡&lt;/font&gt;**ã€‚&lt;font color=&#39;red&#39;&gt;ç¼“å­˜çš„æ•°æ®åº“ç›¸å¯¹å‡åŒ€åœ°åˆ†å¸ƒåœ¨è¿™äº› Redis å®ä¾‹ä¸Šï¼Œå®¢æˆ·ç«¯çš„è¯·æ±‚é€šè¿‡ &lt;code&gt;è·¯ç”±è§„åˆ™&lt;/code&gt; è½¬å‘åˆ°ç›®æ ‡ master ä¸Š&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ä¿éšœé›†ç¾¤æ•´ä½“çš„é«˜å¯ç”¨ï¼Œæˆ‘ä»¬éœ€è¦ä¿è¯é›†ç¾¤ä¸­æ¯ä¸€ä¸ª master çš„é«˜å¯ç”¨ï¼Œ&lt;font color=&#39;red&#39;&gt;å¯ä»¥é€šè¿‡ä¸»ä»å¤åˆ¶ç»™æ¯ä¸ª master é…ç½®ä¸€ä¸ªæˆ–è€…å¤šä¸ªä»èŠ‚ç‚¹ï¼ˆslaveï¼‰&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/bd28bbbd-0ed4-46e6-ba94-aba9c730934d.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;Redis åˆ‡ç‰‡é›†ç¾¤å¯¹äºæ¨ªå‘æ‰©å±•éå¸¸å‹å¥½ï¼Œåªéœ€è¦å¢åŠ  Redis èŠ‚ç‚¹åˆ°é›†ç¾¤ä¸­å³å¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä½œç”¨-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½œç”¨-3&#34;&gt;#&lt;/a&gt; ä½œç”¨&lt;/h3&gt;
&lt;p&gt;Redis Cluster çš„åŠŸèƒ½æ€»ç»“å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æ”¯æŒå¤šä¸ª Master&lt;/font&gt;&lt;/strong&gt;ï¼Œæ¯ä¸ª Master åˆå¯ä»¥æŒ‚è½½å¤šä¸ª Slaveã€‚
&lt;ul&gt;
&lt;li&gt;è¯»å†™åˆ†ç¦»&lt;/li&gt;
&lt;li&gt;æ”¯æŒæ•°æ®çš„é«˜å¯ç”¨&lt;/li&gt;
&lt;li&gt;æ”¯æŒæµ·é‡æ•°æ®çš„è¯»å†™å­˜å‚¨æ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;è‡ªå¸¦æ•…éšœè½¬ç§»ï¼ˆfailoverï¼‰æœºåˆ¶&lt;/font&gt;&lt;/strong&gt;ï¼Œå†…ç½®äº†é«˜å¯ç”¨çš„æ”¯æŒï¼Œ&lt;font color=&#39;red&#39;&gt;æ— éœ€å†å»ä½¿ç”¨å“¨å…µåŠŸèƒ½&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®¢æˆ·ç«¯åªéœ€è¿æ¥é›†ç¾¤ä¸­çš„ä»»æ„ä¸€ä¸ªå¯ç”¨ Master èŠ‚ç‚¹å³å¯&lt;/strong&gt;ï¼Œä¸éœ€è¦è¿æ¥é›†ç¾¤ä¸­çš„æ‰€æœ‰ Master èŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æ§½ä½ slot&lt;/font&gt;&lt;strong&gt;è´Ÿè´£åˆ†é…åˆ°å„ä¸ªç‰©ç†æœåŠ¡èŠ‚ç‚¹ï¼Œç”±å¯¹åº”çš„é›†ç¾¤æ¥è´Ÿè´£&lt;/strong&gt;ç»´æŠ¤ Redis èŠ‚ç‚¹ã€æ’æ§½ã€æ•°æ®ä¹‹é—´çš„å…³ç³»&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Redis Cluster é€šè¿‡ &lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;åˆ†ç‰‡ï¼ˆShardingï¼‰&lt;/font&gt;&lt;/strong&gt; æ¥è¿›è¡Œæ•°æ®ç®¡ç†ï¼Œæä¾› &lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä¸»ä»å¤åˆ¶ï¼ˆMaster-Slave Replicationï¼‰&lt;/font&gt;&lt;/strong&gt;ã€&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ•…éšœè½¬ç§»ï¼ˆFailoverï¼‰&lt;/font&gt;&lt;/strong&gt; ç­‰å¼€ç®±å³ç”¨çš„åŠŸèƒ½ï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿åœ°å¸®åŠ©æˆ‘ä»¬è§£å†³ Redis å¤§æ•°æ®é‡ç¼“å­˜ä»¥åŠ Redis æœåŠ¡é«˜å¯ç”¨çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;Redis Cluster è¿™ç§æ–¹æ¡ˆå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿›è¡Œ &lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ¨ªå‘æ‹“å±•ï¼ˆScale Outï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼Œå†…ç½®äº†å¼€ç®±å³ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚å½“ Redis Cluster çš„å¤„ç†èƒ½åŠ›è¾¾åˆ°ç“¶é¢ˆæ— æ³•æ»¡è¶³ç³»ç»Ÿè¦æ±‚çš„æ—¶å€™ï¼Œ&lt;font color=&#39;red&#39;&gt;ç›´æ¥åŠ¨æ€æ·»åŠ  Redis èŠ‚ç‚¹åˆ°é›†ç¾¤ä¸­å³å¯&lt;/font&gt;ã€‚æ ¹æ®å®˜æ–¹æ–‡æ¡£ä¸­çš„ä»‹ç»ï¼ŒRedis Cluster æ”¯æŒæ‰©å±•åˆ° 1000 ä¸ªèŠ‚ç‚¹ã€‚åä¹‹ï¼Œå½“ Redis Cluster çš„å¤„ç†èƒ½åŠ›è¿œè¿œæ»¡è¶³ç³»ç»Ÿè¦æ±‚ï¼Œ&lt;font color=&#39;red&#39;&gt;åŒæ ·å¯ä»¥åŠ¨æ€åˆ é™¤é›†ç¾¤ä¸­ Redis èŠ‚ç‚¹ï¼ŒèŠ‚çœèµ„æº&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;D:%5C%E5%90%84%E4%B8%AA%E7%A7%91%E7%9B%AE%5CJava%5CJavaGuide%5C%E9%9D%A2%E8%AF%95%E6%8C%87%E5%8C%97%5C%E9%9D%A2%E8%AF%95%E6%8C%87%E5%8C%97.assets%5Cbef6547a-7325-4cdc-8fa5-b3db66826be2.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥è¯´ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Redis Cluster çš„åŠ¨æ€æ‰©å®¹å’Œç¼©å®¹æ˜¯å…¶æœ€å¤§çš„ä¼˜åŠ¿&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æœ€åŸºæœ¬æ¶æ„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æœ€åŸºæœ¬æ¶æ„&#34;&gt;#&lt;/a&gt; æœ€åŸºæœ¬æ¶æ„&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†ä¿è¯é«˜å¯ç”¨ï¼ŒRedis Cluster &lt;font color=&#39;red&#39;&gt;è‡³å°‘éœ€è¦ 3 ä¸ª master ä»¥åŠ 3 ä¸ª slave&lt;/font&gt;ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ª master å¿…é¡»è‡³å°‘æœ‰ 1 ä¸ª slaveã€‚master å’Œ slave ä¹‹é—´åš&lt;font color=&#39;red&#39;&gt;ä¸»ä»å¤åˆ¶&lt;/font&gt;ï¼Œslave ä¼šå®æ—¶åŒæ­¥ master ä¸Šçš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;ä¸åŒäºæ™®é€šçš„ Redis ä¸»ä»æ¶æ„ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è¿™é‡Œçš„ slave ä¸å¯¹å¤–æä¾›è¯»æœåŠ¡ï¼Œä¸»è¦ç”¨æ¥ä¿éšœ master çš„é«˜å¯ç”¨ï¼Œå½“ master å‡ºç°æ•…éšœçš„æ—¶å€™æ›¿ä»£å®ƒ&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/7fefb5f3-1978-432b-9a6b-3e1608d033df.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœ master åªæœ‰ä¸€ä¸ª slave çš„è¯ï¼Œmaster å®•æœºä¹‹åå°±ç›´æ¥ä½¿ç”¨è¿™ä¸ª slave æ›¿ä»£ master ç»§ç»­æä¾›æœåŠ¡ï¼Œä¿è¯ Redis Cluster çš„é«˜å¯ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ master æœ‰å¤šä¸ª slave çš„è¯ï¼ŒRedis Cluster ä¸­çš„å…¶ä»–èŠ‚ç‚¹ä¼šä»è¿™ä¸ª master çš„æ‰€æœ‰ slave ä¸­é€‰å‡ºä¸€ä¸ªæ›¿ä»£ master ç»§ç»­æä¾›æœåŠ¡ã€‚Redis Cluster æ€»æ˜¯å¸Œæœ›&lt;font color=&#39;red&#39;&gt;æ•°æ®æœ€å®Œæ•´çš„&lt;/font&gt; slave è¢«æå‡ä¸ºæ–°çš„ masterã€‚&lt;/p&gt;
&lt;p&gt;Redis Cluster æ˜¯&lt;font color=&#39;red&#39;&gt;å»ä¸­å¿ƒåŒ–&lt;/font&gt;çš„ï¼ˆå„ä¸ªèŠ‚ç‚¹åŸºäº  &lt;code&gt;Gossip&lt;/code&gt;  è¿›è¡Œé€šä¿¡ï¼‰ï¼Œä»»ä½•ä¸€ä¸ª master å‡ºç°æ•…éšœï¼Œå…¶å®ƒçš„ master èŠ‚ç‚¹ä¸å—å½±å“ï¼Œå› ä¸º key æ‰¾çš„æ˜¯ **&lt;font color=&#39;red&#39;&gt;å“ˆå¸Œæ§½ï¼ˆhash slotï¼‰&lt;/font&gt;** è€Œä¸æ˜¯ Redis èŠ‚ç‚¹ã€‚ä¸è¿‡ï¼ŒRedis Cluster è‡³å°‘è¦ä¿è¯å®•æœºçš„ master æœ‰ä¸€ä¸ª slave å¯ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¦‚æœå®•æœºçš„ master æ—  slave çš„è¯ï¼Œä¸ºäº†ä¿éšœé›†ç¾¤çš„å®Œæ•´æ€§ï¼Œä¿è¯æ‰€æœ‰çš„å“ˆå¸Œæ§½éƒ½æŒ‡æ´¾ç»™äº†å¯ç”¨çš„ masterï¼Œæ•´ä¸ªé›†ç¾¤å°†ä¸å¯ç”¨&lt;/font&gt;ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯æƒ³è®©é›†ç¾¤ä¿æŒå¯ç”¨çš„è¯ï¼Œå¯ä»¥å°†  &lt;code&gt;cluster-require-full-coverage&lt;/code&gt;  è¿™ä¸ªå‚æ•°è®¾ç½®æˆ noï¼Œè¯¥å‚æ•°è¡¨ç¤ºéœ€è¦ 16384 ä¸ª slot éƒ½æ­£å¸¸è¢«åˆ†é…æ—¶ Redis Cluster æ‰å¯ä»¥å¯¹å¤–æä¾›æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¦‚æœæƒ³è¦æ·»åŠ æ–°çš„ master èŠ‚ç‚¹ï¼Œåªéœ€è¦é‡æ–°åˆ†é… hash slot å³å¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/d6eb12c9-d6a9-4f7b-b0b7-158b0d735042.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¦‚æœæƒ³è¦ç§»é™¤æŸä¸ª master èŠ‚ç‚¹ï¼Œéœ€è¦å…ˆå°†è¯¥èŠ‚ç‚¹çš„ hash slot ç§»åŠ¨åˆ°å…¶ä»–èŠ‚ç‚¹ä¸Šï¼Œè¿™æ ·æ‰å¯ä»¥è¿›è¡Œåˆ é™¤ï¼Œä¸ç„¶ä¼šæŠ¥é”™&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ•°æ®åˆ†ç‰‡ç®—æ³•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®åˆ†ç‰‡ç®—æ³•&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸæ•°æ®åˆ†ç‰‡ç®—æ³•&lt;/mark&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ç±»ä¼¼çš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Redis Cluster æ˜¯å¦‚ä½•åˆ†ç‰‡çš„ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Redis Cluster ä¸­çš„æ•°æ®æ˜¯å¦‚ä½•åˆ†å¸ƒçš„ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚ä½•ç¡®å®šç»™å®š key åº”è¯¥åˆ†å¸ƒåˆ°å“ªä¸ªå“ˆå¸Œæ§½ä¸­ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¸¸è§çš„æ•°æ®åˆ†åŒºè§„åˆ™æœ‰ä¸¤å¤§ç±»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;é¡ºåºåˆ†åŒº&lt;/font&gt;ï¼šå°†æ•°æ®&lt;font color=&#39;red&#39;&gt;æŒ‰ç…§æŸç§é¡ºåºå¹³å‡åˆ†é…&lt;/font&gt;åˆ°ä¸åŒçš„èŠ‚ç‚¹ã€‚ä¸åŒçš„é¡ºåºæ–¹å¼ï¼Œäº§ç”Ÿäº†ä¸åŒçš„åˆ†åŒºç®—æ³•ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è½®è¯¢ï¼šæ¯äº§ç”Ÿä¸€ä¸ªæ•°æ®ï¼Œå°±ä¾æ¬¡åˆ†é…åˆ°ä¸åŒçš„èŠ‚ç‚¹ã€‚å…¶åˆ†é…çš„ç»“æœæ˜¯ï¼Œåœ¨æ•°æ®æ€»é‡éå¸¸åºå¤§çš„æƒ…å†µä¸‹ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸­æ•°æ®æ˜¯å¾ˆå¹³å‡çš„ã€‚ä½†ç”Ÿäº§è€…ä¸æ•°æ®èŠ‚ç‚¹é—´çš„è¿æ¥è¦é•¿æ—¶é—´ä¿æŒã€‚&lt;/li&gt;
&lt;li&gt;æ—¶é—´ç‰‡è½®è½¬ï¼šåœ¨æŸå›ºå®šé•¿åº¦çš„æ—¶é—´ç‰‡å†…çš„æ•°æ®éƒ½ä¼šåˆ†é…åˆ°åŒä¸€ä¸ªèŠ‚ç‚¹ã€‚æ—¶é—´ç‰‡ç»“æŸï¼Œå†äº§ç”Ÿçš„æ•°æ®å°±ä¼šè¢«åˆ†é…åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚å¯èƒ½ä¼šå‡ºç°èŠ‚ç‚¹æ•°æ®ä¸å¹³å‡çš„æƒ…å†µï¼ˆå› ä¸ºæ¯ä¸ªæ—¶é—´ç‰‡å†…äº§ç”Ÿçš„æ•°æ®é‡å¯èƒ½æ˜¯ä¸åŒçš„ï¼‰ã€‚ä½†ç”Ÿäº§è€…ä¸èŠ‚ç‚¹é—´çš„è¿æ¥åªéœ€å ç”¨å½“å‰æ­£åœ¨ä½¿ç”¨çš„è¿™ä¸ªå°±å¯ä»¥ï¼Œå…¶å®ƒè¿æ¥ä½¿ç”¨å®Œæ¯•åå°±ç«‹å³é‡Šæ”¾ã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®å—ï¼šåœ¨æ•´ä½“æ•°æ®æ€»é‡ç¡®å®šçš„æƒ…å†µä¸‹ï¼Œæ ¹æ®å„ä¸ªèŠ‚ç‚¹çš„å­˜å‚¨èƒ½åŠ›ï¼Œå¯ä»¥å°†è¿æ¥çš„æŸä¸€æ•´å—æ•°æ®åˆ†é…åˆ°æŸä¸€èŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;ä¸šåŠ¡ä¸»é¢˜ï¼šæ•°æ®å¯æ ¹æ®ä¸åŒçš„ä¸šåŠ¡ä¸»é¢˜ï¼Œåˆ†é…åˆ°ä¸åŒçš„èŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å“ˆå¸Œåˆ†åŒº&lt;/font&gt;ï¼šå……åˆ†&lt;font color=&#39;red&#39;&gt;åˆ©ç”¨æ•°æ®çš„å“ˆå¸Œå€¼æ¥å®Œæˆåˆ†é…&lt;/font&gt;ï¼Œå¯¹æ•°æ®å“ˆå¸Œå€¼çš„ä¸åŒä½¿ç”¨æ–¹å¼äº§ç”Ÿäº†ä¸åŒçš„å“ˆå¸Œåˆ†åŒºç®—æ³•ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å“ˆå¸Œå–ä½™&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸€è‡´æ€§å“ˆå¸Œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;orange&#39;&gt;å“ˆå¸Œæ§½&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Redis Cluster é‡‡å–çš„æ•°æ®åˆ†ç‰‡ç®—æ³•å°±æ˜¯è¿™ç§ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™é‡Œä»…å±•å¼€ä»‹ç»ä¸Šè¿°ä¸‰ç§å“ˆå¸Œåˆ†åŒºç®—æ³•ï¼&lt;/p&gt;
&lt;h4 id=&#34;å“ˆå¸Œå–ä½™-åˆ†åŒºç®—æ³•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å“ˆå¸Œå–ä½™-åˆ†åŒºç®—æ³•&#34;&gt;#&lt;/a&gt; å“ˆå¸Œå–ä½™ åˆ†åŒºç®—æ³•&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å°å‚å¯ç”¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809004525207.png&#34; alt=&#34;image-20230809004525207&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¯¥ç®—æ³•çš„å‰ææ˜¯ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½å·²åˆ†é…å¥½äº†ä¸€ä¸ªå”¯ä¸€åºå·ï¼Œå¯¹äº N ä¸ªèŠ‚ç‚¹çš„é›†ç¾¤ï¼Œå…¶åºå·èŒƒå›´ä¸º [0, N-1]ã€‚&lt;font color=&#39;red&#39;&gt;é€‰å–æ•°æ®æœ¬èº«æˆ–å¯ä»¥ä»£è¡¨æ•°æ®ç‰¹å¾çš„æ•°æ®çš„ä¸€éƒ¨åˆ†ä½œä¸º keyï¼Œè®¡ç®— hash (key) ä¸èŠ‚ç‚¹æ•°é‡ N çš„æ¨¡ï¼Œå³  &lt;code&gt;hash(key) % N&lt;/code&gt; ï¼Œè®¡ç®—ç»“æœå†³å®šäº†è¯¥æ•°æ®çš„å­˜å‚¨èŠ‚ç‚¹çš„åºå·&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;ä¼˜ç‚¹&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç®€å•æœ‰æ•ˆã€‚åªéœ€è¦é¢„ä¼°å¥½æ•°æ®è§„æ¨¡ï¼Œè§„åˆ’å¥½èŠ‚ç‚¹ï¼Œå°±èƒ½ä¿è¯ä¸€æ®µæ—¶é—´çš„æ•°æ®æ”¯æ’‘ã€‚&lt;/li&gt;
&lt;li&gt;è´Ÿè½½å‡è¡¡ã€‚ä½¿ç”¨ Hash ç®—æ³•è®©å›ºå®šçš„ä¸€éƒ¨åˆ†è¯·æ±‚è½åˆ°åŒä¸€å°æœåŠ¡å™¨ä¸Šï¼Œè¿™æ ·&lt;font color=&#39;red&#39;&gt;æ¯å°æœåŠ¡å™¨å›ºå®šå¤„ç†ä¸€éƒ¨åˆ†è¯·æ±‚&lt;/font&gt;ï¼ˆå¹¶ç»´æŠ¤è¿™äº›è¯·æ±‚çš„ä¿¡æ¯ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;ç¼ºç‚¹&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;Redis èŠ‚ç‚¹çš„æ‰©å®¹ / ç¼©å®¹éº»çƒ¦&lt;/font&gt;&lt;/strong&gt;ã€‚å·²ç»å­˜å‚¨è¿‡çš„æ•°æ®éœ€è¦æ ¹æ®æ–°çš„èŠ‚ç‚¹æ•°é‡ N è¿›è¡Œ&lt;font color=&#39;red&#39;&gt;æ•°æ®è¿ç§»&lt;/font&gt;ï¼Œå¦åˆ™ç”¨æˆ·æ ¹æ® key æ˜¯æ— æ³•å†æ‰¾åˆ°åŸæ¥çš„æ•°æ®çš„ã€‚ç”Ÿäº§ä¸­æ‰©å®¹ä¸€èˆ¬é‡‡ç”¨ç¿»å€æ‰©å®¹æ–¹å¼ï¼Œä»¥å‡å°‘æ‰©å®¹æ—¶æ•°æ®è¿ç§»çš„æ¯”ä¾‹ã€‚&lt;/li&gt;
&lt;li&gt;æŸä¸ª Redis æœºå™¨å®•æœºäº†ï¼Œç”±äºå°æ•°æ•°é‡å˜åŒ–ï¼Œä¼šå¯¼è‡´ hash å–ä½™å…¨éƒ¨æ•°æ®é‡æ–°æ´—ç‰Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ä¸€è‡´æ€§å“ˆå¸Œ-åˆ†åŒºç®—æ³•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸€è‡´æ€§å“ˆå¸Œ-åˆ†åŒºç®—æ³•&#34;&gt;#&lt;/a&gt; ä¸€è‡´æ€§å“ˆå¸Œ åˆ†åŒºç®—æ³•&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨å“ˆå¸Œå–ä½™ç®—æ³•çš„åŸºç¡€ä¸Šï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å›ºå®šäº†å–ä½™çš„åˆ†æ¯ä¸º 2&lt;sup&gt;32&lt;/sup&gt;-1ï¼ˆå› æ­¤ç§°ä¹‹ä¸€è‡´æ€§ï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼Œè€Œä¸å†æ˜¯ Master èŠ‚ç‚¹æ•°é‡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;è®¾è®¡æ€æƒ³&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è®¾è®¡æ€æƒ³&#34;&gt;#&lt;/a&gt; è®¾è®¡æ€æƒ³&lt;/h5&gt;
&lt;p&gt;ä¸ºäº†è§£å†³&lt;font color=&#39;red&#39;&gt;å“ˆå¸Œå–ä½™åˆ†åŒºç®—æ³•ä¸­çš„æ•°æ®å˜åŠ¨å’Œæ˜ å°„é—®é¢˜&lt;/font&gt;ï¼ˆæŸä¸ªæœºå™¨å®•æœºå¯¼è‡´åˆ†æ¯æ•°é‡æ”¹å˜äº†ï¼Œè‡ªç„¶å–ä½™æ•°ä¸ OK äº†ï¼‰ã€‚ç›®çš„æ˜¯&lt;font color=&#39;red&#39;&gt;å½“ Redis èŠ‚ç‚¹ä¸ªæ•°å‘ç”Ÿå˜åŠ¨æ—¶ï¼Œå°½é‡å‡å°‘å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨çš„æ˜ å°„å…³ç³»çš„å½±å“&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•é€šè¿‡ä¸€ä¸ªå«ä½œ **&lt;font color=&#39;#B32015&#39;&gt;ä¸€è‡´æ€§å“ˆå¸Œç¯&lt;/font&gt;&lt;strong&gt;çš„æ•°æ®ç»“æ„å®ç°ã€‚è¿™ä¸ªç¯çš„èµ·ç‚¹æ˜¯ 0ï¼Œç»ˆç‚¹æ˜¯ 2&lt;sup&gt;32&lt;/sup&gt; - 1ï¼Œå¹¶ä¸”&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;èµ·ç‚¹ä¸ç»ˆç‚¹é‡åˆ&lt;/font&gt;&lt;strong&gt;ã€‚ç¯ä¸­é—´çš„æ•´æ•°æŒ‰é€† / é¡ºæ—¶é’ˆåˆ†å¸ƒï¼Œæ•…è¿™ä¸ªç¯çš„æ•´æ•°åˆ†å¸ƒèŒƒå›´æ˜¯&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;[0, 2&lt;sup&gt;32&lt;/sup&gt;-1]&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231210191026016.png&#34; alt=&#34;image-20231210191026016&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾ä¸­å­˜åœ¨å››ä¸ªå¯¹è±¡ o0ã€ o1ã€ o2ã€ o3ï¼Œåˆ†åˆ«ä»£è¡¨å››ä¸ªå¾…åˆ†é…çš„æ•°æ®ï¼Œçº¢è‰²æ–¹å—æ˜¯è¿™å››ä¸ªæ•°æ®çš„ hash (o) åœ¨ Hash ç¯ä¸­çš„è½ç‚¹ã€‚åŒæ—¶ï¼Œå›¾ä¸Šè¿˜å­˜åœ¨ä¸‰ä¸ªèŠ‚ç‚¹ m0ã€ m1ã€ m2ï¼Œç»¿è‰²åœ†åœˆæ˜¯è¿™ä¸‰èŠ‚ç‚¹çš„ hash (m) åœ¨ Hash ç¯ä¸­çš„è½ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨è¦ä¸ºæ•°æ®åˆ†é…å…¶è¦å­˜å‚¨çš„èŠ‚ç‚¹ã€‚&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è¯¥æ•°æ®å¯¹è±¡çš„ hash (o) æŒ‰ç…§é€† / é¡ºæ—¶é’ˆæ–¹å‘è·ç¦»å“ªä¸ªèŠ‚ç‚¹çš„ hash (m) æœ€è¿‘ï¼Œå°±å°†è¯¥æ•°æ®å­˜å‚¨åœ¨å“ªä¸ªèŠ‚ç‚¹&lt;/font&gt;&lt;/strong&gt;ã€‚è¿™æ ·å°±ä¼šå½¢æˆä¸Šå›¾æ‰€ç¤ºçš„åˆ†é…ç»“æœã€‚&lt;/p&gt;
&lt;h5 id=&#34;3å¤§æ­¥éª¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#3å¤§æ­¥éª¤&#34;&gt;#&lt;/a&gt; 3 å¤§æ­¥éª¤&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ„å»ºä¸€è‡´æ€§å“ˆå¸Œç¯&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•å¿…ç„¶æœ‰ä¸ª hash å‡½æ•°ç”¨äºäº§ç”Ÿ hash å€¼ï¼Œè¿™ä¸ªç®—æ³•çš„æ‰€æœ‰å¯èƒ½å“ˆå¸Œå€¼ä¼šæ„æˆä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;å…¨é‡é›†&lt;/font&gt;ï¼Œè¿™ä¸ªé›†åˆå¯ä»¥æˆä¸ºä¸€ä¸ª **&lt;font color=&#39;red&#39;&gt;hash ç©ºé—´ [0,2&lt;sup&gt;32&lt;/sup&gt;-1]&lt;/font&gt;&lt;strong&gt;ï¼Œè¿™ä¸ªæ˜¯ä¸€ä¸ªçº¿æ€§ç©ºé—´ï¼Œä½†æ˜¯åœ¨ç®—æ³•ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡é€‚å½“çš„é€»è¾‘æ§åˆ¶å°†å®ƒ&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;é¦–å°¾ç›¸è¿ (0 = 2&lt;sup&gt;32&lt;/sup&gt;)&lt;/font&gt;**ï¼Œè¿™æ ·è®©å®ƒå½¢æˆäº†ä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;é€»è¾‘ä¸Šçš„ç¯å½¢ç©ºé—´&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒä¹Ÿæ˜¯æŒ‰ç…§ä½¿ç”¨å–æ¨¡çš„æ–¹æ³•ï¼Œ&lt;font color=&#39;red&#39;&gt;å‰é¢ä»‹ç»çš„æ˜¯å¯¹ Redis èŠ‚ç‚¹çš„æ•°é‡è¿›è¡Œå–æ¨¡&lt;/font&gt;ã€‚è€Œ **&lt;font color=&#39;orange&#39;&gt;ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•æ˜¯å¯¹ 2&lt;sup&gt;32&lt;/sup&gt; å–æ¨¡&lt;/font&gt;ï¼ˆå› ä¸ºå–ä½™çš„åˆ†æ¯æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥ç§°å…¶ä¸€è‡´æ€§ï¼‰**ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•æ¥è¯´ï¼Œä¸€è‡´æ€§ Hash ç®—æ³•å°†æ•´ä¸ªå“ˆå¸Œå€¼ç©ºé—´ç»„ç»‡æˆä¸€ä¸ªè™šæ‹Ÿçš„åœ†ç¯ï¼Œå¦‚å‡è®¾æŸå“ˆå¸Œå‡½æ•°çš„å€¼ç©ºé—´ä¸º [0,2&lt;sup&gt;32&lt;/sup&gt;-1]ï¼ˆå³å“ˆå¸Œå€¼æ˜¯ä¸€ä¸ª 32 ä½æ— ç¬¦å·æ•´å½¢ï¼‰ï¼Œæ•´ä¸ªå“ˆå¸Œç¯å¦‚ä¸‹å›¾ï¼šæ•´ä¸ªç©ºé—´æŒ‰é¡ºæ—¶é’ˆæ–¹å‘ç»„ç»‡ï¼Œåœ†ç¯çš„æ­£ä¸Šæ–¹çš„ç‚¹ä»£è¡¨ 0ï¼Œ0 ç‚¹å³ä¾§çš„ç¬¬ä¸€ä¸ªç‚¹ä»£è¡¨ 1ï¼Œä»¥æ­¤ç±»æ¨ï¼Œ2ã€3ã€4ã€â€¦â€¦ ç›´åˆ° 2&lt;sup&gt;32&lt;/sup&gt;-1ï¼Œä¹Ÿå°±æ˜¯è¯´&lt;font color=&#39;red&#39;&gt;0 ç‚¹å·¦ä¾§çš„ç¬¬ä¸€ä¸ªç‚¹ä»£è¡¨ 2&lt;sup&gt;32&lt;/sup&gt;-1&lt;/font&gt;ï¼Œ 0 å’Œ 2&lt;sup&gt;32&lt;/sup&gt;-1 åœ¨é›¶ç‚¹ä¸­æ–¹å‘é‡åˆï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ª **&lt;font color=&#39;red&#39;&gt;ç”± 2&lt;sup&gt;32&lt;/sup&gt; ä¸ªç‚¹ç»„æˆ&lt;/font&gt;** çš„åœ†ç¯ç§°ä¸º &lt;code&gt;Hashç¯&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809010605612.png&#34; alt=&#34;image-20230809010605612&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Redis æœåŠ¡å™¨èŠ‚ç‚¹ IP æ˜ å°„&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å°†é›†ç¾¤ä¸­å„ä¸ª Redis èŠ‚ç‚¹çš„ IP æ˜ å°„åˆ°ç¯ä¸Šçš„æŸä¸€ä¸ªä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;å°†å„ä¸ª Redis æœåŠ¡å™¨çš„ IP æˆ–ä¸»æœºåä½œä¸ºå…³é”®å­—ä½¿ç”¨ Hash è¿›è¡Œå“ˆå¸Œï¼Œè¿™æ ·æ¯å°æœºå™¨å°±èƒ½ç¡®å®šå…¶åœ¨å“ˆå¸Œç¯ä¸Šçš„ä½ç½®ã€‚å‡å¦‚ 4 ä¸ª Redis èŠ‚ç‚¹ NodeAã€NodeBã€NodeCã€NodeDï¼Œç»è¿‡&lt;font color=&#39;red&#39;&gt;IP åœ°å€çš„å“ˆå¸Œå‡½æ•°è®¡ç®— hash (ip)&lt;/font&gt;ï¼Œä½¿ç”¨ IP åœ°å€å“ˆå¸Œååœ¨ç¯ç©ºé—´çš„ä½ç½®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809114247849.png&#34; alt=&#34;image-20230809114247849&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è½ key è§„åˆ™&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ä»¬éœ€è¦å­˜å‚¨ä¸€ä¸ªé”®å€¼å¯¹æ—¶ï¼Œ&lt;font color=&#39;red&#39;&gt;é¦–å…ˆè®¡ç®— key çš„ hash å€¼ï¼Œhash (key)&lt;/font&gt;ï¼Œç¡®å®šæ­¤æ•°æ®åœ¨ç¯ä¸Šçš„ä½ç½®ï¼Œä»æ­¤ä½ç½®æ²¿ç¯ **&lt;font color=&#39;red&#39;&gt;é¡ºæ—¶é’ˆ&lt;/font&gt;**â€œè¡Œèµ°â€ï¼Œ&lt;font color=&#39;red&#39;&gt;ç¬¬ä¸€å°é‡åˆ°çš„ Redis æœåŠ¡å™¨&lt;/font&gt;å°±æ˜¯å…¶åº”è¯¥å®šä½åˆ°çš„æœåŠ¡å™¨ï¼Œå¹¶å°†è¯¥é”®å€¼å¯¹å­˜å‚¨åœ¨è¯¥èŠ‚ç‚¹ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æˆ‘ä»¬æœ‰ Object Aã€Object Bã€Object Cã€Object D å››ä¸ªæ•°æ®å¯¹è±¡ï¼Œç»è¿‡å“ˆå¸Œè®¡ç®—åï¼Œåœ¨ç¯ç©ºé—´ä¸Šçš„ä½ç½®å¦‚ä¸‹ï¼šæ ¹æ®ä¸€è‡´æ€§ Hash ç®—æ³•ï¼ŒObject A ä¼šè¢«å®šä¸ºåˆ° Node A ä¸Šï¼ŒObject B è¢«å®šä¸ºåˆ° Node B ä¸Šï¼ŒObject C è¢«å®šä¸ºåˆ° Node C ä¸Šï¼ŒObject D è¢«å®šä¸ºåˆ° Node D ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809114625589.png&#34; alt=&#34;image-20230809114625589&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;ä¼˜ç¼ºç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¼˜ç¼ºç‚¹&#34;&gt;#&lt;/a&gt; ä¼˜ç¼ºç‚¹&lt;/h5&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;ä¼˜ç‚¹&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;å®¹é”™æ€§&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å‡è®¾ Node C å®•æœºï¼Œå¯ä»¥çœ‹åˆ°æ­¤æ—¶å¯¹è±¡ Aã€Bã€D ä¸ä¼šå—åˆ°å½±å“ã€‚ä¸€èˆ¬çš„ï¼Œåœ¨ä¸€è‡´æ€§ Hash ç®—æ³•ä¸­ï¼Œå¦‚æœä¸€å°æœåŠ¡å™¨ä¸å¯ç”¨ï¼Œåˆ™å—å½±å“çš„æ•°æ®ä»…ä»…æ˜¯æ­¤æœåŠ¡å™¨åˆ°å…¶ç¯ç©ºé—´ä¸­å‰ä¸€å°æœåŠ¡å™¨ï¼ˆå³æ²¿ç€é€†æ—¶é’ˆæ–¹å‘è¡Œèµ°é‡åˆ°çš„ç¬¬ä¸€å°æœåŠ¡å™¨ï¼‰ä¹‹é—´æ•°æ®ï¼Œå…¶å®ƒä¸ä¼šå—åˆ°å½±å“ã€‚&lt;font color=&#39;red&#39;&gt;ç®€å•è¯´ï¼Œå°±æ˜¯ C æŒ‚äº†ï¼Œå—åˆ°å½±å“çš„åªæ˜¯ Bã€C ä¹‹é—´çš„æ•°æ®ï¼Œä¸”è¿™äº›æ•°æ®ä¼šè½¬ç§»åˆ° D è¿›è¡Œå­˜å‚¨&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809115305990.png&#34; alt=&#34;image-20230809115305990&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;Redis èŠ‚ç‚¹çš„æ‰©å®¹ / ç¼©å®¹æ–¹ä¾¿&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;éšç€æ•°æ®é‡çš„å¢åŠ ï¼Œéœ€è¦å¢åŠ ä¸€å°èŠ‚ç‚¹ NodeXï¼Œä½ç½®åœ¨ A å’Œ B ä¹‹é—´ï¼Œ&lt;font color=&#39;red&#39;&gt;é‚£å—åˆ°å½±å“çš„ä¹Ÿå°±æ˜¯ A åˆ° X ä¹‹é—´çš„æ•°æ®ï¼Œé‡æ–°æŠŠ A åˆ° X çš„æ•°æ®å½•å…¥åˆ° X ä¸Šå³å¯ï¼Œä¸ä¼šå¯¼è‡´ hash å–ä½™å…¨éƒ¨æ•°æ®é‡æ–°æ´—ç‰Œ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809120153493.png&#34; alt=&#34;image-20230809120153493&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;ç¼ºç‚¹&lt;/font&gt;ï¼š&lt;strong&gt;æ•°æ®å€¾æ–œ&lt;/strong&gt;é—®é¢˜&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å½“ Redis æœåŠ¡èŠ‚ç‚¹å¤ªå°‘æ—¶&lt;/strong&gt;ï¼Œå®¹æ˜“å› ä¸º&lt;font color=&#39;red&#39;&gt;èŠ‚ç‚¹åˆ†å¸ƒä¸å‡åŒ€&lt;/font&gt;è€Œé€ æˆ&lt;strong&gt;æ•°æ®å€¾æ–œ&lt;/strong&gt;ï¼ˆè¢«ç¼“å­˜çš„æ•°æ®å¯¹è±¡å¤§éƒ¨åˆ†é›†ä¸­ç¼“å­˜åœ¨æŸä¸€å°æœåŠ¡å™¨ä¸Šï¼‰é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ç³»ç»Ÿä¸­åªæœ‰ä¸¤å°æœåŠ¡å™¨ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809120432504.png&#34; alt=&#34;image-20230809120432504&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;å“ˆå¸Œæ§½slot-åˆ†åŒºç®—æ³•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å“ˆå¸Œæ§½slot-åˆ†åŒºç®—æ³•&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸå“ˆå¸Œæ§½ (slot) åˆ†åŒºç®—æ³•&lt;/mark&gt;&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å¤§å‚éƒ½ç”¨å®ƒï¼è€Œä¸” &lt;strong&gt;Redis Cluster çš„æ•°æ®åˆ†åŒºé‡‡ç”¨çš„å°±æ˜¯è¿™ç§æ–¹å¼ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;è®¾è®¡æ€æƒ³javaguide&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è®¾è®¡æ€æƒ³javaguide&#34;&gt;#&lt;/a&gt; è®¾è®¡æ€æƒ³ï¼ˆJavaGuideï¼‰&lt;/h5&gt;
&lt;p&gt;Redis Cluster å¹¶æ²¡æœ‰ä½¿ç”¨ä¸€è‡´æ€§å“ˆå¸Œï¼Œé‡‡ç”¨çš„æ˜¯ **&lt;font color=&#39;#B32015&#39;&gt;å“ˆå¸Œæ§½åˆ†åŒº&lt;/font&gt;** ï¼Œæ¯ä¸€ä¸ªé”®å€¼å¯¹éƒ½å±äºä¸€ä¸ª hash slotï¼ˆå“ˆå¸Œæ§½ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;Redis Cluster é€šå¸¸æœ‰ 16384 ä¸ªå“ˆå¸Œæ§½ ï¼Œè¦è®¡ç®—ç»™å®š key åº”è¯¥åˆ†å¸ƒåˆ°å“ªä¸ªå“ˆå¸Œæ§½ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦å…ˆå¯¹æ¯ä¸ª key è®¡ç®— CRC-16ï¼ˆXMODEMï¼‰ æ ¡éªŒç ï¼Œç„¶åå†å¯¹è¿™ä¸ªæ ¡éªŒç å¯¹ 16384 (å“ˆå¸Œæ§½çš„æ€»æ•°) å–æ¨¡ï¼Œå¾—åˆ°çš„å€¼å³æ˜¯ key å¯¹åº”çš„å“ˆå¸Œæ§½ã€‚&lt;/p&gt;
&lt;p&gt;å“ˆå¸Œæ§½çš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-C&#34;&gt;HASH_SLOT = CRC16(key) mod 16384
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åˆ›å»ºå¹¶åˆå§‹åŒ– Redis Cluster çš„æ—¶å€™ï¼ŒRedis ä¼šè‡ªåŠ¨å¹³å‡åˆ†é…è¿™ 16384 ä¸ªå“ˆå¸Œæ§½åˆ°å„ä¸ªèŠ‚ç‚¹ï¼Œä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨åˆ†é…ã€‚å¦‚æœä½ æƒ³è‡ªå·±æ‰‹åŠ¨è°ƒæ•´çš„è¯ï¼ŒRedis Cluster ä¹Ÿå†…ç½®äº†ç›¸å…³çš„å‘½ä»¤æ¯”å¦‚  &lt;code&gt;ADDSLOTSã€ADDSLOTSRANGE&lt;/code&gt; ï¼ˆåé¢ä¼šè¯¦ç»†ä»‹ç»åˆ°é‡æ–°åˆ†é…å“ˆå¸Œæ§½ç›¸å…³çš„å‘½ä»¤ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å®¢æˆ·ç«¯è¿æ¥ Redis Cluster ä¸­ä»»æ„ä¸€ä¸ª master èŠ‚ç‚¹å³å¯è®¿é—® Redis Cluster çš„æ•°æ®ã€‚&lt;font color=&#39;red&#39;&gt;å½“å®¢æˆ·ç«¯å‘é€å‘½ä»¤è¯·æ±‚çš„æ—¶å€™ï¼Œéœ€è¦å…ˆæ ¹æ® key é€šè¿‡ä¸Šé¢çš„è®¡ç®—å…¬ç¤ºæ‰¾åˆ°çš„å¯¹åº”çš„å“ˆå¸Œæ§½ï¼Œç„¶åå†æŸ¥è¯¢å“ˆå¸Œæ§½å’ŒèŠ‚ç‚¹çš„æ˜ å°„å…³ç³»ï¼Œå³å¯æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/06f32493-52dc-4c53-8522-fb98e72da782.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœå“ˆå¸Œæ§½ç¡®å®æ˜¯å½“å‰èŠ‚ç‚¹è´Ÿè´£ï¼Œé‚£å°±ç›´æ¥å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚è¿”å›ç»“æœï¼Œ&lt;font color=&#39;red&#39;&gt;å¦‚æœä¸ç”±å½“å‰èŠ‚ç‚¹è´Ÿè´£ï¼Œå°±ä¼šè¿”å›  &lt;code&gt;-MOVED&lt;/code&gt;  é‡å®šå‘é”™è¯¯ï¼Œå‘ŠçŸ¥å®¢æˆ·ç«¯å½“å‰å“ˆå¸Œæ§½æ˜¯ç”±å“ªä¸ªèŠ‚ç‚¹è´Ÿè´£ï¼Œå®¢æˆ·ç«¯å‘ç›®æ ‡èŠ‚ç‚¹å‘é€è¯·æ±‚å¹¶æ›´æ–°ç¼“å­˜çš„å“ˆå¸Œæ§½åˆ†é…ä¿¡æ¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231216122451496.png&#34; alt=&#34;image-20231216122451496&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ—¶å€™ä½ å¯èƒ½å°±ä¼šç–‘é—®ï¼š&lt;strong&gt;ä¸ºä»€ä¹ˆè¿˜ä¼šå­˜åœ¨æ‰¾é”™èŠ‚ç‚¹çš„æƒ…å†µå‘¢ï¼Ÿæ ¹æ®å…¬å¼è®¡ç®—éš¾é“è¿˜ä¼šå‡ºé”™ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯å› ä¸º Redis Cluster &lt;font color=&#39;red&#39;&gt;å†…éƒ¨å¯èƒ½ä¼šé‡æ–°åˆ†é…å“ˆå¸Œæ§½ï¼Œæ¯”å¦‚æ‰©å®¹ç¼©å®¹çš„æ—¶å€™&lt;/font&gt;ï¼ˆåæ–‡ä¸­æœ‰è¯¦ç»†ä»‹ç»åˆ° Redis Cluster çš„æ‰©å®¹å’Œç¼©å®¹é—®é¢˜ï¼‰ï¼Œè¿™å°±å¯èƒ½ä¼šå¯¼è‡´å®¢æˆ·ç«¯ç¼“å­˜çš„å“ˆå¸Œæ§½åˆ†é…ä¿¡æ¯ä¼šæœ‰è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;ä»ä¸Šé¢çš„ä»‹ç»ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•æ€»ç»“å‡º Redis Cluster å“ˆå¸Œæ§½åˆ†åŒºæœºåˆ¶çš„ä¼˜ç‚¹ï¼š&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;è§£è€¦äº†æ•°æ®å’ŒèŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»ï¼Œæå‡äº†é›†ç¾¤çš„æ¨ªå‘æ‰©å±•æ€§å’Œå®¹é”™æ€§ã€‚&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h5 id=&#34;è®¾è®¡æ€æƒ³-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è®¾è®¡æ€æƒ³-2&#34;&gt;#&lt;/a&gt; è®¾è®¡æ€æƒ³&lt;/h5&gt;
&lt;p&gt;ä¸ºäº†è§£å†³&lt;font color=&#39;red&#39;&gt;æ•°æ®åˆ†é…ä¸å‡åŒ€&lt;/font&gt;çš„é—®é¢˜ï¼ˆæ•°æ®å€¾æ–œï¼‰ï¼Œå“ˆå¸Œæ§½åˆ†åŒºç®—æ³•&lt;font color=&#39;red&#39;&gt;åœ¨æ•°æ®å’Œ Redis èŠ‚ç‚¹ä¹‹é—´åŠ äº†ä¸€å±‚å“ˆå¸Œæ§½ï¼ˆslotï¼‰&lt;/font&gt;ï¼Œç”¨äºç®¡ç†æ•°æ®å’Œ Redis èŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»ï¼Œç›¸å½“äºæ˜¯&lt;font color=&#39;red&#39;&gt;æŠŠæ•°æ®æ”¾å…¥æ§½ä¸­ï¼Œå†æŠŠæ§½æ˜ å°„åˆ° Redis èŠ‚ç‚¹ä¸Š&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231210194354635.png&#34; alt=&#34;image-20231210194354635&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¯¥ç®—æ³• **&lt;font color=&#39;red&#39;&gt;é¦–å…ˆè™šæ‹Ÿå‡ºä¸€ä¸ªå›ºå®šæ•°é‡ä¸º 2&lt;sup&gt;14&lt;/sup&gt;=16384 çš„æ•´æ•°é›†åˆï¼Œå…¶ä¸­æ¯ä¸ªæ•´æ•°ç§°ä¸ºä¸€ä¸ªæ§½ï¼ˆslotï¼‰&lt;/font&gt;&lt;strong&gt;ã€‚è¿™ä¸ªæ§½çš„æ•°é‡ä¸€èˆ¬æ˜¯è¿œè¿œå¤§äºèŠ‚ç‚¹æ•°é‡çš„ã€‚ç„¶å&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;å†å°†æ‰€æœ‰æ§½å¹³å‡æ˜ å°„åˆ°å„ä¸ª Redis èŠ‚ç‚¹ä¹‹ä¸Š&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼ŒRedis åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å…±è™šæ‹Ÿäº† 16384ï¼ˆå³ 2&lt;sup&gt;14&lt;/sup&gt;ï¼‰ ä¸ª slot æ§½ï¼Œå…¶èŒƒå›´ä¸º [0, 16383]ã€‚å‡è®¾å…±æœ‰ 3 ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆ slot æ§½ä¸èŠ‚ç‚¹é—´çš„æ˜ å°„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231210192907595.png&#34; alt=&#34;image-20231210192907595&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æ•°æ®åªä¸ slot æ§½æœ‰å…³ç³»ï¼Œä¸ Redis èŠ‚ç‚¹æ²¡æœ‰ç›´æ¥å…³ç³»&lt;/font&gt;ã€‚æ•°æ®æ ¹æ®è®¡ç®—å…¬å¼ &lt;code&gt;slot = hash(key) % slotNums&lt;/code&gt;  æ˜ å°„åˆ° slot æ§½ã€‚è¿™ä¹Ÿæ˜¯è¯¥ç®—æ³•çš„ä¸€ä¸ªä¼˜ç‚¹ï¼Œ&lt;font color=&#39;red&#39;&gt;è§£è€¦äº†æ•°æ®ä¸èŠ‚ç‚¹ï¼Œå®¢æˆ·ç«¯æ— éœ€ç»´æŠ¤èŠ‚ç‚¹ï¼Œåªéœ€ç»´æŠ¤ä¸ slot æ§½çš„å…³ç³»å³å¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Redis Cluster çš„æ•°æ®åˆ†åŒºé‡‡ç”¨çš„å°±æ˜¯è¯¥ç®—æ³•ã€‚å…¶è®¡ç®—æ§½ç‚¹çš„å…¬å¼ä¸ºï¼š &lt;code&gt;slot = CRC16(key) % 16384&lt;/code&gt; ã€‚ &lt;strong&gt;&lt;font color=&#39;red&#39;&gt;CRC16 () æ˜¯ä¸€ç§å¸¦æœ‰æ ¡éªŒåŠŸèƒ½çš„ã€å…·æœ‰è‰¯å¥½åˆ†æ•£åŠŸèƒ½çš„ã€ç‰¹æ®Šçš„ hash ç®—æ³•å‡½æ•°&lt;/font&gt;&lt;/strong&gt;ã€‚ å…¶å® Redis ä¸­è®¡ç®—æ§½ç‚¹çš„å…¬å¼ä¸æ˜¯ä¸Šé¢çš„é‚£ä¸ªï¼Œè€Œæ˜¯ï¼š &lt;code&gt;slot = CRC16(key) &amp;amp; 16383&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è‹¥è¦è®¡ç®— a % bï¼Œå¦‚æœ b æ˜¯ 2 çš„æ•´æ•°æ¬¡å¹‚ï¼Œé‚£ä¹ˆ a % b = a &amp;amp; (b-1)ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;ä¸ºä»€ä¹ˆå“ˆå¸Œæ§½çš„æ•°é‡æ˜¯16384ä¸ª&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸ºä»€ä¹ˆå“ˆå¸Œæ§½çš„æ•°é‡æ˜¯16384ä¸ª&#34;&gt;#&lt;/a&gt; ä¸ºä»€ä¹ˆå“ˆå¸Œæ§½çš„æ•°é‡æ˜¯ 16384 ä¸ªï¼Ÿ&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;&lt;strong&gt;CRC16 () ç®—æ³•äº§ç”Ÿçš„å“ˆå¸Œå€¼æœ‰ 16bit&lt;/strong&gt;ï¼Œå³ 2&lt;sup&gt;16&lt;/sup&gt;=65536 ä¸ªå€¼ï¼Œä¸ºä»€ä¹ˆ Redis é›†ç¾¤çš„ç®—æ³•åªé‡‡ç”¨ 2&lt;sup&gt;14&lt;/sup&gt;=16384 ä¸ªå“ˆå¸Œæ§½ï¼Ÿ&lt;/font&gt;åœ¨è¿›è¡Œ mode è¿ç®—æ—¶ï¼Œä¸ºä»€ä¹ˆæ˜¯ &lt;code&gt;HASH_SLOT = CRC16(key) mod 16384&lt;/code&gt;  è€Œä¸æ˜¯ &lt;code&gt;HASH_SLOT = CRC16(key) mod 65536&lt;/code&gt; ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;ä½œè€…çš„å›å¤&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809132510614.png&#34; alt=&#34;image-20230809132510614&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;gree&#39;&gt;æ¶ˆæ¯å¤´ clusterMsg çš„ç»“æ„&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230809132604570.png&#34; alt=&#34;image-20230809132604570&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;gree&#39;&gt;æ ‡å‡†å›ç­”&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ­£å¸¸çš„å¿ƒè·³åŒ…ä¼šæºå¸¦ä¸€ä¸ªèŠ‚ç‚¹çš„å®Œæ•´é…ç½®ï¼Œå®ƒä¼šä»¥å¹‚ç­‰çš„æ–¹å¼æ›´æ–°æ—§çš„é…ç½®ï¼Œè¿™æ„å‘³ç€&lt;font color=&#39;red&#39;&gt;å¿ƒè·³åŒ…ä¼šé™„å¸¦å½“å‰èŠ‚ç‚¹çš„è´Ÿè´£çš„å“ˆå¸Œæ§½çš„ä¿¡æ¯&lt;/font&gt;ã€‚å‡è®¾å“ˆå¸Œæ§½é‡‡ç”¨ 16384ï¼Œåˆ™å ç©ºé—´ 2kï¼ˆ16384/8ï¼‰ã€‚å‡è®¾å“ˆå¸Œæ§½é‡‡ç”¨ 65536ï¼Œåˆ™å ç©ºé—´ 8k (65536/8)ï¼Œè¿™æ˜¯ä»¤äººéš¾ä»¥æ¥å—çš„å†…å­˜å ç”¨ã€‚å› æ­¤ï¼Œ&lt;font color=&#39;red&#39;&gt;å¦‚æœæ§½ä½ä¸º 65536ï¼Œé‚£ä¹ˆå‘é€å¿ƒè·³ä¿¡æ¯çš„æ¶ˆæ¯å¤´å¤§å°è¾¾åˆ° 8kï¼Œ&lt;strong&gt;å‘é€çš„å¿ƒè·³åŒ…è¿‡äºåºå¤§ï¼Œæµªè´¹å¸¦å®½&lt;/strong&gt;ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨æ¶ˆæ¯å¤´ä¸­æœ€å ç©ºé—´çš„æ˜¯ &lt;code&gt;myslots[CLUSTER_SLOTS/8]&lt;/code&gt; :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“æ§½ä½ä¸º 65536 æ—¶ï¼Œè¿™å—çš„å¤§å°æ˜¯: 65536Ã·8Ã·1024=&lt;font color=&#39;red&#39;&gt;8kb&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;å½“æ§½ä½ä¸º 16384 æ—¶ï¼Œè¿™å—çš„å¤§å°æ˜¯: 16384Ã·8Ã·1024=&lt;font color=&#39;red&#39;&gt;2kb&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å› ä¸ºæ¯ç§’é’Ÿ redis èŠ‚ç‚¹éœ€è¦å‘é€ä¸€å®šæ•°é‡çš„ ping æ¶ˆæ¯ä½œä¸ºå¿ƒè·³åŒ…ï¼Œå¦‚æœæ§½ä½ä¸º 65536ï¼Œè¿™ä¸ª &lt;font color=&#39;red&#39;&gt;ping æ¶ˆæ¯çš„æ¶ˆæ¯å¤´å¤ªå¤§äº†ï¼Œæµªè´¹å¸¦å®½&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¯¹äºåŸºæœ¬ä¸å¯èƒ½è¶…è¿‡ 1000 ä¸ª master èŠ‚ç‚¹æ•°é‡çš„ redi é›†ç¾¤è€Œè¨€ï¼Œ&lt;strong&gt;16384 ä¸ªæ§½ä½å°±å·²ç»å¤Ÿç”¨äº†&lt;/strong&gt;ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é›†ç¾¤çš„èŠ‚ç‚¹è¶Šå¤šï¼Œå¿ƒè·³åŒ…çš„æ¶ˆæ¯ä½“å†…æºå¸¦çš„æ•°æ®è¶Šå¤šã€‚å¦‚æœèŠ‚ç‚¹è¿‡ 1000 ä¸ªï¼Œä¹Ÿä¼šå¯¼è‡´ç½‘ç»œæ‹¥å µã€‚å› æ­¤ redis ä½œè€…ä¸å»ºè®® redis cluster èŠ‚ç‚¹æ•°é‡è¶…è¿‡ 1000 ä¸ªã€‚é‚£ä¹ˆï¼Œ&lt;font color=&#39;red&#39;&gt;å¯¹äºèŠ‚ç‚¹æ•°åœ¨ 1000 ä»¥å†…çš„ redis cluster é›†ç¾¤ï¼Œ16384 ä¸ªæ§½ä½å¤Ÿç”¨äº†&lt;/font&gt;ã€‚æ²¡æœ‰å¿…è¦æ‹“å±•åˆ° 65536 ä¸ªã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æ§½ä½è¶Šå°ï¼ŒèŠ‚ç‚¹å°‘çš„æƒ…å†µä¸‹ï¼Œ&lt;strong&gt;å‹ç¼©æ¯”é«˜ï¼Œå®¹æ˜“ä¼ è¾“&lt;/strong&gt;&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Redis çš„ master èŠ‚ç‚¹çš„é…ç½®ä¿¡æ¯ä¸­å®ƒæ‰€è´Ÿè´£çš„å“ˆå¸Œæ§½æ˜¯é€šè¿‡ä¸€å¼  bitmap çš„å½¢å¼æ¥ä¿å­˜çš„ï¼Œåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¼šå¯¹ bitmap è¿›è¡Œå‹ç¼©ï¼Œä½†æ˜¯&lt;font color=&#39;red&#39;&gt;å¦‚æœ bitmap çš„å¡«å……ç‡ slots / N å¾ˆé«˜çš„è¯ (N è¡¨ç¤ºèŠ‚ç‚¹æ•°)ï¼Œbitmap çš„å‹ç¼©ç‡å°±å¾ˆä½&lt;/font&gt;ã€‚å¦‚æœèŠ‚ç‚¹æ•°å¾ˆå°‘ï¼Œè€Œå“ˆå¸Œæ§½æ•°é‡å¾ˆå¤šçš„è¯ï¼Œbitmap çš„å‹ç¼©ç‡å°±å¾ˆä½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é›†ç¾¤æ“ä½œæ¡ˆä¾‹æ¼”ç¤º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é›†ç¾¤æ“ä½œæ¡ˆä¾‹æ¼”ç¤º&#34;&gt;#&lt;/a&gt; é›†ç¾¤æ“ä½œï¼ˆæ¡ˆä¾‹æ¼”ç¤ºï¼‰&lt;/h3&gt;
&lt;h4 id=&#34;é›†ç¾¤æ¶æ„è¯´æ˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é›†ç¾¤æ¶æ„è¯´æ˜&#34;&gt;#&lt;/a&gt; é›†ç¾¤æ¶æ„è¯´æ˜&lt;/h4&gt;
&lt;p&gt;é›†ç¾¤çš„æ¶æ„æ˜¯æœ€ç®€å•çš„ä¸‰ä¸»ä¸‰ä»ã€‚å³åœ¨ 3 å°è™šæ‹Ÿæœºä¸Šæ–°å»º 6 ä¸ªç‹¬ç«‹çš„ Redis å®ä¾‹æœåŠ¡ï¼Œæ¯å°æœºå™¨ä¸Šä¸€ä¸»ä¸€ä»ï¼Œ&lt;font color=&#39;gree&#39;&gt;è®¾è®¡å›¾&lt;/font&gt;å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;master ä¸ slave çš„è§’è‰²ä»¥åŠé…å¯¹å…³ç³»ï¼Œå®é™…ä¸Šæ˜¯åœ¨ç³»ç»Ÿæ­å»ºæˆåŠŸåè‡ªåŠ¨éšæœºåˆ†é…çš„&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/IMG_8445(20230809-135635).JPEG&#34; alt=&#34;IMG_8445(20230809-135635)&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;é›†ç¾¤æ­å»º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é›†ç¾¤æ­å»º&#34;&gt;#&lt;/a&gt; é›†ç¾¤æ­å»º&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;æ¥ä¸‹æ¥çš„æ“ä½œä¸­ï¼ŒRedis èŠ‚ç‚¹ä» 6381~6386 å˜æˆäº† 6380~6385ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;é›†ç¾¤æ¶æ„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é›†ç¾¤æ¶æ„&#34;&gt;#&lt;/a&gt; é›†ç¾¤æ¶æ„&lt;/h5&gt;
&lt;p&gt;ä¸‹é¢è¦æ­å»ºçš„ Redis åˆ†å¸ƒå¼ç³»ç»Ÿç”± 6 ä¸ªèŠ‚ç‚¹æ„æˆï¼Œè¿™ 6 ä¸ªèŠ‚ç‚¹çš„åœ°å€åŠè§’è‰²åˆ†åˆ«å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚ä¸€ä¸ª master é…å¤‡ä¸€ä¸ª slaveï¼Œä¸è¿‡ master ä¸ slave çš„è§’è‰²ä»¥åŠé…å¯¹å…³ç³»ï¼Œå®é™…ä¸Šæ˜¯åœ¨ç³»ç»Ÿæ­å»ºæˆåŠŸåè‡ªåŠ¨éšæœºåˆ†é…çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213190023854.png&#34; alt=&#34;image-20231213190023854&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;åˆ é™¤æŒä¹…åŒ–æ–‡ä»¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ é™¤æŒä¹…åŒ–æ–‡ä»¶&#34;&gt;#&lt;/a&gt; åˆ é™¤æŒä¹…åŒ–æ–‡ä»¶&lt;/h5&gt;
&lt;p&gt;å…ˆå°†ä¹‹å‰ â€œRedis ä¸»ä»é›†ç¾¤â€ ä¸­åœ¨ Redis å®‰è£…ç›®å½•ä¸‹ç”Ÿæˆçš„&lt;font color=&#39;red&#39;&gt; RDB æŒä¹…åŒ–æ–‡ä»¶&lt;/font&gt; dump638*.conf ä¸&lt;font color=&#39;red&#39;&gt; AOF æŒä¹…åŒ–æ–‡ä»¶&lt;/font&gt;åˆ é™¤ã€‚å› ä¸º&lt;font color=&#39;red&#39;&gt; Redis åˆ†å¸ƒå¼ç³»ç»Ÿè¦æ±‚åˆ›å»ºåœ¨ä¸€ä¸ªç©ºçš„æ•°æ®åº“ä¹‹ä¸Š&lt;/font&gt;ã€‚æ³¨æ„ï¼Œ AOF æŒä¹…åŒ–æ–‡ä»¶å…¨éƒ¨åœ¨ appendonlydir ç›®å½•ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213190413135.png&#34; alt=&#34;image-20231213190413135&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;åˆ›å»ºç›®å½•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ›å»ºç›®å½•&#34;&gt;#&lt;/a&gt; åˆ›å»ºç›®å½•&lt;/h5&gt;
&lt;p&gt;åœ¨ Redis å®‰è£…ç›®å½•ä¸­ mkdir ä¸€ä¸ªæ–°çš„ç›®å½• cluster-disï¼Œç”¨ä½œåˆ†å¸ƒå¼ç³»ç»Ÿçš„å·¥ä½œç›®å½•ã€‚&lt;/p&gt;
&lt;h5 id=&#34;å¤åˆ¶2ä¸ªé…ç½®æ–‡ä»¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¤åˆ¶2ä¸ªé…ç½®æ–‡ä»¶&#34;&gt;#&lt;/a&gt; å¤åˆ¶ 2 ä¸ªé…ç½®æ–‡ä»¶&lt;/h5&gt;
&lt;p&gt;å°† cluster ç›®å½•ä¸­çš„ redis.conf ä¸ redis6380.conf æ–‡ä»¶å¤åˆ¶åˆ° cluster-dis ç›®å½•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213190509762.png&#34; alt=&#34;image-20231213190509762&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;ä¿®æ”¹-redisconf&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¿®æ”¹-redisconf&#34;&gt;#&lt;/a&gt; ä¿®æ”¹ redis.conf&lt;/h5&gt;
&lt;p&gt;å¯¹äº redis.conf é…ç½®æ–‡ä»¶ï¼Œä¸»è¦æ¶‰åŠåˆ°ä»¥ä¸‹ä¸‰ä¸ªå››ä¸ªå±æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;dir&lt;/code&gt; ï¼šæŒ‡å®š&lt;font color=&#39;red&#39;&gt;å·¥ä½œç›®å½•&lt;/font&gt;ä¸ºå‰é¢åˆ›å»ºçš„ cluster-dis ç›®å½•ã€‚æŒä¹…åŒ–æ–‡ä»¶ã€èŠ‚ç‚¹é…ç½®æ–‡ä»¶å°†æ¥éƒ½ä¼šåœ¨å·¥ä½œç›®å½•ä¸­è‡ªåŠ¨ç”Ÿæˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213190633688.png&#34; alt=&#34;image-20231213190633688&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;cluster-enabled&lt;/code&gt; ï¼šå¼€å¯ Redis çš„&lt;font color=&#39;red&#39;&gt;é›†ç¾¤æ¨¡å¼&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213190642530.png&#34; alt=&#34;image-20231213190642530&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;cluster-config-file&lt;/code&gt; ï¼šæŒ‡å®š â€œé›†ç¾¤èŠ‚ç‚¹â€ çš„&lt;font color=&#39;red&#39;&gt;é…ç½®æ–‡ä»¶&lt;/font&gt;ã€‚è¯¥æ–‡ä»¶ä¼šåœ¨ç¬¬ä¸€æ¬¡èŠ‚ç‚¹å¯åŠ¨æ—¶è‡ªåŠ¨ç”Ÿæˆï¼Œå…¶ç”Ÿæˆçš„è·¯å¾„æ˜¯åœ¨ dir å±æ€§æŒ‡å®šçš„å·¥ä½œç›®å½•ä¸­ã€‚åœ¨é›†ç¾¤èŠ‚ç‚¹ä¿¡æ¯å‘ç”Ÿå˜åŒ–åï¼ˆå¦‚èŠ‚ç‚¹ä¸‹çº¿ã€æ•…éšœè½¬ç§»ç­‰ï¼‰ï¼ŒèŠ‚ç‚¹ä¼šè‡ªåŠ¨å°†é›†ç¾¤çŠ¶æ€ä¿¡æ¯ä¿å­˜åˆ°è¯¥é…ç½®æ–‡ä»¶ä¸­ã€‚ä¸è¿‡ï¼Œè¯¥å±æ€§åœ¨è¿™é‡Œä»ä¿æŒæ³¨é‡ŠçŠ¶æ€ã€‚&lt;font color=&#39;red&#39;&gt;åœ¨åé¢çš„æ¯ä¸ªèŠ‚ç‚¹å•ç‹¬çš„é…ç½®æ–‡ä»¶ä¸­é…ç½®å®ƒ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213190827903.png&#34; alt=&#34;image-20231213190827903&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;cluster-node-timeout&lt;/code&gt; ï¼šæŒ‡å®š â€œé›†ç¾¤èŠ‚ç‚¹â€ é—´&lt;font color=&#39;red&#39;&gt;é€šä¿¡çš„è¶…æ—¶æ—¶é—´é˜ˆå€¼&lt;/font&gt;ï¼Œå•ä½æ¯«ç§’ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213190925419.png&#34; alt=&#34;image-20231213190925419&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ä¿®æ”¹-redis6380conf&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¿®æ”¹-redis6380conf&#34;&gt;#&lt;/a&gt; ä¿®æ”¹ redis6380.conf&lt;/h5&gt;
&lt;p&gt;ä»…æ·»åŠ ä¸€ä¸ª cluster-config-file å±æ€§å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213191005505.png&#34; alt=&#34;image-20231213191005505&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;å¤åˆ¶5ä¸ªé…ç½®æ–‡ä»¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¤åˆ¶5ä¸ªé…ç½®æ–‡ä»¶&#34;&gt;#&lt;/a&gt; å¤åˆ¶ 5 ä¸ªé…ç½®æ–‡ä»¶&lt;/h5&gt;
&lt;p&gt;ä½¿ç”¨ redis6380.conf å¤åˆ¶å‡º 5 ä¸ªé…ç½®æ–‡ä»¶ redis6381.confã€redis6382.confã€redis6383.confã€redis6384.confã€ redis6385.confã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213191314724.png&#34; alt=&#34;image-20231213191314724&#34; /&gt;&lt;/p&gt;
&lt;p&gt;cluster-dis ä¸­å‡ºç°äº† 7 ä¸ªé…ç½®æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213191414191.png&#34; alt=&#34;image-20231213191414191&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;ä¿®æ”¹5ä¸ªé…ç½®æ–‡ä»¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¿®æ”¹5ä¸ªé…ç½®æ–‡ä»¶&#34;&gt;#&lt;/a&gt; ä¿®æ”¹ 5 ä¸ªé…ç½®æ–‡ä»¶&lt;/h5&gt;
&lt;p&gt;ä¿®æ”¹ 5 ä¸ªé…ç½®æ–‡ä»¶ redis6381.confã€ redis6382.confã€ redis6383.confã€ redis6384.confã€redis6385.conf çš„å†…å®¹ï¼Œå°†å…¶ä¸­æ‰€æœ‰æ¶‰åŠçš„&lt;font color=&#39;red&#39;&gt;ç«¯å£å·&lt;/font&gt;å…¨éƒ¨æ›¿æ¢ä¸ºå½“å‰æ–‡ä»¶åç§°ä¸­çš„ç«¯å£å·ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„æ˜¯ redis6381.conf çš„é…ç½®æ–‡ä»¶å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213191459568.png&#34; alt=&#34;image-20231213191459568&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;é›†ç¾¤å¯åŠ¨ä¸å…³é—­&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é›†ç¾¤å¯åŠ¨ä¸å…³é—­&#34;&gt;#&lt;/a&gt; é›†ç¾¤å¯åŠ¨ä¸å…³é—­&lt;/h4&gt;
&lt;h5 id=&#34;å¯åŠ¨èŠ‚ç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¯åŠ¨èŠ‚ç‚¹&#34;&gt;#&lt;/a&gt; å¯åŠ¨èŠ‚ç‚¹&lt;/h5&gt;
&lt;p&gt;å¯åŠ¨æ‰€æœ‰ Redis èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213193441641.png&#34; alt=&#34;image-20231213193441641&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213193459669.png&#34; alt=&#34;image-20231213193459669&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶æŸ¥çœ‹ cluster-dis ç›®å½•ï¼Œå¯ä»¥çœ‹åˆ°ç”Ÿæˆäº† 6 ä¸ª nodes çš„é…ç½®æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213193536609.png&#34; alt=&#34;image-20231213193536609&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;åˆ›å»ºé›†ç¾¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ›å»ºé›†ç¾¤&#34;&gt;#&lt;/a&gt; åˆ›å»ºé›†ç¾¤&lt;/h5&gt;
&lt;p&gt;6 ä¸ªèŠ‚ç‚¹å¯åŠ¨åï¼Œå®ƒä»¬ä»æ˜¯ 6 ä¸ªç‹¬ç«‹çš„ Redisï¼Œé€šè¿‡  &lt;code&gt;redis-cli --cluster create&lt;/code&gt;  å‘½ä»¤å¯å°† 6 ä¸ªèŠ‚ç‚¹åˆ›å»ºäº†ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213193647388.png&#34; alt=&#34;image-20231213193647388&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¯¥å‘½ä»¤ç”¨äºå°†æŒ‡å®šçš„ 6 ä¸ªèŠ‚ç‚¹è¿æ¥ä¸ºä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿã€‚  &lt;code&gt;--cluster replicas 1&lt;/code&gt;  &lt;font color=&#39;red&#39;&gt;æŒ‡å®šæ¯ä¸ª master ä¼šå¸¦æœ‰ä¸€ä¸ª slave ä½œä¸ºå‰¯æœ¬&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å›è½¦åä¼šç«‹å³çœ‹åˆ°å¦‚ä¸‹æ—¥å¿—ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213193728569.png&#34; alt=&#34;image-20231213193728569&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¾“å…¥ yes åå›è½¦ï¼Œç³»ç»Ÿå°±ä¼šå°†ä»¥ä¸Šæ˜¾ç¤ºçš„åŠ¨æ€é…ç½®ä¿¡æ¯çœŸæ­£çš„åº”ç”¨åˆ°èŠ‚ç‚¹ä¸Šï¼Œç„¶åå°±å¯çœ‹åˆ°å¦‚ä¸‹æ—¥å¿—ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213193902008.png&#34; alt=&#34;image-20231213193902008&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;æµ‹è¯•é›†ç¾¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æµ‹è¯•é›†ç¾¤&#34;&gt;#&lt;/a&gt; æµ‹è¯•é›†ç¾¤&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213194244750.png&#34; alt=&#34;image-20231213194244750&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡  &lt;code&gt;cluster nodes&lt;/code&gt;  å‘½ä»¤å¯ä»¥&lt;font color=&#39;red&#39;&gt;æŸ¥çœ‹ç³»ç»Ÿä¸­å„èŠ‚ç‚¹çš„å…³ç³»åŠè¿æ¥æƒ…å†µ&lt;/font&gt;ã€‚åªè¦èƒ½çœ‹åˆ°æ¯ä¸ªèŠ‚ç‚¹ç»™å‡º connectedï¼Œå°±è¯´æ˜åˆ†å¸ƒå¼ç³»ç»Ÿå·²ç»æˆåŠŸæ­å»ºã€‚ä¸è¿‡ï¼Œå¯¹äºå®¢æˆ·ç«¯è¿æ¥å‘½ä»¤ redis-cliï¼Œéœ€è¦æ³¨æ„ä¸¤ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‚æ•° - cï¼šè¡¨ç¤ºè¿™æ˜¯è¦è¿æ¥ä¸€ä¸ª â€œé›†ç¾¤â€ï¼Œè€Œéæ˜¯ä¸€ä¸ªèŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;ç«¯å£å·ï¼šå¯ä»¥ä½¿ç”¨ 6 ä¸ªä¸­çš„ä»»æ„ä¸€ä¸ªã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å…³é—­é›†ç¾¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å…³é—­é›†ç¾¤&#34;&gt;#&lt;/a&gt; å…³é—­é›†ç¾¤&lt;/h5&gt;
&lt;p&gt;å¯¹äºåˆ†å¸ƒå¼ç³»ç»Ÿçš„å…³é—­ï¼Œåªéœ€å°†å„ä¸ªèŠ‚ç‚¹ shutdown å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213194413240.png&#34; alt=&#34;image-20231213194413240&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;è¿æ¥é›†ç¾¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¿æ¥é›†ç¾¤&#34;&gt;#&lt;/a&gt; è¿æ¥é›†ç¾¤&lt;/h4&gt;
&lt;p&gt;æ— è®ºè¦æ€æ ·æ“ä½œåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œéƒ½éœ€è¦é¦–å…ˆè¿æ¥ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213194657202.png&#34; alt=&#34;image-20231213194657202&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¸ä¹‹å‰å•æœºè¿æ¥ç›¸æ¯”çš„å”¯ä¸€åŒºåˆ«å°±æ˜¯å¢åŠ äº†å‚æ•° - cã€‚&lt;/p&gt;
&lt;h4 id=&#34;å†™å…¥æ•°æ®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å†™å…¥æ•°æ®&#34;&gt;#&lt;/a&gt; å†™å…¥æ•°æ®&lt;/h4&gt;
&lt;h5 id=&#34;key-å•ä¸ªå†™å…¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#key-å•ä¸ªå†™å…¥&#34;&gt;#&lt;/a&gt; key å•ä¸ªå†™å…¥&lt;/h5&gt;
&lt;p&gt;æ— è®º value ç±»å‹ä¸º String è¿˜æ˜¯ Listã€Set ç­‰é›†åˆç±»å‹ï¼Œåªè¦å†™å…¥æ—¶æ“ä½œçš„æ˜¯ä¸€ä¸ª keyï¼Œé‚£ä¹ˆåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å°±æ²¡æœ‰é—®é¢˜ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213194800157.png&#34; alt=&#34;image-20231213194800157&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213195107814.png&#34; alt=&#34;image-20231213195107814&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;key-æ‰¹é‡æ“ä½œ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#key-æ‰¹é‡æ“ä½œ&#34;&gt;#&lt;/a&gt; key æ‰¹é‡æ“ä½œ&lt;/h5&gt;
&lt;p&gt;å¯¹ä¸€æ¬¡å†™å…¥å¤šä¸ª key çš„æ“ä½œï¼Œ&lt;font color=&#39;red&#39;&gt;ç”±äºå¤šä¸ª key ä¼šè®¡ç®—å‡ºå¤šä¸ª slotï¼Œå¤šä¸ª slot å¯èƒ½ä¼šå¯¹åº”å¤šä¸ªèŠ‚ç‚¹ã€‚è€Œç”±äº&lt;strong&gt;ä¸€æ¬¡åªèƒ½å†™å…¥ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥è¯¥æ“ä½œä¼šæŠ¥é”™&lt;/strong&gt;&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213195136514.png&#34; alt=&#34;image-20231213195136514&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œç³»ç»Ÿä¹Ÿæä¾›äº†ä¸€ç§å¯¹æ‰¹é‡ key çš„æ“ä½œæ–¹æ¡ˆï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä¸ºè¿™äº› key æŒ‡å®šä¸€ä¸ªç»Ÿä¸€çš„ groupï¼Œè®©è¿™ä¸ª group ä½œä¸ºè®¡ç®— slot çš„å”¯ä¸€å€¼&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231213195151905.png&#34; alt=&#34;image-20231213195151905&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;é›†ç¾¤æŸ¥è¯¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é›†ç¾¤æŸ¥è¯¢&#34;&gt;#&lt;/a&gt; é›†ç¾¤æŸ¥è¯¢&lt;/h4&gt;
&lt;h5 id=&#34;æŸ¥è¯¢-key-çš„-slot&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æŸ¥è¯¢-key-çš„-slot&#34;&gt;#&lt;/a&gt; æŸ¥è¯¢ key çš„ slot&lt;/h5&gt;
&lt;p&gt;é€šè¿‡  &lt;code&gt;cluster keyslot&lt;/code&gt;  å¯ä»¥&lt;font color=&#39;red&#39;&gt;æŸ¥è¯¢æŒ‡å®š key çš„ slot&lt;/font&gt;ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯æŸ¥è¯¢ emp çš„ slotã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231214003835665.png&#34; alt=&#34;image-20231214003835665&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;æŸ¥è¯¢-slot-ä¸­-key-çš„æ•°é‡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æŸ¥è¯¢-slot-ä¸­-key-çš„æ•°é‡&#34;&gt;#&lt;/a&gt; æŸ¥è¯¢ slot ä¸­ key çš„æ•°é‡&lt;/h5&gt;
&lt;p&gt;é€šè¿‡  &lt;code&gt;cluster countkeysinslot&lt;/code&gt;  å‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ°æŒ‡å®š slot æ‰€åŒ…å«çš„ key çš„ä¸ªæ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231214003913529.png&#34; alt=&#34;image-20231214003913529&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;æŸ¥è¯¢-slot-ä¸­çš„-key&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æŸ¥è¯¢-slot-ä¸­çš„-key&#34;&gt;#&lt;/a&gt; æŸ¥è¯¢ slot ä¸­çš„ key&lt;/h5&gt;
&lt;p&gt;é€šè¿‡  &lt;code&gt;cluster getkeysinslot&lt;/code&gt;  å‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ°æŒ‡å®š slot æ‰€åŒ…å«çš„ keyã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231214003941285.png&#34; alt=&#34;image-20231214003941285&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;æ•…éšœè½¬ç§»failover&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•…éšœè½¬ç§»failover&#34;&gt;#&lt;/a&gt; æ•…éšœè½¬ç§»ï¼ˆfailoverï¼‰&lt;/h4&gt;
&lt;h5 id=&#34;æ¨¡æ‹Ÿæ•…éšœ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¨¡æ‹Ÿæ•…éšœ&#34;&gt;#&lt;/a&gt; æ¨¡æ‹Ÿæ•…éšœ&lt;/h5&gt;
&lt;p&gt;é€šè¿‡  &lt;code&gt;cluster nodes&lt;/code&gt;  å‘½ä»¤å¯ä»¥æŸ¥çœ‹&lt;font color=&#39;red&#39;&gt;é›†ç¾¤çš„æ•´ä½“æ¶æ„åŠè¿æ¥æƒ…å†µ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231214150028063.png&#34; alt=&#34;image-20231214150028063&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡  &lt;code&gt;info replication&lt;/code&gt;  æŸ¥çœ‹&lt;font color=&#39;red&#39;&gt;å½“å‰å®¢æˆ·ç«¯è¿æ¥çš„èŠ‚ç‚¹çš„è§’è‰²&lt;/font&gt;ã€‚å¯ä»¥çœ‹åˆ°ï¼Œ6381 èŠ‚ç‚¹æ˜¯ masterï¼Œå…¶ slave ä¸º 6383 èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231214150155289.png&#34; alt=&#34;image-20231214150155289&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ¨¡æ‹Ÿ 6381 å®•æœºï¼Œç›´æ¥å°†å…¶ shutdownã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231214150205563.png&#34; alt=&#34;image-20231214150205563&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡å®¢æˆ·ç«¯è¿æ¥ä¸Š 6383 èŠ‚ç‚¹åå¯ä»¥æŸ¥çœ‹åˆ°ï¼Œ&lt;font color=&#39;red&#39;&gt;6383 èŠ‚ç‚¹å·²ç»è‡ªåŠ¨æ™‹å‡ä¸ºäº† master&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231214150223922.png&#34; alt=&#34;image-20231214150223922&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é‡å¯ 6381 èŠ‚ç‚¹åæŸ¥çœ‹å…¶è§’è‰²ï¼Œå‘ç°&lt;font color=&#39;red&#39;&gt; 6381 èŠ‚ç‚¹è‡ªåŠ¨æˆä¸ºäº† 6383 èŠ‚ç‚¹çš„ slave&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231214150239399.png&#34; alt=&#34;image-20231214150239399&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;å…¨è¦†ç›–éœ€æ±‚&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å…¨è¦†ç›–éœ€æ±‚&#34;&gt;#&lt;/a&gt; å…¨è¦†ç›–éœ€æ±‚&lt;/h5&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¦‚æœæŸ slot èŒƒå›´å¯¹åº”èŠ‚ç‚¹çš„ master ä¸ slave å…¨éƒ¨å®•æœºï¼Œé‚£ä¹ˆæ•´ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯å¦è¿˜å¯ä»¥å¯¹å¤–æä¾›è¯»æœåŠ¡&lt;/font&gt;ï¼Œå°±å–å†³äºå±æ€§  &lt;code&gt;cluster-require-full-coverage&lt;/code&gt;  çš„è®¾ç½®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231214150545505.png&#34; alt=&#34;image-20231214150545505&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¯¥å±æ€§æœ‰ä¸¤ç§å–å€¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;yes&lt;/font&gt;ï¼šé»˜è®¤å€¼ã€‚è¦æ±‚æ‰€æœ‰ slot èŠ‚ç‚¹å¿…é¡»å…¨è¦†ç›–çš„æƒ…å†µä¸‹ç³»ç»Ÿæ‰èƒ½è¿è¡Œã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;no&lt;/font&gt;ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;slot èŠ‚ç‚¹ä¸å…¨çš„æƒ…å†µä¸‹ç³»ç»Ÿä¹Ÿå¯ä»¥æä¾›æŸ¥è¯¢æœåŠ¡&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;é›†ç¾¤æ‰©å®¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é›†ç¾¤æ‰©å®¹&#34;&gt;#&lt;/a&gt; é›†ç¾¤æ‰©å®¹&lt;/h4&gt;
&lt;p&gt;ä¸‹é¢è¦åœ¨æ­£åœ¨è¿è¡Œçš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸­æ·»åŠ ä¸¤ä¸ªæ–°çš„èŠ‚ç‚¹ï¼šç«¯å£å·ä¸º 6386 çš„èŠ‚ç‚¹ä¸º master èŠ‚ç‚¹ï¼Œå…¶ä¸‹ä¼šæœ‰ä¸€ä¸ªç«¯å£å·ä¸º 6387 çš„ slave èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;h5 id=&#34;å¤åˆ¶å¹¶ä¿®æ”¹-2-ä¸ªé…ç½®æ–‡ä»¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¤åˆ¶å¹¶ä¿®æ”¹-2-ä¸ªé…ç½®æ–‡ä»¶&#34;&gt;#&lt;/a&gt; å¤åˆ¶å¹¶ä¿®æ”¹ 2 ä¸ªé…ç½®æ–‡ä»¶&lt;/h5&gt;
&lt;p&gt;ä½¿ç”¨ redis6380.conf å¤åˆ¶å‡º 2 ä¸ªé…ç½®æ–‡ä»¶ redis6386.conf ä¸ redis6387.confï¼Œå¹¶ä¿®æ”¹å…¶ä¸­çš„å„å¤„ç«¯å£å·ä¸ºç›¸åº”ç«¯å£å·ï¼Œä¸ºé›†ç¾¤æ‰©å®¹åšå‰æœŸå‡†å¤‡ã€‚&lt;/p&gt;
&lt;h5 id=&#34;å¯åŠ¨ç³»ç»Ÿä¸-2-ä¸ªèŠ‚ç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¯åŠ¨ç³»ç»Ÿä¸-2-ä¸ªèŠ‚ç‚¹&#34;&gt;#&lt;/a&gt; å¯åŠ¨ç³»ç»Ÿä¸ 2 ä¸ªèŠ‚ç‚¹&lt;/h5&gt;
&lt;p&gt;ç”±äºè¦æ¼”ç¤ºçš„æ˜¯åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿè¿è¡ŒæœŸé—´çš„åŠ¨æ€æ‰©å®¹ï¼Œæ‰€ä»¥è¿™é‡Œå…ˆå¯åŠ¨åˆ†å¸ƒå¼ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231215172635503.png&#34; alt=&#34;image-20231215172635503&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¦æ·»åŠ çš„ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯ä¸¤ä¸ª Redisï¼Œæ‰€ä»¥éœ€è¦å…ˆå°†å®ƒä»¬å¯åŠ¨ã€‚åªä¸è¿‡ï¼Œåœ¨æ²¡æœ‰æ·»åŠ åˆ°åˆ†å¸ƒå¼ç³»ç»Ÿä¹‹å‰ï¼Œå®ƒä»¬ä¸¤ä¸ªæ˜¯å­¤ç«‹èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸å…¶å®ƒä»»ä½•èŠ‚ç‚¹éƒ½æ²¡æœ‰å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231215172655817.png&#34; alt=&#34;image-20231215172655817&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;æ·»åŠ -master-èŠ‚ç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ·»åŠ -master-èŠ‚ç‚¹&#34;&gt;#&lt;/a&gt; æ·»åŠ  master èŠ‚ç‚¹&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231215172700376.png&#34; alt=&#34;image-20231215172700376&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡å‘½ä»¤  &lt;code&gt;redis-cli --cluster add-node &amp;#123;newHost&amp;#125;:&amp;#123;newPort&amp;#125; &amp;#123;existHost&amp;#125;:&amp;#123;existPort&amp;#125;&lt;/code&gt;  å¯ä»¥å°†æ–°çš„èŠ‚ç‚¹æ·»åŠ åˆ°ç³»ç»Ÿä¸­ã€‚å…¶ä¸­ {newHost}:{newPort} æ˜¯æ–°æ·»åŠ èŠ‚ç‚¹çš„åœ°å€ï¼Œ{existHost}:{existPort} æ˜¯&lt;font color=&#39;red&#39;&gt;åŸç³»ç»Ÿä¸­çš„ä»»æ„èŠ‚ç‚¹åœ°å€&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ·»åŠ æˆåŠŸåå¯çœ‹åˆ°å¦‚ä¸‹æ—¥å¿—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231215172848431.png&#34; alt=&#34;image-20231215172848431&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ·»åŠ æˆåŠŸåï¼Œé€šè¿‡  &lt;code&gt;redis-cli -c -p 6386 cluster nodes&lt;/code&gt;  å‘½ä»¤å¯ä»¥çœ‹åˆ°å…¶å®ƒ master èŠ‚ç‚¹éƒ½åˆ†é…æœ‰ slotï¼Œåªæœ‰æ–°æ·»åŠ çš„ master è¿˜æ²¡æœ‰ç›¸åº”çš„ slotã€‚å½“ç„¶ï¼Œé€šè¿‡è¯¥å‘½ä»¤ä¹Ÿå¯ä»¥çœ‹åˆ°è¯¥æ–°èŠ‚ç‚¹çš„åŠ¨æ€ IDã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231215172946229.png&#34; alt=&#34;image-20231215172946229&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;åˆ†é…-slot&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†é…-slot&#34;&gt;#&lt;/a&gt; åˆ†é… slot&lt;/h5&gt;
&lt;p&gt;ä¸ºæ–°çš„ master åˆ†é…çš„ slot æ¥è‡ªäºå…¶å®ƒèŠ‚ç‚¹ï¼Œæ€» slot æ•°é‡å¹¶ä¸ä¼šæ”¹å˜ã€‚æ‰€ä»¥ slot åˆ†é…è¿‡ç¨‹&lt;font color=&#39;red&#39;&gt;æœ¬è´¨æ˜¯ä¸€ä¸ª slot çš„ç§»åŠ¨è¿‡ç¨‹&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡  &lt;code&gt;redis-cli â€“c --cluster reshard &amp;#123;existIP&amp;#125;:&amp;#123;existPort&amp;#125;&lt;/code&gt;  å‘½ä»¤å¯ **&lt;font color=&#39;red&#39;&gt;å¼€å¯ slot åˆ†é…æµç¨‹&lt;/font&gt;**ã€‚å…¶ä¸­åœ°å€ {existIP}:{existPort} ä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„ä»»æ„èŠ‚ç‚¹åœ°å€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231215173057570.png&#34; alt=&#34;image-20231215173057570&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¯¥æµç¨‹ä¸­ä¼š&lt;font color=&#39;red&#39;&gt;é¦–å…ˆæŸ¥è¯¢å‡ºå½“å‰èŠ‚ç‚¹çš„ slot åˆ†é…æƒ…å†µ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231215173132186.png&#34; alt=&#34;image-20231215173132186&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç„¶å&lt;font color=&#39;red&#39;&gt;å¼€å§‹ Q&amp;amp;A äº¤äº’&lt;/font&gt;ã€‚ä¸€å…±è¯¢é—®äº†å››ä¸ªé—®é¢˜ï¼Œè¿™é‡Œæœ‰ä¸‰ä¸ªï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‡†å¤‡ç§»åŠ¨å¤šå°‘ slotï¼Ÿ&lt;/li&gt;
&lt;li&gt;å‡†å¤‡ç”±è°æ¥æ¥æ”¶ç§»åŠ¨çš„ slotï¼Ÿ&lt;/li&gt;
&lt;li&gt;é€‰æ‹©è¦ç§»åŠ¨ slot çš„æºèŠ‚ç‚¹ï¼Œæœ‰ä¸¤ç§æ–¹æ¡ˆã€‚
&lt;ul&gt;
&lt;li&gt;å¦‚æœé€‰æ‹©é”®å…¥ &lt;font color=&#39;gree&#39;&gt;all&lt;/font&gt;ï¼Œåˆ™æ‰€æœ‰å·²å­˜åœ¨ slot çš„èŠ‚ç‚¹éƒ½å°†ä½œä¸º slot æºèŠ‚ç‚¹ï¼Œå³è¯¥æ–¹æ¡ˆå°†è¿›è¡Œä¸€æ¬¡ slot å…¨å±€å¤§åˆ†é…ã€‚&lt;/li&gt;
&lt;li&gt;ä¹Ÿå¯ä»¥é€‰æ‹©&lt;font color=&#39;gree&#39;&gt;å…¶å®ƒéƒ¨åˆ†èŠ‚ç‚¹&lt;/font&gt;ä½œä¸º slot æºèŠ‚ç‚¹ã€‚æ­¤æ—¶å°†æºèŠ‚ç‚¹çš„åŠ¨æ€ ID å¤åˆ¶åˆ°è¿™é‡Œï¼Œæ¯ä¸ª ID é”®å…¥å®Œæ¯•åå›è½¦ï¼Œç„¶åå†å¤åˆ¶ä¸‹ä¸€ä¸ª slot æºèŠ‚ç‚¹åŠ¨æ€ IDï¼Œç›´è‡³æœ€åä¸€ä¸ªé”®å…¥å®Œæ¯•å›è½¦åå†é”®å…¥ doneã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™é‡Œé”®å…¥çš„æ˜¯ allï¼Œè¿›è¡Œå…¨å±€å¤§åˆ†é…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231215175514516.png&#34; alt=&#34;image-20231215175514516&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å…¶é¦–å…ˆä¼šæ£€æµ‹æŒ‡å®šçš„ slot æºèŠ‚ç‚¹çš„æ•°æ®ï¼Œç„¶ååˆ¶å®šå‡º reshard çš„æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231215180639548.png&#34; alt=&#34;image-20231215180639548&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œä¼šå†è¿›è¡Œä¸€æ¬¡ Q&amp;amp;A äº¤äº’ï¼Œè¯¢é—®æ˜¯å¦æƒ³ç»§ç»­å¤„ç†æ¨èçš„æ–¹æ¡ˆã€‚é”®å…¥ yesï¼Œç„¶åå¼€å§‹çœŸæ­£çš„å…¨å±€åˆ†é…ï¼Œç›´è‡³å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231215180704120.png&#34; alt=&#34;image-20231215180704120&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶å†é€šè¿‡ redis-cli -c -p 6386 cluster nodes å‘½ä»¤æŸ¥çœ‹èŠ‚ç‚¹ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ° 6386 èŠ‚ç‚¹ä¸­å·²ç»åˆ†é…äº† slotï¼Œåªä¸è¿‡åˆ†é…çš„ slot ç¼–å·å¹¶ä¸è¿ç»­ã€‚ master èŠ‚ç‚¹æ–°å¢å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231215180725935.png&#34; alt=&#34;image-20231215180725935&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;æ·»åŠ -slave-èŠ‚ç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ·»åŠ -slave-èŠ‚ç‚¹&#34;&gt;#&lt;/a&gt; æ·»åŠ  slave èŠ‚ç‚¹&lt;/h5&gt;
&lt;p&gt;ç°è¦å°† 6387 èŠ‚ç‚¹æ·»åŠ ä¸º 6386 èŠ‚ç‚¹çš„ slaveã€‚ å½“ç„¶ï¼Œé¦–å…ˆè¦ç¡®ä¿ 6387 èŠ‚ç‚¹çš„ Redis æ˜¯å¯åŠ¨çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡  &lt;code&gt;redis-cli --cluster add-node &amp;#123;newHost&amp;#125;:&amp;#123;newPort&amp;#125; &amp;#123;existHost&amp;#125;:&amp;#123;existPort&amp;#125; --cluster-slave --cluster-master-id masterID&lt;/code&gt;  å‘½ä»¤å¯å°†æ–°æ·»åŠ çš„èŠ‚ç‚¹ç›´æ¥æ·»åŠ ä¸ºæŒ‡å®š master çš„ slaveã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231215180849727.png&#34; alt=&#34;image-20231215180849727&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å›è½¦åå¯çœ‹åˆ°å¦‚ä¸‹çš„æ—¥å¿—ï¼Œè¯´æ˜æ·»åŠ æˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231215180904899.png&#34; alt=&#34;image-20231215180904899&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶å†é€šè¿‡ redis-cli -c -p 6386 cluster nodes å‘½ä»¤å¯ä»¥çœ‹åˆ°å…¶å·²ç»æ·»åŠ æˆåŠŸï¼Œä¸”ä¸ºæŒ‡å®š master çš„ slaveã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231215180939876.png&#34; alt=&#34;image-20231215180939876&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;é›†ç¾¤ç¼©å®¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é›†ç¾¤ç¼©å®¹&#34;&gt;#&lt;/a&gt; é›†ç¾¤ç¼©å®¹&lt;/h4&gt;
&lt;p&gt;ä¸‹é¢è¦å°† slave èŠ‚ç‚¹ 6387 ä¸ master èŠ‚ç‚¹ 6386 ä»åˆ†å¸ƒå¼ç³»ç»Ÿä¸­åˆ é™¤ã€‚&lt;/p&gt;
&lt;h5 id=&#34;åˆ é™¤-slave-èŠ‚ç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ é™¤-slave-èŠ‚ç‚¹&#34;&gt;#&lt;/a&gt; åˆ é™¤ slave èŠ‚ç‚¹&lt;/h5&gt;
&lt;p&gt;å¯¹äº slave èŠ‚ç‚¹ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡  &lt;code&gt;redis-cli --cluster del-node &amp;lt;delHost&amp;gt;:&amp;lt;delPort&amp;gt; delNodeID&lt;/code&gt;  å‘½ä»¤åˆ é™¤ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231216113753611.png&#34; alt=&#34;image-20231216113753611&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶å†æŸ¥çœ‹é›†ç¾¤ï¼Œå‘ç°å·²ç»æ²¡æœ‰äº† 6387 èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231216113855438.png&#34; alt=&#34;image-20231216113855438&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;ç§»å‡º-master-çš„-slot&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç§»å‡º-master-çš„-slot&#34;&gt;#&lt;/a&gt; ç§»å‡º master çš„ slot&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;åœ¨åˆ é™¤ä¸€ä¸ª master ä¹‹å‰ï¼Œå¿…é¡»è¦ä¿è¯è¯¥ master ä¸Šæ²¡æœ‰åˆ†é…æœ‰ slotï¼Œå¦åˆ™æ— æ³•åˆ é™¤&lt;/font&gt;&lt;/strong&gt;ã€‚æ‰€ä»¥ï¼Œåœ¨åˆ é™¤ä¸€ä¸ª master ä¹‹å‰ï¼Œéœ€è¦å…ˆå°†å…¶ä¸Šåˆ†é…çš„ slot ç§»å‡ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231216114101043.png&#34; alt=&#34;image-20231216114101043&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šäº¤äº’æŒ‡å®šçš„æ˜¯å°† 6386 èŠ‚ç‚¹ä¸­çš„ 1999 ä¸ª slot ç§»åŠ¨åˆ° 6380 èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¦åˆ é™¤çš„èŠ‚ç‚¹æ‰€åŒ…å«çš„ slot æ•°é‡åœ¨å‰é¢æ£€æµ‹ç»“æœä¸­éƒ½æ˜¯å¯ä»¥çœ‹åˆ°çš„ï¼Œä¾‹å¦‚ï¼Œ 6386 ä¸­çš„å¹¶ä¸æ˜¯ 2000 ä¸ªï¼Œè€Œæ˜¯ 1999 ä¸ª&lt;/li&gt;
&lt;li&gt;What is the receiving node IDï¼Ÿä»…èƒ½æŒ‡å®šä¸€ä¸ªæ¥æ”¶èŠ‚ç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å›è½¦åç»§ç»­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231216114332934.png&#34; alt=&#34;image-20231216114332934&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231216114400814.png&#34; alt=&#34;image-20231216114400814&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶å†æŸ¥çœ‹å‘ç°ï¼Œ6386 èŠ‚ç‚¹ä¸­å·²ç»æ²¡æœ‰ slot äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231216121516825.png&#34; alt=&#34;image-20231216121516825&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;åˆ é™¤-master-èŠ‚ç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ é™¤-master-èŠ‚ç‚¹&#34;&gt;#&lt;/a&gt; åˆ é™¤ master èŠ‚ç‚¹&lt;/h5&gt;
&lt;p&gt;æ­¤æ—¶å°±å¯ä»¥åˆ é™¤ 6386 èŠ‚ç‚¹äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231216121543342.png&#34; alt=&#34;image-20231216121543342&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶å†æŸ¥çœ‹é›†ç¾¤ï¼Œå‘ç°å·²ç»æ²¡æœ‰äº† 6386 èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231216121555920.png&#34; alt=&#34;image-20231216121555920&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;å±€é™æ€§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å±€é™æ€§&#34;&gt;#&lt;/a&gt; å±€é™æ€§&lt;/h3&gt;
&lt;p&gt;Redis Cluster å­˜åœ¨ä¸€äº›ä½¿ç”¨é™åˆ¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»…æ”¯æŒ 0 å·æ•°æ®åº“&lt;/li&gt;
&lt;li&gt;æ‰¹é‡ key æ“ä½œæ”¯æŒæœ‰é™&lt;/li&gt;
&lt;li&gt;åˆ†åŒºä»…é™äº key&lt;/li&gt;
&lt;li&gt;äº‹åŠ¡æ”¯æŒæœ‰é™&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒåˆ†çº§ç®¡ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;redis-cluster-åœ¨æ‰©å®¹ç¼©å®¹æœŸé—´å¯ä»¥æä¾›æœåŠ¡å—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis-cluster-åœ¨æ‰©å®¹ç¼©å®¹æœŸé—´å¯ä»¥æä¾›æœåŠ¡å—&#34;&gt;#&lt;/a&gt; Redis Cluster åœ¨æ‰©å®¹ / ç¼©å®¹æœŸé—´å¯ä»¥æä¾›æœåŠ¡å—ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;Redis Cluster æ‰©å®¹å’Œç¼©å®¹æœ¬è´¨æ˜¯è¿›è¡Œé‡æ–°åˆ†ç‰‡ï¼ŒåŠ¨æ€è¿ç§»å“ˆå¸Œæ§½ã€‚&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ä¿è¯ Redis Cluster åœ¨æ‰©å®¹å’Œç¼©å®¹æœŸé—´ä¾ç„¶èƒ½å¤Ÿå¯¹å¤–æ­£å¸¸æä¾›æœåŠ¡ï¼ŒRedis Cluster æä¾›äº†é‡å®šå‘æœºåˆ¶ï¼Œä¸¤ç§ä¸åŒçš„ç±»å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;ASK é‡å®šå‘&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;MOVED é‡å®šå‘&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»å®¢æˆ·ç«¯çš„è§’åº¦æ¥çœ‹ï¼ŒASK é‡å®šå‘æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®¢æˆ·ç«¯å‘é€è¯·æ±‚å‘½ä»¤ï¼Œå¦‚æœè¯·æ±‚çš„ key å¯¹åº”çš„å“ˆå¸Œæ§½è¿˜åœ¨å½“å‰èŠ‚ç‚¹çš„è¯ï¼Œå°±ç›´æ¥å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å¦‚æœå®¢æˆ·ç«¯è¯·æ±‚çš„ key å¯¹åº”çš„å“ˆå¸Œæ§½å½“å‰æ­£åœ¨è¿ç§»è‡³æ–°çš„èŠ‚ç‚¹ï¼Œå°±ä¼šè¿”å›  &lt;code&gt;-ASK&lt;/code&gt;  é‡å®šå‘é”™è¯¯ï¼Œå‘ŠçŸ¥å®¢æˆ·ç«¯è¦å°†è¯·æ±‚å‘é€åˆ°å“ˆå¸Œæ§½è¢«è¿ç§»åˆ°çš„ç›®æ ‡èŠ‚ç‚¹&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯æ”¶åˆ° -ASK é‡å®šå‘é”™è¯¯åï¼Œå°†ä¼šä¸´æ—¶ï¼ˆä¸€æ¬¡æ€§ï¼‰é‡å®šå‘ï¼Œè‡ªåŠ¨å‘ç›®æ ‡èŠ‚ç‚¹å‘é€ä¸€æ¡ &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9hc2tpbmcv&#34;&gt;ASKING&lt;/span&gt; å‘½ä»¤ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¥æ”¶åˆ° ASKING å‘½ä»¤çš„èŠ‚ç‚¹ä¼šå¼ºåˆ¶æ‰§è¡Œä¸€æ¬¡è¯·æ±‚ï¼Œä¸‹æ¬¡å†æ¥éœ€è¦é‡æ–°æå‰å‘é€ ASKING å‘½ä»¤ã€‚&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯å‘é€çœŸæ­£çš„è¯·æ±‚å‘½ä»¤ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ASK é‡å®šå‘å¹¶ä¸ä¼šåŒæ­¥æ›´æ–°å®¢æˆ·ç«¯ç¼“å­˜çš„å“ˆå¸Œæ§½åˆ†é…ä¿¡æ¯&lt;/font&gt;ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®¢æˆ·ç«¯å¯¹æ­£åœ¨è¿ç§»çš„ç›¸åŒå“ˆå¸Œæ§½çš„è¯·æ±‚ä¾ç„¶ä¼šå‘é€åˆ°åŸèŠ‚ç‚¹è€Œä¸æ˜¯ç›®æ ‡èŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/ca358827-2d14-40cd-ab6a-64ec1ea21428.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¦‚æœå®¢æˆ·ç«¯è¯·æ±‚çš„ key å¯¹åº”çš„å“ˆå¸Œæ§½å·²ç»è¿ç§»å®Œæˆçš„è¯ï¼Œå°±ä¼šè¿”å›  &lt;code&gt;-MOVED&lt;/code&gt;  é‡å®šå‘é”™è¯¯ï¼Œå‘ŠçŸ¥å®¢æˆ·ç«¯å½“å‰å“ˆå¸Œæ§½æ˜¯ç”±å“ªä¸ªèŠ‚ç‚¹è´Ÿè´£ï¼Œå®¢æˆ·ç«¯å‘ç›®æ ‡èŠ‚ç‚¹å‘é€è¯·æ±‚å¹¶æ›´æ–°ç¼“å­˜çš„å“ˆå¸Œæ§½åˆ†é…ä¿¡æ¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;cap-å®šç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#cap-å®šç†&#34;&gt;#&lt;/a&gt; CAP å®šç†&lt;/h3&gt;
&lt;h4 id=&#34;æ¦‚å¿µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¦‚å¿µ&#34;&gt;#&lt;/a&gt; æ¦‚å¿µ&lt;/h4&gt;
&lt;p&gt;CAP å®šç†æŒ‡çš„æ˜¯ **&lt;font color=&#39;#B32015&#39;&gt;åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œä¸€è‡´æ€§ï¼ˆCï¼‰ã€å¯ç”¨æ€§ï¼ˆAï¼‰ã€åˆ†åŒºå®¹é”™æ€§ï¼ˆPï¼‰ä¸‰è€…ä¸å¯å…¼å¾—&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰&lt;/font&gt;ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¤šä¸ªä¸»æœºä¹‹é—´æ˜¯å¦èƒ½å¤Ÿä¿æŒæ•°æ®ä¸€è‡´çš„ç‰¹æ€§ã€‚å³ï¼Œ&lt;font color=&#39;red&#39;&gt;å½“ç³»ç»Ÿæ•°æ®å‘ç”Ÿæ›´æ–°æ“ä½œåï¼Œå„ä¸ªä¸»æœºä¸­çš„æ•°æ®ä»ç„¶å¤„äºä¸€è‡´çš„çŠ¶æ€&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å¯ç”¨æ€§ï¼ˆAvailabilityï¼‰&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;ç³»ç»Ÿæä¾›çš„æœåŠ¡å¿…é¡»ä¸€ç›´å¤„äºå¯ç”¨çš„çŠ¶æ€&lt;/font&gt;ï¼Œå³å¯¹äºç”¨æˆ·çš„æ¯ä¸€ä¸ªè¯·æ±‚ï¼Œç³»ç»Ÿæ€»æ˜¯å¯ä»¥åœ¨æœ‰é™çš„æ—¶é—´å†…å¯¹ç”¨æˆ·åšå‡ºå“åº”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;åˆ†åŒºå®¹é”™æ€§ï¼ˆPartition toleranceï¼‰&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨é‡åˆ°ä»»ä½•&lt;strong&gt;ç½‘ç»œåˆ†åŒºæ•…éšœ&lt;/strong&gt;æ—¶ï¼Œä»èƒ½å¤Ÿä¿è¯å¯¹å¤–æä¾›æ»¡è¶³ä¸€è‡´æ€§å’Œå¯ç”¨æ€§çš„æœåŠ¡&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å®šç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®šç†&#34;&gt;#&lt;/a&gt; å®šç†&lt;/h4&gt;
&lt;p&gt;CAP å®šç†çš„å†…å®¹æ˜¯ï¼š&lt;font color=&#39;red&#39;&gt;å¯¹äºåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œç½‘ç»œç¯å¢ƒç›¸å¯¹æ˜¯ä¸å¯æ§çš„ï¼Œå‡ºç°ç½‘ç»œåˆ†åŒºæ˜¯ä¸å¯é¿å…çš„ï¼Œå› æ­¤ç³»ç»Ÿå¿…é¡»å…·å¤‡åˆ†åŒºå®¹é”™æ€§&lt;/font&gt;ã€‚ä½† **&lt;font color=&#39;red&#39;&gt;ç³»ç»Ÿä¸èƒ½åŒæ—¶ä¿è¯ä¸€è‡´æ€§ï¼ˆCï¼‰ä¸å¯ç”¨æ€§ï¼ˆAï¼‰ã€‚å³è¦ä¹ˆ CPï¼Œè¦ä¹ˆ AP&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;h4 id=&#34;base-ç†è®º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#base-ç†è®º&#34;&gt;#&lt;/a&gt; BASE ç†è®º&lt;/h4&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;BASE æ˜¯å¯¹ CAP ä¸­ä¸€è‡´æ€§å’Œå¯ç”¨æ€§æƒè¡¡çš„ç»“æœ&lt;/font&gt;ï¼Œå…¶æ¥æºäºå¯¹å¤§è§„æ¨¡äº’è”ç½‘ç³»ç»Ÿåˆ†å¸ƒå¼å®è·µçš„ç»“è®ºï¼Œæ˜¯åŸºäº CAP å®šç†é€æ­¥æ¼”åŒ–è€Œæ¥çš„ï¼Œç”±ä»¥ä¸‹ä¸‰ä¸ªçŸ­è¯­çš„ç®€å†™ç»„æˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt; &lt;code&gt;B&lt;/code&gt; asically  &lt;code&gt;A&lt;/code&gt; vailableï¼ˆåŸºæœ¬å¯ç”¨ï¼‰&lt;/font&gt;ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿåœ¨å‡ºç°ä¸å¯é¢„çŸ¥æ•…éšœçš„æ—¶å€™ï¼Œ&lt;font color=&#39;red&#39;&gt;å…è®¸æŸå¤±éƒ¨åˆ†å¯ç”¨æ€§&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt; &lt;code&gt;S&lt;/code&gt; oft stateï¼ˆè½¯çŠ¶æ€ï¼‰&lt;/font&gt;ï¼šå…è®¸ç³»ç»Ÿæ•°æ®å­˜åœ¨çš„ä¸­é—´çŠ¶æ€ï¼Œå¹¶è®¤ä¸ºè¯¥ä¸­é—´çŠ¶æ€çš„å­˜åœ¨ä¸ä¼šå½±å“ç³»ç»Ÿçš„æ•´ä½“å¯ç”¨æ€§ï¼Œå³&lt;font color=&#39;red&#39;&gt;å…è®¸ç³»ç»Ÿä¸»æœºé—´è¿›è¡Œæ•°æ®åŒæ­¥çš„è¿‡ç¨‹å­˜åœ¨ä¸€å®šå»¶æ—¶&lt;/font&gt;ã€‚è½¯çŠ¶æ€ï¼Œå…¶å®å°±æ˜¯ä¸€ç§ç°åº¦çŠ¶æ€ï¼Œè¿‡æ¸¡çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt; &lt;code&gt;E&lt;/code&gt; ventually consistentï¼ˆæœ€ç»ˆä¸€è‡´æ€§ï¼‰&lt;/font&gt;ï¼šå¼ºè°ƒçš„æ˜¯ç³»ç»Ÿä¸­æ‰€æœ‰çš„æ•°æ®å‰¯æœ¬ï¼Œåœ¨ç»è¿‡ä¸€æ®µæ—¶é—´çš„åŒæ­¥åï¼Œæœ€ç»ˆèƒ½å¤Ÿè¾¾åˆ°ä¸€ä¸ªä¸€è‡´çš„çŠ¶æ€ã€‚å› æ­¤ï¼Œæœ€ç»ˆä¸€è‡´æ€§çš„æœ¬è´¨æ˜¯&lt;font color=&#39;red&#39;&gt;éœ€è¦ç³»ç»Ÿä¿è¯æœ€ç»ˆæ•°æ®èƒ½å¤Ÿè¾¾åˆ°ä¸€è‡´ï¼Œè€Œä¸éœ€è¦ä¿è¯ç³»ç»Ÿæ•°æ®çš„å®æ—¶ä¸€è‡´æ€§&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;BASE ç†è®ºçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å³ä½¿æ— æ³•åšåˆ°å¼ºä¸€è‡´æ€§ï¼Œä½†æ¯ä¸ªç³»ç»Ÿéƒ½å¯ä»¥æ ¹æ®è‡ªèº«çš„ä¸šåŠ¡ç‰¹ç‚¹ï¼Œé‡‡ç”¨é€‚å½“çš„æ–¹å¼æ¥ä½¿ç³»ç»Ÿè¾¾åˆ°æœ€ç»ˆä¸€è‡´æ€§&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;cap-åº”ç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#cap-åº”ç”¨&#34;&gt;#&lt;/a&gt; CAP åº”ç”¨&lt;/h4&gt;
&lt;h5 id=&#34;zookeepercp-æ¨¡å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#zookeepercp-æ¨¡å¼&#34;&gt;#&lt;/a&gt; Zookeeperï¼šCP æ¨¡å¼&lt;/h5&gt;
&lt;p&gt;Zookeeper éµå¾ªçš„æ˜¯ CP æ¨¡å¼ï¼Œå³ä¿è¯äº†ä¸€è‡´æ€§ï¼ˆCï¼‰ï¼Œä½†ç‰ºç‰²äº†å¯ç”¨æ€§ï¼ˆAï¼‰ã€‚&lt;font color=&#39;red&#39;&gt;å½“ Leader èŠ‚ç‚¹ä¸­çš„æ•°æ®å‘ç”Ÿäº†å˜åŒ–åï¼Œåœ¨ Follower è¿˜æ²¡æœ‰åŒæ­¥å®Œæˆä¹‹å‰ï¼Œæ•´ä¸ª Zookeeper é›†ç¾¤æ˜¯ä¸å¯¹å¤–æä¾›æœåŠ¡çš„&lt;/font&gt;ã€‚å¦‚æœæ­¤æ—¶æœ‰å®¢æˆ·ç«¯æ¥è®¿é—®æ•°æ®ï¼Œåˆ™å®¢æˆ·ç«¯ä¼šå› è®¿é—®è¶…æ—¶è€Œå‘ç”Ÿé‡è¯•ã€‚ä¸è¿‡ï¼Œç”±äº Leader çš„é€‰ä¸¾éå¸¸å¿«ï¼Œæ‰€ä»¥è¿™ç§é‡è¯•å¯¹äºç”¨æˆ·æ¥è¯´å‡ ä¹æ˜¯æ„ŸçŸ¥ä¸åˆ°çš„ã€‚æ‰€ä»¥è¯´ï¼ŒZookeeper ä¿è¯äº†ä¸€è‡´æ€§ï¼Œä½†ç‰ºç‰²äº†å¯ç”¨æ€§ã€‚&lt;/p&gt;
&lt;h5 id=&#34;consulcp-æ¨¡å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#consulcp-æ¨¡å¼&#34;&gt;#&lt;/a&gt; Consulï¼šCP æ¨¡å¼&lt;/h5&gt;
&lt;h5 id=&#34;redisap-æ¨¡å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redisap-æ¨¡å¼&#34;&gt;#&lt;/a&gt; Redisï¼šAP æ¨¡å¼&lt;/h5&gt;
&lt;p&gt;Redis éµå¾ªçš„æ˜¯ AP æ¨¡å¼ï¼Œå³ä¿è¯äº†å¯ç”¨æ€§ï¼ˆAï¼‰ï¼Œä½†ç‰ºç‰²äº†ä¸€è‡´æ€§ï¼ˆCï¼‰ã€‚&lt;/p&gt;
&lt;h5 id=&#34;eurekaap-æ¨¡å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#eurekaap-æ¨¡å¼&#34;&gt;#&lt;/a&gt; Eurekaï¼šAP æ¨¡å¼&lt;/h5&gt;
&lt;h5 id=&#34;nacosap-æ¨¡å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#nacosap-æ¨¡å¼&#34;&gt;#&lt;/a&gt; Nacosï¼šAP æ¨¡å¼&lt;/h5&gt;
&lt;p&gt;Nacos åœ¨åšæ³¨å†Œä¸­å¿ƒæ—¶ï¼Œé»˜è®¤æ˜¯ AP çš„ã€‚ä½†å…¶ä¹Ÿæ”¯æŒ CP æ¨¡å¼ï¼Œä½†éœ€è¦ç”¨æˆ·æäº¤è¯·æ±‚è¿›è¡Œè½¬æ¢ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ä½¿ç”¨è§„èŒƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½¿ç”¨è§„èŒƒ&#34;&gt;#&lt;/a&gt; ä½¿ç”¨è§„èŒƒ&lt;/h1&gt;
&lt;p&gt;å®é™…ä½¿ç”¨ Redis çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°½é‡è¦å‡†å®ˆä¸€äº›å¸¸è§çš„è§„èŒƒï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ä½¿ç”¨è¿æ¥æ± &lt;/font&gt;ï¼šé¿å…é¢‘ç¹åˆ›å»ºå…³é—­å®¢æˆ·ç«¯è¿æ¥ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å°½é‡ä¸ä½¿ç”¨ O (n) æŒ‡ä»¤&lt;/font&gt;ï¼Œä½¿ç”¨ O (n) å‘½ä»¤æ—¶è¦å…³æ³¨ n çš„æ•°é‡ï¼šåƒ  &lt;code&gt;KEYS *&lt;/code&gt; ã€ &lt;code&gt;HGETALL&lt;/code&gt; ã€ &lt;code&gt;LRANGE&lt;/code&gt; ã€ &lt;code&gt;SMEMBERS&lt;/code&gt; ã€ &lt;code&gt;SINTER&lt;/code&gt; / &lt;code&gt;SUNION&lt;/code&gt; / &lt;code&gt;SDIFF&lt;/code&gt;  ç­‰ O (n) å‘½ä»¤å¹¶éä¸èƒ½ä½¿ç”¨ï¼Œä½†æ˜¯éœ€è¦æ˜ç¡® n çš„å€¼ã€‚å¦å¤–ï¼Œæœ‰éå†çš„éœ€æ±‚å¯ä»¥ä½¿ç”¨  &lt;code&gt;HSCAN&lt;/code&gt; ã€ &lt;code&gt;SSCAN&lt;/code&gt; ã€ &lt;code&gt;ZSCAN&lt;/code&gt;  ä»£æ›¿ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ä½¿ç”¨æ‰¹é‡æ“ä½œï¼Œå‡å°‘ç½‘ç»œä¼ è¾“&lt;/font&gt;ï¼šåŸç”Ÿæ‰¹é‡æ“ä½œå‘½ä»¤ï¼ˆæ¯”å¦‚  &lt;code&gt;MGET&lt;/code&gt; ã€ &lt;code&gt;MSET&lt;/code&gt;  ç­‰ç­‰ï¼‰ã€pipelineã€Lua è„šæœ¬ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å°½é‡ä¸ç”¨ Redis äº‹åŠ¡ï¼Œç”¨ Lua è„šæœ¬ä»£æ›¿&lt;/font&gt;ï¼šRedis äº‹åŠ¡å®ç°çš„åŠŸèƒ½æ¯”è¾ƒé¸¡è‚‹ï¼Œå¯ä»¥ä½¿ç”¨ Lua è„šæœ¬ä»£æ›¿ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ç¦æ­¢é•¿æ—¶é—´å¼€å¯ monitor&lt;/font&gt;ï¼šå¯¹æ€§èƒ½å½±å“æ¯”è¾ƒå¤§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æ§åˆ¶ key çš„ç”Ÿå‘½å‘¨æœŸ&lt;/font&gt;ï¼šé¿å… Redis ä¸­å­˜æ”¾äº†å¤ªå¤šä¸ç»å¸¸è¢«è®¿é—®çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;â€¦â€¦&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç›¸å…³æ–‡ç« æ¨èï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9kZXZlbG9wZXIuYWxpeXVuLmNvbS9hcnRpY2xlLzUzMTA2Nw==&#34;&gt;é˜¿é‡Œäº‘ Redis å¼€å‘è§„èŒƒ&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;h1 id=&#34;lua-è„šæœ¬-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#lua-è„šæœ¬-2&#34;&gt;#&lt;/a&gt; Lua è„šæœ¬&lt;/h1&gt;
&lt;h1 id=&#34;åˆ†å¸ƒå¼é”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†å¸ƒå¼é”&#34;&gt;#&lt;/a&gt; åˆ†å¸ƒå¼é”&lt;/h1&gt;
&lt;h1 id=&#34;ï¸é‡è¦çŸ¥è¯†ç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ï¸é‡è¦çŸ¥è¯†ç‚¹&#34;&gt;#&lt;/a&gt; â­ï¸é‡è¦çŸ¥è¯†ç‚¹&lt;/h1&gt;
</content>
        <category term="æ•°æ®åº“" scheme="http://example.com/categories/database/" />
        <category term="Redis" scheme="http://example.com/categories/database/redis/" />
        <updated>2023-11-17T12:03:29.258Z</updated>
    </entry>
    <entry>
        <id>http://example.com/database/mysql/MySQL-JavaGuide/</id>
        <title>MySQL-JavaGuide</title>
        <link rel="alternate" href="http://example.com/database/mysql/MySQL-JavaGuide/"/>
        <content type="html">&lt;h1 id=&#34;mysql&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysql&#34;&gt;#&lt;/a&gt; MySQL&lt;/h1&gt;
&lt;h2 id=&#34;æ•°æ®åº“åŸºç¡€çŸ¥è¯†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®åº“åŸºç¡€çŸ¥è¯†&#34;&gt;#&lt;/a&gt; æ•°æ®åº“åŸºç¡€çŸ¥è¯†&lt;/h2&gt;
&lt;h3 id=&#34;æ•°æ®åº“-æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ-æ•°æ®åº“ç³»ç»Ÿ-æ•°æ®åº“ç®¡ç†å‘˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®åº“-æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ-æ•°æ®åº“ç³»ç»Ÿ-æ•°æ®åº“ç®¡ç†å‘˜&#34;&gt;#&lt;/a&gt; æ•°æ®åº“ï¼Œæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œæ•°æ®åº“ç³»ç»Ÿï¼Œæ•°æ®åº“ç®¡ç†å‘˜&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®åº“&lt;/strong&gt;ï¼ˆDataBase ç®€ç§°  &lt;code&gt;DB&lt;/code&gt; ï¼‰ï¼šå°±æ˜¯ä¿¡æ¯çš„é›†åˆï¼Œæˆ–è€…è¯´æ˜¯ç”±æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç®¡ç†çš„æ•°æ®çš„é›†åˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ&lt;/strong&gt;ï¼ˆDatabase Management System ç®€ç§°  &lt;code&gt;DBMS&lt;/code&gt; ï¼‰ï¼šæ˜¯ä¸€ç§æ“çºµå’Œç®¡ç†æ•°æ®åº“çš„å¤§å‹è½¯ä»¶ï¼Œé€šå¸¸ç”¨äºå»ºç«‹ã€ä½¿ç”¨å’Œç»´æŠ¤æ•°æ®åº“ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®åº“ç³»ç»Ÿ&lt;/strong&gt;ï¼ˆData Base Systemï¼Œç®€ç§°  &lt;code&gt;DBS&lt;/code&gt; ï¼‰ï¼šé€šå¸¸ç”±è½¯ä»¶ã€æ•°æ®åº“å’Œæ•°æ®ç®¡ç†å‘˜ (DBA) ç»„æˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®åº“ç®¡ç†å‘˜&lt;/strong&gt;ï¼ˆDatabase Administrator, ç®€ç§°  &lt;code&gt;DBA&lt;/code&gt; ï¼‰ï¼šè´Ÿè´£å…¨é¢ç®¡ç†å’Œæ§åˆ¶æ•°æ®åº“ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å…ƒç»„-ç -å€™é€‰ç -ä¸»ç -å¤–ç -ä¸»å±æ€§-éä¸»å±æ€§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å…ƒç»„-ç -å€™é€‰ç -ä¸»ç -å¤–ç -ä¸»å±æ€§-éä¸»å±æ€§&#34;&gt;#&lt;/a&gt; å…ƒç»„ï¼Œç ï¼Œå€™é€‰ç ï¼Œä¸»ç ï¼Œå¤–ç ï¼Œä¸»å±æ€§ï¼Œéä¸»å±æ€§&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å…ƒç»„&lt;/strong&gt;ï¼ˆtupleï¼‰ï¼šæ˜¯å…³ç³»æ•°æ®åº“ä¸­çš„åŸºæœ¬æ¦‚å¿µï¼Œå…³ç³»æ˜¯ä¸€å¼ è¡¨ï¼Œè¡¨ä¸­çš„&lt;font color=&#39;red&#39;&gt;æ¯è¡Œï¼ˆå³æ•°æ®åº“ä¸­çš„æ¯æ¡è®°å½•ï¼‰å°±æ˜¯ä¸€ä¸ªå…ƒç»„&lt;/font&gt;ï¼Œæ¯åˆ—å°±æ˜¯ä¸€ä¸ªå±æ€§ã€‚åœ¨äºŒç»´è¡¨é‡Œï¼Œå…ƒç»„ä¹Ÿç§°ä¸ºè¡Œã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç &lt;/strong&gt;ï¼šç å°±æ˜¯&lt;font color=&#39;red&#39;&gt;èƒ½å”¯ä¸€æ ‡è¯†å®ä½“çš„å±æ€§&lt;/font&gt;ï¼Œå¯¹åº”è¡¨ä¸­çš„åˆ—ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å€™é€‰ç &lt;/strong&gt;ï¼šè‹¥å…³ç³»ä¸­çš„&lt;font color=&#39;red&#39;&gt;æŸä¸€å±æ€§æˆ–å±æ€§ç»„çš„å€¼èƒ½å”¯ä¸€æ ‡è¯†ä¸€ä¸ªå…ƒç»„ï¼Œè€Œå…¶ä»»ä½•ã€å­é›†éƒ½ä¸èƒ½å†æ ‡è¯†&lt;/font&gt;ï¼Œåˆ™ç§°è¯¥å±æ€§ç»„ä¸ºå€™é€‰ç ã€‚ä¾‹å¦‚ï¼šåœ¨å­¦ç”Ÿå®ä½“ä¸­ï¼Œâ€œå­¦å·â€ æ˜¯èƒ½å”¯ä¸€çš„åŒºåˆ†å­¦ç”Ÿå®ä½“çš„ï¼ŒåŒæ—¶åˆå‡è®¾ â€œå§“åâ€ã€â€œç­çº§â€ çš„å±æ€§ç»„åˆè¶³ä»¥åŒºåˆ†å­¦ç”Ÿå®ä½“ï¼Œé‚£ä¹ˆ {å­¦å·} å’Œ {å§“åï¼Œç­çº§} éƒ½æ˜¯å€™é€‰ç ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸»ç &lt;/strong&gt;ï¼šä¸»ç ä¹Ÿå«ä¸»é”®ã€‚ä¸»ç æ˜¯ä»å€™é€‰ç ä¸­é€‰å‡ºæ¥çš„ã€‚&lt;font color=&#39;red&#39;&gt;ä¸€ä¸ªå®ä½“é›†ä¸­åªèƒ½æœ‰ä¸€ä¸ªä¸»ç ï¼Œä½†å¯ä»¥æœ‰å¤šä¸ªå€™é€‰ç &lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤–ç &lt;/strong&gt;ï¼šå¤–ç ä¹Ÿå«å¤–é”®ã€‚å¦‚æœä¸€ä¸ªå…³ç³»ä¸­çš„ä¸€ä¸ªå±æ€§æ˜¯å¦å¤–ä¸€ä¸ªå…³ç³»ä¸­çš„ä¸»ç åˆ™è¿™ä¸ªå±æ€§ä¸ºå¤–ç ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸»å±æ€§&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;å€™é€‰ç ä¸­å‡ºç°è¿‡çš„å±æ€§ç§°ä¸ºä¸»å±æ€§&lt;/font&gt;ã€‚æ¯”å¦‚å…³ç³» å·¥äººï¼ˆå·¥å·ï¼Œèº«ä»½è¯å·ï¼Œå§“åï¼Œæ€§åˆ«ï¼Œéƒ¨é—¨ï¼‰. æ˜¾ç„¶å·¥å·å’Œèº«ä»½è¯å·éƒ½èƒ½å¤Ÿå”¯ä¸€æ ‡ç¤ºè¿™ä¸ªå…³ç³»ï¼Œæ‰€ä»¥éƒ½æ˜¯å€™é€‰ç ã€‚å·¥å·ã€èº«ä»½è¯å·è¿™ä¸¤ä¸ªå±æ€§å°±æ˜¯ä¸»å±æ€§ã€‚å¦‚æœä¸»ç æ˜¯ä¸€ä¸ªå±æ€§ç»„ï¼Œé‚£ä¹ˆå±æ€§ç»„ä¸­çš„å±æ€§éƒ½æ˜¯ä¸»å±æ€§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éä¸»å±æ€§ï¼š&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;ä¸åŒ…å«åœ¨ä»»ä½•ä¸€ä¸ªå€™é€‰ç ä¸­çš„å±æ€§ç§°ä¸ºéä¸»å±æ€§&lt;/font&gt;ã€‚æ¯”å¦‚åœ¨å…³ç³» â€”â€” å­¦ç”Ÿï¼ˆå­¦å·ï¼Œå§“åï¼Œå¹´é¾„ï¼Œæ€§åˆ«ï¼Œç­çº§ï¼‰ä¸­ï¼Œä¸»ç æ˜¯ â€œå­¦å·â€ï¼Œé‚£ä¹ˆå…¶ä»–çš„ â€œå§“åâ€ã€â€œå¹´é¾„â€ã€â€œæ€§åˆ«â€ã€â€œç­çº§â€ å°±éƒ½å¯ä»¥ç§°ä¸ºéä¸»å±æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;er-å›¾&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#er-å›¾&#34;&gt;#&lt;/a&gt; ER å›¾&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ER å›¾&lt;/strong&gt; å…¨ç§°æ˜¯ Entity Relationship Diagramï¼ˆ&lt;font color=&#39;red&#39;&gt;å®ä½“è”ç³»å›¾&lt;/font&gt;ï¼‰ï¼Œæä¾›äº†è¡¨ç¤ºå®ä½“ç±»å‹ã€å±æ€§å’Œè”ç³»çš„æ–¹æ³•ï¼Œç”¨æ¥è®¾è®¡æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;p&gt;ER å›¾ç”±ä¸‹é¢ 3 ä¸ªè¦ç´ ç»„æˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®ä½“&lt;/strong&gt;ï¼šé€šå¸¸æ˜¯ç°å®ä¸–ç•Œçš„ä¸šåŠ¡å¯¹è±¡ï¼Œå½“ç„¶ä½¿ç”¨ä¸€äº›é€»è¾‘å¯¹è±¡ä¹Ÿå¯ä»¥ã€‚æ¯”å¦‚å¯¹äºä¸€ä¸ªæ ¡å›­ç®¡ç†ç³»ç»Ÿï¼Œä¼šæ¶‰åŠå­¦ç”Ÿã€æ•™å¸ˆã€è¯¾ç¨‹ã€ç­çº§ç­‰ç­‰å®ä½“ã€‚åœ¨ ER å›¾ä¸­ï¼Œå®ä½“ä½¿ç”¨&lt;font color=&#39;red&#39;&gt;çŸ©å½¢æ¡†&lt;/font&gt;è¡¨ç¤ºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å±æ€§&lt;/strong&gt;ï¼šå³æŸä¸ªå®ä½“æ‹¥æœ‰çš„å±æ€§ï¼Œå±æ€§ç”¨æ¥æè¿°ç»„æˆå®ä½“çš„è¦ç´ ï¼Œå¯¹äºäº§å“è®¾è®¡æ¥è¯´å¯ä»¥ç†è§£ä¸ºå­—æ®µã€‚åœ¨ ER å›¾ä¸­ï¼Œå±æ€§ä½¿ç”¨&lt;font color=&#39;red&#39;&gt;æ¤­åœ†å½¢&lt;/font&gt;è¡¨ç¤ºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è”ç³»&lt;/strong&gt;ï¼šå³å®ä½“ä¸å®ä½“ä¹‹é—´çš„å…³ç³»ï¼Œåœ¨ ER å›¾ä¸­ç”¨&lt;font color=&#39;red&#39;&gt;è±å½¢&lt;/font&gt;è¡¨ç¤ºï¼Œè¿™ä¸ªå…³ç³»ä¸ä»…æœ‰ä¸šåŠ¡å…³è”å…³ç³»ï¼Œè¿˜èƒ½é€šè¿‡æ•°å­—è¡¨ç¤ºå®ä½“ä¹‹é—´çš„æ•°é‡å¯¹ç…§å…³ç³»ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªç­çº§ä¼šæœ‰å¤šä¸ªå­¦ç”Ÿå°±æ˜¯ä¸€ç§å®ä½“é—´çš„è”ç³»ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹å›¾æ˜¯ä¸€ä¸ªå­¦ç”Ÿé€‰è¯¾çš„ ER å›¾ï¼Œæ¯ä¸ªå­¦ç”Ÿå¯ä»¥é€‰è‹¥å¹²é—¨è¯¾ç¨‹ï¼ŒåŒä¸€é—¨è¯¾ç¨‹ä¹Ÿå¯ä»¥è¢«è‹¥å¹²äººé€‰æ‹©ï¼Œæ‰€ä»¥å®ƒä»¬ä¹‹é—´çš„å…³ç³»æ˜¯&lt;font color=&#39;red&#39;&gt;å¤šå¯¹å¤šï¼ˆM: N&lt;/font&gt;ï¼‰ã€‚å¦å¤–ï¼Œè¿˜æœ‰å…¶ä»–ä¸¤ç§å®ä½“ä¹‹é—´çš„å…³ç³»æ˜¯ï¼š&lt;font color=&#39;red&#39;&gt;1 å¯¹ 1ï¼ˆ1:1ï¼‰&lt;/font&gt;ã€&lt;font color=&#39;red&#39;&gt;1 å¯¹å¤šï¼ˆ1: Nï¼‰&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231129163909791.png&#34; alt=&#34;image-20231129163909791&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å­¦ç”Ÿä¸è¯¾ç¨‹ä¹‹é—´è”ç³»çš„E-Rå›¾&lt;/center&gt;
&lt;h3 id=&#34;æ•°æ®åº“ä¸‰å¤§èŒƒå¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®åº“ä¸‰å¤§èŒƒå¼&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸæ•°æ®åº“ä¸‰å¤§èŒƒå¼&lt;/mark&gt;&lt;/h3&gt;
&lt;p&gt;æ•°æ®åº“èŒƒå¼æœ‰ 3 ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;1NF (ç¬¬ä¸€èŒƒå¼)ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å±æ€§ä¸å¯å†åˆ†&lt;/font&gt;&lt;/strong&gt;ï¼Œå³æ¯ä¸ªå±æ€§éƒ½æ˜¯ä¸å¯åˆ†å‰²çš„åŸå­é¡¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;2NF (ç¬¬äºŒèŒƒå¼)ï¼šæ»¡è¶³ç¬¬ä¸€èŒƒå¼ï¼›ä¸” **&lt;font color=&#39;red&#39;&gt;ä¸å­˜åœ¨éƒ¨åˆ†å‡½æ•°ä¾èµ–&lt;/font&gt;**ï¼Œå³&lt;font color=&#39;red&#39;&gt;éä¸»å±æ€§å¿…é¡»å®Œå…¨ä¾èµ–äºä¸»å±æ€§&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸»å±æ€§å³ä¸»é”®ï¼›å®Œå…¨ä¾èµ–æ˜¯é’ˆå¯¹äºè”åˆä¸»é”®çš„æƒ…å†µï¼Œéä¸»é”®åˆ—ä¸èƒ½åªä¾èµ–äºä¸»é”®çš„ä¸€éƒ¨åˆ†ï¼›&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;3NF (ç¬¬ä¸‰èŒƒå¼)ï¼šæ»¡è¶³ç¬¬äºŒèŒƒå¼ï¼›ä¸” **&lt;font color=&#39;red&#39;&gt;ä¸å­˜åœ¨ä¼ é€’å‡½æ•°ä¾èµ–&lt;/font&gt;**ï¼Œå³éä¸»å±æ€§å¿…é¡»ç›´æ¥ä¾èµ–äºä¸»å±æ€§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä¸æ¨èä½¿ç”¨å¤–é”®ä¸çº§è”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸æ¨èä½¿ç”¨å¤–é”®ä¸çº§è”&#34;&gt;#&lt;/a&gt; ä¸æ¨èä½¿ç”¨å¤–é”®ä¸çº§è”&lt;/h3&gt;
&lt;p&gt;å¯¹äºå¤–é”®å’Œçº§è”ï¼Œé˜¿é‡Œå·´å·´å¼€å‘æ‰‹å†Œè¿™æ ·è¯´åˆ°ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ã€å¼ºåˆ¶ã€‘&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä¸å¾—ä½¿ç”¨å¤–é”®ä¸çº§è”ï¼Œä¸€åˆ‡å¤–é”®æ¦‚å¿µå¿…é¡»åœ¨åº”ç”¨å±‚è§£å†³&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¯´æ˜ï¼šä»¥å­¦ç”Ÿå’Œæˆç»©çš„å…³ç³»ä¸ºä¾‹ï¼Œå­¦ç”Ÿè¡¨ä¸­çš„ student_id æ˜¯ä¸»é”®ï¼Œé‚£ä¹ˆæˆç»©è¡¨ä¸­çš„ student_id åˆ™ä¸ºå¤–é”®ã€‚å¦‚æœæ›´æ–°å­¦ç”Ÿè¡¨ä¸­çš„ student_idï¼ŒåŒæ—¶è§¦å‘æˆç»©è¡¨ä¸­çš„ student_id æ›´æ–°ï¼Œå³ä¸ºçº§è”æ›´æ–°ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤–é”®ä¸çº§è”æ›´æ–°é€‚ç”¨äºå•æœºä½å¹¶å‘ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸é€‚åˆåˆ†å¸ƒå¼ã€é«˜å¹¶å‘é›†ç¾¤&lt;/font&gt;ï¼›&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;çº§è”æ›´æ–°æ˜¯å¼ºé˜»å¡ï¼Œå­˜åœ¨æ•°æ®åº“æ›´æ–°é£æš´çš„é£é™©&lt;/font&gt;ï¼›&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å¤–é”®å½±å“æ•°æ®åº“çš„æ’å…¥é€Ÿåº¦&lt;/font&gt;ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;å­˜å‚¨è¿‡ç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å­˜å‚¨è¿‡ç¨‹&#34;&gt;#&lt;/a&gt; å­˜å‚¨è¿‡ç¨‹&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥æŠŠå­˜å‚¨è¿‡ç¨‹çœ‹æˆæ˜¯&lt;strong&gt;ä¸€äº› SQL è¯­å¥çš„é›†åˆï¼Œä¸­é—´åŠ äº†ç‚¹é€»è¾‘æ§åˆ¶è¯­å¥&lt;/strong&gt;ã€‚å­˜å‚¨è¿‡ç¨‹åœ¨ä¸šåŠ¡æ¯”è¾ƒå¤æ‚çš„æ—¶å€™æ˜¯éå¸¸å®ç”¨çš„ï¼Œæ¯”å¦‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬å®Œæˆä¸€ä¸ªæ“ä½œå¯èƒ½éœ€è¦å†™ä¸€å¤§ä¸² SQL è¯­å¥ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥å†™æœ‰ä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ï¼Œè¿™æ ·ä¹Ÿæ–¹ä¾¿äº†æˆ‘ä»¬ä¸‹ä¸€æ¬¡çš„è°ƒç”¨ã€‚&lt;font color=&#39;red&#39;&gt;å­˜å‚¨è¿‡ç¨‹ä¸€æ—¦è°ƒè¯•å®Œæˆé€šè¿‡åå°±èƒ½ç¨³å®šè¿è¡Œ&lt;/font&gt;ï¼Œå¦å¤–ï¼Œ&lt;font color=&#39;red&#39;&gt;ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹æ¯”å•çº¯ SQL è¯­å¥æ‰§è¡Œè¦å¿«ï¼Œå› ä¸ºå­˜å‚¨è¿‡ç¨‹æ˜¯é¢„ç¼–è¯‘è¿‡çš„&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å­˜å‚¨è¿‡ç¨‹åœ¨äº’è”ç½‘å…¬å¸åº”ç”¨ä¸å¤šï¼Œå› ä¸º&lt;font color=&#39;red&#39;&gt;å­˜å‚¨è¿‡ç¨‹éš¾ä»¥è°ƒè¯•å’Œæ‰©å±•ï¼Œè€Œä¸”æ²¡æœ‰ç§»æ¤æ€§ï¼Œè¿˜ä¼šæ¶ˆè€—æ•°æ®åº“èµ„æº&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œé‡Œè¦æ±‚ **&lt;font color=&#39;red&#39;&gt;ç¦æ­¢ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;h3 id=&#34;drop-delete-ä¸-truncate-çš„åŒºåˆ«&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#drop-delete-ä¸-truncate-çš„åŒºåˆ«&#34;&gt;#&lt;/a&gt; dropã€delete ä¸ truncate çš„åŒºåˆ«&lt;/h3&gt;
&lt;h4 id=&#34;ç”¨æ³•ä¸åŒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç”¨æ³•ä¸åŒ&#34;&gt;#&lt;/a&gt; ç”¨æ³•ä¸åŒ&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;drop&lt;/code&gt;  (ä¸¢å¼ƒæ•°æ®):  &lt;code&gt;drop table è¡¨å&lt;/code&gt;  ï¼Œç›´æ¥å°†è¡¨éƒ½åˆ é™¤æ‰ï¼Œåœ¨&lt;strong&gt;åˆ é™¤è¡¨&lt;/strong&gt;çš„æ—¶å€™ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;truncate&lt;/code&gt;  (æ¸…ç©ºæ•°æ®) :  &lt;code&gt;truncate table è¡¨å&lt;/code&gt;  ï¼Œåªåˆ é™¤è¡¨ä¸­çš„æ•°æ®ï¼Œ&lt;font color=&#39;red&#39;&gt;å†æ’å…¥æ•°æ®çš„æ—¶å€™è‡ªå¢é•¿ id åˆä» 1 å¼€å§‹&lt;/font&gt;ï¼Œåœ¨&lt;strong&gt;æ¸…ç©ºè¡¨&lt;/strong&gt;ä¸­æ•°æ®çš„æ—¶å€™ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;delete&lt;/code&gt; ï¼ˆåˆ é™¤æ•°æ®ï¼‰ :  &lt;code&gt;delete from è¡¨å where åˆ—å=å€¼&lt;/code&gt; ï¼Œ&lt;strong&gt;åˆ é™¤æŸä¸€è¡Œ&lt;/strong&gt;çš„æ•°æ®ï¼Œå¦‚æœä¸åŠ   &lt;code&gt;where&lt;/code&gt;  å­å¥å’Œ &lt;code&gt;truncate table è¡¨å&lt;/code&gt; ä½œç”¨ç±»ä¼¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ³¨æ„ï¼š&lt;strong&gt; &lt;code&gt;truncate&lt;/code&gt;  å’Œ  &lt;code&gt;delete&lt;/code&gt;  åªåˆ é™¤æ•°æ®ä¸åˆ é™¤è¡¨çš„ç»“æ„ (å®šä¹‰)ï¼Œæ‰§è¡Œ  &lt;code&gt;drop&lt;/code&gt;  è¯­å¥ï¼Œæ­¤è¡¨çš„ç»“æ„ä¹Ÿä¼šåˆ é™¤ï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œ  &lt;code&gt;drop&lt;/code&gt;  ä¹‹åå¯¹åº”çš„è¡¨ä¸å¤å­˜åœ¨ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;å±äºä¸åŒçš„æ•°æ®åº“è¯­è¨€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å±äºä¸åŒçš„æ•°æ®åº“è¯­è¨€&#34;&gt;#&lt;/a&gt; å±äºä¸åŒçš„æ•°æ®åº“è¯­è¨€&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;truncate&lt;/code&gt;  å’Œ  &lt;code&gt;drop&lt;/code&gt;  å±äº **DDL (æ•°æ®å®šä¹‰è¯­è¨€)** è¯­å¥ï¼Œæ“ä½œç«‹å³ç”Ÿæ•ˆï¼ŒåŸæ•°æ®ä¸æ”¾åˆ° rollback segment ä¸­ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸èƒ½å›æ»š&lt;/font&gt;ï¼Œæ“ä½œä¸è§¦å‘ triggerã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è€Œ  &lt;code&gt;delete&lt;/code&gt;  è¯­å¥æ˜¯ **DML (æ•°æ®åº“æ“ä½œè¯­è¨€)** è¯­å¥ï¼Œè¿™ä¸ªæ“ä½œä¼šæ”¾åˆ° rollback segement ä¸­ï¼Œ&lt;font color=&#39;red&#39;&gt;å¯ä»¥å›æ»š&lt;/font&gt;ï¼Œäº‹åŠ¡æäº¤ä¹‹åæ‰ç”Ÿæ•ˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;DML è¯­å¥å’Œ DDL è¯­å¥åŒºåˆ«ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DML æ˜¯æ•°æ®åº“æ“ä½œè¯­è¨€ï¼ˆData Manipulation Languageï¼‰çš„ç¼©å†™ï¼Œæ˜¯æŒ‡&lt;font color=&#39;red&#39;&gt;å¯¹æ•°æ®åº“ä¸­è¡¨è®°å½•çš„æ“ä½œ&lt;/font&gt;ï¼Œä¸»è¦åŒ…æ‹¬è¡¨è®°å½•çš„æ’å…¥ã€æ›´æ–°ã€åˆ é™¤å’ŒæŸ¥è¯¢ï¼Œæ˜¯å¼€å‘äººå‘˜æ—¥å¸¸ä½¿ç”¨æœ€é¢‘ç¹çš„æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;DDL ï¼ˆData Definition Languageï¼‰æ˜¯æ•°æ®å®šä¹‰è¯­è¨€çš„ç¼©å†™ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯&lt;font color=&#39;red&#39;&gt;å¯¹æ•°æ®åº“å†…éƒ¨çš„å¯¹è±¡è¿›è¡Œåˆ›å»ºã€åˆ é™¤ã€ä¿®æ”¹&lt;/font&gt;çš„æ“ä½œè¯­è¨€ã€‚&lt;/li&gt;
&lt;li&gt;äºŒè€…æœ€å¤§åŒºåˆ«ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt; DML åªæ˜¯å¯¹è¡¨å†…éƒ¨æ•°æ®çš„æ“ä½œï¼Œè€Œä¸æ¶‰åŠåˆ°è¡¨çš„å®šä¹‰ã€ç»“æ„çš„ä¿®æ”¹&lt;/font&gt;&lt;/strong&gt;ï¼Œæ›´ä¸ä¼šæ¶‰åŠåˆ°å…¶ä»–å¯¹è±¡ã€‚DDL è¯­å¥æ›´å¤šçš„è¢«æ•°æ®åº“ç®¡ç†å‘˜ï¼ˆDBAï¼‰æ‰€ä½¿ç”¨ï¼Œä¸€èˆ¬çš„å¼€å‘äººå‘˜å¾ˆå°‘ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦å¤–ï¼Œç”±äº &lt;code&gt;select&lt;/code&gt;  ä¸ä¼šå¯¹è¡¨è¿›è¡Œç ´åï¼Œæ‰€ä»¥æœ‰çš„åœ°æ–¹ä¹Ÿä¼šæŠŠ &lt;code&gt;select&lt;/code&gt;  å•ç‹¬åŒºåˆ†å¼€å«åšæ•°æ®åº“æŸ¥è¯¢è¯­è¨€ DQLï¼ˆData Query Languageï¼‰ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ‰§è¡Œé€Ÿåº¦ä¸åŒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ‰§è¡Œé€Ÿåº¦ä¸åŒ&#34;&gt;#&lt;/a&gt; æ‰§è¡Œé€Ÿåº¦ä¸åŒ&lt;/h4&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼š &lt;code&gt;drop&lt;/code&gt;  &amp;gt;  &lt;code&gt;truncate&lt;/code&gt;  &amp;gt;  &lt;code&gt;delete&lt;/code&gt; ï¼ˆè¿™ä¸ªæˆ‘æ²¡æœ‰è®¾è®¡æµ‹è¯•è¿‡ï¼‰ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;delete&lt;/code&gt;  å‘½ä»¤æ‰§è¡Œçš„æ—¶å€™&lt;font color=&#39;red&#39;&gt;ä¼šäº§ç”Ÿæ•°æ®åº“çš„ &lt;code&gt;binlog&lt;/code&gt;  æ—¥å¿—ï¼Œè€Œæ—¥å¿—è®°å½•æ˜¯éœ€è¦æ¶ˆè€—æ—¶é—´çš„&lt;/font&gt;ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸ª&lt;font color=&#39;red&#39;&gt;å¥½å¤„æ˜¯æ–¹ä¾¿æ•°æ®å›æ»šæ¢å¤&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;truncate&lt;/code&gt;  å‘½ä»¤æ‰§è¡Œçš„æ—¶å€™&lt;font color=&#39;red&#39;&gt;ä¸ä¼šäº§ç”Ÿæ•°æ®åº“æ—¥å¿—&lt;/font&gt;ï¼Œå› æ­¤æ¯” &lt;code&gt;delete&lt;/code&gt;  è¦å¿«ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜&lt;font color=&#39;red&#39;&gt;ä¼šæŠŠè¡¨çš„è‡ªå¢å€¼é‡ç½®å’Œç´¢å¼•æ¢å¤åˆ°åˆå§‹å¤§å°ç­‰&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;drop&lt;/code&gt;  å‘½ä»¤ä¼š&lt;font color=&#39;red&#39;&gt;æŠŠè¡¨å ç”¨çš„ç©ºé—´å…¨éƒ¨é‡Šæ”¾æ‰&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tipsï¼šä½ åº”è¯¥æ›´å¤šåœ°å…³æ³¨åœ¨ä½¿ç”¨åœºæ™¯ä¸Šï¼Œè€Œä¸æ˜¯æ‰§è¡Œæ•ˆç‡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ•°æ®åº“è®¾è®¡é€šå¸¸åˆ†ä¸ºå“ªå‡ æ­¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®åº“è®¾è®¡é€šå¸¸åˆ†ä¸ºå“ªå‡ æ­¥&#34;&gt;#&lt;/a&gt; æ•°æ®åº“è®¾è®¡é€šå¸¸åˆ†ä¸ºå“ªå‡ æ­¥ï¼Ÿ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;éœ€æ±‚åˆ†æ&lt;/strong&gt;ï¼šåˆ†æç”¨æˆ·çš„éœ€æ±‚ï¼ŒåŒ…æ‹¬æ•°æ®ã€åŠŸèƒ½å’Œæ€§èƒ½éœ€æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¦‚å¿µç»“æ„è®¾è®¡&lt;/strong&gt;ï¼šä¸»è¦é‡‡ç”¨ E-R æ¨¡å‹è¿›è¡Œè®¾è®¡ï¼ŒåŒ…æ‹¬ç”» &lt;code&gt; E-R å›¾&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€»è¾‘ç»“æ„è®¾è®¡&lt;/strong&gt;ï¼šé€šè¿‡å°† E-R å›¾è½¬æ¢æˆ &lt;code&gt;è¡¨&lt;/code&gt; ï¼Œå®ç°ä» E-R æ¨¡å‹åˆ°å…³ç³»æ¨¡å‹çš„è½¬æ¢ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç‰©ç†ç»“æ„è®¾è®¡&lt;/strong&gt;ï¼šä¸»è¦æ˜¯ä¸ºæ‰€è®¾è®¡çš„æ•°æ®åº“&lt;font color=&#39;red&#39;&gt;é€‰æ‹©åˆé€‚çš„å­˜å‚¨ç»“æ„å’Œå­˜å–è·¯å¾„&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®åº“å®æ–½&lt;/strong&gt;ï¼šåŒ…æ‹¬ç¼–ç¨‹ã€æµ‹è¯•å’Œè¯•è¿è¡Œ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®åº“çš„è¿è¡Œå’Œç»´æŠ¤&lt;/strong&gt;ï¼šç³»ç»Ÿçš„è¿è¡Œä¸æ•°æ®åº“çš„æ—¥å¸¸ç»´æŠ¤ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;nosqléå…³ç³»å‹æ•°æ®åº“åŸºç¡€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#nosqléå…³ç³»å‹æ•°æ®åº“åŸºç¡€&#34;&gt;#&lt;/a&gt; NoSQLï¼ˆéå…³ç³»å‹æ•°æ®åº“ï¼‰åŸºç¡€&lt;/h2&gt;
&lt;h3 id=&#34;nosql-æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#nosql-æ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; NoSQL æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;NoSQL&lt;/code&gt; ï¼ˆNot Only SQLï¼‰éå…³ç³»å‹çš„æ•°æ®åº“ï¼Œä¸»è¦é’ˆå¯¹çš„æ˜¯&lt;font color=&#39;red&#39;&gt;é”®å€¼ã€æ–‡æ¡£ã€å›¾å½¢ç±»å‹&lt;/font&gt;æ•°æ®å­˜å‚¨ã€‚å¹¶ä¸”ï¼ŒNoSQL æ•°æ®åº“&lt;font color=&#39;red&#39;&gt;å¤©ç”Ÿæ”¯æŒåˆ†å¸ƒå¼ï¼Œæ•°æ®å†—ä½™å’Œæ•°æ®åˆ†ç‰‡&lt;/font&gt;ç­‰ç‰¹æ€§ï¼Œ&lt;font color=&#39;red&#39;&gt;æ—¨åœ¨æä¾›å¯æ‰©å±•ã€é«˜å¯ç”¨ã€é«˜æ€§èƒ½çš„æ•°æ®å­˜å‚¨è§£å†³æ–¹æ¡ˆ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªå¸¸è§çš„è¯¯è§£æ˜¯ NoSQL æ•°æ®åº“æˆ–éå…³ç³»å‹æ•°æ®åº“ä¸èƒ½å¾ˆå¥½åœ°å­˜å‚¨å…³ç³»å‹æ•°æ®ã€‚&lt;font color=&#39;red&#39;&gt;NoSQL æ•°æ®åº“å¯ä»¥å­˜å‚¨å…³ç³»å‹æ•°æ®&lt;/font&gt;â€” å®ƒä»¬ä¸å…³ç³»å‹æ•°æ®åº“çš„å­˜å‚¨æ–¹å¼ä¸åŒã€‚&lt;/p&gt;
&lt;p&gt;NoSQL æ•°æ®åº“ä»£è¡¨ï¼šHBase ã€Cassandraã€MongoDBã€Redisã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/sql-nosql-tushi.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;sqlæ•°æ®åº“-å’Œ-nosqlæ•°æ®åº“-çš„åŒºåˆ«&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sqlæ•°æ®åº“-å’Œ-nosqlæ•°æ®åº“-çš„åŒºåˆ«&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸSQL æ•°æ®åº“ å’Œ NoSQL æ•°æ®åº“ çš„åŒºåˆ«&lt;/mark&gt;&lt;/h3&gt;
&lt;p&gt;å³å…³ç³»å‹æ•°æ®åº“ä¸éå…³ç³»å‹æ•°æ®åº“çš„åŒºåˆ«ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;&lt;/th&gt;
&lt;th&gt;SQL æ•°æ®åº“&lt;/th&gt;
&lt;th&gt;NoSQL æ•°æ®åº“&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å‘å±•å†ç¨‹&lt;/td&gt;
&lt;td&gt;å¼€å‘äº 1970 å¹´ä»£ï¼Œé‡ç‚¹æ˜¯&lt;font color=&#39;red&#39;&gt;å‡å°‘æ•°æ®é‡å¤&lt;/font&gt;&lt;/td&gt;
&lt;td&gt;å¼€å‘äº 2000 å¹´ä»£åæœŸï¼Œé‡ç‚¹æ˜¯&lt;font color=&#39;red&#39;&gt;æå‡å¯æ‰©å±•æ€§&lt;/font&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;å‡å°‘å¤§è§„æ¨¡æ•°æ®çš„å­˜å‚¨æˆæœ¬&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¾‹å­&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Oracle&lt;/code&gt; ã€ &lt;code&gt;MySQL&lt;/code&gt; ã€Microsoft SQL Server ã€PostgreSQL&lt;/td&gt;
&lt;td&gt;æ–‡æ¡£ï¼š &lt;code&gt;MongoDB&lt;/code&gt; ã€CouchDBï¼Œé”®å€¼ï¼š &lt;code&gt;Redis&lt;/code&gt;  ã€DynamoDBï¼Œå®½åˆ—ï¼šCassandra ã€  &lt;code&gt;HBase&lt;/code&gt; ï¼Œå›¾è¡¨ï¼š &lt;code&gt;Neo4j &lt;/code&gt; ã€ Amazon Neptuneã€Giraph&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ•°æ®å­˜å‚¨æ¨¡å‹&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;ç»“æ„åŒ–å­˜å‚¨&lt;/font&gt;ï¼Œå…·æœ‰å›ºå®šè¡Œå’Œåˆ—çš„è¡¨æ ¼&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;éç»“æ„åŒ–å­˜å‚¨&lt;/font&gt;ã€‚æ–‡æ¡£ï¼šJSON æ–‡æ¡£ï¼Œé”®å€¼ï¼šé”®å€¼å¯¹ï¼Œå®½åˆ—ï¼šåŒ…å«è¡Œå’ŒåŠ¨æ€åˆ—çš„è¡¨ï¼Œå›¾ï¼šèŠ‚ç‚¹å’Œè¾¹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ•°æ®æ¨¡å¼&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;å¿…é¡»å…ˆå®šä¹‰å¥½è¡¨ç»“æ„ï¼Œæ‰èƒ½æ·»åŠ æ•°æ®&lt;/font&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;æ•°æ®å¯ä»¥åœ¨ä»»ä½•æ—¶å€™ä»»ä½•åœ°æ–¹æ·»åŠ ï¼Œä¸éœ€è¦é¢„å…ˆå®šä¹‰&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;äº‹åŠ¡æ”¯æŒ&lt;/td&gt;
&lt;td&gt;æ”¯æŒå¯¹äº‹åŠ¡åŸå­æ€§ç»†ç²’åº¦æ§åˆ¶ï¼Œå¹¶ä¸”æ˜“äºå›æ»šäº‹åŠ¡&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;æ²¡æœ‰äº‹åŠ¡è¿™ä¸ªæ¦‚å¿µ&lt;/font&gt;ï¼Œæ¯ä¸€ä¸ªæ•°æ®é›†éƒ½æ˜¯åŸå­çº§åˆ«çš„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ACID å±æ€§&lt;/td&gt;
&lt;td&gt;æä¾›&lt;font color=&#39;red&#39;&gt;åŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§&lt;/font&gt;(ACID) å±æ€§&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;é€šå¸¸ä¸æ”¯æŒ ACID äº‹åŠ¡&lt;/font&gt;ï¼Œä¸ºäº†å¯æ‰©å±•ã€é«˜æ€§èƒ½è¿›è¡Œäº†æƒè¡¡ï¼Œå°‘éƒ¨åˆ†æ”¯æŒæ¯”å¦‚ MongoDB ã€‚ä¸è¿‡ï¼ŒMongoDB å¯¹ ACID äº‹åŠ¡ çš„æ”¯æŒå’Œ MySQL è¿˜æ˜¯æœ‰æ‰€åŒºåˆ«çš„ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æŸ¥è¯¢é€Ÿåº¦&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;æ•°æ®å­˜å‚¨åœ¨ç£ç›˜ä¸­ï¼ŒæŸ¥è¯¢é€Ÿåº¦è¾ƒæ…¢&lt;/font&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;æ•°æ®å­˜å‚¨åœ¨ç¼“å­˜ä¸­ï¼Œä¸”ä¸éœ€è¦ç»è¿‡ SQL å±‚çš„è§£æï¼ŒæŸ¥è¯¢é€Ÿåº¦è¾ƒå¿«&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ€§èƒ½&lt;/td&gt;
&lt;td&gt;æ€§èƒ½é€šå¸¸å–å†³äºç£ç›˜å­ç³»ç»Ÿã€‚è¦è·å¾—æœ€ä½³æ€§èƒ½ï¼Œé€šå¸¸éœ€è¦&lt;font color=&#39;red&#39;&gt;ä¼˜åŒ–æŸ¥è¯¢ã€ç´¢å¼•ã€è¡¨ç»“æ„&lt;/font&gt;ã€‚&lt;/td&gt;
&lt;td&gt;æ€§èƒ½é€šå¸¸ç”±åº•å±‚ç¡¬ä»¶é›†ç¾¤å¤§å°ã€ç½‘ç»œå»¶è¿Ÿä»¥åŠè°ƒç”¨åº”ç”¨ç¨‹åºæ¥å†³å®šã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ‰©å±•&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;å‚ç›´&lt;/font&gt;ï¼ˆä½¿ç”¨æ€§èƒ½æ›´å¼ºå¤§çš„æœåŠ¡å™¨è¿›è¡Œæ‰©å±•ï¼‰ã€è¯»å†™åˆ†ç¦»ã€åˆ†åº“åˆ†è¡¨&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;æ¨ªå‘&lt;/font&gt;ï¼ˆå¢åŠ æœåŠ¡å™¨çš„æ–¹å¼æ¨ªå‘æ‰©å±•ï¼Œé€šå¸¸æ˜¯åŸºäºåˆ†ç‰‡æœºåˆ¶ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç”¨é€”&lt;/td&gt;
&lt;td&gt;æ™®é€šä¼ä¸šçº§çš„é¡¹ç›®çš„æ•°æ®å­˜å‚¨&lt;/td&gt;
&lt;td&gt;ç”¨é€”å¹¿æ³›æ¯”å¦‚å›¾æ•°æ®åº“æ”¯æŒåˆ†æå’Œéå†è¿æ¥æ•°æ®ä¹‹é—´çš„å…³ç³»ã€é”®å€¼æ•°æ®åº“å¯ä»¥å¤„ç†å¤§é‡æ•°æ®æ‰©å±•å’Œæé«˜çš„çŠ¶æ€å˜åŒ–&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æŸ¥è¯¢è¯­æ³•&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ (SQL)&lt;/font&gt;&lt;/td&gt;
&lt;td&gt;æ•°æ®è®¿é—®è¯­æ³•å¯èƒ½&lt;font color=&#39;red&#39;&gt;å› æ•°æ®åº“è€Œå¼‚&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;nosql-æ•°æ®åº“çš„ä¼˜åŠ¿&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#nosql-æ•°æ®åº“çš„ä¼˜åŠ¿&#34;&gt;#&lt;/a&gt; NoSQL æ•°æ®åº“çš„ä¼˜åŠ¿&lt;/h3&gt;
&lt;p&gt;NoSQL æ•°æ®åº“éå¸¸é€‚åˆè®¸å¤šç°ä»£åº”ç”¨ç¨‹åºï¼Œä¾‹å¦‚ç§»åŠ¨ã€Web å’Œæ¸¸æˆç­‰åº”ç”¨ç¨‹åºï¼Œå®ƒä»¬éœ€è¦çµæ´»ã€å¯æ‰©å±•ã€é«˜æ€§èƒ½å’ŒåŠŸèƒ½å¼ºå¤§çš„æ•°æ®åº“ä»¥æä¾›å“è¶Šçš„ç”¨æˆ·ä½“éªŒã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;çµæ´»æ€§ï¼š&lt;/strong&gt; NoSQL æ•°æ®åº“é€šå¸¸æä¾›çµæ´»çš„æ¶æ„ï¼Œä»¥å®ç°æ›´å¿«é€Ÿã€æ›´å¤šçš„è¿­ä»£å¼€å‘ã€‚&lt;font color=&#39;red&#39;&gt;çµæ´»çš„æ•°æ®æ¨¡å‹&lt;/font&gt;ä½¿ NoSQL æ•°æ®åº“æˆä¸º **&lt;font color=&#39;red&#39;&gt;åŠç»“æ„åŒ–å’Œéç»“æ„åŒ–æ•°æ®&lt;/font&gt;** çš„ç†æƒ³ä¹‹é€‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯æ‰©å±•æ€§ï¼š&lt;/strong&gt; NoSQL æ•°æ®åº“é€šå¸¸è¢«è®¾è®¡ä¸º&lt;font color=&#39;red&#39;&gt;é€šè¿‡ä½¿ç”¨åˆ†å¸ƒå¼ç¡¬ä»¶é›†ç¾¤æ¥æ¨ªå‘æ‰©å±•&lt;/font&gt;ï¼Œè€Œä¸æ˜¯é€šè¿‡æ·»åŠ æ˜‚è´µå’Œå¼ºå¤§çš„æœåŠ¡å™¨æ¥çºµå‘æ‰©å±•ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é«˜æ€§èƒ½ï¼š&lt;/strong&gt; NoSQL æ•°æ®åº“&lt;font color=&#39;red&#39;&gt;é’ˆå¯¹ç‰¹å®šçš„æ•°æ®æ¨¡å‹å’Œè®¿é—®æ¨¡å¼è¿›è¡Œäº†ä¼˜åŒ–&lt;/font&gt;ï¼Œè¿™ä¸å°è¯•ä½¿ç”¨å…³ç³»æ•°æ®åº“å®Œæˆç±»ä¼¼åŠŸèƒ½ç›¸æ¯”å¯å®ç°æ›´é«˜çš„æ€§èƒ½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼ºå¤§çš„åŠŸèƒ½ï¼š&lt;/strong&gt; NoSQL æ•°æ®åº“æä¾›åŠŸèƒ½&lt;font color=&#39;red&#39;&gt;å¼ºå¤§çš„ API å’Œæ•°æ®ç±»å‹&lt;/font&gt;ï¼Œä¸“é—¨é’ˆå¯¹å…¶å„è‡ªçš„æ•°æ®æ¨¡å‹è€Œæ„å»ºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;nosql-æ•°æ®åº“æœ‰å“ªäº›ç±»å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#nosql-æ•°æ®åº“æœ‰å“ªäº›ç±»å‹&#34;&gt;#&lt;/a&gt; NoSQL æ•°æ®åº“æœ‰å“ªäº›ç±»å‹ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;NoSQL æ•°æ®åº“ä¸»è¦å¯ä»¥åˆ†ä¸ºä¸‹é¢å››ç§ç±»å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é”®å€¼&lt;/strong&gt; ï¼šé”®å€¼æ•°æ®åº“æ˜¯ä¸€ç§è¾ƒç®€å•çš„æ•°æ®åº“ï¼Œå…¶ä¸­&lt;font color=&#39;red&#39;&gt;æ¯ä¸ªé¡¹éƒ½åŒ…å«é”®å’Œå€¼&lt;/font&gt;ã€‚è¿™æ˜¯æä¸ºçµæ´»çš„ NoSQL æ•°æ®åº“ç±»å‹ï¼Œå› ä¸ºåº”ç”¨å¯ä»¥å®Œå…¨æ§åˆ¶ value å­—æ®µä¸­å­˜å‚¨çš„å†…å®¹ï¼Œæ²¡æœ‰ä»»ä½•é™åˆ¶ã€‚ &lt;code&gt;Redis&lt;/code&gt;  å’Œ DynanoDB æ˜¯ä¸¤æ¬¾éå¸¸æµè¡Œçš„é”®å€¼æ•°æ®åº“ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ–‡æ¡£&lt;/strong&gt; ï¼šæ–‡æ¡£æ•°æ®åº“ä¸­çš„æ•°æ®è¢«å­˜å‚¨åœ¨ç±»ä¼¼äº  &lt;code&gt;JSON&lt;/code&gt; ï¼ˆJavaScript å¯¹è±¡è¡¨ç¤ºæ³•ï¼‰å¯¹è±¡çš„æ–‡æ¡£ä¸­ï¼Œéå¸¸æ¸…æ™°ç›´è§‚ã€‚&lt;font color=&#39;red&#39;&gt;æ¯ä¸ªæ–‡æ¡£åŒ…å«æˆå¯¹çš„å­—æ®µå’Œå€¼&lt;/font&gt;ã€‚è¿™äº›å€¼é€šå¸¸å¯ä»¥æ˜¯å„ç§ç±»å‹ï¼ŒåŒ…æ‹¬å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ã€æ•°ç»„æˆ–å¯¹è±¡ç­‰ï¼Œå¹¶ä¸”å®ƒä»¬çš„&lt;font color=&#39;red&#39;&gt;ç»“æ„é€šå¸¸ä¸å¼€å‘è€…åœ¨ä»£ç ä¸­ä½¿ç”¨çš„å¯¹è±¡ä¿æŒä¸€è‡´&lt;/font&gt;ã€‚ &lt;code&gt;MongoDB&lt;/code&gt;  å°±æ˜¯ä¸€æ¬¾éå¸¸æµè¡Œçš„æ–‡æ¡£æ•°æ®åº“ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å›¾å½¢&lt;/strong&gt; ï¼šå›¾å½¢æ•°æ®åº“æ—¨åœ¨è½»æ¾æ„å»ºå’Œè¿è¡Œä¸é«˜åº¦è¿æ¥çš„æ•°æ®é›†ä¸€èµ·ä½¿ç”¨çš„åº”ç”¨ç¨‹åºã€‚å›¾å½¢æ•°æ®åº“çš„å…¸å‹ä½¿ç”¨æ¡ˆä¾‹åŒ…æ‹¬ç¤¾äº¤ç½‘ç»œã€æ¨èå¼•æ“ã€æ¬ºè¯ˆæ£€æµ‹å’ŒçŸ¥è¯†å›¾è°±ã€‚ &lt;code&gt;Neo4j&lt;/code&gt;  å’Œ Giraph æ˜¯ä¸¤æ¬¾éå¸¸æµè¡Œçš„å›¾å½¢æ•°æ®åº“ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®½åˆ—&lt;/strong&gt; ï¼šå®½åˆ—å­˜å‚¨æ•°æ®åº“&lt;font color=&#39;red&#39;&gt;éå¸¸é€‚åˆéœ€è¦å­˜å‚¨å¤§é‡çš„æ•°æ®&lt;/font&gt;ã€‚Cassandra å’Œ  &lt;code&gt;HBase&lt;/code&gt;  æ˜¯ä¸¤æ¬¾éå¸¸æµè¡Œçš„å®½åˆ—å­˜å‚¨æ•°æ®åº“ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢è¿™å¼ å›¾ç‰‡æ¥æºäº &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9sZWFybi5taWNyb3NvZnQuY29tL2VuLXVzL2RvdG5ldC9hcmNoaXRlY3R1cmUvY2xvdWQtbmF0aXZlL3JlbGF0aW9uYWwtdnMtbm9zcWwtZGF0YQ==&#34;&gt;å¾®è½¯çš„å®˜æ–¹æ–‡æ¡£ | å…³ç³»æ•°æ®ä¸ NoSQL æ•°æ®&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/types-of-nosql-datastores.png&#34; alt=&#34;NoSQL æ•°æ®æ¨¡å‹&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;mysql-å¸¸è§é¢è¯•é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysql-å¸¸è§é¢è¯•é¢˜&#34;&gt;#&lt;/a&gt; MySQL å¸¸è§é¢è¯•é¢˜&lt;/h2&gt;
&lt;h3 id=&#34;mysqlåŸºç¡€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysqlåŸºç¡€&#34;&gt;#&lt;/a&gt; MySQL åŸºç¡€&lt;/h3&gt;
&lt;h4 id=&#34;ä»€ä¹ˆæ˜¯å…³ç³»å‹æ•°æ®åº“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»€ä¹ˆæ˜¯å…³ç³»å‹æ•°æ®åº“&#34;&gt;#&lt;/a&gt; ä»€ä¹ˆæ˜¯å…³ç³»å‹æ•°æ®åº“ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;é¡¾åæ€ä¹‰ï¼Œ &lt;code&gt;å…³ç³»å‹æ•°æ®åº“ï¼ˆRDBMSï¼ŒRelational Database Management Systemï¼‰&lt;/code&gt; å°±æ˜¯&lt;font color=&#39;red&#39;&gt;ä¸€ç§å»ºç«‹åœ¨&lt;u&gt;å…³ç³»æ¨¡å‹&lt;/u&gt;çš„åŸºç¡€ä¸Šçš„æ•°æ®åº“&lt;/font&gt;ã€‚å…³ç³»æ¨¡å‹è¡¨æ˜äº†æ•°æ®åº“ä¸­æ‰€å­˜å‚¨çš„&lt;font color=&#39;red&#39;&gt;æ•°æ®ä¹‹é—´çš„è”ç³»ï¼ˆä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹å¤šï¼‰&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å…³ç³»å‹æ•°æ®åº“ä¸­ï¼Œæˆ‘ä»¬çš„æ•°æ®éƒ½è¢«å­˜æ”¾åœ¨äº†å„ç§è¡¨ä¸­ï¼ˆæ¯”å¦‚ç”¨æˆ·è¡¨ï¼‰ï¼Œè¡¨ä¸­çš„æ¯ä¸€è¡Œå°±å­˜æ”¾ç€ä¸€æ¡æ•°æ®ï¼ˆæ¯”å¦‚ä¸€ä¸ªç”¨æˆ·çš„ä¿¡æ¯ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/5e3c1a71724a38245aa43b02_99bf70d46cc247be878de9d3a88f0c44.png&#34; alt=&#34;å…³ç³»å‹æ•°æ®åº“è¡¨å…³ç³»&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¤§éƒ¨åˆ†å…³ç³»å‹æ•°æ®åº“éƒ½ä½¿ç”¨ SQL æ¥æ“ä½œæ•°æ®åº“ä¸­çš„æ•°æ®ã€‚å¹¶ä¸”ï¼Œå¤§éƒ¨åˆ†å…³ç³»å‹æ•°æ®åº“éƒ½æ”¯æŒ&lt;font color=&#39;red&#39;&gt;äº‹åŠ¡çš„å››å¤§ç‰¹æ€§ (ACID)&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¸¸è§çš„å…³ç³»å‹æ•°æ®åº“ï¼šMySQLã€PostgreSQLã€Oracleã€SQL Serverã€SQLiteï¼ˆå¾®ä¿¡æœ¬åœ°çš„èŠå¤©è®°å½•çš„å­˜å‚¨å°±æ˜¯ç”¨çš„ SQLiteï¼‰ ......ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä»€ä¹ˆæ˜¯-sql&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»€ä¹ˆæ˜¯-sql&#34;&gt;#&lt;/a&gt; ä»€ä¹ˆæ˜¯ SQLï¼Ÿ&lt;/h4&gt;
&lt;p&gt;SQL æ˜¯ä¸€ç§ &lt;code&gt;ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€(Structured Query Language)&lt;/code&gt; ï¼Œä¸“é—¨ç”¨æ¥ä¸æ•°æ®åº“æ‰“äº¤é“ï¼Œç›®çš„æ˜¯æä¾›ä¸€ç§&lt;font color=&#39;red&#39;&gt;ä»æ•°æ®åº“ä¸­è¯»å†™æ•°æ®&lt;/font&gt;çš„ç®€å•æœ‰æ•ˆçš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å‡ ä¹æ‰€æœ‰çš„ä¸»æµå…³ç³»æ•°æ®åº“éƒ½æ”¯æŒ SQL ï¼Œé€‚ç”¨æ€§éå¸¸å¼ºã€‚å¹¶ä¸”ï¼Œä¸€äº›éå…³ç³»å‹æ•°æ®åº“ä¹Ÿå…¼å®¹ SQL æˆ–è€…ä½¿ç”¨çš„æ˜¯ç±»ä¼¼äº SQL çš„æŸ¥è¯¢è¯­è¨€ã€‚&lt;/p&gt;
&lt;p&gt;SQL å¯ä»¥å¸®åŠ©æˆ‘ä»¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–°å»ºæ•°æ®åº“ã€æ•°æ®è¡¨ã€å­—æ®µï¼›&lt;/li&gt;
&lt;li&gt;åœ¨æ•°æ®åº“ä¸­å¢åŠ ï¼Œåˆ é™¤ï¼Œä¿®æ”¹ï¼ŒæŸ¥è¯¢æ•°æ®ï¼›&lt;/li&gt;
&lt;li&gt;æ–°å»ºè§†å›¾ã€å‡½æ•°ã€å­˜å‚¨è¿‡ç¨‹ï¼›&lt;/li&gt;
&lt;li&gt;å¯¹æ•°æ®åº“ä¸­çš„æ•°æ®è¿›è¡Œç®€å•çš„æ•°æ®åˆ†æï¼›&lt;/li&gt;
&lt;li&gt;æ­é… Hiveï¼ŒSpark SQL åšå¤§æ•°æ®ï¼›&lt;/li&gt;
&lt;li&gt;æ­é… SQLFlow åšæœºå™¨å­¦ä¹ ï¼›&lt;/li&gt;
&lt;li&gt;......&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ä»€ä¹ˆæ˜¯-mysql&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»€ä¹ˆæ˜¯-mysql&#34;&gt;#&lt;/a&gt; ä»€ä¹ˆæ˜¯ MySQLï¼Ÿ&lt;/h4&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/20210327143351823.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;MySQL æ˜¯ä¸€ç§å…³ç³»å‹æ•°æ®åº“ï¼Œä¸»è¦ç”¨äºæŒä¹…åŒ–å­˜å‚¨æˆ‘ä»¬çš„ç³»ç»Ÿä¸­çš„ä¸€äº›æ•°æ®æ¯”å¦‚ç”¨æˆ·ä¿¡æ¯ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç”±äº MySQL æ˜¯å¼€æºå…è´¹å¹¶ä¸”æ¯”è¾ƒæˆç†Ÿçš„æ•°æ®åº“ï¼Œå› æ­¤ï¼ŒMySQL è¢«å¤§é‡ä½¿ç”¨åœ¨å„ç§ç³»ç»Ÿä¸­ã€‚ä»»ä½•äººéƒ½å¯ä»¥åœ¨ GPL (General Public License) çš„è®¸å¯ä¸‹ä¸‹è½½å¹¶æ ¹æ®ä¸ªæ€§åŒ–çš„éœ€è¦å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚MySQL çš„é»˜è®¤ç«¯å£å·æ˜¯&lt;strong&gt; 3306&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;mysql-æœ‰ä»€ä¹ˆä¼˜ç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysql-æœ‰ä»€ä¹ˆä¼˜ç‚¹&#34;&gt;#&lt;/a&gt; MySQL æœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;è¿™ä¸ªé—®é¢˜æœ¬è´¨ä¸Šæ˜¯åœ¨é—® MySQL å¦‚æ­¤æµè¡Œçš„åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;MySQL ä¸»è¦å…·æœ‰ä¸‹é¢è¿™äº›ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æˆç†Ÿç¨³å®šï¼ŒåŠŸèƒ½å®Œå–„ã€‚&lt;/li&gt;
&lt;li&gt;å¼€æºå…è´¹ã€‚&lt;/li&gt;
&lt;li&gt;æ–‡æ¡£ä¸°å¯Œï¼Œæ—¢æœ‰è¯¦ç»†çš„å®˜æ–¹æ–‡æ¡£ï¼Œåˆæœ‰éå¸¸å¤šä¼˜è´¨æ–‡ç« å¯ä¾›å‚è€ƒå­¦ä¹ ã€‚&lt;/li&gt;
&lt;li&gt;å¼€ç®±å³ç”¨ï¼Œæ“ä½œç®€å•ï¼Œç»´æŠ¤æˆæœ¬ä½ã€‚&lt;/li&gt;
&lt;li&gt;å…¼å®¹æ€§å¥½ï¼Œæ”¯æŒå¸¸è§çš„æ“ä½œç³»ç»Ÿï¼Œæ”¯æŒå¤šç§å¼€å‘è¯­è¨€ã€‚&lt;/li&gt;
&lt;li&gt;ç¤¾åŒºæ´»è·ƒï¼Œç”Ÿæ€å®Œå–„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;äº‹åŠ¡æ”¯æŒ&lt;/strong&gt;ä¼˜ç§€ï¼Œ InnoDB å­˜å‚¨å¼•æ“é»˜è®¤ä½¿ç”¨ REPEATABLE-READ å¹¶ä¸ä¼šæœ‰ä»»ä½•æ€§èƒ½æŸå¤±ï¼Œå¹¶ä¸” InnoDB å®ç°çš„ REPEATABLE-READ éš”ç¦»çº§åˆ«å…¶å®æ˜¯å¯ä»¥è§£å†³å¹»è¯»é—®é¢˜å‘ç”Ÿçš„ã€‚&lt;/li&gt;
&lt;li&gt;æ”¯æŒ&lt;strong&gt;åˆ†åº“åˆ†è¡¨ã€è¯»å†™åˆ†ç¦»ã€é«˜å¯ç”¨&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;mysql-ä¸­ä¸»é”®å’Œ-unique-çš„åŒºåˆ«&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysql-ä¸­ä¸»é”®å’Œ-unique-çš„åŒºåˆ«&#34;&gt;#&lt;/a&gt; &lt;mark&gt;MySQL ä¸­ä¸»é”®å’Œ unique çš„åŒºåˆ«&lt;/mark&gt;&lt;/h4&gt;
&lt;p&gt;ä¸»é”®å’Œ UNIQUE çº¦æŸ&lt;font color=&#39;red&#39;&gt;éƒ½èƒ½ä¿è¯æŸä¸ªåˆ—æˆ–è€…åˆ—ç»„åˆçš„å”¯â¼€æ€§&lt;/font&gt;ï¼Œä½†æ˜¯æœ‰ä»¥ä¸‹ä¸åŒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;â¼€å¼ è¡¨ä¸­åªèƒ½å®šä¹‰â¼€ä¸ªä¸»é”®&lt;/font&gt;ï¼Œå´å¯ä»¥å®šä¹‰å¤šä¸ª UNIQUE çº¦æŸï¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ä¸»é”®åˆ—ä¸å…è®¸å­˜æ”¾ NULL&lt;/font&gt;ï¼Œâ½½å£°æ˜äº† UNIQUE å±æ€§çš„åˆ—å¯ä»¥å­˜æ”¾ NULL ï¼Œâ½½ä¸” NULL å¯ä»¥é‡å¤åœ°å‡ºç°åœ¨å¤šæ¡è®°å½•ä¸­ï¼&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;mysqlå­—æ®µç±»å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysqlå­—æ®µç±»å‹&#34;&gt;#&lt;/a&gt; MySQL å­—æ®µç±»å‹&lt;/h3&gt;
&lt;h4 id=&#34;æ•´æ•°ç±»å‹çš„-unsigned-å±æ€§æœ‰ä»€ä¹ˆç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•´æ•°ç±»å‹çš„-unsigned-å±æ€§æœ‰ä»€ä¹ˆç”¨&#34;&gt;#&lt;/a&gt; æ•´æ•°ç±»å‹çš„ UNSIGNED å±æ€§æœ‰ä»€ä¹ˆç”¨ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;UNSIGNED å±æ€§æ¥è¡¨ç¤ºä¸å…è®¸è´Ÿå€¼çš„æ— ç¬¦å·æ•´æ•°ï¼Œå› æ­¤å¯ä»¥å°†æ­£æ•´æ•°çš„ä¸Šé™æé«˜ä¸€å€&lt;/strong&gt;ï¼Œå› ä¸ºå®ƒä¸éœ€è¦å­˜å‚¨è´Ÿæ•°å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œ TINYINT UNSIGNED ç±»å‹çš„å–å€¼èŒƒå›´æ˜¯ 0 ~ 255ï¼Œè€Œæ™®é€šçš„ TINYINT ç±»å‹çš„å€¼èŒƒå›´æ˜¯ -128 ~ 127ã€‚INT UNSIGNED ç±»å‹çš„å–å€¼èŒƒå›´æ˜¯ 0 ~ 4,294,967,295ï¼Œè€Œæ™®é€šçš„ INT ç±»å‹çš„å€¼èŒƒå›´æ˜¯ 2,147,483,648 ~ 2,147,483,647ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äº&lt;font color=&#39;red&#39;&gt;ä» 0 å¼€å§‹é€’å¢çš„ ID åˆ—&lt;/font&gt;ï¼Œä½¿ç”¨ UNSIGNED å±æ€§å¯ä»¥éå¸¸é€‚åˆï¼Œå› ä¸ºä¸å…è®¸è´Ÿå€¼å¹¶ä¸”å¯ä»¥æ‹¥æœ‰æ›´å¤§çš„ä¸Šé™èŒƒå›´ï¼Œæä¾›äº†æ›´å¤šçš„ ID å€¼å¯ç”¨ã€‚&lt;/p&gt;
&lt;h4 id=&#34;char-å’Œ-varchar-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#char-å’Œ-varchar-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; CHAR å’Œ VARCHAR çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;CHAR æ˜¯å®šé•¿å­—ç¬¦ä¸²ï¼ŒVARCHAR æ˜¯å˜é•¿å­—ç¬¦ä¸²ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CHAR åœ¨å­˜å‚¨æ—¶ä¼šåœ¨å³è¾¹&lt;font color=&#39;red&#39;&gt;å¡«å……ç©ºæ ¼&lt;/font&gt;ä»¥è¾¾åˆ°æŒ‡å®šçš„é•¿åº¦ï¼Œæ£€ç´¢æ—¶ä¼š&lt;font color=&#39;red&#39;&gt;å»æ‰ç©ºæ ¼&lt;/font&gt;ï¼›VARCHAR åœ¨å­˜å‚¨æ—¶éœ€è¦&lt;font color=&#39;red&#39;&gt;ä½¿ç”¨ 1 æˆ– 2 ä¸ªé¢å¤–å­—èŠ‚è®°å½•å­—ç¬¦ä¸²çš„é•¿åº¦&lt;/font&gt;ï¼Œæ£€ç´¢æ—¶ä¸éœ€è¦å¤„ç†ã€‚&lt;/li&gt;
&lt;li&gt;CHAR æ›´é€‚åˆå­˜å‚¨&lt;font color=&#39;red&#39;&gt;é•¿åº¦è¾ƒçŸ­æˆ–è€…é•¿åº¦éƒ½å·®ä¸å¤š&lt;/font&gt;çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ Bcrypt ç®—æ³•ã€MD5 ç®—æ³•åŠ å¯†åçš„å¯†ç ã€èº«ä»½è¯å·ç ã€‚VARCHAR ç±»å‹é€‚åˆå­˜å‚¨&lt;font color=&#39;red&#39;&gt;é•¿åº¦ä¸ç¡®å®šæˆ–è€…å·®å¼‚è¾ƒå¤§&lt;/font&gt;çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ç”¨æˆ·æ˜µç§°ã€æ–‡ç« æ ‡é¢˜ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;CHAR (M) å’Œ VARCHAR (M) çš„ M éƒ½ä»£è¡¨èƒ½å¤Ÿä¿å­˜çš„å­—ç¬¦æ•°çš„æœ€å¤§å€¼ï¼Œ&lt;font color=&#39;red&#39;&gt;æ— è®ºæ˜¯å­—æ¯ã€æ•°å­—è¿˜æ˜¯ä¸­æ–‡ï¼Œæ¯ä¸ªéƒ½åªå ç”¨ä¸€ä¸ªå­—ç¬¦&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;varchar100å’Œ-varchar10çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#varchar100å’Œ-varchar10çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; VARCHAR (100) å’Œ VARCHAR (10) çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h4&gt;
&lt;p&gt;VARCHAR (100) å’Œ VARCHAR (10) éƒ½æ˜¯å˜é•¿ç±»å‹ï¼Œè¡¨ç¤ºèƒ½å­˜å‚¨æœ€å¤š 100 ä¸ªå­—ç¬¦å’Œ 10 ä¸ªå­—ç¬¦ã€‚å› æ­¤ï¼Œ&lt;font color=&#39;red&#39;&gt;VARCHAR (100) å¯ä»¥æ»¡è¶³æ›´å¤§èŒƒå›´çš„å­—ç¬¦å­˜å‚¨éœ€æ±‚&lt;/font&gt;ï¼Œæœ‰æ›´å¥½çš„ä¸šåŠ¡æ‹“å±•æ€§ã€‚è€Œ VARCHAR (10) å­˜å‚¨è¶…è¿‡ 10 ä¸ªå­—ç¬¦æ—¶ï¼Œå°±éœ€è¦ä¿®æ”¹è¡¨ç»“æ„æ‰å¯ä»¥ã€‚&lt;/p&gt;
&lt;p&gt;è™½è¯´ VARCHAR (100) å’Œ VARCHAR (10) èƒ½å­˜å‚¨çš„å­—ç¬¦èŒƒå›´ä¸åŒï¼Œä½†äºŒè€…å­˜å‚¨ç›¸åŒçš„å­—ç¬¦ä¸²ï¼Œæ‰€å ç”¨ç£ç›˜çš„å­˜å‚¨ç©ºé—´å…¶å®æ˜¯ä¸€æ ·çš„ï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤šäººå®¹æ˜“è¯¯è§£çš„ä¸€ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œ&lt;font color=&#39;red&#39;&gt;VARCHAR (100) ä¼šæ¶ˆè€—æ›´å¤šçš„å†…å­˜&lt;/font&gt;ã€‚è¿™æ˜¯å› ä¸º VARCHAR ç±»å‹åœ¨å†…å­˜ä¸­æ“ä½œæ—¶ï¼Œ&lt;font color=&#39;red&#39;&gt;é€šå¸¸ä¼šåˆ†é…å›ºå®šå¤§å°çš„å†…å­˜å—&lt;/font&gt;æ¥ä¿å­˜å€¼ï¼Œå³ä½¿ç”¨å­—ç¬¦ç±»å‹ä¸­å®šä¹‰çš„é•¿åº¦ã€‚ä¾‹å¦‚åœ¨è¿›è¡Œæ’åºçš„æ—¶å€™ï¼ŒVARCHAR (100) æ˜¯æŒ‰ç…§ 100 è¿™ä¸ªé•¿åº¦æ¥è¿›è¡Œçš„ï¼Œä¹Ÿå°±ä¼šæ¶ˆè€—æ›´å¤šå†…å­˜ã€‚&lt;/p&gt;
&lt;h4 id=&#34;decimal-å’Œ-floatdouble-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#decimal-å’Œ-floatdouble-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; DECIMAL å’Œ FLOAT/DOUBLE çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;DECIMAL æ˜¯å®šç‚¹æ•°ï¼Œå¯ä»¥å­˜å‚¨ç²¾ç¡®çš„å°æ•°å€¼ï¼›FLOAT/DOUBLE æ˜¯æµ®ç‚¹æ•°ï¼Œåªèƒ½å­˜å‚¨è¿‘ä¼¼çš„å°æ•°å€¼ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ Java ä¸­ï¼ŒMySQL çš„ DECIMAL ç±»å‹å¯¹åº”çš„æ˜¯ Java ç±»  &lt;code&gt;java.math.BigDecimal&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨-text-å’Œ-blob&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨-text-å’Œ-blob&#34;&gt;#&lt;/a&gt; ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨ TEXT å’Œ BLOBï¼Ÿ&lt;/h4&gt;
&lt;p&gt;TEXT ç±»å‹ç±»ä¼¼äº CHARï¼ˆ0-255 å­—èŠ‚ï¼‰å’Œ VARCHARï¼ˆ0-65,535 å­—èŠ‚ï¼‰ï¼Œä½†å¯ä»¥å­˜å‚¨æ›´é•¿çš„å­—ç¬¦ä¸²ï¼Œå³&lt;font color=&#39;cornflowerblue&#39;&gt;é•¿æ–‡æœ¬æ•°æ®&lt;/font&gt;ï¼Œä¾‹å¦‚åšå®¢å†…å®¹ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç±»å‹&lt;/th&gt;
&lt;th&gt;å¯å­˜å‚¨å¤§å°&lt;/th&gt;
&lt;th&gt;ç”¨é€”&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;TINYTEXT&lt;/td&gt;
&lt;td&gt;0-255 å­—èŠ‚&lt;/td&gt;
&lt;td&gt;ä¸€èˆ¬æ–‡æœ¬å­—ç¬¦ä¸²&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;TEXT&lt;/td&gt;
&lt;td&gt;0-65,535 å­—èŠ‚&lt;/td&gt;
&lt;td&gt;é•¿æ–‡æœ¬å­—ç¬¦ä¸²&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;MEDIUMTEXT&lt;/td&gt;
&lt;td&gt;0-16,772,150 å­—èŠ‚&lt;/td&gt;
&lt;td&gt;è¾ƒå¤§æ–‡æœ¬æ•°æ®&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;LONGTEXT&lt;/td&gt;
&lt;td&gt;0-4,294,967,295 å­—èŠ‚&lt;/td&gt;
&lt;td&gt;æå¤§æ–‡æœ¬æ•°æ®&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;BLOB ç±»å‹ä¸»è¦ç”¨äºå­˜å‚¨&lt;font color=&#39;cornflowerblue&#39;&gt;äºŒè¿›åˆ¶å¤§å¯¹è±¡ï¼Œä¾‹å¦‚å›¾ç‰‡ã€éŸ³è§†é¢‘ç­‰æ–‡ä»¶&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç±»å‹&lt;/th&gt;
&lt;th&gt;å¯å­˜å‚¨å¤§å°&lt;/th&gt;
&lt;th&gt;ç”¨é€”&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;TINYBLOB&lt;/td&gt;
&lt;td&gt;0-255 å­—èŠ‚&lt;/td&gt;
&lt;td&gt;çŸ­æ–‡æœ¬äºŒè¿›åˆ¶å­—ç¬¦ä¸²&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BLOB&lt;/td&gt;
&lt;td&gt;0-65KB&lt;/td&gt;
&lt;td&gt;äºŒè¿›åˆ¶å­—ç¬¦ä¸²&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;MEDIUMBLOB&lt;/td&gt;
&lt;td&gt;0-16MB&lt;/td&gt;
&lt;td&gt;äºŒè¿›åˆ¶å½¢å¼çš„é•¿æ–‡æœ¬æ•°æ®&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;LONGBLOB&lt;/td&gt;
&lt;td&gt;0-4GB&lt;/td&gt;
&lt;td&gt;äºŒè¿›åˆ¶å½¢å¼çš„æå¤§æ–‡æœ¬æ•°æ®&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œå¾ˆå°‘ä½¿ç”¨ TEXT ç±»å‹ï¼Œä½†å¶å°”ä¼šç”¨åˆ°ï¼Œè€Œ BLOB ç±»å‹åˆ™åŸºæœ¬ä¸å¸¸ç”¨ã€‚&lt;font color=&#39;red&#39;&gt;å¦‚æœé¢„æœŸé•¿åº¦èŒƒå›´å¯ä»¥é€šè¿‡ VARCHAR æ¥æ»¡è¶³ï¼Œå»ºè®®é¿å…ä½¿ç”¨ TEXT&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ•°æ®åº“è§„èŒƒé€šå¸¸ä¸æ¨èä½¿ç”¨ BLOB å’Œ TEXT ç±»å‹ï¼Œè¿™ä¸¤ç§ç±»å‹å…·æœ‰ä¸€äº›ç¼ºç‚¹å’Œé™åˆ¶ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ä¸èƒ½æœ‰é»˜è®¤å€¼&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;åœ¨ä½¿ç”¨ä¸´æ—¶è¡¨æ—¶&lt;font color=&#39;red&#39;&gt;æ— æ³•ä½¿ç”¨å†…å­˜ä¸´æ—¶è¡¨ï¼Œåªèƒ½åœ¨ç£ç›˜ä¸Šåˆ›å»ºä¸´æ—¶è¡¨&lt;/font&gt;ï¼ˆã€Šé«˜æ€§èƒ½ MySQLã€‹ä¹¦ä¸­æœ‰æåˆ°ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æ£€ç´¢æ•ˆç‡è¾ƒä½&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ä¸èƒ½ç›´æ¥åˆ›å»ºç´¢å¼•&lt;/font&gt;ï¼Œéœ€è¦æŒ‡å®šå‰ç¼€é•¿åº¦&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ä¼šæ¶ˆè€—å¤§é‡çš„ç½‘ç»œå’Œ IO å¸¦å®½&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;å¯èƒ½å¯¼è‡´è¡¨ä¸Šçš„&lt;font color=&#39;red&#39;&gt; DML æ“ä½œå˜æ…¢&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;â€¦â€¦&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;datetime-å’Œ-timestamp-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#datetime-å’Œ-timestamp-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; DATETIME å’Œ TIMESTAMP çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;DATETIME ç±»å‹æ²¡æœ‰æ—¶åŒºä¿¡æ¯ï¼ŒTIMESTAMP å’Œæ—¶åŒºæœ‰å…³&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;TIMESTAMP åªéœ€è¦ä½¿ç”¨ 4 ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ï¼Œä½†æ˜¯ DATETIME éœ€è¦è€—è´¹ 8 ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´&lt;/font&gt;ã€‚ä½†æ˜¯ï¼Œè¿™æ ·åŒæ ·é€ æˆäº†ä¸€ä¸ªé—®é¢˜ï¼Œ&lt;font color=&#39;red&#39;&gt;Timestamp è¡¨ç¤ºçš„æ—¶é—´èŒƒå›´æ›´å°&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DATETIMEï¼š1000-01-01 00:00:00 ~ 9999-12-31 23:59:59&lt;/li&gt;
&lt;li&gt;Timestampï¼š1970-01-01 00:00:01 ~ 2037-12-31 23:59:59&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;null-å’Œ-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#null-å’Œ-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; NULL å’Œ &#39;&#39; çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;NULL&lt;/code&gt;  è·Ÿ  &lt;code&gt;&#39;&#39;&lt;/code&gt; (ç©ºå­—ç¬¦ä¸²) æ˜¯ä¸¤ä¸ªå®Œå…¨ä¸ä¸€æ ·çš„å€¼ï¼ŒåŒºåˆ«å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;NULL&lt;/code&gt;  ä»£è¡¨ä¸€ä¸ªä¸ç¡®å®šçš„å€¼ï¼Œä½†å ç”¨ç©ºé—´&lt;/strong&gt;ã€‚å°±ç®—æ˜¯ä¸¤ä¸ª  &lt;code&gt;NULL&lt;/code&gt; ï¼Œå®ƒä¿©ä¹Ÿä¸ä¸€å®šç›¸ç­‰ã€‚ä¾‹å¦‚ï¼Œ &lt;code&gt;SELECT NULL=NULL&lt;/code&gt;  çš„ç»“æœä¸º falseï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬ä½¿ç”¨ &lt;code&gt;DISTINCT&lt;/code&gt; ï¼Œ &lt;code&gt;GROUP BY&lt;/code&gt; ï¼Œ &lt;code&gt;ORDER BY&lt;/code&gt;  æ—¶ï¼Œ &lt;code&gt;NULL&lt;/code&gt;  åˆè¢«è®¤ä¸ºæ˜¯ç›¸ç­‰çš„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;&#39;&#39;&lt;/code&gt;  æ˜¯é•¿åº¦ä¸º 0 çš„å­—ç¬¦ä¸²ï¼Œä¸å ç”¨ç©ºé—´&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt; &lt;code&gt;NULL&lt;/code&gt;  ä¼šå½±å“èšåˆå‡½æ•°çš„ç»“æœ&lt;/font&gt;ã€‚ä¾‹å¦‚ï¼Œ &lt;code&gt;SUM&lt;/code&gt; ã€ &lt;code&gt;AVG&lt;/code&gt; ã€ &lt;code&gt;MIN&lt;/code&gt; ã€ &lt;code&gt;MAX&lt;/code&gt;  ç­‰èšåˆå‡½æ•°ä¼šå¿½ç•¥  &lt;code&gt;NULL&lt;/code&gt;  å€¼ã€‚ &lt;code&gt;COUNT&lt;/code&gt;  çš„å¤„ç†æ–¹å¼å–å†³äºå‚æ•°çš„ç±»å‹ã€‚å¦‚æœå‚æ•°æ˜¯  &lt;code&gt;*&lt;/code&gt; ( &lt;code&gt;COUNT(*)&lt;/code&gt; )ï¼Œåˆ™ä¼šç»Ÿè®¡æ‰€æœ‰çš„è®°å½•æ•°ï¼ŒåŒ…æ‹¬  &lt;code&gt;NULL&lt;/code&gt;  å€¼ï¼›å¦‚æœå‚æ•°æ˜¯æŸä¸ªå­—æ®µå ( &lt;code&gt;COUNT(åˆ—å)&lt;/code&gt; )ï¼Œåˆ™ä¼šå¿½ç•¥  &lt;code&gt;NULL&lt;/code&gt;  å€¼ï¼Œåªç»Ÿè®¡éç©ºå€¼çš„ä¸ªæ•°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æŸ¥è¯¢  &lt;code&gt;NULL&lt;/code&gt;  å€¼æ—¶ï¼Œå¿…é¡»ä½¿ç”¨  &lt;code&gt;IS NULL&lt;/code&gt;  æˆ–  &lt;code&gt;IS NOT NULLl&lt;/code&gt;  æ¥åˆ¤æ–­&lt;/font&gt;ï¼Œè€Œä¸èƒ½ä½¿ç”¨ =ã€!=ã€ &amp;lt;ã€&amp;gt; ä¹‹ç±»çš„æ¯”è¾ƒè¿ç®—ç¬¦ã€‚è€Œ &lt;code&gt;&#39;&#39;&lt;/code&gt;  æ˜¯å¯ä»¥ä½¿ç”¨è¿™äº›æ¯”è¾ƒè¿ç®—ç¬¦çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;å› æ­¤ï¼ŒMySQL ä¸å»ºè®®ä½¿ç”¨  &lt;code&gt;NULL&lt;/code&gt;  ä½œä¸ºåˆ—é»˜è®¤å€¼ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;boolean-ç±»å‹å¦‚ä½•è¡¨ç¤º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#boolean-ç±»å‹å¦‚ä½•è¡¨ç¤º&#34;&gt;#&lt;/a&gt; Boolean ç±»å‹å¦‚ä½•è¡¨ç¤ºï¼Ÿ&lt;/h4&gt;
&lt;p&gt;MySQL ä¸­æ²¡æœ‰ä¸“é—¨çš„å¸ƒå°”ç±»å‹ï¼Œè€Œæ˜¯&lt;strong&gt;ç”¨ TINYINT (1) ç±»å‹æ¥è¡¨ç¤ºå¸ƒå°”å€¼&lt;/strong&gt;ã€‚TINYINT (1) ç±»å‹å¯ä»¥å­˜å‚¨ 0 æˆ– 1ï¼Œåˆ†åˆ«å¯¹åº” false æˆ– trueã€‚&lt;/p&gt;
&lt;h3 id=&#34;mysqlåŸºç¡€æ¶æ„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysqlåŸºç¡€æ¶æ„&#34;&gt;#&lt;/a&gt; MySQL åŸºç¡€æ¶æ„&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;é…åˆ &lt;a href=&#34;&#34;&gt;SQL è¯­å¥åœ¨ MySQL ä¸­çš„æ‰§è¡Œè¿‡ç¨‹&lt;/a&gt; è¿™ç¯‡æ–‡ç« æ¥ç†è§£ MySQL åŸºç¡€æ¶æ„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸€ä¸ª SQL è¯­å¥åœ¨ MySQL ä¸­çš„æ‰§è¡Œæµç¨‹ï¼ŒåŒ…æ‹¬ SQL çš„æŸ¥è¯¢åœ¨ MySQL å†…éƒ¨ä¼šæ€ä¹ˆæµè½¬ï¼ŒSQL è¯­å¥çš„æ›´æ–°æ˜¯æ€ä¹ˆå®Œæˆçš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨åˆ†æä¹‹å‰å…ˆçœ‹çœ‹ MySQL çš„åŸºç¡€æ¶æ„ï¼ŒçŸ¥é“äº† MySQL ç”±é‚£äº›ç»„ä»¶ç»„æˆï¼Œä»¥åŠè¿™äº›ç»„ä»¶çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†è§£å’Œè§£å†³è¿™äº›é—®é¢˜ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1-mysql-åŸºç¡€æ¶æ„åˆ†æ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#1-mysql-åŸºç¡€æ¶æ„åˆ†æ&#34;&gt;#&lt;/a&gt; 1ã€MySQL åŸºç¡€æ¶æ„åˆ†æ&lt;/h4&gt;
&lt;h5 id=&#34;11-æ¶æ„æ¦‚è§ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#11-æ¶æ„æ¦‚è§ˆ&#34;&gt;#&lt;/a&gt; 1.1ã€æ¶æ„æ¦‚è§ˆ&lt;/h5&gt;
&lt;p&gt;ä¸‹å›¾æ˜¯ MySQL çš„ä¸€ä¸ªç®€è¦æ¶æ„å›¾ï¼Œå¯ä»¥å¾ˆæ¸…æ™°åœ°çœ‹åˆ°å®¢æˆ·ç«¯çš„ä¸€æ¡ SQL è¯­å¥åœ¨ MySQL å†…éƒ¨æ˜¯å¦‚ä½•æ‰§è¡Œçš„ã€‚&lt;/p&gt;
&lt;p&gt;ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼ŒMySQL ä¸»è¦ç”±ä¸‹é¢å‡ éƒ¨åˆ†æ„æˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¿æ¥å™¨ï¼š&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;è¿æ¥ç®¡ç†ã€èº«ä»½è®¤è¯å’Œæƒé™&lt;/font&gt;ç›¸å…³ (ç™»å½• MySQL çš„æ—¶å€™)ã€‚&lt;/li&gt;
&lt;li&gt;** æŸ¥è¯¢ç¼“å­˜ï¼š** æ‰§è¡ŒæŸ¥è¯¢è¯­å¥çš„æ—¶å€™ï¼Œä¼š&lt;font color=&#39;red&#39;&gt;å…ˆæŸ¥è¯¢ç¼“å­˜ï¼Œå‘½ä¸­åˆ™ç›´æ¥è¿”å›&lt;/font&gt;ï¼ˆ&lt;font color=&#39;red&#39;&gt;MySQL 8.0 ç‰ˆæœ¬åç§»é™¤&lt;/font&gt;ï¼Œå› ä¸ºè¿™ä¸ªåŠŸèƒ½ä¸å¤ªå®ç”¨ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆ†æå™¨ï¼š&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;å¯¹ SQL è¯­å¥è¿›è¡Œè¯æ³•åˆ†æã€è¯­æ³•åˆ†æ&lt;/font&gt;ã€‚è¯´ç™½äº†å°±æ˜¯è¦å…ˆçœ‹ SQL è¯­å¥è¦å¹²å˜›ï¼Œå†æ£€æŸ¥ SQL è¯­å¥è¯­æ³•æ˜¯å¦æ­£ç¡®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŒ–å™¨ï¼š&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;æ‰§è¡Œè®¡åˆ’ç”Ÿäº§ï¼Œç´¢å¼•é€‰æ‹©&lt;/font&gt;ã€‚æŒ‰ç…§ MySQL è®¤ä¸º&lt;font color=&#39;red&#39;&gt;æœ€ä¼˜çš„æ–¹æ¡ˆ&lt;/font&gt;å»æ‰§è¡Œã€‚&lt;/li&gt;
&lt;li&gt;** æ‰§è¡Œå™¨ï¼š** æ‰§è¡Œè¯­å¥ï¼Œç„¶å&lt;font color=&#39;red&#39;&gt;ä»å­˜å‚¨å¼•æ“è¿”å›æ•°æ®&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ’ä»¶å¼å­˜å‚¨å¼•æ“&lt;/strong&gt;ï¼šä¸»è¦è´Ÿè´£&lt;font color=&#39;red&#39;&gt;æ•°æ®çš„å­˜å‚¨å’Œè¯»å–&lt;/font&gt;ï¼Œé‡‡ç”¨çš„æ˜¯ &lt;code&gt;æ’ä»¶å¼æ¶æ„&lt;/code&gt; ï¼Œæ”¯æŒ InnoDBã€MyISAMã€Memory ç­‰å¤šç§å­˜å‚¨å¼•æ“ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/13526879-3037b144ed09eb88.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;MySQL ç®€è¦æ¶æ„å›¾&lt;/center&gt;
&lt;p&gt;MySQL ä¸»è¦åˆ†ä¸º Server å±‚å’Œå­˜å‚¨å¼•æ“å±‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Server å±‚&lt;/strong&gt;ï¼šä¸»è¦åŒ…æ‹¬&lt;font color=&#39;red&#39;&gt;è¿æ¥å™¨ã€æŸ¥è¯¢ç¼“å­˜ã€åˆ†æå™¨ã€ä¼˜åŒ–å™¨ã€æ‰§è¡Œå™¨&lt;/font&gt;ç­‰ï¼Œæ‰€æœ‰è·¨å­˜å‚¨å¼•æ“çš„åŠŸèƒ½éƒ½åœ¨è¿™ä¸€å±‚å®ç°ï¼Œæ¯”å¦‚å­˜å‚¨è¿‡ç¨‹ã€è§¦å‘å™¨ã€è§†å›¾ï¼Œå‡½æ•°ç­‰ï¼Œè¿˜æœ‰ä¸€ä¸ªé€šç”¨çš„æ—¥å¿—æ¨¡å— **&lt;font color=&#39;red&#39;&gt; binlog æ—¥å¿—æ¨¡å—&lt;/font&gt;**ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å­˜å‚¨å¼•æ“å±‚&lt;/strong&gt;ï¼šä¸»è¦è´Ÿè´£&lt;font color=&#39;red&#39;&gt;æ•°æ®çš„å­˜å‚¨å’Œè¯»å–&lt;/font&gt;ï¼Œé‡‡ç”¨å¯ä»¥æ›¿æ¢çš„æ’ä»¶å¼æ¶æ„ï¼Œæ”¯æŒ &lt;font color=&#39;red&#39;&gt;InnoDBã€MyISAMã€Memory&lt;/font&gt; ç­‰å¤šä¸ªå­˜å‚¨å¼•æ“ã€‚å…¶ä¸­ InnoDB å¼•æ“æœ‰è‡ªæœ‰çš„æ—¥å¿—æ¨¡å— **&lt;font color=&#39;red&#39;&gt; redolog æ—¥å¿—æ¨¡å—&lt;/font&gt;&lt;strong&gt;ã€‚&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;ç°åœ¨æœ€å¸¸ç”¨çš„å­˜å‚¨å¼•æ“æ˜¯ InnoDBï¼Œå®ƒä» MySQL 5.5 ç‰ˆæœ¬å¼€å§‹å°±è¢«å½“åšé»˜è®¤å­˜å‚¨å¼•æ“äº†&lt;/font&gt;**ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;12-server-å±‚çš„ç»„ä»¶ä»‹ç»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#12-server-å±‚çš„ç»„ä»¶ä»‹ç»&#34;&gt;#&lt;/a&gt; 1.2ã€Server å±‚çš„ç»„ä»¶ä»‹ç»&lt;/h5&gt;
&lt;h6 id=&#34;1è¿æ¥å™¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#1è¿æ¥å™¨&#34;&gt;#&lt;/a&gt; 1ï¼‰è¿æ¥å™¨&lt;/h6&gt;
&lt;p&gt;è¿æ¥å™¨ä¸»è¦å’Œ **&lt;font color=&#39;red&#39;&gt;èº«ä»½è®¤è¯å’Œæƒé™ç›¸å…³&lt;/font&gt;** çš„åŠŸèƒ½ç›¸å…³ï¼Œå°±å¥½æ¯”ä¸€ä¸ªçº§åˆ«å¾ˆé«˜çš„é—¨å«ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;ä¸»è¦è´Ÿè´£ç”¨æˆ·ç™»å½•æ•°æ®åº“ï¼Œè¿›è¡Œç”¨æˆ·çš„èº«ä»½è®¤è¯ï¼ŒåŒ…æ‹¬æ ¡éªŒè´¦æˆ·å¯†ç ï¼Œæƒé™ç­‰æ“ä½œã€‚å¦‚æœç”¨æˆ·è´¦æˆ·å¯†ç å·²é€šè¿‡ï¼Œè¿æ¥å™¨ä¼šåˆ°æƒé™è¡¨ä¸­æŸ¥è¯¢è¯¥ç”¨æˆ·çš„æ‰€æœ‰æƒé™ï¼Œä¹‹ååœ¨è¿™ä¸ªè¿æ¥é‡Œçš„æƒé™é€»è¾‘åˆ¤æ–­éƒ½&lt;font color=&#39;red&#39;&gt;ä»…ä¾èµ–èµ·å§‹è¿æ¥æˆåŠŸæ—¶è¯»å–åˆ°çš„æƒé™æ•°æ®&lt;/font&gt;ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ&lt;font color=&#39;red&#39;&gt;åç»­åªè¦è¿™ä¸ªè¿æ¥ä¸æ–­å¼€ï¼Œå³ä½¿ç®¡ç†å‘˜ä¿®æ”¹äº†è¯¥ç”¨æˆ·çš„æƒé™ï¼Œè¯¥ç”¨æˆ·ä¹Ÿæ˜¯ä¸å—å½±å“çš„&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h6 id=&#34;2æŸ¥è¯¢ç¼“å­˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#2æŸ¥è¯¢ç¼“å­˜&#34;&gt;#&lt;/a&gt; 2ï¼‰æŸ¥è¯¢ç¼“å­˜&lt;/h6&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ä» MySQL8.0 åç§»é™¤&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æŸ¥è¯¢ç¼“å­˜ä¸»è¦ **&lt;font color=&#39;red&#39;&gt;ç”¨æ¥ç¼“å­˜æ‰€æ‰§è¡Œçš„ SELECT è¯­å¥ä»¥åŠè¯¥è¯­å¥çš„ç»“æœé›†&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;p&gt;è‹¥è¿æ¥æˆåŠŸå»ºç«‹ï¼Œ&lt;font color=&#39;red&#39;&gt;æ‰§è¡ŒæŸ¥è¯¢è¯­å¥çš„æ—¶å€™ï¼Œä¼šå…ˆæŸ¥è¯¢ç¼“å­˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MySQL ä¼šå…ˆæ ¡éªŒè¿™ä¸ª SQL æ˜¯å¦æ‰§è¡Œè¿‡ï¼Œ&lt;font color=&#39;red&#39;&gt;ä»¥ Key-Value çš„å½¢å¼ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼ŒKey æ˜¯æŸ¥è¯¢è¯­å¥ï¼ŒValue æ˜¯ç»“æœé›†&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœç¼“å­˜ key è¢«å‘½ä¸­ï¼Œå°±ä¼šç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœç¼“å­˜ key æ²¡æœ‰å‘½ä¸­ï¼Œå°±ä¼šæ‰§è¡Œåç»­çš„æ“ä½œï¼Œ&lt;font color=&#39;red&#39;&gt;å®Œæˆåä¹Ÿä¼šæŠŠç»“æœç¼“å­˜èµ·æ¥ï¼Œæ–¹ä¾¿ä¸‹ä¸€æ¬¡è°ƒç”¨&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;MySQL æŸ¥è¯¢ä¸å»ºè®®ä½¿ç”¨ç¼“å­˜ï¼Œå› ä¸ºè¡¨æ›´æ–°ä¼šæ¸…ç©ºè¡¨ä¸Šçš„æ‰€æœ‰æŸ¥è¯¢ç¼“å­˜ï¼Œå¯¼è‡´æŸ¥è¯¢ç¼“å­˜é¢‘ç¹å¤±æ•ˆ&lt;/font&gt;&lt;/strong&gt;ã€‚å‡å¦‚ä½ å¯¹ä¸€ä¸ªè¡¨æ›´æ–°çš„è¯ï¼Œè¿™ä¸ªè¡¨ä¸Šçš„æ‰€æœ‰çš„æŸ¥è¯¢ç¼“å­˜éƒ½ä¼šè¢«æ¸…ç©ºã€‚å¯¹äºä¸ç»å¸¸æ›´æ–°çš„æ•°æ®æ¥è¯´ï¼Œä½¿ç”¨ç¼“å­˜è¿˜æ˜¯å¯ä»¥çš„ã€‚&lt;/p&gt;
&lt;p&gt;MySQL 8.0 ç‰ˆæœ¬ååˆ é™¤äº†ç¼“å­˜çš„åŠŸèƒ½ï¼Œå®˜æ–¹ä¹Ÿæ˜¯è®¤ä¸ºè¯¥åŠŸèƒ½åœ¨å®é™…çš„åº”ç”¨åœºæ™¯æ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥å¹²è„†ç›´æ¥åˆ æ‰äº†ã€‚&lt;/p&gt;
&lt;h6 id=&#34;3åˆ†æå™¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#3åˆ†æå™¨&#34;&gt;#&lt;/a&gt; 3ï¼‰åˆ†æå™¨&lt;/h6&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;MySQL æ²¡æœ‰å‘½ä¸­ç¼“å­˜ï¼Œé‚£ä¹ˆå°±ä¼šè¿›å…¥åˆ†æå™¨&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç¬¬ä¸€æ­¥ï¼Œè¯æ³•åˆ†æ&lt;/font&gt;&lt;/strong&gt;ï¼šä¸€æ¡ SQL è¯­å¥æœ‰å¤šä¸ªå­—ç¬¦ä¸²ç»„æˆï¼Œé¦–å…ˆè¦&lt;font color=&#39;red&#39;&gt;æå–å…³é”®å­—&lt;/font&gt;ï¼Œæ¯”å¦‚ selectï¼Œæå‡ºæŸ¥è¯¢çš„è¡¨ï¼Œæå‡ºå­—æ®µåï¼Œæå‡ºæŸ¥è¯¢æ¡ä»¶ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç¬¬äºŒæ­¥ï¼Œè¯­æ³•åˆ†æ&lt;/font&gt;&lt;/strong&gt;ï¼šä¸»è¦å°±æ˜¯åˆ¤æ–­ä½ è¾“å…¥çš„ SQL æ˜¯å¦æ­£ç¡®ï¼Œ&lt;font color=&#39;red&#39;&gt;åˆ¤æ–­æ˜¯å¦ç¬¦åˆ MySQL çš„è¯­æ³•&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å®Œæˆè¿™ 2 æ­¥ä¹‹åï¼ŒMySQL å°±å‡†å¤‡å¼€å§‹æ‰§è¡Œäº†ï¼Œä½†æ˜¯å¦‚ä½•æ‰§è¡Œï¼Œæ€ä¹ˆæ‰§è¡Œæ˜¯æœ€å¥½çš„ç»“æœå‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä¼˜åŒ–å™¨ä¸Šåœºäº†ã€‚&lt;/p&gt;
&lt;h6 id=&#34;4ä¼˜åŒ–å™¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#4ä¼˜åŒ–å™¨&#34;&gt;#&lt;/a&gt; 4ï¼‰ä¼˜åŒ–å™¨&lt;/h6&gt;
&lt;p&gt;ä¼˜åŒ–å™¨çš„ä½œç”¨å°±æ˜¯ **&lt;font color=&#39;red&#39;&gt;æŒ‰ç…§å®ƒè®¤ä¸ºçš„æœ€ä¼˜æ‰§è¡Œæ–¹æ¡ˆå»æ‰§è¡Œ&lt;/font&gt;**ï¼Œæ¯”å¦‚å¤šä¸ªç´¢å¼•çš„æ—¶å€™è¯¥&lt;font color=&#39;red&#39;&gt;å¦‚ä½•é€‰æ‹©ç´¢å¼•&lt;/font&gt;ï¼Œå¤šè¡¨æŸ¥è¯¢çš„æ—¶å€™&lt;font color=&#39;red&#39;&gt;å¦‚ä½•é€‰æ‹©å…³è”é¡ºåº&lt;/font&gt;ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥è¯´ï¼Œç»è¿‡äº†ä¼˜åŒ–å™¨ä¹‹åï¼Œè¿™ä¸ªè¯­å¥å…·ä½“è¯¥å¦‚ä½•æ‰§è¡Œå°±å·²ç»å®šä¸‹æ¥ã€‚&lt;/p&gt;
&lt;h6 id=&#34;5æ‰§è¡Œå™¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#5æ‰§è¡Œå™¨&#34;&gt;#&lt;/a&gt; 5ï¼‰æ‰§è¡Œå™¨&lt;/h6&gt;
&lt;p&gt;å½“é€‰æ‹©äº†æ‰§è¡Œæ–¹æ¡ˆåï¼ŒMySQL å°±å‡†å¤‡å¼€å§‹æ‰§è¡Œäº†ã€‚é¦–å…ˆæ‰§è¡Œå‰ä¼šæ ¡éªŒè¯¥ç”¨æˆ·æœ‰æ²¡æœ‰æƒé™ï¼Œå¦‚æœæ²¡æœ‰æƒé™ï¼Œå°±ä¼šè¿”å›é”™è¯¯ä¿¡æ¯ã€‚&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¦‚æœæœ‰æƒé™ï¼Œå°±ä¼šå»è°ƒç”¨å­˜å‚¨å¼•æ“çš„æ¥å£ï¼Œè¿”å›æ‰§è¡Œç»“æœ&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;2-sql-æ‰§è¡Œè¿‡ç¨‹åˆ†æ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#2-sql-æ‰§è¡Œè¿‡ç¨‹åˆ†æ&#34;&gt;#&lt;/a&gt; 2ã€SQL æ‰§è¡Œè¿‡ç¨‹åˆ†æ&lt;/h4&gt;
&lt;h5 id=&#34;21-dql-æŸ¥è¯¢è¯­å¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#21-dql-æŸ¥è¯¢è¯­å¥&#34;&gt;#&lt;/a&gt; 2.1ã€DQL æŸ¥è¯¢è¯­å¥&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;select&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é’ˆå¯¹ select è¯­å¥ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; tb_student  A &lt;span class=&#34;token keyword&#34;&gt;where&lt;/span&gt; A&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;age&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;18&#39;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;and&lt;/span&gt; A&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;name&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39; å¼ ä¸‰ &#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ç»“åˆä¸Šé¢çš„è¯´æ˜ï¼Œæˆ‘ä»¬åˆ†æä¸‹è¿™ä¸ªè¯­å¥çš„æ‰§è¡Œæµç¨‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ£€æŸ¥è¯¥è¯­å¥æ˜¯å¦æœ‰æƒé™&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰æƒé™ï¼Œç›´æ¥è¿”å›é”™è¯¯ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæœ‰æƒé™ï¼Œåœ¨ MySQL8.0 ç‰ˆæœ¬ä»¥å‰ï¼Œä¼š&lt;strong&gt;æŸ¥è¯¢ç¼“å­˜&lt;/strong&gt;ï¼Œä»¥è¿™æ¡ SQL è¯­å¥ä¸º key åœ¨å†…å­˜ä¸­æŸ¥è¯¢æ˜¯å¦æœ‰ç»“æœï¼Œæœ‰åˆ™ç›´æ¥è¿”å›ï¼Œæ— åˆ™æ‰§è¡Œä¸‹ä¸€æ­¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€šè¿‡åˆ†æå™¨å¯¹ SQL è¯­å¥è¿›è¡Œè¯æ³•åˆ†æã€è¯­æ³•åˆ†æ&lt;/strong&gt;ã€‚
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æå–å…³é”®å…ƒç´ &lt;/font&gt;ï¼Œæ¯”å¦‚æå–ä¸Šé¢è¿™ä¸ªè¯­å¥æ˜¯æŸ¥è¯¢ selectï¼Œæå–éœ€è¦æŸ¥è¯¢çš„è¡¨åä¸º tb_studentï¼Œéœ€è¦æŸ¥è¯¢æ‰€æœ‰çš„åˆ—ï¼ŒæŸ¥è¯¢æ¡ä»¶æ˜¯è¿™ä¸ªè¡¨çš„ id=&#39;1&#39;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;åˆ¤æ–­æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯&lt;/font&gt;ï¼Œæ¯”å¦‚å…³é”®è¯æ˜¯å¦æ­£ç¡®ç­‰ç­‰ï¼Œå¦‚æœæ£€æŸ¥æ²¡é—®é¢˜å°±æ‰§è¡Œä¸‹ä¸€æ­¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŒ–å™¨ç¡®å®šæ‰§è¡Œæ–¹æ¡ˆ&lt;/strong&gt;ã€‚ä¸Šé¢çš„ SQL è¯­å¥ï¼Œå¯ä»¥æœ‰ä¸¤ç§æ‰§è¡Œæ–¹æ¡ˆï¼ša. å…ˆæŸ¥è¯¢å­¦ç”Ÿè¡¨ä¸­å§“åä¸º â€œå¼ ä¸‰â€ çš„å­¦ç”Ÿï¼Œç„¶ååˆ¤æ–­æ˜¯å¦å¹´é¾„æ˜¯ 18ã€‚b. å…ˆæ‰¾å‡ºå­¦ç”Ÿä¸­å¹´é¾„ 18 å²çš„å­¦ç”Ÿï¼Œç„¶åå†æŸ¥è¯¢å§“åä¸º â€œå¼ ä¸‰â€ çš„å­¦ç”Ÿã€‚é‚£ä¹ˆ&lt;font color=&#39;red&#39;&gt;ä¼˜åŒ–å™¨æ ¹æ®ä¼˜åŒ–ç®—æ³•é€‰æ‹©æ‰§è¡Œæ•ˆç‡æœ€å¥½çš„ä¸€ä¸ªæ–¹æ¡ˆï¼ˆä¼˜åŒ–å™¨è®¤ä¸ºï¼Œæœ‰æ—¶å€™ä¸ä¸€å®šæœ€å¥½ï¼‰&lt;/font&gt;ã€‚é‚£ä¹ˆç¡®è®¤äº†æ‰§è¡Œè®¡åˆ’åå°±å‡†å¤‡å¼€å§‹æ‰§è¡Œäº†ã€‚&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œè¯­å¥ä¹‹å‰ï¼Œå…ˆè¿›è¡Œæƒé™æ ¡éªŒï¼Œå¦‚æœæ²¡æœ‰æƒé™å°±ä¼šè¿”å›é”™è¯¯ä¿¡æ¯ã€‚&lt;strong&gt;å¦‚æœæœ‰æƒé™ï¼Œæ‰§è¡Œå™¨å°±ä¼šè°ƒç”¨å­˜å‚¨å¼•æ“æ¥å£ï¼Œè¿”å›æ‰§è¡Œç»“æœ&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;22-dml-æ›´æ–°è¯­å¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#22-dml-æ›´æ–°è¯­å¥&#34;&gt;#&lt;/a&gt; 2.2ã€DML æ›´æ–°è¯­å¥&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»¥ update ä¸ºä¾‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é’ˆå¯¹ update è¯­å¥ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;update&lt;/span&gt; tb_student A &lt;span class=&#34;token keyword&#34;&gt;set&lt;/span&gt; A&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;age&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;19&#39;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;where&lt;/span&gt; A&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;name&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39; å¼ ä¸‰ &#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;font color=&#39;red&#39;&gt;è¿™æ¡è¯­å¥ä¹ŸåŸºæœ¬ä¸Šä¼šæ²¿ç€ä¸Šä¸€ä¸ªæŸ¥è¯¢çš„æµç¨‹èµ°ï¼Œåªä¸è¿‡&lt;strong&gt;æ‰§è¡Œæ›´æ–°çš„æ—¶å€™è‚¯å®šè¦è®°å½•æ—¥å¿—&lt;/strong&gt;ï¼Œè¿™å°±ä¼šå¼•å…¥æ—¥å¿—æ¨¡å—äº†&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;MySQL è‡ªå¸¦çš„æ—¥å¿—æ¨¡å—æ˜¯ &lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;binlogï¼ˆå½’æ¡£æ—¥å¿—ï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼Œæ‰€æœ‰çš„å­˜å‚¨å¼•æ“éƒ½å¯ä»¥ä½¿ç”¨ã€‚è€Œå¸¸ç”¨çš„ InnoDB å¼•æ“è¿˜è‡ªå¸¦äº†ä¸€ä¸ªæ—¥å¿—æ¨¡å— &lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;redo logï¼ˆé‡åšæ—¥å¿—ï¼‰&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å°±ä»¥ InnoDB æ¨¡å¼ä¸‹æ¥æ¢è®¨è¿™ä¸ªè¯­å¥çš„æ‰§è¡Œæµç¨‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å…ˆæŸ¥è¯¢åˆ°è¿™ä¸€æ¡æ•°æ®&lt;/font&gt;ï¼ˆæ ¹æ® name = å¼ ä¸‰ï¼‰ï¼Œå¦‚æœæœ‰ç¼“å­˜ï¼Œä¹Ÿæ˜¯ä¼šç”¨åˆ°ç¼“å­˜ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç„¶åæ‹¿åˆ°æŸ¥è¯¢çš„è¯­å¥ï¼Œ&lt;font color=&#39;red&#39;&gt;æŠŠ age æ”¹ä¸º 19&lt;/font&gt;ï¼Œç„¶å&lt;font color=&#39;red&#39;&gt;è°ƒç”¨å­˜å‚¨å¼•æ“ API æ¥å£ï¼Œå†™å…¥è¿™ä¸€è¡Œæ•°æ®&lt;/font&gt;ã€‚InnoDB å¼•æ“æŠŠæ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­ï¼ŒåŒæ—¶ **&lt;font color=&#39;red&#39;&gt;InnoDB å¼•æ“è®°å½• redo logï¼Œæ­¤æ—¶ redo log è¿›å…¥ prepare çŠ¶æ€&lt;/font&gt;**ã€‚ç„¶åå‘Šè¯‰æ‰§è¡Œå™¨ï¼Œæ‰§è¡Œå®Œæˆäº†ï¼Œéšæ—¶å¯ä»¥æäº¤ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ‰§è¡Œå™¨æ”¶åˆ° InnoDB å¼•æ“çš„é€šçŸ¥åï¼Œè®°å½• binlog&lt;/font&gt;&lt;/strong&gt;ã€‚ç„¶å **&lt;font color=&#39;red&#39;&gt;æ‰§è¡Œå™¨è°ƒç”¨å¼•æ“æ¥å£ï¼Œæäº¤ redo log ä¸ºæäº¤çŠ¶æ€&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ›´æ–°å®Œæˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr /&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¦ç”¨ä¸¤ä¸ªæ—¥å¿—æ¨¡å—ï¼Œç”¨ä¸€ä¸ªæ—¥å¿—æ¨¡å—ä¸è¡Œå—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯å› ä¸ºæœ€å¼€å§‹ MySQL å¹¶æ²¡æœ‰ InnoDB å¼•æ“ï¼ˆInnoDB å¼•æ“æ˜¯å…¶ä»–å…¬å¸ä»¥æ’ä»¶å½¢å¼æ’å…¥ MySQL çš„ï¼‰ï¼ŒMySQL è‡ªå¸¦çš„å¼•æ“æ˜¯ MyISAMã€‚ä½†æ˜¯æˆ‘ä»¬çŸ¥é“&lt;font color=&#39;red&#39;&gt; redo log æ˜¯ InnoDB å¼•æ“ç‰¹æœ‰çš„ï¼Œå…¶ä»–å­˜å‚¨å¼•æ“éƒ½æ²¡æœ‰ï¼Œè¿™å°±å¯¼è‡´ä¼šæ²¡æœ‰ crash-safe çš„èƒ½åŠ›&lt;/font&gt;ï¼ˆcrash-safe çš„èƒ½åŠ›å³ä½¿æ•°æ®åº“å‘ç”Ÿå¼‚å¸¸é‡å¯ï¼Œä¹‹å‰æäº¤çš„è®°å½•éƒ½ä¸ä¼šä¸¢å¤±ï¼‰ï¼Œ&lt;font color=&#39;red&#39;&gt;è€Œ binlog æ—¥å¿—åªèƒ½ç”¨æ¥å½’æ¡£&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¹¶ä¸æ˜¯è¯´åªç”¨ä¸€ä¸ªæ—¥å¿—æ¨¡å—ä¸å¯ä»¥ï¼Œåªæ˜¯ **&lt;font color=&#39;red&#39;&gt; InnoDB å¼•æ“å°±æ˜¯é€šè¿‡ redo log æ¥æ”¯æŒäº‹åŠ¡çš„&lt;/font&gt;**ã€‚é‚£ä¹ˆï¼Œåˆä¼šæœ‰åŒå­¦é—®ï¼Œæˆ‘ç”¨ä¸¤ä¸ªæ—¥å¿—æ¨¡å—ï¼Œä½†æ˜¯ä¸è¦è¿™ä¹ˆå¤æ‚è¡Œä¸è¡Œï¼Œä¸ºä»€ä¹ˆ redo log è¦å¼•å…¥ prepare é¢„æäº¤çŠ¶æ€ï¼Ÿè¿™é‡Œæˆ‘ä»¬ç”¨åè¯æ³•æ¥è¯´æ˜ä¸‹ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…ˆå†™ redo log ç›´æ¥æäº¤ï¼Œç„¶åå†™ binlogï¼šå‡è®¾å†™å®Œ redo log åï¼Œæœºå™¨æŒ‚äº†ï¼Œbinlog æ—¥å¿—æ²¡æœ‰è¢«å†™å…¥ï¼Œé‚£ä¹ˆæœºå™¨é‡å¯åï¼Œè¿™å°æœºå™¨ä¼šé€šè¿‡ redo log æ¢å¤æ•°æ®ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™ binlog å¹¶æ²¡æœ‰è®°å½•è¯¥æ•°æ®ï¼Œåç»­è¿›è¡Œæœºå™¨å¤‡ä»½çš„æ—¶å€™ï¼Œå°±ä¼šä¸¢å¤±è¿™ä¸€æ¡æ•°æ®ï¼ŒåŒæ—¶ä¸»ä»åŒæ­¥ä¹Ÿä¼šä¸¢å¤±è¿™ä¸€æ¡æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;å…ˆå†™ binlogï¼Œç„¶åå†™ redo logï¼šå‡è®¾å†™å®Œäº† binlogï¼Œæœºå™¨å¼‚å¸¸é‡å¯äº†ï¼Œç”±äºæ²¡æœ‰ redo logï¼Œæœ¬æœºæ˜¯æ— æ³•æ¢å¤è¿™ä¸€æ¡è®°å½•çš„ï¼Œä½†æ˜¯ binlog åˆæœ‰è®°å½•ï¼Œé‚£ä¹ˆå’Œä¸Šé¢åŒæ ·çš„é“ç†ï¼Œå°±ä¼šäº§ç”Ÿæ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;redo log ä¸¤é˜¶æ®µæäº¤çš„æ–¹å¼å¯ä»¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§&lt;/font&gt;&lt;/strong&gt;ã€‚å†™å®Œ binlog åï¼Œç„¶åå†æäº¤ redo log å°±ä¼šé˜²æ­¢å‡ºç°ä¸Šè¿°çš„é—®é¢˜ï¼Œä»è€Œä¿è¯äº†æ•°æ®çš„ä¸€è‡´æ€§ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæœ‰æ²¡æœ‰ä¸€ä¸ªæç«¯çš„æƒ…å†µå‘¢ï¼Ÿ&lt;font color=&#39;red&#39;&gt;å‡è®¾ redo log å¤„äº prepare çŠ¶æ€ï¼Œbinlog ä¹Ÿå·²ç»å†™å®Œäº†ï¼Œè¿™ä¸ªæ—¶å€™å‘ç”Ÿäº†å¼‚å¸¸é‡å¯ä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿ&lt;/font&gt; è¿™ä¸ªå°±è¦ä¾èµ–äº MySQL çš„å¤„ç†æœºåˆ¶äº†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ¤æ–­ redo log æ˜¯å¦å®Œæ•´ï¼Œå¦‚æœåˆ¤æ–­æ˜¯å®Œæ•´çš„ï¼Œå°±ç«‹å³æäº¤ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœ redo log åªæ˜¯ prepareï¼Œä½†ä¸æ˜¯ commit çŠ¶æ€ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šå»åˆ¤æ–­ binlog æ˜¯å¦å®Œæ•´ï¼Œå¦‚æœå®Œæ•´å°±æäº¤ redo log, ä¸å®Œæ•´å°±å›æ»šäº‹åŠ¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™æ ·å°±è§£å†³äº†æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;h4 id=&#34;3-å°ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#3-å°ç»“&#34;&gt;#&lt;/a&gt; 3ã€å°ç»“&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;MySQL ä¸»è¦åˆ†ä¸º &lt;font color=&#39;cornflowerblue&#39;&gt;Server å±‚&lt;/font&gt;å’Œ&lt;font color=&#39;cornflowerblue&#39;&gt;å¼•æ“å±‚&lt;/font&gt;ï¼ŒServer å±‚ä¸»è¦åŒ…æ‹¬&lt;font color=&#39;red&#39;&gt;è¿æ¥å™¨ã€æŸ¥è¯¢ç¼“å­˜ã€åˆ†æå™¨ã€ä¼˜åŒ–å™¨ã€æ‰§è¡Œå™¨&lt;/font&gt;ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;å½’æ¡£æ—¥å¿—æ¨¡å—ï¼ˆbinlogï¼‰&lt;/font&gt;ï¼Œè¿™ä¸ªæ—¥å¿—æ¨¡å—æ‰€æœ‰æ‰§è¡Œå¼•æ“éƒ½å¯ä»¥å…±ç”¨ï¼Œ&lt;font color=&#39;red&#39;&gt;è€Œé‡åšæ—¥å¿—æ¨¡å—ï¼ˆredologï¼‰åªæœ‰ InnoDB æœ‰&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;Server å±‚ä¸­å„ç»„ä»¶çš„åŠŸèƒ½ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¿æ¥å™¨&lt;/strong&gt;ï¼šç®¡ç†è¿æ¥ã€æƒé™éªŒè¯ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æŸ¥è¯¢ç¼“å­˜&lt;/strong&gt;ï¼šå‘½ä¸­ç¼“å­˜åˆ™ç›´æ¥è¿”å›ç»“æœï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆ†æå™¨&lt;/strong&gt;ï¼šå¯¹ SQL è¿›è¡Œè¯æ³•åˆ†æã€è¯­æ³•åˆ†æï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŒ–å™¨&lt;/strong&gt;ï¼šæ‰§è¡Œè®¡åˆ’ç”Ÿæˆã€é€‰æ‹©ç´¢å¼•ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰§è¡Œå™¨&lt;/strong&gt;ï¼šæ“ä½œå¼•æ“ã€è¿”å›ç»“æœï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å­˜å‚¨å¼•æ“&lt;/strong&gt;ï¼šå­˜å‚¨æ•°æ®ã€æä¾›è¯»å†™æ¥å£ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¼•æ“å±‚æ˜¯æ’ä»¶å¼çš„ï¼Œç›®å‰ä¸»è¦åŒ…æ‹¬ï¼Œ&lt;font color=&#39;red&#39;&gt;MyISAMã€InnoDBã€Memory&lt;/font&gt;ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;æŸ¥è¯¢è¯­å¥&lt;/font&gt;çš„æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š&lt;font color=&#39;red&#39;&gt;æƒé™æ ¡éªŒ ---&amp;gt; æŸ¥è¯¢ç¼“å­˜ï¼ˆå¦‚æœå‘½ä¸­ï¼Œç›´æ¥è¿”å›ï¼‰---&amp;gt; åˆ†æå™¨ ---&amp;gt; ä¼˜åŒ–å™¨ ---&amp;gt;&lt;strong&gt; æƒé™æ ¡éªŒ&lt;/strong&gt; ---&amp;gt; æ‰§è¡Œå™¨ ---&amp;gt; å¼•æ“&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;æ›´æ–°è¯­å¥&lt;/font&gt;æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š&lt;font color=&#39;red&#39;&gt;åˆ†æå™¨ ----&amp;gt; æƒé™æ ¡éªŒ ----&amp;gt; æ‰§è¡Œå™¨ ---&amp;gt; å¼•æ“ ---&lt;strong&gt;redo log (prepare çŠ¶æ€)&lt;/strong&gt;---&amp;gt;&lt;strong&gt;binlog&lt;/strong&gt;---&amp;gt;&lt;strong&gt;redo log (commit çŠ¶æ€)&lt;/strong&gt;&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;ç¬¼ç»Ÿç‚¹çš„å›ç­”ï¼Œ&lt;strong&gt;ä¸€æ¡ SQL çš„æ‰§è¡Œè¿‡ç¨‹&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;å®¢æˆ·ç«¯è¯·æ±‚ -&amp;gt;&lt;/li&gt;
&lt;li&gt;è¿æ¥å™¨ï¼ˆéªŒè¯ç”¨æˆ·èº«ä»½ï¼Œç»™äºˆæƒé™ï¼‰ -&amp;gt;&lt;/li&gt;
&lt;li&gt;æŸ¥è¯¢ç¼“å­˜ï¼ˆå­˜åœ¨ç¼“å­˜åˆ™ç›´æ¥è¿”å›ï¼Œä¸å­˜åœ¨åˆ™æ‰§è¡Œåç»­æ“ä½œï¼‰-&amp;gt;&lt;/li&gt;
&lt;li&gt;åˆ†æå™¨ï¼ˆå¯¹ SQL è¿›è¡Œè¯æ³•åˆ†æã€è¯­æ³•åˆ†æï¼‰ -&amp;gt;&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–å™¨ï¼ˆé€‰æ‹©æœ€ä¼˜çš„ SQL æ‰§è¡Œæ–¹æ¡ˆï¼‰ -&amp;gt;&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œå™¨ï¼ˆå…ˆæ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰æ‰§è¡Œæƒé™ï¼Œæœ‰çš„è¯æ‰è°ƒç”¨å¼•æ“æ¥å£ï¼Œæ‰§è¡Œ SQLï¼‰-&amp;gt;&lt;/li&gt;
&lt;li&gt;ä»å¼•æ“å±‚è·å–æ•°æ®è¿”å›ï¼ˆå¦‚æœå¼€å¯æŸ¥è¯¢ç¼“å­˜ï¼Œåˆ™ä¼šç¼“å­˜æŸ¥è¯¢ç»“æœï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;mysqlå­˜å‚¨å¼•æ“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysqlå­˜å‚¨å¼•æ“&#34;&gt;#&lt;/a&gt; MySQL å­˜å‚¨å¼•æ“&lt;/h3&gt;
&lt;h4 id=&#34;mysql-ä½“ç³»ç»“æ„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysql-ä½“ç³»ç»“æ„&#34;&gt;#&lt;/a&gt; MySQL ä½“ç³»ç»“æ„&lt;/h4&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231125095453053.png&#34; alt=&#34;image-20231125095453053&#34; /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;è¿æ¥å±‚ï¼šè´Ÿè´£å®¢æˆ·ç«¯å’Œè¿æ¥æœåŠ¡ï¼Œä¾‹å¦‚è¿æ¥å¤„ç†ã€æˆæƒè®¤è¯ã€åŠç›¸å…³çš„å®‰å…¨æ–¹æ¡ˆ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœåŠ¡å±‚ï¼šè´Ÿè´£ SQL æ¥å£ï¼ŒSQL çš„è§£æå’Œä¼˜åŒ–ï¼Œå¹¶å®Œæˆç¼“å­˜çš„æŸ¥è¯¢ï¼Œéƒ¨åˆ†å†…ç½®å‡½æ•°çš„æ‰§è¡Œã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ‰€æœ‰è·¨å­˜å‚¨å¼•æ“çš„åŠŸèƒ½ä¹Ÿåœ¨è¿™ä¸€å±‚å®ç°ï¼Œå¦‚è¿‡ç¨‹ã€å‡½æ•°ç­‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¼•æ“å±‚ï¼šè´Ÿè´£ MySQL ä¸­æ•°æ®çš„å­˜å‚¨å’Œè¯»å–ï¼Œæ ¹æ®éœ€è¦é€‰æ‹©åˆé€‚çš„å­˜å‚¨å¼•æ“ï¼Œç´¢å¼•å°±æ˜¯åœ¨è¿™ä¸€å±‚å®ç°çš„ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å­˜å‚¨å±‚ï¼šè´Ÿè´£å°†æ•°æ®æŒä¹…åŒ–åœ°å­˜å‚¨åˆ°æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œå¹¶å®Œæˆä¸å­˜å‚¨å¼•æ“çš„äº¤äº’ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;å­˜å‚¨å¼•æ“ä»‹ç»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å­˜å‚¨å¼•æ“ä»‹ç»&#34;&gt;#&lt;/a&gt; å­˜å‚¨å¼•æ“ä»‹ç»&lt;/h4&gt;
&lt;p&gt;å­˜å‚¨å¼•æ“çš„ç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å­˜å‚¨å¼•æ“å°±æ˜¯&lt;font color=&#39;red&#39;&gt;å­˜å‚¨æ•°æ®ã€&lt;strong&gt;å»ºç«‹ç´¢å¼•&lt;/strong&gt;ã€æ›´æ–° / æŸ¥è¯¢æ•°æ®&lt;/font&gt;çš„å®ç°æ–¹å¼ã€‚&lt;/li&gt;
&lt;li&gt;å­˜å‚¨å¼•æ“&lt;font color=&#39;red&#39;&gt;æ˜¯åŸºäºè¡¨çš„&lt;/font&gt;ï¼Œè€Œä¸æ˜¯åŸºäºåº“çš„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;é»˜è®¤çš„å­˜å‚¨å¼•æ“æ˜¯ InnoDB&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸å­˜å‚¨å¼•æ“æœ‰å…³çš„ SQL è¯­å¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å»ºè¡¨æ—¶æŒ‡å®šå­˜å‚¨å¼•æ“ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;create&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;table&lt;/span&gt; è¡¨å&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;engine&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;InnoDB&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŸ¥è¯¢å»ºè¡¨è¯­å¥ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;show&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;create&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;table&lt;/span&gt; è¡¨å&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŸ¥çœ‹å½“å‰æ•°æ®åº“æ”¯æŒçš„å­˜å‚¨å¼•æ“ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;show&lt;/span&gt; engines&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å¸¸ç”¨çš„å­˜å‚¨å¼•æ“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¸¸ç”¨çš„å­˜å‚¨å¼•æ“&#34;&gt;#&lt;/a&gt; &lt;mark&gt;å¸¸ç”¨çš„å­˜å‚¨å¼•æ“&lt;/mark&gt;&lt;/h4&gt;
&lt;p&gt;é‡ç‚¹ä»‹ç»ä¸‰ç§å­˜å‚¨å¼•æ“ InnoDBã€MyISAMã€Memory çš„ç‰¹ç‚¹ã€‚&lt;/p&gt;
&lt;h5 id=&#34;innodb&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#innodb&#34;&gt;#&lt;/a&gt; InnoDB&lt;/h5&gt;
&lt;p&gt;ï¼ˆ1ï¼‰ä»‹ç»&lt;/p&gt;
&lt;p&gt;MySQL 5.5 ç‰ˆæœ¬å¼€å§‹ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;é»˜è®¤ä½¿ç”¨ InnoDB ä½œä¸ºå­˜å‚¨å¼•æ“&lt;/font&gt;&lt;/strong&gt;ã€‚å®ƒ&lt;font color=&#39;red&#39;&gt;æ“…é•¿å¤„ç†äº‹åŠ¡ï¼Œå…·æœ‰å´©æºƒæ¢å¤çš„ç‰¹æ€§&lt;/font&gt;ï¼Œæ˜¯ä¸€ç§å…¼é¡¾&lt;font color=&#39;red&#39;&gt;é«˜å¯é æ€§ã€é«˜æ€§èƒ½&lt;/font&gt;çš„é€šç”¨å­˜å‚¨å¼•æ“ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰ç‰¹ç‚¹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æ”¯æŒäº‹åŠ¡&lt;/font&gt;&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;DML æ“ä½œéµå¾ª ACID æ¨¡å‹&lt;/li&gt;
&lt;li&gt;å®ç°äº† SQL æ ‡å‡†å®šä¹‰äº†&lt;font color=&#39;red&#39;&gt;å››ä¸ªéš”ç¦»çº§åˆ«&lt;/font&gt;ï¼Œå…·æœ‰&lt;font color=&#39;red&#39;&gt;æäº¤ (commit) å’Œå›æ»š (rollback) äº‹åŠ¡&lt;/font&gt;çš„èƒ½åŠ›&lt;/li&gt;
&lt;li&gt;æä¾›&lt;font color=&#39;red&#39;&gt;ä¸€ç»„ç”¨æ¥è®°å½•äº‹åŠ¡æ€§æ´»åŠ¨çš„æ—¥å¿—æ–‡ä»¶&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;InnoDB é»˜è®¤ä½¿ç”¨çš„ REPEATABLE-READï¼ˆå¯é‡è¯»ï¼‰éš”ç¦»çº§åˆ«æ˜¯&lt;font color=&#39;red&#39;&gt;å¯ä»¥è§£å†³å¹»è¯»é—®é¢˜&lt;/font&gt;å‘ç”Ÿçš„ï¼ˆåŸºäº MVCC å’Œ Next-Key Lockï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æ”¯æŒè¡Œçº§é”&lt;/font&gt;&lt;/strong&gt;ï¼šå› æ­¤ InnoDB &lt;font color=&#39;red&#39;&gt;å¹¶å‘å†™çš„æ€§èƒ½æ›´é«˜&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æ”¯æŒå¤–é”®&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;èƒ½ç»´æŠ¤æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§&lt;/font&gt;ï¼ˆçº§è”åˆ é™¤ã€çº§è”æ›´æ–°ï¼‰ï¼Œ&lt;font color=&#39;red&#39;&gt;ä½†å¯¹æ€§èƒ½æœ‰ä¸€å®šçš„æŸè€—&lt;/font&gt;ã€‚ä½†é˜¿é‡Œçš„ã€ŠJava å¼€å‘æ‰‹å†Œã€‹æ˜ä»¤ç¦æ­¢ä½¿ç”¨å¤–é”®ï¼&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ï¼ˆ3ï¼‰å­˜å‚¨æ–‡ä»¶&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;.sdi&lt;/code&gt; ï¼šè¡¨ç»“æ„&lt;/li&gt;
&lt;li&gt;&lt;mark&gt; &lt;code&gt;.ibd è¡¨ç©ºé—´æ–‡ä»¶&lt;/code&gt; &lt;/mark&gt;ï¼šæ•°æ®ã€ç´¢å¼•ã€‚æ¯å¼  InnoDB è¡¨å¯¹åº”ä¸€ä¸ª .ibd è¡¨ç©ºé—´æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231125113620280.png&#34; alt=&#34;image-20231125113620280&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ4ï¼‰é€»è¾‘å­˜å‚¨ç»“æ„&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231125111944812.png&#34; alt=&#34;image-20231125111944812&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¡¨ç©ºé—´ï¼ˆTablespaceï¼‰&lt;/strong&gt;ï¼šå³&lt;font color=&#39;red&#39;&gt; ibd æ–‡ä»¶&lt;/font&gt;ï¼Œç”±å¤šä¸ª Segment ç»„æˆ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ®µï¼ˆSegmentï¼‰&lt;/strong&gt;ï¼šåˆ†ä¸º&lt;font color=&#39;red&#39;&gt;æ•°æ®æ®µã€ç´¢å¼•æ®µã€å›æ»šæ®µ&lt;/font&gt;ç­‰ï¼Œç”± InnoDB è‡ªèº«ç®¡ç†ï¼Œç”±å¤šä¸ª Extent ç»„æˆ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒºï¼ˆExtentï¼‰&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;å›ºå®šå¤§å°ä¸º 1Mï¼Œç”± 64 ä¸ªè¿ç»­çš„ Page ç»„æˆ&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¡µï¼ˆPageï¼‰&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;å›ºå®šå¤§å°ä¸º 16 KB&lt;/font&gt;ï¼Œæ˜¯ InnoDB ç£ç›˜ç®¡ç†çš„æœ€å°å•å…ƒ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¡Œï¼ˆRowï¼‰&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;å­˜æ”¾è¡Œè®°å½•æ•°æ®&lt;/font&gt;ï¼Œç”±æœ€åä¸€æ¬¡äº‹åŠ¡çš„ idã€å›æ»šæŒ‡é’ˆã€å„ä¸ªå­—æ®µçš„å€¼ç»„æˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;myisam&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#myisam&#34;&gt;#&lt;/a&gt; MyISAM&lt;/h5&gt;
&lt;p&gt;ï¼ˆ1ï¼‰ä»‹ç»&lt;/p&gt;
&lt;p&gt;MyISAM æ˜¯ MySQL &lt;font color=&#39;red&#39;&gt;æ—©æœŸçš„&lt;/font&gt;é»˜è®¤å­˜å‚¨å¼•æ“ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰ç‰¹ç‚¹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸æ”¯æŒäº‹åŠ¡ä¸å¤–é”®ï¼Œä»…æ”¯æŒè¡¨çº§é”&lt;/li&gt;
&lt;li&gt;çµæ´»çš„ AUTO_INCREMENT å­—æ®µå¤„ç†&lt;/li&gt;
&lt;li&gt;å¯è¢«è½¬æ¢ä¸ºå‹ç¼©ã€åªè¯»è¡¨æ¥èŠ‚çœç©ºé—´&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ï¼ˆ3ï¼‰å­˜å‚¨æ–‡ä»¶&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;.sdi&lt;/code&gt; ï¼šè¡¨ç»“æ„&lt;/li&gt;
&lt;li&gt;&lt;code&gt;.MYD&lt;/code&gt; ï¼šæ•°æ®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;.MYI&lt;/code&gt; ï¼šç´¢å¼•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231125113606459.png&#34; alt=&#34;image-20231125113606459&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;memory&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#memory&#34;&gt;#&lt;/a&gt; Memory&lt;/h5&gt;
&lt;p&gt;ï¼ˆ1ï¼‰ä»‹ç»&lt;/p&gt;
&lt;p&gt;Memory å¼•æ“è¡¨çš„ **&lt;font color=&#39;red&#39;&gt;æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­&lt;/font&gt;**ï¼Œç”±äºå—åˆ°ç¡¬ä»¶é—®é¢˜ã€æˆ–æ–­ç”µé—®é¢˜çš„å½±å“ï¼Œåªèƒ½å°†è¿™äº›è¡¨ä½œä¸º&lt;font color=&#39;red&#39;&gt;ä¸´æ—¶è¡¨æˆ–ç¼“å­˜&lt;/font&gt;ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰ç‰¹ç‚¹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•°æ®å­˜æ”¾åœ¨å†…å­˜ä¸­&lt;/li&gt;
&lt;li&gt;é»˜è®¤é‡‡ç”¨ &lt;font color=&#39;red&#39;&gt;hash ç´¢å¼•&lt;/font&gt; ç»“æ„&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ï¼ˆ3ï¼‰æ–‡ä»¶&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;.sdi&lt;/code&gt; ï¼šè¡¨ç»“æ„&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç‰¹ç‚¹å¯¹æ¯”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç‰¹ç‚¹å¯¹æ¯”&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ç‰¹ç‚¹å¯¹æ¯”&lt;/mark&gt;&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231125113958109.png&#34; alt=&#34;image-20231125113958109&#34; /&gt;&lt;/p&gt;
&lt;p&gt;MySQL ä¸­å¸¸ç”¨çš„ä¸‰ç§å­˜å‚¨å¼•æ“åˆ†åˆ«æ˜¯ï¼šInnoDBã€MyISAMã€MEMORYï¼ŒåŒºåˆ«å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;InnoDB&lt;/font&gt;ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ”¯æŒäº‹åŠ¡å¤„ç†ã€è¡Œçº§é”ã€å¤–é”®ï¼Œæ‹¥æœ‰å´©æºƒä¿®å¤èƒ½åŠ›ã€å¹¶å‘æ§åˆ¶&lt;/font&gt;&lt;/strong&gt;ã€‚å¦‚æœéœ€è¦&lt;font color=&#39;red&#39;&gt;å¯¹äº‹åŠ¡çš„å®Œæ•´æ€§è¦æ±‚æ¯”è¾ƒé«˜&lt;/font&gt;ï¼ˆæ¯”å¦‚é“¶è¡Œï¼‰ï¼Œ&lt;font color=&#39;red&#39;&gt;è¦æ±‚å®ç°å¹¶å‘æ§åˆ¶&lt;/font&gt;ï¼ˆæ¯”å¦‚å”®ç¥¨ï¼‰ï¼Œé‚£é€‰æ‹© InnoDB æœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ã€‚å¦‚æœ&lt;font color=&#39;red&#39;&gt;éœ€è¦é¢‘ç¹çš„æ›´æ–°ã€åˆ é™¤æ“ä½œ&lt;/font&gt;çš„æ•°æ®åº“ï¼Œä¹Ÿå¯ä»¥é€‰æ‹© InnoDBï¼Œå› ä¸ºæ”¯æŒäº‹åŠ¡çš„æäº¤ï¼ˆcommitï¼‰å’Œå›æ»šï¼ˆrollbackï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;MyISAM&lt;/font&gt;ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ’å…¥æ•°æ®å¿«ï¼Œç©ºé—´å’Œå†…å­˜ä½¿ç”¨æ¯”è¾ƒä½&lt;/font&gt;&lt;/strong&gt;ã€‚å¦‚æœè¡¨ä¸»è¦æ˜¯ç”¨äº&lt;font color=&#39;red&#39;&gt;æ’å…¥æ–°è®°å½•å’Œè¯»å‡ºè®°å½•&lt;/font&gt;ï¼Œé‚£ä¹ˆé€‰æ‹© MyISAM èƒ½å®ç°å¤„ç†é«˜æ•ˆç‡ã€‚å¦‚æœåº”ç”¨çš„&lt;font color=&#39;red&#39;&gt;å®Œæ•´æ€§ã€å¹¶å‘æ€§è¦æ±‚æ¯”è¾ƒä½&lt;/font&gt;ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;MEMORY&lt;/font&gt;ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ‰€æœ‰çš„æ•°æ®éƒ½åœ¨å†…å­˜ä¸­ï¼Œæ•°æ®çš„å¤„ç†é€Ÿåº¦å¿«ï¼Œä½†æ˜¯å®‰å…¨æ€§ä¸é«˜&lt;/font&gt;&lt;/strong&gt;ã€‚å¦‚æœ&lt;font color=&#39;red&#39;&gt;éœ€è¦å¾ˆå¿«çš„è¯»å†™é€Ÿåº¦ï¼Œå¯¹æ•°æ®çš„å®‰å…¨æ€§è¦æ±‚è¾ƒä½&lt;/font&gt;ï¼Œå¯ä»¥é€‰æ‹© MEMOEYã€‚å®ƒå¯¹è¡¨çš„å¤§å°æœ‰è¦æ±‚ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸èƒ½å»ºç«‹å¤ªå¤§çš„è¡¨&lt;/font&gt;ã€‚æ‰€ä»¥ï¼Œè¿™ç±»æ•°æ®åº“åªä½¿ç”¨åœ¨ç›¸å¯¹è¾ƒå°çš„æ•°æ®åº“è¡¨ã€‚å¦‚æœåªæ˜¯&lt;font color=&#39;red&#39;&gt;ä¸´æ—¶å­˜æ”¾æ•°æ®ï¼Œæ•°æ®é‡ä¸å¤§ï¼Œå¹¶ä¸”ä¸éœ€è¦è¾ƒé«˜çš„æ•°æ®å®‰å…¨æ€§&lt;/font&gt;ï¼Œå¯ä»¥é€‰æ‹©å°†æ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­çš„ Memory å¼•æ“ï¼ŒMySQL ä¸­ä½¿ç”¨è¯¥å¼•æ“ **&lt;font color=&#39;red&#39;&gt;ä½œä¸ºä¸´æ—¶è¡¨ï¼Œå­˜æ”¾æŸ¥è¯¢çš„ä¸­é—´ç»“æœ&lt;/font&gt;**ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å­˜å‚¨å¼•æ“é€‰æ‹©&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å­˜å‚¨å¼•æ“é€‰æ‹©&#34;&gt;#&lt;/a&gt; å­˜å‚¨å¼•æ“é€‰æ‹©&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;InnoDBï¼šé€‚ç”¨äº&lt;font color=&#39;red&#39;&gt;è¾ƒå¤šçš„æ•°æ®æ›´æ–°æ“ä½œ&lt;/font&gt;ï¼Œå¯¹&lt;font color=&#39;red&#39;&gt;äº‹åŠ¡ã€å¹¶å‘ã€æ•°æ®å®Œæ•´æ€§&lt;/font&gt;è¦æ±‚è¾ƒé«˜çš„æ ¸å¿ƒæ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;MyISAMï¼šé€‚ç”¨äº&lt;font color=&#39;red&#39;&gt;å¤§é‡çš„æ•°æ®è¯»æ“ä½œ&lt;/font&gt;ï¼Œå¸¸è¢« MongoDB å–ä»£ã€‚&lt;/li&gt;
&lt;li&gt;Memoryï¼šå› ä¸ºè®¿é—®é€Ÿåº¦å¿«ï¼Œé€‚ç”¨äº&lt;font color=&#39;red&#39;&gt;ä¸´æ—¶è¡¨ã€ç¼“å­˜&lt;/font&gt;ï¼Œä½†&lt;font color=&#39;red&#39;&gt;å¯¹è¡¨å¤§å°æœ‰é™åˆ¶&lt;/font&gt;ï¼ˆå¤ªå¤§çš„è¡¨æ— æ³•ç¼“å­˜åˆ°å†…å­˜ä¸­ï¼‰ï¼Œå¹¶ä¸”&lt;font color=&#39;red&#39;&gt;æ— æ³•ä¿éšœæ•°æ®çš„å®‰å…¨æ€§&lt;/font&gt;ï¼Œå¸¸è¢« Redis å–ä»£ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;é¢è¯•é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•é¢˜&#34;&gt;#&lt;/a&gt; é¢è¯•é¢˜&lt;/h4&gt;
&lt;h5 id=&#34;mysql-æ”¯æŒå“ªäº›å­˜å‚¨å¼•æ“é»˜è®¤ä½¿ç”¨å“ªä¸ª&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysql-æ”¯æŒå“ªäº›å­˜å‚¨å¼•æ“é»˜è®¤ä½¿ç”¨å“ªä¸ª&#34;&gt;#&lt;/a&gt; MySQL æ”¯æŒå“ªäº›å­˜å‚¨å¼•æ“ï¼Ÿé»˜è®¤ä½¿ç”¨å“ªä¸ªï¼Ÿ&lt;/h5&gt;
&lt;p&gt;MySQL æ”¯æŒå¤šç§å­˜å‚¨å¼•æ“ï¼Œä½ å¯ä»¥é€šè¿‡  &lt;code&gt;show engines&lt;/code&gt;  å‘½ä»¤æ¥æŸ¥çœ‹ MySQL æ”¯æŒçš„æ‰€æœ‰å­˜å‚¨å¼•æ“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20220510105408703.png&#34; alt=&#34;æŸ¥çœ‹ MySQL æä¾›çš„æ‰€æœ‰å­˜å‚¨å¼•æ“&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä»ä¸Šå›¾æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹å‡ºï¼Œ&lt;strong&gt;MySQL 5.5.5 ä¹‹åï¼Œé»˜è®¤çš„å­˜å‚¨å¼•æ“æ˜¯ InnoDB&lt;/strong&gt;ã€‚å¹¶ä¸”ï¼Œ&lt;strong&gt;åªæœ‰ InnoDB æ”¯æŒäº‹åŠ¡ã€è¡Œçº§é”ã€å¤–é”®&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;MySQL 5.5.5 ä¹‹å‰ï¼ŒMyISAM æ˜¯ MySQL çš„é»˜è®¤å­˜å‚¨å¼•æ“ã€‚5.5.5 ç‰ˆæœ¬ä¹‹åï¼ŒInnoDB æ˜¯ MySQL çš„é»˜è®¤å­˜å‚¨å¼•æ“ã€‚&lt;/p&gt;
&lt;h5 id=&#34;mysql-å­˜å‚¨å¼•æ“æ¶æ„äº†è§£å—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysql-å­˜å‚¨å¼•æ“æ¶æ„äº†è§£å—&#34;&gt;#&lt;/a&gt; MySQL å­˜å‚¨å¼•æ“æ¶æ„äº†è§£å—ï¼Ÿ&lt;/h5&gt;
&lt;p&gt;MySQL å­˜å‚¨å¼•æ“é‡‡ç”¨çš„æ˜¯&lt;strong&gt;æ’ä»¶å¼æ¶æ„ï¼Œæ”¯æŒå¤šç§å­˜å‚¨å¼•æ“&lt;/strong&gt;ã€‚æˆ‘ä»¬ç”šè‡³å¯ä»¥ä¸ºä¸åŒçš„æ•°æ®åº“è¡¨è®¾ç½®ä¸åŒçš„å­˜å‚¨å¼•æ“ä»¥é€‚åº”ä¸åŒåœºæ™¯çš„éœ€è¦ã€‚&lt;strong&gt;å­˜å‚¨å¼•æ“æ˜¯åŸºäºè¡¨çš„ï¼Œè€Œä¸æ˜¯æ•°æ®åº“ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h5 id=&#34;myisam-å’Œ-innodb-æœ‰ä»€ä¹ˆåŒºåˆ«&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#myisam-å’Œ-innodb-æœ‰ä»€ä¹ˆåŒºåˆ«&#34;&gt;#&lt;/a&gt; &lt;mark&gt;MyISAM å’Œ InnoDB æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/mark&gt;&lt;/h5&gt;
&lt;p&gt;MySQL 5.5 ä¹‹å‰ï¼ŒMyISAM å¼•æ“æ˜¯ MySQL çš„é»˜è®¤å­˜å‚¨å¼•æ“ï¼Œå¯è°“æ˜¯é£å…‰ä¸€æ—¶ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶ï¼ŒMyISAM çš„æ€§èƒ½è¿˜è¡Œï¼Œå„ç§ç‰¹æ€§ä¹Ÿè¿˜ä¸é”™ï¼ˆæ¯”å¦‚å…¨æ–‡ç´¢å¼•ã€å‹ç¼©ã€ç©ºé—´å‡½æ•°ç­‰ï¼‰ã€‚ä½†æ˜¯ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;MyISAM ä¸æ”¯æŒäº‹åŠ¡ã€è¡Œçº§é”å’Œå¤–é”®ï¼Œè€Œä¸”æœ€å¤§çš„ç¼ºé™·å°±æ˜¯å´©æºƒåæ— æ³•è‡ªåŠ¨æ¢å¤æ•°æ®&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;MySQL 5.5 ç‰ˆæœ¬ä¹‹åï¼ŒInnoDB æ˜¯ MySQL çš„é»˜è®¤å­˜å‚¨å¼•æ“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231108152443561.png&#34; alt=&#34;image-20231108152443561&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¨€å½’æ­£ä¼ ï¼å’±ä»¬ä¸‹é¢è¿˜æ˜¯æ¥ç®€å•å¯¹æ¯”ä¸€ä¸‹ä¸¤è€…ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. æ˜¯å¦æ”¯æŒäº‹åŠ¡&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;MyISAM ä¸æ”¯æŒäº‹åŠ¡ï¼Œä½†&lt;font color=&#39;red&#39;&gt;æ¯æ¬¡æŸ¥è¯¢éƒ½æ˜¯åŸå­çš„&lt;/font&gt;ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;InnoDB æ”¯æŒ ACID çš„äº‹åŠ¡ï¼Œå®ç°äº†å››ç§éš”ç¦»çº§åˆ«ã€‚å…·æœ‰æäº¤ ( &lt;code&gt;commit&lt;/code&gt; ) å’Œå›æ»š ( &lt;code&gt;rollback&lt;/code&gt; ) äº‹åŠ¡çš„èƒ½åŠ›ï¼›&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¹¶ä¸” InnoDB é»˜è®¤çš„ RR éš”ç¦»çº§åˆ«æ˜¯å¯ä»¥è§£å†³å¹»è¯»é—®é¢˜å‘ç”Ÿçš„ï¼ˆåŸºäº MVCC å’Œ Next-Key Lockï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…³äº MySQL äº‹åŠ¡çš„è¯¦ç»†ä»‹ç»ï¼š&lt;a href=&#34;#==4%E7%A7%8D%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB==&#34;&gt;4 ç§éš”ç¦»çº§åˆ«&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. æ˜¯å¦æ”¯æŒè¡Œçº§é”&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MyISAM åªæ”¯æŒè¡¨çº§é”ï¼Œå³æ¯æ¬¡æ“ä½œéƒ½æ˜¯å¯¹æ•´ä¸ªè¡¨åŠ é”ï¼›&lt;/li&gt;
&lt;li&gt;InnoDB ä¸ä»…æ”¯æŒè¡¨çº§é”ï¼Œ&lt;font color=&#39;red&#39;&gt;è¿˜æ”¯æŒè¡Œçº§é”ï¼ˆé»˜è®¤ï¼‰ï¼Œå› æ­¤æ”¯æŒå¹¶å‘å†™&lt;/font&gt;ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;3. æ˜¯å¦æ”¯æŒå¤–é”®&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MyISAM ä¸æ”¯æŒå¤–é”®çº¦æŸï¼›&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;InnoDB æ”¯æŒå¤–é”®çº¦æŸ&lt;/font&gt;ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¤–é”®å¯¹äºç»´æŠ¤æ•°æ®ä¸€è‡´æ€§éå¸¸æœ‰å¸®åŠ©ï¼Œä½†æ˜¯&lt;font color=&#39;red&#39;&gt;å¤–é”®å¯¹æ€§èƒ½æœ‰ä¸€å®šçš„æŸè€—&lt;/font&gt;ã€‚å› æ­¤ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ˜¯ä¸å»ºè®®åœ¨å®é™…ç”Ÿäº§é¡¹ç›®ä¸­ä½¿ç”¨å¤–é”®çš„ï¼Œåœ¨ä¸šåŠ¡ä»£ç ä¸­è¿›è¡Œçº¦æŸå³å¯ï¼&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4. æ˜¯å¦å­˜å‚¨è¡¨çš„æ€»è¡Œæ•°&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;MyISAM å­˜å‚¨è¡¨çš„æ€»è¡Œæ•°&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;InnoDB ä¸å­˜å‚¨è¡¨çš„æ€»è¡Œæ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;5. å­˜å‚¨æ–‡ä»¶&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ª MyISAM è¡¨æœ‰ä¸‰ä¸ªæ–‡ä»¶ï¼šè¡¨ç»“æ„æ–‡ä»¶ï¼ˆ.sdi)ã€æ•°æ®æ–‡ä»¶ï¼ˆ.MYDï¼‰ã€ç´¢å¼•æ–‡ä»¶ï¼ˆ.MYIï¼‰&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ª InnoDB è¡¨æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼šè¡¨ç»“æ„æ–‡ä»¶ï¼ˆ.sdi)ã€&lt;font color=&#39;red&#39;&gt;æ•°æ®å’Œç´¢å¼•æ–‡ä»¶ï¼ˆ &lt;code&gt;.ibd è¡¨ç©ºé—´æ–‡ä»¶&lt;/code&gt; ï¼‰&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;6. æ˜¯å¦é‡‡ç”¨èšé›†ç´¢å¼•&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;MyISAM é‡‡ç”¨éèšé›†ç´¢å¼•&lt;/font&gt;ï¼Œç´¢å¼•æ–‡ä»¶çš„æ•°æ®åŸŸå­˜å‚¨çš„æ˜¯æŒ‡å‘æ•°æ®æ–‡ä»¶çš„æŒ‡é’ˆã€‚è¾…ç´¢å¼•ä¸ä¸»ç´¢å¼•åŸºæœ¬ä¸€è‡´ï¼Œä½†æ˜¯è¾…ç´¢å¼•ä¸ç”¨ä¿è¯å”¯ä¸€æ€§ï¼›&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;InnoDB ä¸»é”®ç´¢é‡‡ç”¨èšé›†ç´¢å¼•ï¼ˆç´¢å¼•çš„æ•°åŸŸå­˜æ•°æ®æ–‡ä»¶æœ¬èº«ï¼‰ï¼Œè¾…åŠ©ç´¢å¼•çš„æ•°åŸŸå­˜å‚¨ä¸»é”®çš„å€¼&lt;/font&gt;ã€‚å› æ­¤ä»ç´¢å¼•æŸ¥æ‰¾æ•°æ®æ—¶ï¼Œéœ€è¦å…ˆé€šè¿‡è¾…åŠ©ç´¢å¼•æ‰¾åˆ°ä¸»é”®å€¼ï¼Œå†è®¿é—®èšé›†ç´¢å¼•ã€‚å› æ­¤æœ€å¥½ä½¿ç”¨è‡ªå¢ä¸»é”®ï¼Œé˜²æ­¢æ’å…¥æ•°æ®æ—¶ä¹±åºï¼Œå¯¼è‡´é¡µåˆ†è£‚ï¼Œæ€§èƒ½ä½ä¸‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;7. æ˜¯å¦æ”¯æŒæ•°æ®åº“å¼‚å¸¸å´©æºƒåçš„å®‰å…¨æ¢å¤&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;MyISAM ä¸æ”¯æŒ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;InnoDB æ”¯æŒæ•°æ®åº“å¼‚å¸¸å´©æºƒåçš„å®‰å…¨æ¢å¤&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½¿ç”¨ InnoDB çš„æ•°æ®åº“åœ¨å¼‚å¸¸å´©æºƒåï¼Œæ•°æ®åº“é‡æ–°å¯åŠ¨æ—¶ä¼šä¿è¯æ•°æ®åº“æ¢å¤åˆ°å´©æºƒå‰çš„çŠ¶æ€ã€‚è¿™ä¸ªæ¢å¤çš„è¿‡ç¨‹ä¾èµ–äº InnoDB çš„&lt;strong&gt;é‡åšæ—¥å¿—æ¨¡å— &lt;code&gt;redo log&lt;/code&gt; &lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;8. æ˜¯å¦æ”¯æŒ MVCC&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;MVCC å¯ä»¥çœ‹ä½œæ˜¯è¡Œçº§é”çš„ä¸€ä¸ªå‡çº§ï¼Œå¯ä»¥æœ‰æ•ˆå‡å°‘åŠ é”æ“ä½œï¼Œæé«˜æ€§èƒ½&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MyISAM ä¸æ”¯æŒï¼Œå®ƒè¿è¡Œçº§é”éƒ½ä¸æ”¯æŒ&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;InnoDB æ”¯æŒ MVCC&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;9. ç´¢å¼•å®ç°ä¸ä¸€æ ·&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è™½ç„¶ MyISAM å¼•æ“å’Œ InnoDB å¼•æ“&lt;font color=&#39;red&#39;&gt;éƒ½æ˜¯ä½¿ç”¨ B+Tree ä½œä¸ºç´¢å¼•ç»“æ„&lt;/font&gt;ï¼Œä½†æ˜¯ä¸¤è€…çš„å®ç°æ–¹å¼ä¸å¤ªä¸€æ ·ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;MyISAM ä¸­ï¼ŒB+Tree å¶èŠ‚ç‚¹çš„ data åŸŸå­˜æ”¾çš„æ˜¯&lt;font color=&#39;gree&#39;&gt;æ•°æ®è®°å½•çš„åœ°å€&lt;/font&gt;ã€‚åœ¨ç´¢å¼•æ£€ç´¢çš„æ—¶å€™ï¼Œé¦–å…ˆæŒ‰ç…§ B+Tree æœç´¢ç®—æ³•æœç´¢ç´¢å¼•ï¼Œå¦‚æœæŒ‡å®šçš„ Key å­˜åœ¨ï¼Œåˆ™å–å‡ºå…¶ data åŸŸçš„å€¼ï¼Œç„¶åä»¥ data åŸŸçš„å€¼ä¸ºåœ°å€è¯»å–ç›¸åº”çš„æ•°æ®è®°å½•ã€‚è¿™è¢«ç§°ä¸º **&lt;font color=&#39;#B32015&#39;&gt;éèšé›†ç´¢å¼•&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;InnoDB ä¸­ï¼Œ&lt;font color=&#39;red&#39;&gt;å…¶æ•°æ®æ–‡ä»¶æœ¬èº«å°±æ˜¯ï¼ˆä¸»ï¼‰ç´¢å¼•æ–‡ä»¶&lt;/font&gt;ï¼ŒæŒ‰ B+Tree ç»„ç»‡çš„ä¸€ä¸ªç´¢å¼•ç»“æ„ï¼Œæ ‘çš„å¶èŠ‚ç‚¹ä¸­ key åŸŸæ˜¯ä¸»é”®ï¼Œdata åŸŸæ˜¯&lt;font color=&#39;gree&#39;&gt;å®Œæ•´çš„æ•°æ®è®°å½•&lt;/font&gt;ï¼Œè¿™è¢«ç§°ä¸º **&lt;font color=&#39;#B32015&#39;&gt;èšé›†ç´¢å¼•&lt;/font&gt;&lt;strong&gt;ã€‚è€Œ&lt;font color=&#39;red&#39;&gt;å…¶ä½™çš„ç´¢å¼•éƒ½ä½œä¸º&lt;/strong&gt;è¾…åŠ©ç´¢å¼• **&lt;/font&gt;ï¼Œæ ‘çš„å¶èŠ‚ç‚¹ä¸­ key åŸŸæ˜¯éä¸»é”®å­—æ®µï¼Œdata åŸŸå­˜æ”¾çš„æ˜¯&lt;font color=&#39;gree&#39;&gt;ä¸»é”®&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åœ¨æ ¹æ®ä¸»ç´¢å¼•æœç´¢æ—¶ï¼Œç›´æ¥æ‰¾åˆ° key æ‰€åœ¨çš„èŠ‚ç‚¹å³å¯å–å‡ºå®Œæ•´çš„æ•°æ®è®°å½•ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è€Œåœ¨æ ¹æ®è¾…åŠ©ç´¢å¼•æŸ¥æ‰¾æ—¶ï¼Œåˆ™éœ€è¦å…ˆå–å‡ºä¸»é”®çš„å€¼ï¼Œç„¶åå†èµ°ä¸€éä¸»ç´¢å¼•ï¼Œç§°ä¸º&lt;strong&gt;äºŒæ¬¡æŸ¥è¯¢ï¼ˆå›è¡¨ï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;10. æ€§èƒ½æœ‰å·®åˆ«&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;MyISAM çš„è¯»å†™ä¸èƒ½å¹¶å‘ï¼Œ&lt;font color=&#39;red&#39;&gt;å®ƒçš„å¤„ç†èƒ½åŠ›è·Ÿæ ¸æ•°æ²¡å…³ç³»&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;InnoDB çš„æ€§èƒ½æ¯” MyISAM æ›´å¼ºå¤§&lt;/font&gt;ï¼Œä¸ç®¡æ˜¯åœ¨è¯»å†™æ··åˆæ¨¡å¼ä¸‹è¿˜æ˜¯åªè¯»æ¨¡å¼ä¸‹ã€‚ä¸”éšç€ CPU æ ¸æ•°çš„å¢åŠ ï¼ŒInnoDB çš„è¯»å†™èƒ½åŠ›å‘ˆçº¿æ€§å¢é•¿ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/innodb-myisam-performance-comparison.png&#34; alt=&#34;InnoDB å’Œ MyISAM æ€§èƒ½å¯¹æ¯”&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ€»ç»“&lt;/strong&gt; ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;InnoDB æ”¯æŒäº‹åŠ¡å¤„ç†ï¼Œè€Œ MyISAM ä¸æ”¯æŒ&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;InnoDB æ”¯æŒè¡Œçº§é”ï¼Œè€Œ MyISAM åªæ”¯æŒè¡¨çº§é”&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;InnoDB æ”¯æŒå¤–é”®ï¼Œè€Œ MyISAM ä¸æ”¯æŒ&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;InnoDB æ”¯æŒ MVCC&lt;/font&gt;ï¼Œè€Œ MyISAM ä¸æ”¯æŒã€‚&lt;/li&gt;
&lt;li&gt;è™½ç„¶ MyISAM å¼•æ“å’Œ InnoDB å¼•æ“éƒ½æ˜¯ä½¿ç”¨ B+Tree ä½œä¸ºç´¢å¼•ç»“æ„ï¼Œä½†æ˜¯&lt;font color=&#39;red&#39;&gt;ä¸¤è€…çš„ç´¢å¼•å®ç°æ–¹å¼ä¸å¤ªä¸€æ ·&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;InnoDB æ”¯æŒæ•°æ®åº“å¼‚å¸¸å´©æºƒåçš„å®‰å…¨æ¢å¤&lt;/font&gt;ï¼Œè€Œ MyISAM ä¸æ”¯æŒã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;InnoDB çš„æ€§èƒ½æ¯” MyISAM æ›´å¼ºå¤§&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ€åï¼Œå†åˆ†äº«ä¸€å¼ å›¾ç‰‡ç»™ä½ ï¼Œè¿™å¼ å›¾ç‰‡è¯¦ç»†å¯¹æ¯”äº†å¸¸è§çš„å‡ ç§ MySQL å­˜å‚¨å¼•æ“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/comparison-of-common-mysql-storage-engines.png&#34; alt=&#34;å¸¸è§çš„å‡ ç§ MySQL å­˜å‚¨å¼•æ“å¯¹æ¯”&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;myisam-å’Œ-innodb-å¦‚ä½•é€‰æ‹©&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#myisam-å’Œ-innodb-å¦‚ä½•é€‰æ‹©&#34;&gt;#&lt;/a&gt; MyISAM å’Œ InnoDB å¦‚ä½•é€‰æ‹©ï¼Ÿ&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;å¤§å¤šæ•°æƒ…å†µä½¿ç”¨çš„éƒ½æ˜¯ InnoDB å­˜å‚¨å¼•æ“&lt;/strong&gt;ã€‚åœ¨æŸäº›è¯»å¯†é›†çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ MyISAM ä¹Ÿæ˜¯åˆé€‚çš„ã€‚ä¸è¿‡ï¼Œå‰ææ˜¯ä½ çš„é¡¹ç›®ä¸ä»‹æ„&lt;font color=&#39;red&#39;&gt; MyISAM ä¸æ”¯æŒäº‹åŠ¡ã€å´©æºƒæ¢å¤&lt;/font&gt;ç­‰ç¼ºç‚¹ï¼ˆå¯æ˜¯ï½æˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šä»‹æ„å•Šï¼ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id=&#34;innodb-å¼•æ“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#innodb-å¼•æ“&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸInnoDB å¼•æ“&lt;/mark&gt;&lt;/h3&gt;
&lt;p&gt;ä» MySQL 5.5 ç‰ˆæœ¬å¼€å§‹é»˜è®¤ä½¿ç”¨ InnoDB ä½œä¸ºå­˜å‚¨å¼•æ“ï¼Œå®ƒæ“…é•¿å¤„ç†äº‹åŠ¡ï¼Œå…·æœ‰è‡ªåŠ¨å´©æºƒæ¢å¤çš„ç‰¹æ€§ï¼Œåœ¨æ—¥å¸¸å¼€å‘ä¸­ä½¿ç”¨éå¸¸å¹¿æ³›ã€‚&lt;/p&gt;
&lt;h4 id=&#34;é€»è¾‘å­˜å‚¨ç»“æ„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é€»è¾‘å­˜å‚¨ç»“æ„&#34;&gt;#&lt;/a&gt; é€»è¾‘å­˜å‚¨ç»“æ„&lt;/h4&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231125111944812.png&#34; alt=&#34;image-20231125111944812&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¡¨ç©ºé—´ï¼ˆTablespaceï¼‰&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;æ˜¯ InnoDB é€»è¾‘å­˜å‚¨ç»“æ„çš„æœ€é«˜å±‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æ¯å¼ è¡¨éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„è¡¨ç©ºé—´&lt;/font&gt;ï¼ˆ.ibd æ–‡ä»¶ï¼‰ï¼Œå‰ææ˜¯ç”¨æˆ·å¯ç”¨äº†å‚æ•° innodb_file_per_tableï¼ˆåœ¨ 8.0 ç‰ˆæœ¬ä¸­é»˜è®¤å¼€å¯ï¼‰&lt;/li&gt;
&lt;li&gt;å³&lt;font color=&#39;red&#39;&gt; ibd æ–‡ä»¶&lt;/font&gt;ï¼Œç”±å¤šä¸ª Segment ç»„æˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ®µï¼ˆSegmentï¼‰&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;åˆ†ä¸º&lt;font color=&#39;red&#39;&gt;æ•°æ®æ®µï¼ˆLeaf node segmentï¼‰ã€ç´¢å¼•æ®µï¼ˆNon-leaf node segmentï¼‰ã€å›æ»šæ®µï¼ˆRollback segmentï¼‰&lt;/font&gt;ç­‰&lt;/li&gt;
&lt;li&gt;æ•°æ®æ®µå³ B + æ ‘çš„å¶å­èŠ‚ç‚¹ï¼Œç´¢å¼•æ®µå³ B + æ ‘çš„éå¶å­èŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;ç”± InnoDB è‡ªèº«ç®¡ç†ï¼Œç”±å¤šä¸ª Extent ç»„æˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒºï¼ˆExtentï¼‰&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;æ˜¯è¡¨ç©ºé—´çš„å•å…ƒç»“æ„&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å›ºå®šå¤§å°ä¸º 1Mï¼Œç”± 64 ä¸ªè¿ç»­çš„ Page ç»„æˆ&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¡µï¼ˆPageï¼‰&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;æ˜¯ InnoDB ç£ç›˜ç®¡ç†çš„æœ€å°å•å…ƒ&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å›ºå®šå¤§å°ä¸º 16 KB&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;ä¸ºäº†ä¿è¯é¡µçš„è¿ç»­æ€§ï¼ŒInnoDB ä¸€æ¬¡æ€§ä»ç£ç›˜ç”³è¯· 4~5 ä¸ªåŒº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¡Œï¼ˆRowï¼‰&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;InnoDB çš„æ•°æ®æ˜¯æŒ‰è¡Œå­˜æ”¾çš„ï¼ŒRow å­˜æ”¾çš„å°±æ˜¯&lt;font color=&#39;red&#39;&gt;è¡Œè®°å½•æ•°æ®&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;ç»„æˆæƒ…å†µï¼š
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;Trx_id&lt;/font&gt;ï¼šæœ€åä¸€æ¬¡äº‹åŠ¡çš„ idã€‚æ¯æ¬¡å¯¹æŸè¡Œè®°å½•æ”¹åŠ¨æ—¶ï¼Œéƒ½ä¼šæŠŠå¯¹åº”çš„äº‹åŠ¡ id èµ‹å€¼ç»™ Trx_id&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;Roll_pointer&lt;/font&gt;ï¼šå›æ»šæŒ‡é’ˆã€‚æ¯æ¬¡å¯¹æŸè¡Œè®°å½•æ”¹åŠ¨æ—¶ï¼Œéƒ½ä¼šæŠŠæ—§ç‰ˆæœ¬å†™å…¥ undo æ—¥å¿—ä¸­ï¼Œè¯¥åˆ—ç›¸å½“äºä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘è¯¥è®°å½•ä¿®æ”¹å‰çš„ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å„ä¸ªå­—æ®µçš„å€¼&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ¶æ„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶æ„&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸæ¶æ„&lt;/mark&gt;&lt;/h4&gt;
&lt;h5 id=&#34;æ¦‚è¿°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¦‚è¿°&#34;&gt;#&lt;/a&gt; æ¦‚è¿°&lt;/h5&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ InnoDB æ¶æ„å›¾ï¼Œå·¦ä¾§ä¸ºå†…å­˜ç»“æ„ï¼Œå³ä¾§ä¸ºç£ç›˜ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231125133202521.png&#34; alt=&#34;image-20231125133202521&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;å†…å­˜ç»“æ„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å†…å­˜ç»“æ„&#34;&gt;#&lt;/a&gt; å†…å­˜ç»“æ„&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231125133305129.png&#34; alt=&#34;image-20231125133305129&#34; /&gt;&lt;/p&gt;
&lt;h6 id=&#34;buffer-poolç¼“å†²æ± &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#buffer-poolç¼“å†²æ± &#34;&gt;#&lt;/a&gt; Buffer Poolï¼ˆç¼“å†²æ± )&lt;/h6&gt;
&lt;p&gt;ç®€ç§° BPï¼Œ&lt;font color=&#39;red&#39;&gt;æ˜¯ä¸»å†…å­˜ä¸­çš„ä¸€å—åŒºåŸŸ&lt;/font&gt;ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä½œç”¨æ˜¯ç¼“å­˜è¡¨æ•°æ®ä¸ç´¢å¼•&lt;/font&gt;&lt;/strong&gt;ã€‚InnoDB æ˜¯åŸºäºç£ç›˜æ–‡ä»¶å­˜å‚¨çš„ï¼Œä¸ºäº†å¼¥è¡¥åœ¨ç‰©ç†ç¡¬ç›˜ä¸å†…å­˜ä¹‹é—´çš„ IO è®¿é—®é€Ÿåº¦å·®å€¼ï¼Œ&lt;font color=&#39;red&#39;&gt;éœ€è¦æŠŠç»å¸¸ä½¿ç”¨çš„æ•°æ®åŠ è½½åˆ° BP ä¸­&lt;/font&gt;ï¼Œé¿å…æ¯æ¬¡è®¿é—®éƒ½è¿›è¡Œç£ç›˜ IOã€‚å…·ä½“åœ°ï¼Œåœ¨æ‰§è¡Œå¢åˆ æ”¹æŸ¥æ—¶ï¼Œ&lt;font color=&#39;red&#39;&gt;å…ˆæ“ä½œ BP ä¸­çš„æ•°æ®ï¼ˆè‹¥æ— åˆ™ä»ç£ç›˜åŠ è½½å¹¶ç¼“å­˜ï¼‰ï¼Œç„¶åå†ä»¥ä¸€å®šé¢‘ç‡åˆ·æ–°åˆ°ç£ç›˜&lt;/font&gt;ï¼Œä»è€Œå‡å°‘ç£ç›˜ IOï¼ŒåŠ å¿«å¤„ç†é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;b&#39;&gt;Buffer Pool çš„ç»„æˆï¼š&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ç¼“å­˜é¡µï¼ˆPageï¼‰&lt;/font&gt;ï¼šç”¨äºç¼“å­˜&lt;font color=&#39;red&#39;&gt;è¡¨æ•°æ®ä¸ç´¢å¼•&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æ§åˆ¶å—&lt;/font&gt;ï¼šç”¨æ¥æè¿°ç¼“å­˜é¡µï¼Œä¸ç¼“å­˜é¡µä¸€ä¸€å¯¹åº”ã€‚å­˜å‚¨ç€&lt;font color=&#39;red&#39;&gt;å¯¹åº”ç¼“å­˜é¡µçš„æ‰€å±è¡¨ç©ºé—´ã€æ•°æ®é¡µç¼–å·ã€ä»¥åŠåœ¨ Buffer Pool ä¸­çš„åœ°å€&lt;/font&gt;ç­‰ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;BP ä»¥ Page ä¸ºå•ä½ï¼Œé»˜è®¤å¤§å°æ˜¯ 128 M&lt;/font&gt;ï¼ŒPage é»˜è®¤å¤§å°æ˜¯ 16 Kï¼Œè€Œ&lt;font color=&#39;red&#39;&gt;æ§åˆ¶å—çš„å¤§å°çº¦ä¸º Page çš„ 5%ï¼Œå¤§æ¦‚æ˜¯ 800 byte&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨ï¼šBP å¤§å°ä¸º 128M æŒ‡çš„å°±æ˜¯ç¼“å­˜é¡µï¼ˆPageï¼‰çš„å¤§å°ã€‚è€Œæ§åˆ¶å—åˆ™ä¸€èˆ¬å  5%ï¼Œæ‰€ä»¥æ¯æ¬¡ä¼šå¤šç”³è¯· 6M çš„å†…å­˜ç©ºé—´ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1680014940345-c4b81c48-94d1-46cd-97bd-fa4f242e91cf.jpeg&#34; alt=&#34;03.jpg&#34; /&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä¸“ç”¨æœåŠ¡å™¨ä¸Šï¼Œé€šå¸¸å°†å¤šè¾¾ 80ï¼… çš„ç‰©ç†å†…å­˜åˆ†é…ç»™ Buffer Poolã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹å‚æ•°è®¾ç½®ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;show&lt;/span&gt; variables &lt;span class=&#34;token operator&#34;&gt;like&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;innodb_buffer_pool_size&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;b&#39;&gt;å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªé¡µæ˜¯å¦ç¼“å­˜åœ¨ BP ä¸­ï¼Ÿ&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;MySQL ä¸­æœ‰ä¸€ä¸ªå“ˆå¸Œè¡¨æ•°æ®ç»“æ„ï¼Œå®ƒçš„ k-v ç»“æ„æ˜¯&lt;font color=&#39;red&#39;&gt;ï¼ˆè¡¨ç©ºé—´å· + æ•°æ®é¡µå·ï¼Œç¼“å†²é¡µå¯¹åº”çš„æ§åˆ¶å—ï¼‰&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œå½“éœ€è¦è®¿é—®æŸä¸ªé¡µçš„æ•°æ®æ—¶ï¼Œå…ˆä»å“ˆå¸Œè¡¨ä¸­æ ¹æ® è¡¨ç©ºé—´å· + æ•°æ®é¡µå· çœ‹çœ‹æ˜¯å¦å­˜åœ¨å¯¹åº”ç¼“å†²é¡µçš„æ§åˆ¶å—ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœæœ‰ï¼Œåˆ™ç›´æ¥ä½¿ç”¨ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰ï¼Œå°±ä»&lt;font color=&#39;red&#39;&gt;free é“¾è¡¨&lt;/font&gt;ä¸­é€‰å‡ºä¸€ä¸ªç©ºé—²çš„ç¼“å†²é¡µï¼Œç„¶åæŠŠç£ç›˜ä¸­å¯¹åº”çš„é¡µåŠ è½½åˆ°è¯¥ç¼“å†²é¡µçš„ä½ç½®ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1680015043156-2f7c1410-3f41-4d8f-892c-d8384a8cd752.jpeg&#34; alt=&#34;10.jpg&#34; style=&#34;zoom:67%;&#34; /&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;b&#39;&gt;Page åˆ†ç±»&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;Buffer Pool ä»¥ Page ä¸ºå•ä½&lt;/font&gt;ï¼Œåº•å±‚é‡‡ç”¨ &lt;strong&gt;&lt;font color=&#39;red&#39;&gt;é“¾è¡¨&lt;/font&gt;&lt;/strong&gt; æ¥ç®¡ç† Pageã€‚åœ¨ InnoDB è®¿é—®è¡¨è®°å½•å’Œç´¢å¼•æ—¶ä¼šåœ¨ Page ä¸­ç¼“å­˜ï¼Œä»¥åä½¿ç”¨æ—¶ï¼Œå¯ä»¥å‡å°‘ç£ç›˜ IO æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®çŠ¶æ€ï¼Œå°† Page åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;free page&lt;/font&gt;ï¼šç©ºé—² pageï¼Œæœªè¢«ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;clean page&lt;/font&gt;ï¼šè¢«ä½¿ç”¨ pageï¼Œä½†&lt;font color=&#39;red&#39;&gt;æ•°æ®åœ¨åˆ·ç›˜åæ²¡æœ‰è¢«ä¿®æ”¹è¿‡&lt;/font&gt;ï¼Œä¸ç£ç›˜çš„æ•°æ®ä¿æŒä¸€è‡´ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;dirty page&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;è„é¡µ&lt;/font&gt;ï¼Œè¢«ä½¿ç”¨ pageï¼Œä½†&lt;font color=&#39;red&#39;&gt;æ•°æ®åœ¨åˆ·ç›˜åè¢«ä¿®æ”¹è¿‡&lt;/font&gt;ï¼Œä¸ç£ç›˜çš„æ•°æ®äº§ç”Ÿäº†ä¸ä¸€è‡´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1680015221485-20f5036b-94b6-4125-8cf9-304a2deaf4e7.jpeg&#34; alt=&#34;05.jpg&#34; /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;b&#39;&gt;Page ç®¡ç†&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;InnoDB é€šè¿‡ä¸‰ç§é“¾è¡¨ç»“æ„æ¥ç»´æŠ¤å’Œç®¡ç†ä¸Šè¿°ä¸‰ç±» Page å¯¹åº”çš„&lt;font color=&#39;red&#39;&gt;æ§åˆ¶å—&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;free list&lt;/font&gt;ï¼š**&lt;font color=&#39;red&#39;&gt;ç©ºé—²&lt;/font&gt;** ç¼“å†²åŒºï¼Œç®¡ç† free page&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Buffer Pool çš„åˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼Œå…ˆå‘æ“ä½œç³»ç»Ÿç”³è¯·è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œç„¶åæŠŠå®ƒåˆ’åˆ†æˆè‹¥å¹²ä¸ªã€æ§åˆ¶å— &amp;amp; ç¼“å†²é¡µã€‘çš„é”®å€¼å¯¹&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;free list æŠŠæ‰€æœ‰&lt;u&gt;ç©ºé—²çš„ç¼“å†²é¡µå¯¹åº”çš„æ§åˆ¶å—&lt;/u&gt;ä½œä¸ºä¸€ä¸ªä¸ªçš„èŠ‚ç‚¹æ”¾åˆ°é“¾è¡¨ä¸­&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;åŸºèŠ‚ç‚¹&lt;/font&gt;: free list ä¸­åªæœ‰ä¸€ä¸ªåŸºèŠ‚ç‚¹ï¼Œå®ƒä¸è®°å½•ä»»ä½•ç¼“å­˜é¡µçš„ä¿¡æ¯ï¼ˆå•ç‹¬ç”³è¯·ç©ºé—´ï¼‰ï¼Œåªè®°å½•å½“å‰ free list çš„å¤´èŠ‚ç‚¹åœ°å€ã€å°¾èŠ‚ç‚¹åœ°å€ï¼Œä»¥åŠå½“å‰ free list çš„èŠ‚ç‚¹ä¸ªæ•°&lt;/li&gt;
&lt;li&gt;ä»ç£ç›˜ä¸­å°†æ•°æ®é¡µè¿›è¡Œç¼“å­˜çš„æµç¨‹ï¼š
&lt;ol&gt;
&lt;li&gt;ä» free list ä¸­å–å‡ºä¸€ä¸ªç©ºé—²çš„æ§åˆ¶å—ï¼ˆå¯¹åº”ç¼“å†²é¡µï¼‰&lt;/li&gt;
&lt;li&gt;æ ¹æ®æ•°æ®é¡µæ‰€åœ¨çš„è¡¨ç©ºé—´ã€é¡µå·ä¹‹ç±»çš„ä¿¡æ¯ï¼Œå¡«å†™è¯¥æ§åˆ¶å—çš„ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;æŠŠè¯¥ç¼“å†²é¡µå¯¹åº”çš„ free list èŠ‚ç‚¹ï¼ˆå³æ§åˆ¶å—ï¼‰ä»é“¾è¡¨ä¸­ç§»é™¤ï¼Œè¡¨ç¤ºè¯¥ç¼“å†²é¡µå·²ç»è¢«ä½¿ç”¨äº†&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1680015343358-c3d841dd-7c74-4b96-b01f-56109ffa94bc.jpeg&#34; alt=&#34;07.jpg&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;flush list&lt;/font&gt;ï¼š**&lt;font color=&#39;red&#39;&gt;éœ€è¦åˆ·ç›˜&lt;/font&gt;** çš„ç¼“å†²åŒºï¼Œç®¡ç† dirty pageï¼ŒæŒ‰ä¿®æ”¹æ—¶é—´æ’åº&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨ï¼šè„é¡µæ—¢å­˜åœ¨äº flush listï¼Œä¹Ÿåœ¨ LRU list ä¸­ï¼Œä½†æ˜¯ä¸¤ç§äº’ä¸å½±å“ã€‚&lt;font color=&#39;red&#39;&gt;LRU list è´Ÿè´£ç®¡ç† page çš„å¯ç”¨æ€§å’Œé‡Šæ”¾ï¼Œè€Œ flush list è´Ÿè´£ç®¡ç†è„é¡µçš„åˆ·ç›˜æ“ä½œ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;InnoDB ä¸ºäº†æé«˜å¤„ç†æ•ˆç‡ï¼Œåœ¨æ¯æ¬¡ä¿®æ”¹ç¼“å†²é¡µåï¼Œå¹¶ä¸æ˜¯ç«‹åˆ»æŠŠä¿®æ”¹åˆ·æ–°åˆ°ç£ç›˜ä¸Šï¼Œè€Œæ˜¯åœ¨æœªæ¥çš„æŸä¸ªæ—¶é—´ç‚¹è¿›è¡Œåˆ·ç›˜æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;æ‰€ä»¥éœ€è¦ä½¿ç”¨ flush list å­˜å‚¨è„é¡µï¼Œå‡¡æ˜¯&lt;font color=&#39;red&#39;&gt;&lt;u&gt;è¢«ä¿®æ”¹è¿‡çš„ç¼“å†²é¡µå¯¹åº”çš„æ§åˆ¶å—&lt;/u&gt;&lt;/font&gt;éƒ½ä¼šä½œä¸ºèŠ‚ç‚¹åŠ å…¥åˆ° flush list ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;flush list çš„ç»“æ„ä¸ free list ç›¸ä¼¼&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1680015501833-6f3d1fcb-2894-4f32-b551-fd4495b9788c.jpeg&#34; alt=&#34;08.jpg&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;lru list&lt;/font&gt;ï¼š**&lt;font color=&#39;red&#39;&gt;æ­£åœ¨ä½¿ç”¨&lt;/font&gt;** çš„ç¼“å†²åŒºï¼Œç®¡ç† clean page å’Œ dirty page&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ‰ç‚¹å¤æ‚ï¼Œç•¥äº†...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h6 id=&#34;change-bufferæ›´æ”¹ç¼“å†²åŒº&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#change-bufferæ›´æ”¹ç¼“å†²åŒº&#34;&gt;#&lt;/a&gt; Change Bufferï¼ˆæ›´æ”¹ç¼“å†²åŒºï¼‰&lt;/h6&gt;
&lt;blockquote&gt;
&lt;p&gt;ç•¥äº†...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¯ä»¥åœ¨ Buffer Pool ä¸­è¿›è¡Œåˆå¹¶å¤„ç†ï¼Œå‡å°‘ç£ç›˜ IOã€‚&lt;/p&gt;
&lt;h6 id=&#34;adaptive-hash-indexè‡ªé€‚åº”hashç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#adaptive-hash-indexè‡ªé€‚åº”hashç´¢å¼•&#34;&gt;#&lt;/a&gt; Adaptive Hash Indexï¼ˆè‡ªé€‚åº” hash ç´¢å¼•ï¼‰&lt;/h6&gt;
&lt;blockquote&gt;
&lt;p&gt;å‚æ•°ï¼šadaptive_hash_index&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;InnoDB ä¼šç›‘æ§å¯¹è¡¨ä¸Šå„ç´¢å¼•é¡µçš„æŸ¥è¯¢ï¼Œ&lt;font color=&#39;red&#39;&gt;å¦‚æœè§‚å¯Ÿåˆ° hash ç´¢å¼•å¯ä»¥æå‡ç´¢å¼•é¡µçš„æŸ¥è¯¢é€Ÿåº¦ï¼Œåˆ™è‡ªåŠ¨å»ºç«‹ hash ç´¢å¼•&lt;/font&gt;ï¼Œæ— éœ€äººå·¥å‚ä¸ï¼Œç§°ä¹‹ä¸ºè‡ªé€‚åº” hash ç´¢å¼•ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;hash ç´¢å¼•çš„ç­‰å€¼åŒ¹é…æ€§èƒ½é«˜äº B + æ ‘çš„&lt;/font&gt;ï¼šå› ä¸º hash ç´¢å¼•ä¸€èˆ¬åªéœ€è¦ä¸€æ¬¡ IO å³å¯ï¼›è€Œ B + æ ‘ï¼Œå¯èƒ½éœ€è¦å‡ æ¬¡åŒ¹é…&lt;/li&gt;
&lt;li&gt;ä½†æ˜¯ï¼Œ&lt;font color=&#39;red&#39;&gt;hash ç´¢å¼•åˆä¸é€‚åˆåšèŒƒå›´æŸ¥è¯¢ã€æ¨¡ç³ŠåŒ¹é…ç­‰&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;log-bufferæ—¥å¿—ç¼“å†²åŒº&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#log-bufferæ—¥å¿—ç¼“å†²åŒº&#34;&gt;#&lt;/a&gt; Log Bufferï¼ˆæ—¥å¿—ç¼“å†²åŒºï¼‰&lt;/h6&gt;
&lt;p&gt;ä½œç”¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ç”¨æ¥ä¿å­˜è¦å†™å…¥åˆ°ç£ç›˜ä¸­çš„æ—¥å¿—æ•°æ®ï¼ˆ &lt;code&gt;redo log&lt;/code&gt; ã€ &lt;code&gt;undo log&lt;/code&gt; ï¼‰ï¼Œæ•°æ®ä¼šå®šæœŸåˆ·æ–°åˆ°ç£ç›˜ä¸­&lt;/font&gt;ï¼Œé»˜è®¤å¤§å°ä¸º 16MBã€‚å¦‚æœéœ€è¦æ›´æ–°ã€æ’å…¥æˆ–åˆ é™¤è®¸å¤šè¡Œçš„äº‹åŠ¡ï¼Œå¢åŠ æ—¥å¿—ç¼“å†²åŒºçš„å¤§å°å¯ä»¥èŠ‚çœç£ç›˜ I/O&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”¨æ¥ä¼˜åŒ–æ¯æ¬¡æ›´æ–°æ“ä½œä¹‹åéƒ½è¦å†™å…¥ redo log è€Œäº§ç”Ÿçš„ç£ç›˜ IO é—®é¢˜&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Log Buffer ç©ºé—´æ»¡äº†åä¼šè‡ªåŠ¨å†™å…¥ç£ç›˜ã€‚å¯ä»¥é€šè¿‡å°† &lt;code&gt;innodb_log_buffer_size&lt;/code&gt;  å‚æ•°è°ƒå¤§ï¼Œä»¥å‡å°‘ç£ç›˜ IO é¢‘ç‡&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1680016593449-c23ff9d8-4c0f-48d4-9a55-b66b0a922895.jpeg&#34; alt=&#34;14.jpg&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;ç£ç›˜ç»“æ„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç£ç›˜ç»“æ„&#34;&gt;#&lt;/a&gt; ç£ç›˜ç»“æ„&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;å®åœ¨æ˜¯å¤ªæŠ½è±¡äº†ï¼Œç•¥äº†ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231125133316649.png&#34; alt=&#34;image-20231125133316649&#34; /&gt;&lt;/p&gt;
&lt;h6 id=&#34;system-tablespaceç³»ç»Ÿè¡¨ç©ºé—´&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#system-tablespaceç³»ç»Ÿè¡¨ç©ºé—´&#34;&gt;#&lt;/a&gt; System Tablespace (ç³»ç»Ÿè¡¨ç©ºé—´)&lt;/h6&gt;
&lt;h6 id=&#34;file-per-table-tablespacesæ¯ä¸ªè¡¨çš„æ–‡ä»¶è¡¨ç©ºé—´&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#file-per-table-tablespacesæ¯ä¸ªè¡¨çš„æ–‡ä»¶è¡¨ç©ºé—´&#34;&gt;#&lt;/a&gt; File-Per-Table Tablespacesï¼ˆæ¯ä¸ªè¡¨çš„æ–‡ä»¶è¡¨ç©ºé—´ï¼‰&lt;/h6&gt;
&lt;h6 id=&#34;general-tablespacesé€šç”¨è¡¨ç©ºé—´&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#general-tablespacesé€šç”¨è¡¨ç©ºé—´&#34;&gt;#&lt;/a&gt; General Tablespacesï¼ˆé€šç”¨è¡¨ç©ºé—´ï¼‰&lt;/h6&gt;
&lt;h6 id=&#34;undo-tablespacesæ’¤é”€è¡¨ç©ºé—´&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#undo-tablespacesæ’¤é”€è¡¨ç©ºé—´&#34;&gt;#&lt;/a&gt; Undo Tablespacesï¼ˆæ’¤é”€è¡¨ç©ºé—´ï¼‰&lt;/h6&gt;
&lt;h6 id=&#34;temporary-tablesä¸´æ—¶è¡¨ç©ºé—´&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#temporary-tablesä¸´æ—¶è¡¨ç©ºé—´&#34;&gt;#&lt;/a&gt; Temporary Tablesï¼ˆä¸´æ—¶è¡¨ç©ºé—´ï¼‰&lt;/h6&gt;
&lt;h6 id=&#34;doublewrite-buffer-filesåŒå†™ç¼“å†²åŒºæ–‡ä»¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#doublewrite-buffer-filesåŒå†™ç¼“å†²åŒºæ–‡ä»¶&#34;&gt;#&lt;/a&gt; Doublewrite Buffer Filesï¼ˆåŒå†™ç¼“å†²åŒºæ–‡ä»¶ï¼‰&lt;/h6&gt;
&lt;h6 id=&#34;redo-logé‡åšæ—¥å¿—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redo-logé‡åšæ—¥å¿—&#34;&gt;#&lt;/a&gt; Redo Logï¼ˆé‡åšæ—¥å¿—ï¼‰&lt;/h6&gt;
&lt;h5 id=&#34;åå°çº¿ç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åå°çº¿ç¨‹&#34;&gt;#&lt;/a&gt; åå°çº¿ç¨‹&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231125133329251.png&#34; alt=&#34;image-20231125133329251&#34; /&gt;&lt;/p&gt;
&lt;h6 id=&#34;master-threadæ ¸å¿ƒåå°çº¿ç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#master-threadæ ¸å¿ƒåå°çº¿ç¨‹&#34;&gt;#&lt;/a&gt; Master Threadï¼ˆæ ¸å¿ƒåå°çº¿ç¨‹ï¼‰&lt;/h6&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;è´Ÿè´£è°ƒåº¦å…¶ä»–çº¿ç¨‹&lt;/font&gt;ï¼Œè¿˜&lt;font color=&#39;red&#39;&gt;è´Ÿè´£å°†ç¼“å†²æ± ä¸­çš„æ•°æ®å¼‚æ­¥åˆ·æ–°åˆ°ç£ç›˜ä¸­&lt;/font&gt;ï¼Œä¿æŒæ•°æ®çš„ä¸€è‡´æ€§ï¼Œè¿˜åŒ…æ‹¬&lt;font color=&#39;red&#39;&gt;è„é¡µçš„åˆ·æ–°ã€åˆå¹¶æ’å…¥ç¼“å­˜ã€undo é¡µçš„å›æ”¶&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h6 id=&#34;io-threadioçº¿ç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#io-threadioçº¿ç¨‹&#34;&gt;#&lt;/a&gt; IO Threadï¼ˆIO çº¿ç¨‹ï¼‰&lt;/h6&gt;
&lt;p&gt;åœ¨ InnoDB å­˜å‚¨å¼•æ“ä¸­å¤§é‡ä½¿ç”¨äº† AIO æ¥å¤„ç† IO è¯·æ±‚ï¼Œè¿™æ ·å¯ä»¥æå¤§åœ°æé«˜æ•°æ®åº“çš„æ€§èƒ½ï¼Œè€Œ IO Thread ä¸»è¦&lt;font color=&#39;red&#39;&gt;è´Ÿè´£è¿™äº› IO è¯·æ±‚çš„å›è°ƒ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231125150451252.png&#34; alt=&#34;image-20231125150451252&#34; /&gt;&lt;/p&gt;
&lt;h6 id=&#34;purge-threadå›æ”¶çº¿ç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#purge-threadå›æ”¶çº¿ç¨‹&#34;&gt;#&lt;/a&gt; Purge Threadï¼ˆå›æ”¶çº¿ç¨‹ï¼‰&lt;/h6&gt;
&lt;p&gt;ä¸»è¦ç”¨äº&lt;font color=&#39;red&#39;&gt;å›æ”¶äº‹åŠ¡å·²ç»æäº¤äº†çš„ undo log&lt;/font&gt;ï¼Œåœ¨äº‹åŠ¡æäº¤ä¹‹åï¼Œundo log å¯èƒ½ä¸ç”¨äº†ï¼Œå°±ç”¨å®ƒæ¥å›æ”¶ã€‚&lt;/p&gt;
&lt;h6 id=&#34;page-cleaner-threadè„é¡µåˆ·æ–°çº¿ç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#page-cleaner-threadè„é¡µåˆ·æ–°çº¿ç¨‹&#34;&gt;#&lt;/a&gt; Page Cleaner Threadï¼ˆè„é¡µåˆ·æ–°çº¿ç¨‹ï¼‰&lt;/h6&gt;
&lt;p&gt;ååŠ© Master Thread &lt;font color=&#39;red&#39;&gt;åˆ·æ–°è„é¡µ&lt;/font&gt;åˆ°ç£ç›˜ï¼Œå¯ä»¥å‡è½» Master Thread çš„å·¥ä½œå‹åŠ›ï¼Œå‡å°‘é˜»å¡ã€‚&lt;/p&gt;
&lt;h4 id=&#34;äº‹åŠ¡åŸç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#äº‹åŠ¡åŸç†&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸäº‹åŠ¡åŸç†&lt;/mark&gt;&lt;/h4&gt;
&lt;h5 id=&#34;äº‹åŠ¡åŸºç¡€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#äº‹åŠ¡åŸºç¡€&#34;&gt;#&lt;/a&gt; äº‹åŠ¡åŸºç¡€&lt;/h5&gt;
&lt;p&gt;å…³äºäº‹åŠ¡çš„åŸºç¡€çŸ¥è¯†ï¼Œå…·ä½“å¯è§&lt;a href=&#34;#==MySQL%E4%BA%8B%E5%8A%A1==&#34;&gt; MySQL äº‹åŠ¡&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŸå­æ€§&lt;/strong&gt;ï¼ˆ &lt;code&gt;Atomicity&lt;/code&gt; ï¼‰ï¼šäº‹åŠ¡æ˜¯ä¸å¯åˆ†å‰²çš„æœ€å°æ“ä½œå•å…ƒï¼Œå†…éƒ¨çš„æ‰€æœ‰æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ï¼ˆè¦ä¹ˆå…¨éƒ¨ commit æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ rollbackï¼‰ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸€è‡´æ€§&lt;/strong&gt;ï¼ˆ &lt;code&gt;Consistency&lt;/code&gt; ï¼‰ï¼šäº‹åŠ¡å®Œæˆå‰åï¼Œæ•°æ®åº“å¿…é¡»ä¿æŒä¸€è‡´çŠ¶æ€ï¼Œå³éƒ½æ˜¯åˆç†çš„æ•°æ®çŠ¶æ€ã€‚ä¾‹å¦‚è½¬è´¦ä¸šåŠ¡ä¸­ï¼Œæ— è®ºäº‹åŠ¡æ˜¯å¦æˆåŠŸï¼Œè½¬è´¦è€…å’Œæ”¶æ¬¾äººçš„æ€»é¢åº”è¯¥æ˜¯ä¸å˜çš„ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;éš”ç¦»æ€§&lt;/strong&gt;ï¼ˆ &lt;code&gt;Isolation&lt;/code&gt; ï¼‰ï¼šæ•°æ®åº“æä¾›çš„éš”ç¦»æœºåˆ¶ï¼Œå¯ä»¥ä¿è¯äº‹åŠ¡åœ¨ä¸å—å¤–éƒ¨å¹¶å‘æ“ä½œå½±å“çš„ç‹¬ç«‹ç¯å¢ƒä¸‹è¿è¡Œã€‚å³å¹¶å‘è®¿é—®æ•°æ®åº“æ—¶ï¼Œä¸€ä¸ªäº‹åŠ¡ä¸ä¼šå¹²æ‰°å…¶ä»–äº‹åŠ¡çš„è¿è¡Œï¼Œè¯¥äº‹åŠ¡æ‰€åšçš„ä¿®æ”¹åœ¨æœ€ç»ˆæäº¤å‰ï¼Œå¯¹å…¶ä»–äº‹åŠ¡æ˜¯ä¸å¯è§çš„ã€‚å„å¹¶å‘äº‹åŠ¡ä¹‹é—´ï¼Œæ•°æ®åº“æ˜¯ç‹¬ç«‹çš„ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æŒä¹…æ€§&lt;/strong&gt;ï¼ˆ &lt;code&gt;Durability&lt;/code&gt; ï¼‰ï¼šäº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œå®ƒå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„æ›´æ”¹å°±æ˜¯æŒä¹…çš„ã€‚å³ä½¿æ•°æ®åº“å‘ç”Ÿæ•…éšœï¼Œè¿™ç§æ›´æ”¹ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‚£ä¹ˆå®é™…ä¸Šï¼Œ&lt;font color=&#39;red&#39;&gt;InnoDB å¼•æ“æ˜¯å¦‚ä½•ä¿è¯äº‹åŠ¡çš„å››å¤§ç‰¹æ€§ï¼ˆACIDï¼‰çš„å‘¢ï¼Ÿ&lt;/font&gt;è€Œå¯¹äºè¿™å››å¤§ç‰¹æ€§ï¼Œå®é™…ä¸Šåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸå­æ€§ï¼ˆAï¼‰ã€ä¸€è‡´æ€§ï¼ˆCï¼‰ã€æŒä¹…æ€§ï¼ˆDï¼‰ï¼šç”± InnoDB ä¸­çš„ &lt;font color=&#39;red&#39;&gt;redo log æ—¥å¿—å’Œ undo log æ—¥å¿—&lt;/font&gt;æ¥ä¿è¯&lt;/li&gt;
&lt;li&gt;éš”ç¦»æ€§ï¼ˆIï¼‰ï¼šé€šè¿‡æ•°æ®åº“çš„&lt;font color=&#39;red&#39;&gt;é”å’Œ MVCC&lt;/font&gt;æ¥ä¿è¯çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231125152532382.png&#34; alt=&#34;image-20231125152532382&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;redo-log&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redo-log&#34;&gt;#&lt;/a&gt; redo log&lt;/h5&gt;
&lt;p&gt;redo log æ˜¯é‡åšæ—¥å¿—ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è®°å½•äº‹åŠ¡æäº¤æ—¶æ•°æ®é¡µçš„ç‰©ç†ä¿®æ”¹&lt;/font&gt;&lt;/strong&gt;ã€‚å½“åˆ·æ–°è„é¡µåˆ°ç£ç›˜å‘ç”Ÿé”™è¯¯æ—¶ï¼Œè¿›è¡Œæ•°æ®æ¢å¤ï¼Œç”¨æ¥å®ç°äº‹åŠ¡çš„æŒä¹…æ€§ã€‚ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;redo log buffer&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;åœ¨å†…å­˜ä¸­&lt;/font&gt;çš„ç¼“å†²åŒº&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;redo log file&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;åœ¨ç£ç›˜ä¸­&lt;/font&gt;çš„æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1680016593449-c23ff9d8-4c0f-48d4-9a55-b66b0a922895.jpeg&#34; alt=&#34;14.jpg&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://oss.javaguide.cn/github/javaguide/03.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;b&#39;&gt;å¦‚æœæ²¡æœ‰ redo logï¼Œå¯èƒ½ä¼šå­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿ&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ InnoDB ä¸­çš„å†…å­˜ç»“æ„ä¸­ï¼Œä¸»è¦çš„å†…å­˜åŒºåŸŸå°±æ˜¯ Buffer Poolï¼ˆç¼“å†²æ± ï¼‰ï¼Œåœ¨ç¼“å†²æ± ä¸­ç¼“å­˜äº†å¾ˆå¤šçš„æ•°æ®é¡µã€‚&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ä»¬åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œæ‰§è¡Œå¤šä¸ªå¢åˆ æ”¹çš„æ“ä½œæ—¶ï¼ŒInnoDB ä¼šå…ˆæ“ä½œç¼“å†²æ± ä¸­çš„æ•°æ®ï¼Œå¦‚æœç¼“å†²åŒºæ²¡æœ‰å¯¹åº”çš„æ•°æ®ï¼Œä¼šé€šè¿‡åå°çº¿ç¨‹å°†ç£ç›˜ä¸­çš„æ•°æ®åŠ è½½åˆ°ç¼“å†²åŒºä¸­ï¼Œç„¶åä¿®æ”¹ç¼“å†²æ± ä¸­çš„æ•°æ®ï¼Œä¿®æ”¹åçš„æ•°æ®é¡µæˆ‘ä»¬ç§°ä¸º&lt;font color=&#39;red&#39;&gt;è„é¡µ&lt;/font&gt;ã€‚è€Œè„é¡µåˆ™ä¼šåœ¨ä¸€å®šçš„æ—¶æœºï¼Œé€šè¿‡åå°çº¿ç¨‹åˆ·æ–°åˆ°ç£ç›˜ä¸­ï¼Œä»è€Œä¿è¯ç¼“å†²åŒºä¸ç£ç›˜çš„æ•°æ®ä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;ä½†ç¼“å†²åŒºçš„è„é¡µæ•°æ®å¹¶ä¸æ˜¯å®æ—¶åˆ·æ–°çš„ï¼Œè€Œæ˜¯ä¸€æ®µæ—¶é—´ä¹‹åå°†ç¼“å†²åŒºçš„æ•°æ®åˆ·æ–°åˆ°ç£ç›˜ä¸­ï¼Œ&lt;font color=&#39;red&#39;&gt;å‡å¦‚å°†è„é¡µåˆ·ç›˜çš„è¿‡ç¨‹å‡ºé”™äº†ï¼Œä½†æç¤ºç»™ç”¨æˆ·äº‹åŠ¡æäº¤æˆåŠŸï¼Œè€Œæ•°æ®å´æ²¡æœ‰æŒä¹…åŒ–ä¸‹æ¥ï¼Œè¿™å°±å‡ºç°é—®é¢˜äº†ï¼Œ&lt;strong&gt;æ²¡æœ‰ä¿è¯äº‹åŠ¡çš„æŒä¹…æ€§&lt;/strong&gt;&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231126165158628.png&#34; alt=&#34;image-20231126165158628&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;b&#39;&gt;redo log æ˜¯å¦‚ä½•ç¡®ä¿äº‹åŠ¡çš„æŒä¹…æ€§çš„ï¼Ÿ&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æœ‰äº† redo log ä¹‹åï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å½“å¯¹ç¼“å†²åŒºçš„æ•°æ®è¿›è¡Œå¢åˆ æ”¹ä¹‹åï¼Œä¼šé¦–å…ˆå°†å¯¹ç¼“å†²é¡µçš„å˜åŒ–è®°å½•åœ¨  &lt;code&gt;redo log buffer&lt;/code&gt;  ä¸­&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;åœ¨&lt;u&gt;æ¯æ¬¡&lt;/u&gt;äº‹åŠ¡æäº¤æ—¶ï¼Œä¼šå°†å†…å­˜ä¸­çš„Â  &lt;code&gt;redo log buffer&lt;/code&gt;  çš„æ•°æ®åˆ·æ–°åˆ°ç£ç›˜æ–‡ä»¶Â  &lt;code&gt;redo log file&lt;/code&gt;  ä¸­&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;è¿‡ä¸€æ®µæ—¶é—´ä¹‹åï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¦‚æœåˆ·æ–°ç¼“å†²åŒºçš„è„é¡µåˆ°ç£ç›˜æ—¶å‘ç”Ÿé”™è¯¯ï¼Œæ­¤æ—¶å°±å¯ä»¥å€ŸåŠ©äº redo log è¿›è¡Œæ•°æ®æ¢å¤ï¼Œè¿™æ ·å°±ä¿è¯äº†äº‹åŠ¡çš„æŒä¹…æ€§&lt;/font&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è€Œ&lt;font color=&#39;red&#39;&gt;å¦‚æœè„é¡µæˆåŠŸåˆ·æ–°åˆ°ç£ç›˜ï¼Œæˆ–è€…æ¶‰åŠåˆ°çš„æ•°æ®å·²ç»è½ç›˜ï¼Œæ­¤æ—¶ redo log å°±å¯ä»¥åˆ é™¤äº†ï¼Œæ‰€ä»¥å­˜åœ¨çš„ä¸¤ä¸ª redo log æ–‡ä»¶æ˜¯å¾ªç¯å†™çš„&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231126165234873.png&#34; alt=&#34;image-20231126165234873&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;b&#39;&gt;ä¸ºä»€ä¹ˆæ¯æ¬¡æäº¤äº‹åŠ¡ï¼Œè¦åˆ·æ–° redo log åˆ°ç£ç›˜ä¸­ï¼Œè€Œä¸æ˜¯ç›´æ¥å°† buffer pool ä¸­çš„è„é¡µåˆ·æ–°åˆ°ç£ç›˜å‘¢ï¼Ÿ&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å› ä¸ºåœ¨ä¸šåŠ¡æ“ä½œä¸­ï¼Œæˆ‘ä»¬&lt;font color=&#39;red&#39;&gt;æ“ä½œæ•°æ®ä¸€èˆ¬éƒ½æ˜¯éšæœºè¯»å†™ç£ç›˜çš„&lt;/font&gt;ï¼Œè€Œä¸æ˜¯é¡ºåºè¯»å†™ç£ç›˜ã€‚ è€Œ redo log åœ¨å‘ç£ç›˜æ–‡ä»¶ä¸­å†™å…¥æ•°æ®ï¼Œ&lt;font color=&#39;red&#39;&gt;æ—¥å¿—æ–‡ä»¶éƒ½æ˜¯é¡ºåºå†™çš„&lt;/font&gt;ã€‚&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;é¡ºåºå†™çš„æ•ˆç‡ï¼Œè¦è¿œå¤§äºéšæœºå†™&lt;/font&gt;&lt;/strong&gt;ã€‚è¿™ç§&lt;font color=&#39;red&#39;&gt;å…ˆå†™æ—¥å¿—çš„æ–¹å¼&lt;/font&gt;ï¼Œç§°ä¹‹ä¸º &lt;code&gt;WALï¼ˆWrite-Ahead Loggingï¼‰&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;h5 id=&#34;undo-log&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#undo-log&#34;&gt;#&lt;/a&gt; undo log&lt;/h5&gt;
&lt;p&gt;undo logï¼ˆå›æ»šæ—¥å¿—ï¼‰æ˜¯åœ¨æ‰§è¡Œ DML è¯­å¥çš„æ—¶å€™äº§ç”Ÿçš„ä¾¿äºæ•°æ®å›æ»šçš„æ—¥å¿—ï¼Œç”¨äº&lt;font color=&#39;red&#39;&gt;è®°å½•æ•°æ®è¢«ä¿®æ”¹å‰çš„ä¿¡æ¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ redo log è®°å½•ç‰©ç†æ—¥å¿—ä¸ä¸€æ ·ï¼Œ&lt;font color=&#39;red&#39;&gt;undo log æ˜¯é€»è¾‘æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯é€»è¾‘ç›¸åçš„æ“ä½œä¿¡æ¯&lt;/font&gt;ã€‚å¯ä»¥è®¤ä¸ºå½“ delete ä¸€æ¡è®°å½•æ—¶ï¼Œundo log ä¸­ä¼šè®°å½•ä¸€æ¡å¯¹åº”çš„ insert è®°å½•ï¼›åä¹‹äº¦ç„¶ï¼Œå½“ update ä¸€æ¡è®°å½•æ—¶ï¼Œå®ƒè®°å½•ä¸€æ¡å¯¹åº”ç›¸åçš„ update è®°å½•ã€‚&lt;font color=&#39;red&#39;&gt;å½“æ‰§è¡Œ rollback æ—¶ï¼Œå°±å¯ä»¥ä» undo log ä¸­çš„é€»è¾‘è®°å½•è¯»å–åˆ°ç›¸åº”çš„å†…å®¹å¹¶è¿›è¡Œå›æ»š&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;undo log ä¸»è¦æœ‰ä¸¤ä¸ªä½œç”¨ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æä¾›äº‹åŠ¡å›æ»šï¼ˆä¿è¯äº‹åŠ¡çš„åŸå­æ€§ï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šå½“äº‹åŠ¡å›æ»šæ—¶å°†æ•°æ®æ¢å¤åˆ°ä¿®æ”¹å‰çš„æ ·å­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;MVCCï¼ˆå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šå½“è¯»å–è®°å½•æ—¶ï¼Œè‹¥è¯¥è®°å½•è¢«å…¶ä»–äº‹åŠ¡å ç”¨ï¼Œæˆ–è€…å½“å‰ç‰ˆæœ¬å¯¹è¯¥äº‹åŠ¡ä¸å¯è§ï¼Œåˆ™å¯ä»¥é€šè¿‡ undo log &lt;font color=&#39;red&#39;&gt;è¯»å–ä¹‹å‰çš„ç‰ˆæœ¬æ•°æ®&lt;/font&gt;ï¼Œä»¥æ­¤å®ç°éé”å®šè¯»&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;undo log é”€æ¯ï¼šundo log åœ¨äº‹åŠ¡æ‰§è¡Œæ—¶äº§ç”Ÿï¼Œäº‹åŠ¡æäº¤æ—¶ï¼Œå¹¶ä¸ä¼šç«‹å³åˆ é™¤ undo logï¼Œå› ä¸ºè¿™äº›æ—¥å¿—å¯èƒ½è¿˜ç”¨äº MVCCã€‚&lt;/p&gt;
&lt;p&gt;undo log å­˜å‚¨ï¼šundo log é‡‡ç”¨æ®µçš„æ–¹å¼è¿›è¡Œç®¡ç†å’Œè®°å½•ï¼Œå­˜æ”¾åœ¨å‰é¢ä»‹ç»çš„ rollback segment å›æ»šæ®µä¸­ï¼Œå†…éƒ¨åŒ…å« 1024 ä¸ª undo log segmentã€‚&lt;/p&gt;
&lt;h5 id=&#34;innodb-å¦‚ä½•å®ç°äº‹åŠ¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#innodb-å¦‚ä½•å®ç°äº‹åŠ¡&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸInnoDB å¦‚ä½•å®ç°äº‹åŠ¡&lt;/mark&gt;&lt;/h5&gt;
&lt;p&gt;InnoDB é€šè¿‡ Buffer Poolã€Log Bufferã€Redo Logã€Undo Log æ¥å®ç°äº‹åŠ¡ï¼Œä»¥ä¸€æ¡ update è¯­å¥ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;InnoDB åœ¨æ”¶åˆ°ä¸€æ¡ update è¯­å¥åï¼Œä¼šå…ˆæ ¹æ®æ¡ä»¶æ‰¾åˆ°æ•°æ®æ‰€åœ¨çš„é¡µï¼Œå¹¶å°†è¯¥é¡µç¼“å­˜åœ¨  &lt;code&gt;Buffer Pool&lt;/code&gt;  ä¸­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é’ˆå¯¹ update è¯­å¥ç”Ÿæˆ  &lt;code&gt;Undo Log&lt;/code&gt;  æ—¥å¿—ï¼Œç”¨äºåç»­äº‹åŠ¡å›æ»š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;æ‰§è¡Œå™¨&lt;/code&gt; æ‰§è¡Œ update è¯­å¥ï¼Œä¿®æ”¹ Buffer Pool ä¸­çš„æ•°æ®ï¼Œå³å†…å­˜ä¸­çš„æ•°æ®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é’ˆå¯¹ update è¯­å¥ç”Ÿæˆä¸€ä¸ª  &lt;code&gt;Redo Log&lt;/code&gt;  å¯¹è±¡ï¼Œå¹¶å†™å…¥  &lt;code&gt;Log Buffer&lt;/code&gt;  ä¸­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœäº‹åŠ¡æäº¤ï¼Œé‚£ä¹ˆå°† Log Buffer ä¸­çš„ Redo Log å¯¹è±¡æŒä¹…åŒ–åˆ°ç£ç›˜ä¸­çš„  &lt;code&gt;Redo Log File&lt;/code&gt;  ä¸­&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åç»­è¿˜æœ‰å…¶ä»–æœºåˆ¶å°† Buffer Pool ä¸­æ‰€ä¿®æ”¹çš„æ•°æ®é¡µæŒä¹…åŒ–åˆ°ç£ç›˜ä¸­ï¼ˆè„é¡µåˆ·ç›˜ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœäº‹åŠ¡å›æ»šï¼Œåˆ™åˆ©ç”¨ Undo Log æ—¥å¿—è¿›è¡Œå›æ»š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1680016593449-c23ff9d8-4c0f-48d4-9a55-b66b0a922895.jpeg&#34; alt=&#34;14.jpg&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;å¯¹-mvcc-çš„å®ç°æ–¹å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¯¹-mvcc-çš„å®ç°æ–¹å¼&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸå¯¹ MVCC çš„å®ç°æ–¹å¼&lt;/mark&gt;&lt;/h4&gt;
&lt;h5 id=&#34;innodb-ä¸ºä»€ä¹ˆè¦é‡‡ç”¨-mvccå¿«ç…§è¯»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#innodb-ä¸ºä»€ä¹ˆè¦é‡‡ç”¨-mvccå¿«ç…§è¯»&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸInnoDB ä¸ºä»€ä¹ˆè¦é‡‡ç”¨ MVCC å¿«ç…§è¯» ï¼Ÿ&lt;/mark&gt;&lt;/h5&gt;
&lt;p&gt;è¿™æ˜¯å› ä¸ºä¸€ä¸ªäº‹åŠ¡çš„æ“ä½œæœ‰å¯èƒ½æˆåŠŸ commitï¼Œä¹Ÿæœ‰å¯èƒ½å¤±è´¥ rollbackã€‚åœ¨ä¸€ä¸ªäº‹åŠ¡ commit ä¹‹å‰ï¼Œè¢«å…¶ä»–äº‹åŠ¡è¯»åˆ°è¿˜æ²¡æäº¤çš„å˜æ›´è®°å½•ï¼Œä¼šäº§ç”Ÿæ•°æ®ä¸ä¸€æ ·çš„ç°è±¡ï¼ˆ&lt;font color=&#39;red&#39;&gt;è„è¯»&lt;/font&gt;ï¼‰ï¼Œè¿™ç§æƒ…å†µå°±æ˜¯ InnoDB æœ€ä½çš„éš”ç¦»çº§åˆ« READ UNCOMMITTEDï¼Œå¯ä»¥è¯»åˆ°æ²¡æœ‰ commit çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;é‚£ä¹ˆå¦‚æœæƒ³è¦ä¸äº§ç”Ÿè„è¯»ï¼Œå®¹æ˜“æƒ³åˆ°çš„æ˜¯é‡‡ç”¨é”çš„æ–¹å¼&lt;/font&gt;ï¼Œå½“ä¸€ä¸ªäº‹åŠ¡æ›´æ”¹æŸè¡Œè®°å½•ï¼Œå°±åŠ ä¸Šé”ï¼Œå…¶ä»–å¹¶å‘äº‹åŠ¡ç­‰å¾…è¯¥äº‹åŠ¡æ‰§è¡Œå®Œæ¯•æ‰èƒ½è¯»å–åˆ°è¯¥è¡Œè®°å½•ã€‚ä½†æ˜¯è¿™æ ·åšçš„è¯ **&lt;font color=&#39;red&#39;&gt;ä¼šäº§ç”Ÿå¤§é‡çš„é”å ç”¨ä¸ç­‰å¾…ï¼Œæ•ˆç‡æ˜¯éå¸¸ä½ä¸‹çš„ï¼Œå› æ­¤ InnoDB é‡‡ç”¨äº† MVCC çš„æ–¹å¼&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•çš„è¯´ï¼Œåœ¨ RU éš”ç¦»çº§åˆ«ä¸‹ï¼Œè‹¥ A äº‹åŠ¡å˜æ›´æŸè¡Œè®°å½•ï¼ŒInnoDB ä¼šäº§ç”Ÿå¯¹åº”çš„ undo logï¼Œå¦‚æœæ¥ä¸‹æ¥ A äº‹åŠ¡è¿›è¡Œå›æ»šï¼ŒInnoDB å¯ä»¥æ ¹æ® undo log å°†è®°å½•å›æ»šåˆ°äº‹åŠ¡å¼€å§‹ä¹‹å‰çš„çŠ¶æ€ã€‚åœ¨ A äº‹åŠ¡æ²¡æœ‰ç»“æŸæ—¶ï¼Œå¦‚æœ B äº‹åŠ¡æ¥æŸ¥è¯¢è¯¥è¡Œè®°å½•ï¼ŒB äº‹åŠ¡ä¼šæ ¹æ® A äº‹åŠ¡å˜æ›´åçš„è®°å½•å€¼ï¼ˆåœ¨å†…å­˜ä¸­ï¼‰åŠ ä¸Š undo log â€œè®¡ç®—â€ å‡º A äº‹åŠ¡å¼€å§‹å‰çš„è¯¥è¡Œè®°å½•å€¼ï¼Œä»è€Œè¯»å–åˆ°è¯¥è¡Œè®°å½•çš„ä¸€ä¸ªå¿«ç…§ï¼Œå…¶ä¸­&lt;font color=&#39;red&#39;&gt;å¹¶ä¸ä¼šäº§ç”Ÿé”ä¸ç­‰å¾…&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯ RR çš„éš”ç¦»çº§åˆ«ï¼ˆé»˜è®¤éš”ç¦»çº§åˆ«ï¼‰ï¼ŒB äº‹åŠ¡è¿›è¡Œè¿‡ç¨‹ä¸­çœ‹åˆ°çš„å§‹ç»ˆä¼šæ˜¯ B äº‹åŠ¡å¼€å§‹å‰çš„è®°å½•è¡Œå¿«ç…§ä¿¡æ¯ï¼Œä¸ç®¡ B äº‹åŠ¡è¿›è¡Œè¿‡ç¨‹ä¸­ A äº‹åŠ¡æœ‰æ²¡æœ‰å®Œæˆï¼›&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯ RC çš„éš”ç¦»çº§åˆ«ï¼ŒB äº‹åŠ¡è¿›è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥çœ‹åˆ° A äº‹åŠ¡æäº¤å¯¹è®°å½•è¡Œä¿®æ”¹å€¼ï¼ˆå³å¦‚æœ A äº‹åŠ¡æ²¡æœ‰å®Œæˆï¼ŒB æŸ¥è¯¢åˆ°çš„æ˜¯ A äº‹åŠ¡å¼€å§‹å‰çš„è®°å½•å€¼ï¼Œå¦‚æœ A äº‹åŠ¡å®Œæˆäº†ï¼ŒB äº‹åŠ¡æŸ¥è¯¢åˆ°çš„æ˜¯ A äº‹åŠ¡å®Œæˆåçš„è®°å½•å€¼ï¼‰ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ä¼šäº§ç”Ÿä¸å¯é‡å¤è¯»çš„ç°è±¡ï¼Œå³åŒä¸€æ¬¡äº‹åŠ¡ä¸­å¤šæ¬¡æŸ¥è¯¢çœ‹åˆ°çš„ç»“æœä¼šä¸ä¸€æ ·ã€‚&lt;/p&gt;
&lt;h5 id=&#34;åŸºæœ¬æ¦‚å¿µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸºæœ¬æ¦‚å¿µ&#34;&gt;#&lt;/a&gt; åŸºæœ¬æ¦‚å¿µ&lt;/h5&gt;
&lt;h6 id=&#34;å¿«ç…§è¯»ä¸€è‡´æ€§uéé”å®šè¯»u&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¿«ç…§è¯»ä¸€è‡´æ€§uéé”å®šè¯»u&#34;&gt;#&lt;/a&gt; å¿«ç…§è¯»ï¼ˆä¸€è‡´æ€§&lt;u&gt;éé”å®šè¯»&lt;/u&gt;ï¼‰&lt;/h6&gt;
&lt;p&gt;å°±æ˜¯&lt;font color=&#39;red&#39;&gt;ç®€å•çš„  &lt;code&gt;SELECT&lt;/code&gt;  è¯­å¥ï¼ˆä¸åŠ é”ï¼‰&lt;/font&gt;ï¼Œæ˜¯éé˜»å¡è¯»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¿«ç…§å³è®°å½•çš„å†å²ç‰ˆæœ¬&lt;/font&gt;ï¼Œæ¯è¡Œè®°å½•å¯èƒ½å­˜åœ¨å¤šä¸ªå†å²ç‰ˆæœ¬ï¼ˆå¤šç‰ˆæœ¬æŠ€æœ¯ï¼‰ï¼Œè¯»å–çš„æ˜¯è®°å½•æ•°æ®çš„å¯è§ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;å¿«ç…§è¯»çš„æƒ…å†µä¸‹ï¼Œå¦‚æœè¯»å–çš„è®°å½•æ­£åœ¨æ‰§è¡Œ UPDATE/DELETE æ“ä½œï¼Œ&lt;font color=&#39;red&#39;&gt;è¯»å–æ“ä½œä¸ä¼šå› æ­¤å»ç­‰å¾…è®°å½•ä¸Š X é”çš„é‡Šæ”¾ï¼Œè€Œæ˜¯ä¼šå»è¯»å–è¡Œçš„ä¸€ä¸ªå¿«ç…§ï¼ˆå†å²æ•°æ®ï¼‰&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åªæœ‰åœ¨äº‹åŠ¡éš”ç¦»çº§åˆ« RC (è¯»å–å·²æäº¤) å’Œ RRï¼ˆå¯é‡è¯»ï¼‰ä¸‹ï¼ŒInnoDB æ‰ä¼šä½¿ç”¨å¿«ç…§è¯»ï¼ˆä¸€è‡´æ€§éé”å®šè¯»ï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;åœ¨ RC çº§åˆ«ä¸‹&lt;/font&gt;ï¼Œå¿«ç…§è¯»æ€»æ˜¯&lt;font color=&#39;red&#39;&gt;è¯»å–è¢«é”å®šè¡Œçš„æœ€æ–°ä¸€ä»½å¿«ç…§æ•°æ®&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;åœ¨ RR çº§åˆ«ä¸‹&lt;/font&gt;ï¼Œå¿«ç…§è¯»æ€»æ˜¯ **&lt;font color=&#39;red&#39;&gt;è¯»å–æœ¬äº‹åŠ¡å¼€å§‹æ—¶çš„è¡Œæ•°æ®ç‰ˆæœ¬ï¼ˆå¿«ç…§ï¼‰&lt;/font&gt;**ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;åœ¨ SERIALIZABLE çº§åˆ«ä¸‹&lt;/font&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;å¿«ç…§è¯»é€€åŒ–æˆå½“å‰è¯»&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¿«ç…§è¯»æ¯”è¾ƒ&lt;font color=&#39;red&#39;&gt;é€‚åˆå¯¹æ•°æ®ä¸€è‡´æ€§è¦æ±‚ä¸æ˜¯ç‰¹åˆ«é«˜ï¼Œä¸”è¿½æ±‚æè‡´æ€§èƒ½çš„ä¸šåŠ¡åœºæ™¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;å¯¹äºå¿«ç…§è¯»çš„å®ç°ï¼Œé€šå¸¸åšæ³•æ˜¯åŠ ä¸€ä¸ª **&lt;font color=&#39;red&#39;&gt;ç‰ˆæœ¬å·æˆ–è€…æ—¶é—´æˆ³å­—æ®µ&lt;/font&gt;**ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ›´æ–°æ•°æ®æ—¶ï¼Œ&lt;font color=&#39;red&#39;&gt;ç‰ˆæœ¬å· + 1 æˆ–è€…æ›´æ–°æ—¶é—´æˆ³&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æŸ¥è¯¢æ•°æ®æ—¶ï¼Œå°†å½“å‰å¯è§çš„ç‰ˆæœ¬å·ä¸å¯¹åº”è®°å½•çš„ç‰ˆæœ¬å·è¿›è¡Œæ¯”å¯¹ï¼Œ&lt;font color=&#39;red&#39;&gt;å¦‚æœè®°å½•çš„ç‰ˆæœ¬å°äºå¯è§ç‰ˆæœ¬ï¼Œåˆ™è¡¨ç¤ºè¯¥è®°å½•å¯è§&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ InnoDB ä¸­ï¼Œ&lt;font color=&#39;cornflowerblue&#39;&gt;å¤šç‰ˆæœ¬æ§åˆ¶ï¼ˆmulti versioningï¼‰&lt;/font&gt;å°±æ˜¯å¯¹å¿«ç…§è¯»çš„å®ç°ã€‚å¦‚æœè¯»å–çš„è¡Œæ­£åœ¨æ‰§è¡Œ  &lt;code&gt;DELETE&lt;/code&gt;  æˆ–  &lt;code&gt;UPDATE&lt;/code&gt;  æ“ä½œï¼Œè¿™æ—¶è¯»å–æ“ä½œä¸ä¼šå»ç­‰å¾…è¡Œä¸Š X é”çš„é‡Šæ”¾ã€‚ç›¸ååœ°ï¼ŒInnoDB ä¼šå»è¯»å–è¡Œçš„ä¸€ä¸ªå¿«ç…§æ•°æ®ï¼Œå¯¹äºè¿™ç§è¯»å–å†å²æ•°æ®çš„æ–¹å¼ï¼Œæˆ‘ä»¬å«å®ƒå¿«ç…§è¯»ï¼ˆsnapshot readï¼‰ã€‚&lt;/p&gt;
&lt;h6 id=&#34;å½“å‰è¯»ä¸€è‡´æ€§ué”å®šè¯»u&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å½“å‰è¯»ä¸€è‡´æ€§ué”å®šè¯»u&#34;&gt;#&lt;/a&gt; å½“å‰è¯»ï¼ˆä¸€è‡´æ€§&lt;u&gt;é”å®šè¯»&lt;/u&gt;ï¼‰&lt;/h6&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;è¯»å–è¡Œè®°å½•æ—¶ä¼šæ·»åŠ  X é”æˆ– S é”&lt;/font&gt;ï¼Œä»¥é˜²å…¶ä»–å¹¶å‘äº‹åŠ¡ä¿®æ”¹å½“å‰è®°å½•ï¼Œå› æ­¤ **&lt;font color=&#39;red&#39;&gt;è¯»å–çš„æ˜¯è®°å½•çš„æœ€æ–°ç‰ˆæœ¬&lt;/font&gt;**ï¼Œæ˜¯æ‚²è§‚é”çš„ä¸€ç§æ“ä½œã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;select ... lock in share mode&lt;/code&gt; ï¼šå¯¹è®°å½•åŠ   &lt;code&gt;S&lt;/code&gt;  é”ï¼Œå…¶å®ƒäº‹åŠ¡ä¹Ÿå¯ä»¥åŠ   &lt;code&gt;S&lt;/code&gt;  é”ï¼Œä½†å¦‚æœåŠ   &lt;code&gt;X&lt;/code&gt;  é”åˆ™ä¼šè¢«é˜»å¡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;select ... for update&lt;/code&gt; ã€ &lt;code&gt;insert&lt;/code&gt; ã€ &lt;code&gt;update&lt;/code&gt; ã€ &lt;code&gt;delete&lt;/code&gt; ï¼šå¯¹è®°å½•åŠ   &lt;code&gt;X&lt;/code&gt;  é”ï¼Œä¸”å…¶å®ƒäº‹åŠ¡ä¸èƒ½åŠ ä»»ä½•é”&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å½“å‰è¯»çš„ä¸€äº›å¸¸è§ SQL è¯­å¥ç±»å‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;select ... for update&lt;/code&gt;  ä»…é€‚ç”¨äº InnoDBï¼Œä¸”å¿…é¡»åœ¨äº‹åŠ¡å— (BEGIN/COMMIT) ä¸­æ‰èƒ½ç”Ÿæ•ˆã€‚åœ¨è¿›è¡Œäº‹åŠ¡æ“ä½œæ—¶ï¼Œé€šè¿‡ for update è¯­å¥ï¼ŒMySQL ä¼šå¯¹æŸ¥è¯¢ç»“æœé›†ä¸­æ¯è¡Œæ•°æ®éƒ½æ·»åŠ  **&lt;font color=&#39;#B32015&#39;&gt;æ’ä»–é”&lt;/font&gt;**ï¼Œ&lt;font color=&#39;red&#39;&gt;å…¶ä»–çº¿ç¨‹å¯¹è¯¥è®°å½•çš„æ›´æ–°ä¸åˆ é™¤æ“ä½œéƒ½ä¼šé˜»å¡&lt;/font&gt;ã€‚æ’ä»–é”åŒ…å«è¡Œé”ã€è¡¨é”ã€‚&lt;/p&gt;
&lt;p&gt;InnoDB è¡Œé”æ˜¯é€šè¿‡ç»™ç´¢å¼•ä¸Šçš„ç´¢å¼•é¡¹åŠ é”æ¥å®ç°çš„ï¼Œåªæœ‰é€šè¿‡ç´¢å¼•æ¡ä»¶æ£€ç´¢æ•°æ®ï¼ŒInnoDB æ‰ä½¿ç”¨è¡Œçº§é”ï¼Œå¦åˆ™ï¼ŒInnoDB å°†ä½¿ç”¨è¡¨é”ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;select ... for share&lt;/code&gt; ï¼šæˆ‘é€‰æ‹©ä¸€äº›è®°å½•ï¼Œè¿™äº›è®°å½•å¯ä»¥ shareï¼Œ&lt;font color=&#39;red&#39;&gt;å…¶ä»–äº‹åŠ¡ä¹Ÿå¯ä»¥è¯»&lt;/font&gt;ï¼Œä½†æ˜¯å¦‚æœä½ è¦ä¿®æ”¹ï¼Œä¸å¥½æ„æ€ï¼Œæˆ‘åŠ äº†ä¸€ä¸ª s é”ï¼Œä½ æ˜¯&lt;font color=&#39;red&#39;&gt;ä¸å¯ä»¥ä¿®æ”¹&lt;/font&gt;çš„ã€‚è¿™ä¸ªè¯­å¥çš„åº”ç”¨åœºæ™¯ä¹‹ä¸€æ˜¯ **&lt;font color=&#39;red&#39;&gt;ç”¨æ¥è¯»å–åˆ°æœ€æ–°çš„æ•°æ®&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;select ... for update&lt;/code&gt; ï¼šæˆ‘é€‰æ‹©ä¸€äº›è®°å½•ï¼Œè¿™äº› select çš„è®°å½•æ˜¯æˆ‘ä¸‹ä¸€æ­¥è¦ update çš„ï¼Œä½ è¦è¯»æˆ–è€…ä¿®æ”¹è¿™äº›è®°å½•ï¼Œä¸å¥½æ„æ€ï¼Œæˆ‘åŠ çš„æ˜¯ x é”ï¼Œä½ &lt;font color=&#39;red&#39;&gt;è¯»ä¸äº†ä¹Ÿæ”¹ä¸äº†&lt;/font&gt;ã€‚åªæœ‰æˆ‘å½“å‰äº‹åŠ¡æäº¤äº†ï¼Œè¿™äº›è®°å½•ä½ æ‰å¯ä»¥è¯»åˆ°æˆ–è€…ä¿®æ”¹ã€‚è¿™ä¸ªè¯­å¥çš„åº”ç”¨åœºæ™¯ä¹‹ä¸€æ˜¯ **&lt;font color=&#39;red&#39;&gt;ä¸ºäº†é˜²æ­¢æ›´æ–°ä¸¢å¤±&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å¯¹è¯»çš„è®°å½•åŠ ä¸€ä¸ª S é”ï¼ˆMySQL 5.7 å’Œ MySQL 8.0ï¼‰&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;LOCK&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;IN&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;SHARE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;MODE&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å¯¹è¯»çš„è®°å½•åŠ ä¸€ä¸ª S é”ï¼ˆMySQL 8.0ï¼‰&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;FOR&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;SHARE&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å¯¹è¯»çš„è®°å½•åŠ ä¸€ä¸ª X é”&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;FOR&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;UPDATE&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å¯¹ä¿®æ”¹çš„è®°å½•åŠ ä¸€ä¸ª X é”&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;INSERT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;UPDATE&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;DELETE&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;hr /&gt;
&lt;p&gt;åœ¨å¿«ç…§è¯»ä¸‹ï¼Œå³æ—¶è¯»å–çš„è®°å½•å·²è¢«å…¶å®ƒäº‹åŠ¡åŠ ä¸Š  &lt;code&gt;X&lt;/code&gt;  é”ï¼Œè¿™æ—¶è®°å½•ä¹Ÿæ˜¯å¯ä»¥è¢«è¯»å–çš„ï¼Œå³è¯»å–çš„å¿«ç…§æ•°æ®ã€‚ä¸Šé¢è¯´äº†ï¼Œåœ¨ RR éš”ç¦»çº§åˆ«ä¸‹ MVCC é˜²æ­¢äº†éƒ¨åˆ†å¹»è¯»ã€‚è¿™é‡Œçš„ â€œéƒ¨åˆ†â€ æ˜¯æŒ‡åœ¨ &lt;code&gt;å¿«ç…§è¯»&lt;/code&gt; æƒ…å†µä¸‹ï¼Œåªèƒ½è¯»å–åˆ°ç¬¬ä¸€æ¬¡æŸ¥è¯¢ä¹‹å‰æ‰€æ’å…¥çš„æ•°æ®ï¼ˆæ ¹æ® Read View åˆ¤æ–­æ•°æ®å¯è§æ€§ï¼ŒRead View åœ¨ç¬¬ä¸€æ¬¡æŸ¥è¯¢æ—¶ç”Ÿæˆï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼&lt;font color=&#39;red&#39;&gt;å¦‚æœæ˜¯ &lt;code&gt;å½“å‰è¯»&lt;/code&gt; ï¼Œæ¯æ¬¡è¯»å–çš„éƒ½æ˜¯æœ€æ–°æ•°æ®ï¼Œè¿™æ—¶å¦‚æœä¸¤æ¬¡æŸ¥è¯¢ä¸­é—´æœ‰å…¶å®ƒäº‹åŠ¡æ’å…¥æ•°æ®ï¼Œå°±ä¼šäº§ç”Ÿå¹»è¯»&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œ&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;InnoDB åœ¨å®ç° RR éš”ç¦»çº§åˆ«æ—¶ï¼Œå¦‚æœæ‰§è¡Œçš„æ˜¯ &lt;code&gt;å½“å‰è¯»&lt;/code&gt; ï¼Œåˆ™ä¼šå¯¹è¯»å–çš„è®°å½•ä½¿ç”¨  &lt;code&gt;ä¸´é”®é”ï¼ˆNext-key Lockï¼‰&lt;/code&gt; ï¼Œæ¥é˜²æ­¢å…¶å®ƒå¹¶å‘äº‹åŠ¡åœ¨é—´éš™é—´æ’å…¥æ•°æ®&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231127104552414.png&#34; alt=&#34;image-20231127104552414&#34; /&gt;&lt;/p&gt;
&lt;p&gt;åœ¨æµ‹è¯•ä¸­ï¼Œå³ä½¿æ˜¯åœ¨é»˜è®¤çš„ RR éš”ç¦»çº§åˆ«ä¸‹ï¼Œäº‹åŠ¡ A ä¸­ä¾ç„¶å¯ä»¥è¯»å–åˆ°äº‹åŠ¡ B æœ€æ–°æäº¤çš„å†…å®¹ï¼Œå› ä¸ºåœ¨æŸ¥è¯¢è¯­å¥åé¢åŠ ä¸Šäº†  &lt;code&gt;lock in share mode&lt;/code&gt;  å…±äº«é”ï¼Œæ­¤æ—¶æ˜¯å½“å‰è¯»æ“ä½œã€‚å½“ç„¶ï¼Œå½“æˆ‘ä»¬åŠ æ’ä»–é”çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯å½“å‰è¯»æ“ä½œã€‚&lt;/p&gt;
&lt;h6 id=&#34;mvccå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mvccå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶&#34;&gt;#&lt;/a&gt; MVCCï¼ˆå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼‰&lt;/h6&gt;
&lt;p&gt;MVCC çš„å…¨ç§°æ˜¯  &lt;code&gt;Multi-Version Concurrency Control&lt;/code&gt; ï¼Œæ˜¯ä¸€ç§å¹¶å‘æ§åˆ¶æœºåˆ¶ï¼Œç”¨äºåœ¨å¤šä¸ªå¹¶å‘äº‹åŠ¡åŒæ—¶è¯»å†™æ•°æ®åº“æ—¶ä¿æŒæ•°æ®çš„ä¸€è‡´æ€§å’Œéš”ç¦»æ€§ã€‚&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;MVCC åœ¨æ¯ä¸ªæ•°æ®è¡Œä¸Šç»´æŠ¤å¤šä¸ªç‰ˆæœ¬çš„æ•°æ®ï¼Œå½¢æˆä¸€æ¡ç”± undo log ç»„æˆçš„ç‰ˆæœ¬é“¾&lt;/font&gt;&lt;/strong&gt;ï¼Œä½¿å¾—è¯»å†™æ“ä½œæ²¡æœ‰å†²çªã€‚&lt;/p&gt;
&lt;p&gt;MVCC è§£å†³çš„é—®é¢˜ï¼š&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;è¯» â€” å†™å†²çªçš„æ— é”å¹¶å‘æ§åˆ¶&lt;/font&gt;&lt;/strong&gt;ã€‚ä¸ºäº‹åŠ¡åˆ†é…å•å‘å¢é•¿çš„æ—¶é—´æˆ³ï¼Œä¸ºæ¯ä¸ªæ•°æ®ä¿®æ”¹ä¿å­˜ä¸€ä¸ªç‰ˆæœ¬ï¼ˆä¸äº‹åŠ¡æ—¶é—´æˆ³ç›¸å…³è”ï¼‰ã€‚è¯»æ“ä½œåªè¯»å–è¯¥äº‹åŠ¡å¼€å§‹å‰çš„æ•°æ®åº“å¿«ç…§ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;èƒ½è§£å†³å¹¶å‘è¯» - å†™é—®é¢˜&lt;/font&gt;ï¼šå¯ä»¥åšåˆ°è¯»æ“ä½œä¸é˜»å¡å†™æ“ä½œï¼ŒåŒæ—¶å†™æ“ä½œä¹Ÿä¸ä¼šé˜»å¡è¯»æ“ä½œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;èƒ½è§£å†³è„è¯»ã€å¹»è¯»ã€ä¸å¯é‡å¤è¯»&lt;/font&gt;ç­‰ä¸€è‡´æ€§é—®é¢˜ï¼Œä½†&lt;font color=&#39;red&#39;&gt;ä¸èƒ½è§£å†³å†™ - å†™ä¸­çš„ä¿®æ”¹ä¸¢å¤±é—®é¢˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;1ã€è¯»æ“ä½œï¼ˆSELECTï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;å½“ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œè¯»æ“ä½œæ—¶ï¼Œå®ƒä¼šä½¿ç”¨&lt;font color=&#39;red&#39;&gt;å¿«ç…§è¯»å–&lt;/font&gt;ã€‚&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;åœ¨ InnoDB é»˜è®¤çš„ RR éš”ç¦»çº§åˆ«ä¸‹ï¼Œå¿«ç…§è¯»å–æ˜¯åŸºäºäº‹åŠ¡å¼€å§‹æ—¶æ•°æ®åº“ä¸­çš„çŠ¶æ€åˆ›å»ºçš„&lt;/font&gt;&lt;/strong&gt;ï¼Œå› æ­¤äº‹åŠ¡ä¸ä¼šè¯»å–åˆ°å…¶ä»–äº‹åŠ¡å°šæœªæäº¤çš„ä¿®æ”¹ã€‚å…·ä½“å·¥ä½œæƒ…å†µå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ RR çº§åˆ«ä¸‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äºè¯»å–æ“ä½œï¼Œäº‹åŠ¡ä¼šæŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„æ•°æ®è¡Œï¼Œå¹¶é€‰æ‹©ç¬¦åˆäº‹åŠ¡å¼€å§‹æ—¶é—´çš„æ•°æ®ç‰ˆæœ¬è¿›è¡Œè¯»å–ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæŸä¸ªæ•°æ®è¡Œæœ‰å¤šä¸ªç‰ˆæœ¬ï¼Œäº‹åŠ¡ä¼š&lt;font color=&#39;red&#39;&gt;é€‰æ‹©ä¸æ™šäºäº‹åŠ¡å¼€å§‹æ—¶é—´çš„æœ€æ–°ç‰ˆæœ¬&lt;/font&gt;ï¼Œç¡®ä¿äº‹åŠ¡åªè¯»å–åœ¨å®ƒå¼€å§‹ä¹‹å‰å·²ç»å­˜åœ¨çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;äº‹åŠ¡è¯»å–çš„æ˜¯å¿«ç…§æ•°æ®ï¼Œå› æ­¤å…¶ä»–å¹¶å‘äº‹åŠ¡å¯¹æ•°æ®è¡Œçš„ä¿®æ”¹ä¸ä¼šå½±å“å½“å‰äº‹åŠ¡çš„è¯»å–æ“ä½œï¼Œå½“å‰äº‹åŠ¡å¯¹å¿«ç…§æ•°æ®çš„ä¿®æ”¹ä¹Ÿä¸ä¼šå½±å“å®é™…çš„æ•°æ®è¡Œ&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2ã€å†™æ“ä½œï¼ˆINSERTã€UPDATEã€DELETEï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å½“ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œå†™æ“ä½œæ—¶ï¼Œå®ƒä¼šä¸ºè¦ä¿®æ”¹çš„æ•°æ®è¡Œåˆ›å»ºä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ï¼ˆå¿«ç…§æ•°æ®ï¼‰ï¼Œå¯¹å…¶ä¿®æ”¹åå†å†™å…¥æ•°æ®åº“&lt;/font&gt;&lt;/strong&gt;ã€‚å…·ä½“å·¥ä½œæƒ…å†µå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äºå†™æ“ä½œï¼Œäº‹åŠ¡ä¼šä¸ºè¦ä¿®æ”¹çš„æ•°æ®è¡Œåˆ›å»ºä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ï¼Œå¹¶å°†ä¿®æ”¹åçš„æ•°æ®å†™å…¥æ–°ç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;æ–°ç‰ˆæœ¬çš„æ•°æ®ä¼šå¸¦æœ‰å½“å‰äº‹åŠ¡çš„ç‰ˆæœ¬å·&lt;/font&gt;ï¼Œä»¥ä¾¿å…¶ä»–äº‹åŠ¡èƒ½å¤Ÿæ­£ç¡®è¯»å–ç›¸åº”ç‰ˆæœ¬çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;åŸå§‹ç‰ˆæœ¬çš„æ•°æ®ä»ç„¶å­˜åœ¨ï¼Œä¾›å…¶ä»–äº‹åŠ¡ä½¿ç”¨å¿«ç…§è¯»å–ï¼Œè¿™ä¿è¯äº†å…¶ä»–äº‹åŠ¡ä¸å—å½“å‰äº‹åŠ¡çš„å†™æ“ä½œå½±å“&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;3ã€äº‹åŠ¡çš„æäº¤å’Œå›æ»šï¼ˆCOMMITã€ROLLBACKï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“ä¸€ä¸ªäº‹åŠ¡æäº¤æ—¶ï¼Œå®ƒæ‰€åšçš„ä¿®æ”¹å°†æˆä¸ºæ•°æ®åº“çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶ä¸”å¯¹å…¶ä»–äº‹åŠ¡å¯è§ã€‚&lt;/li&gt;
&lt;li&gt;å½“ä¸€ä¸ªäº‹åŠ¡å›æ»šæ—¶ï¼Œå®ƒæ‰€åšçš„ä¿®æ”¹å°†è¢«æ’¤é”€ï¼Œå¯¹å…¶ä»–äº‹åŠ¡ä¸å¯è§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;4ã€ç‰ˆæœ¬çš„å›æ”¶ï¼š&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ä¸ºäº†é˜²æ­¢æ•°æ®åº“ä¸­çš„ç‰ˆæœ¬æ— é™å¢é•¿ï¼ŒMVCC ä¼šå®šæœŸè¿›è¡Œç‰ˆæœ¬çš„å›æ”¶ã€‚å›æ”¶æœºåˆ¶ä¼šåˆ é™¤å·²ç»ä¸å†éœ€è¦çš„æ—§ç‰ˆæœ¬æ•°æ®ï¼Œä»è€Œé‡Šæ”¾ç©ºé—´&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;MVCC é€šè¿‡&lt;u&gt;åˆ›å»ºæ•°æ®çš„å¤šä¸ªç‰ˆæœ¬&lt;/u&gt;å’Œä½¿ç”¨&lt;u&gt;å¿«ç…§è¯»å–&lt;/u&gt;æ¥å®ç°å¹¶å‘æ§åˆ¶&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;font color=&#39;red&#39;&gt;è¯»æ“ä½œä½¿ç”¨æ—§ç‰ˆæœ¬æ•°æ®çš„å¿«ç…§ï¼Œå†™æ“ä½œåˆ›å»ºæ–°ç‰ˆæœ¬ï¼Œå¹¶ç¡®ä¿åŸå§‹ç‰ˆæœ¬ä»ç„¶å¯ç”¨&lt;/font&gt;ã€‚è¿™æ ·ï¼Œä¸åŒçš„äº‹åŠ¡å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¹¶å‘æ‰§è¡Œï¼Œè€Œä¸ä¼šç›¸äº’å¹²æ‰°ï¼Œä»è€Œæé«˜äº†æ•°æ®åº“çš„å¹¶å‘æ€§èƒ½å’Œæ•°æ®ä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;h5 id=&#34;innodb-å¯¹-mvcc-çš„å®ç°æ–¹å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#innodb-å¯¹-mvcc-çš„å®ç°æ–¹å¼&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸInnoDB å¯¹ MVCC çš„å®ç°æ–¹å¼&lt;/mark&gt;&lt;/h5&gt;
&lt;p&gt;InnoDB å¯¹ MVCC çš„å…·ä½“å®ç°ä¾èµ–äºï¼š&lt;strong&gt;éšè—å­—æ®µã€ReadViewã€undo log&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨å†…éƒ¨å®ç°ä¸­ï¼ŒInnoDB é€šè¿‡æ•°æ®è¡Œçš„  &lt;code&gt;DB_TRX_ID&lt;/code&gt;  å’Œ  &lt;code&gt;ReadView&lt;/code&gt;  æ¥åˆ¤æ–­æ•°æ®çš„å¯è§æ€§ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚ä¸å¯è§ï¼Œåˆ™é€šè¿‡æ•°æ®è¡Œçš„  &lt;code&gt;DB_ROLL_PTR&lt;/code&gt;  æ‰¾åˆ°  &lt;code&gt;undo log&lt;/code&gt;  ä¸­çš„å†å²ç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªäº‹åŠ¡è¯»åˆ°çš„æ•°æ®ç‰ˆæœ¬å¯èƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œåœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œç”¨æˆ·åªèƒ½çœ‹åˆ°è¯¥äº‹åŠ¡åˆ›å»º  &lt;code&gt;ReadView&lt;/code&gt;  ä¹‹å‰å·²ç»æäº¤çš„ä¿®æ”¹å’Œè¯¥äº‹åŠ¡æœ¬èº«åšçš„ä¿®æ”¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™é‡Œçœ‹ä¸æ‡‚æ²¡å…³ç³»ï¼Œå…ˆçœ‹ä¸‹æ–‡&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6 id=&#34;éšè—å­—æ®µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#éšè—å­—æ®µ&#34;&gt;#&lt;/a&gt; éšè—å­—æ®µ&lt;/h6&gt;
&lt;p&gt;InnoDB ä¸ºæ¯è¡Œè®°å½•æ·»åŠ äº†ä¸‰ä¸ªéšè—å­—æ®µï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å‰ä¸¤ä¸ªå­—æ®µæ˜¯è‚¯å®šä¼šæ·»åŠ çš„ï¼Œæ˜¯å¦æ·»åŠ æœ€åä¸€ä¸ªå­—æ®µ DB_ROW_IDï¼Œå¾—çœ‹å½“å‰è¡¨æœ‰æ²¡æœ‰ä¸»é”®æˆ–è€…å”¯ä¸€éç©ºç´¢å¼•ï¼Œè‹¥æœ‰åˆ™ä¸ä¼šæ·»åŠ è¯¥éšè—å­—æ®µã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;DB_TRX_ID&lt;/code&gt; ï¼ˆ6 å­—èŠ‚ï¼‰ï¼š&lt;font color=&#39;red&#39;&gt;æ’å…¥è¿™è¡Œè®°å½•æˆ–è€…æœ€åä¸€æ¬¡ä¿®æ”¹è¯¥è®°å½•çš„äº‹åŠ¡ id&lt;/font&gt;ï¼›&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;delete æ“ä½œåœ¨å†…éƒ¨è¢«è§†ä¸ºæ›´æ–°ï¼ˆå³é€»è¾‘åˆ é™¤ï¼‰ï¼Œä¼šåœ¨è®°å½•å¤´ Record header ä¸­çš„ deleted_flag å­—æ®µå°†å…¶æ ‡è®°ä¸ºå·²åˆ é™¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;DB_ROLL_PTR&lt;/code&gt; ï¼ˆ7 å­—èŠ‚ï¼‰ï¼š&lt;font color=&#39;red&#39;&gt;å›æ»šæŒ‡é’ˆï¼ŒæŒ‡å‘è¯¥è¡Œå¯¹åº”çš„ undo logï¼Œå³ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼ˆå­˜äºå›æ»šæ®µä¸­ï¼‰&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœè¯¥è¡Œè®°å½•æœªè¢«æ›´æ–°ï¼Œåˆ™ä¸ºç©ºï¼›&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;DB_ROW_ID&lt;/code&gt; ï¼ˆ6 å­—èŠ‚ï¼‰ï¼š&lt;font color=&#39;red&#39;&gt;å½“å‰è¡Œè®°å½•éšå«çš„è‡ªå¢ ID&lt;/font&gt;ï¼Œå¦‚æœå½“å‰è¡¨æ²¡æœ‰è®¾ç½®ä¸»é”®ä¸”æ²¡æœ‰å”¯ä¸€éç©ºç´¢å¼•æ—¶ï¼ŒInnoDB ä¼šä½¿ç”¨ DB_ROW_ID æ¥&lt;strong&gt;ç”Ÿæˆä¸€ä¸ªèšé›†ç´¢å¼•&lt;/strong&gt;ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/816762-20210616144139574-1740941399.jpg&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå›¾ï¼ŒDB_ROW_ID æ˜¯æ•°æ®åº“é»˜è®¤ä¸ºè¯¥è¡Œè®°å½•ç”Ÿæˆçš„å”¯ä¸€éšå¼ä¸»é”®ï¼ŒDB_TRX_ID æ˜¯å½“å‰æ“ä½œè¯¥è®°å½•çš„äº‹åŠ¡ IDï¼Œè€Œ DB_ROLL_PTR æ˜¯ä¸€ä¸ªå›æ»šæŒ‡é’ˆï¼Œç”¨äºé…åˆ undo logï¼ŒæŒ‡å‘ä¸Šä¸€ä¸ªæ—§ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;h6 id=&#34;undo-log-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#undo-log-2&#34;&gt;#&lt;/a&gt; undo log&lt;/h6&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;b&#39;&gt;undo log ä»‹ç»&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;undo logï¼ˆå›æ»šæ—¥å¿—ï¼‰æ˜¯åœ¨æ‰§è¡Œ DML è¯­å¥çš„æ—¶å€™äº§ç”Ÿçš„ä¾¿äºæ•°æ®å›æ»šçš„æ—¥å¿—ï¼Œç”¨äº&lt;font color=&#39;red&#39;&gt;è®°å½•æ•°æ®è¢«ä¿®æ”¹å‰çš„ä¿¡æ¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ redo log è®°å½•ç‰©ç†æ—¥å¿—ä¸åŒï¼Œ&lt;font color=&#39;red&#39;&gt;undo log æ˜¯é€»è¾‘æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯é€»è¾‘ç›¸åçš„æ“ä½œä¿¡æ¯&lt;/font&gt;ã€‚å› æ­¤å½“æ‰§è¡Œ rollback æ—¶ï¼Œå°±å¯ä»¥ç›´æ¥ä» undo log ä¸­çš„é€»è¾‘è®°å½•è¯»å–åˆ°ç›¸åº”çš„å†…å®¹å¹¶è¿›è¡Œå›æ»šã€‚&lt;/p&gt;
&lt;p&gt;undo log ä¸»è¦æœ‰ä¸¤ä¸ªä½œç”¨ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æä¾›äº‹åŠ¡å›æ»šï¼ˆä¿è¯äº‹åŠ¡çš„åŸå­æ€§ï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šå½“äº‹åŠ¡å›æ»šæ—¶å°†æ•°æ®æ¢å¤åˆ°ä¿®æ”¹å‰çš„æ ·å­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;MVCCï¼ˆå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šå½“è¯»å–è®°å½•æ—¶ï¼Œè‹¥è¯¥è®°å½•è¢«å…¶ä»–äº‹åŠ¡å ç”¨ï¼Œæˆ–è€…å½“å‰ç‰ˆæœ¬å¯¹è¯¥äº‹åŠ¡ä¸å¯è§ï¼Œåˆ™å¯ä»¥é€šè¿‡ undo log &lt;font color=&#39;red&#39;&gt;è¯»å–ä¹‹å‰çš„ç‰ˆæœ¬æ•°æ®&lt;/font&gt;ï¼Œä»¥æ­¤å®ç°éé”å®šè¯»&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨ InnoDB ä¸­ undo log åˆ†ä¸ºä¸¤ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;insert undo log&lt;/code&gt; ï¼šåœ¨&lt;font color=&#39;red&#39;&gt; insert æ“ä½œ&lt;/font&gt;ä¸­äº§ç”Ÿçš„ undo logã€‚å› ä¸º insert æ“ä½œçš„è®°å½•åªå¯¹äº‹åŠ¡æœ¬èº«å¯è§ï¼Œåªåœ¨å›æ»šæ—¶éœ€è¦ï¼Œå› æ­¤&lt;font color=&#39;red&#39;&gt; insert undo log åœ¨äº‹åŠ¡æäº¤åå¯ä»¥ç›´æ¥åˆ é™¤ï¼Œä¸éœ€è¦è¿›è¡Œ purge æ“ä½œ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/317e91e1-1ee1-42ad-9412-9098d5c6a9ad-dc43aed3.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ï¼ˆinsert æ—¶çš„æ•°æ®åˆå§‹çŠ¶æ€ï¼‰&lt;/center&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;update undo log&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;update æˆ– delete æ“ä½œ&lt;/font&gt;ä¸­äº§ç”Ÿçš„ undo logã€‚update undo log ä¸ä»…åœ¨å›æ»šæ—¶éœ€è¦ï¼Œå¯èƒ½éœ€è¦æä¾› MVCC æœºåˆ¶ï¼Œå› æ­¤ä¸èƒ½åœ¨äº‹åŠ¡æäº¤æ—¶å°±è¿›è¡Œåˆ é™¤ã€‚&lt;font color=&#39;red&#39;&gt;äº‹åŠ¡æäº¤æ—¶æ”¾å…¥ undo log é“¾è¡¨ï¼Œç­‰å¾… purge çº¿ç¨‹è¿›è¡Œæœ€åçš„åˆ é™¤&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/c52ff79f-10e6-46cb-b5d4-3c9cbcc1934a-b60a6e78.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ï¼ˆæ•°æ®ç¬¬ä¸€æ¬¡è¢«ä¿®æ”¹æ—¶ï¼‰&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/6a276e7a-b0da-4c7b-bdf7-c0c7b7b3b31c-2e496ea1.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ï¼ˆæ•°æ®ç¬¬äºŒæ¬¡è¢«ä¿®æ”¹æ—¶ï¼‰&lt;/center&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;b&#39;&gt;ç‰ˆæœ¬é“¾&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä¸åŒäº‹åŠ¡æˆ–è€…ç›¸åŒäº‹åŠ¡å¯¹åŒä¸€è®°å½•è¡Œçš„ä¿®æ”¹ï¼Œä¼šä½¿è¯¥è®°å½•è¡Œçš„ undo log æˆä¸ºä¸€æ¡é“¾è¡¨ï¼Œé“¾é¦–å°±æ˜¯æœ€æ–°çš„è®°å½•ï¼Œé“¾å°¾å°±æ˜¯æœ€æ—©çš„æ—§è®°å½•&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰ä¸€å¼ è¡¨åŸå§‹æ•°æ®ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231128102126782.png&#34; alt=&#34;image-20231128102126782&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;DB_TRX_ID&lt;/code&gt; ï¼šä»£è¡¨æœ€è¿‘ä¿®æ”¹äº‹åŠ¡ IDï¼Œè®°å½•æ’å…¥è¿™æ¡è®°å½•æˆ–æœ€åä¸€æ¬¡ä¿®æ”¹è¯¥è®°å½•çš„äº‹åŠ¡ IDï¼Œæ˜¯è‡ªå¢çš„ã€‚&lt;br /&gt;
 &lt;code&gt;DB_ROLL_PTR&lt;/code&gt; ï¼šç”±äºè¿™æ¡æ•°æ®æ˜¯åˆšåˆšæ‰æ’å…¥çš„ï¼Œæ²¡æœ‰è¢«æ›´æ–°è¿‡ï¼Œæ‰€ä»¥è¯¥å­—æ®µå€¼ä¸º nullã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç„¶åï¼Œæœ‰å››ä¸ªå¹¶å‘äº‹åŠ¡åŒæ—¶åœ¨è®¿é—®è¿™å¼ è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;A. ç¬¬ä¸€æ­¥ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231128102320440.png&#34; alt=&#34;image-20231128102320440&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å½“äº‹åŠ¡ 2 æ‰§è¡Œç¬¬ä¸€æ¡ä¿®æ”¹è¯­å¥æ—¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆè®°å½• undo log æ—¥å¿—ï¼Œè®°å½•æ•°æ®å˜æ›´ä¹‹å‰çš„æ ·å­ï¼›&lt;/li&gt;
&lt;li&gt;ç„¶åæ›´æ–°è®°å½•ï¼Œå¹¶ä¸”è®°å½•æœ¬æ¬¡æ“ä½œçš„äº‹åŠ¡ ID ä¸å›æ»šæŒ‡é’ˆã€‚å…¶ä¸­å›æ»šæŒ‡é’ˆç”¨æ¥æŒ‡å®šå¦‚æœå‘ç”Ÿå›æ»šï¼Œå›æ»šåˆ°å“ªä¸€ä¸ªç‰ˆæœ¬ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231128102520925.png&#34; alt=&#34;image-20231128102520925&#34; /&gt;&lt;/p&gt;
&lt;p&gt;B. ç¬¬äºŒæ­¥&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231128102822352.png&#34; alt=&#34;image-20231128102822352&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å½“äº‹åŠ¡ 3 æ‰§è¡Œç¬¬ä¸€æ¡ä¿®æ”¹è¯­å¥æ—¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆè®°å½• undo log æ—¥å¿—ï¼Œè®°å½•æ•°æ®å˜æ›´ä¹‹å‰çš„æ ·å­ï¼›&lt;/li&gt;
&lt;li&gt;ç„¶åæ›´æ–°è®°å½•ï¼Œå¹¶ä¸”è®°å½•æœ¬æ¬¡æ“ä½œçš„äº‹åŠ¡ ID ä¸å›æ»šæŒ‡é’ˆï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231128103013206.png&#34; alt=&#34;image-20231128103013206&#34; /&gt;&lt;/p&gt;
&lt;p&gt;C. ç¬¬ä¸‰æ­¥&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231128103104640.png&#34; alt=&#34;image-20231128103104640&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å½“äº‹åŠ¡ 4 æ‰§è¡Œç¬¬ä¸€æ¡ä¿®æ”¹è¯­å¥æ—¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆè®°å½• undo log æ—¥å¿—ï¼Œè®°å½•æ•°æ®å˜æ›´ä¹‹å‰çš„æ ·å­ï¼›&lt;/li&gt;
&lt;li&gt;ç„¶åæ›´æ–°è®°å½•ï¼Œå¹¶ä¸”è®°å½•æœ¬æ¬¡æ“ä½œçš„äº‹åŠ¡ ID ä¸å›æ»šæŒ‡é’ˆï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231128103205546.png&#34; alt=&#34;image-20231128103205546&#34; /&gt;&lt;/p&gt;
&lt;h6 id=&#34;read-view&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#read-view&#34;&gt;#&lt;/a&gt; Read View&lt;/h6&gt;
&lt;p&gt;Read View è¯´ç™½äº†å°±æ˜¯&lt;font color=&#39;red&#39;&gt;äº‹åŠ¡è¿›è¡Œå¿«ç…§è¯»æ“ä½œæ—¶äº§ç”Ÿçš„è¯»è§†å›¾&lt;/font&gt;ã€‚åœ¨è¯¥äº‹åŠ¡æ‰§è¡Œå¿«ç…§è¯»çš„é‚£ä¸€åˆ»ï¼Œä¼šç”Ÿæˆä¸€ä¸ªå½“å‰æ•°æ®åº“ç³»ç»Ÿçš„å¿«ç…§ï¼Œè¯¥å¿«ç…§è®°å½•å¹¶ç»´æŠ¤äº†ç³»ç»Ÿå½“å‰æ´»è·ƒäº‹åŠ¡çš„ IDï¼ˆå½“æ¯ä¸ªäº‹åŠ¡å¼€å¯æ—¶ï¼Œéƒ½ä¼šè¢«åˆ†é…ä¸€ä¸ª ID, è¿™ä¸ª ID æ˜¯é€’å¢çš„ï¼Œæ‰€ä»¥æœ€æ–°çš„äº‹åŠ¡ï¼ŒID å€¼è¶Šå¤§ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;Read View æ˜¯ç”¨æ¥åš **&lt;font color=&#39;red&#39;&gt;å¯è§æ€§åˆ¤æ–­&lt;/font&gt;&lt;strong&gt;çš„ï¼Œé‡Œé¢ä¿å­˜äº†&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;å½“å‰å¯¹æœ¬äº‹åŠ¡ä¸å¯è§çš„å…¶ä»–æ´»è·ƒçš„ï¼ˆæœªæäº¤çš„ï¼‰äº‹åŠ¡&lt;/font&gt;**ã€‚å½“æŸä¸ªäº‹åŠ¡æ‰§è¡Œå¿«ç…§è¯»çš„æ—¶å€™ï¼Œä¼šå¯¹è¯¥è®°å½•åˆ›å»ºä¸€ä¸ª Read Viewï¼ŒæŠŠå®ƒæ¯”ä½œæ¡ä»¶&lt;font color=&#39;red&#39;&gt;ç”¨æ¥åˆ¤æ–­å½“å‰äº‹åŠ¡èƒ½å¤Ÿçœ‹åˆ°å“ªä¸ªç‰ˆæœ¬çš„æ•°æ®&lt;/font&gt;ï¼Œæ—¢å¯èƒ½æ˜¯å½“å‰æœ€æ–°çš„æ•°æ®ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯è¯¥è¡Œè®°å½•åœ¨ undo log é‡Œé¢çš„æŸä¸ªç‰ˆæœ¬çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;ReadView&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token comment&#34;&gt;/* ... */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  trx_id_t m_low_limit_id&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;      &lt;span class=&#34;token comment&#34;&gt;/* è¡¨ç¤ºç›®å‰å‡ºç°è¿‡çš„æœ€å¤§çš„äº‹åŠ¡ ID + 1ï¼Œå¤§äºç­‰äºè¿™ä¸ª ID çš„äº‹åŠ¡å‡ä¸å¯è§ */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  trx_id_t m_up_limit_id&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;       &lt;span class=&#34;token comment&#34;&gt;/* è¡¨ç¤ºæ´»è·ƒäº‹åŠ¡åˆ—è¡¨ m_ids ä¸­æœ€å°çš„äº‹åŠ¡ IDï¼Œå°äºè¿™ä¸ª ID çš„äº‹åŠ¡å‡å¯è§ */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  trx_id_t m_creator_trx_id&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;    &lt;span class=&#34;token comment&#34;&gt;/* åˆ›å»ºè¯¥ Read View çš„äº‹åŠ¡ ID */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  trx_id_t m_low_limit_no&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;      &lt;span class=&#34;token comment&#34;&gt;/* äº‹åŠ¡ Number, å°äºè¯¥ Number çš„ Undo Logs å‡å¯ä»¥è¢« Purge */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  ids_t m_ids&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;                  &lt;span class=&#34;token comment&#34;&gt;/* åˆ›å»º Read View æ—¶çš„æ´»è·ƒäº‹åŠ¡åˆ—è¡¨ */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  m_closed&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;                     &lt;span class=&#34;token comment&#34;&gt;/* æ ‡è®° Read View æ˜¯å¦ close */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ä¸»è¦æœ‰ä»¥ä¸‹å­—æ®µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;m_ids&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;ReadView åˆ›å»ºæ—¶ï¼Œå…¶ä»–æ´»è·ƒçš„ï¼ˆå³æœªæäº¤çš„ï¼‰äº‹åŠ¡ ID åˆ—è¡¨&lt;/font&gt;ã€‚åˆ›å»º ReadView æ—¶ï¼Œå°†å½“å‰æ‰€æœ‰æœªæäº¤çš„äº‹åŠ¡çš„ ID è®°å½•ä¸‹æ¥ï¼Œåç»­å³ä½¿å®ƒä»¬ä¿®æ”¹äº†è¡Œè®°å½•çš„å€¼ï¼Œå¯¹äºå½“å‰äº‹åŠ¡ä¹Ÿæ˜¯ä¸å¯è§çš„&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸åŒ…æ‹¬å½“å‰äº‹åŠ¡è‡ªå·±å’Œå·²æäº¤çš„äº‹åŠ¡ï¼ˆæ­£åœ¨å†…å­˜ä¸­ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;m_low_limit_id&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;ç›®å‰å‡ºç°è¿‡çš„æœ€å¤§çš„äº‹åŠ¡ ID + 1&lt;/font&gt;ï¼Œå³ä¸‹ä¸€ä¸ªå°†è¢«åˆ†é…çš„äº‹åŠ¡ ID&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¤§äºç­‰äºè¿™ä¸ª ID çš„æ•°æ®ç‰ˆæœ¬å‡ä¸å¯è§&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;m_up_limit_id&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;æ´»è·ƒäº‹åŠ¡åˆ—è¡¨ m_ids ä¸­æœ€å°çš„äº‹åŠ¡ ID&lt;/font&gt;ï¼Œå¦‚æœ m_ids ä¸ºç©ºï¼Œåˆ™  &lt;code&gt;m_up_limit_id = m_low_limit_id&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å°äºè¿™ä¸ª ID çš„æ•°æ®ç‰ˆæœ¬å‡å¯è§&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;m_creator_trx_id&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;åˆ›å»ºè¯¥ ReadView çš„äº‹åŠ¡ ID&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/trans_visible-048192c5.png&#34; alt=&#34;trans_visible&#34; /&gt;&lt;/p&gt;
&lt;center&gt;äº‹åŠ¡å¯è§æ€§ç¤ºæ„å›¾&lt;/center&gt;
&lt;h6 id=&#34;æ•°æ®å¯è§æ€§ç®—æ³•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®å¯è§æ€§ç®—æ³•&#34;&gt;#&lt;/a&gt; æ•°æ®å¯è§æ€§ç®—æ³•&lt;/h6&gt;
&lt;p&gt;åœ¨ InnoDB ä¸­ï¼Œ&lt;font color=&#39;red&#39;&gt;åˆ›å»ºä¸€ä¸ªæ–°äº‹åŠ¡åï¼Œæ‰§è¡Œæ¯ä¸ª select è¯­å¥å‰ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ª Read View&lt;/font&gt;ã€‚&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;Read View ä¸­ä¿å­˜äº†å½“å‰æ•°æ®åº“ç³»ç»Ÿä¸­æ­£å¤„äºæ´»è·ƒï¼ˆå³æ²¡æœ‰ commitï¼‰çš„äº‹åŠ¡çš„ ID å·&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•çš„è¯´ï¼Œä¿å­˜çš„æ˜¯ç³»ç»Ÿä¸­å½“å‰ä¸åº”è¯¥è¢«æœ¬äº‹åŠ¡çœ‹åˆ°çš„å…¶ä»–äº‹åŠ¡çš„ ID åˆ—è¡¨ï¼ˆå³ m_idsï¼‰ã€‚&lt;font color=&#39;red&#39;&gt;å½“ç”¨æˆ·åœ¨æœ¬äº‹åŠ¡ä¸­è¦è¯»å–æŸä¸ªè®°å½•è¡Œçš„æ—¶å€™ï¼ŒInnoDB ä¼šå°†è¯¥è®°å½•è¡Œçš„  &lt;code&gt;DB_TRX_ID&lt;/code&gt;  ä¸ Read View ä¸­çš„ä¸€äº›å˜é‡åŠå½“å‰äº‹åŠ¡ ID è¿›è¡Œæ¯”è¾ƒï¼Œåˆ¤æ–­æ˜¯å¦æ»¡è¶³å¯è§æ€§æ¡ä»¶&lt;/font&gt;ã€‚å…·ä½“çš„æ¯”è¾ƒç®—æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å‚ä¸æ¯”è¾ƒçš„å¯¹è±¡ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;DB_TRX_ID&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;è¡¨ç¤ºæ’å…¥è¿™è¡Œè®°å½•æˆ–è€…æœ€åä¸€æ¬¡ä¿®æ”¹è¯¥è¡Œè®°å½•çš„äº‹åŠ¡ id&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;m_creator_trx_id&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;è¡¨ç¤ºåˆ›å»ºè¯¥ ReadView çš„äº‹åŠ¡ ID&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;m_up_limit_id&lt;/code&gt; ï¼šReadView ä¸­çš„ä¸€ä¸ªå˜é‡ï¼Œ&lt;font color=&#39;red&#39;&gt;è¡¨ç¤ºæ´»è·ƒäº‹åŠ¡åˆ—è¡¨ m_ids ä¸­æœ€å°çš„äº‹åŠ¡ ID&lt;/font&gt;ã€‚äº‹åŠ¡ ID å°äºå®ƒçš„äº‹åŠ¡å‡å·²æäº¤ï¼Œå› æ­¤å°äºè¿™ä¸ª ID çš„æ•°æ®ç‰ˆæœ¬å‡å¯è§&lt;/li&gt;
&lt;li&gt;&lt;code&gt;m_low_limit_id&lt;/code&gt; ï¼šReadView ä¸­çš„ä¸€ä¸ªå˜é‡ï¼Œè¡¨ç¤ºä¸‹ä¸€ä¸ªå°†è¢«åˆ†é…çš„äº‹åŠ¡ IDï¼Œå³&lt;font color=&#39;red&#39;&gt;ç›®å‰å‡ºç°è¿‡çš„æœ€å¤§çš„äº‹åŠ¡ ID + 1&lt;/font&gt;ã€‚äº‹åŠ¡ ID å¤§äºå®ƒçš„äº‹åŠ¡å‡æœªæäº¤ï¼Œå› æ­¤å¤§äºç­‰äºè¿™ä¸ª ID çš„æ•°æ®ç‰ˆæœ¬å‡ä¸å¯è§&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;changes_visible()&lt;/code&gt;  è¿”å› true ä»£è¡¨å¯è§ï¼Œ false ä»£è¡¨ä¸å¯è§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231128104943951.png&#34; alt=&#34;image-20231128104943951&#34; /&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ­¥éª¤&lt;/th&gt;
&lt;th&gt;æ¡ä»¶&lt;/th&gt;
&lt;th&gt;æ˜¯å¦å¯ä»¥è®¿é—®è¯¥ç‰ˆæœ¬&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;DB_TRX_ID == m_creator_trx_id&lt;/td&gt;
&lt;td&gt;å¯è§&lt;/td&gt;
&lt;td&gt;è¡¨æ˜æœ€æ–°ä¿®æ”¹è¯¥è¡Œè®°å½•çš„äº‹åŠ¡ï¼ˆDB_TRX_IDï¼‰å°±æ˜¯åˆ›å»º ReadView çš„å½“å‰äº‹åŠ¡ï¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;DB_TRX_ID &amp;lt; m_up_limit_id&lt;/td&gt;
&lt;td&gt;å¯è§&lt;/td&gt;
&lt;td&gt;è¡¨æ˜æœ€æ–°ä¿®æ”¹è¯¥è¡Œè®°å½•çš„äº‹åŠ¡ï¼ˆDB_TRX_IDï¼‰åœ¨&lt;u&gt;å½“å‰äº‹åŠ¡&lt;/u&gt;åˆ›å»º  ReadView ä¹‹å‰å°±æäº¤äº†ï¼Œå› æ­¤è¯¥è¡Œè®°å½•çš„å€¼å¯¹å½“å‰äº‹åŠ¡æ˜¯å¯è§çš„ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;DB_TRX_ID &amp;gt;= m_low_limit_id&lt;/td&gt;
&lt;td&gt;ä¸å¯è§&lt;/td&gt;
&lt;td&gt;è¡¨æ˜æœ€æ–°ä¿®æ”¹è¯¥è¡Œçš„äº‹åŠ¡ï¼ˆDB_TRX_IDï¼‰åœ¨&lt;u&gt;å½“å‰äº‹åŠ¡&lt;/u&gt;åˆ›å»º ReadView ä¹‹åæ‰ä¿®æ”¹è¯¥è¡Œï¼Œæ‰€ä»¥è¯¥è®°å½•è¡Œçš„å€¼å¯¹å½“å‰äº‹åŠ¡ä¸å¯è§ã€‚&lt;font color=&#39;red&#39;&gt;è·³åˆ°æ­¥éª¤ 5&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;m_ids ä¸ºç©º&lt;/td&gt;
&lt;td&gt;å¯è§&lt;/td&gt;
&lt;td&gt;è¯´æ˜å½“å‰ä¸å­˜åœ¨æ´»è·ƒçš„äº‹åŠ¡ï¼Œè¡¨æ˜åœ¨å½“å‰äº‹åŠ¡åˆ›å»º ReadView ä¹‹å‰ï¼Œä¿®æ”¹è¯¥è¡Œçš„äº‹åŠ¡å°±å·²ç»æäº¤äº†ï¼Œæ‰€ä»¥è¯¥è®°å½•è¡Œçš„å€¼å¯¹å½“å‰äº‹åŠ¡æ˜¯å¯è§çš„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;m_up_limit_id &amp;lt;= DB_TRX_ID &amp;lt; m_low_limit_id&lt;/td&gt;
&lt;td&gt;1. å¦‚æœ DB_TRX_ID åœ¨ m_ids ä¸­ï¼Œä¸å¯è§ï¼›&lt;/br&gt;2. å¦‚æœ DB_TRX_ID ä¸åœ¨ m_ids ä¸­ï¼Œå¯è§ï¼›&lt;/td&gt;
&lt;td&gt;è¡¨æ˜æœ€æ–°ä¿®æ”¹è¯¥è¡Œçš„äº‹åŠ¡ï¼ˆDB_TRX_IDï¼‰åœ¨&lt;u&gt;å½“å‰äº‹åŠ¡&lt;/u&gt;åˆ›å»º ReadView çš„æ—¶å€™å¯èƒ½å¤„äº â€œæ´»åŠ¨çŠ¶æ€â€ æˆ–è€… â€œå·²æäº¤çŠ¶æ€â€ï¼Œå› æ­¤å°±è¦å¯¹æ´»è·ƒäº‹åŠ¡åˆ—è¡¨ m_ids è¿›è¡ŒæŸ¥æ‰¾ï¼Œåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š&lt;/br&gt;1. å¦‚æœåœ¨æ´»è·ƒäº‹åŠ¡åˆ—è¡¨ m_ids ä¸­èƒ½æ‰¾åˆ° DB_TRX_IDï¼Œè¡¨æ˜ï¼šâ‘  åœ¨å½“å‰äº‹åŠ¡åˆ›å»º ReadView å‰ï¼Œè¯¥è®°å½•è¡Œçš„å€¼è¢«äº‹åŠ¡ ID ä¸º DB_TRX_ID çš„äº‹åŠ¡ä¿®æ”¹äº†ï¼Œä½†æ²¡æœ‰æäº¤ï¼›æˆ–è€… â‘¡ åœ¨å½“å‰äº‹åŠ¡åˆ›å»º ReadView åï¼Œè¯¥è®°å½•è¡Œçš„å€¼è¢«äº‹åŠ¡ ID ä¸º DB_TRX_ID çš„äº‹åŠ¡ä¿®æ”¹äº†ã€‚è¿™äº›æƒ…å†µä¸‹ï¼Œè¿™ä¸ªè®°å½•è¡Œçš„å€¼å¯¹å½“å‰äº‹åŠ¡éƒ½æ˜¯ä¸å¯è§çš„ã€‚&lt;font color=&#39;red&#39;&gt;è·³åˆ°æ­¥éª¤ 5&lt;/font&gt;&lt;/br&gt;2. åœ¨æ´»è·ƒäº‹åŠ¡åˆ—è¡¨ä¸­æ‰¾ä¸åˆ°ï¼Œåˆ™è¡¨æ˜ â€œid ä¸º DB_TRX_ID çš„äº‹åŠ¡â€ åœ¨ä¿®æ”¹ â€œè¯¥è®°å½•è¡Œçš„å€¼â€ åï¼Œåœ¨ â€œå½“å‰äº‹åŠ¡â€ åˆ›å»º ReadView å‰å°±å·²ç»æäº¤äº†ï¼Œæ‰€ä»¥è®°å½•è¡Œå¯¹å½“å‰äº‹åŠ¡å¯è§&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;åœ¨è¯¥è¡Œè®°å½•çš„ DB_ROLL_PTR æŒ‡é’ˆæ‰€æŒ‡å‘çš„ undo log å–å‡ºå¿«ç…§è®°å½•ï¼Œç”¨å…¶ä¸­çš„ DB_TRX_ID &lt;font color=&#39;red&#39;&gt;è·³åˆ°æ­¥éª¤ 1&lt;/font&gt; é‡æ–°å¼€å§‹åˆ¤æ–­ï¼Œç›´åˆ°æ‰¾åˆ°æ»¡è¶³çš„å¿«ç…§ç‰ˆæœ¬æˆ–è¿”å›ç©º&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5 id=&#34;rc-å’Œ-rr-ä¸‹-mvcc-çš„å·®å¼‚&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rc-å’Œ-rr-ä¸‹-mvcc-çš„å·®å¼‚&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸRC å’Œ RR ä¸‹ MVCC çš„å·®å¼‚&lt;/mark&gt;&lt;/h5&gt;
&lt;p&gt;åœ¨äº‹åŠ¡éš”ç¦»çº§åˆ« RC å’Œ RR ä¸‹ï¼Œè™½ç„¶ InnoDB éƒ½é€šè¿‡ MVCC æ¥è¯»å–å¿«ç…§æ•°æ®ï¼ˆä¸€è‡´æ€§éé”å®šè¯»ï¼‰ï¼Œä½†å®ƒä»¬&lt;font color=&#39;red&#39;&gt;ç”Ÿæˆ ReadView çš„æ—¶æœºä¸åŒ&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;RCï¼š&lt;strong&gt;åœ¨äº‹åŠ¡ä¸­çš„&lt;font color=&#39;red&#39;&gt;æ¯ä¸€æ¬¡æ‰§è¡Œå¿«ç…§è¯»æ—¶&lt;/font&gt;ï¼Œéƒ½ä¼šç”Ÿæˆå¹¶è®¾ç½®æ–°çš„ Read Viewï¼Œæ‰€ä»¥ä¼šå¯¼è‡´ä¸å¯é‡å¤è¯»&lt;/strong&gt;ï¼&lt;/li&gt;
&lt;li&gt;RRï¼š&lt;strong&gt;ä»…åœ¨äº‹åŠ¡ä¸­çš„&lt;font color=&#39;red&#39;&gt;ç¬¬ä¸€æ¬¡æ‰§è¡Œå¿«ç…§è¯»æ—¶&lt;/font&gt;ï¼Œç”Ÿæˆä¸€ä¸ª Read Viewï¼ˆm_ids åˆ—è¡¨ï¼‰ï¼Œåç»­å¤ç”¨è¯¥ ReadViewã€‚&lt;font color=&#39;red&#39;&gt;å› æ­¤åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œæ‰§è¡Œä¸¤æ¬¡ç›¸åŒçš„ select è¯­å¥ï¼ŒæŸ¥è¯¢åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;rc-ä¸‹-readview-çš„ç”Ÿæˆæƒ…å†µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rc-ä¸‹-readview-çš„ç”Ÿæˆæƒ…å†µ&#34;&gt;#&lt;/a&gt; RC ä¸‹ ReadView çš„ç”Ÿæˆæƒ…å†µ&lt;/h6&gt;
&lt;p&gt;å…·ä½“ç¤ºä¾‹ç•¥äº†...&lt;/p&gt;
&lt;h6 id=&#34;rr-ä¸‹-readview-çš„ç”Ÿæˆæƒ…å†µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rr-ä¸‹-readview-çš„ç”Ÿæˆæƒ…å†µ&#34;&gt;#&lt;/a&gt; RR ä¸‹ ReadView çš„ç”Ÿæˆæƒ…å†µ&lt;/h6&gt;
&lt;p&gt;å…·ä½“ç¤ºä¾‹ç•¥äº†...&lt;/p&gt;
&lt;h5 id=&#34;mvccnext-key-lock-é˜²æ­¢å¹»è¯»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mvccnext-key-lock-é˜²æ­¢å¹»è¯»&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸMVCCâ•Next-key Lock é˜²æ­¢å¹»è¯»&lt;/mark&gt;&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;å¹»è¯»ï¼šä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å‡ è¡Œæ•°æ®ï¼Œæ¥ç€å¦ä¸€ä¸ªå¹¶å‘äº‹åŠ¡&lt;font color=&#39;red&#39;&gt;æ’å…¥&lt;/font&gt;äº†ä¸€äº›æ•°æ®ã€‚ç¬¬ä¸€ä¸ªäº‹åŠ¡åœ¨éšåçš„æŸ¥è¯¢ä¸­å°±ä¼šå‘ç°å¤šäº†ä¸€äº›åŸæœ¬ä¸å­˜åœ¨çš„è®°å½•ï¼Œå°±å¥½åƒå‘ç”Ÿäº†å¹»è§‰ä¸€æ ·ï¼Œæ‰€ä»¥ç§°ä¸ºå¹»è¯»ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;InnoDB åœ¨ RR çº§åˆ«ä¸‹é€šè¿‡ MVCC å’Œ ä¸´é”®é”ï¼ˆNext-key Lockï¼‰æ¥è§£å†³å¹»è¯»é—®é¢˜&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;1ã€&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ‰§è¡Œæ™®é€š select æ—¶ä¼šä»¥ MVCC &lt;u&gt;å¿«ç…§è¯»&lt;/u&gt;çš„æ–¹å¼è¯»å–æ•°æ®&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç†æ‰€å½“ç„¶èƒ½é˜²æ­¢ â€œå¹»è¯»â€&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨å¿«ç…§è¯»çš„æƒ…å†µä¸‹ï¼ŒRR éš”ç¦»çº§åˆ«åªä¼šåœ¨äº‹åŠ¡å¼€å¯åçš„ç¬¬ä¸€æ¬¡æŸ¥è¯¢æ—¶ç”Ÿæˆ Read View ï¼Œå¹¶å¤ç”¨ç›´è‡³äº‹åŠ¡æäº¤ã€‚æ‰€ä»¥åœ¨ç”Ÿæˆ Read View ä¹‹åå…¶å®ƒäº‹åŠ¡æ‰€åšçš„æ›´æ–°ã€æ’å…¥è®°å½•ç‰ˆæœ¬å¯¹å½“å‰äº‹åŠ¡å¹¶ä¸å¯è§ï¼Œå®ç°äº†å¯é‡å¤è¯»å’Œ&lt;font color=&#39;red&#39;&gt;é˜²æ­¢å¿«ç…§è¯»ä¸‹çš„ â€œå¹»è¯»â€&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;2ã€&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ‰§è¡Œ select...for update/lock in share modeã€insertã€updateã€delete ç­‰å½“å‰è¯»&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¾—ç›Šäºä¸´é”®é”ï¼ˆNext-key Lockï¼‰æ‰èƒ½é˜²æ­¢ â€œå¹»è¯»â€&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨å½“å‰è¯»ä¸‹ï¼Œè¯»å–çš„éƒ½æ˜¯æœ€æ–°çš„æ•°æ®ï¼Œå¦‚æœå…¶å®ƒäº‹åŠ¡æœ‰æ’å…¥æ–°çš„è®°å½•ï¼Œå¹¶ä¸”åˆšå¥½åœ¨å½“å‰äº‹åŠ¡æŸ¥è¯¢èŒƒå›´å†…ï¼Œå°±ä¼šäº§ç”Ÿå¹»è¯»ï¼InnoDB ä½¿ç”¨ &lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä¸´é”®é”ï¼ˆNext-key Lockï¼‰&lt;/font&gt;&lt;/strong&gt; æ¥é˜²æ­¢å¹»è¯»ã€‚&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å½“æ‰§è¡Œå½“å‰è¯»æ—¶ï¼Œä¼šé”å®šè¯»å–åˆ°çš„è®°å½•ï¼ŒåŒæ—¶ä¼šé”å®šå®ƒä»¬çš„é—´éš™ï¼Œé˜²æ­¢å…¶å®ƒå¹¶å‘äº‹åŠ¡åœ¨æŸ¥è¯¢èŒƒå›´å†…æ’å…¥æ•°æ®&lt;/font&gt;&lt;/strong&gt;ã€‚åªè¦æˆ‘ä¸è®©ä½ æ’å…¥ï¼Œå°±ä¸ä¼šå‘ç”Ÿå¹»è¯»ã€‚&lt;/p&gt;
&lt;h3 id=&#34;mysqlç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysqlç´¢å¼•&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸMySQL ç´¢å¼•&lt;/mark&gt;&lt;/h3&gt;
&lt;h4 id=&#34;ç´¢å¼•åŸç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç´¢å¼•åŸç†&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸç´¢å¼•åŸç†&lt;/mark&gt;&lt;/h4&gt;
&lt;p&gt;ç´¢å¼•ï¼ˆIndexï¼‰æ˜¯&lt;font color=&#39;red&#39;&gt;ä¸€ç§å¸®åŠ© MySQL é«˜æ•ˆè·å–æ•°æ®çš„æœ‰åºæ•°æ®ç»“æ„&lt;/font&gt;ï¼ŒååŠ© MySQL å¿«é€ŸæŸ¥è¯¢ã€æ›´æ–°è¡¨ä¸­æ•°æ®ã€‚MySQL æ”¯æŒå¤šç§ç±»å‹çš„ç´¢å¼•ï¼ŒåŒ…æ‹¬ B-tree ç´¢å¼•ã€å“ˆå¸Œç´¢å¼•ã€å…¨æ–‡ç´¢å¼•ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;ç´¢å¼•çš„åŸºæœ¬åŸç†å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŠŠåˆ›å»ºç´¢å¼•åˆ—çš„å†…å®¹è¿›è¡Œæ’åº&lt;/li&gt;
&lt;li&gt;å¯¹æ’åºçš„ç»“æœç”Ÿæˆå€’æ’è¡¨&lt;/li&gt;
&lt;li&gt;åœ¨å€’æ’è¡¨å†…å®¹ä¸Šæ‹¼æ¥ä¸Šæ•°æ®è¡Œåœ°å€&lt;/li&gt;
&lt;li&gt;æŸ¥è¯¢æ•°æ®æ—¶ï¼Œå…ˆæ‹¿åˆ°å€’æ’è¡¨å†…å®¹ï¼Œåœ¨å–å‡ºæ•°æ®è¡Œåœ°å€ï¼Œä»è€Œæ‹¿åˆ°å…·ä½“çš„æ•°æ®&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ•°æ®æ˜¯ä»¥æ–‡ä»¶çš„å½¢å¼å­˜æ”¾åœ¨ç£ç›˜ä¸Šé¢çš„ï¼Œæ¯ä¸€è¡Œæ•°æ®éƒ½æœ‰å®ƒçš„ç£ç›˜åœ°å€ï¼Œå¦‚æœæ²¡æœ‰ç´¢å¼•çš„è¯ï¼Œæˆ‘ä»¬è¦ä»åƒä¸‡è¡Œæ•°æ®é‡Œé¢æ£€ç´¢ä¸€æ¡æ•°æ®ï¼Œåªèƒ½ä¾æ¬¡éå†è¿™å¼ è¡¨çš„å…¨éƒ¨æ•°æ®ï¼Œ ç›´åˆ°æ‰¾åˆ°è¿™æ¡æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æœ‰äº†ç´¢å¼•ä¹‹åï¼Œåªéœ€è¦åœ¨ç´¢å¼•é‡Œé¢å»æ£€ç´¢è¿™æ¡æ•°æ®å°±è¡Œäº†ï¼Œå› ä¸ºå®ƒæ˜¯ç‰¹æ®Šçš„ä¸“é—¨ç”¨æ¥å¿«é€Ÿæ£€ç´¢çš„æ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬æ‰¾åˆ°æ•°æ®å­˜æ”¾çš„ç£ç›˜åœ°å€ä»¥åï¼Œå°±å¯ä»¥æ‹¿åˆ°æ•°æ®äº†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç´¢å¼•ä»‹ç»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç´¢å¼•ä»‹ç»&#34;&gt;#&lt;/a&gt; ç´¢å¼•ä»‹ç»&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;ç´¢å¼•æ˜¯ä¸€ç§å¸®åŠ©å­˜å‚¨å¼•æ“å¿«é€ŸæŸ¥è¯¢å’Œæ£€ç´¢æ•°æ®çš„æ•°æ®ç»“æ„ï¼ˆæœ‰åºï¼‰ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç´¢å¼•çš„åº•å±‚æ•°æ®ç»“æ„å­˜åœ¨å¾ˆå¤šç§ç±»å‹ï¼Œå¸¸è§çš„ç´¢å¼•ç»“æ„æœ‰ï¼šçº¢é»‘æ ‘ã€B æ ‘ã€B + æ ‘ã€Hashã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;åœ¨ MySQL ä¸­ï¼ŒInnodb å’Œ MyIsamï¼Œéƒ½ä½¿ç”¨ B + æ ‘ ä½œä¸ºç´¢å¼•ç»“æ„&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç´¢å¼•çš„ä¼˜ç¼ºç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç´¢å¼•çš„ä¼˜ç¼ºç‚¹&#34;&gt;#&lt;/a&gt; ç´¢å¼•çš„ä¼˜ç¼ºç‚¹&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ç´¢å¼•å¯ä»¥å¤§å¤§&lt;font color=&#39;red&#39;&gt;åŠ å¿«æ•°æ®çš„æ£€ç´¢é€Ÿåº¦&lt;/font&gt;ï¼ˆå¤§å¤§å‡å°‘æ£€ç´¢çš„æ•°æ®é‡ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯åˆ›å»ºç´¢å¼•çš„æœ€ä¸»è¦çš„åŸå› ã€‚&lt;/li&gt;
&lt;li&gt;é€šè¿‡åˆ›å»ºå”¯ä¸€æ€§ç´¢å¼•ï¼Œå¯ä»¥ä¿è¯æ•°æ®åº“è¡¨ä¸­æ¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;åˆ›å»ºå’Œç»´æŠ¤ç´¢å¼•éœ€è¦è€—è´¹è®¸å¤šæ—¶é—´&lt;/font&gt;ã€‚å½“å¯¹è¡¨ä¸­çš„æ•°æ®è¿›è¡Œå¢åˆ æ”¹çš„æ—¶å€™ï¼Œå¦‚æœæ•°æ®æœ‰ç´¢å¼•ï¼Œé‚£ä¹ˆç´¢å¼•ä¹Ÿéœ€è¦åŠ¨æ€çš„ä¿®æ”¹ï¼Œä¼šé™ä½ SQL æ‰§è¡Œæ•ˆç‡ã€‚&lt;/li&gt;
&lt;li&gt;ç´¢å¼•éœ€è¦ä½¿ç”¨ç‰©ç†æ–‡ä»¶å­˜å‚¨ï¼Œä¹Ÿä¼šè€—è´¹ä¸€å®šç©ºé—´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ç´¢å¼•çš„åº•å±‚æ•°æ®ç»“æ„é€‰å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç´¢å¼•çš„åº•å±‚æ•°æ®ç»“æ„é€‰å‹&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸç´¢å¼•çš„åº•å±‚æ•°æ®ç»“æ„é€‰å‹&lt;/mark&gt;&lt;/h4&gt;
&lt;p&gt;ä¸åŒå­˜å‚¨å¼•æ“å¯¹ç´¢å¼•ç»“æ„çš„æ”¯æŒæƒ…å†µï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231117203129938.png&#34; alt=&#34;image-20231117203129938&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;hash-è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#hash-è¡¨&#34;&gt;#&lt;/a&gt; Hash è¡¨&lt;/h5&gt;
&lt;p&gt;å“ˆå¸Œç´¢å¼•ä½¿ç”¨å“ˆå¸Œç®—æ³•&lt;font color=&#39;red&#39;&gt;å°†ç´¢å¼•åˆ—çš„å€¼æ˜ å°„åˆ°å“ˆå¸Œè¡¨ä¸­&lt;/font&gt;ï¼Œç„¶åé€šè¿‡å“ˆå¸Œè¡¨çš„æŸ¥æ‰¾ç®—æ³•å¿«é€Ÿå®šä½åˆ°ç›®æ ‡æ•°æ®ã€‚å“ˆå¸Œç´¢å¼•çš„ä¼˜ç‚¹æ˜¯æŸ¥æ‰¾é€Ÿåº¦éå¸¸å¿«ï¼Œä½†æ˜¯å®ƒ&lt;font color=&#39;red&#39;&gt;ä¸æ”¯æŒèŒƒå›´æŸ¥æ‰¾ï¼Œåªé€‚ç”¨äºç­‰å€¼æŸ¥æ‰¾&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å“ˆå¸Œè¡¨æ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œé€šè¿‡é”® (key) å³å¯å¿«é€Ÿå–å‡ºå¯¹åº”çš„å€¼ (value)ï¼Œå› æ­¤å“ˆå¸Œè¡¨å¯ä»¥å¿«é€Ÿæ£€ç´¢æ•°æ®ï¼ˆæ¥è¿‘ Oï¼ˆ1ï¼‰ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡å“ˆå¸Œç®—æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿæ‰¾åˆ° key å¯¹åº”çš„ indexï¼Œæ‰¾åˆ°äº† index ä¹Ÿå°±æ‰¾åˆ°äº†å¯¹åº”çš„ valueã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;hash &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;hashfunc&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;key&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;index &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; hash &lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt; array_size&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/mysql20210513092328171.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼å“ˆå¸Œç®—æ³•æœ‰ä¸ª &lt;strong&gt;Hash å†²çª&lt;/strong&gt; é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯è¯´å¤šä¸ªä¸åŒçš„ key æœ€åå¾—åˆ°çš„ index ç›¸åŒã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„è§£å†³åŠæ³•æ˜¯&lt;strong&gt;é“¾åœ°å€æ³•&lt;/strong&gt;ã€‚é“¾åœ°å€æ³•å°±&lt;font color=&#39;red&#39;&gt;æ˜¯å°†å“ˆå¸Œå†²çš„çªæ•°æ®å­˜æ”¾åœ¨é“¾è¡¨ä¸­&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ JDK1.8 ä¹‹å‰  &lt;code&gt;HashMap&lt;/code&gt;  å°±æ˜¯é€šè¿‡é“¾åœ°å€æ³•æ¥è§£å†³å“ˆå¸Œå†²çªçš„ã€‚ä¸è¿‡ï¼ŒJDK1.8 ä»¥å  &lt;code&gt;HashMap&lt;/code&gt;  ä¸ºäº†å‡å°‘é“¾è¡¨è¿‡é•¿æ—¶æœç´¢æ—¶é—´è¿‡é•¿å¼•å…¥äº†çº¢é»‘æ ‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/mysql20210513092224836.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å‡å°‘ Hash å†²çªçš„å‘ç”Ÿï¼Œä¸€ä¸ªå¥½çš„å“ˆå¸Œå‡½æ•°åº”è¯¥ â€œå‡åŒ€åœ°â€ å°†æ•°æ®åˆ†å¸ƒåœ¨æ•´ä¸ªå¯èƒ½çš„å“ˆå¸Œå€¼é›†åˆä¸­ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;InnoDB å­˜å‚¨å¼•æ“ä¸ç›´æ¥æ”¯æŒå¸¸è§„çš„å“ˆå¸Œç´¢å¼•ï¼Œä½†å­˜åœ¨ä¸€ç§ç‰¹æ®Šçš„&lt;strong&gt;è‡ªé€‚åº”å“ˆå¸Œç´¢å¼•ï¼ˆAdaptive Hash Indexï¼‰&lt;/strong&gt;ï¼Œç»“åˆäº† B+Tree å’Œå“ˆå¸Œç´¢å¼•çš„ç‰¹ç‚¹ï¼Œä»¥ä¾¿æ›´å¥½åœ°é€‚åº”å®é™…åº”ç”¨ä¸­çš„æ•°æ®è®¿é—®æ¨¡å¼å’Œæ€§èƒ½éœ€æ±‚ã€‚è‡ªé€‚åº”å“ˆå¸Œç´¢å¼•çš„&lt;font color=&#39;red&#39;&gt;æ¯ä¸ªå“ˆå¸Œæ¡¶å®é™…ä¸Šæ˜¯ä¸€ä¸ªå°å‹çš„ B+Tree ç»“æ„&lt;/font&gt;ã€‚è¿™ä¸ª B+Tree ç»“æ„å¯ä»¥å­˜å‚¨å¤šä¸ªé”®å€¼å¯¹ï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸€ä¸ªé”®ã€‚è¿™æœ‰åŠ©äºå‡å°‘å“ˆå¸Œå†²çªé“¾çš„é•¿åº¦ï¼Œæé«˜äº†ç´¢å¼•çš„æ•ˆç‡ã€‚å…³äº Adaptive Hash Index çš„è¯¦ç»†ä»‹ç»ï¼Œå¯ä»¥æŸ¥çœ‹ &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvcmE0djFYUjVwelNXYy1xdEdPLWRCZw==&#34;&gt;MySQL å„ç§ â€œBufferâ€ ä¹‹ Adaptive Hash Index&lt;/span&gt; è¿™ç¯‡æ–‡ç« ã€‚&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶å“ˆå¸Œè¡¨è¿™ä¹ˆå¿«ï¼Œä¸ºä»€ä¹ˆ MySQL æ²¡æœ‰ä½¿ç”¨å…¶ä½œä¸ºç´¢å¼•çš„æ•°æ®ç»“æ„å‘¢ï¼Ÿä¸»è¦æ˜¯&lt;strong&gt;å› ä¸º Hash ç´¢å¼•ä¸æ”¯æŒæ’åºã€èŒƒå›´æŸ¥è¯¢&lt;/strong&gt;ã€‚å‡å¦‚æˆ‘ä»¬è¦å¯¹è¡¨ä¸­çš„æ•°æ®è¿›è¡Œæ’åºæˆ–è€…è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ï¼Œé‚£ Hash ç´¢å¼•å¯å°±ä¸è¡Œäº†ã€‚å¹¶ä¸”ï¼Œæ¯æ¬¡ IO åªèƒ½å–ä¸€ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;è¯•æƒ³ä¸€ç§æƒ…å†µ:&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token constant&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;FROM&lt;/span&gt; tb1 &lt;span class=&#34;token constant&#34;&gt;WHERE&lt;/span&gt; id &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;500&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;åœ¨è¿™ç§èŒƒå›´æŸ¥è¯¢ä¸­ï¼Œç›´æ¥éå†æ¯” 500 å°çš„å¶å­èŠ‚ç‚¹å°±å¤Ÿäº†ã€‚è€Œ Hash ç´¢å¼•æ˜¯æ ¹æ® hash ç®—æ³•æ¥å®šä½çš„ï¼Œéš¾ä¸æˆè¿˜è¦æŠŠ 1 - 499 çš„æ•°æ®ï¼Œæ¯ä¸ªéƒ½è¿›è¡Œä¸€æ¬¡ hash è®¡ç®—æ¥å®šä½å—ï¼Ÿè¿™å°±æ˜¯ Hash æœ€å¤§çš„ç¼ºç‚¹äº†ã€‚&lt;/p&gt;
&lt;h5 id=&#34;å…¨æ–‡ç´¢å¼•full-text&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å…¨æ–‡ç´¢å¼•full-text&#34;&gt;#&lt;/a&gt; å…¨æ–‡ç´¢å¼•ï¼ˆFull-textï¼‰&lt;/h5&gt;
&lt;p&gt;å…¨æ–‡ç´¢å¼•æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç´¢å¼•ç±»å‹ï¼Œå®ƒå¯ä»¥ç”¨äºå¯¹æ–‡æœ¬æ•°æ®è¿›è¡Œå…¨æ–‡æ£€ç´¢ã€‚å…¨æ–‡ç´¢å¼•çš„åŸºæœ¬åŸç†æ˜¯&lt;font color=&#39;red&#39;&gt;å°†æ–‡æœ¬æ•°æ®åˆ†è¯ï¼Œç„¶åå°†æ¯ä¸ªè¯ä½œä¸ºå…³é”®å­—å»ºç«‹ç´¢å¼•&lt;/font&gt;ã€‚å…¨æ–‡ç´¢å¼•å¯ä»¥ç”¨äº&lt;font color=&#39;red&#39;&gt;å¯¹æ–‡æœ¬æ•°æ®è¿›è¡Œæ¨¡ç³ŠåŒ¹é…ã€å…³é”®å­—æœç´¢&lt;/font&gt;ç­‰æ“ä½œã€‚&lt;/p&gt;
&lt;h5 id=&#34;äºŒå‰æŸ¥æ‰¾æ ‘bst&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#äºŒå‰æŸ¥æ‰¾æ ‘bst&#34;&gt;#&lt;/a&gt; äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBSTï¼‰&lt;/h5&gt;
&lt;p&gt;äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBinary Search Treeï¼‰æ˜¯ä¸€ç§åŸºäºäºŒå‰æ ‘çš„æ•°æ®ç»“æ„ï¼Œå®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å·¦å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„å€¼å‡å°äºæ ¹èŠ‚ç‚¹çš„å€¼ã€‚&lt;/li&gt;
&lt;li&gt;å³å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„å€¼å‡å¤§äºæ ¹èŠ‚ç‚¹çš„å€¼ã€‚&lt;/li&gt;
&lt;li&gt;å·¦å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æŸ¥æ‰¾æ ‘ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;äºŒå‰æŸ¥æ‰¾æ ‘çš„æ—¶é—´å¤æ‚åº¦ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“äºŒå‰æŸ¥æ‰¾æ ‘å¹³è¡¡æ—¶ï¼Œä¹Ÿå°±æ˜¯æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹çš„å·¦å³å­æ ‘æ·±åº¦ç›¸å·®ä¸è¶…è¿‡ 1 çš„æ—¶å€™ï¼ŒæŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦ä¸º &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math xmlns=&#34;http://www.w3.org/1998/Math/MathML&#34;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo stretchy=&#34;false&#34;&gt;(&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&#34;false&#34;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;O(logn)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.02778em;&#34;&gt;O&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.03588em;&#34;&gt;g&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œå…·æœ‰æ¯”è¾ƒé«˜çš„æ•ˆç‡ã€‚&lt;/li&gt;
&lt;li&gt;ç„¶è€Œï¼Œå½“äºŒå‰æŸ¥æ‰¾æ ‘ä¸å¹³è¡¡æ—¶ï¼Œä¾‹å¦‚åœ¨æœ€åæƒ…å†µä¸‹ï¼ˆæœ‰åºæ’å…¥èŠ‚ç‚¹ï¼‰ï¼Œæ ‘ä¼šé€€åŒ–æˆçº¿æ€§é“¾è¡¨ï¼ˆä¹Ÿè¢«ç§°ä¸º&lt;font color=&#39;red&#39;&gt;æ–œæ ‘&lt;/font&gt;ï¼‰ï¼Œç›¸å½“äº&lt;font color=&#39;red&#39;&gt;å…¨è¡¨æ‰«æ&lt;/font&gt;ï¼Œå¯¼è‡´æŸ¥è¯¢æ•ˆç‡æ€¥å‰§ä¸‹é™ï¼Œæ—¶é—´å¤æ‚é€€åŒ–ä¸º &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math xmlns=&#34;http://www.w3.org/1998/Math/MathML&#34;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mtext&gt;ï¼ˆ&lt;/mtext&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;mtext&gt;ï¼‰&lt;/mtext&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;Oï¼ˆNï¼‰&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.02778em;&#34;&gt;O&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ï¼ˆ&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.10903em;&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ï¼‰&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/oblique-tree.png&#34; alt=&#34;æ–œæ ‘&#34; /&gt;&lt;/p&gt;
&lt;center&gt;æ–œæ ‘&lt;/center&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œ&lt;strong&gt;äºŒå‰æŸ¥æ‰¾æ ‘çš„æ€§èƒ½éå¸¸ä¾èµ–äºå®ƒçš„å¹³è¡¡ç¨‹åº¦ï¼Œè¿™å°±å¯¼è‡´å…¶ä¸é€‚åˆä½œä¸º MySQL åº•å±‚ç´¢å¼•çš„æ•°æ®ç»“æ„ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¹¶æé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œäººä»¬å‘æ˜äº†å¤šç§åœ¨äºŒå‰æŸ¥æ‰¾æ ‘åŸºç¡€ä¸Šçš„æ”¹è¿›å‹æ•°æ®ç»“æ„ï¼Œå¦‚å¹³è¡¡äºŒå‰æ ‘ã€B-Treeã€B+Tree ç­‰ã€‚&lt;/p&gt;
&lt;h5 id=&#34;avl-æ ‘è‡ªå¹³è¡¡çš„bst&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#avl-æ ‘è‡ªå¹³è¡¡çš„bst&#34;&gt;#&lt;/a&gt; AVL æ ‘ï¼ˆè‡ªå¹³è¡¡çš„ BSTï¼‰&lt;/h5&gt;
&lt;p&gt;AVL æ ‘çš„ç‰¹ç‚¹æ˜¯&lt;font color=&#39;red&#39;&gt;ä¿è¯ä»»ä½•èŠ‚ç‚¹çš„å·¦å³å­æ ‘é«˜åº¦ä¹‹å·®ä¸è¶…è¿‡ 1&lt;/font&gt;ï¼Œå› æ­¤ä¹Ÿè¢«ç§°ä¸ºé«˜åº¦å¹³è¡¡äºŒå‰æ ‘ã€‚&lt;font color=&#39;red&#39;&gt;å®ƒçš„æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤åœ¨å¹³å‡å’Œæœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math xmlns=&#34;http://www.w3.org/1998/Math/MathML&#34;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo stretchy=&#34;false&#34;&gt;(&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&#34;false&#34;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;O(logn)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.02778em;&#34;&gt;O&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.03588em;&#34;&gt;g&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/avl-tree.png&#34; alt=&#34;AVL æ ‘&#34; /&gt;&lt;/p&gt;
&lt;p&gt;AVL æ ‘é‡‡ç”¨äº†&lt;font color=&#39;red&#39;&gt;æ—‹è½¬æ“ä½œ&lt;/font&gt;æ¥ä¿æŒå¹³è¡¡ã€‚ä¸»è¦æœ‰å››ç§æ—‹è½¬æ“ä½œï¼šLL æ—‹è½¬ã€RR æ—‹è½¬ã€LR æ—‹è½¬å’Œ RL æ—‹è½¬ã€‚å…¶ä¸­ LL æ—‹è½¬å’Œ RR æ—‹è½¬åˆ†åˆ«ç”¨äºå¤„ç†å·¦å·¦å’Œå³å³å¤±è¡¡ï¼Œè€Œ LR æ—‹è½¬å’Œ RL æ—‹è½¬åˆ™ç”¨äºå¤„ç†å·¦å³å’Œå³å·¦å¤±è¡¡ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äº AVL æ ‘&lt;font color=&#39;red&#39;&gt;éœ€è¦é¢‘ç¹åœ°è¿›è¡Œæ—‹è½¬æ“ä½œæ¥ä¿æŒå¹³è¡¡&lt;/font&gt;ï¼Œå› æ­¤ä¼šæœ‰è¾ƒå¤§çš„è®¡ç®—å¼€é”€è¿›è€Œé™ä½äº†æŸ¥è¯¢æ€§èƒ½ã€‚å¹¶ä¸”ï¼Œ åœ¨ä½¿ç”¨ AVL æ ‘æ—¶ï¼Œæ¯ä¸ªæ ‘èŠ‚ç‚¹ä»…å­˜å‚¨ä¸€ä¸ªæ•°æ®ï¼Œè€Œæ¯æ¬¡è¿›è¡Œç£ç›˜ IO æ—¶åªèƒ½è¯»å–ä¸€ä¸ªèŠ‚ç‚¹çš„æ•°æ®ï¼Œå¦‚æœéœ€è¦æŸ¥è¯¢çš„æ•°æ®åˆ†å¸ƒåœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼Œé‚£ä¹ˆå°±éœ€è¦è¿›è¡Œå¤šæ¬¡ç£ç›˜ IOã€‚ &lt;strong&gt;ç£ç›˜ IO æ˜¯ä¸€é¡¹è€—æ—¶çš„æ“ä½œï¼Œåœ¨è®¾è®¡æ•°æ®åº“ç´¢å¼•æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¼˜å…ˆè€ƒè™‘å¦‚ä½•æœ€å¤§é™åº¦åœ°å‡å°‘ç£ç›˜ IO æ“ä½œçš„æ¬¡æ•°ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å®é™…åº”ç”¨ä¸­ï¼ŒAVL æ ‘ä½¿ç”¨çš„å¹¶ä¸å¤šã€‚&lt;/p&gt;
&lt;h5 id=&#34;çº¢é»‘æ ‘è‡ªå¹³è¡¡çš„bst&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#çº¢é»‘æ ‘è‡ªå¹³è¡¡çš„bst&#34;&gt;#&lt;/a&gt; çº¢é»‘æ ‘ï¼ˆè‡ªå¹³è¡¡çš„ BSTï¼‰&lt;/h5&gt;
&lt;p&gt;ä¸ AVL æ ‘ä¸€æ ·ï¼Œçº¢é»‘æ ‘ä¹Ÿæ˜¯ä¸€ç§è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œé€šè¿‡åœ¨æ’å…¥å’Œåˆ é™¤èŠ‚ç‚¹æ—¶è¿›è¡Œ&lt;font color=&#39;red&#39;&gt;é¢œè‰²å˜æ¢ã€æ—‹è½¬æ“ä½œ&lt;/font&gt;ï¼Œä½¿å¾—æ ‘å§‹ç»ˆä¿æŒå¹³è¡¡çŠ¶æ€ï¼Œå®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ¯ä¸ªèŠ‚ç‚¹éçº¢å³é»‘ï¼›&lt;/li&gt;
&lt;li&gt;æ ¹èŠ‚ç‚¹æ€»æ˜¯é»‘è‰²çš„ï¼›&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªå¶å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²çš„ç©ºèŠ‚ç‚¹ï¼ˆNIL èŠ‚ç‚¹ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœèŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œåˆ™å®ƒçš„å­èŠ‚ç‚¹å¿…é¡»æ˜¯é»‘è‰²çš„ï¼ˆåä¹‹ä¸ä¸€å®šï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æˆ–ç©ºå­èŠ‚ç‚¹çš„æ¯æ¡è·¯å¾„ï¼Œå¿…é¡»åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ï¼ˆå³ç›¸åŒçš„é»‘è‰²é«˜åº¦ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/red-black-tree.png&#34; alt=&#34;çº¢é»‘æ ‘&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å’Œ AVL æ ‘ä¸åŒçš„æ˜¯ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;çº¢é»‘æ ‘å¹¶ä¸è¿½æ±‚ä¸¥æ ¼çš„å¹³è¡¡ï¼Œè€Œæ˜¯å¤§è‡´çš„å¹³è¡¡ï¼Œå› æ­¤çº¢é»‘æ ‘çš„æŸ¥è¯¢æ•ˆç‡ç¨æœ‰ä¸‹é™&lt;/font&gt;&lt;/strong&gt;ã€‚å› ä¸ºçº¢é»‘æ ‘çš„å¹³è¡¡æ€§ç›¸å¯¹è¾ƒå¼±ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ ‘çš„é«˜åº¦è¾ƒé«˜ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›æ•°æ®éœ€è¦è¿›è¡Œå¤šæ¬¡ç£ç›˜ IO æ“ä½œæ‰èƒ½æŸ¥è¯¢åˆ°ï¼Œè¿™ä¹Ÿæ˜¯ MySQL æ²¡æœ‰é€‰æ‹©çº¢é»‘æ ‘çš„ä¸»è¦åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿæ­£å› å¦‚æ­¤ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;çº¢é»‘æ ‘çš„æ’å…¥å’Œåˆ é™¤æ“ä½œæ•ˆç‡å¤§å¤§æé«˜äº†&lt;/font&gt;&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;ï¼Œå› ä¸ºçº¢é»‘æ ‘åœ¨æ’å…¥å’Œåˆ é™¤èŠ‚ç‚¹æ—¶åªéœ€è¿›è¡Œ O (1) æ¬¡æ•°çš„æ—‹è½¬å’Œå˜è‰²æ“ä½œï¼Œå³å¯ä¿æŒåŸºæœ¬å¹³è¡¡çŠ¶æ€&lt;/font&gt;ï¼Œè€Œä¸éœ€è¦åƒ AVL æ ‘ä¸€æ ·è¿›è¡Œ O (logn) æ¬¡æ•°çš„æ—‹è½¬æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;çº¢é»‘æ ‘çš„åº”ç”¨è¿˜æ˜¯æ¯”è¾ƒå¹¿æ³›çš„ï¼Œ&lt;font color=&#39;red&#39;&gt;TreeMapã€TreeSet ä»¥åŠ JDK1.8 çš„ HashMap åº•å±‚éƒ½ç”¨åˆ°äº†çº¢é»‘æ ‘&lt;/font&gt;ã€‚å¯¹äºæ•°æ®åœ¨å†…å­˜ä¸­çš„è¿™ç§æƒ…å†µæ¥è¯´ï¼Œçº¢é»‘æ ‘çš„è¡¨ç°æ˜¯éå¸¸ä¼˜å¼‚çš„ã€‚&lt;/p&gt;
&lt;h5 id=&#34;bæ ‘-bæ ‘&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#bæ ‘-bæ ‘&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸB æ ‘ &amp;amp; B + æ ‘&lt;/mark&gt;&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ€å¸¸ç”¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;B æ ‘å…¨ç§°ä¸º&lt;strong&gt;å¤šè·¯å¹³è¡¡æŸ¥æ‰¾æ ‘&lt;/strong&gt; ï¼ŒB+ æ ‘æ˜¯ B æ ‘çš„ä¸€ç§å˜ä½“ï¼Œå…¶ä¸­ B æ˜¯  &lt;code&gt;Balanced&lt;/code&gt; ï¼ˆå¹³è¡¡ï¼‰çš„æ„æ€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ç›®å‰å¤§éƒ¨åˆ†æ•°æ®åº“ç³»ç»ŸåŠæ–‡ä»¶ç³»ç»Ÿéƒ½é‡‡ç”¨ B-Tree æˆ–å…¶å˜ç§ B+Tree ä½œä¸º&lt;u&gt;ç´¢å¼•ç»“æ„&lt;/u&gt;&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;B-tree ç´¢å¼•å¯ä»¥åœ¨&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math xmlns=&#34;http://www.w3.org/1998/Math/MathML&#34;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo stretchy=&#34;false&#34;&gt;(&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&#34;false&#34;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;O(log n)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.02778em;&#34;&gt;O&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.03588em;&#34;&gt;g&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; çš„æ—¶é—´å¤æ‚åº¦å†…æŸ¥æ‰¾æ•°æ®ï¼ŒåŸºæœ¬åŸç†å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å°†ç´¢å¼•åˆ—çš„å€¼æŒ‰ç…§ä¸€å®šçš„é¡ºåºå­˜å‚¨åœ¨ B-tree ä¸­&lt;/li&gt;
&lt;li&gt;ç„¶åé€šè¿‡ B-tree çš„æŸ¥æ‰¾ç®—æ³•å¿«é€Ÿå®šä½åˆ°ç›®æ ‡æ•°æ®&lt;/li&gt;
&lt;li&gt;B-tree ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜å‚¨äº†æŒ‡å‘æ•°æ®è¡Œçš„æŒ‡é’ˆï¼Œå› æ­¤å¯ä»¥é€šè¿‡ B-tree ç´¢å¼•å¿«é€Ÿå®šä½åˆ°ç›®æ ‡æ•°æ®è¡Œ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;B æ ‘ä¸ B + æ ‘çš„åŒºåˆ«&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;B æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½å­˜æ”¾&lt;u&gt;ç´¢å¼•åˆ—å€¼ï¼ˆkeyï¼‰&lt;/u&gt;å’Œæ•°æ®ï¼ˆdataï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼›è€Œ **&lt;font color=&#39;red&#39;&gt; B+ æ ‘åªæœ‰å¶å­èŠ‚ç‚¹æ‰åŒæ—¶å­˜æ”¾ key å’Œ dataï¼Œå…¶ä»–å†…èŠ‚ç‚¹åªå­˜æ”¾ key&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™æ · B+ æ ‘ä¸­æ¯ä¸ªå†…èŠ‚ç‚¹å¯ä»¥å­˜å‚¨æ›´å¤š key å€¼ï¼Œä»è€Œé™ä½ B + æ ‘çš„é«˜åº¦ï¼Œæé«˜æ£€ç´¢æ•ˆç‡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;B æ ‘çš„å¶å­èŠ‚ç‚¹éƒ½æ˜¯ç‹¬ç«‹çš„&lt;/font&gt;ï¼›è€Œ &lt;strong&gt;&lt;font color=&#39;red&#39;&gt;B+ æ ‘çš„æ‰€æœ‰å¶å­èŠ‚ç‚¹æ„æˆä¸€ä¸ª&lt;u&gt;æœ‰åºçš„åŒå‘é“¾è¡¨&lt;/u&gt;&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å› æ­¤ B+ æ ‘å¯ä»¥æŒ‰ç…§ key æ¥æœ‰åºéå†å…¨éƒ¨è®°å½•ï¼Œä¸”ä¾¿äºåŒºé—´æŸ¥æ‰¾å’Œæœç´¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;B æ ‘çš„æ£€ç´¢çš„è¿‡ç¨‹ç›¸å½“äºå¯¹èŒƒå›´å†…çš„æ¯ä¸ªèŠ‚ç‚¹çš„ key åšäºŒåˆ†æŸ¥æ‰¾ï¼Œå¯èƒ½è¿˜æ²¡æœ‰åˆ°è¾¾å¶å­èŠ‚ç‚¹ï¼Œæ£€ç´¢å°±ç»“æŸäº†ã€‚è€Œ &lt;strong&gt;&lt;font color=&#39;red&#39;&gt;B+ æ ‘çš„æ£€ç´¢æ•ˆç‡å°±å¾ˆç¨³å®šäº†ï¼Œä»»ä½•æŸ¥æ‰¾éƒ½æ˜¯ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è¿‡ç¨‹ï¼Œå¶å­èŠ‚ç‚¹çš„é¡ºåºæ£€ç´¢å¾ˆæ˜æ˜¾&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ B æ ‘ä¸­è¿›è¡ŒèŒƒå›´æŸ¥è¯¢æ—¶ï¼Œé¦–å…ˆæ‰¾åˆ°è¦æŸ¥æ‰¾çš„ä¸‹é™ï¼Œç„¶åå¯¹ B æ ‘è¿›è¡Œä¸­åºéå†ï¼Œç›´åˆ°æ‰¾åˆ°æŸ¥æ‰¾çš„ä¸Šé™ï¼›è€Œ &lt;strong&gt;&lt;font color=&#39;red&#39;&gt;B+ æ ‘çš„èŒƒå›´æŸ¥è¯¢ï¼Œåªéœ€è¦å¯¹æœ‰åºçš„åŒå‘é“¾è¡¨è¿›è¡Œéå†å³å¯&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/249993-20170525154141810-591706803.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;Bæ ‘ç´¢å¼•ï¼ˆ3é˜¶ï¼‰&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/249993-20170531161139243-491884410.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ï¼ˆB+æ ‘ç´¢å¼•ï¼‰&lt;/center&gt;
&lt;p&gt;ç»¼ä¸Šï¼ŒB + æ ‘ä¸ B æ ‘ç›¸æ¯”ï¼Œå…·å¤‡ **&lt;font color=&#39;red&#39;&gt;æ›´é«˜ï¼Œæ›´ç¨³å®šçš„æŸ¥è¯¢æ•ˆç‡ã€æ›´é€‚ç”¨äºèŒƒå›´æŸ¥è¯¢&lt;/font&gt;** è¿™äº›ä¼˜åŠ¿ã€‚&lt;/p&gt;
&lt;h5 id=&#34;mysql-é€‰æ‹©-b-æ ‘ä½œä¸ºç´¢å¼•ç»“æ„çš„åŸå› &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysql-é€‰æ‹©-b-æ ‘ä½œä¸ºç´¢å¼•ç»“æ„çš„åŸå› &#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸMySQL é€‰æ‹© B+ æ ‘ä½œä¸ºç´¢å¼•ç»“æ„çš„åŸå› &lt;/mark&gt;&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;1ã€ä¸ºä»€ä¹ˆä¸ä½¿ç”¨äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBSTï¼‰ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;äºŒå‰æŸ¥æ‰¾æ ‘å¯èƒ½å› ä¸ºå¤±è¡¡ä¸¥é‡å‡ºç°&lt;font color=&#39;red&#39;&gt;â€œæ–œæ ‘â€ï¼Œé€€åŒ–ä¸ºçº¿æ€§é“¾è¡¨ï¼Œç›¸å½“äºå…¨è¡¨æ‰«æ&lt;/font&gt;ï¼Œé«˜åº¦å¤ªé«˜äº†ï¼ŒæŸ¥æ‰¾æ•ˆç‡ä¸ç¨³å®šã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2ã€ä¸ºä»€ä¹ˆä¸ä½¿ç”¨å¹³è¡¡äºŒå‰æ ‘ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¹³è¡¡äºŒå‰æ ‘è§£å†³äº†äºŒå‰æ ‘é«˜åº¦å¤ªé«˜ï¼ŒæŸ¥æ‰¾æ•ˆç‡ä¸ç¨³å®šçš„é—®é¢˜ã€‚ä½†æ˜¯ï¼Œå¹³è¡¡äºŒå‰æ ‘çš„&lt;font color=&#39;red&#39;&gt;æ¯ä¸ªèŠ‚ç‚¹åªå­˜å‚¨ä¸€ä¸ªé”®å€¼å’Œæ•°æ®ï¼Œå¦‚æœæ•°æ®éå¸¸çš„å¤šï¼ŒäºŒå‰æ ‘çš„ç»“ç‚¹å°†ä¼šéå¸¸å¤šï¼Œé«˜åº¦ä¹Ÿä¼šå¾ˆé«˜ï¼ŒæŸ¥æ‰¾æ•ˆç‡é™ä½&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3ã€ä¸ºä»€ä¹ˆä¸ä½¿ç”¨ B æ ‘ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;B æ ‘åªé€‚åˆéšæœºæ£€ç´¢&lt;/font&gt;&lt;/strong&gt;ï¼Œè€Œ B + æ ‘åŒæ—¶æ”¯æŒéšæœºæ£€ç´¢å’Œé¡ºåº / èŒƒå›´æ£€ç´¢ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;B + æ ‘çš„ç©ºé—´åˆ©ç”¨ç‡æ›´é«˜&lt;/font&gt;&lt;/strong&gt;ï¼šå› ä¸º B + æ ‘çš„å†…éƒ¨èŠ‚ç‚¹ï¼ˆéå¶å­èŠ‚ç‚¹ï¼Œä¹Ÿç§°ç´¢å¼•èŠ‚ç‚¹ï¼‰ä¸å­˜å‚¨æ•°æ®ï¼Œåªå­˜å‚¨ç´¢å¼•å€¼ï¼Œç›¸æ¯”è¾ƒ B æ ‘æ¥è¯´ï¼ŒB + æ ‘ä¸€ä¸ªèŠ‚ç‚¹å¯å­˜å‚¨æ›´å¤šçš„ç´¢å¼•å€¼ï¼Œä½¿å¾—æ•´é¢— B + æ ‘å˜å¾—æ›´çŸ®ï¼Œå‡å°‘ I/O æ¬¡æ•°ï¼Œç£ç›˜è¯»å†™ä»£ä»·æ›´ä½ï¼ŒI/O è¯»å†™æ¬¡æ•°æ˜¯å½±å“ç´¢å¼•æ£€ç´¢æ•ˆç‡çš„æœ€å¤§å› ç´ ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;B + æ ‘æŸ¥è¯¢æ•ˆç‡æ›´åŠ ç¨³å®š&lt;/font&gt;&lt;/strong&gt;ï¼šå› ä¸ºåœ¨ B + æ ‘ä¸­ï¼Œé¡ºåºæ£€ç´¢æ¯”è¾ƒæ˜æ˜¾ï¼Œéšæœºæ£€ç´¢æ—¶ï¼Œç”±äº B + æ ‘æ‰€æœ‰çš„ data åŸŸï¼ˆç»“ç‚¹ä¸­å­˜å‚¨æ•°æ®å…ƒç´ çš„éƒ¨åˆ†ï¼‰éƒ½åœ¨æ ¹èŠ‚ç‚¹ï¼Œä»»ä½•å…³é”®å­—çš„æŸ¥æ‰¾éƒ½å¿…é¡»èµ°ä¸€æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯ï¼Œæ‰€æœ‰å…³é”®å­—çš„æŸ¥æ‰¾è·¯å¾„ç›¸åŒï¼Œå¯¼è‡´æ¯ä¸€ä¸ªå…³é”®å­—çš„æŸ¥è¯¢æ•ˆç‡åŸºæœ¬ç›¸åŒï¼Œæ—¶é—´å¤æ‚åº¦å›ºå®šä¸º O (log n)ï¼›è€Œ B æ ‘æœç´¢æœ‰å¯èƒ½ä¼šåœ¨éå¶å­èŠ‚ç‚¹ç»“æŸï¼Œè¶Šé è¿‘æ ¹èŠ‚ç‚¹çš„è®°å½•æŸ¥æ‰¾æ—¶é—´è¶ŠçŸ­ï¼Œå…¶æ€§èƒ½ç­‰ä»·äºåœ¨å…³é”®å­—å…¨é›†å†…åšä¸€æ¬¡äºŒåˆ†æŸ¥æ‰¾ï¼ŒæŸ¥è¯¢æ—¶é—´å¤æ‚åº¦ä¸å›ºå®šï¼Œä¸ key åœ¨æ ‘ä¸­çš„ä½ç½®æœ‰å…³ï¼Œæœ€å¥½æƒ…å†µä¸º O (1)ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;B + æ ‘èŒƒå›´æŸ¥è¯¢æ€§èƒ½æ›´ä¼˜&lt;/font&gt;&lt;/strong&gt;ï¼šå› ä¸º B + æ ‘çš„å¶å­èŠ‚ç‚¹ä½¿ç”¨äº†æŒ‡é’ˆé¡ºåºï¼ˆé“¾è¡¨ï¼‰ä»å°åˆ°å¤§åœ°è¿æ¥åœ¨ä¸€èµ·ï¼ŒB + æ ‘å¶èŠ‚ç‚¹ä¸¤ä¸¤ç›¸è¿å¯å¤§å¤§å¢åŠ åŒºé—´è®¿é—®æ€§ï¼Œåªè¦éå†å¶å­èŠ‚ç‚¹å°±å¯ä»¥å®ç°æ•´æ£µæ ‘çš„éå†ï¼›è€Œ B æ ‘çš„å¶å­èŠ‚ç‚¹æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œæ¯ä¸ªèŠ‚ç‚¹ keyï¼ˆç´¢å¼•ï¼‰å’Œ data åœ¨ä¸€èµ·ï¼Œåˆ™æ— æ³•æŸ¥æ‰¾åŒºé—´ï¼›&lt;/p&gt;
&lt;p&gt;æ ¹æ®ç©ºé—´å±€éƒ¨æ€§åŸç†ï¼šå¦‚æœä¸€ä¸ªå­˜å‚¨å™¨çš„æŸä¸ªä½ç½®è¢«è®¿é—®ï¼Œé‚£ä¹ˆå°†å®ƒé™„è¿‘çš„ä½ç½®ä¹Ÿä¼šè¢«è®¿é—®ã€‚è‹¥è®¿é—®èŠ‚ç‚¹ key ä¸º 50ï¼Œåˆ™ key ä¸º 55ã€60ã€62 çš„èŠ‚ç‚¹å°†æ¥ä¹Ÿå¯èƒ½è¢«è®¿é—®ï¼Œå¯åˆ©ç”¨ç£ç›˜é¢„è¯»åŸç†æå‰å°†è¿™äº›æ•°æ®è¯»å…¥å†…å­˜ï¼Œå‡å°‘äº†ç£ç›˜ IO çš„æ¬¡æ•°ã€‚å½“ç„¶ B + æ ‘ä¹Ÿèƒ½å¤Ÿå¾ˆå¥½çš„å®ŒæˆèŒƒå›´æŸ¥è¯¢ï¼Œæ¯”å¦‚åŒæ—¶ä¹Ÿä¼šæŸ¥è¯¢ key å€¼åœ¨ 50-70 ä¹‹é—´çš„èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;B + æ ‘å¢åˆ æ–‡ä»¶ï¼ˆèŠ‚ç‚¹ï¼‰æ—¶æ•ˆç‡æ›´é«˜&lt;/font&gt;&lt;/strong&gt;ï¼šå› ä¸º B + æ ‘çš„å¶å­èŠ‚ç‚¹åŒ…å«äº†æ‰€æœ‰å…³é”®å­—ï¼Œå¹¶ä»¥æœ‰åºçš„é“¾è¡¨ç»“æ„å­˜å‚¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ç´¢å¼•åˆ†ç±»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç´¢å¼•åˆ†ç±»&#34;&gt;#&lt;/a&gt; ç´¢å¼•åˆ†ç±»&lt;/h4&gt;
&lt;p&gt;æŒ‰ç…§&lt;font color=&#39;gree&#39;&gt;æ•°æ®ç»“æ„&lt;/font&gt;åˆ†ç±»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;B + æ ‘ç´¢å¼•&lt;/font&gt;&lt;/strong&gt;ï¼šMySQL é‡Œ&lt;font color=&#39;red&#39;&gt;é»˜è®¤çš„&lt;/font&gt;ç´¢å¼•ç±»å‹ã€‚&lt;font color=&#39;red&#39;&gt;åªæœ‰å¶å­èŠ‚ç‚¹å­˜å‚¨ valueï¼Œéå¶å­èŠ‚ç‚¹åªæœ‰æŒ‡é’ˆå’Œ key&lt;/font&gt;ã€‚å­˜å‚¨å¼•æ“ MyISAM å’Œ InnoDB å®ç°ç´¢å¼•éƒ½æ˜¯ä½¿ç”¨ B+Treeï¼Œä½†äºŒè€…å®ç°æ–¹å¼ä¸ä¸€æ ·ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;hash ç´¢å¼•&lt;/font&gt;ï¼šç±»ä¼¼é”®å€¼å¯¹çš„å½¢å¼ï¼Œä¸€æ¬¡å³å¯å®šä½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;R æ ‘ç´¢å¼•&lt;/font&gt;ï¼šä¸€èˆ¬ä¸ä¼šä½¿ç”¨ï¼Œ&lt;font color=&#39;red&#39;&gt;ä»…æ”¯æŒ geometry æ•°æ®ç±»å‹&lt;/font&gt;ï¼Œä¼˜åŠ¿åœ¨äºèŒƒå›´æŸ¥æ‰¾ï¼Œæ•ˆç‡è¾ƒä½ï¼Œé€šå¸¸ä½¿ç”¨æœç´¢å¼•æ“å¦‚ ElasticSearch ä»£æ›¿ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å…¨æ–‡ç´¢å¼•&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;å¯¹æ–‡æœ¬çš„å†…å®¹è¿›è¡Œåˆ†è¯ï¼Œè¿›è¡Œæœç´¢&lt;/font&gt;ã€‚ç›®å‰åªæœ‰  &lt;code&gt;CHAR&lt;/code&gt; ã€ &lt;code&gt;VARCHAR&lt;/code&gt;  ï¼Œ &lt;code&gt;TEXT&lt;/code&gt;  åˆ—ä¸Šå¯ä»¥åˆ›å»ºå…¨æ–‡ç´¢å¼•ã€‚&lt;font color=&#39;red&#39;&gt;ä¸€èˆ¬ä¸ä¼šä½¿ç”¨ï¼Œæ•ˆç‡è¾ƒä½&lt;/font&gt;ï¼Œé€šå¸¸ä½¿ç”¨æœç´¢å¼•æ“å¦‚ ElasticSearch ä»£æ›¿ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æŒ‰ç…§&lt;font color=&#39;gree&#39;&gt;åº•å±‚å­˜å‚¨æ–¹å¼&lt;/font&gt;åˆ’åˆ†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;èšé›†ç´¢å¼•&lt;/font&gt;&lt;/strong&gt;ï¼šèšé›†ç´¢å¼•çš„&lt;strong&gt;å¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯&lt;u&gt;æ•´è¡Œè®°å½•&lt;/u&gt;&lt;/strong&gt;ã€‚&lt;font color=&#39;red&#39;&gt;å¯ä»¥ç›´æ¥æŸ¥æ‰¾åˆ°æ•°æ®ï¼ŒæŸ¥è¯¢é€Ÿåº¦å¿«ã€‚æ¯ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªèšé›†ç´¢å¼•&lt;/font&gt;ã€‚ä¾‹å¦‚ &lt;font color=&#39;red&#39;&gt;InnoDB å¼•æ“ä¸­çš„ä¸»é”®ç´¢å¼•&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ MySQL ä¸­ï¼ŒInnoDB å¼•æ“è¡¨çš„  &lt;code&gt;.ibd&lt;/code&gt;  è¡¨ç©ºé—´æ–‡ä»¶åŒ…å«äº†è¯¥è¡¨çš„ç´¢å¼•å’Œæ•°æ®ï¼Œå› æ­¤è¯¥è¡¨çš„ç´¢å¼• (B + æ ‘) çš„æ¯ä¸ªéå¶å­èŠ‚ç‚¹å­˜å‚¨ç´¢å¼•ï¼Œå¶å­èŠ‚ç‚¹å­˜å‚¨ç´¢å¼•å’Œç´¢å¼•å¯¹åº”çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;éèšé›†ç´¢å¼•&lt;/font&gt;&lt;/strong&gt;ï¼šéèšé›†ç´¢å¼•çš„&lt;strong&gt;å¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯&lt;u&gt;ç´¢å¼•åˆ—çš„å€¼ã€æŒ‡å‘å¯¹åº”è¡Œè®°å½•çš„æŒ‡é’ˆ&lt;/u&gt;&lt;/strong&gt;ã€‚æŸ¥è¯¢é€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢ã€‚&lt;font color=&#39;red&#39;&gt;MyISAM å¼•æ“ï¼Œæ— è®ºä¸»é”®è¿˜æ˜¯éä¸»é”®ï¼Œä½¿ç”¨çš„éƒ½æ˜¯éèšé›†ç´¢å¼•&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æŒ‰ç…§&lt;font color=&#39;gree&#39;&gt;åº”ç”¨ç»´åº¦&lt;/font&gt;åˆ’åˆ†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ä¸»é”®ç´¢å¼•&lt;/font&gt;ï¼šåŠ é€ŸæŸ¥è¯¢ + åˆ—å€¼å”¯ä¸€ï¼ˆä¸å¯ä»¥æœ‰ NULLï¼‰+ è¡¨ä¸­åªæœ‰ä¸€ä¸ªã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æ™®é€šç´¢å¼•&lt;/font&gt;ï¼šä»…åŠ é€ŸæŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å”¯ä¸€ç´¢å¼•&lt;/font&gt;ï¼šåŠ é€ŸæŸ¥è¯¢ + åˆ—å€¼å”¯ä¸€ï¼ˆå¯ä»¥æœ‰ NULLï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;è¦†ç›–ç´¢å¼•&lt;/font&gt;ï¼šä¸€ä¸ªç´¢å¼•åŒ…å«ï¼ˆæˆ–è€…è¯´è¦†ç›–ï¼‰æ‰€æœ‰éœ€è¦æŸ¥è¯¢çš„å­—æ®µçš„å€¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;è”åˆç´¢å¼•&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;å¤šåˆ—å€¼ç»„æˆä¸€ä¸ªç´¢å¼•&lt;/font&gt;ï¼Œä¸“é—¨ç”¨äºç»„åˆæœç´¢ï¼Œå…¶æ•ˆç‡å¤§äºç´¢å¼•åˆå¹¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å…¨æ–‡ç´¢å¼•&lt;/font&gt;ï¼šå¯¹æ–‡æœ¬çš„å†…å®¹è¿›è¡Œåˆ†è¯ï¼Œè¿›è¡Œæœç´¢ã€‚ç›®å‰åªæœ‰  &lt;code&gt;CHAR&lt;/code&gt; ã€ &lt;code&gt;VARCHAR&lt;/code&gt;  ï¼Œ &lt;code&gt;TEXT&lt;/code&gt;  åˆ—ä¸Šå¯ä»¥åˆ›å»ºå…¨æ–‡ç´¢å¼•ã€‚ä¸€èˆ¬ä¸ä¼šä½¿ç”¨ï¼Œæ•ˆç‡è¾ƒä½ï¼Œé€šå¸¸ä½¿ç”¨æœç´¢å¼•æ“å¦‚ ElasticSearch ä»£æ›¿ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;MySQL 8.x ä¸­å®ç°çš„&lt;font color=&#39;gree&#39;&gt;ç´¢å¼•æ–°ç‰¹æ€§&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;éšè—ç´¢å¼•&lt;/font&gt;ï¼šä¹Ÿç§°ä¸ºä¸å¯è§ç´¢å¼•ï¼Œä¸ä¼šè¢«ä¼˜åŒ–å™¨ä½¿ç”¨ï¼Œä½†æ˜¯ä»ç„¶éœ€è¦ç»´æŠ¤ï¼Œé€šå¸¸ä¼šè½¯åˆ é™¤å’Œç°åº¦å‘å¸ƒçš„åœºæ™¯ä¸­ä½¿ç”¨ã€‚ä¸»é”®ä¸èƒ½è®¾ç½®ä¸ºéšè—ï¼ˆåŒ…æ‹¬æ˜¾å¼è®¾ç½®æˆ–éšå¼è®¾ç½®ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;é™åºç´¢å¼•&lt;/font&gt;ï¼šä¹‹å‰çš„ç‰ˆæœ¬å°±æ”¯æŒé€šè¿‡ desc æ¥æŒ‡å®šç´¢å¼•ä¸ºé™åºï¼Œä½†å®é™…ä¸Šåˆ›å»ºçš„ä»ç„¶æ˜¯å¸¸è§„çš„å‡åºç´¢å¼•ã€‚ç›´åˆ° MySQL 8.x ç‰ˆæœ¬æ‰å¼€å§‹çœŸæ­£æ”¯æŒé™åºç´¢å¼•ã€‚å¦å¤–ï¼Œåœ¨ MySQL 8.x ç‰ˆæœ¬ä¸­ï¼Œä¸å†å¯¹ GROUP BY è¯­å¥è¿›è¡Œéšå¼æ’åºã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å‡½æ•°ç´¢å¼•&lt;/font&gt;ï¼šä» MySQL 8.0.13 ç‰ˆæœ¬å¼€å§‹æ”¯æŒåœ¨ç´¢å¼•ä¸­ä½¿ç”¨å‡½æ•°æˆ–è€…è¡¨è¾¾å¼çš„å€¼ï¼Œä¹Ÿå°±æ˜¯åœ¨ç´¢å¼•ä¸­å¯ä»¥åŒ…å«å‡½æ•°æˆ–è€…è¡¨è¾¾å¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ä¸»é”®ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸»é”®ç´¢å¼•&#34;&gt;#&lt;/a&gt; ä¸»é”®ç´¢å¼•&lt;/h5&gt;
&lt;p&gt;æ•°æ®è¡¨çš„&lt;font color=&#39;red&#39;&gt;ä¸»é”®åˆ—&lt;/font&gt;ä½¿ç”¨çš„å°±æ˜¯ä¸»é”®ç´¢å¼•ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€å¼ æ•°æ®è¡¨æœ‰åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®ï¼Œå¹¶ä¸”ä¸»é”®ä¸èƒ½ä¸º nullï¼Œä¸èƒ½é‡å¤ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ MySQL çš„ InnoDB çš„è¡¨ä¸­ï¼Œå½“æ²¡æœ‰æ˜¾ç¤ºçš„æŒ‡å®šè¡¨çš„ä¸»é”®æ—¶ï¼ŒInnoDB ä¼šè‡ªåŠ¨å…ˆæ£€æŸ¥è¡¨ä¸­æ˜¯å¦æœ‰å”¯ä¸€ç´¢å¼•ä¸”ä¸å…è®¸å­˜åœ¨ null å€¼çš„å­—æ®µï¼Œå¦‚æœæœ‰ï¼Œåˆ™é€‰æ‹©è¯¥å­—æ®µä¸ºé»˜è®¤çš„ä¸»é”®ï¼Œå¦åˆ™ InnoDB å°†ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ª 6 Byte çš„è‡ªå¢ä¸»é”®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/cluster-index.png&#34; alt=&#34;ä¸»é”®ç´¢å¼•&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ä¸»é”®ç´¢å¼•&lt;/center&gt;
&lt;h5 id=&#34;äºŒçº§ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#äºŒçº§ç´¢å¼•&#34;&gt;#&lt;/a&gt; äºŒçº§ç´¢å¼•&lt;/h5&gt;
&lt;p&gt;äºŒçº§ç´¢å¼•ï¼ˆSecondary Indexï¼‰åˆç§°ä¸ºè¾…åŠ©ç´¢å¼•ï¼Œæ˜¯ä¸€ç§éèšé›†ç´¢å¼•ï¼Œå› ä¸º&lt;strong&gt;äºŒçº§ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä»…ä»…å­˜å‚¨&lt;u&gt;ç´¢å¼•åˆ—çš„å€¼ã€å¯¹åº”è¡Œè®°å½•çš„ä¸»é”® key&lt;/u&gt;&lt;/strong&gt;ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ&lt;font color=&#39;red&#39;&gt;é€šè¿‡äºŒçº§ç´¢å¼•ï¼Œå¯ä»¥å®šä½ä¸»é”®çš„ä½ç½®ï¼Œå†æ ¹æ®ä¸»é”®ç´¢å¼•æŸ¥æ‰¾è¡Œè®°å½• dataï¼Œè¿™å°±æ˜¯&lt;strong&gt;äºŒæ¬¡æŸ¥è¯¢ï¼ˆå›è¡¨ï¼‰&lt;/strong&gt;ï¼Œå› æ­¤äºŒçº§ç´¢å¼•çš„æŸ¥è¯¢é€Ÿåº¦è¾ƒæ…¢&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å”¯ä¸€ç´¢å¼•ï¼Œæ™®é€šç´¢å¼•ï¼Œå‰ç¼€ç´¢å¼•ã€å…¨æ–‡ç´¢å¼•éƒ½å±äºäºŒçº§ç´¢å¼•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å”¯ä¸€ç´¢å¼• (Unique Key)&lt;/font&gt;ï¼šå”¯ä¸€ç´¢å¼•ä¹Ÿæ˜¯ä¸€ç§çº¦æŸã€‚&lt;font color=&#39;red&#39;&gt;å”¯ä¸€ç´¢å¼•çš„å±æ€§åˆ—ä¸èƒ½å‡ºç°é‡å¤çš„æ•°æ®ï¼Œä½†æ˜¯å…è®¸æ•°æ®ä¸º NULLï¼Œä¸€å¼ è¡¨å…è®¸åˆ›å»ºå¤šä¸ªå”¯ä¸€ç´¢å¼•&lt;/font&gt;ã€‚å»ºç«‹å”¯ä¸€ç´¢å¼•çš„ç›®çš„å¤§éƒ¨åˆ†æ—¶å€™éƒ½æ˜¯&lt;font color=&#39;red&#39;&gt;ä¸ºäº†è¯¥å±æ€§åˆ—çš„æ•°æ®çš„å”¯ä¸€æ€§ï¼Œè€Œä¸æ˜¯ä¸ºäº†æŸ¥è¯¢æ•ˆç‡&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æ™®é€šç´¢å¼• (Index)&lt;/font&gt;ï¼šæ™®é€šç´¢å¼•çš„å”¯ä¸€ä½œç”¨å°±æ˜¯&lt;font color=&#39;red&#39;&gt;ä¸ºäº†å¿«é€ŸæŸ¥è¯¢æ•°æ®&lt;/font&gt;ï¼Œä¸€å¼ è¡¨å…è®¸åˆ›å»ºå¤šä¸ªæ™®é€šç´¢å¼•ï¼Œå¹¶å…è®¸æ•°æ®é‡å¤å’Œ NULLã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å‰ç¼€ç´¢å¼• (Prefix)&lt;/font&gt;ï¼šå‰ç¼€ç´¢å¼•åªé€‚ç”¨äºå­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®ã€‚å‰ç¼€ç´¢å¼•æ˜¯&lt;font color=&#39;red&#39;&gt;å¯¹æ–‡æœ¬çš„å‰å‡ ä¸ªå­—ç¬¦åˆ›å»ºç´¢å¼•ï¼Œç›¸æ¯”æ™®é€šç´¢å¼•å»ºç«‹çš„æ•°æ®æ›´å°&lt;/font&gt;ï¼Œå› ä¸ºåªå–å‰å‡ ä¸ªå­—ç¬¦ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å…¨æ–‡ç´¢å¼• (Full Text)&lt;/font&gt;ï¼šå…¨æ–‡ç´¢å¼•ä¸»è¦æ˜¯&lt;font color=&#39;red&#39;&gt;ä¸ºäº†æ£€ç´¢å¤§æ–‡æœ¬æ•°æ®ä¸­çš„å…³é”®å­—ä¿¡æ¯&lt;/font&gt;ï¼Œæ˜¯ç›®å‰æœç´¢å¼•æ“æ•°æ®åº“ä½¿ç”¨çš„ä¸€ç§æŠ€æœ¯ã€‚Mysql 5.6 ä¹‹å‰åªæœ‰ MYISAM å¼•æ“æ”¯æŒå…¨æ–‡ç´¢å¼•ï¼Œ5.6 ä¹‹å InnoDB ä¹Ÿæ”¯æŒäº†å…¨æ–‡ç´¢å¼•ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/no-cluster-index.png&#34; alt=&#34;äºŒçº§ç´¢å¼•&#34; /&gt;&lt;/p&gt;
&lt;center&gt;äºŒçº§ç´¢å¼•&lt;/center&gt;
&lt;h5 id=&#34;èšé›†ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#èšé›†ç´¢å¼•&#34;&gt;#&lt;/a&gt; èšé›†ç´¢å¼•&lt;/h5&gt;
&lt;p&gt;èšé›†ç´¢å¼•ï¼ˆClustered Indexï¼‰çš„&lt;strong&gt;å¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯&lt;u&gt;æ•´è¡Œè®°å½•&lt;/u&gt;&lt;/strong&gt;ã€‚&lt;font color=&#39;red&#39;&gt;å¯ä»¥ç›´æ¥æŸ¥æ‰¾åˆ°æ•°æ®ï¼ŒæŸ¥è¯¢é€Ÿåº¦å¿«ã€‚æ¯ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªèšé›†ç´¢å¼•&lt;/font&gt;ã€‚ä¾‹å¦‚ &lt;font color=&#39;red&#39;&gt;InnoDB å¼•æ“ä¸­çš„ä¸»é”®ç´¢å¼•&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ MySQL ä¸­ï¼Œ&lt;font color=&#39;red&#39;&gt;InnoDB å¼•æ“çš„è¡¨çš„  &lt;code&gt;.ibd&lt;/code&gt;  è¡¨ç©ºé—´æ–‡ä»¶å°±åŒ…å«äº†è¯¥è¡¨çš„ç´¢å¼•å’Œæ•°æ®&lt;/font&gt;ï¼Œå¯¹äº InnoDB å¼•æ“è¡¨æ¥è¯´ï¼Œè¯¥è¡¨çš„ç´¢å¼• (B + æ ‘) çš„æ¯ä¸ªéå¶å­èŠ‚ç‚¹å­˜å‚¨ç´¢å¼•ï¼Œå¶å­èŠ‚ç‚¹å­˜å‚¨ç´¢å¼•å’Œç´¢å¼•å¯¹åº”çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æŸ¥è¯¢é€Ÿåº¦éå¸¸å¿«&lt;/strong&gt;ï¼šå› ä¸ºæ•´ä¸ª B+ æ ‘æœ¬èº«å°±æ˜¯ä¸€é¢—å¤šå‰å¹³è¡¡æ ‘ï¼Œå¶å­èŠ‚ç‚¹ä¹Ÿéƒ½æ˜¯æœ‰åºçš„ï¼Œå®šä½åˆ°ç´¢å¼•çš„èŠ‚ç‚¹ï¼Œå°±ç›¸å½“äºå®šä½åˆ°äº†æ•°æ®ã€‚&lt;font color=&#39;red&#39;&gt;ç›¸æ¯”äºéèšé›†ç´¢å¼•ï¼Œ èšé›†ç´¢å¼•å°‘äº†ä¸€æ¬¡è¯»å–æ•°æ®çš„ IO æ“ä½œ&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯¹æ’åºæŸ¥æ‰¾å’ŒèŒƒå›´æŸ¥æ‰¾ä¼˜åŒ–&lt;/strong&gt;ï¼šå¯¹äºä¸»é”®çš„æ’åºæŸ¥æ‰¾å’ŒèŒƒå›´æŸ¥æ‰¾é€Ÿåº¦éå¸¸å¿«ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¾èµ–äºæœ‰åºçš„æ•°æ®&lt;/strong&gt;ï¼šå› ä¸º B+ æ ‘æ˜¯å¤šè·¯å¹³è¡¡æ ‘ï¼Œå¦‚æœç´¢å¼•çš„æ•°æ®ä¸æ˜¯æœ‰åºçš„ï¼Œé‚£ä¹ˆå°±&lt;font color=&#39;red&#39;&gt;éœ€è¦åœ¨æ’å…¥æ—¶æ’åº&lt;/font&gt;ï¼Œå¦‚æœæ•°æ®æ˜¯æ•´å‹è¿˜å¥½ï¼Œå¦åˆ™ç±»ä¼¼äºå­—ç¬¦ä¸²æˆ– UUID è¿™ç§åˆé•¿åˆéš¾æ¯”è¾ƒçš„æ•°æ®ï¼Œ&lt;font color=&#39;red&#39;&gt;æ’å…¥æˆ–æŸ¥æ‰¾çš„é€Ÿåº¦è‚¯å®šæ¯”è¾ƒæ…¢&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¿®æ”¹æ›´æ–°çš„ä»£ä»·å¤§&lt;/strong&gt;ï¼šå¦‚æœç´¢å¼•åˆ—çš„æ•°æ®è¢«ä¿®æ”¹ï¼Œé‚£ä¹ˆå¯¹åº”çš„ç´¢å¼•ä¹Ÿå°†ä¼šè¢«ä¿®æ”¹ï¼Œè€Œä¸”èšé›†ç´¢å¼•çš„å¶å­èŠ‚ç‚¹è¿˜å­˜æ”¾ç€æ•°æ®ï¼Œä¿®æ”¹ä»£ä»·è‚¯å®šæ˜¯è¾ƒå¤§çš„ã€‚æ‰€ä»¥å¯¹äºä¸»é”®ç´¢å¼•æ¥è¯´ï¼Œä¸»é”®ä¸€èˆ¬éƒ½æ˜¯ä¸å¯è¢«ä¿®æ”¹çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;éèšé›†ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#éèšé›†ç´¢å¼•&#34;&gt;#&lt;/a&gt; éèšé›†ç´¢å¼•&lt;/h5&gt;
&lt;p&gt;éèšé›†ç´¢å¼•ï¼ˆNon-Clustered Indexï¼‰çš„&lt;strong&gt;å¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯&lt;u&gt;ç´¢å¼•åˆ—çš„å€¼ã€æŒ‡å‘å¯¹åº”è¡Œè®°å½•çš„æŒ‡é’ˆ&lt;/u&gt;&lt;/strong&gt;ã€‚æŸ¥è¯¢é€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢ã€‚äºŒçº§ç´¢å¼• (è¾…åŠ©ç´¢å¼•) å°±å±äºéèšé›†ç´¢å¼•ã€‚&lt;font color=&#39;red&#39;&gt;MyISAM å¼•æ“ï¼Œæ— è®ºä¸»é”®è¿˜æ˜¯éä¸»é”®ï¼Œä½¿ç”¨çš„éƒ½æ˜¯éèšé›†ç´¢å¼•&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;éèšé›†ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å¹¶ä¸ä¸€å®šå­˜æ”¾æ•°æ®çš„æŒ‡é’ˆï¼Œå› ä¸º&lt;font color=&#39;red&#39;&gt;äºŒçº§ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å°±å­˜æ”¾çš„æ˜¯ä¸»é”®ï¼Œæ ¹æ®ä¸»é”®å†å›è¡¨æŸ¥æ•°æ®&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ›´æ–°ä»£ä»·æ¯”èšé›†ç´¢å¼•è¦å°&lt;/strong&gt;ï¼šå› ä¸ºéèšé›†ç´¢å¼•çš„&lt;font color=&#39;red&#39;&gt;å¶å­èŠ‚ç‚¹æ˜¯ä¸å­˜æ”¾æ•°æ®çš„&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¾èµ–äºæœ‰åºçš„æ•°æ®&lt;/strong&gt;ï¼šè·Ÿèšç°‡ç´¢å¼•ä¸€æ ·ï¼Œéèšç°‡ç´¢å¼•ä¹Ÿä¾èµ–äºæœ‰åºçš„æ•°æ®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;orange&#39;&gt;å¯èƒ½ä¼šäºŒæ¬¡æŸ¥è¯¢ (å›è¡¨æŸ¥è¯¢)&lt;/font&gt;&lt;/strong&gt;: è¿™åº”è¯¥æ˜¯éèšç°‡ç´¢å¼•æœ€å¤§çš„ç¼ºç‚¹äº†ã€‚&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å½“æŸ¥åˆ°éèšé›†ç´¢å¼•å¯¹åº”çš„æŒ‡é’ˆæˆ–ä¸»é”®åï¼Œå¯èƒ½è¿˜éœ€è¦æ ¹æ®æŒ‡é’ˆæˆ–ä¸»é”®å†åˆ°æ•°æ®æ–‡ä»¶æˆ–è¡¨ä¸­æŸ¥è¯¢&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;éèšé›†ç´¢å¼•ä¸ä¸€å®šå›è¡¨æŸ¥è¯¢ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¯•æƒ³ä¸€ç§æƒ…å†µï¼Œç”¨æˆ·å‡†å¤‡ä½¿ç”¨ SQL æŸ¥è¯¢ç”¨æˆ·åï¼Œè€Œç”¨æˆ·åå­—æ®µæ­£å¥½å»ºç«‹äº†ç´¢å¼•ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; name &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;table&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; name&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;guang19&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é‚£ä¹ˆè¿™ä¸ª&lt;font color=&#39;red&#39;&gt;ç´¢å¼•çš„ key æœ¬èº«å°±æ˜¯è¦æŸ¥è¯¢çš„å­—æ®µ&lt;/font&gt;ï¼ŒæŸ¥åˆ°å¯¹åº”çš„ name ç›´æ¥è¿”å›å°±è¡Œäº†ï¼Œæ— éœ€å›è¡¨æŸ¥è¯¢ã€‚&lt;/p&gt;
&lt;p&gt;å³ä½¿æ˜¯ MYISAM ä¹Ÿæ˜¯è¿™æ ·ï¼Œè™½ç„¶ MYISAM çš„ä¸»é”®ç´¢å¼•ç¡®å®éœ€è¦å›è¡¨ï¼Œå› ä¸ºå®ƒçš„ä¸»é”®ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜æ”¾çš„æ˜¯æŒ‡é’ˆã€‚ä½†æ˜¯ï¼&lt;strong&gt;å¦‚æœ SQL æŸ¥çš„å°±æ˜¯ä¸»é”®å‘¢ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; id &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;table&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; id&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ä¸»é”®ç´¢å¼•æœ¬èº«çš„ key å°±æ˜¯ä¸»é”®ï¼ŒæŸ¥åˆ°è¿”å›å°±è¡Œäº†ã€‚è¿™ç§æƒ…å†µå°±ç§°ä¹‹ä¸º&lt;strong&gt;è¦†ç›–ç´¢å¼•&lt;/strong&gt;äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™æ˜¯ MySQL çš„ InnoDBã€MyISAM è¡¨çš„æ–‡ä»¶æˆªå›¾ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;InnoDBã€MyISAMã€Memory è¿™ä¸‰ç§å­˜å‚¨å¼•æ“çš„å­˜å‚¨æ–‡ä»¶å†…å®¹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ— è®ºå“ªç§å¼•æ“ï¼Œ&lt;font color=&#39;gree&#39;&gt;è¡¨çš„ç»“æ„&lt;/font&gt;éƒ½å­˜å‚¨åœ¨  &lt;code&gt;.sdi&lt;/code&gt;  æ–‡ä»¶ä¸­&lt;/li&gt;
&lt;li&gt;å¯¹äº InnoDBï¼Œè¡¨çš„ç´¢å¼•å’Œæ•°æ®éƒ½å­˜å‚¨åœ¨  &lt;code&gt;.ibd è¡¨ç©ºé—´æ–‡ä»¶&lt;/code&gt; ä¸­&lt;/li&gt;
&lt;li&gt;å¯¹äº MyISAMï¼Œè¡¨çš„ç´¢å¼•å­˜å‚¨åœ¨  &lt;code&gt;.MYI&lt;/code&gt;  æ–‡ä»¶ä¸­ï¼Œè¡¨çš„æ•°æ®å­˜å‚¨åœ¨  &lt;code&gt;.MYD&lt;/code&gt;  æ–‡ä»¶ä¸­&lt;/li&gt;
&lt;li&gt;å¯¹äº Memoryï¼Œè¡¨çš„ç´¢å¼•å’Œæ•°æ®éƒ½å­˜å‚¨åœ¨ &lt;code&gt;å†…å­˜&lt;/code&gt; ä¸­&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/mysql20210420165311654.png&#34; alt=&#34;MySQL è¡¨çš„æ–‡ä»¶&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;èšé›†ç´¢å¼•å’Œéèšé›†ç´¢å¼•çš„åŒºåˆ«&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#èšé›†ç´¢å¼•å’Œéèšé›†ç´¢å¼•çš„åŒºåˆ«&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸèšé›†ç´¢å¼•å’Œéèšé›†ç´¢å¼•çš„åŒºåˆ«&lt;/mark&gt;&lt;/h5&gt;
&lt;p&gt;èšé›†ç´¢å¼•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ•°æ®å­˜å‚¨æ–¹å¼ï¼šè¡¨ä¸­çš„æ•°æ®ä¸ç´¢å¼•æŒ‰é¡ºåºå­˜æ”¾åœ¨ä¸€å—ï¼Œ&lt;font color=&#39;red&#39;&gt;æ‰¾åˆ°ç´¢å¼•ä¹Ÿå°±æ‰¾åˆ°äº†æ•°æ®&lt;/font&gt;ï¼Œå³æ•°æ®çš„ç‰©ç†å­˜æ”¾é¡ºåºä¸ç´¢å¼•é¡ºåºæ˜¯ä¸€è‡´çš„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¶èŠ‚ç‚¹çš„ k-vï¼š&lt;font color=&#39;red&#39;&gt;ï¼ˆä¸»é”®ï¼Œè¡Œè®°å½•ï¼‰&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å”¯ä¸€æ€§ï¼š&lt;font color=&#39;red&#39;&gt;è¡¨ä¸­åªèƒ½æœ‰ä¸€ä¸ªèšé›†ç´¢å¼•ï¼Œé€šå¸¸æ˜¯ä¸»é”®&lt;/font&gt;ï¼ˆå› ä¸ºä¸»é”®è¦æ±‚å…¶å€¼åœ¨è¡¨ä¸­å”¯ä¸€ä¸”éç©ºï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŸ¥è¯¢æ€§èƒ½ï¼š&lt;font color=&#39;red&#39;&gt;èŒƒå›´æŸ¥è¯¢ã€æ’åºæŸ¥è¯¢çš„æ€§èƒ½é«˜&lt;/font&gt;ï¼Œä½†&lt;font color=&#39;red&#39;&gt;æ’å…¥é€Ÿåº¦ä¸¥é‡ä¾èµ–äºæ’å…¥é¡ºåº&lt;/font&gt;ï¼›&lt;font color=&#39;red&#39;&gt;æ›´æ–°ä¸»é”®çš„ä»£ä»·å¾ˆé«˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æŒ‰ç…§ä¸»é”®é¡ºåºæ’å…¥&lt;/font&gt;æ˜¯æœ€å¿«çš„æ–¹å¼ï¼Œå¦åˆ™å°†ä¼šå‡ºç°&lt;font color=&#39;red&#39;&gt;é¡µåˆ†è£‚&lt;/font&gt;ï¼Œä¸¥é‡å½±å“æ€§èƒ½ã€‚å› æ­¤ï¼Œå¯¹äº InnoDB è¡¨ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šå®šä¹‰ä¸€ä¸ª&lt;font color=&#39;red&#39;&gt;è‡ªå¢çš„ ID åˆ—ä¸ºä¸»é”®&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ›´æ–°ä¸»é”®ä¼šå¯¼è‡´è¢«æ›´æ–°çš„è¡Œç§»åŠ¨ã€‚å› æ­¤å¯¹äº InnoDB è¡¨ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸€èˆ¬å®šä¹‰ä¸»é”®ä¸ºä¸å¯æ›´æ–°&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éèšé›†ç´¢å¼•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•°æ®å­˜å‚¨æ–¹å¼ï¼š&lt;font color=&#39;red&#39;&gt;ç´¢å¼•å’Œå®é™…æ•°æ®çš„ç‰©ç†å­˜å‚¨æ˜¯åˆ†ç¦»çš„&lt;/font&gt;ï¼Œç´¢å¼•ä¸­å­˜å‚¨äº†æŒ‡å‘å®é™…æ•°æ®è¡Œçš„æŒ‡é’ˆ&lt;/li&gt;
&lt;li&gt;å¶èŠ‚ç‚¹çš„ k-vï¼š&lt;font color=&#39;red&#39;&gt;ï¼ˆç´¢å¼•åˆ—ï¼ŒæŒ‡å‘è¡Œè®°å½•çš„æŒ‡é’ˆï¼‰&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;å”¯ä¸€æ€§ï¼š&lt;font color=&#39;red&#39;&gt;è¡¨å¯ä»¥æœ‰å¤šä¸ªéèšé›†ç´¢å¼•ï¼ŒåŒ…æ‹¬å”¯ä¸€ç´¢å¼•&lt;/font&gt;ã€‚éèšé›†ç´¢å¼•ä¸è¦æ±‚ç´¢å¼•åˆ—çš„å€¼å”¯ä¸€&lt;/li&gt;
&lt;li&gt;æŸ¥è¯¢æ€§èƒ½ï¼š&lt;font color=&#39;red&#39;&gt;æ’å…¥æ•°æ®çš„é€Ÿåº¦å¿«&lt;/font&gt;ï¼Œä½†&lt;font color=&#39;red&#39;&gt;æŸ¥è¯¢å¯èƒ½æ¶‰åŠå›è¡¨ï¼Œé€Ÿåº¦è¾ƒæ…¢&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119111458997.png&#34; alt=&#34;image-20231119111458997&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/mysql20210420165326946.png&#34; alt=&#34;èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;å€’æ’ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å€’æ’ç´¢å¼•&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸå€’æ’ç´¢å¼•&lt;/mark&gt;&lt;/h5&gt;
&lt;p&gt;å…ˆè®²æ­£æ’ç´¢å¼•ï¼Œæ„æ€å°±æ˜¯æˆ‘ä»¬çš„æ‰€æœ‰æ–‡æ¡£éƒ½æœ‰å”¯ä¸€ä¸€ä¸ªæ–‡æ¡£ idï¼Œæ ¹æ®æ–‡æ¡£é‡Œçš„å†…å®¹ç®—å‡ºæ¯ä¸ªæ–‡æ¡£ä¸­å…³é”®å­—çš„å†…å®¹å’Œæ¬¡æ•°ï¼Œç±»ä¼¼äºé€šè¿‡ key å»æ‰¾ value çš„å½¢å¼ï¼Œå¦‚æœæ­£ç‰Œç´¢å¼•ï¼Œæˆ‘ä»¬æ¯æ¬¡å¯»æ‰¾å…³é”®å­—æŸ¥è¯¢ï¼Œå°±å¾—æœç´¢æ‰€æœ‰çš„æ–‡æ¡£å»çœ‹æ˜¯å¦æœ‰è¿™ä¸ªå…³é”®å­—ï¼Œè¿™æ ·æŸ¥è¯¢æ•ˆç‡å¤ªæ…¢äº†ã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯æœ‰äº†å€’æ’ç´¢å¼•ï¼Œæ˜¯é€šè¿‡å…³é”®å­—å»æŸ¥æ–‡æ¡£ï¼Œæˆ‘ä»¬å»ºç«‹ä¸€ä¸ªç´¢å¼•åº“ï¼Œé‡Œé¢çš„ key æ˜¯å…³é”®å­—ï¼Œvalue æ˜¯æ¯ä¸ªæ–‡æ¡£çš„ idï¼Œå€’æ’åœ¨æ„å»ºç´¢å¼•çš„æ—¶å€™è¾ƒä¸ºè€—æ—¶ä¸”ç»´æŠ¤æˆæœ¬è¾ƒé«˜ï¼Œä½†æ˜¯æœç´¢è€—æ—¶çŸ­ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å®šæ—¶å»æ›´æ–°ç´¢å¼•åº“ã€‚&lt;/p&gt;
&lt;p&gt;æ­£æ’ç´¢å¼•å’Œå€’æ’ç´¢å¼•æ˜¯æœç´¢å¼•æ“ä¸­çš„ä¸¤ç§ç´¢å¼•ç±»å‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ­£æ’ç´¢å¼•ï¼šæ¯ä¸ªæ–‡æ¡£éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ–‡æ¡£ IDï¼Œ&lt;font color=&#39;red&#39;&gt;æŒ‰ç…§æ–‡æ¡£ ID ç­‰æœ‰åºçš„æ–¹å¼å°†æ¯ä¸ªæ–‡æ¡£å­˜å‚¨åœ¨ç´¢å¼•ä¸­&lt;/font&gt;ï¼Œé€šè¿‡æ–‡æ¡£ ID è¿›è¡Œæ£€ç´¢ã€‚è¿™ç§æ–¹å¼ç±»ä¼¼äºæ•°æ®åº“è¡¨çš„è¡Œï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ ¹æ®æ–‡æ¡£ ID æ£€ç´¢åˆ°å…·ä½“çš„æ–‡æ¡£ï¼Œä½†æ˜¯&lt;font color=&#39;red&#39;&gt;ä¸é€‚åˆå¤„ç†å¤§è§„æ¨¡æ–‡æ¡£åº“çš„æƒ…å†µ&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å€’æ’ç´¢å¼•ï¼š&lt;font color=&#39;red&#39;&gt;æŒ‰ç…§å•è¯æˆ–å…³é”®å­—å°†æ–‡æ¡£è¿›è¡Œç´¢å¼•&lt;/font&gt;ï¼Œå¹¶è®°å½•åŒ…å«è¯¥è¯æ±‡çš„æ–‡æ¡£åˆ—è¡¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å€’æ’ç´¢å¼•çš„ä¼˜åŠ¿åœ¨äºæŸ¥æ‰¾åŒ…å«æŸä¸ªé¡¹çš„æ–‡æ¡£ï¼Œå³ç”¨äºæœç´¢æŸ¥è¯¢&lt;/font&gt;ï¼›ç›¸åï¼Œ&lt;font color=&#39;red&#39;&gt;æ­£æ’ç´¢å¼•çš„ä¼˜åŠ¿æ˜¯ç¡®å®šå“ªäº›é¡¹æ˜¯å¦å­˜åœ¨å•ä¸ªæ–‡æ¡£é‡Œ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;äºŒè€…å‡æ˜¯åœ¨ index-time æ—¶åˆ›å»ºï¼Œä¿å­˜åœ¨ Lucene æ–‡ä»¶ä¸­ï¼ˆåºåˆ—åŒ–åˆ°ç£ç›˜ï¼‰ã€‚&lt;/p&gt;
&lt;h5 id=&#34;è¦†ç›–ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¦†ç›–ç´¢å¼•&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸè¦†ç›–ç´¢å¼•&lt;/mark&gt;&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“ InnoDB ä¸­ç´¢å¼•åˆ†ä¸ºä¸¤ç±»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;èšé›†ç´¢å¼•ï¼ˆä¸»é”®ç´¢å¼•ï¼‰&lt;/font&gt;ï¼šï¼ˆ&lt;font color=&#39;gree&#39;&gt;ä¸»é”®&lt;/font&gt;ï¼Œé™¤ä¸»é”®å¤–çš„å®Œæ•´è¡Œè®°å½•ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;éèšé›†ç´¢å¼•ï¼ˆè¾…åŠ©ç´¢å¼• / æ™®é€šç´¢å¼•ï¼‰&lt;/font&gt;ï¼šï¼ˆç´¢å¼•åˆ—çš„å€¼ï¼Œ&lt;font color=&#39;gree&#39;&gt;ä¸»é”®&lt;/font&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æƒ³è¦ææ¸…é™¤ä»€ä¹ˆæ˜¯è¦†ç›–ç´¢å¼•ï¼Œé¦–å…ˆå¾—å¼„æ‡‚ **&lt;font color=&#39;#B32015&#39;&gt;å›è¡¨æŸ¥è¯¢&lt;/font&gt;**ï¼šå½“ä½¿ç”¨&lt;u&gt;æ™®é€šç´¢å¼•ï¼ˆè¾…åŠ©ç´¢å¼•ï¼‰&lt;/u&gt;è¿›è¡ŒæŸ¥è¯¢æ—¶ï¼Œå…ˆå¾—åˆ°è¡Œè®°å½•çš„ä¸»é”®å€¼ï¼ˆ&lt;font color=&#39;red&#39;&gt;ä½†ä»æœªå¾—åˆ°æ‰€éœ€çš„æ‰€æœ‰åˆ—æ•°æ®&lt;/font&gt;ï¼‰ï¼Œç„¶åå†æ ¹æ®ä¸»é”®å€¼åˆ°&lt;u&gt;èšé›†ç´¢å¼•ï¼ˆä¸»é”®ç´¢å¼•ï¼‰&lt;/u&gt;ä¸­æ‰¾åˆ°å¯¹åº”çš„å®Œæ•´è¡Œè®°å½•ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äº&lt;font color=&#39;red&#39;&gt;å›è¡¨å¯¼è‡´å¤šæ¬¡æ‰«æç´¢å¼•æ ‘ï¼Œä¼šé™ä½æŸ¥è¯¢æ•ˆç‡&lt;/font&gt;ã€‚é‚£ä¹ˆå¦‚ä½•é¿å…å›è¡¨æŸ¥è¯¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¸¸ç”¨çš„æ–¹æ³•æ˜¯ï¼šå°†æŸ¥è¯¢éœ€è¦çš„å­—æ®µæ·»åŠ åˆ°ç´¢å¼•ä¸­ï¼Œå»ºç«‹&lt;u&gt;è”åˆç´¢å¼•&lt;/u&gt;&lt;/font&gt;ã€‚æ¯”å¦‚ä¸Šé¢æåˆ°çš„æŸ¥è¯¢è¯­å¥ï¼Œå¯ä»¥å°† (NAME,CITY) åšæˆä¸€ä¸ªè”åˆç´¢å¼•ï¼Œè¿™æ ·åœ¨é¦–æ¬¡æ‰«æç´¢å¼•æ ‘çš„æ—¶å€™å°±èƒ½ä»ç´¢å¼•æ ‘æœ¬èº«è·å–åˆ°éœ€è¦çš„æ‰€æœ‰ä¿¡æ¯ï¼Œä»è€Œé¿å…äº†å›è¡¨ã€‚è¿™é‡Œä½¿ç”¨çš„æ–¹æ³•å°±æ˜¯&lt;strong&gt;è¦†ç›–ç´¢å¼•&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;ä¸¾ä¸ªå›è¡¨æŸ¥è¯¢çš„ä¾‹å­ï¼Œå¯¹äº InnoDB è¡¨ EMPLOYEEï¼Œç”±ä¸‰ä¸ªå­—æ®µï¼ˆIDã€NAMEã€CITYï¼‰ç»„æˆï¼Œå…¶ä¸­åœ¨ ID ä¸Šå»ºç«‹äº†ä¸»é”®ç´¢å¼•ï¼ˆèšé›†ç´¢å¼•ï¼‰ï¼Œåœ¨ NAME ä¸Šå»ºç«‹äº†æ™®é€šç´¢å¼•ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨éœ€è¦è¿›è¡Œä¸€æ¬¡å¦‚ä¸‹çš„æŸ¥è¯¢ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; NAME&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;CITY &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; EMPLOYEE &lt;span class=&#34;token keyword&#34;&gt;where&lt;/span&gt; NAME&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;Lee&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é¦–å…ˆé€šè¿‡æ™®é€šç´¢å¼•å»æ‰¾åˆ° NAME=&amp;quot;Lee&amp;quot; å¯¹åº”çš„å¶èŠ‚ç‚¹ï¼Œè·å–åˆ°è¡Œè®°å½•çš„ä¸»é”®å€¼ï¼ˆID=8ï¼‰ã€‚è€Œè¯¥æŸ¥è¯¢è¯­å¥è¿˜éœ€è¦è·å– CITY å­—æ®µçš„å€¼ï¼Œäºæ˜¯ MySQL è¦å†æ ¹æ®è¯¥ä¸»é”®å€¼ï¼ˆID=8ï¼‰é€šè¿‡ä¸»é”®ç´¢å¼•æŸ¥æ‰¾ï¼Œä»è€Œè·å¾—å®Œæ•´çš„æ•°æ®ã€‚è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯æ‰€è°“çš„&lt;strong&gt;å›è¡¨æŸ¥è¯¢&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/4cfbd83c40884036b46e895d31a70726.png&#34; alt=&#34;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/28608822ef07481187c583b22bc3c80a.png&#34; alt=&#34;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ª **&lt;font color=&#39;#B32015&#39;&gt;ç´¢å¼•åŒ…å«äº†æ‰€æœ‰éœ€è¦æŸ¥è¯¢çš„å­—æ®µ&lt;/font&gt;**ï¼Œå°±ç§°ä¹‹ä¸ºè¦†ç›–ç´¢å¼•ï¼ˆCovering Indexï¼‰ã€‚åœ¨ InnoDB ä¸­ï¼Œå¦‚æœä¸æ˜¯ä¸»é”®ç´¢å¼•ï¼Œå¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯ç´¢å¼•åˆ—å€¼ + ä¸»é”®ã€‚æœ€ç»ˆè¿˜æ˜¯è¦ â€œå›è¡¨â€ï¼Œä¹Ÿå°±æ˜¯è¦é€šè¿‡ä¸»é”®å†æŸ¥æ‰¾ä¸€æ¬¡ï¼Œè¿™æ ·å°±ä¼šæ¯”è¾ƒæ…¢ã€‚&lt;font color=&#39;red&#39;&gt;è€Œè¦†ç›–ç´¢å¼•å°±æ˜¯æŠŠè¦æŸ¥è¯¢å‡ºçš„åˆ—å’Œç´¢å¼•æ˜¯å¯¹åº”çš„ï¼Œä¸åšå›è¡¨æ“ä½œï¼å› ä¸ºæ‰€æŸ¥è¯¢çš„å­—æ®µéƒ½åœ¨å½“å‰ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸Šå­˜åœ¨ï¼Œå¯ä»¥ç›´æ¥ä½œä¸ºç»“æœè¿”å›äº†ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;** è¦†ç›–ç´¢å¼•ï¼Œå³éœ€è¦æŸ¥è¯¢çš„å­—æ®µæ­£å¥½æ˜¯ç´¢å¼•çš„å­—æ®µï¼Œé‚£ä¹ˆç›´æ¥æ ¹æ®è¯¥ç´¢å¼•å°±å¯ä»¥æŸ¥åˆ°æ•°æ®äº†ï¼Œè€Œæ— éœ€å›è¡¨æŸ¥è¯¢ã€‚** å› æ­¤ï¼Œ&lt;font color=&#39;red&#39;&gt;åº”è¯¥å°½é‡ä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼Œå‡å°‘ &lt;code&gt;select *&lt;/code&gt; &lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚ä¸»é”®ç´¢å¼•ï¼Œå¦‚æœä¸€æ¡ SQL éœ€è¦æŸ¥è¯¢ä¸»é”®ï¼Œé‚£ä¹ˆæ­£å¥½æ ¹æ®ä¸»é”®ç´¢å¼•å°±å¯ä»¥æŸ¥åˆ°ä¸»é”®ã€‚å†å¦‚æ™®é€šç´¢å¼•ï¼Œå¦‚æœä¸€æ¡ SQL éœ€è¦æŸ¥è¯¢ nameï¼Œname å­—æ®µæ­£å¥½æœ‰ç´¢å¼•ï¼Œé‚£ä¹ˆç›´æ¥æ ¹æ®è¿™ä¸ªç´¢å¼•å°±å¯ä»¥æŸ¥åˆ°æ•°æ®ï¼Œä¹Ÿæ— éœ€å›è¡¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/mysql20210420165341868.png&#34; alt=&#34;è¦†ç›–ç´¢å¼•&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;è”åˆç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è”åˆç´¢å¼•&#34;&gt;#&lt;/a&gt; è”åˆç´¢å¼•&lt;/h5&gt;
&lt;p&gt;ä½¿ç”¨è¡¨ä¸­çš„&lt;strong&gt;å¤šä¸ªå­—æ®µåˆ›å»ºç´¢å¼•&lt;/strong&gt;ï¼Œå°±æ˜¯ è”åˆç´¢å¼•ï¼Œä¹Ÿå« ç»„åˆç´¢å¼• æˆ– å¤åˆç´¢å¼•ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥  &lt;code&gt;score&lt;/code&gt;  å’Œ  &lt;code&gt;name&lt;/code&gt;  ä¸¤ä¸ªå­—æ®µå»ºç«‹è”åˆç´¢å¼•ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;ALTER&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TABLE&lt;/span&gt; &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;cus_order&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;ADD&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;INDEX&lt;/span&gt; id_score_name&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;score&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; name&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸæœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™&lt;/mark&gt;&lt;/h4&gt;
&lt;p&gt;æœ€å·¦å‰ç¼€æ³•åˆ™ï¼š&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æŸ¥è¯¢æ¡ä»¶ä¸­çš„å„ä¸ªåˆ—å¿…é¡»æ˜¯è”åˆç´¢å¼•ä¸­ä»æœ€å·¦è¾¹å¼€å§‹çš„è¿ç»­å­åˆ—ã€‚&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å¦‚æœè·³è·ƒäº†&lt;u&gt;ä¸­é—´çš„æŸä¸€åˆ—&lt;/u&gt;ï¼Œé‚£ä¹ˆè”åˆç´¢å¼•å°†ä¼š&lt;u&gt;éƒ¨åˆ†å¤±æ•ˆ&lt;/u&gt;ï¼ˆåé¢çš„å­—æ®µç´¢å¼•éƒ½å¤±æ•ˆï¼‰ã€‚&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¦‚æœè·³è·ƒäº†&lt;u&gt;æœ€å·¦åˆ—&lt;/u&gt;ï¼Œé‚£ä¹ˆè”åˆç´¢å¼•å°†ä¼š&lt;u&gt;å…¨éƒ¨å¤±æ•ˆ&lt;/u&gt;ï¼Œè½¬è€Œè¿›è¡Œå…¨è¡¨æ‰«æï¼&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231117221133910.png&#34; alt=&#34;image-20231117221133910&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ï¼š&lt;strong&gt;è”åˆç´¢å¼•çš„æœ€å·¦è¾¹å­—æ®µå¿…é¡»åœ¨ SQL çš„æŸ¥è¯¢æ¡ä»¶ä¸­å­˜åœ¨ï¼Œä½†æ˜¯ä¸ SQL çš„æŸ¥è¯¢æ¡ä»¶ä¸­ç¼–å†™çš„å­—æ®µå…ˆåé¡ºåºæ— å…³&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231117221449634.png&#34; alt=&#34;image-20231117221449634&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å› æ­¤å¯¹äºè¿™ç§æƒ…å†µï¼Œè”åˆç´¢å¼•æ˜¯å…¨éƒ¨ç”Ÿæ•ˆçš„ï¼&lt;/center&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œ&lt;strong&gt;åœ¨ä½¿ç”¨è”åˆç´¢å¼•æ—¶ï¼Œå¯ä»¥å°†åŒºåˆ†åº¦é«˜çš„å­—æ®µæ”¾åœ¨æœ€å·¦è¾¹ï¼Œè¿™ä¹Ÿå¯ä»¥è¿‡æ»¤æ›´å¤šæ•°æ®&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœ¨è”åˆç´¢å¼•çš„ä½¿ç”¨ä¸­ï¼Œå¦‚æœ SQL å‡ºç°èŒƒå›´æŸ¥è¯¢ï¼ˆå¦‚  &lt;code&gt;&amp;gt;&lt;/code&gt; ã€ &lt;code&gt;&amp;lt;&lt;/code&gt;  ï¼‰ï¼Œé‚£ä¹ˆèŒƒå›´æŸ¥è¯¢å³ä¾§çš„åˆ—ç´¢å¼•ä¼šå¤±æ•ˆï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231117221945853.png&#34; alt=&#34;image-20231117221945853&#34; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½†å¯¹äº &lt;strong&gt; &lt;code&gt;&amp;gt;=&lt;/code&gt; &lt;/strong&gt;ã€&lt;strong&gt; &lt;code&gt;&amp;lt;=&lt;/code&gt; &lt;/strong&gt;ã€&lt;strong&gt; &lt;code&gt;BETWEEN&lt;/code&gt; &lt;/strong&gt;ã€&lt;strong&gt; &lt;code&gt;like&lt;/code&gt; &lt;/strong&gt; å‰ç¼€åŒ¹é…çš„èŒƒå›´æŸ¥è¯¢ï¼Œå¹¶ä¸ä¼šåœæ­¢åŒ¹é…ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;ç´¢å¼•ä¸‹æ¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç´¢å¼•ä¸‹æ¨&#34;&gt;#&lt;/a&gt; ç´¢å¼•ä¸‹æ¨&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;ç´¢å¼•ä¸‹æ¨ï¼ˆIndex Condition Pushdownï¼‰&lt;/strong&gt; æ˜¯ &lt;strong&gt;MySQL 5.6&lt;/strong&gt; ç‰ˆæœ¬ä¸­æä¾›çš„ä¸€é¡¹ç´¢å¼•ä¼˜åŒ–åŠŸèƒ½ï¼Œå¯ä»¥åœ¨éèšç°‡ç´¢å¼•éå†è¿‡ç¨‹ä¸­ï¼Œå¯¹ç´¢å¼•ä¸­åŒ…å«çš„å­—æ®µå…ˆåšåˆ¤æ–­ï¼Œè¿‡æ»¤æ‰ä¸ç¬¦åˆæ¡ä»¶çš„è®°å½•ï¼Œå‡å°‘å›è¡¨æ¬¡æ•°ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç´¢å¼•å¤±æ•ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç´¢å¼•å¤±æ•ˆ&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸç´¢å¼•å¤±æ•ˆ&lt;/mark&gt;&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç´¢å¼•å¤±æ•ˆåå¯¼è‡´ä½¿ç”¨å…¨è¡¨æ‰«ææ¥æŸ¥è¯¢æ•°æ®&lt;/font&gt;&lt;/strong&gt;ï¼Œè¿™ä¹Ÿæ˜¯æ…¢æŸ¥è¯¢çš„ä¸»è¦åŸå› ä¹‹ä¸€ï¼ŒæŸ¥è¯¢ä¸­å¯¼è‡´ç´¢å¼•å¤±æ•ˆçš„å¸¸è§æƒ…å†µæœ‰è¿™äº›ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/iaIdQfEric9Twmk46GNqLLRSboGCk9Pkk48jba0ibtuuic2ic9elp0r52TBmB0AbBKFK0sOZ9gf3GWPLicL34Chqrevw&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;MySQL è‡ªèº«è¯„ä¼°ä½¿ç”¨å…¨è¡¨æ‰«æçš„æŸ¥è¯¢é€Ÿåº¦æ¯”ä½¿ç”¨ç´¢å¼•çš„æ›´å¿«&lt;/font&gt;&lt;/strong&gt;ï¼šMySQL åœ¨æŸ¥è¯¢æ—¶ï¼Œä¼šè¯„ä¼°å…¨è¡¨æ‰«æçš„æŸ¥è¯¢æ•ˆç‡ä¸ä½¿ç”¨ç´¢å¼•çš„æ•ˆç‡ï¼Œå¦‚æœå…¨è¡¨æ‰«ææ›´å¿«ï¼Œåˆ™æ”¾å¼ƒç´¢å¼•ï¼Œèµ°å…¨è¡¨æ‰«æã€‚è¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯  &lt;code&gt;SELECT *&lt;/code&gt;  è¯­å¥ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231118133740655.png&#34; alt=&#34;image-20231118133740655&#34; /&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;åˆ›å»ºäº†è”åˆç´¢å¼•ï¼Œä½†æŸ¥è¯¢æ¡ä»¶æœªéµå¾ª&lt;u&gt;æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™&lt;/u&gt;ï¼Œæˆ–è€…æ¶‰åŠèŒƒå›´æŸ¥è¯¢ï¼ˆå¦‚ &lt;code&gt;&amp;gt;&lt;/code&gt; ã€ &lt;code&gt;&amp;lt;&lt;/code&gt; ï¼‰&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æŒ‡è·¯â†’&lt;a href=&#34;#==%E6%9C%80%E5%B7%A6%E5%89%8D%E7%BC%80%E5%8C%B9%E9%85%8D%E5%8E%9F%E5%88%99==&#34;&gt;æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231118133951572.png&#34; alt=&#34;image-20231118133951572&#34; /&gt;&lt;/p&gt;
&lt;center&gt;æœªéµå¾ªæœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231117221945853.png&#34; alt=&#34;image-20231117221945853&#34; /&gt;&lt;/p&gt;
&lt;center&gt;æ¶‰åŠèŒƒå›´æŸ¥è¯¢&lt;/center&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æŸ¥è¯¢æ¡ä»¶ä¸­ï¼Œå¯¹ç´¢å¼•åˆ—è¿›è¡Œäº†æ•°å­¦è¿ç®—ã€å‡½æ•°ç­‰æ“ä½œ&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;å› ä¸ºç´¢å¼•ä¿å­˜çš„æ˜¯ç´¢å¼•å­—æ®µçš„åŸå§‹å€¼&lt;/font&gt;ï¼Œè€Œä¸æ˜¯è¡¨è¾¾å¼è®¡ç®—åçš„å€¼ / å‡½æ•°è®¡ç®—åçš„å€¼ï¼Œè‡ªç„¶æ— æ³•èµ°ç´¢å¼•äº†ï¼Œåªèƒ½é€šè¿‡æŠŠç´¢å¼•å­—æ®µçš„å–å€¼éƒ½å–å‡ºæ¥ï¼Œç„¶åä¾æ¬¡è¿›è¡Œè¡¨è¾¾å¼è®¡ç®— / å‡½æ•°è®¡ç®—æ¥è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œå› æ­¤é‡‡ç”¨çš„å°±æ˜¯&lt;font color=&#39;red&#39;&gt;å…¨è¡¨æ‰«æ&lt;/font&gt;çš„æ–¹å¼ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231118133046959.png&#34; alt=&#34;image-20231118133046959&#34; /&gt;&lt;/p&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æŸ¥è¯¢æ¡ä»¶ä¸­ï¼Œå¯¹ç´¢å¼•åˆ—è¿›è¡Œä»¥ % å¼€å¤´çš„ LIKE æ¨¡ç³ŠæŸ¥è¯¢&lt;/font&gt;&lt;/strong&gt;ï¼šå½“æˆ‘ä»¬ä½¿ç”¨å·¦æˆ–è€…å·¦å³æ¨¡ç³ŠåŒ¹é…çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯ like % xx æˆ–è€… like % xx% è¿™ä¸¤ç§æ–¹å¼éƒ½ä¼šé€ æˆç´¢å¼•å¤±æ•ˆã€‚&lt;font color=&#39;red&#39;&gt;å› ä¸ºç´¢å¼• B+ æ ‘æ˜¯æŒ‰ç…§ã€Œç´¢å¼•å€¼ã€æœ‰åºæ’åˆ—å­˜å‚¨çš„ï¼Œåªèƒ½æ ¹æ®å‰ç¼€è¿›è¡Œæ¯”è¾ƒ&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231118133112182.png&#34; alt=&#34;image-20231118133112182&#34; /&gt;&lt;/p&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æŸ¥è¯¢æ¡ä»¶ä¸­ï¼ŒOR å‰åå­˜åœ¨éç´¢å¼•çš„åˆ—&lt;/font&gt;&lt;/strong&gt;ï¼šå› ä¸º OR çš„å«ä¹‰å°±æ˜¯ä¸¤ä¸ªåªè¦æ»¡è¶³ä¸€ä¸ªå³å¯ï¼Œå› æ­¤åªæœ‰ä¸€ä¸ªæ¡ä»¶åˆ—æ˜¯ç´¢å¼•åˆ—æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œ&lt;font color=&#39;red&#39;&gt;åªè¦æœ‰ä¸€ä¸ªæ¡ä»¶åˆ—ä¸æ˜¯ç´¢å¼•åˆ—ï¼Œå°±ä¼šè¿›è¡Œå…¨è¡¨æ‰«æ&lt;/font&gt;ã€‚è¦æƒ³ä½¿ç”¨ ORï¼Œåˆæƒ³è®©ç´¢å¼•ç”Ÿæ•ˆï¼Œåªèƒ½å°† OR æ¡ä»¶ä¸­çš„æ¯ä¸ªåˆ—éƒ½åŠ ä¸Šç´¢å¼•ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231118133312921.png&#34; alt=&#34;image-20231118133312921&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ageæ²¡æœ‰ç´¢å¼•ï¼Œidã€phoneæœ‰ç´¢å¼•&lt;/center&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æŸ¥è¯¢æ¡ä»¶ä¸­ï¼ŒIN /NOT IN çš„å–å€¼èŒƒå›´è¾ƒå¤§&lt;/font&gt;&lt;/strong&gt;ï¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Œèµ°å…¨è¡¨æ‰«æï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;å‘ç”Ÿ&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qYXZhZ3VpZGUuY24vZGF0YWJhc2UvbXlzcWwvaW5kZXgtaW52YWxpZGF0aW9uLWNhdXNlZC1ieS1pbXBsaWNpdC1jb252ZXJzaW9uLmh0bWw=&#34;&gt;éšå¼ç±»å‹è½¬æ¢&lt;/span&gt;&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;å½“ç´¢å¼•åˆ—æ˜¯å­—ç¬¦ä¸²ç±»å‹æ—¶ï¼Œè‹¥æŸ¥è¯¢æ¡ä»¶ä¸­æ•°æ®ä¸åŠ å•å¼•å·ï¼Œè™½ç„¶å¯¹äºæŸ¥è¯¢ç»“æœæ²¡ä»€ä¹ˆå½±å“ï¼Œä½†æ˜¯æ•°æ®åº“ä¼šè¿›è¡Œéšå¼ç±»å‹è½¬æ¢ï¼Œå¯¼è‡´ç´¢å¼•åˆ—å¤±æ•ˆ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231118132957838.png&#34; alt=&#34;image-20231118132957838&#34; /&gt;&lt;/p&gt;
&lt;ol start=&#34;8&#34;&gt;
&lt;li&gt;â€¦â€¦&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ¨èé˜…è¯»è¿™ç¯‡æ–‡ç« ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvbXdNRTNxdWtIQkZ1bDU3V1FMa09ZZw==&#34;&gt;ç¾å›¢æš‘æœŸå®ä¹ ä¸€é¢ï¼šMySQl ç´¢å¼•å¤±æ•ˆçš„åœºæ™¯æœ‰å“ªäº›ï¼Ÿ&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç´¢å¼•çš„æ­£ç¡®ä½¿ç”¨å»ºè®®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç´¢å¼•çš„æ­£ç¡®ä½¿ç”¨å»ºè®®&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸç´¢å¼•çš„æ­£ç¡®ä½¿ç”¨å»ºè®®&lt;/mark&gt;&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;ç´¢å¼•è®¾è®¡åŸåˆ™&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;é¿å…ç´¢å¼•å¤±æ•ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¿å…ç´¢å¼•å¤±æ•ˆ&#34;&gt;#&lt;/a&gt; é¿å…ç´¢å¼•å¤±æ•ˆ&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸Šä¸€èŠ‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;é’ˆå¯¹æ•°æ®é‡å¤§ä¸”æŸ¥è¯¢é¢‘ç¹çš„è¡¨å»ºç«‹ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é’ˆå¯¹æ•°æ®é‡å¤§ä¸”æŸ¥è¯¢é¢‘ç¹çš„è¡¨å»ºç«‹ç´¢å¼•&#34;&gt;#&lt;/a&gt; é’ˆå¯¹æ•°æ®é‡å¤§ï¼Œä¸”æŸ¥è¯¢é¢‘ç¹çš„è¡¨å»ºç«‹ç´¢å¼•&lt;/h5&gt;
&lt;p&gt;åŸºæ•°è¾ƒå°çš„è¡¨ï¼Œç´¢å¼•æ•ˆæœè¾ƒå·®ï¼Œæ²¡æœ‰å¿…è¦åœ¨æ­¤åˆ—å»ºç«‹ç´¢å¼•ã€‚&lt;/p&gt;
&lt;h5 id=&#34;é€‰æ‹©åˆé€‚çš„å­—æ®µåˆ›å»ºç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é€‰æ‹©åˆé€‚çš„å­—æ®µåˆ›å»ºç´¢å¼•&#34;&gt;#&lt;/a&gt; é€‰æ‹©åˆé€‚çš„å­—æ®µåˆ›å»ºç´¢å¼•&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸ä¸º NULL çš„å­—æ®µ&lt;/strong&gt;ï¼šç´¢å¼•å­—æ®µçš„æ•°æ®åº”è¯¥å°½é‡ä¸ä¸º NULLï¼Œå› ä¸º&lt;font color=&#39;red&#39;&gt;å¯¹äºæ•°æ®å€¼ä¸º NULL çš„å­—æ®µï¼Œæ•°æ®åº“è¾ƒéš¾ä¼˜åŒ–&lt;/font&gt;ã€‚å¦‚æœå­—æ®µé¢‘ç¹è¢«æŸ¥è¯¢ï¼Œä½†åˆé¿å…ä¸äº†ä¸º NULLï¼Œ&lt;font color=&#39;red&#39;&gt;å»ºè®®ä½¿ç”¨ 0,1,true,false &lt;/font&gt;è¿™æ ·è¯­ä¹‰è¾ƒä¸ºæ¸…æ™°çš„çŸ­å€¼æˆ–çŸ­å­—ç¬¦ä½œä¸ºæ›¿ä»£ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¢«é¢‘ç¹æŸ¥è¯¢çš„å­—æ®µ&lt;/strong&gt;ï¼šæˆ‘ä»¬åˆ›å»ºç´¢å¼•çš„å­—æ®µåº”è¯¥æ˜¯æŸ¥è¯¢æ“ä½œéå¸¸é¢‘ç¹çš„å­—æ®µã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¸¸ä½œä¸ºæŸ¥è¯¢æ¡ä»¶ï¼ˆwhereï¼‰ã€æ’åºï¼ˆorder byï¼‰ã€åˆ†ç»„ï¼ˆgroup byï¼‰æ“ä½œçš„å­—æ®µ&lt;/strong&gt;ï¼šè¢«ä½œä¸º WHERE æ¡ä»¶æŸ¥è¯¢çš„å­—æ®µï¼Œåº”è¯¥è¢«è€ƒè™‘å»ºç«‹ç´¢å¼•ã€‚ç´¢å¼•å·²ç»æ’åºï¼Œè¿™æ ·æŸ¥è¯¢å¯ä»¥åˆ©ç”¨ç´¢å¼•çš„æ’åºï¼ŒåŠ å¿«æ’åºæŸ¥è¯¢æ—¶é—´ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¢«ç»å¸¸é¢‘ç¹ç”¨äºè¿æ¥å­å¥ä¸­çš„å­—æ®µ&lt;/strong&gt;ï¼šç»å¸¸ç”¨äºè¿æ¥çš„å­—æ®µå¯èƒ½æ˜¯ä¸€äº›å¤–é”®åˆ—ï¼Œå¯¹äºå¤–é”®åˆ—å¹¶ä¸ä¸€å®šè¦å»ºç«‹å¤–é”®ï¼Œåªæ˜¯è¯´è¯¥åˆ—æ¶‰åŠåˆ°è¡¨ä¸è¡¨çš„å…³ç³»ã€‚å¯¹äºé¢‘ç¹è¢«è¿æ¥æŸ¥è¯¢çš„å­—æ®µï¼Œå¯ä»¥è€ƒè™‘å»ºç«‹ç´¢å¼•ï¼Œ&lt;font color=&#39;red&#39;&gt;æé«˜å¤šè¡¨è¿æ¥æŸ¥è¯¢çš„æ•ˆç‡&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è¢«é¢‘ç¹æ›´æ–°çš„å­—æ®µåº”è¯¥æ…é‡å»ºç«‹ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¢«é¢‘ç¹æ›´æ–°çš„å­—æ®µåº”è¯¥æ…é‡å»ºç«‹ç´¢å¼•&#34;&gt;#&lt;/a&gt; è¢«é¢‘ç¹æ›´æ–°çš„å­—æ®µåº”è¯¥æ…é‡å»ºç«‹ç´¢å¼•&lt;/h5&gt;
&lt;p&gt;å› ä¸ºå­—æ®µçš„æ›´æ–°ä¼šå¯¼è‡´ç´¢å¼•çš„æ›´æ–°ï¼Œè€Œç»´æŠ¤ç´¢å¼•çš„æˆæœ¬ä¹Ÿæ˜¯ä¸å°çš„ã€‚å› æ­¤å¦‚æœä¸€ä¸ªå­—æ®µä¸è¢«ç»å¸¸æŸ¥è¯¢ï¼Œåè€Œè¢«ç»å¸¸ä¿®æ”¹ï¼Œé‚£ä¹ˆå°±æ›´ä¸åº”è¯¥åœ¨è¿™ç§å­—æ®µä¸Šå»ºç«‹ç´¢å¼•äº†ã€‚&lt;/p&gt;
&lt;h5 id=&#34;é™åˆ¶æ¯å¼ è¡¨ä¸Šçš„ç´¢å¼•æ•°é‡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é™åˆ¶æ¯å¼ è¡¨ä¸Šçš„ç´¢å¼•æ•°é‡&#34;&gt;#&lt;/a&gt; é™åˆ¶æ¯å¼ è¡¨ä¸Šçš„ç´¢å¼•æ•°é‡&lt;/h5&gt;
&lt;p&gt;ç´¢å¼•éœ€è¦é¢å¤–çš„ç£ç›˜ç©ºé—´ï¼Œå¹¶é™ä½å†™æ“ä½œçš„æ€§èƒ½ã€‚&lt;font color=&#39;red&#39;&gt;åœ¨ä¿®æ”¹è¡¨å†…å®¹çš„æ—¶å€™ï¼Œç´¢å¼•ä¼šè¿›è¡Œæ›´æ–°ç”šè‡³é‡æ„ï¼Œç´¢å¼•åˆ—è¶Šå¤šï¼Œè¿™ä¸ªæ—¶é—´å°±ä¼šè¶Šé•¿&lt;/font&gt;ã€‚æ‰€ä»¥åªä¿æŒéœ€è¦çš„ç´¢å¼•æœ‰åˆ©äºæŸ¥è¯¢å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å»ºè®®å•å¼ è¡¨ç´¢å¼•ä¸è¶…è¿‡ 5 ä¸ªï¼&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ç´¢å¼•å¯ä»¥å¢åŠ æŸ¥è¯¢æ•ˆç‡ï¼Œä½†åŒæ ·ä¹Ÿä¼šé™ä½æ’å…¥å’Œæ›´æ–°çš„æ•ˆç‡&lt;/font&gt;ï¼Œç”šè‡³æœ‰äº›æƒ…å†µä¸‹ä¼šé™ä½æŸ¥è¯¢æ•ˆç‡ã€‚&lt;/p&gt;
&lt;h5 id=&#34;å°½é‡è€ƒè™‘è”åˆç´¢å¼•è€Œä¸æ˜¯å•åˆ—ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°½é‡è€ƒè™‘è”åˆç´¢å¼•è€Œä¸æ˜¯å•åˆ—ç´¢å¼•&#34;&gt;#&lt;/a&gt; å°½é‡è€ƒè™‘è”åˆç´¢å¼•ï¼Œè€Œä¸æ˜¯å•åˆ—ç´¢å¼•&lt;/h5&gt;
&lt;p&gt;å› ä¸ºç´¢å¼•æ˜¯éœ€è¦å ç”¨ç£ç›˜ç©ºé—´çš„ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºæ¯ä¸ªç´¢å¼•éƒ½å¯¹åº”ç€ä¸€é¢— B+ æ ‘ã€‚å¦‚æœä¸€ä¸ªè¡¨çš„å­—æ®µè¿‡å¤šï¼Œç´¢å¼•è¿‡å¤šï¼Œé‚£ä¹ˆå½“è¿™ä¸ªè¡¨çš„æ•°æ®è¾¾åˆ°ä¸€ä¸ªä½“é‡åï¼Œç´¢å¼•å ç”¨çš„ç©ºé—´ä¹Ÿæ˜¯å¾ˆå¤šçš„ï¼Œä¸”ä¿®æ”¹ç´¢å¼•æ—¶ï¼Œè€—è´¹çš„æ—¶é—´ä¹Ÿæ˜¯è¾ƒå¤šçš„ã€‚&lt;font color=&#39;red&#39;&gt;å¦‚æœæ˜¯è”åˆç´¢å¼•ï¼Œå¤šä¸ªå­—æ®µåœ¨ä¸€ä¸ªç´¢å¼•ä¸Šï¼Œé‚£ä¹ˆå°†ä¼šèŠ‚çº¦å¾ˆå¤§ç£ç›˜ç©ºé—´ï¼Œä¸”ä¿®æ”¹æ•°æ®çš„æ“ä½œæ•ˆç‡ä¹Ÿä¼šæå‡&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;æ³¨æ„é¿å…å†—ä½™ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ³¨æ„é¿å…å†—ä½™ç´¢å¼•&#34;&gt;#&lt;/a&gt; æ³¨æ„é¿å…å†—ä½™ç´¢å¼•&lt;/h5&gt;
&lt;p&gt;å†—ä½™ç´¢å¼•æŒ‡çš„æ˜¯ç´¢å¼•çš„åŠŸèƒ½ç›¸åŒï¼Œèƒ½å¤Ÿå‘½ä¸­ç´¢å¼• (a, b) å°±è‚¯å®šèƒ½å‘½ä¸­ç´¢å¼• (a) ï¼Œé‚£ä¹ˆç´¢å¼• (a) å°±æ˜¯å†—ä½™ç´¢å¼•ã€‚å¦‚ï¼ˆname,city ï¼‰å’Œï¼ˆname ï¼‰è¿™ä¸¤ä¸ªç´¢å¼•å°±æ˜¯å†—ä½™ç´¢å¼•ï¼Œèƒ½å¤Ÿå‘½ä¸­å‰è€…çš„æŸ¥è¯¢è‚¯å®šæ˜¯èƒ½å¤Ÿå‘½ä¸­åè€…çš„ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œéƒ½åº”è¯¥å°½é‡æ‰©å±•å·²æœ‰çš„ç´¢å¼•è€Œä¸æ˜¯åˆ›å»ºæ–°ç´¢å¼•ã€‚&lt;/p&gt;
&lt;h5 id=&#34;é’ˆå¯¹å­—ç¬¦ä¸²ç±»å‹çš„å­—æ®µä½¿ç”¨å‰ç¼€ç´¢å¼•çŸ­ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é’ˆå¯¹å­—ç¬¦ä¸²ç±»å‹çš„å­—æ®µä½¿ç”¨å‰ç¼€ç´¢å¼•çŸ­ç´¢å¼•&#34;&gt;#&lt;/a&gt; é’ˆå¯¹å­—ç¬¦ä¸²ç±»å‹çš„å­—æ®µï¼Œä½¿ç”¨å‰ç¼€ç´¢å¼•ï¼ˆçŸ­ç´¢å¼•ï¼‰&lt;/h5&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å‰ç¼€ç´¢å¼•ï¼ˆçŸ­ç´¢å¼•ï¼‰ä»…é™äºå­—ç¬¦ä¸²ç±»å‹ï¼Œåªå¯¹å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†å‰ç¼€å»ºç«‹ç´¢å¼•ï¼Œå¤§å¤§èŠ‚çº¦ç´¢å¼•ç©ºé—´ï¼Œæé«˜ç´¢å¼•æ•ˆç‡&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;åˆ é™¤é•¿æœŸæœªä½¿ç”¨çš„ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ é™¤é•¿æœŸæœªä½¿ç”¨çš„ç´¢å¼•&#34;&gt;#&lt;/a&gt; åˆ é™¤é•¿æœŸæœªä½¿ç”¨çš„ç´¢å¼•&lt;/h5&gt;
&lt;p&gt;ä¸ç”¨çš„ç´¢å¼•ä¼šé€ æˆä¸å¿…è¦çš„æ€§èƒ½æŸè€—ã€‚MySQL 5.7 å¯ä»¥é€šè¿‡æŸ¥è¯¢  &lt;code&gt;sys&lt;/code&gt;  åº“çš„  &lt;code&gt;schema_unused_indexes&lt;/code&gt;  è§†å›¾æ¥æŸ¥è¯¢å“ªäº›ç´¢å¼•ä»æœªè¢«ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h5 id=&#34;ä¸èƒ½æœ‰æ•ˆåŒºåˆ†æ•°æ®çš„å­—æ®µä¸é€‚åˆåšç´¢å¼•åˆ—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸èƒ½æœ‰æ•ˆåŒºåˆ†æ•°æ®çš„å­—æ®µä¸é€‚åˆåšç´¢å¼•åˆ—&#34;&gt;#&lt;/a&gt; ä¸èƒ½æœ‰æ•ˆåŒºåˆ†æ•°æ®çš„å­—æ®µä¸é€‚åˆåšç´¢å¼•åˆ—&lt;/h5&gt;
&lt;p&gt;å¦‚æ€§åˆ«ï¼ˆç”· / å¥³ / æœªçŸ¥ï¼‰ï¼Œæœ€å¤šä¹Ÿå°±ä¸‰ç§ï¼ŒåŒºåˆ†åº¦å®åœ¨å¤ªä½ã€‚&lt;/p&gt;
&lt;h5 id=&#34;åˆ©ç”¨-explain-å‘½ä»¤åˆ†æ-sql-æ˜¯å¦èµ°ç´¢å¼•æŸ¥è¯¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ©ç”¨-explain-å‘½ä»¤åˆ†æ-sql-æ˜¯å¦èµ°ç´¢å¼•æŸ¥è¯¢&#34;&gt;#&lt;/a&gt; åˆ©ç”¨ EXPLAIN å‘½ä»¤åˆ†æ SQL æ˜¯å¦èµ°ç´¢å¼•æŸ¥è¯¢&lt;/h5&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &lt;strong&gt; &lt;code&gt;EXPLAIN&lt;/code&gt;  å‘½ä»¤&lt;/strong&gt;æ¥åˆ†æ SQL çš„&lt;strong&gt;æ‰§è¡Œè®¡åˆ’&lt;/strong&gt; ï¼Œè¿™æ ·å°±çŸ¥é“è¯­å¥æ˜¯å¦å‘½ä¸­ç´¢å¼•äº†ã€‚æ‰§è¡Œè®¡åˆ’æ˜¯æŒ‡&lt;strong&gt;ä¸€æ¡ SQL è¯­å¥åœ¨ç»è¿‡ MySQL æŸ¥è¯¢ä¼˜åŒ–å™¨çš„ä¼˜åŒ–åï¼Œå…·ä½“çš„æ‰§è¡Œæ–¹å¼&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;EXPLAIN&lt;/code&gt;  å¹¶ä¸ä¼šçœŸçš„å»æ‰§è¡Œç›¸å…³çš„è¯­å¥ï¼Œè€Œæ˜¯é€šè¿‡ &lt;strong&gt;æŸ¥è¯¢ä¼˜åŒ–å™¨&lt;/strong&gt; å¯¹è¯­å¥è¿›è¡Œåˆ†æï¼Œæ‰¾å‡ºæœ€ä¼˜çš„æŸ¥è¯¢æ–¹æ¡ˆï¼Œå¹¶æ˜¾ç¤ºå¯¹åº”çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;EXPLAIN&lt;/code&gt;  çš„è¾“å‡ºæ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231118141340551.png&#34; alt=&#34;image-20231118141340551&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å„ä¸ªå­—æ®µçš„å«ä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;åˆ—å&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;å«ä¹‰&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;id&lt;/td&gt;
&lt;td&gt;SELECT æŸ¥è¯¢çš„åºåˆ—æ ‡è¯†ç¬¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;select_type&lt;/td&gt;
&lt;td&gt;SELECT å…³é”®å­—å¯¹åº”çš„æŸ¥è¯¢ç±»å‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;table&lt;/td&gt;
&lt;td&gt;ç”¨åˆ°çš„è¡¨å&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;partitions&lt;/td&gt;
&lt;td&gt;åŒ¹é…çš„åˆ†åŒºï¼Œå¯¹äºæœªåˆ†åŒºçš„è¡¨ï¼Œå€¼ä¸º NULL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;type&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;è¡¨çš„è®¿é—®æ–¹æ³•&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;possible_keys&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;å¯èƒ½ç”¨åˆ°çš„ç´¢å¼•&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;key&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;å®é™…ç”¨åˆ°çš„ç´¢å¼•&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;key_len&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;æ‰€é€‰ç´¢å¼•çš„é•¿åº¦&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ref&lt;/td&gt;
&lt;td&gt;å½“ä½¿ç”¨ç´¢å¼•ç­‰å€¼æŸ¥è¯¢æ—¶ï¼Œä¸ç´¢å¼•ä½œæ¯”è¾ƒçš„åˆ—æˆ–å¸¸é‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;rows&lt;/td&gt;
&lt;td&gt;é¢„è®¡è¦è¯»å–çš„è¡Œæ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;filtered&lt;/td&gt;
&lt;td&gt;æŒ‰è¡¨æ¡ä»¶è¿‡æ»¤åï¼Œç•™å­˜çš„è®°å½•æ•°çš„ç™¾åˆ†æ¯”&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Extra&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;é™„åŠ ä¿¡æ¯&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ç¯‡å¹…é—®é¢˜ï¼Œæˆ‘è¿™é‡Œåªæ˜¯ç®€å•ä»‹ç»äº†ä¸€ä¸‹ MySQL æ‰§è¡Œè®¡åˆ’ï¼Œè¯¦ç»†ä»‹ç»è¯·çœ‹ï¼š&lt;a href=&#34;&#34;&gt;MySQL æ‰§è¡Œè®¡åˆ’åˆ†æ&lt;/a&gt;è¿™ç¯‡æ–‡ç« ã€‚&lt;/p&gt;
&lt;h3 id=&#34;mysqlæ‰§è¡Œè®¡åˆ’&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysqlæ‰§è¡Œè®¡åˆ’&#34;&gt;#&lt;/a&gt; MySQL æ‰§è¡Œè®¡åˆ’&lt;/h3&gt;
&lt;h4 id=&#34;å„ä¸ªå­—æ®µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å„ä¸ªå­—æ®µ&#34;&gt;#&lt;/a&gt; å„ä¸ªå­—æ®µ&lt;/h4&gt;
&lt;h5 id=&#34;id&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#id&#34;&gt;#&lt;/a&gt; id&lt;/h5&gt;
&lt;p&gt;SELECT æ ‡è¯†ç¬¦ï¼Œæ˜¯æŸ¥è¯¢ä¸­ SELECT çš„åºå·ï¼Œç”¨æ¥æ ‡è¯†æ•´ä¸ªæŸ¥è¯¢ä¸­ SELELCT è¯­å¥çš„é¡ºåºã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;id å¦‚æœç›¸åŒï¼Œä»ä¸Šå¾€ä¸‹ä¾æ¬¡æ‰§è¡Œ&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;id ä¸åŒï¼Œ&lt;font color=&#39;red&#39;&gt;id å€¼è¶Šå¤§ï¼Œæ‰§è¡Œä¼˜å…ˆçº§è¶Šé«˜&lt;/font&gt;ï¼Œå¦‚æœè¡Œå¼•ç”¨å…¶ä»–è¡Œçš„å¹¶é›†ç»“æœï¼Œåˆ™è¯¥å€¼å¯ä»¥ä¸º NULLã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;select_type&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#select_type&#34;&gt;#&lt;/a&gt; select_type&lt;/h5&gt;
&lt;p&gt;æŸ¥è¯¢çš„ç±»å‹ï¼Œä¸»è¦ç”¨äºåŒºåˆ†æ™®é€šæŸ¥è¯¢ã€è”åˆæŸ¥è¯¢ã€å­æŸ¥è¯¢ç­‰å¤æ‚çš„æŸ¥è¯¢ï¼Œå¸¸è§çš„å€¼æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;SIMPLE&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;ç®€å•æŸ¥è¯¢&lt;/font&gt;ï¼Œä¸åŒ…å« UNION æˆ–è€…å­æŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;PRIMARY&lt;/strong&gt;ï¼šæŸ¥è¯¢ä¸­å¦‚æœåŒ…å«å­æŸ¥è¯¢æˆ–å…¶ä»–éƒ¨åˆ†ï¼Œ&lt;font color=&#39;red&#39;&gt;å¤–å±‚çš„ SELECT &lt;/font&gt;å°†è¢«æ ‡è®°ä¸º PRIMARYã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SUBQUERY&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;å­æŸ¥è¯¢ä¸­çš„ç¬¬ä¸€ä¸ª SELECT&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;UNION&lt;/strong&gt;ï¼šåœ¨ UNION è¯­å¥ä¸­ï¼Œ&lt;font color=&#39;red&#39;&gt;UNION ä¹‹åå‡ºç°çš„ SELECT&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DERIVED&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;åœ¨ FROM ä¸­å‡ºç°çš„å­æŸ¥è¯¢&lt;/font&gt;å°†è¢«æ ‡è®°ä¸º DERIVEDã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;UNION RESULT&lt;/strong&gt;ï¼šUNION æŸ¥è¯¢çš„ç»“æœã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;table&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#table&#34;&gt;#&lt;/a&gt; table&lt;/h5&gt;
&lt;p&gt;æŸ¥è¯¢ç”¨åˆ°çš„è¡¨åï¼Œæ¯è¡Œéƒ½æœ‰å¯¹åº”çš„è¡¨åï¼Œè¡¨åé™¤äº†æ­£å¸¸çš„è¡¨ä¹‹å¤–ï¼Œä¹Ÿå¯èƒ½æ˜¯ä»¥ä¸‹åˆ—å‡ºçš„å€¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;&amp;lt;unionM,N&amp;gt;&lt;/code&gt; &lt;/strong&gt; : æœ¬è¡Œå¼•ç”¨äº† id ä¸º M å’Œ N çš„è¡Œçš„ UNION ç»“æœï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;&amp;lt;derivedN&amp;gt;&lt;/code&gt; &lt;/strong&gt; : æœ¬è¡Œå¼•ç”¨äº† id ä¸º N çš„è¡¨æ‰€äº§ç”Ÿçš„çš„æ´¾ç”Ÿè¡¨ç»“æœã€‚æ´¾ç”Ÿè¡¨æœ‰å¯èƒ½äº§ç”Ÿè‡ª FROM è¯­å¥ä¸­çš„å­æŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;&amp;lt;subqueryN&amp;gt;&lt;/code&gt; &lt;/strong&gt; : æœ¬è¡Œå¼•ç”¨äº† id ä¸º N çš„è¡¨æ‰€äº§ç”Ÿçš„çš„ç‰©åŒ–å­æŸ¥è¯¢ç»“æœã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;typeé‡è¦&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#typeé‡è¦&#34;&gt;#&lt;/a&gt; &lt;mark&gt;typeï¼ˆé‡è¦ï¼‰&lt;/mark&gt;&lt;/h5&gt;
&lt;p&gt;æŸ¥è¯¢æ‰§è¡Œçš„ç±»å‹ï¼Œæè¿°äº†æŸ¥è¯¢æ˜¯å¦‚ä½•æ‰§è¡Œçš„ã€‚æ‰€æœ‰å€¼çš„é¡ºåºä»æœ€ä¼˜åˆ°æœ€å·®æ’åºä¸ºï¼šsystem &amp;gt; const &amp;gt; eq_ref &amp;gt; ref &amp;gt; fulltext &amp;gt; ref_or_null &amp;gt; index_merge &amp;gt; unique_subquery &amp;gt; index_subquery &amp;gt; range &amp;gt; index &amp;gt; ALL&lt;/p&gt;
&lt;p&gt;å¸¸è§çš„å‡ ç§ç±»å‹å…·ä½“å«ä¹‰å¦‚ä¸‹ï¼ˆ&lt;strong&gt;æŒ‰ç…§æ‰§è¡Œæ•ˆç‡ä»ä½åˆ°é«˜çš„é¡ºåº&lt;/strong&gt;ï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;Allï¼ˆå…¨è¡¨æ‰«æï¼‰&lt;/font&gt;ï¼šæœ€åçš„æƒ…å†µï¼Œå› ä¸ºé‡‡ç”¨äº†&lt;font color=&#39;red&#39;&gt;å…¨è¡¨æ‰«æ&lt;/font&gt;çš„æ–¹å¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;indexï¼ˆå…¨ç´¢å¼•æ‰«æï¼‰&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;æŸ¥è¯¢éå†äº†æ•´æ£µç´¢å¼•æ ‘&lt;/font&gt;ï¼Œå’Œ all å·®ä¸å¤šï¼Œåªä¸è¿‡æ‰«æçš„æ˜¯ç´¢å¼•ï¼Œè€Œç´¢å¼•ä¸€èˆ¬åœ¨å†…å­˜ä¸­ï¼Œé€Ÿåº¦æ›´å¿«ã€‚åªä¸è¿‡ index &lt;font color=&#39;red&#39;&gt;å¯¹ç´¢å¼•è¡¨è¿›è¡Œå…¨æ‰«æ&lt;/font&gt;ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ä¸å†éœ€è¦å¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œä½†æ˜¯å¼€é”€ä¾ç„¶å¾ˆå¤§ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ‰€ä»¥è¦å°½é‡é¿å…å…¨è¡¨æ‰«æå’Œå…¨ç´¢å¼•æ‰«æã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;rangeï¼ˆå¯¹ç´¢å¼•è¿›è¡ŒèŒƒå›´æ‰«æï¼‰&lt;/font&gt;ï¼šä¸€èˆ¬åœ¨ where å­å¥ä¸­ä½¿ç”¨ &amp;lt;ã€&amp;gt;ã€inã€between ç­‰å…³é”®è¯ï¼Œåªæ£€ç´¢ç»™å®šèŒƒå›´çš„è¡Œï¼Œå±äºèŒƒå›´æŸ¥æ‰¾ã€‚æ‰§è¡Œè®¡åˆ’ä¸­çš„ key åˆ—è¡¨ç¤ºå“ªä¸ªç´¢å¼•è¢«ä½¿ç”¨äº†ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä»è¿™ä¸€çº§åˆ«å¼€å§‹ï¼Œç´¢å¼•çš„ä½œç”¨ä¼šè¶Šæ¥è¶Šæ˜æ˜¾ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°½é‡è®© SQL æŸ¥è¯¢å¯ä»¥ä½¿ç”¨åˆ° range è¿™ä¸€çº§åˆ«åŠä»¥ä¸Šçš„ type è®¿é—®æ–¹å¼&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;refï¼ˆéå”¯ä¸€ç´¢å¼•æ‰«æï¼‰&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;é‡‡ç”¨äº†éå”¯ä¸€ç´¢å¼•ï¼Œæˆ–è€…æ˜¯å”¯ä¸€ç´¢å¼•çš„éå”¯ä¸€æ€§å‰ç¼€&lt;/font&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;æŸ¥è¯¢ç»“æœå¯èƒ½è¿”å›å¤šæ¡ç¬¦åˆæ¡ä»¶çš„è¡Œ&lt;/font&gt;ã€‚å› ä¸ºè™½ç„¶ä½¿ç”¨äº†ç´¢å¼•ï¼Œä½†&lt;font color=&#39;red&#39;&gt;è¯¥ç´¢å¼•åˆ—çš„å€¼å¹¶ä¸å”¯ä¸€ï¼Œæœ‰é‡å¤&lt;/font&gt;ã€‚è¿™æ ·å³ä½¿ä½¿ç”¨ç´¢å¼•å¿«é€ŸæŸ¥æ‰¾åˆ°äº†ç¬¬ä¸€æ¡æ•°æ®ï¼Œä»ç„¶ä¸èƒ½åœæ­¢ï¼Œè¦è¿›è¡Œç›®æ ‡å€¼é™„è¿‘çš„å°èŒƒå›´æ‰«æã€‚ä½†å®ƒçš„&lt;font color=&#39;red&#39;&gt;å¥½å¤„æ˜¯å®ƒå¹¶ä¸éœ€è¦æ‰«å…¨è¡¨ï¼Œå› ä¸ºç´¢å¼•æ˜¯æœ‰åºçš„ï¼Œå³ä¾¿æœ‰é‡å¤å€¼ï¼Œä¹Ÿæ˜¯åœ¨ä¸€ä¸ªéå¸¸å°çš„èŒƒå›´å†…æ‰«æ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;eq_refï¼ˆå”¯ä¸€ç´¢å¼•æ‰«æï¼‰&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;ä½¿ç”¨ä¸»é”®ç´¢å¼•æˆ–å”¯ä¸€ç´¢å¼•&lt;/font&gt;æ—¶äº§ç”Ÿçš„è®¿é—®æ–¹å¼ï¼Œ&lt;font color=&#39;red&#39;&gt;é€šå¸¸ä½¿ç”¨åœ¨å¤šè¡¨è”æŸ¥ä¸­&lt;/font&gt;ã€‚æ¯”å¦‚ï¼Œå¯¹ä¸¤å¼ è¡¨è¿›è¡Œè”æŸ¥ï¼Œå…³è”æ¡ä»¶æ˜¯ä¸¤å¼ è¡¨çš„ user_id ç›¸ç­‰ï¼Œä¸” user_id æ˜¯å”¯ä¸€ç´¢å¼•ï¼Œé‚£ä¹ˆä½¿ç”¨ EXPLAIN è¿›è¡Œæ‰§è¡Œè®¡åˆ’æŸ¥çœ‹çš„æ—¶å€™ï¼Œtype å°±ä¼šæ˜¾ç¤º eq_refã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;const&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;ä½¿ç”¨äº†ä¸»é”®æˆ–è€…å”¯ä¸€ç´¢å¼•ä¸å¸¸é‡å€¼è¿›è¡Œæ¯”è¾ƒ&lt;/font&gt;ï¼Œè¡¨ä¸­æœ€å¤šåªæœ‰ä¸€è¡ŒåŒ¹é…çš„è®°å½•ï¼Œä¸€æ¬¡æŸ¥è¯¢å°±å¯ä»¥æ‰¾åˆ°ã€‚æ¯”å¦‚ select name from product where id=1ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éœ€è¦è¯´æ˜çš„æ˜¯ const ç±»å‹å’Œ eq_ref éƒ½ä½¿ç”¨äº†ä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•ï¼Œä¸è¿‡è¿™ä¸¤ä¸ªç±»å‹æœ‰æ‰€åŒºåˆ«ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;const æ˜¯ä¸å¸¸é‡è¿›è¡Œæ¯”è¾ƒï¼ŒæŸ¥è¯¢æ•ˆç‡ä¼šæ›´å¿«ï¼›è€Œ eq_ref é€šå¸¸ç”¨äºå¤šè¡¨è”æŸ¥ä¸­&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;system&lt;/font&gt;ï¼šå¦‚æœè¡¨ä½¿ç”¨çš„å¼•æ“å¯¹äºè¡¨è¡Œæ•°ç»Ÿè®¡æ˜¯ç²¾ç¡®çš„ï¼ˆå¦‚ï¼šMyISAMï¼‰ï¼Œä¸”è¡¨ä¸­åªæœ‰ä¸€è¡Œè®°å½•çš„æƒ…å†µä¸‹ï¼Œè®¿é—®æ–¹æ³•æ˜¯ system ï¼Œæ˜¯ const çš„ä¸€ç§ç‰¹ä¾‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢è¿™ä¸ªä¸çŸ¥é“æ€§èƒ½å¦‚ä½•...&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;index_merge&lt;/strong&gt;ï¼šå½“æŸ¥è¯¢æ¡ä»¶ä½¿ç”¨äº†å¤šä¸ªç´¢å¼•æ—¶ï¼Œè¡¨ç¤ºå¼€å¯äº† Index Merge ä¼˜åŒ–ï¼Œæ­¤æ—¶æ‰§è¡Œè®¡åˆ’ä¸­çš„ key åˆ—åˆ—å‡ºäº†ä½¿ç”¨åˆ°çš„ç´¢å¼•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;possible_keys&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#possible_keys&#34;&gt;#&lt;/a&gt; possible_keys&lt;/h5&gt;
&lt;p&gt;possible_keys åˆ—è¡¨ç¤º&lt;font color=&#39;red&#39;&gt; MySQL æ‰§è¡ŒæŸ¥è¯¢æ—¶å¯èƒ½ç”¨åˆ°çš„ç´¢å¼•&lt;/font&gt;ã€‚å¦‚æœè¿™ä¸€åˆ—ä¸º NULL ï¼Œåˆ™è¡¨ç¤ºæ²¡æœ‰å¯èƒ½ç”¨åˆ°çš„ç´¢å¼•ï¼›è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦æ£€æŸ¥ WHERE è¯­å¥ä¸­æ‰€ä½¿ç”¨çš„çš„åˆ—ï¼Œçœ‹æ˜¯å¦å¯ä»¥é€šè¿‡ç»™è¿™äº›åˆ—ä¸­æŸä¸ªæˆ–å¤šä¸ªæ·»åŠ ç´¢å¼•çš„æ–¹æ³•æ¥æé«˜æŸ¥è¯¢æ€§èƒ½ã€‚&lt;/p&gt;
&lt;h5 id=&#34;keyé‡è¦&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#keyé‡è¦&#34;&gt;#&lt;/a&gt; keyï¼ˆé‡è¦ï¼‰&lt;/h5&gt;
&lt;p&gt;key åˆ—è¡¨ç¤º&lt;font color=&#39;red&#39;&gt; MySQL å®é™…ä½¿ç”¨åˆ°çš„ç´¢å¼•&lt;/font&gt;ã€‚å¦‚æœä¸º NULLï¼Œåˆ™è¡¨ç¤ºæœªç”¨åˆ°ç´¢å¼•ã€‚&lt;/p&gt;
&lt;h5 id=&#34;key_len&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#key_len&#34;&gt;#&lt;/a&gt; key_len&lt;/h5&gt;
&lt;p&gt;key_len åˆ—è¡¨ç¤º MySQL å®é™…ä½¿ç”¨çš„ç´¢å¼•çš„æœ€å¤§é•¿åº¦ï¼›å½“ä½¿ç”¨åˆ°è”åˆç´¢å¼•æ—¶ï¼Œæœ‰å¯èƒ½æ˜¯å¤šä¸ªåˆ—çš„é•¿åº¦å’Œã€‚åœ¨æ»¡è¶³éœ€æ±‚çš„å‰æä¸‹è¶ŠçŸ­è¶Šå¥½ã€‚å¦‚æœ key åˆ—æ˜¾ç¤º NULL ï¼Œåˆ™ key_len åˆ—ä¹Ÿæ˜¾ç¤º NULL ã€‚&lt;/p&gt;
&lt;h5 id=&#34;rows&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rows&#34;&gt;#&lt;/a&gt; rows&lt;/h5&gt;
&lt;p&gt;rows åˆ—è¡¨ç¤ºæ ¹æ®è¡¨ç»Ÿè®¡ä¿¡æ¯åŠé€‰ç”¨æƒ…å†µï¼Œå¤§è‡´ä¼°ç®—å‡ºæ‰¾åˆ°æ‰€éœ€çš„è®°å½•æˆ–æ‰€éœ€è¯»å–çš„è¡Œæ•°ï¼Œæ•°å€¼è¶Šå°è¶Šå¥½ã€‚&lt;/p&gt;
&lt;h5 id=&#34;extraé‡è¦&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#extraé‡è¦&#34;&gt;#&lt;/a&gt; &lt;mark&gt;Extraï¼ˆé‡è¦ï¼‰&lt;/mark&gt;&lt;/h5&gt;
&lt;p&gt;è¿™åˆ—åŒ…å«äº† MySQL è§£ææŸ¥è¯¢çš„é¢å¤–ä¿¡æ¯ï¼Œé€šè¿‡è¿™äº›ä¿¡æ¯ï¼Œå¯ä»¥æ›´å‡†ç¡®çš„ç†è§£ MySQL åˆ°åº•æ˜¯å¦‚ä½•æ‰§è¡ŒæŸ¥è¯¢çš„ã€‚å¸¸è§çš„å€¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;Using filesort&lt;/font&gt;&lt;/strong&gt;ï¼šåœ¨æ’åºæ—¶ä½¿ç”¨äº†å¤–éƒ¨çš„ç´¢å¼•æ’åºï¼Œæ²¡æœ‰ç”¨åˆ°è¡¨å†…ç´¢å¼•è¿›è¡Œæ’åºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;Using temporary&lt;/font&gt;&lt;/strong&gt;ï¼šMySQL éœ€è¦åˆ›å»ºä¸´æ—¶è¡¨æ¥å­˜å‚¨æŸ¥è¯¢çš„ç»“æœï¼Œå¸¸è§äº ORDER BY å’Œ GROUP BYã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;Using index&lt;/font&gt;&lt;/strong&gt;ï¼šè¡¨æ˜æŸ¥è¯¢ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•ï¼Œä¸ç”¨å›è¡¨ï¼ŒæŸ¥è¯¢æ•ˆç‡éå¸¸é«˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Using index condition&lt;/strong&gt;ï¼šè¡¨ç¤ºæŸ¥è¯¢ä¼˜åŒ–å™¨é€‰æ‹©ä½¿ç”¨äº†ç´¢å¼•æ¡ä»¶ä¸‹æ¨è¿™ä¸ªç‰¹æ€§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Using where&lt;/strong&gt;ï¼šè¡¨æ˜æŸ¥è¯¢ä½¿ç”¨äº† WHERE å­å¥è¿›è¡Œæ¡ä»¶è¿‡æ»¤ã€‚ä¸€èˆ¬åœ¨æ²¡æœ‰ä½¿ç”¨åˆ°ç´¢å¼•çš„æ—¶å€™ä¼šå‡ºç°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Using join buffer (Block Nested Loop)&lt;/strong&gt;ï¼šè¿è¡¨æŸ¥è¯¢çš„æ–¹å¼ï¼Œè¡¨ç¤ºå½“è¢«é©±åŠ¨è¡¨çš„æ²¡æœ‰ä½¿ç”¨ç´¢å¼•çš„æ—¶å€™ï¼ŒMySQL ä¼šå…ˆå°†é©±åŠ¨è¡¨è¯»å‡ºæ¥æ”¾åˆ° join buffer ä¸­ï¼Œå†éå†è¢«é©±åŠ¨è¡¨ä¸é©±åŠ¨è¡¨è¿›è¡ŒæŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™é‡Œæé†’ä¸‹ï¼Œå½“ Extra åˆ—åŒ…å« Using filesort æˆ– Using temporary æ—¶ï¼ŒMySQL çš„æ€§èƒ½å¯èƒ½ä¼šå­˜åœ¨é—®é¢˜ï¼Œéœ€è¦å°½å¯èƒ½é¿å…ã€‚&lt;/p&gt;
&lt;h4 id=&#34;explainçš„ç»“æœæœ‰å“ªäº›æœ‰å“ªäº›ä¿¡æ¯å»å‘Šè¯‰ä½ æ€ä¹ˆä¼˜åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#explainçš„ç»“æœæœ‰å“ªäº›æœ‰å“ªäº›ä¿¡æ¯å»å‘Šè¯‰ä½ æ€ä¹ˆä¼˜åŒ–&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸexplain çš„ç»“æœæœ‰å“ªäº›ï¼Ÿæœ‰å“ªäº›ä¿¡æ¯å»å‘Šè¯‰ä½ æ€ä¹ˆä¼˜åŒ–ï¼Ÿ&lt;/mark&gt;&lt;/h4&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231130210942311.png&#34; alt=&#34;image-20231130210942311&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºæ‰§è¡Œè®¡åˆ’ï¼Œå‚æ•°æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;possible_keys&lt;/code&gt; ï¼šå¯èƒ½ç”¨åˆ°çš„ç´¢å¼•ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;key&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;å®é™…ç”¨çš„ç´¢å¼•&lt;/font&gt;ã€‚å¦‚æœè¿™ä¸€é¡¹ä¸º NULLï¼Œè¯´æ˜æ²¡æœ‰ä½¿ç”¨ç´¢å¼•ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;key_len&lt;/code&gt; ï¼šç´¢å¼•çš„é•¿åº¦ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rows&lt;/code&gt; ï¼šæ‰«æçš„æ•°æ®è¡Œæ•°ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;type&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;æ•°æ®æ‰«æç±»å‹&lt;/font&gt;ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Extra&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;MySQL è§£ææŸ¥è¯¢çš„é¢å¤–ä¿¡æ¯&lt;/font&gt;ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;type-å­—æ®µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#type-å­—æ®µ&#34;&gt;#&lt;/a&gt; type å­—æ®µ&lt;/h5&gt;
&lt;p&gt;type å­—æ®µæè¿°äº†&lt;font color=&#39;red&#39;&gt;æ‰¾åˆ°æ‰€éœ€æ•°æ®æ—¶ä½¿ç”¨çš„æ‰«ææ–¹å¼&lt;/font&gt;æ˜¯ä»€ä¹ˆï¼Œå¸¸è§æ‰«æç±»å‹çš„ **&lt;font color=&#39;#B32015&#39;&gt;æ‰§è¡Œæ•ˆç‡ä»ä½åˆ°é«˜çš„é¡ºåºä¸º&lt;/font&gt;**ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;Allï¼ˆå…¨è¡¨æ‰«æï¼‰&lt;/font&gt;ï¼šæœ€åçš„æƒ…å†µï¼Œå› ä¸ºé‡‡ç”¨äº†&lt;font color=&#39;red&#39;&gt;å…¨è¡¨æ‰«æ&lt;/font&gt;çš„æ–¹å¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;indexï¼ˆå…¨ç´¢å¼•æ‰«æï¼‰&lt;/font&gt;ï¼š å’Œ all å·®ä¸å¤šï¼Œåªä¸è¿‡ index &lt;font color=&#39;red&#39;&gt;å¯¹ç´¢å¼•è¡¨è¿›è¡Œå…¨æ‰«æ&lt;/font&gt;ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ä¸å†éœ€è¦å¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œä½†æ˜¯å¼€é”€ä¾ç„¶å¾ˆå¤§ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ‰€ä»¥è¦å°½é‡é¿å…å…¨è¡¨æ‰«æå’Œå…¨ç´¢å¼•æ‰«æã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;rangeï¼ˆç´¢å¼•èŒƒå›´æ‰«æï¼‰&lt;/font&gt;ï¼šä¸€èˆ¬åœ¨ where å­å¥ä¸­ä½¿ç”¨ &amp;lt;ã€&amp;gt;ã€inã€between ç­‰å…³é”®è¯ï¼Œåªæ£€ç´¢ç»™å®šèŒƒå›´çš„è¡Œï¼Œå±äºèŒƒå›´æŸ¥æ‰¾ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä»è¿™ä¸€çº§åˆ«å¼€å§‹ï¼Œç´¢å¼•çš„ä½œç”¨ä¼šè¶Šæ¥è¶Šæ˜æ˜¾ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°½é‡è®© SQL æŸ¥è¯¢å¯ä»¥ä½¿ç”¨åˆ° range è¿™ä¸€çº§åˆ«åŠä»¥ä¸Šçš„ type è®¿é—®æ–¹å¼&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;refï¼ˆéå”¯ä¸€ç´¢å¼•æ‰«æï¼‰&lt;/font&gt;ï¼šé‡‡ç”¨äº†éå”¯ä¸€ç´¢å¼•ï¼Œæˆ–è€…æ˜¯å”¯ä¸€ç´¢å¼•çš„éå”¯ä¸€æ€§å‰ç¼€ï¼Œ&lt;font color=&#39;red&#39;&gt;è¿”å›çš„æ•°æ®å¯èƒ½æ˜¯å¤šæ¡&lt;/font&gt;ã€‚å› ä¸ºè™½ç„¶ä½¿ç”¨äº†ç´¢å¼•ï¼Œä½†&lt;font color=&#39;red&#39;&gt;è¯¥ç´¢å¼•åˆ—çš„å€¼å¹¶ä¸å”¯ä¸€ï¼Œæœ‰é‡å¤&lt;/font&gt;ã€‚è¿™æ ·å³ä½¿ä½¿ç”¨ç´¢å¼•å¿«é€ŸæŸ¥æ‰¾åˆ°äº†ç¬¬ä¸€æ¡æ•°æ®ï¼Œä»ç„¶ä¸èƒ½åœæ­¢ï¼Œè¦è¿›è¡Œç›®æ ‡å€¼é™„è¿‘çš„å°èŒƒå›´æ‰«æã€‚ä½†å®ƒçš„&lt;font color=&#39;red&#39;&gt;å¥½å¤„æ˜¯å®ƒå¹¶ä¸éœ€è¦æ‰«å…¨è¡¨ï¼Œå› ä¸ºç´¢å¼•æ˜¯æœ‰åºçš„ï¼Œå³ä¾¿æœ‰é‡å¤å€¼ï¼Œä¹Ÿæ˜¯åœ¨ä¸€ä¸ªéå¸¸å°çš„èŒƒå›´å†…æ‰«æ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;eq_refï¼ˆå”¯ä¸€ç´¢å¼•æ‰«æï¼‰&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;ä½¿ç”¨ä¸»é”®ç´¢å¼•æˆ–å”¯ä¸€ç´¢å¼•&lt;/font&gt;æ—¶äº§ç”Ÿçš„è®¿é—®æ–¹å¼ï¼Œ&lt;font color=&#39;red&#39;&gt;é€šå¸¸ä½¿ç”¨åœ¨å¤šè¡¨è”æŸ¥ä¸­&lt;/font&gt;ã€‚æ¯”å¦‚ï¼Œå¯¹ä¸¤å¼ è¡¨è¿›è¡Œè”æŸ¥ï¼Œå…³è”æ¡ä»¶æ˜¯ä¸¤å¼ è¡¨çš„ user_id ç›¸ç­‰ï¼Œä¸” user_id æ˜¯å”¯ä¸€ç´¢å¼•ï¼Œé‚£ä¹ˆä½¿ç”¨ EXPLAIN è¿›è¡Œæ‰§è¡Œè®¡åˆ’æŸ¥çœ‹çš„æ—¶å€™ï¼Œtype å°±ä¼šæ˜¾ç¤º eq_refã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;constï¼ˆç»“æœåªæœ‰ä¸€æ¡çš„ä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•æ‰«æï¼‰&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;ä½¿ç”¨äº†ä¸»é”®æˆ–è€…å”¯ä¸€ç´¢å¼•ä¸å¸¸é‡å€¼è¿›è¡Œæ¯”è¾ƒ&lt;/font&gt;ï¼Œæ¯”å¦‚ select name from product where id=1ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éœ€è¦è¯´æ˜çš„æ˜¯ const ç±»å‹å’Œ eq_ref éƒ½ä½¿ç”¨äº†ä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•ï¼Œä¸è¿‡è¿™ä¸¤ä¸ªç±»å‹æœ‰æ‰€åŒºåˆ«ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;const æ˜¯ä¸å¸¸é‡è¿›è¡Œæ¯”è¾ƒï¼ŒæŸ¥è¯¢æ•ˆç‡ä¼šæ›´å¿«ï¼›è€Œ eq_ref é€šå¸¸ç”¨äºå¤šè¡¨è”æŸ¥ä¸­&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;extra-å­—æ®µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#extra-å­—æ®µ&#34;&gt;#&lt;/a&gt; Extra å­—æ®µ&lt;/h5&gt;
&lt;p&gt;è¿™é‡Œè¯´å‡ ä¸ªé‡è¦çš„å‚è€ƒæŒ‡æ ‡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;Using filesort&lt;/font&gt;ï¼šå½“æŸ¥è¯¢è¯­å¥ä¸­åŒ…å« group by æ“ä½œï¼Œè€Œä¸”æ— æ³•åˆ©ç”¨ç´¢å¼•å®Œæˆæ’åºæ“ä½œçš„æ—¶å€™ï¼Œè¿™æ—¶&lt;font color=&#39;red&#39;&gt;ä¸å¾—ä¸é€‰æ‹©ç›¸åº”çš„æ’åºç®—æ³•è¿›è¡Œï¼Œç”šè‡³å¯èƒ½ä¼šé€šè¿‡æ–‡ä»¶æ’åºï¼Œæ•ˆç‡æ˜¯å¾ˆä½çš„&lt;/font&gt;ï¼Œæ‰€ä»¥è¦é¿å…è¿™ç§é—®é¢˜çš„å‡ºç°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;Using temporary&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;ä½¿ç”¨ä¸´æ—¶è¡¨ä¿å­˜ä¸­é—´ç»“æœ&lt;/font&gt;ï¼ŒMySQL åœ¨å¯¹æŸ¥è¯¢ç»“æœæ’åºæ—¶ä½¿ç”¨ä¸´æ—¶è¡¨ï¼Œå¸¸è§äºæ’åº order by å’Œåˆ†ç»„æŸ¥è¯¢ group byã€‚æ•ˆç‡ä½ï¼Œè¦é¿å…è¿™ç§é—®é¢˜çš„å‡ºç°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;Using index&lt;/font&gt;ï¼šæ‰€éœ€æ•°æ®åªéœ€åœ¨ç´¢å¼•å³å¯å…¨éƒ¨è·å¾—ï¼Œä¸é¡»è¦å†åˆ°è¡¨ä¸­å–æ•°æ®ï¼Œä¹Ÿå°±æ˜¯&lt;font color=&#39;red&#39;&gt;ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•ï¼Œé¿å…äº†å›è¡¨æ“ä½œ&lt;/font&gt;ï¼Œæ•ˆç‡ä¸é”™ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;mysqlæŸ¥è¯¢ç¼“å­˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysqlæŸ¥è¯¢ç¼“å­˜&#34;&gt;#&lt;/a&gt; MySQL æŸ¥è¯¢ç¼“å­˜&lt;/h3&gt;
&lt;h4 id=&#34;ä»‹ç»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»‹ç»&#34;&gt;#&lt;/a&gt; ä»‹ç»&lt;/h4&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æ‰§è¡ŒæŸ¥è¯¢è¯­å¥çš„æ—¶å€™ï¼Œä¼šå…ˆæŸ¥è¯¢ç¼“å­˜&lt;/font&gt;ã€‚ä¸è¿‡ï¼Œ&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;MySQL 8.0 ç‰ˆæœ¬åç§»é™¤&lt;/font&gt;&lt;/strong&gt;ï¼Œå› ä¸ºè¿™ä¸ªåŠŸèƒ½ä¸å¤ªå®ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;my.cnf&lt;/code&gt;  åŠ å…¥ä»¥ä¸‹é…ç½®ï¼Œé‡å¯ MySQL å¼€å¯æŸ¥è¯¢ç¼“å­˜ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight properties&#34;&gt;&lt;figcaption data-lang=&#34;.properties&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key attr-name&#34;&gt;query_cache_type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token value attr-value&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key attr-name&#34;&gt;query_cache_size&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token value attr-value&#34;&gt;600000&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;MySQL æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¹Ÿå¯ä»¥å¼€å¯æŸ¥è¯¢ç¼“å­˜ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight properties&#34;&gt;&lt;figcaption data-lang=&#34;.properties&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key attr-name&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;token value attr-value&#34;&gt;global  query_cache_type=1;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key attr-name&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;token value attr-value&#34;&gt;global  query_cache_size=600000;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¦‚ä¸Šï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¼€å¯æŸ¥è¯¢ç¼“å­˜åï¼Œåœ¨åŒæ ·çš„æŸ¥è¯¢æ¡ä»¶ä»¥åŠæ•°æ®æƒ…å†µä¸‹ï¼Œä¼šç›´æ¥åœ¨ç¼“å­˜ä¸­è¿”å›ç»“æœ&lt;/font&gt;&lt;/strong&gt;ã€‚è¿™é‡Œçš„æŸ¥è¯¢æ¡ä»¶åŒ…æ‹¬æŸ¥è¯¢æœ¬èº«ã€å½“å‰è¦æŸ¥è¯¢çš„æ•°æ®åº“ã€å®¢æˆ·ç«¯åè®®ç‰ˆæœ¬å·ç­‰ä¸€äº›å¯èƒ½å½±å“ç»“æœçš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æŸ¥è¯¢ç¼“å­˜ä¸å‘½ä¸­çš„æƒ…å†µï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ä»»ä½•ä¸¤ä¸ªæŸ¥è¯¢åœ¨ä»»ä½•å­—ç¬¦ä¸Šçš„ä¸åŒ&lt;/font&gt;éƒ½ä¼šå¯¼è‡´ç¼“å­˜ä¸å‘½ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæŸ¥è¯¢ä¸­åŒ…å«ä»»ä½•&lt;font color=&#39;red&#39;&gt;ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ã€å­˜å‚¨å‡½æ•°ã€ç”¨æˆ·å˜é‡ã€ä¸´æ—¶è¡¨ã€MySQL åº“ä¸­çš„ç³»ç»Ÿè¡¨&lt;/font&gt;ï¼Œå…¶æŸ¥è¯¢ç»“æœä¹Ÿä¸ä¼šè¢«ç¼“å­˜ã€‚&lt;/li&gt;
&lt;li&gt;ç¼“å­˜å»ºç«‹ä¹‹åï¼ŒMySQL çš„æŸ¥è¯¢ç¼“å­˜ç³»ç»Ÿä¼šè·Ÿè¸ªæŸ¥è¯¢ä¸­æ¶‰åŠçš„æ¯å¼ è¡¨ï¼Œ&lt;font color=&#39;red&#39;&gt;å¦‚æœè¿™äº›è¡¨ï¼ˆæ•°æ®æˆ–ç»“æ„ï¼‰å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸å…³çš„æ‰€æœ‰ç¼“å­˜æ•°æ®éƒ½å°†å¤±æ•ˆ&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;** ç¼“å­˜è™½ç„¶èƒ½å¤Ÿæå‡æ•°æ®åº“çš„æŸ¥è¯¢æ€§èƒ½ï¼Œä½†æ˜¯ç¼“å­˜åŒæ—¶ä¹Ÿå¸¦æ¥äº†é¢å¤–çš„å¼€é”€ï¼Œæ¯æ¬¡æŸ¥è¯¢åéƒ½è¦åšä¸€æ¬¡ç¼“å­˜æ“ä½œï¼Œå¤±æ•ˆåè¿˜è¦é”€æ¯ã€‚** å› æ­¤ï¼Œå¼€å¯æŸ¥è¯¢ç¼“å­˜è¦è°¨æ…ï¼Œå°¤å…¶å¯¹äºå†™å¯†é›†çš„åº”ç”¨æ¥è¯´æ›´æ˜¯å¦‚æ­¤ã€‚å¦‚æœå¼€å¯ï¼Œè¦æ³¨æ„åˆç†æ§åˆ¶ç¼“å­˜ç©ºé—´å¤§å°ï¼Œä¸€èˆ¬æ¥è¯´å…¶å¤§å°è®¾ç½®ä¸ºå‡ å MB æ¯”è¾ƒåˆé€‚ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡  &lt;code&gt;sql_cache&lt;/code&gt;  å’Œ  &lt;code&gt;sql_no_cache&lt;/code&gt;  æ¥æ§åˆ¶æŸä¸ªæŸ¥è¯¢è¯­å¥æ˜¯å¦éœ€è¦ç¼“å­˜ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; sql_no_cache &lt;span class=&#34;token function&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; usr&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;æ€»ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ€»ç»“&#34;&gt;#&lt;/a&gt; æ€»ç»“&lt;/h4&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;MySQL ä¸­çš„æŸ¥è¯¢ç¼“å­˜è™½ç„¶èƒ½å¤Ÿæå‡æ•°æ®åº“çš„æŸ¥è¯¢æ€§èƒ½ï¼Œä½†æ˜¯æŸ¥è¯¢åŒæ—¶ä¹Ÿå¸¦æ¥äº†é¢å¤–çš„å¼€é”€ï¼Œæ¯æ¬¡æŸ¥è¯¢åéƒ½è¦åšä¸€æ¬¡ç¼“å­˜æ“ä½œï¼Œå¤±æ•ˆåè¿˜è¦é”€æ¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æŸ¥è¯¢ç¼“å­˜æ˜¯ä¸€ä¸ªé€‚ç”¨è¾ƒå°‘æƒ…å†µçš„ç¼“å­˜æœºåˆ¶ã€‚å¦‚æœä½ çš„åº”ç”¨å¯¹æ•°æ®åº“çš„æ›´æ–°å¾ˆå°‘ï¼Œé‚£ä¹ˆæŸ¥è¯¢ç¼“å­˜å°†ä¼šä½œç”¨æ˜¾è‘—ã€‚æ¯”è¾ƒå…¸å‹çš„å¦‚åšå®¢ç³»ç»Ÿï¼Œä¸€èˆ¬åšå®¢&lt;font color=&#39;red&#39;&gt;æ›´æ–°ç›¸å¯¹è¾ƒæ…¢ï¼Œæ•°æ®è¡¨ç›¸å¯¹ç¨³å®šä¸å˜ï¼Œè¿™æ—¶å€™æŸ¥è¯¢ç¼“å­˜çš„ä½œç”¨ä¼šæ¯”è¾ƒæ˜æ˜¾&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•æ€»ç»“ä¸€ä¸‹æŸ¥è¯¢ç¼“å­˜çš„&lt;font color=&#39;gree&#39;&gt;é€‚ç”¨åœºæ™¯&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¡¨æ•°æ®ä¿®æ”¹ä¸é¢‘ç¹ã€æ•°æ®è¾ƒé™æ€&lt;/li&gt;
&lt;li&gt;æŸ¥è¯¢ï¼ˆSelectï¼‰é‡å¤åº¦é«˜&lt;/li&gt;
&lt;li&gt;æŸ¥è¯¢ç»“æœé›†å°äº 1 MB&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯¹äºä¸€ä¸ªæ›´æ–°é¢‘ç¹çš„ç³»ç»Ÿæ¥è¯´ï¼ŒæŸ¥è¯¢ç¼“å­˜ç¼“å­˜çš„ä½œç”¨æ˜¯å¾ˆå¾®å°çš„ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹å¼€å¯æŸ¥è¯¢ç¼“å­˜ä¼šå¸¦æ¥æ€§èƒ½çš„ä¸‹é™ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•æ€»ç»“ä¸€ä¸‹æŸ¥è¯¢ç¼“å­˜&lt;font color=&#39;gree&#39;&gt;ä¸é€‚ç”¨çš„åœºæ™¯&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¡¨ä¸­çš„æ•°æ®ã€è¡¨ç»“æ„æˆ–è€…ç´¢å¼•å˜åŠ¨é¢‘ç¹&lt;/li&gt;
&lt;li&gt;é‡å¤çš„æŸ¥è¯¢å¾ˆå°‘&lt;/li&gt;
&lt;li&gt;æŸ¥è¯¢çš„ç»“æœé›†å¾ˆå¤§&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ã€Šé«˜æ€§èƒ½ MySQLã€‹è¿™æ ·å†™åˆ°ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ ¹æ®æˆ‘ä»¬çš„ç»éªŒï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;åœ¨é«˜å¹¶å‘å‹åŠ›ç¯å¢ƒä¸­æŸ¥è¯¢ç¼“å­˜ä¼šå¯¼è‡´ç³»ç»Ÿæ€§èƒ½çš„ä¸‹é™ï¼Œç”šè‡³åƒµæ­»&lt;/font&gt;&lt;/strong&gt;ã€‚å¦‚æœä½ ä¸€å®šè¦ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜ï¼Œé‚£ä¹ˆä¸è¦è®¾ç½®å¤ªå¤§å†…å­˜ï¼Œè€Œä¸”åªæœ‰åœ¨æ˜ç¡®æ”¶ç›Šçš„æ—¶å€™æ‰ä½¿ç”¨ï¼ˆæ•°æ®åº“å†…å®¹ä¿®æ”¹æ¬¡æ•°è¾ƒå°‘ï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç¡®å®æ˜¯è¿™æ ·çš„ï¼&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å®é™…é¡¹ç›®ä¸­ï¼Œæ›´å»ºè®®ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼ˆæ¯”å¦‚ Caffeineï¼‰æˆ–è€…åˆ†å¸ƒå¼ç¼“å­˜ï¼ˆæ¯”å¦‚ Redisï¼‰ï¼Œæ€§èƒ½æ›´å¥½ï¼Œæ›´é€šç”¨ä¸€äº›ã€‚&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;mysqlä¸‰å¤§æ—¥å¿—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysqlä¸‰å¤§æ—¥å¿—&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸMySQL ä¸‰å¤§æ—¥å¿—&lt;/mark&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;binlogã€redo logã€undo log&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;ç®€ä»‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®€ä»‹&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸç®€ä»‹&lt;/mark&gt;&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;MySQL&lt;/code&gt;  æ—¥å¿— ä¸»è¦åŒ…æ‹¬é”™è¯¯æ—¥å¿—ã€æŸ¥è¯¢æ—¥å¿—ã€äº‹åŠ¡æ—¥å¿—ã€äºŒè¿›åˆ¶æ—¥å¿—å‡ å¤§ç±»ã€‚å…¶ä¸­ï¼Œæ¯”è¾ƒé‡è¦çš„è¿˜è¦å±ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;äºŒè¿›åˆ¶æ—¥å¿—ï¼š &lt;code&gt;binlog&lt;/code&gt; ï¼ˆå½’æ¡£æ—¥å¿—ï¼‰&lt;/li&gt;
&lt;li&gt;äº‹åŠ¡æ—¥å¿—ï¼š &lt;code&gt;redo log&lt;/code&gt; ï¼ˆé‡åšæ—¥å¿—ï¼‰ã€  &lt;code&gt;undo log&lt;/code&gt; ï¼ˆå›æ»šæ—¥å¿—ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢å¯¹è¿™ä¸‰ç§æ—¥å¿—è¿›è¡Œç®€ä»‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;binlogï¼ˆäºŒè¿›åˆ¶æ—¥å¿— / å½’æ¡£æ—¥å¿—ï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;æ˜¯é€»è¾‘æ—¥å¿—ï¼Œè®°å½•äº†è¯­å¥çš„åŸå§‹é€»è¾‘&lt;/font&gt;ã€‚æ— è®ºç”¨å“ªç§å­˜å‚¨å¼•æ“ï¼Œ&lt;font color=&#39;red&#39;&gt;åªè¦è¡¨å‘ç”Ÿäº†æ•°æ®æ›´æ–°ï¼Œéƒ½ä¼šäº§ç”Ÿ binlog æ—¥å¿—&lt;/font&gt;ã€‚&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä¸»è¦ç”¨äºä¸»ä»å¤åˆ¶ï¼ˆè¯»å†™åˆ†ç¦»ï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼Œåœ¨ä¸»ä»å¤åˆ¶ä¸­ï¼Œä»åº“åˆ©ç”¨ä¸»åº“ä¸Šçš„ binlog è¿›è¡Œé‡æ’­ï¼Œå®ç°ä¸»ä»æ•°æ®åŒæ­¥ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;redo logï¼ˆé‡åšæ—¥å¿—ï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;æ˜¯ç‰©ç†æ—¥å¿—ï¼Œè®°å½•äº†åœ¨æŸä¸ªæ•°æ®é¡µä¸Šåšäº†ä»€ä¹ˆä¿®æ”¹&lt;/font&gt;ã€‚é˜²æ­¢åœ¨å‘ç”Ÿæ•…éšœçš„æ—¶é—´ç‚¹ï¼Œå°šæœ‰è„é¡µæœªå†™å…¥ç£ç›˜ï¼Œåœ¨é‡å¯ mysql æœåŠ¡çš„æ—¶å€™ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ ¹æ® redo log è¿›è¡Œé‡åšï¼Œä»è€Œç¡®ä¿äº‹åŠ¡çš„æŒä¹…æ€§ï¼ˆDï¼‰&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;undo logï¼ˆå›æ»šæ—¥å¿—ï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;æ˜¯é€»è¾‘æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯é€»è¾‘ç›¸åçš„æ“ä½œä¿¡æ¯&lt;/font&gt;ã€‚å¯ä»¥ **&lt;font color=&#39;red&#39;&gt;ç”¨äºå›æ»š&lt;/font&gt;&lt;strong&gt;ï¼Œå½“æ‰§è¡Œ rollback æ—¶ï¼Œå°±å¯ä»¥ä» undo log ä¸­çš„é€»è¾‘è®°å½•è¯»å–åˆ°ç›¸åº”çš„å†…å®¹å¹¶è¿›è¡Œå›æ»šï¼Œä»¥ç¡®ä¿äº‹åŠ¡çš„åŸå­æ€§ï¼ˆAï¼‰ã€‚åŒæ—¶&lt;/strong&gt;&lt;font color=&#39;red&#39;&gt;å¯ä»¥æä¾› MVCC ä¸‹çš„è¯»ï¼ˆå³éé”å®šè¯» / å¿«ç…§è¯»ï¼‰&lt;/font&gt;**ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/01.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;redo-logé‡åšæ—¥å¿—-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redo-logé‡åšæ—¥å¿—-2&#34;&gt;#&lt;/a&gt; redo logï¼ˆé‡åšæ—¥å¿—ï¼‰&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;redo log&lt;/code&gt; ï¼ˆé‡åšæ—¥å¿—ï¼‰&lt;font color=&#39;red&#39;&gt;æ˜¯ InnoDB å­˜å‚¨å¼•æ“ç‹¬æœ‰çš„&lt;/font&gt;ï¼Œå®ƒè®© &lt;code&gt;MySQL&lt;/code&gt;  æ‹¥æœ‰äº†&lt;strong&gt;å´©æºƒæ¢å¤èƒ½åŠ›&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚  &lt;code&gt;MySQL&lt;/code&gt;  å®ä¾‹æŒ‚äº†æˆ–å®•æœºäº†ï¼Œé‡å¯æ—¶ï¼Œ &lt;code&gt;InnoDB&lt;/code&gt;  å­˜å‚¨å¼•æ“ä¼šä½¿ç”¨ &lt;code&gt;redo log&lt;/code&gt;  æ¢å¤æ•°æ®ï¼Œä¿è¯æ•°æ®çš„æŒä¹…æ€§ä¸å®Œæ•´æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/02.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;InnoDB è¡¨çš„è¯»å†™æµç¨‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;MySQL ä¸­æ•°æ®ä»¥é¡µä¸ºå•ä½&lt;/font&gt;ï¼Œä½ æŸ¥è¯¢ä¸€æ¡è®°å½•ï¼Œä¼šä»ç¡¬ç›˜æŠŠä¸€é¡µçš„æ•°æ®åŠ è½½å‡ºæ¥ï¼ŒåŠ è½½å‡ºæ¥çš„æ•°æ®å«&lt;strong&gt;æ•°æ®é¡µ&lt;/strong&gt;ï¼Œä¼šæ”¾å…¥åˆ° &lt;strong&gt;ç¼“å†²æ±  Buffer Pool&lt;/strong&gt; ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;åç»­çš„æŸ¥è¯¢éƒ½æ˜¯å…ˆä» ç¼“å†²æ±  Buffer Pool ä¸­æ‰¾ï¼Œæ²¡æœ‰å‘½ä¸­å†å»ç¡¬ç›˜åŠ è½½ï¼Œå‡å°‘ç¡¬ç›˜  &lt;code&gt;IO&lt;/code&gt;  å¼€é”€ï¼Œæå‡æ€§èƒ½ã€‚æ›´æ–°è¡¨æ•°æ®çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå‘ç°ç¼“å†²æ±  Buffer Pool é‡Œå­˜åœ¨è¦æ›´æ–°çš„æ•°æ®ï¼Œå°±ç›´æ¥åœ¨ç¼“å†²æ±  Buffer Pool é‡Œæ›´æ–°ã€‚&lt;/li&gt;
&lt;li&gt;ç„¶åä¼šæŠŠ â€œåœ¨æŸä¸ªæ•°æ®é¡µä¸Šåšäº†ä»€ä¹ˆä¿®æ”¹â€ è®°å½•åˆ° ** é‡åšæ—¥å¿—ç¼“å­˜ï¼ˆ &lt;code&gt;redo log buffer&lt;/code&gt; ï¼‰** é‡Œ&lt;/li&gt;
&lt;li&gt;æœ€åï¼Œæ¸…ç©º redo log bufferï¼Œå¹¶åˆ·ç›˜åˆ° &lt;strong&gt;redo log file&lt;/strong&gt; ä¸­&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/03.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;åˆ·ç›˜æ—¶æœº&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ·ç›˜æ—¶æœº&#34;&gt;#&lt;/a&gt; åˆ·ç›˜æ—¶æœº&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;å°è´´å£«ï¼š&lt;font color=&#39;red&#39;&gt;æ¯æ¡ redo è®°å½•ç”± â€œè¡¨ç©ºé—´å· + æ•°æ®é¡µå· + åç§»é‡ + ä¿®æ”¹æ•°æ®é•¿åº¦ + å…·ä½“ä¿®æ”¹çš„æ•°æ®â€ ç»„æˆ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;InnoDB å°† redo log buffer åˆ·åˆ°ç£ç›˜ä¸Šæœ‰å‡ ç§æƒ…å†µï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;äº‹åŠ¡æäº¤&lt;/strong&gt;ï¼šå½“äº‹åŠ¡æäº¤æ—¶ï¼Œredo log buffer é‡Œçš„ redo log ä¼šè¢«åˆ·æ–°åˆ°ç£ç›˜ï¼ˆå¯ä»¥é€šè¿‡ &lt;code&gt;innodb_flush_log_at_trx_commit&lt;/code&gt;  å‚æ•°æ§åˆ¶ï¼Œåæ–‡ä¼šæåˆ°ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;log buffer ç©ºé—´ä¸è¶³æ—¶&lt;/strong&gt;ï¼šå½“ log buffer çš„å®¹é‡è¢«å æ»¡å¤§çº¦ä¸€åŠæ—¶ï¼Œå°±éœ€è¦æŠŠè¿™äº›æ—¥å¿—åˆ·æ–°åˆ°ç£ç›˜ä¸Šã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;äº‹åŠ¡æ—¥å¿—ç¼“å†²åŒºï¼ˆtransaction log bufferï¼‰æ»¡æ—¶&lt;/strong&gt;ï¼šInnoDB ä½¿ç”¨ä¸€ä¸ªäº‹åŠ¡æ—¥å¿—ç¼“å†²åŒºæ¥æš‚æ—¶å­˜å‚¨äº‹åŠ¡çš„é‡åšæ—¥å¿—æ¡ç›®ã€‚å½“ç¼“å†²åŒºæ»¡æ—¶ï¼Œä¼šè§¦å‘æ—¥å¿—çš„åˆ·æ–°ï¼Œå°†æ—¥å¿—å†™å…¥ç£ç›˜ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å®šæœŸæ‰§è¡Œ Checkpointï¼ˆæ£€æŸ¥ç‚¹ï¼‰æ“ä½œæ—¶&lt;/strong&gt;ï¼šInnoDB å®šæœŸä¼šæ‰§è¡Œæ£€æŸ¥ç‚¹æ“ä½œï¼Œå°†å†…å­˜ä¸­çš„&lt;font color=&#39;red&#39;&gt;è„æ•°æ®ï¼ˆå·²ä¿®æ”¹ä½†å°šæœªå†™å…¥ç£ç›˜çš„æ•°æ®ï¼‰&lt;/font&gt;åˆ·æ–°åˆ°ç£ç›˜ï¼Œå¹¶ä¸”ä¼šå°†ç›¸åº”çš„é‡åšæ—¥å¿—ä¸€åŒåˆ·æ–°ï¼Œä»¥ç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;åå°çº¿ç¨‹ä¼šå‘¨æœŸæ€§åˆ·ç›˜&lt;/font&gt;&lt;/strong&gt;ï¼šInnoDB å¯åŠ¨äº†ä¸€ä¸ªåå°çº¿ç¨‹ï¼Œè´Ÿè´£å‘¨æœŸæ€§ï¼ˆæ¯éš” 1 ç§’ï¼‰åœ°æŠŠ redo log buffer ä¸­çš„å†…å®¹å†™åˆ°&lt;strong&gt;æ–‡ä»¶ç³»ç»Ÿç¼“å­˜ï¼ˆpage cacheï¼‰&lt;/strong&gt;ï¼Œç„¶åè°ƒç”¨ &lt;strong&gt; &lt;code&gt;fsync&lt;/code&gt; &lt;/strong&gt; åˆ·ç›˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/04.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ­£å¸¸å…³é—­æœåŠ¡å™¨æ—¶&lt;/strong&gt;ï¼šMySQL å…³é—­çš„æ—¶å€™ï¼Œredo log éƒ½ä¼šåˆ·å…¥åˆ°ç£ç›˜é‡Œå»ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ€»ä¹‹ï¼ŒInnoDB åœ¨å¤šç§æƒ…å†µä¸‹ä¼šåˆ·æ–°é‡åšæ—¥å¿—ï¼Œä»¥ä¿è¯æ•°æ®çš„æŒä¹…æ€§å’Œä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;æˆ‘ä»¬è¦æ³¨æ„è®¾ç½®æ­£ç¡®çš„ **&lt;font color=&#39;red&#39;&gt;åˆ·ç›˜ç­–ç•¥å‚æ•°  &lt;code&gt;innodb_flush_log_at_trx_commit&lt;/code&gt; &lt;/font&gt;**ã€‚æ ¹æ® MySQL é…ç½®çš„åˆ·ç›˜ç­–ç•¥çš„ä¸åŒï¼ŒMySQL å®•æœºä¹‹åå¯èƒ½ä¼šå­˜åœ¨è½»å¾®çš„æ•°æ®ä¸¢å¤±é—®é¢˜ã€‚è¯¥å‚æ•°çš„å–å€¼æœ‰ 3 ç§ï¼Œä¹Ÿå°±æ˜¯å…±æœ‰ 3 ç§åˆ·ç›˜ç­–ç•¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;0&lt;/strong&gt;ï¼šè®¾ç½®ä¸º 0 çš„æ—¶å€™ï¼Œè¡¨ç¤º&lt;font color=&#39;red&#39;&gt;æ¯æ¬¡äº‹åŠ¡æäº¤æ—¶ä¸è¿›è¡Œåˆ·ç›˜æ“ä½œ&lt;/font&gt;ï¼Œè€Œæ˜¯ç­‰å¾…åå°çº¿ç¨‹å®šæœŸï¼ˆ1 ç§’ï¼‰åˆ·ç›˜ã€‚è¿™ç§æ–¹å¼æ€§èƒ½æœ€é«˜ï¼Œä½†æ˜¯ä¹Ÿæœ€ä¸å®‰å…¨ï¼Œå› ä¸ºå¦‚æœ MySQL æŒ‚äº†æˆ–å®•æœºäº†ï¼Œå¯èƒ½ä¼šä¸¢å¤±æœ€è¿‘ 1 ç§’å†…çš„äº‹åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/06.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;1&lt;/strong&gt;ï¼šè®¾ç½®ä¸º 1 çš„æ—¶å€™ï¼Œè¡¨ç¤º&lt;font color=&#39;red&#39;&gt;æ¯æ¬¡äº‹åŠ¡æäº¤æ—¶éƒ½å°†è¿›è¡Œåˆ·ç›˜æ“ä½œ&lt;/font&gt;ã€‚è¿™ç§æ–¹å¼æ€§èƒ½æœ€ä½ï¼Œä½†æ˜¯ä¹Ÿæœ€å®‰å…¨ï¼Œå› ä¸ºåªè¦äº‹åŠ¡æäº¤æˆåŠŸï¼Œredo log è®°å½•å°±ä¸€å®šåœ¨ç£ç›˜é‡Œï¼Œä¸ä¼šæœ‰ä»»ä½•æ•°æ®ä¸¢å¤±ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/07.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;2&lt;/strong&gt;ï¼šè®¾ç½®ä¸º 2 çš„æ—¶å€™ï¼Œè¡¨ç¤º&lt;font color=&#39;red&#39;&gt;æ¯æ¬¡äº‹åŠ¡æäº¤æ—¶éƒ½åªæŠŠ log buffer é‡Œçš„ redo log å†…å®¹å†™å…¥ page cacheï¼ˆæ–‡ä»¶ç³»ç»Ÿç¼“å­˜ï¼‰&lt;/font&gt;ã€‚page cache æ˜¯ä¸“é—¨ç”¨æ¥ç¼“å­˜æ–‡ä»¶çš„ï¼Œè¿™é‡Œè¢«ç¼“å­˜çš„æ–‡ä»¶å°±æ˜¯ redo log æ–‡ä»¶ã€‚è¿™ç§æ–¹å¼çš„æ€§èƒ½å’Œå®‰å…¨æ€§éƒ½ä»‹äºå‰ä¸¤è€…ä¸­é—´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/09.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ—¥å¿—æ–‡ä»¶ç»„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ—¥å¿—æ–‡ä»¶ç»„&#34;&gt;#&lt;/a&gt; æ—¥å¿—æ–‡ä»¶ç»„&lt;/h5&gt;
&lt;p&gt;ç¡¬ç›˜ä¸Šå­˜å‚¨çš„  &lt;code&gt;redo log&lt;/code&gt;  æ˜¯ä»¥ä¸€ä¸ª&lt;strong&gt;æ—¥å¿—æ–‡ä»¶ç»„&lt;/strong&gt;çš„å½¢å¼å‡ºç°çš„ï¼Œæ¯ä¸ªæ—¥å¿—æ–‡ä»¶çš„å¤§å°éƒ½ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚å¯ä»¥é…ç½®ä¸ºä¸€ç»„ 4 ä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶çš„å¤§å°æ˜¯ 1GBï¼Œé‚£ä¹ˆæ•´ä¸ª  &lt;code&gt;redo log&lt;/code&gt;  æ—¥å¿—æ–‡ä»¶ç»„å¯ä»¥è®°å½• 4G çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒé‡‡ç”¨çš„æ˜¯&lt;font color=&#39;red&#39;&gt;ç¯å½¢æ•°ç»„å½¢å¼&lt;/font&gt;ï¼Œä»å¤´å¼€å§‹å†™ï¼Œå†™åˆ°æœ«å°¾åˆå›åˆ°å¤´å¾ªç¯å†™ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/10.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;åœ¨æ—¥å¿—æ–‡ä»¶ç»„ä¸­è¿˜æœ‰ä¸¤ä¸ªé‡è¦çš„å±æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;write pos&lt;/strong&gt; ï¼šå½“å‰è®°å½•çš„å†™å…¥ä½ç½®ï¼Œä¸€è¾¹å†™ä¸€è¾¹åç§»&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;checkpoint&lt;/strong&gt;ï¼šå½“å‰è¦æ“¦é™¤çš„ä½ç½®ï¼Œä¹Ÿæ˜¯å¾€åæ¨ç§»&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¯æ¬¡åˆ·ç›˜  &lt;code&gt;redo log&lt;/code&gt;  è®°å½•åˆ°&lt;strong&gt;æ—¥å¿—æ–‡ä»¶ç»„&lt;/strong&gt;ä¸­ï¼Œ &lt;code&gt;write pos&lt;/code&gt;  ä½ç½®å°±ä¼šåç§»æ›´æ–°ã€‚&lt;/p&gt;
&lt;p&gt;æ¯æ¬¡ MySQL åŠ è½½&lt;strong&gt;æ—¥å¿—æ–‡ä»¶ç»„&lt;/strong&gt;æ¢å¤æ•°æ®æ—¶ï¼Œä¼šæ¸…ç©ºåŠ è½½è¿‡çš„  &lt;code&gt;redo log&lt;/code&gt;  è®°å½•ï¼Œå¹¶æŠŠ  &lt;code&gt;checkpoint&lt;/code&gt;  åç§»æ›´æ–°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;write pos&lt;/code&gt;  å’Œ  &lt;code&gt;checkpoint&lt;/code&gt;  ä¹‹é—´çš„è¿˜ç©ºç€çš„éƒ¨åˆ†å¯ä»¥ç”¨æ¥å†™å…¥æ–°çš„  &lt;code&gt;redo log&lt;/code&gt;  è®°å½•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/11.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœ  &lt;code&gt;write pos&lt;/code&gt;  è¿½ä¸Š  &lt;code&gt;checkpoint&lt;/code&gt;  ï¼Œè¡¨ç¤º&lt;strong&gt;æ—¥å¿—æ–‡ä»¶ç»„&lt;/strong&gt;æ»¡äº†ï¼Œè¿™æ—¶å€™ä¸èƒ½å†å†™å…¥æ–°çš„  &lt;code&gt;redo log&lt;/code&gt;  è®°å½•ï¼Œ &lt;code&gt;MySQL&lt;/code&gt;  å¾—åœä¸‹æ¥ï¼Œæ¸…ç©ºä¸€äº›è®°å½•ï¼ŒæŠŠ  &lt;code&gt;checkpoint&lt;/code&gt;  æ¨è¿›ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/12.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ MySQL 8.0.30 ä¹‹å‰ï¼Œå¯ä»¥é€šè¿‡  &lt;code&gt;innodb_log_files_in_group&lt;/code&gt;  å’Œ  &lt;code&gt;innodb_log_file_size&lt;/code&gt;  é…ç½®æ—¥å¿—æ–‡ä»¶ç»„çš„æ–‡ä»¶æ•°å’Œæ–‡ä»¶å¤§å°ã€‚&lt;/p&gt;
&lt;p&gt;ä½†åœ¨ MySQL 8.0.30 åŠä¹‹åçš„ç‰ˆæœ¬ä¸­ï¼Œè¿™ä¸¤ä¸ªå˜é‡å·²è¢«åºŸå¼ƒï¼Œå³ä½¿è¢«æŒ‡å®šä¹Ÿæ˜¯ç”¨æ¥è®¡ç®—  &lt;code&gt;innodb_redo_log_capacity&lt;/code&gt;  çš„å€¼ã€‚è€Œ&lt;font color=&#39;red&#39;&gt;æ—¥å¿—æ–‡ä»¶ç»„çš„æ–‡ä»¶æ•°åˆ™å›ºå®šä¸º 32ï¼Œæ–‡ä»¶å¤§å°åˆ™ä¸º  &lt;code&gt;innodb_redo_log_capacity / 32&lt;/code&gt; &lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;å°ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°ç»“&#34;&gt;#&lt;/a&gt; å°ç»“&lt;/h5&gt;
&lt;p&gt;æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼š&lt;strong&gt;åªè¦æ¯æ¬¡æŠŠä¿®æ”¹åçš„æ•°æ®é¡µç›´æ¥åˆ·ç›˜ä¸å°±å¥½äº†ï¼Œè¿˜æœ‰  &lt;code&gt;redo log&lt;/code&gt;  ä»€ä¹ˆäº‹ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å®ƒä»¬ä¸éƒ½æ˜¯åˆ·ç›˜ä¹ˆï¼Ÿå·®åˆ«åœ¨å“ªé‡Œï¼Ÿ&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Byte&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt;bit&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;KB&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1024&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Byte&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;MB&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1024&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;KB&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;GB&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1024&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;MB&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;TB&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1024&lt;/span&gt; &lt;span class=&#34;token constant&#34;&gt;GB&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å®é™…ä¸Šï¼Œ&lt;font color=&#39;red&#39;&gt;æ•°æ®é¡µå¤§å°æ˜¯ &lt;code&gt;16KB&lt;/code&gt; ï¼Œåˆ·ç›˜æ¯”è¾ƒè€—æ—¶&lt;/font&gt;ï¼Œå¯èƒ½å°±ä¿®æ”¹äº†æ•°æ®é¡µé‡Œçš„å‡   &lt;code&gt;Byte&lt;/code&gt;  æ•°æ®ï¼Œæœ‰å¿…è¦æŠŠå®Œæ•´çš„æ•°æ®é¡µåˆ·ç›˜å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è€Œä¸”æ•°æ®é¡µåˆ·ç›˜æ˜¯éšæœºå†™ï¼Œå› ä¸ºä¸€ä¸ªæ•°æ®é¡µå¯¹åº”çš„ä½ç½®å¯èƒ½åœ¨ç¡¬ç›˜æ–‡ä»¶çš„éšæœºä½ç½®ï¼Œæ‰€ä»¥æ€§èƒ½æ˜¯å¾ˆå·®ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯å†™  &lt;code&gt;redo log&lt;/code&gt; ï¼Œä¸€è¡Œè®°å½•å¯èƒ½å°±å å‡ å  &lt;code&gt;Byte&lt;/code&gt; ï¼ŒåªåŒ…å«è¡¨ç©ºé—´å·ã€æ•°æ®é¡µå·ã€ç£ç›˜æ–‡ä»¶åç§»é‡ã€æ›´æ–°å€¼ï¼Œå†åŠ ä¸Šæ˜¯é¡ºåºå†™ï¼Œæ‰€ä»¥åˆ·ç›˜é€Ÿåº¦å¾ˆå¿«ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥&lt;font color=&#39;red&#39;&gt;ç”¨  &lt;code&gt;redo log&lt;/code&gt;  å½¢å¼è®°å½•ä¿®æ”¹å†…å®¹ï¼Œæ€§èƒ½ä¼šè¿œè¿œè¶…è¿‡åˆ·æ•°æ®é¡µçš„æ–¹å¼ï¼Œè¿™ä¹Ÿè®©æ•°æ®åº“çš„å¹¶å‘èƒ½åŠ›æ›´å¼º&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å…¶å®å†…å­˜çš„æ•°æ®é¡µåœ¨ä¸€å®šæ—¶æœºä¹Ÿä¼šåˆ·ç›˜ï¼Œæˆ‘ä»¬æŠŠè¿™ç§°ä¸º&lt;strong&gt;é¡µåˆå¹¶&lt;/strong&gt;ï¼Œè®²  &lt;code&gt;Buffer Pool&lt;/code&gt;  çš„æ—¶å€™ä¼šå¯¹è¿™å—ç»†è¯´&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;binlogå½’æ¡£æ—¥å¿—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#binlogå½’æ¡£æ—¥å¿—&#34;&gt;#&lt;/a&gt; binlogï¼ˆå½’æ¡£æ—¥å¿—ï¼‰&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;redo log&lt;/code&gt;  å®ƒæ˜¯ç‰©ç†æ—¥å¿—ï¼Œè®°å½•å†…å®¹æ˜¯ â€œåœ¨æŸä¸ªæ•°æ®é¡µä¸Šåšäº†ä»€ä¹ˆä¿®æ”¹â€ï¼Œå±äº  &lt;code&gt;InnoDB&lt;/code&gt;  å­˜å‚¨å¼•æ“ã€‚&lt;/p&gt;
&lt;p&gt;è€Œ &lt;font color=&#39;red&#39;&gt; &lt;code&gt;binlog&lt;/code&gt;  æ˜¯é€»è¾‘æ—¥å¿—ï¼Œè®°å½•å†…å®¹æ˜¯è¯­å¥çš„åŸå§‹é€»è¾‘ï¼Œä¼šè®°å½•æ‰€æœ‰æ¶‰åŠæ›´æ–°æ•°æ®çš„é€»è¾‘æ“ä½œï¼Œå¹¶ä¸”æ˜¯é¡ºåºå†™ã€‚&lt;/font&gt;ç±»ä¼¼äº â€œç»™ ID=2 è¿™ä¸€è¡Œçš„ c å­—æ®µåŠ  1â€ï¼Œå±äº &lt;code&gt;MySQL Server&lt;/code&gt;  å±‚ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ç®¡ç”¨ä»€ä¹ˆå­˜å‚¨å¼•æ“ï¼Œ&lt;font color=&#39;red&#39;&gt;åªè¦å‘ç”Ÿäº†è¡¨æ•°æ®æ›´æ–°ï¼Œéƒ½ä¼šäº§ç”Ÿ  &lt;code&gt;binlog&lt;/code&gt;  æ—¥å¿—&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥è¯´ &lt;code&gt;MySQL&lt;/code&gt;  æ•°æ®åº“çš„&lt;font color=&#39;red&#39;&gt;æ•°æ®å¤‡ä»½ã€ä¸»å¤‡ã€ä¸»ä¸»ã€ä¸»ä»&lt;/font&gt;éƒ½ç¦»ä¸å¼€ &lt;code&gt;binlog&lt;/code&gt; ï¼Œéœ€è¦ä¾é  &lt;code&gt;binlog&lt;/code&gt;  æ¥&lt;strong&gt;åŒæ­¥æ•°æ®ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/01-20220305234724956.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;è®°å½•æ ¼å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è®°å½•æ ¼å¼&#34;&gt;#&lt;/a&gt; è®°å½•æ ¼å¼&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;binlog&lt;/code&gt;  æ—¥å¿—æœ‰ä¸‰ç§æ ¼å¼ï¼Œå¯ä»¥é€šè¿‡ &lt;code&gt;binlog_format&lt;/code&gt;  å‚æ•°æŒ‡å®šã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;statement&lt;/strong&gt;ï¼šè®°å½•çš„æ˜¯ **&lt;font color=&#39;red&#39;&gt;SQL è¯­å¥åŸæ–‡&lt;/font&gt;**ã€‚æ¯”å¦‚æ‰§è¡Œä¸€æ¡ &lt;code&gt;update T set update_time=now() where id=1&lt;/code&gt; ï¼Œè®°å½•çš„å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/02-20220305234738688.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;åŒæ­¥æ•°æ®æ—¶ï¼Œä¼šæ‰§è¡Œè®°å½•çš„ SQL è¯­å¥ï¼Œä½†æ˜¯æœ‰ä¸ªé—®é¢˜ï¼Œ &lt;code&gt;update_time=now()&lt;/code&gt;  è¿™é‡Œä¼šè·å–å½“å‰ç³»ç»Ÿæ—¶é—´ï¼Œç›´æ¥æ‰§è¡Œä¼šå¯¼è‡´ä¸åŸåº“çš„æ•°æ®ä¸ä¸€è‡´ã€‚ä¸ºäº†è§£å†³è¿™ç§é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®šä¸º &lt;code&gt;row&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;row&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;é˜²æ­¢æ•°æ®ä¸ä¸€è‡´&lt;/font&gt;ï¼Œè®°å½•çš„æ˜¯ **&lt;font color=&#39;red&#39;&gt;åŒ…å«å…·ä½“æ“ä½œæ•°æ®çš„ SQL è¯­å¥&lt;/font&gt;**ï¼Œéœ€è¦é€šè¿‡å·¥å…· &lt;code&gt;mysqlbinlog&lt;/code&gt;  è§£æã€‚è¿™æ ·å°±èƒ½ä¿è¯åŒæ­¥æ•°æ®çš„ä¸€è‡´æ€§ï¼Œé€šå¸¸æƒ…å†µä¸‹éƒ½æ˜¯æŒ‡å®šä¸º &lt;code&gt;row&lt;/code&gt; ï¼Œè¿™æ ·å¯ä»¥&lt;font color=&#39;red&#39;&gt;ä¸ºæ•°æ®åº“çš„æ¢å¤ä¸åŒæ­¥å¸¦æ¥æ›´å¥½çš„å¯é æ€§&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/03-20220305234742460.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿™ç§æ ¼å¼ï¼Œ&lt;font color=&#39;red&#39;&gt;éœ€è¦æ›´å¤§çš„å®¹é‡æ¥è®°å½•ï¼Œæ¯”è¾ƒå ç”¨ç©ºé—´&lt;/font&gt;ï¼Œæ¢å¤ä¸åŒæ­¥æ—¶ä¼šæ›´æ¶ˆè€— IO èµ„æºï¼Œå½±å“æ‰§è¡Œé€Ÿåº¦ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;mixed&lt;/strong&gt;ï¼šä¸€ç§æŠ˜ä¸­çš„æ–¹æ¡ˆï¼Œè®°å½•çš„æ˜¯ **&lt;font color=&#39;red&#39;&gt;å‰ä¸¤è€…çš„æ··åˆ&lt;/font&gt;**ã€‚MySQL ä¼š&lt;font color=&#39;red&#39;&gt;åˆ¤æ–­è¿™æ¡ SQL è¯­å¥æ˜¯å¦å¯èƒ½å¼•èµ·æ•°æ®ä¸ä¸€è‡´ï¼Œå¦‚æœæ˜¯ï¼Œå°±ç”¨ &lt;code&gt;row&lt;/code&gt;  æ ¼å¼ï¼Œå¦åˆ™å°±ç”¨ &lt;code&gt;statement&lt;/code&gt;  æ ¼å¼&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å†™å…¥æœºåˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å†™å…¥æœºåˆ¶&#34;&gt;#&lt;/a&gt; å†™å…¥æœºåˆ¶&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;binlog&lt;/code&gt;  çš„å†™å…¥æ—¶æœºä¹Ÿéå¸¸ç®€å•ï¼Œ&lt;strong&gt;äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå…ˆæŠŠæ—¥å¿—å†™åˆ° &lt;code&gt;binlog cache&lt;/code&gt; ï¼Œäº‹åŠ¡æäº¤çš„æ—¶å€™ï¼Œå†æŠŠ &lt;code&gt;binlog cache&lt;/code&gt;  å†™åˆ° &lt;code&gt;binlog&lt;/code&gt;  æ–‡ä»¶ä¸­&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºä¸€ä¸ªäº‹åŠ¡çš„ &lt;code&gt;binlog&lt;/code&gt;  ä¸èƒ½è¢«æ‹†å¼€ï¼Œæ— è®ºè¿™ä¸ªäº‹åŠ¡å¤šå¤§ï¼Œä¹Ÿè¦ç¡®ä¿ä¸€æ¬¡æ€§å†™å…¥ï¼Œæ‰€ä»¥ç³»ç»Ÿä¼šç»™æ¯ä¸ªçº¿ç¨‹åˆ†é…ä¸€ä¸ªå—å†…å­˜ä½œä¸º &lt;code&gt;binlog cache&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥é€šè¿‡ &lt;code&gt;binlog_cache_size&lt;/code&gt;  å‚æ•°æ§åˆ¶å•ä¸ªçº¿ç¨‹ binlog cache å¤§å°ï¼Œå¦‚æœå­˜å‚¨å†…å®¹è¶…è¿‡äº†è¿™ä¸ªå‚æ•°ï¼Œå°±è¦æš‚å­˜åˆ°ç£ç›˜ï¼ˆ &lt;code&gt;Swap&lt;/code&gt; ï¼‰ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;code&gt;binlog&lt;/code&gt;  æ—¥å¿—åˆ·ç›˜æµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/04-20220305234747840.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;writeï¼šæŠŠ binlog æ—¥å¿—å†™å…¥åˆ°æ–‡ä»¶ç³»ç»Ÿçš„ page cacheï¼Œå¹¶æ²¡æœ‰æŠŠæ•°æ®æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œæ‰€ä»¥é€Ÿåº¦æ¯”è¾ƒå¿«&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;fsyncï¼šå°†æ•°æ®æŒä¹…åŒ–åˆ°ç£ç›˜çš„æ“ä½œ&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;write å’Œ fsync çš„æ—¶æœºï¼Œå¯ä»¥ç”± ** å‚æ•° &lt;code&gt;sync_binlog&lt;/code&gt; ** æ§åˆ¶ï¼Œé»˜è®¤æ˜¯ 1ã€‚&lt;/p&gt;
&lt;p&gt;ä¸º 0 çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ¯æ¬¡æäº¤äº‹åŠ¡éƒ½åª &lt;code&gt;write&lt;/code&gt; ï¼Œç”±ç³»ç»Ÿè‡ªè¡Œåˆ¤æ–­ä»€ä¹ˆæ—¶å€™æ‰§è¡Œ &lt;code&gt;fsync&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/05-20220305234754405.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è™½ç„¶æ€§èƒ½å¾—åˆ°æå‡ï¼Œä½†æ˜¯æœºå™¨å®•æœºï¼Œ &lt;code&gt;page cache&lt;/code&gt;  é‡Œé¢çš„ binlog ä¼šä¸¢å¤±ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å®‰å…¨èµ·è§ï¼Œå¯ä»¥è®¾ç½®ä¸º &lt;code&gt;1&lt;/code&gt; ï¼Œè¡¨ç¤ºæ¯æ¬¡æäº¤äº‹åŠ¡éƒ½ä¼šæ‰§è¡Œ &lt;code&gt;fsync&lt;/code&gt; ï¼Œå°±å¦‚åŒ &lt;strong&gt;redo log æ—¥å¿—åˆ·ç›˜æµç¨‹&lt;/strong&gt; ä¸€æ ·ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ç§æŠ˜ä¸­æ–¹å¼ï¼Œå¯ä»¥è®¾ç½®ä¸º &lt;code&gt;N(N&amp;gt;1)&lt;/code&gt; ï¼Œè¡¨ç¤ºæ¯æ¬¡æäº¤äº‹åŠ¡éƒ½ &lt;code&gt;write&lt;/code&gt; ï¼Œä½†ç´¯ç§¯ &lt;code&gt;N&lt;/code&gt;  ä¸ªäº‹åŠ¡åæ‰ &lt;code&gt;fsync&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/06-20220305234801592.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å‡ºç° &lt;code&gt;IO&lt;/code&gt;  ç“¶é¢ˆçš„åœºæ™¯é‡Œï¼Œå°† &lt;code&gt;sync_binlog&lt;/code&gt;  è®¾ç½®æˆä¸€ä¸ªæ¯”è¾ƒå¤§çš„å€¼ï¼Œå¯ä»¥æå‡æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ ·çš„ï¼Œå¦‚æœæœºå™¨å®•æœºï¼Œä¼šä¸¢å¤±æœ€è¿‘ &lt;code&gt;N&lt;/code&gt;  ä¸ªäº‹åŠ¡çš„ &lt;code&gt;binlog&lt;/code&gt;  æ—¥å¿—ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä¸¤é˜¶æ®µæäº¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸¤é˜¶æ®µæäº¤&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸä¸¤é˜¶æ®µæäº¤&lt;/mark&gt;&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;è§£å†³ redo log å’Œ binlog çš„ä¸€è‡´æ€§é—®é¢˜&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨æ‰§è¡Œæ›´æ–°è¯­å¥è¿‡ç¨‹ï¼Œä¼šè®°å½•  &lt;code&gt;redo log&lt;/code&gt;  ä¸  &lt;code&gt;binlog&lt;/code&gt;  ä¸¤å—æ—¥å¿—ï¼Œä»¥åŸºæœ¬çš„äº‹åŠ¡ä¸ºå•ä½ï¼Œ&lt;font color=&#39;red&#39;&gt; &lt;code&gt;redo log&lt;/code&gt;  åœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å¯ä»¥ä¸æ–­å†™å…¥ï¼Œè€Œ &lt;code&gt;binlog&lt;/code&gt;  åªæœ‰åœ¨æäº¤äº‹åŠ¡æ—¶æ‰å†™å…¥&lt;/font&gt;ï¼Œæ‰€ä»¥ &lt;code&gt;redo log&lt;/code&gt;  ä¸ &lt;code&gt;binlog&lt;/code&gt;  çš„å†™å…¥æ—¶æœºä¸ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/01-20220305234816065.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;ä¸ºäº†è§£å†³ä¸¤ä»½æ—¥å¿—ä¹‹é—´çš„é€»è¾‘ä¸€è‡´é—®é¢˜ï¼Œ &lt;code&gt;InnoDB&lt;/code&gt;  å­˜å‚¨å¼•æ“ä½¿ç”¨ &lt;strong&gt;ä¸¤é˜¶æ®µæäº¤&lt;/strong&gt; æ–¹æ¡ˆã€‚åŸç†å¾ˆç®€å•ï¼Œ&lt;font color=&#39;red&#39;&gt;å°†Â  &lt;code&gt;redo log&lt;/code&gt;  çš„å†™å…¥æ‹†æˆäº†ä¸¤ä¸ªæ­¥éª¤Â  &lt;code&gt;prepare&lt;/code&gt;  å’ŒÂ  &lt;code&gt;commit&lt;/code&gt;  &lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/04-20220305234956774.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ä½¿ç”¨ä¸¤é˜¶æ®µæäº¤åï¼Œå†™å…¥Â  &lt;code&gt;binlog&lt;/code&gt;  æ—¶å‘ç”Ÿå¼‚å¸¸ä¹Ÿä¸ä¼šæœ‰å½±å“ï¼Œå› ä¸ºÂ MySQLÂ æ ¹æ®Â  &lt;code&gt;redo log&lt;/code&gt;  æ—¥å¿—æ¢å¤æ•°æ®æ—¶ï¼Œå‘ç°Â  &lt;code&gt;redo log&lt;/code&gt;  è¿˜å¤„äºÂ  &lt;code&gt;prepare&lt;/code&gt;  é˜¶æ®µï¼Œå¹¶ä¸”æ²¡æœ‰å¯¹åº”Â  &lt;code&gt;binlog&lt;/code&gt;  æ—¥å¿—ï¼Œå°±ä¼šå›æ»šè¯¥äº‹åŠ¡&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;å†çœ‹ä¸€ä¸ªåœºæ™¯ï¼Œ &lt;code&gt;redo log&lt;/code&gt;  è®¾ç½®  &lt;code&gt;commit&lt;/code&gt;  é˜¶æ®µå‘ç”Ÿå¼‚å¸¸ï¼Œæ­¤æ—¶ä¸ä¼šå›æ»šäº‹åŠ¡ã€‚å®ƒä¼šæ‰§è¡Œä¸‹å›¾æ¡†ä½çš„é€»è¾‘ï¼Œè™½ç„¶ &lt;code&gt;redo log&lt;/code&gt;  æ˜¯å¤„äº &lt;code&gt;prepare&lt;/code&gt;  é˜¶æ®µï¼Œä½†æ˜¯èƒ½é€šè¿‡äº‹åŠ¡ &lt;code&gt;id&lt;/code&gt;  æ‰¾åˆ°å¯¹åº”çš„ &lt;code&gt;binlog&lt;/code&gt;  æ—¥å¿—ï¼Œæ‰€ä»¥ &lt;code&gt;MySQL&lt;/code&gt;  è®¤ä¸ºæ˜¯å®Œæ•´çš„ï¼Œå°±ä¼šæäº¤äº‹åŠ¡æ¢å¤æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/06-20220305234907651.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;è¿™æ„å‘³ç€ä¸€ä¸ªäº‹åŠ¡åˆ°åº•æœ‰æ²¡æœ‰æˆåŠŸï¼Œçœ‹  &lt;code&gt;redo log&lt;/code&gt;  é‡Œé¢æœ‰æ²¡æœ‰ commit è®°å½•ï¼Œå¦‚æœæœ‰ commit è®°å½•ï¼Œé‚£ä¹ˆ  &lt;code&gt;binlog&lt;/code&gt;  ä¸€å®šæ˜¯æŒä¹…åŒ–æˆåŠŸäº†ï¼Œä¹Ÿå°±æ˜¯è¯´äº‹åŠ¡æˆåŠŸäº†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;undo-logå›æ»šæ—¥å¿—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#undo-logå›æ»šæ—¥å¿—&#34;&gt;#&lt;/a&gt; undo logï¼ˆå›æ»šæ—¥å¿—ï¼‰&lt;/h4&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“å¦‚æœæƒ³è¦ä¿è¯äº‹åŠ¡çš„åŸå­æ€§ï¼Œå°±éœ€è¦åœ¨å¼‚å¸¸å‘ç”Ÿæ—¶ï¼Œå¯¹å·²ç»æ‰§è¡Œçš„æ“ä½œè¿›è¡Œ&lt;strong&gt;å›æ»š&lt;/strong&gt;ã€‚åœ¨ MySQL ä¸­ï¼Œæ¢å¤æœºåˆ¶æ˜¯é€šè¿‡ ** å›æ»šæ—¥å¿—ï¼ˆundo logï¼‰** å®ç°çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€æœ‰äº‹åŠ¡è¿›è¡Œçš„ä¿®æ”¹éƒ½ä¼šå…ˆè®°å½•åˆ°è¿™ä¸ªå›æ»šæ—¥å¿—ä¸­ï¼Œç„¶åå†æ‰§è¡Œç›¸å…³çš„æ“ä½œã€‚å¦‚æœæ‰§è¡Œè¿‡ç¨‹ä¸­é‡åˆ°å¼‚å¸¸çš„è¯ï¼Œæˆ‘ä»¬ç›´æ¥åˆ©ç”¨å›æ»šæ—¥å¿—ä¸­çš„ä¿¡æ¯å°†æ•°æ®å›æ»šåˆ°ä¿®æ”¹ä¹‹å‰çš„æ ·å­å³å¯ï¼&lt;/p&gt;
&lt;p&gt;å¹¶ä¸”ï¼Œå›æ»šæ—¥å¿—ä¼šå…ˆäºæ•°æ®æŒä¹…åŒ–åˆ°ç£ç›˜ä¸Šã€‚è¿™æ ·å°±ä¿è¯äº†å³ä½¿é‡åˆ°æ•°æ®åº“çªç„¶å®•æœºç­‰æƒ…å†µï¼Œå½“ç”¨æˆ·å†æ¬¡å¯åŠ¨æ•°æ®åº“çš„æ—¶å€™ï¼Œæ•°æ®åº“è¿˜èƒ½å¤Ÿé€šè¿‡æŸ¥è¯¢å›æ»šæ—¥å¿—æ¥å›æ»šå°†ä¹‹å‰æœªå®Œæˆçš„äº‹åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œ &lt;code&gt;MVCC&lt;/code&gt;  çš„å®ç°ä¾èµ–äºï¼š&lt;strong&gt;éšè—å­—æ®µã€Read Viewã€undo log&lt;/strong&gt;ã€‚åœ¨å†…éƒ¨å®ç°ä¸­ï¼Œ &lt;code&gt;InnoDB&lt;/code&gt;  é€šè¿‡æ•°æ®è¡Œçš„  &lt;code&gt;DB_TRX_ID&lt;/code&gt;  å’Œ  &lt;code&gt;Read View&lt;/code&gt;  æ¥åˆ¤æ–­æ•°æ®çš„å¯è§æ€§ï¼Œå¦‚ä¸å¯è§ï¼Œåˆ™é€šè¿‡æ•°æ®è¡Œçš„  &lt;code&gt;DB_ROLL_PTR&lt;/code&gt;  æ‰¾åˆ°  &lt;code&gt;undo log&lt;/code&gt;  ä¸­çš„å†å²ç‰ˆæœ¬ã€‚æ¯ä¸ªäº‹åŠ¡è¯»åˆ°çš„æ•°æ®ç‰ˆæœ¬å¯èƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œåœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œç”¨æˆ·åªèƒ½çœ‹åˆ°è¯¥äº‹åŠ¡åˆ›å»º  &lt;code&gt;Read View&lt;/code&gt;  ä¹‹å‰å·²ç»æäº¤çš„ä¿®æ”¹å’Œè¯¥äº‹åŠ¡æœ¬èº«åšçš„ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ€»ç»“-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ€»ç»“-2&#34;&gt;#&lt;/a&gt; æ€»ç»“&lt;/h4&gt;
&lt;p&gt;InnoDB å¼•æ“ä½¿ç”¨ &lt;strong&gt;redo log (é‡åšæ—¥å¿—)&lt;/strong&gt; ä¿è¯äº‹åŠ¡çš„&lt;strong&gt;æŒä¹…æ€§&lt;/strong&gt;ï¼Œä½¿ç”¨ &lt;strong&gt;undo log (å›æ»šæ—¥å¿—)&lt;/strong&gt; æ¥ä¿è¯äº‹åŠ¡çš„&lt;strong&gt;åŸå­æ€§&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;MySQL æ•°æ®åº“çš„&lt;strong&gt;æ•°æ®å¤‡ä»½ã€ä¸»å¤‡ã€ä¸»ä¸»ã€ä¸»ä»&lt;/strong&gt;éƒ½ç¦»ä¸å¼€ &lt;code&gt;binlog&lt;/code&gt; ï¼Œéœ€è¦ä¾é  &lt;code&gt;binlog&lt;/code&gt;  æ¥åŒæ­¥æ•°æ®ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å¸¸è§é¢è¯•é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¸¸è§é¢è¯•é¢˜&#34;&gt;#&lt;/a&gt; å¸¸è§é¢è¯•é¢˜&lt;/h4&gt;
&lt;h5 id=&#34;mysql-ä¸­å¸¸è§çš„æ—¥å¿—æœ‰å“ªäº›&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysql-ä¸­å¸¸è§çš„æ—¥å¿—æœ‰å“ªäº›&#34;&gt;#&lt;/a&gt; &lt;mark&gt;MySQL ä¸­å¸¸è§çš„æ—¥å¿—æœ‰å“ªäº›ï¼Ÿ&lt;/mark&gt;&lt;/h5&gt;
&lt;p&gt;MySQL ä¸­å¸¸è§çš„æ—¥å¿—æœ‰ä»¥ä¸‹å‡ ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å½’æ¡£æ—¥å¿—ï¼ˆbinlogï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šè®°å½•äº†æ‰€æœ‰ä¿®æ”¹äº†æ•°æ®åº“ç»“æ„æˆ–æ•°æ®å†…å®¹çš„æ“ä½œï¼Œä»¥ä¾¿åœ¨ä¸»ä»å¤åˆ¶æ—¶å°†è¿™äº›æ“ä½œåŒæ­¥åˆ°ä»åº“ã€‚äºŒè¿›åˆ¶æ—¥å¿—æ˜¯&lt;font color=&#39;red&#39;&gt;é€»è¾‘æ—¥å¿—&lt;/font&gt;ï¼Œè®°å½•çš„æ˜¯å¯¹&lt;font color=&#39;red&#39;&gt;æ•°æ®åº“ç»“æ„æˆ–æ•°æ®å†…å®¹&lt;/font&gt;çš„ä¿®æ”¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;é‡åšæ—¥å¿—ï¼ˆredo logï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šredo log æ˜¯ MySQL çš„ä¸€ç§æ—¥å¿—ï¼Œ&lt;strong&gt;æ˜¯ InnoDB å­˜å‚¨å¼•æ“ç‹¬æœ‰çš„ï¼Œå®ƒè®© MySQL æ‹¥æœ‰äº†å´©æºƒæ¢å¤èƒ½åŠ›&lt;/strong&gt;ã€‚&lt;font color=&#39;red&#39;&gt;redo log åªè®°å½•è¯¥å­˜å‚¨å¼•æ“ä¸­è¡¨çš„ä¿®æ”¹ï¼Œè€Œ binlog æ˜¯åœ¨æ•°æ®åº“å±‚é¢äº§ç”Ÿçš„ï¼Œæ‰€æœ‰å­˜å‚¨å¼•æ“å¯¹æ•°æ®åº“è¿›è¡Œä¿®æ”¹éƒ½ä¼šäº§ç”Ÿ binlog&lt;/font&gt;ã€‚redo log æ˜¯&lt;font color=&#39;red&#39;&gt;ç‰©ç†æ—¥å¿—&lt;/font&gt;ï¼Œè®°å½•çš„æ˜¯å¯¹&lt;font color=&#39;red&#39;&gt;æ•°æ®é¡µ&lt;/font&gt;çš„ä¿®æ”¹ï¼Œè€Œä¸æ˜¯å¯¹æ•°æ®çš„ä¿®æ”¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å›æ»šæ—¥å¿—ï¼ˆundo logï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;strong&gt;æ˜¯ InnoDB å­˜å‚¨å¼•æ“ç‹¬æœ‰çš„&lt;/strong&gt;ï¼Œè®°å½•äº†æ‰€æœ‰ä¿®æ”¹äº†æ•°æ®çš„æ“ä½œï¼Œä»¥ä¾¿åœ¨äº‹åŠ¡å›æ»šæ—¶æ’¤é”€è¿™äº›æ“ä½œã€‚å›æ»šæ—¥å¿—æ˜¯&lt;font color=&#39;red&#39;&gt;é€»è¾‘æ—¥å¿—&lt;/font&gt;ï¼Œè®°å½•çš„æ˜¯å¯¹&lt;font color=&#39;red&#39;&gt;æ•°æ®&lt;/font&gt;çš„ä¿®æ”¹ï¼Œè€Œä¸æ˜¯å¯¹æ•°æ®é¡µçš„ä¿®æ”¹ã€‚&lt;/li&gt;
&lt;li&gt;é”™è¯¯æ—¥å¿—ï¼ˆerrorlogï¼‰ï¼šè®°å½•äº† MySQL æœåŠ¡å™¨å¯åŠ¨ã€è¿è¡Œè¿‡ç¨‹ä¸­å‡ºç°çš„é”™è¯¯ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æ…¢æŸ¥è¯¢æ—¥å¿—ï¼ˆslow query logï¼‰&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;è®°å½•äº†æ‰§è¡Œæ—¶é—´è¶…è¿‡æŒ‡å®šé˜ˆå€¼çš„ DQL è¯­å¥&lt;/font&gt;ï¼Œå› æ­¤å¯ä»¥æŸ¥çœ‹è¯¥æ—¥å¿—æ¥ä¼˜åŒ– DQL è¯­å¥ã€‚æ…¢æŸ¥è¯¢æ—¥å¿—&lt;font color=&#39;red&#39;&gt;é»˜è®¤æ˜¯ä¸å¼€å¯çš„&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€èˆ¬æŸ¥è¯¢æ—¥å¿—ï¼ˆgeneral logï¼‰ï¼šè®°å½•äº† MySQL æœåŠ¡å™¨æ¥æ”¶åˆ°çš„æ‰€æœ‰ SQL è¯­å¥ï¼ŒåŒ…æ‹¬æ‰§è¡Œæ—¶é—´ã€æ‰§è¡Œç»“æœç­‰ä¿¡æ¯ã€‚ä¸€èˆ¬æŸ¥è¯¢æ—¥å¿—å¯ä»¥ç”¨äºè°ƒè¯•å’Œå®‰å…¨å®¡è®¡ã€‚&lt;/li&gt;
&lt;li&gt;ä¸­ç»§æ—¥å¿—ï¼ˆrelay logï¼‰ï¼šæ˜¯ MySQL ä¸»ä»å¤åˆ¶ç»“æ„ä¸­&lt;font color=&#39;red&#39;&gt;ä»èŠ‚ç‚¹ä¸Šçš„æ—¥å¿—ï¼Œç”¨äºä¿å­˜ä¸»èŠ‚ç‚¹ä¼ è¾“è¿‡æ¥çš„æ•°æ®å˜æ›´äº‹ä»¶ï¼Œç„¶åå°†è¿™äº›äº‹ä»¶åº”ç”¨äºä»èŠ‚ç‚¹&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ…¢æŸ¥è¯¢æ—¥å¿—æœ‰ä»€ä¹ˆç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ…¢æŸ¥è¯¢æ—¥å¿—æœ‰ä»€ä¹ˆç”¨&#34;&gt;#&lt;/a&gt; æ…¢æŸ¥è¯¢æ—¥å¿—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ&lt;/h5&gt;
&lt;p&gt;ç”¨æ¥&lt;font color=&#39;red&#39;&gt;è®°å½•åœ¨ MySQL ä¸­å“åº”æ—¶é—´è¶…è¿‡é˜€å€¼çš„è¯­å¥&lt;/font&gt;ï¼Œå…·ä½“æŒ‡è¿è¡Œæ—¶é—´è¶…è¿‡ long_query_time å€¼çš„ SQLï¼Œåˆ™ä¼šè¢«è®°å½•åˆ°æ…¢æŸ¥è¯¢æ—¥å¿—ä¸­ã€‚long_query_time çš„é»˜è®¤å€¼ä¸º 10ï¼Œæ„æ€æ˜¯è¿è¡Œ 10 ç§’ä»¥ä¸Šçš„ SQL è¯­å¥ã€‚æ…¢æŸ¥è¯¢æ—¥å¿—&lt;font color=&#39;red&#39;&gt;å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜æ‰¾å‡ºå“ªäº›è¯­å¥çš„æ‰§è¡Œæ•ˆç‡ä½ï¼Œä»¥ä¾¿è¿›è¡Œä¼˜åŒ–&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;mysql-å¦‚ä½•ä¼˜åŒ–ä¸€ä¸ªæ…¢æŸ¥è¯¢è¯­å¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysql-å¦‚ä½•ä¼˜åŒ–ä¸€ä¸ªæ…¢æŸ¥è¯¢è¯­å¥&#34;&gt;#&lt;/a&gt; &lt;mark&gt;MySQL å¦‚ä½•ä¼˜åŒ–ä¸€ä¸ªæ…¢æŸ¥è¯¢è¯­å¥ï¼Ÿ&lt;/mark&gt;&lt;/h5&gt;
&lt;p&gt;æŒ‡è·¯â†’&lt;a href=&#34;#==%E6%85%A2%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%E4%BC%98%E5%8C%96==&#34;&gt;æ…¢æŸ¥è¯¢è¯­å¥ä¼˜åŒ–&lt;/a&gt;&lt;/p&gt;
&lt;h5 id=&#34;binlog-ä¸»è¦è®°å½•äº†ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#binlog-ä¸»è¦è®°å½•äº†ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; binlog ä¸»è¦è®°å½•äº†ä»€ä¹ˆï¼Ÿ&lt;/h5&gt;
&lt;p&gt;binlog æ˜¯ MySQL çš„äºŒè¿›åˆ¶æ—¥å¿—ï¼Œä¸»è¦&lt;font color=&#39;red&#39;&gt;è®°å½•äº†å¯¹ MySQL æ•°æ®åº“è¿›è¡Œçš„æ‰€æœ‰æ›´æ”¹æ“ä½œï¼ŒåŒ…æ‹¬æ’å…¥ã€æ›´æ–°å’Œåˆ é™¤æ“ä½œ&lt;/font&gt;ã€‚binlog å¯ä»¥ç”¨äºæ•°æ®æ¢å¤ã€æ•°æ®åŒæ­¥å’Œæ•°æ®å¤‡ä»½ç­‰æ–¹é¢ ã€‚&lt;/p&gt;
&lt;h5 id=&#34;ä»‹ç»ä¸€ä¸‹redo-logä»¥åŠå®ƒå¦‚ä½•ä¿è¯äº‹åŠ¡çš„æŒä¹…æ€§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»‹ç»ä¸€ä¸‹redo-logä»¥åŠå®ƒå¦‚ä½•ä¿è¯äº‹åŠ¡çš„æŒä¹…æ€§&#34;&gt;#&lt;/a&gt; ä»‹ç»ä¸€ä¸‹ redo logï¼Œä»¥åŠå®ƒå¦‚ä½•ä¿è¯äº‹åŠ¡çš„æŒä¹…æ€§ï¼Ÿ&lt;/h5&gt;
&lt;p&gt;redo log æ˜¯ MySQL çš„ä¸€ç§æ—¥å¿—ï¼Œ&lt;strong&gt;æ˜¯ InnoDB å­˜å‚¨å¼•æ“ç‹¬æœ‰çš„ï¼Œå®ƒè®© MySQL æ‹¥æœ‰äº†å´©æºƒæ¢å¤èƒ½åŠ›&lt;/strong&gt;ã€‚&lt;font color=&#39;red&#39;&gt;redo log åªè®°å½•è¯¥å­˜å‚¨å¼•æ“ä¸­è¡¨çš„ä¿®æ”¹ï¼Œè€Œ binlog æ˜¯åœ¨æ•°æ®åº“å±‚é¢äº§ç”Ÿçš„ï¼Œæ‰€æœ‰å­˜å‚¨å¼•æ“å¯¹æ•°æ®åº“è¿›è¡Œä¿®æ”¹éƒ½ä¼šäº§ç”Ÿ binlog&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;redo log æ˜¯ MySQL æ•°æ®åº“ç”¨äºä¿è¯äº‹åŠ¡çš„æŒä¹…æ€§çš„æœºåˆ¶ä¹‹ä¸€ã€‚åœ¨æ‰§è¡Œä¸€ä¸ªäº‹åŠ¡æ—¶ï¼Œ&lt;font color=&#39;red&#39;&gt;MySQL ä¼šå°†äº‹åŠ¡æ‰€åšå‡ºçš„ä¿®æ”¹æ“ä½œå…ˆå†™å…¥ redo log è€Œä¸æ˜¯ç›´æ¥ä¿å­˜åˆ°ç£ç›˜&lt;/font&gt;ï¼Œä¹Ÿå°±æ˜¯ &lt;code&gt;WALï¼ˆwrite ahead log)æœºåˆ¶&lt;/code&gt; ã€‚è¿™æ˜¯å› ä¸ºå°†æ•°æ®ç›´æ¥å†™å…¥ç£ç›˜çš„å¼€é”€è¾ƒå¤§ï¼Œè€Œå°†ä¿®æ”¹æ“ä½œå†™å…¥ redo log å¯ä»¥å¤§å¹…å‡å°‘ç£ç›˜ IO çš„æ¬¡æ•°ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;WALï¼ˆwrite ahead logï¼‰æœºåˆ¶çš„åŸºæœ¬æ€æƒ³ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨ä¿®æ”¹æ•°æ®ä¹‹å‰ï¼Œå…ˆå°†ä¿®æ”¹æ“ä½œè®°å½•åˆ°ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ä¸­ï¼Œç„¶åå†å°†ä¿®æ”¹æ“ä½œåº”ç”¨åˆ°æ•°æ®åº“ä¸­ã€‚è¿™æ ·ï¼Œå³ä½¿åœ¨ä¿®æ”¹æ•°æ®çš„è¿‡ç¨‹ä¸­å‡ºç°äº†æ•…éšœï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ—¥å¿—æ–‡ä»¶æ¥æ¢å¤æ•°æ® ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å½“ä¸€ä¸ªäº‹åŠ¡æäº¤åï¼Œ&lt;font color=&#39;red&#39;&gt;MySQL ä¼šä» redo log ä¸­è¯»å–ç›¸åº”çš„ä¿®æ”¹æ“ä½œï¼Œå¹¶å°†å…¶å†™å…¥ç£ç›˜&lt;/font&gt;ã€‚&lt;font color=&#39;red&#39;&gt;åªè¦ redo log å·²ç»æŒä¹…åŒ–ï¼ˆå³å·²ç»å†™å…¥ç£ç›˜ï¼‰ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä¿è¯æ•…éšœå‘ç”Ÿåèƒ½å¤Ÿå®Œæˆæ•°æ®æ¢å¤&lt;/font&gt;ã€‚å¦‚æœ MySQL åœ¨æ‰§è¡Œä¿®æ”¹æ“ä½œæ—¶é‡åˆ°äº†å®•æœºç­‰é—®é¢˜ï¼Œåœ¨é‡å¯åä¼šé‡æ–°åº”ç”¨ redo log é‡Œæœªè¢«åº”ç”¨çš„æ“ä½œï¼Œä»è€Œå®ç°äº‹åŠ¡çš„æŒä¹…æ€§ã€‚&lt;/p&gt;
&lt;h5 id=&#34;æ•°æ®é¡µæ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®é¡µæ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; æ•°æ®é¡µæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h5&gt;
&lt;p&gt;æ•°æ®é¡µæ˜¯ InnoDB å­˜å‚¨å¼•æ“ä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œå®ƒ&lt;strong&gt;æ˜¯ InnoDB å­˜å‚¨å¼•æ“ä¸­çš„æœ€å°å­˜å‚¨å•ä½ã€‚InnoDB å­˜å‚¨å¼•æ“å°†è¡¨ç©ºé—´åˆ†ä¸ºå¤šä¸ªå¤§å°ç›¸ç­‰çš„æ•°æ®é¡µï¼Œæ¯ä¸ªæ•°æ®é¡µé»˜è®¤å¤§å°ä¸º 16KB&lt;/strong&gt;ã€‚åœ¨ InnoDB å­˜å‚¨å¼•æ“ä¸­ï¼Œæ¯ä¸ªè¡¨éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„è¡¨ç©ºé—´ï¼Œè¡¨ç©ºé—´ç”±å¤šä¸ªæ•°æ®æ–‡ä»¶ç»„æˆã€‚å½“è¡¨ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒInnoDB å­˜å‚¨å¼•æ“ä¼šå°†ä¿®æ”¹æ“ä½œè®°å½•åˆ° redo log ä¸­ï¼Œå¹¶å°†ä¿®æ”¹æ“ä½œåº”ç”¨åˆ°å†…å­˜ä¸­çš„æ•°æ®é¡µä¸­ã€‚å½“å†…å­˜ä¸­çš„æ•°æ®é¡µè¢«ä¿®æ”¹åï¼ŒInnoDB å­˜å‚¨å¼•æ“ä¼šå°†ä¿®æ”¹æ“ä½œå¼‚æ­¥åˆ·æ–°åˆ°ç£ç›˜ä¸Šçš„æ•°æ®æ–‡ä»¶ä¸­ï¼Œä»è€Œä¿è¯äº†æ•°æ®çš„æŒä¹…æ€§ã€‚&lt;/p&gt;
&lt;h5 id=&#34;é¡µä¿®æ”¹ä¹‹åä¸ºä»€ä¹ˆä¸ç›´æ¥åˆ·ç›˜å‘¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¡µä¿®æ”¹ä¹‹åä¸ºä»€ä¹ˆä¸ç›´æ¥åˆ·ç›˜å‘¢&#34;&gt;#&lt;/a&gt; é¡µä¿®æ”¹ä¹‹åä¸ºä»€ä¹ˆä¸ç›´æ¥åˆ·ç›˜å‘¢ï¼Ÿ&lt;/h5&gt;
&lt;p&gt;åœ¨æ•°æ®åº“ä¸­ï¼Œå°†ä¿®æ”¹çš„æ•°æ®ç›´æ¥åˆ·ç›˜ï¼ˆå†™å…¥ç£ç›˜ï¼‰å¯èƒ½ä¼šäº§ç”Ÿä¸€äº›æ€§èƒ½å¼€é”€ã€‚è¿™æ˜¯å› ä¸ºåœ¨æ‰§è¡Œéšæœºç£ç›˜ IO çš„è¿‡ç¨‹ä¸­ï¼Œç£ç›˜çš„å¯»å€æ—¶é—´å’Œç£é“åˆ‡æ¢æ—¶é—´ç­‰æ‰€éœ€çš„å¼€é”€è¾ƒå¤§ï¼Œè¯´æ˜ç£ç›˜ IO æ—¶éœ€è¦è€—è´¹è¾ƒé•¿çš„æ—¶é—´ã€‚å› æ­¤&lt;strong&gt;ç›´æ¥åˆ·ç›˜ä¼šå¯¼è‡´å¤§é‡çš„ç£ç›˜ I/Oï¼Œé™ä½ç³»ç»Ÿçš„æ€§èƒ½&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼ŒInnoDB å­˜å‚¨å¼•æ“é‡‡ç”¨äº†ä¸€ç§ç§°ä¸º â€œ &lt;code&gt;è„é¡µåˆ·ç›˜&lt;/code&gt; â€ çš„æœºåˆ¶ã€‚&lt;font color=&#39;red&#39;&gt;åœ¨æ•°æ®åº“ç¼“å­˜ä¸­ï¼Œå¦‚æœä¸€ä¸ªæ•°æ®é¡µä¸Šçš„æ•°æ®å·²ç»è¢«ä¿®æ”¹äº†ï¼Œä½†è¿˜æ²¡æœ‰è¢«åŒæ­¥å†™å…¥ç£ç›˜ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°æ®é¡µå°±è¢«ç§°ä¸º â€œ &lt;code&gt;è„é¡µ&lt;/code&gt; â€&lt;/font&gt;ã€‚ &lt;code&gt;è„é¡µåˆ·ç›˜&lt;/code&gt; æœºåˆ¶æ˜¯æŒ‡ InnoDB å­˜å‚¨å¼•æ“åœ¨&lt;font color=&#39;red&#39;&gt;å°†å†…å­˜ä¸­çš„æ•°æ®é¡µåˆ·æ–°åˆ°ç£ç›˜ä¸Š&lt;/font&gt;æ—¶ï¼Œä¼šæ ¹æ®ä¸€å®šçš„ç­–ç•¥æ¥å†³å®šå“ªäº›æ•°æ®é¡µéœ€è¦è¢«åˆ·æ–°åˆ°ç£ç›˜ä¸Šï¼Œå“ªäº›æ•°æ®é¡µå¯ä»¥æš‚æ—¶ä¸åˆ·æ–°ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å½“å†…å­˜ä¸­çš„æ•°æ®é¡µè¢«ä¿®æ”¹å‰ï¼ŒInnoDB å­˜å‚¨å¼•æ“ä¼šå°†ä¿®æ”¹æ“ä½œè®°å½•åˆ° redo log ä¸­ï¼Œå¹¶å°†ä¿®æ”¹æ“ä½œåº”ç”¨åˆ°å†…å­˜ä¸­çš„æ•°æ®é¡µä¸­&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å½“å†…å­˜ä¸­çš„æ•°æ®é¡µè¢«ä¿®æ”¹åï¼ŒInnoDB å­˜å‚¨å¼•æ“ä¼šå°†ä¿®æ”¹æ“ä½œå¼‚æ­¥åˆ·æ–°åˆ°ç£ç›˜ä¸Šçš„æ•°æ®æ–‡ä»¶ä¸­ï¼Œä»è€Œä¿è¯äº†æ•°æ®çš„æŒä¹…æ€§&lt;/font&gt;ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒInnoDB å­˜å‚¨å¼•æ“ä¼šæ ¹æ®ä¸€å®šçš„ç­–ç•¥æ¥å†³å®šå“ªäº›æ•°æ®é¡µéœ€è¦è¢«åˆ·æ–°åˆ°ç£ç›˜ä¸Šï¼Œå“ªäº›æ•°æ®é¡µå¯ä»¥æš‚æ—¶ä¸åˆ·æ–°ã€‚è¿™æ ·å¯ä»¥é¿å…å¤§é‡çš„ç£ç›˜ I/Oï¼Œæé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;binlog-å’Œ-redolog-æœ‰ä»€ä¹ˆåŒºåˆ«&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#binlog-å’Œ-redolog-æœ‰ä»€ä¹ˆåŒºåˆ«&#34;&gt;#&lt;/a&gt; binlog å’Œ redolog æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/h5&gt;
&lt;p&gt;binlog å’Œ redolog éƒ½æ˜¯ MySQL æ•°æ®åº“ä¸­çš„æ—¥å¿—æ–‡ä»¶ï¼Œç”¨äºè®°å½•æ•°æ®åº“çš„ä¿®æ”¹æ“ä½œã€‚å®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;binlog æ˜¯ MySQL çš„å½’æ¡£æ—¥å¿—ï¼Œç”¨äº&lt;font color=&#39;red&#39;&gt;è®°å½•æ‰€æœ‰çš„ä¿®æ”¹æ“ä½œï¼ŒåŒ…æ‹¬æ•°æ®çš„å¢åˆ æ”¹æ“ä½œå’Œè¡¨ç»“æ„çš„å˜æ›´æ“ä½œç­‰&lt;/font&gt;ã€‚binlog çš„ä½œç”¨æ˜¯&lt;font color=&#39;red&#39;&gt;ç”¨äºæ•°æ®æ¢å¤ã€ä¸»ä»å¤åˆ¶å’Œæ•°æ®åŒæ­¥&lt;/font&gt;ç­‰åœºæ™¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;redolog æ˜¯ InnoDB å­˜å‚¨å¼•æ“çš„äº‹åŠ¡æ—¥å¿—ï¼Œç”¨äº&lt;font color=&#39;red&#39;&gt;è®°å½•äº‹åŠ¡çš„ä¿®æ”¹æ“ä½œ&lt;/font&gt;ã€‚redolog çš„ä½œç”¨æ˜¯&lt;font color=&#39;red&#39;&gt;ç”¨äºä¿è¯äº‹åŠ¡çš„åŸå­æ€§ã€ä¸€è‡´æ€§å’ŒæŒä¹…æ€§&lt;/font&gt;ã€‚å½“ä¸€ä¸ªäº‹åŠ¡æäº¤æ—¶ï¼Œä¼šå°†è¯¥äº‹åŠ¡æ‰€åšçš„æ‰€æœ‰ä¿®æ”¹æ“ä½œå…ˆè®°å½•åœ¨ redo log ä¸­å¹¶åˆ·åˆ°ç£ç›˜ä¸Šï¼Œç„¶åå†å°†è¿™äº›ä¿®æ”¹æ“ä½œåŒæ­¥åˆ°æ•°æ®åº“çš„æ•°æ®æ–‡ä»¶ä¸­ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åŒºåˆ«:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;binlog æ˜¯æ•´ä¸ª&lt;font color=&#39;red&#39;&gt;æ•°æ®åº“å®ä¾‹çº§åˆ«&lt;/font&gt;çš„ï¼Œè®°å½•äº†å¯¹æ•´ä¸ªæ•°æ®åº“å®ä¾‹è¿›è¡Œçš„æ‰€æœ‰æ›´æ”¹æ“ä½œï¼Œè€Œ redolog æ˜¯æ¯ä¸ª&lt;font color=&#39;red&#39;&gt;InnoDB å­˜å‚¨å¼•æ“å®ä¾‹çº§åˆ«&lt;/font&gt;çš„ï¼Œåªè®°å½•äº†åœ¨è¯¥å­˜å‚¨å¼•æ“å®ä¾‹ä¸­å‘ç”Ÿçš„äº‹åŠ¡æ›´æ”¹æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;binlog æ˜¯å¯¹&lt;font color=&#39;red&#39;&gt;æ•°æ®åº“æ‰§è¡Œçš„è¯­å¥çº§åˆ«&lt;/font&gt;çš„æ—¥å¿—ï¼Œredolog æ˜¯å¯¹&lt;font color=&#39;red&#39;&gt;äº‹åŠ¡çº§åˆ«&lt;/font&gt;çš„æ—¥å¿—ï¼Œè®°å½•äº†äº‹åŠ¡çš„å…·ä½“æ“ä½œä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;binlog é€šå¸¸&lt;font color=&#39;red&#39;&gt;ç”¨äº JDBC ç­‰å®¢æˆ·ç«¯è¿›è¡Œå¼‚åœ°ç¾éš¾æ¢å¤&lt;/font&gt;ï¼Œè€Œ redolog&lt;font color=&#39;red&#39;&gt;ç”¨äºä¿è¯äº‹åŠ¡çš„ ACID å±æ€§ï¼ˆåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§å’ŒæŒä¹…æ€§ï¼‰&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å› ä¸º&lt;font color=&#39;red&#39;&gt; binlog è®°å½•äº†æ‰€æœ‰çš„ä¿®æ”¹æ“ä½œï¼Œæ‰€ä»¥å®ƒæ¯” redolog æ›´åŠ å…¨é¢ï¼Œä½†ä¹Ÿæ›´åŠ è€—è´¹ç£ç›˜ç©ºé—´&lt;/font&gt;ã€‚è€Œ &lt;font color=&#39;red&#39;&gt;redolog åªè®°å½•äº†äº‹åŠ¡çš„ä¿®æ”¹æ“ä½œï¼Œæ‰€ä»¥å®ƒæ¯” binlog æ›´åŠ é«˜æ•ˆï¼Œä½†ä¹Ÿæ›´åŠ å±€é™&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;undo-log-å¦‚ä½•ä¿è¯äº‹åŠ¡çš„åŸå­æ€§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#undo-log-å¦‚ä½•ä¿è¯äº‹åŠ¡çš„åŸå­æ€§&#34;&gt;#&lt;/a&gt; undo log å¦‚ä½•ä¿è¯äº‹åŠ¡çš„åŸå­æ€§ï¼Ÿ&lt;/h5&gt;
&lt;p&gt;undo log &lt;font color=&#39;red&#39;&gt;æ˜¯ InnoDB å­˜å‚¨å¼•æ“çš„&lt;/font&gt;å›æ»šæ—¥å¿—ï¼Œ&lt;font color=&#39;red&#39;&gt;ç”¨äºè®°å½•äº‹åŠ¡çš„å›æ»šæ“ä½œ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å½“ä¸€ä¸ªäº‹åŠ¡éœ€è¦å›æ»šæ—¶ï¼ŒInnoDB å­˜å‚¨å¼•æ“ä¼šæ ¹æ® undo log ä¸­çš„ä¿¡æ¯å°†æ•°æ®é¡µæ¢å¤åˆ°äº‹åŠ¡å¼€å§‹ä¹‹å‰çš„çŠ¶æ€ã€‚å› æ­¤ï¼Œundo log å¯ä»¥ä¿è¯äº‹åŠ¡çš„åŸå­æ€§ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ InnoDB å­˜å‚¨å¼•æ“ä¸­ï¼Œæ¯ä¸ªäº‹åŠ¡éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ undo logï¼Œç”¨äºè®°å½•è¯¥äº‹åŠ¡æ‰€åšçš„ä¿®æ”¹æ“ä½œã€‚å½“äº‹åŠ¡æäº¤æ—¶ï¼ŒInnoDB å­˜å‚¨å¼•æ“ä¼šå°† undo log ä¸­çš„ä¿¡æ¯åˆ é™¤ï¼Œä»è€Œé‡Šæ”¾ç£ç›˜ç©ºé—´ã€‚å¦‚æœäº‹åŠ¡å›æ»šï¼Œåˆ™ InnoDB å­˜å‚¨å¼•æ“ä¼šæ ¹æ® undo log ä¸­çš„ä¿¡æ¯å°†æ•°æ®é¡µæ¢å¤åˆ°äº‹åŠ¡å¼€å§‹ä¹‹å‰çš„çŠ¶æ€ã€‚è¿™æ ·å¯ä»¥ä¿è¯äº‹åŠ¡çš„åŸå­æ€§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;mysqläº‹åŠ¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysqläº‹åŠ¡&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸMySQL äº‹åŠ¡&lt;/mark&gt;&lt;/h3&gt;
&lt;h4 id=&#34;äº‹åŠ¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#äº‹åŠ¡&#34;&gt;#&lt;/a&gt; äº‹åŠ¡&lt;/h4&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;äº‹åŠ¡æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¸šåŠ¡é€»è¾‘ï¼Œå†…éƒ¨çš„æ‰€æœ‰æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ•°æ®åº“äº‹åŠ¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®åº“äº‹åŠ¡&#34;&gt;#&lt;/a&gt; æ•°æ®åº“äº‹åŠ¡&lt;/h4&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¯¹äºæ•°æ®åº“æ¥è¯´ï¼Œäº‹åŠ¡æ˜¯ç”±æ‰¹é‡çš„ DML è¯­å¥æ‰€æ„æˆçš„é€»è¾‘æ•´ä½“ï¼Œè¦ä¹ˆå…¨æ‰§è¡ŒæˆåŠŸï¼Œè¦ä¹ˆå…¨æ‰§è¡Œå¤±è´¥&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å¼€å¯ä¸€ä¸ªäº‹åŠ¡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;START&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TRANSACTION&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å¤šæ¡ SQL è¯­å¥&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;SQL1&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;SQL2&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;## æäº¤äº‹åŠ¡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;COMMIT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230424112420132.png&#34; alt=&#34;image-20230424112420132&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;acid-ç‰¹å¾&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#acid-ç‰¹å¾&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸACID ç‰¹å¾&lt;/mark&gt;&lt;/h4&gt;
&lt;p&gt;å…³ç³»å‹æ•°æ®åº“ï¼ˆä¾‹å¦‚ï¼š &lt;code&gt;MySQL&lt;/code&gt; ã€ &lt;code&gt;SQL Server&lt;/code&gt; ã€ &lt;code&gt;Oracle&lt;/code&gt;  ç­‰ï¼‰äº‹åŠ¡éƒ½æœ‰ &lt;strong&gt;ACID&lt;/strong&gt; ç‰¹æ€§ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230424112518237.png&#34; alt=&#34;image-20230424112518237&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŸå­æ€§&lt;/strong&gt;ï¼ˆ &lt;code&gt;Atomicity&lt;/code&gt; ï¼‰ï¼šäº‹åŠ¡æ˜¯ä¸å¯åˆ†å‰²çš„æœ€å°æ“ä½œå•å…ƒï¼Œå†…éƒ¨çš„æ‰€æœ‰æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ï¼›&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ç”± Undo Log æ—¥å¿—ä¿è¯&lt;/font&gt;ï¼Œè®°å½•äº†éœ€è¦å›æ»šçš„æ—¥å¿—ä¿¡æ¯ï¼Œäº‹åŠ¡å›æ»šæ—¶æ’¤é”€å·²ç»æ‰§è¡ŒæˆåŠŸçš„ SQL è¯­å¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸€è‡´æ€§&lt;/strong&gt;ï¼ˆ &lt;code&gt;Consistency&lt;/code&gt; ï¼‰ï¼šäº‹åŠ¡å®Œæˆå‰åï¼Œæ•°æ®åº“å¿…é¡»ä¿æŒä¸€è‡´çŠ¶æ€ï¼Œå³éƒ½æ˜¯åˆç†çš„æ•°æ®çŠ¶æ€ã€‚ä¾‹å¦‚è½¬è´¦ä¸šåŠ¡ä¸­ï¼Œæ— è®ºäº‹åŠ¡æ˜¯å¦æˆåŠŸï¼Œè½¬è´¦è€…å’Œæ”¶æ¬¾äººçš„æ€»é¢åº”è¯¥æ˜¯ä¸å˜çš„ï¼›&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ç”± Aã€Iã€D å…±åŒä¿è¯&lt;/font&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;éš”ç¦»æ€§&lt;/strong&gt;ï¼ˆ &lt;code&gt;Isolation&lt;/code&gt; ï¼‰ï¼šæ•°æ®åº“æä¾›çš„éš”ç¦»æœºåˆ¶ï¼Œå¯ä»¥ä¿è¯äº‹åŠ¡åœ¨ä¸å—å¤–éƒ¨å¹¶å‘æ“ä½œå½±å“çš„ç‹¬ç«‹ç¯å¢ƒä¸‹è¿è¡Œã€‚å³å¹¶å‘è®¿é—®æ•°æ®åº“æ—¶ï¼Œä¸€ä¸ªäº‹åŠ¡æ‰€åšçš„ä¿®æ”¹åœ¨æœ€ç»ˆæäº¤å‰ï¼Œå¯¹å…¶ä»–å¹¶å‘äº‹åŠ¡æ˜¯ä¸å¯è§çš„ã€‚å„å¹¶å‘äº‹åŠ¡ä¹‹é—´ï¼Œæ•°æ®åº“æ˜¯ç‹¬ç«‹çš„ï¼›&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ç”± MVCC ä¿è¯&lt;/font&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æŒä¹…æ€§&lt;/strong&gt;ï¼ˆ &lt;code&gt;Durability&lt;/code&gt; ï¼‰ï¼šäº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œå®ƒå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„æ›´æ”¹å°±æ˜¯æŒä¹…çš„ã€‚å³ä½¿æ•°æ®åº“å‘ç”Ÿæ•…éšœï¼Œè¿™ç§æ›´æ”¹ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ç”± å†…å­˜ + Redo Log ä¿è¯&lt;/font&gt;ï¼ŒMySQL ä¿®æ”¹æ•°æ®åŒæ—¶åœ¨å†…å­˜å’Œ Redo Log è®°å½•è¿™æ¬¡æ“ä½œï¼Œå®•æœºæ—¶å¯ä» Redo Log æ¢å¤æ•°æ®ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;**Aã€Iã€D æ˜¯æ‰‹æ®µï¼ŒC æ‰æ˜¯ç›®çš„ï¼** åªæœ‰ä¿è¯äº†äº‹åŠ¡çš„åŸå­æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§ä¹‹åï¼Œä¸€è‡´æ€§æ‰èƒ½å¾—åˆ°ä¿éšœã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230424112548870.png&#34; alt=&#34;image-20230424112548870&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;4ä¸ªä¸€è‡´æ€§é—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#4ä¸ªä¸€è‡´æ€§é—®é¢˜&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸ4 ä¸ªä¸€è‡´æ€§é—®é¢˜&lt;/mark&gt;&lt;/h4&gt;
&lt;p&gt;å¤šä¸ªäº‹åŠ¡å¹¶å‘è¿è¡Œï¼Œç»å¸¸ä¼šæ“ä½œç›¸åŒçš„æ•°æ®æ¥å®Œæˆå„è‡ªçš„ä»»åŠ¡ï¼ˆä¾‹å¦‚å¤šä¸ªå®¢æˆ·ç«¯å¹¶å‘åœ°è®¿é—®åŒä¸€ä¸ªè¡¨ï¼‰ï¼Œå¦‚æœäº‹åŠ¡ä¹‹é—´æ²¡æœ‰è®¾ç½®åˆç†çš„éš”ç¦»çº§åˆ«ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä»¥ä¸‹ 4 ç§é—®é¢˜ã€‚&lt;/p&gt;
&lt;h5 id=&#34;è„è¯»dirty-read&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è„è¯»dirty-read&#34;&gt;#&lt;/a&gt; è„è¯»ï¼ˆDirty readï¼‰&lt;/h5&gt;
&lt;p&gt;ä¸€ä¸ªäº‹åŠ¡è¯»å–å¹¶ä¿®æ”¹äº†æ•°æ®ï¼Œè¿™ä¸ªä¿®æ”¹å¯¹å…¶ä»–å¹¶å‘äº‹åŠ¡æ¥è¯´æ˜¯å¯è§çš„ï¼Œå³ä½¿è¯¥äº‹åŠ¡è¿˜æ²¡æœ‰æäº¤ã€‚è¿™æ—¶å¦ä¸€ä¸ªå¹¶å‘äº‹åŠ¡è¯»å–äº†è¿™ä¸ªè¿˜æœªæäº¤çš„æ•°æ®ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ªäº‹åŠ¡çªç„¶å›æ»šï¼Œå¯¼è‡´æ•°æ®å¹¶æ²¡æœ‰è¢«æäº¤åˆ°æ•°æ®åº“ã€‚é‚£ç¬¬äºŒä¸ªäº‹åŠ¡è¯»å–åˆ°çš„å°±æ˜¯è„æ•°æ®ï¼Œè¿™ä¹Ÿå°±æ˜¯è„è¯»çš„ç”±æ¥ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼šäº‹åŠ¡ 1 è¯»å–æŸè¡¨ä¸­çš„æ•°æ® A=20ï¼Œäº‹åŠ¡ 1 ä¿®æ”¹ A=A-1ï¼Œäº‹åŠ¡ 2 è¯»å–åˆ° A = 19, äº‹åŠ¡ 1 å›æ»šå¯¼è‡´å¯¹ A çš„ä¿®æ”¹å¹¶ä¸ºæäº¤åˆ°æ•°æ®åº“ï¼Œ A çš„å€¼è¿˜æ˜¯ 20ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230424112618536.png&#34; alt=&#34;è„è¯»&#34; /&gt;&lt;/p&gt;
&lt;center&gt; è„è¯»ï¼ˆDirty readï¼‰&lt;/center&gt;
&lt;h5 id=&#34;ä¸¢å¤±ä¿®æ”¹lost-to-modify&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸¢å¤±ä¿®æ”¹lost-to-modify&#34;&gt;#&lt;/a&gt; ä¸¢å¤±ä¿®æ”¹ï¼ˆLost to modifyï¼‰&lt;/h5&gt;
&lt;p&gt;åœ¨ä¸€ä¸ªäº‹åŠ¡è¯»å–ä¸€ä¸ªæ•°æ®æ—¶ï¼Œå¦å¤–ä¸€ä¸ªäº‹åŠ¡ä¹Ÿè®¿é—®äº†è¯¥æ•°æ®ï¼Œé‚£ä¹ˆåœ¨ç¬¬ä¸€ä¸ªäº‹åŠ¡ä¸­ä¿®æ”¹äº†è¿™ä¸ªæ•°æ®åï¼Œç¬¬äºŒä¸ªäº‹åŠ¡ä¹Ÿä¿®æ”¹äº†è¿™ä¸ªæ•°æ®ã€‚è¿™æ ·ç¬¬ä¸€ä¸ªäº‹åŠ¡å†…çš„ä¿®æ”¹ç»“æœå°±è¢«ä¸¢å¤±ï¼Œå› æ­¤ç§°ä¸ºä¸¢å¤±ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼šäº‹åŠ¡ 1 è¯»å–æŸè¡¨ä¸­çš„æ•°æ® A=20ï¼Œäº‹åŠ¡ 2 ä¹Ÿè¯»å– A=20ï¼Œäº‹åŠ¡ 1 å…ˆä¿®æ”¹ A=A-1ï¼Œäº‹åŠ¡ 2 åæ¥ä¹Ÿä¿®æ”¹ A=A-1ï¼Œæœ€ç»ˆç»“æœ A=19ï¼Œäº‹åŠ¡ 1 çš„ä¿®æ”¹è¢«ä¸¢å¤±ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230424112636565.png&#34; alt=&#34;image-20230424112636565&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ä¸¢å¤±ä¿®æ”¹ï¼ˆLost to modifyï¼‰&lt;/center&gt;
&lt;h5 id=&#34;ä¸å¯é‡å¤è¯»unrepeatable-read&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸å¯é‡å¤è¯»unrepeatable-read&#34;&gt;#&lt;/a&gt; ä¸å¯é‡å¤è¯»ï¼ˆUnrepeatable readï¼‰&lt;/h5&gt;
&lt;p&gt;åœ¨ä¸€ä¸ªäº‹åŠ¡å†…å¤šæ¬¡è¯»åŒä¸€æ•°æ®ã€‚åœ¨ä¸€ä¸ªäº‹åŠ¡è¿˜æ²¡æœ‰ç»“æŸæ—¶ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡ä¹Ÿè®¿é—®è¯¥æ•°æ®ã€‚é‚£ä¹ˆï¼Œåœ¨ç¬¬ä¸€ä¸ªäº‹åŠ¡ä¸­çš„ä¸¤æ¬¡è¯»æ•°æ®ä¹‹é—´ï¼Œç”±äºç¬¬äºŒä¸ªäº‹åŠ¡çš„ä¿®æ”¹å¯¼è‡´ç¬¬ä¸€ä¸ªäº‹åŠ¡ä¸¤æ¬¡è¯»å–çš„æ•°æ®å¯èƒ½ä¸å¤ªä¸€æ ·ã€‚è¿™å°±å‘ç”Ÿäº†åœ¨ä¸€ä¸ªäº‹åŠ¡å†…ä¸¤æ¬¡è¯»åˆ°çš„æ•°æ®æ˜¯ä¸ä¸€æ ·çš„æƒ…å†µï¼Œå› æ­¤ç§°ä¸ºä¸å¯é‡å¤è¯»ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼šäº‹åŠ¡ 1 è¯»å–æŸè¡¨ä¸­çš„æ•°æ® A=20ï¼Œäº‹åŠ¡ 2 ä¹Ÿè¯»å– A=20ï¼Œäº‹åŠ¡ 1 ä¿®æ”¹ A=A-1ï¼Œäº‹åŠ¡ 2 å†æ¬¡è¯»å– A =19ï¼Œæ­¤æ—¶è¯»å–çš„ç»“æœå’Œç¬¬ä¸€æ¬¡è¯»å–çš„ç»“æœä¸åŒã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230424112650372.png&#34; alt=&#34;image-20230424112650372&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ä¸å¯é‡å¤è¯»ï¼ˆUnrepeatable readï¼‰&lt;/center&gt;
&lt;h5 id=&#34;å¹»è¯»phantom-read&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¹»è¯»phantom-read&#34;&gt;#&lt;/a&gt; å¹»è¯»ï¼ˆPhantom readï¼‰&lt;/h5&gt;
&lt;p&gt;ä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å‡ è¡Œæ•°æ®ï¼Œæ¥ç€å¦ä¸€ä¸ªå¹¶å‘äº‹åŠ¡&lt;font color=&#39;red&#39;&gt;æ’å…¥&lt;/font&gt;äº†ä¸€äº›æ•°æ®æ—¶ã€‚ç¬¬ä¸€ä¸ªäº‹åŠ¡åœ¨éšåçš„æŸ¥è¯¢ä¸­å°±ä¼šå‘ç°å¤šäº†ä¸€äº›åŸæœ¬ä¸å­˜åœ¨çš„è®°å½•ï¼Œå°±å¥½åƒå‘ç”Ÿäº†å¹»è§‰ä¸€æ ·ï¼Œæ‰€ä»¥ç§°ä¸ºå¹»è¯»ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼šäº‹åŠ¡ 2 è¯»å–æŸä¸ªèŒƒå›´çš„æ•°æ®ï¼Œäº‹åŠ¡ 1 åœ¨è¿™ä¸ªèŒƒå›´æ’å…¥äº†æ–°çš„æ•°æ®ï¼Œäº‹åŠ¡ 2 å†æ¬¡è¯»å–è¿™ä¸ªèŒƒå›´çš„æ•°æ®å‘ç°ç›¸æ¯”äºç¬¬ä¸€æ¬¡è¯»å–çš„ç»“æœå¤šäº†æ–°çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20230424112700267.png&#34; alt=&#34;image-20230424112700267&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å¹»è¯»ï¼ˆPhantom readï¼‰&lt;/center&gt;
&lt;h4 id=&#34;ä¸å¯é‡å¤è¯»å’Œå¹»è¯»çš„åŒºåˆ«&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸å¯é‡å¤è¯»å’Œå¹»è¯»çš„åŒºåˆ«&#34;&gt;#&lt;/a&gt; ä¸å¯é‡å¤è¯»å’Œå¹»è¯»çš„åŒºåˆ«&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ä¸å¯é‡å¤è¯»çš„é‡ç‚¹æ˜¯&lt;u&gt;å­—æ®µå€¼ä¿®æ”¹&lt;/u&gt;æˆ–&lt;u&gt;è®°å½•å‡å°‘&lt;/u&gt;&lt;/font&gt;ã€‚æ¯”å¦‚å¤šæ¬¡è¯»å–ä¸€æ¡è®°å½•ï¼Œå‘ç°å…¶ä¸­æŸäº›å­—æ®µçš„å€¼è¢«ä¿®æ”¹äº†ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å¹»è¯»çš„é‡ç‚¹åœ¨äº&lt;u&gt;è®°å½•æ–°å¢&lt;/u&gt;&lt;/font&gt;ã€‚æ¯”å¦‚å¤šæ¬¡æ‰§è¡ŒåŒä¸€æ¡æŸ¥è¯¢è¯­å¥ï¼ˆDQLï¼‰æ—¶ï¼Œå‘ç°æŸ¥åˆ°çš„è®°å½•å¢åŠ äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¹»è¯»å…¶å®å¯ä»¥çœ‹ä½œæ˜¯ä¸å¯é‡å¤è¯»çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼ŒåŒºåˆ†äºŒè€…çš„åŸå› æ˜¯äºŒè€…çš„è§£å†³æ–¹æ¡ˆä¸ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼šæ‰§è¡Œ  &lt;code&gt;delete&lt;/code&gt;  å’Œ  &lt;code&gt;update&lt;/code&gt;  æ“ä½œçš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥å¯¹è®°å½•åŠ é”ï¼Œä¿è¯äº‹åŠ¡å®‰å…¨ã€‚è€Œæ‰§è¡Œ  &lt;code&gt;insert&lt;/code&gt;  æ“ä½œçš„æ—¶å€™ï¼Œç”±äºè®°å½•é”ï¼ˆRecord Lockï¼‰åªèƒ½é”ä½å·²ç»å­˜åœ¨çš„è®°å½•ï¼Œä¸ºäº†é¿å…æ’å…¥æ–°è®°å½•ï¼Œéœ€è¦ä¾èµ–é—´éš™é”ï¼ˆGap Lockï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´æ‰§è¡Œ  &lt;code&gt;insert&lt;/code&gt;  æ“ä½œçš„æ—¶å€™éœ€è¦ä¾èµ– Next-Key Lockï¼ˆRecord Lock+Gap Lockï¼‰ è¿›è¡ŒåŠ é”æ¥ä¿è¯ä¸å‡ºç°å¹»è¯»ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å¹¶å‘äº‹åŠ¡çš„æ§åˆ¶æ–¹å¼éš”ç¦»æ€§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¹¶å‘äº‹åŠ¡çš„æ§åˆ¶æ–¹å¼éš”ç¦»æ€§&#34;&gt;#&lt;/a&gt; å¹¶å‘äº‹åŠ¡çš„æ§åˆ¶æ–¹å¼ï¼ˆéš”ç¦»æ€§ï¼‰&lt;/h4&gt;
&lt;p&gt;MySQL ä¸­å¹¶å‘äº‹åŠ¡çš„æ§åˆ¶æ–¹å¼æ— éå°±ä¸¤ç§ï¼š&lt;strong&gt;é”&lt;/strong&gt; å’Œ &lt;strong&gt;å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼ˆMVCCï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é”å¯ä»¥çœ‹ä½œæ˜¯æ‚²è§‚æ§åˆ¶çš„æ¨¡å¼ï¼Œå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼ˆMVCCï¼ŒMultiversion concurrency controlï¼‰å¯ä»¥çœ‹ä½œæ˜¯ä¹è§‚æ§åˆ¶çš„æ¨¡å¼ã€‚&lt;/p&gt;
&lt;h5 id=&#34;é”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é”&#34;&gt;#&lt;/a&gt; é”&lt;/h5&gt;
&lt;p&gt;é€šè¿‡é”æ¥æ˜¾ç¤ºåœ°æ§åˆ¶å…±äº«èµ„æºï¼Œè€Œä¸æ˜¯é€šè¿‡è°ƒåº¦æ‰‹æ®µã€‚MySQL ä¸­ä¸»è¦æ˜¯é€šè¿‡&lt;strong&gt;è¯»å†™é”&lt;/strong&gt;æ¥å®ç°å¹¶å‘æ§åˆ¶ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å…±äº«é”ï¼ˆS é”ï¼‰&lt;/strong&gt;ï¼šåˆç§°&lt;font color=&#39;red&#39;&gt;è¯»é”&lt;/font&gt;ã€‚äº‹åŠ¡åœ¨è¯»å–è®°å½•çš„æ—¶å€™è·å–å…±äº«é”ï¼Œå…è®¸å¤šä¸ªäº‹åŠ¡åŒæ—¶è·å–ï¼ˆé”å…¼å®¹ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ’ä»–é”ï¼ˆX é”ï¼‰&lt;/strong&gt;ï¼šåˆç§°&lt;font color=&#39;red&#39;&gt;å†™é” / ç‹¬å é”&lt;/font&gt;ã€‚äº‹åŠ¡åœ¨ä¿®æ”¹è®°å½•çš„æ—¶å€™è·å–æ’ä»–é”ï¼Œä¸å…è®¸å¤šä¸ªäº‹åŠ¡åŒæ—¶è·å–ã€‚å¦‚æœä¸€ä¸ªè®°å½•å·²ç»è¢«åŠ äº†æ’ä»–é”ï¼Œé‚£å…¶ä»–äº‹åŠ¡ä¸èƒ½å†å¯¹è¿™æ¡è®°å½•åŠ ä»»ä½•ç±»å‹çš„é”ï¼ˆé”ä¸å…¼å®¹ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¯»å†™é”å¯ä»¥åšåˆ°è¯»è¯»å¹¶è¡Œï¼Œä½†æ˜¯&lt;font color=&#39;red&#39;&gt;æ— æ³•åšåˆ°è¯»å†™å¹¶è¡Œã€å†™å†™å¹¶è¡Œ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œæ ¹æ®æ ¹æ®é”ç²’åº¦çš„ä¸åŒï¼Œåˆè¢«åˆ†ä¸º&lt;strong&gt;è¡¨çº§é” (table-level locking)&lt;strong&gt; å’Œ&lt;/strong&gt;è¡Œçº§é” (row-level locking)&lt;/strong&gt;ã€‚&lt;font color=&#39;red&#39;&gt;InnoDB ä¸å…‰æ”¯æŒè¡¨çº§é”ï¼Œè¿˜æ”¯æŒè¡Œçº§é”&lt;/font&gt;ï¼Œé»˜è®¤ä¸ºè¡Œçº§é”ã€‚è¡Œçº§é”çš„ç²’åº¦æ›´å°ï¼Œä»…å¯¹ç›¸å…³çš„è®°å½•ä¸Šé”å³å¯ï¼ˆå¯¹ä¸€è¡Œæˆ–è€…å¤šè¡Œè®°å½•åŠ é”ï¼‰ã€‚æ‰€ä»¥å¯¹äºå¹¶å‘å†™å…¥æ“ä½œæ¥è¯´ï¼ŒInnoDB çš„æ€§èƒ½æ›´é«˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ä¸è®ºæ˜¯è¡¨çº§é”è¿˜æ˜¯è¡Œçº§é”ï¼Œéƒ½å­˜åœ¨å…±äº«é”ï¼ˆShare Lockï¼ŒS é”ï¼‰å’Œæ’ä»–é”ï¼ˆExclusive Lockï¼ŒX é”ï¼‰è¿™ä¸¤ç±»&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶mvcc&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶mvcc&#34;&gt;#&lt;/a&gt; å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼ˆMVCCï¼‰&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;MVCC&lt;/strong&gt; æ˜¯å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶æ–¹æ³•ï¼Œå³&lt;font color=&#39;red&#39;&gt;å¯¹ä¸€ä»½æ•°æ®ä¼šå­˜å‚¨å¤šä¸ªç‰ˆæœ¬&lt;/font&gt;ï¼Œé€šè¿‡äº‹åŠ¡çš„å¯è§æ€§æ¥ä¿è¯äº‹åŠ¡èƒ½çœ‹åˆ°è‡ªå·±åº”è¯¥çœ‹åˆ°çš„ç‰ˆæœ¬ã€‚&lt;font color=&#39;red&#39;&gt;é€šå¸¸ä¼šæœ‰ä¸€ä¸ªå…¨å±€çš„ç‰ˆæœ¬åˆ†é…å™¨æ¥ä¸ºæ¯ä¸€è¡Œæ•°æ®è®¾ç½®ç‰ˆæœ¬å·ï¼Œç‰ˆæœ¬å·æ˜¯å”¯ä¸€çš„&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;MVCC åœ¨ MySQL ä¸­å®ç°æ‰€ä¾èµ–çš„æ‰‹æ®µä¸»è¦æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;undo log&lt;/strong&gt;ï¼šè®°å½•æŸè¡Œæ•°æ®çš„å¤šä¸ªç‰ˆæœ¬çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;read view&lt;/strong&gt; å’Œ &lt;strong&gt;éšè—å­—æ®µ&lt;/strong&gt;ï¼šåˆ¤æ–­å½“å‰ç‰ˆæœ¬æ•°æ®çš„å¯è§æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…³äº InnoDB å¯¹ MVCC çš„å…·ä½“å®ç°å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qYXZhZ3VpZGUuY24vZGF0YWJhc2UvbXlzcWwvaW5ub2RiLWltcGxlbWVudGF0aW9uLW9mLW12Y2MuaHRtbA==&#34;&gt;InnoDB å­˜å‚¨å¼•æ“å¯¹ MVCC çš„å®ç°&lt;/span&gt; ã€‚&lt;/p&gt;
&lt;h4 id=&#34;4ç§éš”ç¦»çº§åˆ«&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#4ç§éš”ç¦»çº§åˆ«&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸ4 ç§éš”ç¦»çº§åˆ«&lt;/mark&gt;&lt;/h4&gt;
&lt;p&gt;SQL æ ‡å‡†ä¸ºäº‹åŠ¡å®šä¹‰äº†å››ç§éš”ç¦»çº§åˆ«ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;READ-UNCOMMITTEDï¼ˆè¯»æœªæäº¤ï¼‰&lt;/strong&gt;ï¼šæœ€ä½çš„éš”ç¦»çº§åˆ«ï¼Œ&lt;font color=&#39;red&#39;&gt;å…è®¸å½“å‰äº‹åŠ¡è¯»å–å…¶ä»–å¹¶å‘äº‹åŠ¡å°šæœªæäº¤çš„æ•°æ®&lt;/font&gt;ï¼Œå­˜åœ¨è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»é—®é¢˜ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç”¨æˆ·æœ¬æ¥åº”è¯¥è¯»å–åˆ° id=1 çš„ç”¨æˆ· age åº”è¯¥æ˜¯ 10ï¼Œç»“æœè¯»å–åˆ°äº†å…¶ä»–äº‹åŠ¡è¿˜æ²¡æœ‰æäº¤çš„äº‹åŠ¡ï¼Œç»“æœè¯»å– age=20ï¼Œè¿™å°±æ˜¯è„è¯»ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;READ-COMMITTEDï¼ˆè¯»å·²æäº¤ï¼‰&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;å…è®¸å½“å‰äº‹åŠ¡è¯»å–å…¶ä»–å¹¶å‘äº‹åŠ¡å·²ç»æäº¤çš„æ•°æ®&lt;/font&gt;ã€‚å¯ä»¥é¿å…è„è¯»ï¼Œä½†æ˜¯å­˜åœ¨ä¸å¯é‡å¤è¯»ã€å¹»è¯»é—®é¢˜ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç”¨æˆ·å¼€å¯äº‹åŠ¡è¯»å– id=1 çš„ç”¨æˆ·ï¼ŒæŸ¥è¯¢åˆ° age=16ï¼Œå†æ¬¡è¯»å–å‘ç°ç»“æœ age=20ï¼Œåœ¨åŒä¸€ä¸ªäº‹åŠ¡é‡ŒåŒä¸€ä¸ªæŸ¥è¯¢è¯»å–åˆ°ä¸åŒçš„ç»“æœï¼Œå«åšä¸å¯é‡å¤è¯»ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;REPEATABLE-READï¼ˆå¯é‡å¤è¯»ï¼‰&lt;/strong&gt;ï¼šMySQL çš„é»˜è®¤éš”ç¦»çº§åˆ«ï¼Œ&lt;font color=&#39;red&#39;&gt;å½“å‰äº‹åŠ¡å¯¹åŒä¸€æ•°æ®çš„å¤šæ¬¡è¯»å–ç»“æœéƒ½æ˜¯ä¸€æ ·çš„&lt;/font&gt;ï¼ˆéƒ½æ˜¯å¤ç”¨äº‹åŠ¡åˆšå¼€å§‹æ—¶çš„æ•°æ®è¯»å–ç»“æœå‰¯æœ¬ï¼‰ï¼Œé™¤éæ•°æ®è¢«æœ¬èº«äº‹åŠ¡æ‰€ä¿®æ”¹ã€‚å¯ä»¥é¿å…è„è¯»å’Œä¸å¯é‡å¤è¯»ï¼Œä½†å¹»è¯»ä»æœ‰å¯èƒ½å‘ç”Ÿã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;SERIALIZABLEï¼ˆä¸²è¡ŒåŒ– / åºåˆ—åŒ–ï¼‰&lt;/strong&gt;ï¼šæœ€é«˜çš„éš”ç¦»çº§åˆ«ï¼Œå®Œå…¨æœä» ACID çš„éš”ç¦»çº§åˆ«ã€‚&lt;font color=&#39;red&#39;&gt;æ‰€æœ‰çš„äº‹åŠ¡ä¾æ¬¡ä¸²è¡Œæ‰§è¡Œ&lt;/font&gt;ï¼Œè¿™æ ·äº‹åŠ¡ä¹‹é—´å°±å®Œå…¨ä¸å¯èƒ½äº§ç”Ÿå¹²æ‰°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥çº§åˆ«å¯ä»¥é˜²æ­¢è„è¯»ã€ä¸å¯é‡å¤è¯»ä»¥åŠå¹»è¯»ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231118212951118.png&#34; alt=&#34;image-20231118212951118&#34; /&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;éš”ç¦»çº§åˆ«&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;è„è¯»&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;ä¸å¯é‡å¤è¯»&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;å¹»è¯»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;READ-UNCOMMITTED&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;âˆš&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;âˆš&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;âˆš&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;READ-COMMITTED&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Ã—&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;âˆš&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;âˆš&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;REPEATABLE-READ&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Ã—&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Ã—&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;âˆš/Ã—ï¼ˆInnoDBï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;SERIALIZABLE&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Ã—&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Ã—&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Ã—&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;mysql-çš„éš”ç¦»çº§åˆ«æ˜¯åŸºäºé”å’Œ-mvcc-æœºåˆ¶å…±åŒå®ç°çš„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysql-çš„éš”ç¦»çº§åˆ«æ˜¯åŸºäºé”å’Œ-mvcc-æœºåˆ¶å…±åŒå®ç°çš„&#34;&gt;#&lt;/a&gt; MySQL çš„éš”ç¦»çº§åˆ«æ˜¯åŸºäºé”å’Œ MVCC æœºåˆ¶å…±åŒå®ç°çš„&lt;/h4&gt;
&lt;p&gt;SERIALIZABLE éš”ç¦»çº§åˆ«æ˜¯é€šè¿‡é”æ¥å®ç°çš„ï¼ŒREAD-COMMITTED å’Œ REPEATABLE-READ éš”ç¦»çº§åˆ«æ˜¯åŸºäº MVCC å®ç°çš„ã€‚ä¸è¿‡ï¼ŒSERIALIZABLE ä¹‹å¤–çš„å…¶ä»–éš”ç¦»çº§åˆ«å¯èƒ½ä¹Ÿéœ€è¦ç”¨åˆ°é”æœºåˆ¶ï¼Œå°±æ¯”å¦‚ REPEATABLE-READ åœ¨å½“å‰è¯»æƒ…å†µä¸‹éœ€è¦ä½¿ç”¨åŠ é”è¯»æ¥ä¿è¯ä¸ä¼šå‡ºç°å¹»è¯»ã€‚&lt;/p&gt;
&lt;h4 id=&#34;mysqlinnodbçš„é»˜è®¤éš”ç¦»çº§åˆ«æ˜¯-repeatable-readå¯é‡è¯»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysqlinnodbçš„é»˜è®¤éš”ç¦»çº§åˆ«æ˜¯-repeatable-readå¯é‡è¯»&#34;&gt;#&lt;/a&gt; MySQLï¼ˆInnoDBï¼‰çš„é»˜è®¤éš”ç¦»çº§åˆ«æ˜¯ REPEATABLE-READï¼ˆå¯é‡è¯»ï¼‰&lt;/h4&gt;
&lt;p&gt;MySQLï¼ˆInnoDBï¼‰é»˜è®¤æ”¯æŒçš„éš”ç¦»çº§åˆ«æ˜¯ &lt;strong&gt;REPEATABLE-READï¼ˆå¯é‡è¯»ï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡ &lt;code&gt;SELECT @@tx_isolation;&lt;/code&gt;  å‘½ä»¤æ¥æŸ¥çœ‹ï¼ŒMySQL 8.0 è¯¥å‘½ä»¤æ”¹ä¸º &lt;code&gt;SELECT @@transaction_isolation;&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;mysql&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; @&lt;span class=&#34;token variable&#34;&gt;@tx_isolation&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;-----------------+&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; @&lt;span class=&#34;token variable&#34;&gt;@tx_isolation&lt;/span&gt;  &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;-----------------+&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;REPEATABLE&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;READ&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;-----------------+&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å…³äº MySQL äº‹åŠ¡éš”ç¦»çº§åˆ«çš„è¯¦ç»†ä»‹ç»ï¼Œå¯ä»¥çœ‹çœ‹æˆ‘å†™çš„è¿™ç¯‡æ–‡ç« ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qYXZhZ3VpZGUuY24vZGF0YWJhc2UvbXlzcWwvdHJhbnNhY3Rpb24taXNvbGF0aW9uLWxldmVsLmh0bWw=&#34;&gt;MySQL äº‹åŠ¡éš”ç¦»çº§åˆ«è¯¦è§£&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;mysql-äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸ä¸€è‡´æ€§é—®é¢˜çš„æ¼”ç¤º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysql-äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸ä¸€è‡´æ€§é—®é¢˜çš„æ¼”ç¤º&#34;&gt;#&lt;/a&gt; MySQL äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸ä¸€è‡´æ€§é—®é¢˜çš„æ¼”ç¤º&lt;/h4&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/2019-31-1%25E8%2584%258F%25E8%25AF%25BB(%25E8%25AF%25BB%25E6%259C%25AA%25E6%258F%2590%25E4%25BA%25A4)%25E5%25AE%259E%25E4%25BE%258B.jpg&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;è„è¯»ï¼ˆè¯»æœªæäº¤ï¼‰&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/2019-31-2%25E8%25AF%25BB%25E5%25B7%25B2%25E6%258F%2590%25E4%25BA%25A4%25E5%25AE%259E%25E4%25BE%258B.jpg&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;é¿å…è„è¯»ï¼ˆè¯»å·²æäº¤ï¼‰&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/2019-32-1%25E4%25B8%258D%25E5%258F%25AF%25E9%2587%258D%25E5%25A4%258D%25E8%25AF%25BB%25E5%25AE%259E%25E4%25BE%258B.jpg&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ä¸å¯é‡å¤è¯»ï¼ˆè¯»å·²æäº¤ï¼‰&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/2019-33-2%25E5%258F%25AF%25E9%2587%258D%25E5%25A4%258D%25E8%25AF%25BB.jpg&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å¯é‡å¤è¯»&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/phantom_read.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å¹»è¯»&lt;/center&gt;
&lt;p&gt;SQL è„šæœ¬ 1 åœ¨ç¬¬ä¸€æ¬¡æŸ¥è¯¢å·¥èµ„ä¸º 500 çš„è®°å½•æ—¶åªæœ‰ä¸€æ¡ï¼ŒSQL è„šæœ¬ 2 æ’å…¥äº†ä¸€æ¡å·¥èµ„ä¸º 500 çš„è®°å½•ï¼Œæäº¤ä¹‹åï¼›SQL è„šæœ¬ 1 åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­å†æ¬¡ä½¿ç”¨å½“å‰è¯»æŸ¥è¯¢å‘ç°å‡ºç°äº†ä¸¤æ¡å·¥èµ„ä¸º 500 çš„è®°å½•è¿™ç§å°±æ˜¯å¹»è¯»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¹»è¯»çš„è§£å†³æ–¹æ³•ï¼šæ ¸å¿ƒæ€æƒ³å°±æ˜¯ä¸€ä¸ªäº‹åŠ¡åœ¨æ“ä½œæŸå¼ è¡¨æ•°æ®çš„æ—¶å€™ï¼Œå¦å¤–ä¸€ä¸ªäº‹åŠ¡ä¸å…è®¸æ–°å¢æˆ–è€…åˆ é™¤è¿™å¼ è¡¨ä¸­çš„æ•°æ®äº†&lt;/font&gt;ã€‚è§£å†³å¹»è¯»çš„æ–¹å¼ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å°†äº‹åŠ¡éš”ç¦»çº§åˆ«è°ƒæ•´ä¸º  &lt;code&gt;SERIALIZABLE&lt;/code&gt;  ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨å¯é‡å¤è¯»çš„äº‹åŠ¡çº§åˆ«ä¸‹ï¼Œç»™äº‹åŠ¡æ“ä½œçš„è¿™å¼ è¡¨æ·»åŠ &lt;font color=&#39;red&#39;&gt;è¡¨é”&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨å¯é‡å¤è¯»çš„äº‹åŠ¡çº§åˆ«ä¸‹ï¼Œç»™äº‹åŠ¡æ“ä½œçš„è¿™å¼ è¡¨æ·»åŠ   &lt;code&gt;Next-key Lockï¼ˆRecord Lock+Gap Lockï¼‰&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;mysqlé”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysqlé”&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸMySQL é”&lt;/mark&gt;&lt;/h3&gt;
&lt;h4 id=&#34;æ¦‚è¿°-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¦‚è¿°-2&#34;&gt;#&lt;/a&gt; æ¦‚è¿°&lt;/h4&gt;
&lt;p&gt;åœ¨æ•°æ®åº“ä¸­ï¼Œæ•°æ®æ˜¯ä¸€ç§ä¾›è®¸å¤šç”¨æˆ·å…±äº«çš„èµ„æºï¼Œå¿…é¡»ä¿è¯æ•°æ®å¹¶å‘è®¿é—®çš„ä¸€è‡´æ€§ã€æœ‰æ•ˆæ€§ã€‚&lt;/p&gt;
&lt;p&gt;MySQL ä¸­çš„é”ï¼ŒæŒ‰ç…§é”çš„ç²’åº¦åˆ†ï¼Œåˆ†ä¸ºä»¥ä¸‹ä¸‰ç±»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å…¨å±€é”&lt;/font&gt;ï¼šé”å®š&lt;font color=&#39;red&#39;&gt;æ•´ä¸ªæ•°æ®åº“&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;è¡¨çº§é”&lt;/font&gt;ï¼šæ¯æ¬¡æ“ä½œé”ä½&lt;font color=&#39;red&#39;&gt;æ•´å¼ è¡¨&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¡¨é”ï¼š&lt;/li&gt;
&lt;li&gt;å…ƒæ•°æ®é”ï¼ˆmeta data lockï¼ŒMDLï¼‰ï¼šåŠ é”è¿‡ç¨‹æ˜¯ç³»ç»Ÿè‡ªåŠ¨æ§åˆ¶çš„&lt;/li&gt;
&lt;li&gt;æ„å‘é”ï¼šä¸ä¸è¡Œçº§é”å†²çªï¼Œç”± InnoDB è‡ªåŠ¨æ·»åŠ ï¼Œæ— éœ€ç”¨æˆ·å¹²é¢„ã€‚
&lt;ul&gt;
&lt;li&gt;æ„å‘å…±äº«é”ï¼ˆISï¼‰&lt;/li&gt;
&lt;li&gt;æ„å‘æ’ä»–é”ï¼ˆIXï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;è¡Œçº§é”&lt;/font&gt;ï¼šæ¯æ¬¡æ“ä½œé”ä½å¯¹åº”çš„&lt;font color=&#39;red&#39;&gt;è¡Œæ•°æ®&lt;/font&gt;ï¼Œå…¶&lt;font color=&#39;red&#39;&gt;å®ç°ä¾èµ–äºç´¢å¼•&lt;/font&gt;ï¼Œè€Œä¸æ˜¯è®°å½•ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¡Œé” / è®°å½•é”ï¼ˆRecord Lockï¼‰ï¼šå­˜åœ¨äºåŒ…æ‹¬ä¸»é”®ç´¢å¼•åœ¨å†…çš„å”¯ä¸€ç´¢å¼•ä¸­ï¼Œé”å®š&lt;font color=&#39;red&#39;&gt;å•æ¡ç´¢å¼•è®°å½•&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;é—´éš™é”ï¼ˆGap Lockï¼‰ï¼šå­˜åœ¨äºéå”¯ä¸€ç´¢å¼•ä¸­ï¼Œé”å®š&lt;font color=&#39;red&#39;&gt;å¼€åŒºé—´&lt;/font&gt;èŒƒå›´å†…çš„ä¸€æ®µé—´éš”&lt;/li&gt;
&lt;li&gt;ä¸´é”®é”ï¼ˆNext-Key Lockï¼‰ï¼šå­˜åœ¨äºéå”¯ä¸€ç´¢å¼•ä¸­ï¼Œé”å®š&lt;font color=&#39;red&#39;&gt;å·¦å¼€å³é—­&lt;/font&gt;çš„ç´¢å¼•åŒºé—´&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å…¨å±€é”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å…¨å±€é”&#34;&gt;#&lt;/a&gt; å…¨å±€é”&lt;/h4&gt;
&lt;h5 id=&#34;ä»‹ç»-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»‹ç»-2&#34;&gt;#&lt;/a&gt; ä»‹ç»&lt;/h5&gt;
&lt;p&gt;å…¨å±€é”å°±æ˜¯&lt;font color=&#39;red&#39;&gt;å¯¹æ•´ä¸ªæ•°æ®åº“å®ä¾‹åŠ é”ï¼ŒåŠ é”åæ•´ä¸ªå®ä¾‹å°±å¤„äºåªè¯»çŠ¶æ€ï¼Œåç»­çš„ DML çš„å†™è¯­å¥ï¼ŒDDL è¯­å¥ï¼Œå·²ç»æ›´æ–°æ“ä½œçš„äº‹åŠ¡æäº¤è¯­å¥éƒ½å°†è¢«é˜»å¡&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å…¸å‹çš„ä½¿ç”¨åœºæ™¯æ˜¯åš&lt;font color=&#39;red&#39;&gt;å…¨åº“çš„é€»è¾‘å¤‡ä»½&lt;/font&gt;ï¼Œå¯¹æ‰€æœ‰çš„è¡¨è¿›è¡Œé”å®šï¼Œä»è€Œè·å–ä¸€è‡´æ€§è§†å›¾ï¼Œä¿è¯æ•°æ®çš„å®Œæ•´æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119154827391.png&#34; alt=&#34;image-20231119154827391&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ä¸åŠ MySQLå…¨å±€é”ä¼šå¯¼è‡´å¤‡ä»½æ•°æ®çš„ä¸ä¸€è‡´&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119154907407.png&#34; alt=&#34;image-20231119154907407&#34; /&gt;&lt;/p&gt;
&lt;center&gt;åŠ äº†MySQLå…¨å±€é”ååªèƒ½æ‰§è¡ŒDQLè¯­å¥ï¼Œæ•°æ®åº“å¤„äºåªè¯»çŠ¶æ€ï¼Œä¿è¯äº†æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§&lt;/center&gt;
&lt;h5 id=&#34;è¯­æ³•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¯­æ³•&#34;&gt;#&lt;/a&gt; è¯­æ³•&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æ·»åŠ å…¨å±€é”ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;flush &lt;span class=&#34;token keyword&#34;&gt;tables&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;read&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;lock&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ•°æ®å¤‡ä»½ï¼ˆé€€å‡º mysqlï¼Œåœ¨ Windows çš„ cmd çª—å£ä¸­æ‰§è¡Œï¼‰ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;mysqldump &lt;span class=&#34;token parameter variable&#34;&gt;-uroot&lt;/span&gt; â€“p1234 itcast &lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; itcast.sql &lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é‡Šæ”¾é”ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;unlock&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;tables&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119155453030.png&#34; alt=&#34;image-20231119155453030&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;ç‰¹ç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç‰¹ç‚¹&#34;&gt;#&lt;/a&gt; ç‰¹ç‚¹&lt;/h5&gt;
&lt;p&gt;æ•°æ®åº“ä¸­åŠ å…¨å±€é”ï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒé‡çš„æ“ä½œï¼Œå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœåœ¨&lt;font color=&#39;gree&#39;&gt;ä¸»åº“&lt;/font&gt;ä¸Šå¤‡ä»½ï¼Œé‚£ä¹ˆ&lt;font color=&#39;red&#39;&gt;åœ¨å¤‡ä»½æœŸé—´éƒ½ä¸èƒ½æ‰§è¡Œæ›´æ–°ï¼Œä¸šåŠ¡åŸºæœ¬ä¸Šå°±å¾—åœæ‘†&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœåœ¨&lt;font color=&#39;gree&#39;&gt;ä»åº“&lt;/font&gt;ä¸Šå¤‡ä»½ï¼Œé‚£ä¹ˆ&lt;font color=&#39;red&#39;&gt;åœ¨å¤‡ä»½æœŸé—´ä»åº“ä¸èƒ½æ‰§è¡Œä¸»åº“åŒæ­¥è¿‡æ¥çš„äºŒè¿›åˆ¶æ—¥å¿—ï¼ˆbinlogï¼‰ï¼Œä¼šå¯¼è‡´ä¸»ä»å»¶è¿Ÿ&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œåœ¨ InnoDB å¼•æ“ä¸­å¯ä»¥åœ¨å¤‡ä»½æ—¶åŠ ä¸Šå‚æ•°  &lt;code&gt;--single-transaction&lt;/code&gt;  å‚æ•°æ¥å®Œæˆ **&lt;font color=&#39;#B32015&#39;&gt;ä¸åŠ é”çš„ä¸€è‡´æ€§æ•°æ®å¤‡ä»½&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å¿«ç…§è¯»&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;mysqldump --single-transaction &lt;span class=&#34;token parameter variable&#34;&gt;-uroot&lt;/span&gt; â€“p123456 itcast &lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; itcast.sql&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;è¡¨çº§é”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¡¨çº§é”&#34;&gt;#&lt;/a&gt; è¡¨çº§é”&lt;/h4&gt;
&lt;h5 id=&#34;ä»‹ç»-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»‹ç»-3&#34;&gt;#&lt;/a&gt; ä»‹ç»&lt;/h5&gt;
&lt;p&gt;è¡¨çº§é”ï¼Œå³é”ä½æ•´å¼ è¡¨ï¼ŒMyISAMã€InnoDBã€BDB ç­‰å­˜å‚¨å¼•æ“éƒ½æ”¯æŒï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸‰ç±»ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ¯ç±»è¡¨çº§é”ï¼Œéƒ½åˆ†ä¸º&lt;font color=&#39;cyan&#39;&gt;å…±äº«é”ï¼ˆS é” / è¯»é”ï¼‰&lt;/font&gt;å’Œ&lt;font color=&#39;cyan&#39;&gt;æ’ä»–é”ï¼ˆX é” / å†™é”ï¼‰&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;è¡¨é”&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å…ƒæ•°æ®é”&lt;/font&gt;ï¼ˆmeta data lockï¼ŒMDLï¼‰&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æ„å‘é”&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è¡¨é”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¡¨é”&#34;&gt;#&lt;/a&gt; è¡¨é”&lt;/h5&gt;
&lt;p&gt;å¯¹äºè¡¨é”ï¼Œåˆ†ä¸ºä¸¤ç±»ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç»“è®º:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¯»é”ä¸ä¼šé˜»å¡å…¶ä»–å®¢æˆ·ç«¯çš„è¯»ï¼Œä½†æ˜¯ä¼šé˜»å¡å†™ã€‚&lt;/li&gt;
&lt;li&gt;å†™é”æ—¢ä¼šé˜»å¡å…¶ä»–å®¢æˆ·ç«¯çš„è¯»ï¼Œåˆä¼šé˜»å¡å…¶ä»–å®¢æˆ·ç«¯çš„å†™ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cyan&#39;&gt;è¡¨é”å…±äº«é”ï¼ˆSharedï¼‰&lt;/font&gt;ï¼šåˆç§°&lt;font color=&#39;red&#39;&gt;è¯»é”&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119161818290.png&#34; alt=&#34;image-20231119161818290&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å·¦ä¾§ä¸ºå®¢æˆ·ç«¯ä¸€ï¼Œå¯¹æŒ‡å®šè¡¨åŠ äº†è¯»é”ï¼Œåªèƒ½è¯»ä¸èƒ½å†™ã€‚&lt;font color=&#39;red&#39;&gt;ä¸ä¼šå½±å“å³ä¾§å®¢æˆ·ç«¯äºŒçš„è¯»ï¼Œä½†æ˜¯ä¼šé˜»å¡å³ä¾§å®¢æˆ·ç«¯çš„å†™&lt;/font&gt;&lt;/font&gt;ã€‚&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119161947749.png&#34; alt=&#34;image-20231119161947749&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cyan&#39;&gt;è¡¨é”æ’ä»–é”ï¼ˆeXclusiveï¼‰&lt;/font&gt;ï¼šåˆç§°&lt;font color=&#39;red&#39;&gt;å†™é”&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119162023867.png&#34; alt=&#34;image-20231119162023867&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å·¦ä¾§ä¸ºå®¢æˆ·ç«¯ä¸€ï¼Œå¯¹æŒ‡å®šè¡¨åŠ äº†å†™é”ï¼Œå¯ä»¥è¯»å’Œå†™ã€‚&lt;font color=&#39;red&#39;&gt;ä½†æ˜¯ä¼šé˜»å¡å³ä¾§å®¢æˆ·ç«¯çš„è¯»å’Œå†™&lt;/font&gt;ã€‚&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119162246255.png&#34; alt=&#34;image-20231119162246255&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¯­æ³•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åŠ é”ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;lock&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;tables&lt;/span&gt; è¡¨å&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;read&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;write&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é‡Šæ”¾é”ï¼šå®¢æˆ·ç«¯æ–­å¼€è¿æ¥ï¼Œæˆ–è€…&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;unlock&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;tables&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å…ƒæ•°æ®é”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å…ƒæ•°æ®é”&#34;&gt;#&lt;/a&gt; å…ƒæ•°æ®é”&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;å…¨ç§°ä¸º meta data lockï¼Œç®€å†™ MDLï¼Œè¿™é‡Œçš„å…ƒæ•°æ®ï¼Œå¤§å®¶å¯ä»¥ç®€å•ç†è§£ä¸ºå°±æ˜¯ä¸€å¼ è¡¨çš„è¡¨ç»“æ„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;MDL åŠ é”è¿‡ç¨‹æ˜¯ç³»ç»Ÿè‡ªåŠ¨æ§åˆ¶çš„&lt;/font&gt;&lt;/strong&gt;ï¼Œæ— éœ€æ˜¾å¼ä½¿ç”¨ï¼Œåœ¨è®¿é—®ä¸€å¼ è¡¨çš„æ—¶å€™ä¼šè‡ªåŠ¨åŠ ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;MDL é”&lt;font color=&#39;red&#39;&gt;ä¸»è¦ä½œç”¨æ˜¯ç»´æŠ¤è¡¨å…ƒæ•°æ®çš„æ•°æ®ä¸€è‡´æ€§ï¼Œåœ¨è¡¨ä¸Šæœ‰æ´»åŠ¨äº‹åŠ¡çš„æ—¶å€™ï¼Œä¸å¯ä»¥å¯¹å…ƒæ•°æ®è¿›è¡Œå†™å…¥æ“ä½œ&lt;/font&gt;ã€‚&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;ä¸ºäº†é¿å… DML ä¸ DDL å†²çªï¼Œä¿è¯è¯»å†™çš„æ­£ç¡®æ€§&lt;/font&gt;&lt;/strong&gt;ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŸä¸€å¼ è¡¨æ¶‰åŠåˆ°æœªæäº¤çš„äº‹åŠ¡æ—¶ï¼Œæ˜¯ä¸èƒ½å¤Ÿä¿®æ”¹è¿™å¼ è¡¨çš„è¡¨ç»“æ„çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ MySQL5.5 ä¸­å¼•å…¥äº† MDLï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å½“å¯¹ä¸€å¼ è¡¨çš„æ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥ï¼ˆDMLã€DQLï¼‰çš„æ—¶å€™ï¼ŒåŠ &lt;font color=&#39;cyan&#39;&gt; MDL å…±äº«é”&lt;/font&gt;&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å½“å¯¹è¡¨ç»“æ„è¿›è¡Œå˜æ›´æ“ä½œï¼ˆDDLï¼‰çš„æ—¶å€™ï¼ŒåŠ &lt;font color=&#39;cyan&#39;&gt; MDL æ’ä»–é”&lt;/font&gt;&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼Œå¯¹äºå¸¸è§çš„ SQL æ“ä½œï¼Œæ‰€æ·»åŠ çš„ MDL é”ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119172457594.png&#34; alt=&#34;image-20231119172457594&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;æ„å‘é”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ„å‘é”&#34;&gt;#&lt;/a&gt; æ„å‘é”&lt;/h5&gt;
&lt;h6 id=&#34;ä»‹ç»-4&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»‹ç»-4&#34;&gt;#&lt;/a&gt; ä»‹ç»&lt;/h6&gt;
&lt;p&gt;ä¸ºäº†é¿å… DML åœ¨æ‰§è¡Œæ—¶ï¼ŒåŠ çš„è¡Œé”ä¸è¡¨é”çš„å†²çªï¼Œåœ¨ InnoDB ä¸­å¼•å…¥äº†æ„å‘é”ï¼Œ&lt;font color=&#39;red&#39;&gt;ä½¿å¾—è¡¨é”ä¸ç”¨æ£€æŸ¥æ¯è¡Œæ•°æ®æ˜¯å¦åŠ é”&lt;/font&gt;ï¼Œå‡å°‘è¡¨é”çš„æ£€æŸ¥ã€‚&lt;/p&gt;
&lt;p&gt;æ„å‘é”çš„å·¥ä½œæœºåˆ¶å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®¢æˆ·ç«¯åœ¨&lt;font color=&#39;red&#39;&gt;æ‰§è¡Œ DML æ—¶ï¼Œä¼šå¯¹æ¶‰åŠçš„è®°å½•åŠ è¡Œé”ï¼ŒåŒæ—¶å¯¹è¯¥è¡¨åŠ ä¸Š&lt;u&gt;æ„å‘é”&lt;/u&gt;&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;å…¶ä»–å®¢æˆ·ç«¯åœ¨å°è¯•å¯¹è¯¥è¡¨åŠ è¡¨é”æ—¶ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¼šæ ¹æ®è¯¥è¡¨ä¸Šæ‰€åŠ çš„&lt;u&gt;æ„å‘é”&lt;/u&gt;æ¥åˆ¤å®šæ˜¯å¦å¯ä»¥æˆåŠŸåŠ è¡¨é”ï¼Œè€Œä¸ç”¨é€è¡Œåˆ¤æ–­è¡Œé”æƒ…å†µäº†&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h6 id=&#34;åˆ†ç±»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†ç±»&#34;&gt;#&lt;/a&gt; åˆ†ç±»&lt;/h6&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æ„å‘é”ä¹‹é—´ä¸ä¼šäº’æ–¥ã€‚å¹¶ä¸”ä¸€æ—¦äº‹åŠ¡æäº¤äº†ï¼Œæ„å‘é”å°±è‡ªåŠ¨é‡Šæ”¾äº†&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cyan&#39;&gt;æ„å‘å…±äº«é” (IS)&lt;/font&gt;: ç”±è¯­å¥ &lt;code&gt;select ... lock in share mode&lt;/code&gt;  æ·»åŠ ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸è¡¨é”å…±äº«é” (read) å…¼å®¹ï¼Œä¸è¡¨é”æ’ä»–é” (write) äº’æ–¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cyan&#39;&gt;æ„å‘æ’ä»–é” (IX)&lt;/font&gt;: ç”± &lt;code&gt;insert&lt;/code&gt; ã€ &lt;code&gt;update&lt;/code&gt; ã€ &lt;code&gt;delete&lt;/code&gt; ã€ &lt;code&gt;select...for update&lt;/code&gt;  æ·»åŠ ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸è¡¨é”å…±äº«é” (read) åŠè¡¨é”æ’ä»–é” (write) éƒ½äº’æ–¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;æ¼”ç¤º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¼”ç¤º&#34;&gt;#&lt;/a&gt; æ¼”ç¤º&lt;/h6&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡ä»¥ä¸‹ SQLï¼ŒæŸ¥çœ‹æ„å‘é”åŠè¡Œé”çš„åŠ é”æƒ…å†µï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; object_schema&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;object_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;index_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;lock_type&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;lock_mode&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;lock_data &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;performance_schema&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;data_locks&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119185250184.png&#34; alt=&#34;image-20231119185250184&#34; /&gt;&lt;/p&gt;
&lt;center&gt;æ„å‘å…±äº«é”ä¸è¡¨é”å…±äº«é”(read)æ˜¯å…¼å®¹çš„&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119185354166.png&#34; alt=&#34;image-20231119185354166&#34; /&gt;&lt;/p&gt;
&lt;center&gt;æ„å‘æ’ä»–é”ä¸è¡¨é”å…±äº«é”(read)ã€è¡¨é”æ’ä»–é”(write)éƒ½æ˜¯äº’æ–¥çš„&lt;/center&gt;
&lt;h4 id=&#34;è¡Œçº§é”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¡Œçº§é”&#34;&gt;#&lt;/a&gt; è¡Œçº§é”&lt;/h4&gt;
&lt;h5 id=&#34;ä»‹ç»-5&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»‹ç»-5&#34;&gt;#&lt;/a&gt; ä»‹ç»&lt;/h5&gt;
&lt;p&gt;è¡Œçº§é”ï¼Œæ¯æ¬¡æ“ä½œ&lt;font color=&#39;red&#39;&gt;é”ä½å¯¹åº”çš„è¡Œæ•°æ®&lt;/font&gt;ã€‚é”å®šç²’åº¦æœ€å°ï¼Œ&lt;font color=&#39;red&#39;&gt;å‘ç”Ÿé”å†²çªçš„æ¦‚ç‡æœ€ä½ï¼Œå¹¶å‘åº¦æœ€é«˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;åªæœ‰ InnoDB å­˜å‚¨å¼•æ“æ”¯æŒè¡Œçº§é”&lt;/font&gt;&lt;/strong&gt;ã€‚InnoDB çš„æ•°æ®æ˜¯åŸºäºç´¢å¼•ç»„ç»‡çš„ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è¡Œé”æ˜¯é€šè¿‡å¯¹ç´¢å¼•ä¸Šçš„ç´¢å¼•é¡¹åŠ é”æ¥å®ç°çš„ï¼Œè€Œä¸æ˜¯å¯¹è®°å½•åŠ çš„é”&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºè¡Œçº§é”ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸‰ç±»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;è¡Œé”ï¼ˆRecord Lockï¼‰&lt;/font&gt;ï¼šä¹Ÿç§°è®°å½•é”ï¼Œ&lt;font color=&#39;red&#39;&gt;é”å®šå•ä¸ªè¡Œè®°å½•&lt;/font&gt;ï¼Œé˜²æ­¢å…¶ä»–äº‹åŠ¡å¯¹æ­¤è¡Œè¿›è¡Œ &lt;code&gt;update&lt;/code&gt;  å’Œ &lt;code&gt;delete&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ RCã€RR éš”ç¦»çº§åˆ«ä¸‹éƒ½æ”¯æŒã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸è¡¨çº§é”ç±»ä¼¼ï¼Œè¡Œé”ä¹Ÿåˆ†ä¸º&lt;font color=&#39;cyan&#39;&gt;å…±äº«é”ï¼ˆS é” / è¯»é”ï¼‰&lt;/font&gt;å’Œ&lt;font color=&#39;cyan&#39;&gt;æ’ä»–é”ï¼ˆX é” / å†™é”ï¼‰&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119190445520.png&#34; alt=&#34;image-20231119190445520&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cyan&#39;&gt;è¡Œé”å…±äº«é”ï¼ˆSï¼‰&lt;/font&gt;ï¼šå…è®¸ä¸€ä¸ªäº‹åŠ¡å»è¯»ä¸€è¡Œï¼Œé˜»æ­¢å…¶ä»–äº‹åŠ¡è·å¾—ç›¸åŒæ•°æ®é›†çš„æ’å®ƒé”ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cyan&#39;&gt;è¡Œé”æ’ä»–é”ï¼ˆXï¼‰&lt;/font&gt;ï¼šå…è®¸è·å–æ’ä»–é”çš„äº‹åŠ¡æ›´æ–°æ•°æ®ï¼Œé˜»æ­¢å…¶ä»–äº‹åŠ¡è·å¾—ç›¸åŒæ•°æ®é›†çš„å…±äº«é”å’Œæ’ä»–é”ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸¤ç§è¡Œé”çš„å…¼å®¹æƒ…å†µå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119192050128.png&#34; alt=&#34;image-20231119192050128&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºå¸¸è§çš„ SQL è¯­å¥ï¼Œåœ¨æ‰§è¡Œæ—¶ï¼Œæ‰€åŠ çš„è¡Œé”å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119192231878.png&#34; alt=&#34;image-20231119192231878&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;é—´éš™é”ï¼ˆGap Lockï¼‰&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;é”å®šç´¢å¼•è®°å½•çš„é—´éš™ï¼ˆä¸å«è®°å½•ï¼‰&lt;/font&gt;ï¼Œç¡®ä¿ç´¢å¼•è®°å½•é—´éš™ä¸å˜ï¼Œ&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;é˜²æ­¢å…¶ä»–äº‹åŠ¡åœ¨è¿™ä¸ªé—´éš™è¿›è¡Œ &lt;code&gt;insert&lt;/code&gt; ï¼Œäº§ç”Ÿå¹»è¯»&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ RR éš”ç¦»çº§åˆ«ä¸‹æ”¯æŒã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119191003502.png&#34; alt=&#34;image-20231119191003502&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ä¸´é”®é”ï¼ˆNext-Key Lockï¼‰&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;è¡Œé”å’Œé—´éš™é”ç»„åˆï¼Œé”ä½è®°å½•çš„åŒæ—¶ä¹Ÿé”ä½æ•°æ®å‰é¢çš„æ‰€æœ‰é—´éš™&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ RR éš”ç¦»çº§åˆ«ä¸‹æ”¯æŒã€‚è¿˜è®°å¾—åœ¨ MySQL äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ä¸­æåˆ°çš„ä¸‹è¡¨å—ï¼Ÿå½“æ—¶ä¹‹æ‰€ä»¥è¯´&lt;strong&gt; InnoDB å¼•æ“ä¸­çš„ RR éš”ç¦»çº§åˆ«å¯ä»¥é¿å…å¹»è¯»ç°è±¡&lt;/strong&gt;ï¼Œå°±æ˜¯å› ä¸º InnoDB å¼•æ“æ”¯æŒè¡Œçº§é”ä¸­çš„ä¸´é”®é”ï¼ˆnext-keyï¼‰ï¼&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119190721496.png&#34; alt=&#34;image-20231119190721496&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119191537038.png&#34; alt=&#34;image-20231119191537038&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è¡Œé”æ¼”ç¤º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¡Œé”æ¼”ç¤º&#34;&gt;#&lt;/a&gt; è¡Œé”æ¼”ç¤º&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;é’ˆå¯¹å”¯ä¸€ç´¢å¼•è¿›è¡Œæ£€ç´¢æ—¶ï¼Œå¯¹å·²å­˜åœ¨çš„è®°å½•è¿›è¡Œç­‰å€¼åŒ¹é…æ—¶ï¼Œå°†ä¼šè‡ªåŠ¨å°†ä¸´é”®é”ï¼ˆnext-keyï¼‰&lt;font color=&#39;red&#39;&gt;ä¼˜åŒ–ä¸ºè¡Œé”&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;InnoDB çš„è¡Œé”æ˜¯é’ˆå¯¹äºç´¢å¼•åŠ çš„é”ï¼Œä¸é€šè¿‡ç´¢å¼•æ¡ä»¶æ£€ç´¢æ•°æ®ï¼Œé‚£ä¹ˆ InnoDB å°†å¯¹è¡¨ä¸­çš„æ‰€æœ‰è®°å½•åŠ é”ï¼Œæ­¤æ—¶å°±ä¼š&lt;font color=&#39;red&#39;&gt;å‡çº§ä¸ºè¡¨é”&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡ä»¥ä¸‹ SQLï¼ŒæŸ¥çœ‹æ„å‘é”åŠè¡Œé”çš„åŠ é”æƒ…å†µï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; object_schema&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;object_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;index_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;lock_type&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;lock_mode&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;lock_data &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;performance_schema&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;data_locks&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119193115917.png&#34; alt=&#34;image-20231119193115917&#34; /&gt;&lt;/p&gt;
&lt;center&gt;æ™®é€šçš„selectè¯­å¥ï¼Œæ‰§è¡Œæ—¶ï¼Œä¸ä¼šåŠ é”ã€‚&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119193133442.png&#34; alt=&#34;image-20231119193133442&#34; /&gt;&lt;/p&gt;
&lt;center&gt;select...lock in share modeï¼ŒåŠ å…±äº«é”ï¼Œå…±äº«é”ä¸å…±äº«é”ä¹‹é—´å…¼å®¹ã€‚&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119193207569.png&#34; alt=&#34;image-20231119193207569&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å…±äº«é”ä¸æ’ä»–é”ä¹‹é—´äº’æ–¥ã€‚&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119193242470.png&#34; alt=&#34;image-20231119193242470&#34; /&gt;&lt;/p&gt;
&lt;center&gt;æ’ä»–é”ä¹‹é—´äº’æ–¥&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119193535207.png&#34; alt=&#34;image-20231119193535207&#34; /&gt;&lt;/p&gt;
&lt;center&gt;æ ¹æ®nameå­—æ®µè¿›è¡Œæ›´æ–°æ—¶ï¼Œç”±äºnameå­—æ®µæ˜¯æ²¡æœ‰ç´¢å¼•çš„ï¼Œæ­¤æ—¶è¡Œé”ä¼šå‡çº§ä¸ºè¡¨é”ï¼ˆå› ä¸ºè¡Œé”æ˜¯å¯¹ç´¢å¼•é¡¹åŠ çš„é”ï¼‰&lt;/center&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119193708274.png&#34; alt=&#34;image-20231119193708274&#34; /&gt;&lt;/p&gt;
&lt;center&gt;&lt;font color=&#39;red&#39;&gt;å¯¹nameå­—æ®µåˆ›å»ºç´¢å¼•ï¼Œå†å¯¹å…¶è¿›è¡Œæ›´æ–°ï¼Œå¯ä»¥é¿å…è¡Œé”å‡çº§ä¸ºè¡¨é”&lt;/font&gt;&lt;/center&gt;
&lt;h5 id=&#34;é—´éš™é”ä¸´é”®é”æ¼”ç¤º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é—´éš™é”ä¸´é”®é”æ¼”ç¤º&#34;&gt;#&lt;/a&gt; é—´éš™é” &amp;amp; ä¸´é”®é”æ¼”ç¤º&lt;/h5&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼ŒInnoDB çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸º &lt;font color=&#39;red&#39;&gt;REPEATABLE-READï¼ˆå¯é‡å¤è¯»ï¼‰&lt;/font&gt;ï¼ŒInnoDB ä½¿ç”¨ &lt;font color=&#39;cornflowerblue&#39;&gt;ä¸´é”®é”ï¼ˆnext-keyï¼‰&lt;/font&gt;è¿›è¡Œæœç´¢å’Œç´¢å¼•æ‰«æï¼Œä»¥é˜²å‡ºç°å¹»è¯»ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç´¢å¼•ä¸Šçš„ç­‰å€¼æŸ¥è¯¢ï¼ˆå”¯ä¸€ç´¢å¼•ï¼‰ï¼Œç»™ä¸å­˜åœ¨çš„è®°å½•åŠ é”æ—¶ï¼Œä¼˜åŒ–ä¸ºé—´éš™é”&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119195154766.png&#34; alt=&#34;image-20231119195154766&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç´¢å¼•ä¸Šçš„ç­‰å€¼æŸ¥è¯¢ï¼ˆéå”¯ä¸€çš„æ™®é€šç´¢å¼•ï¼‰ï¼Œå‘å³éå†æ—¶æœ€åä¸€ä¸ªå€¼ä¸æ»¡è¶³æŸ¥è¯¢éœ€æ±‚æ—¶ï¼Œä¸´é”®é”ï¼ˆnext-keyï¼‰é€€åŒ–ä¸ºé—´éš™é”&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119195335874.png&#34; alt=&#34;image-20231119195335874&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç´¢å¼•ä¸Šçš„èŒƒå›´æŸ¥è¯¢ (å”¯ä¸€ç´¢å¼•)-- ä¼šè®¿é—®åˆ°ä¸æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªå€¼ä¸ºæ­¢&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119195724781.png&#34; alt=&#34;image-20231119195724781&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;é—´éš™é”å”¯ä¸€ç›®çš„æ˜¯é˜²æ­¢å…¶ä»–äº‹åŠ¡æ’å…¥é—´éš™&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é—´éš™é”å¯ä»¥å…±å­˜&lt;/strong&gt;ï¼Œä¸€ä¸ªäº‹åŠ¡é‡‡ç”¨çš„é—´éš™é”ä¸ä¼šé˜»æ­¢å¦ä¸€ä¸ªäº‹åŠ¡åœ¨åŒä¸€é—´éš™ä¸Šé‡‡ç”¨é—´éš™é”ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;æ€»ç»“-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ€»ç»“-3&#34;&gt;#&lt;/a&gt; æ€»ç»“&lt;/h4&gt;
&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119200231781.png&#34; alt=&#34;image-20231119200231781&#34; style=&#34;zoom: 67%;&#34; /&gt;
&lt;h4 id=&#34;é¢è¯•é¢˜-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•é¢˜-2&#34;&gt;#&lt;/a&gt; é¢è¯•é¢˜&lt;/h4&gt;
&lt;p&gt;é”æ˜¯ä¸€ç§å¸¸è§çš„å¹¶å‘äº‹åŠ¡çš„æ§åˆ¶æ–¹å¼ã€‚&lt;/p&gt;
&lt;h5 id=&#34;è¡¨çº§é”å’Œè¡Œçº§é”äº†è§£å—æœ‰ä»€ä¹ˆåŒºåˆ«&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¡¨çº§é”å’Œè¡Œçº§é”äº†è§£å—æœ‰ä»€ä¹ˆåŒºåˆ«&#34;&gt;#&lt;/a&gt; è¡¨çº§é”å’Œè¡Œçº§é”äº†è§£å—ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/h5&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;MyISAM ä»…ä»…æ”¯æŒè¡¨çº§é”&lt;/font&gt;ï¼Œåœ¨å¹¶å‘å†™çš„æƒ…å†µä¸‹æ€§èƒ½éå¸¸å·®ã€‚&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;InnoDB ä¸ä»…æ”¯æŒè¡¨çº§é”ï¼Œè¿˜æ”¯æŒè¡Œçº§é”&lt;/font&gt;&lt;/strong&gt;ï¼Œé»˜è®¤ä¸ºè¡Œçº§é”ã€‚&lt;/p&gt;
&lt;p&gt;è¡Œçº§é”çš„ç²’åº¦æ›´å°ï¼Œä»…å¯¹ç›¸å…³çš„è®°å½•ä¸Šé”å³å¯ï¼ˆä¸€è¡Œæˆ–è€…å¤šè¡Œè®°å½•ï¼‰ï¼Œæ‰€ä»¥å¯¹äºå¹¶å‘å†™æ“ä½œæ¥è¯´ï¼ŒInnoDB çš„æ€§èƒ½æ›´é«˜ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¡¨çº§é”ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ˜¯ **&lt;font color=&#39;red&#39;&gt;é’ˆå¯¹éç´¢å¼•å­—æ®µ&lt;/font&gt;** åŠ çš„é”ï¼Œå¯¹å½“å‰æ“ä½œçš„æ•´å¼ è¡¨åŠ é”&lt;/li&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼š&lt;font color=&#39;red&#39;&gt;åŠ é”å¿«ï¼Œèµ„æºæ¶ˆè€—ä¹Ÿæ¯”è¾ƒå°‘ï¼Œä¸ä¼šå‡ºç°æ­»é”&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼š&lt;font color=&#39;red&#39;&gt;è§¦å‘é”å†²çªçš„æ¦‚ç‡æœ€é«˜ï¼Œé«˜å¹¶å‘ä¸‹æ•ˆç‡æä½&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;MyISAM å’Œ InnoDB å¼•æ“éƒ½æ”¯æŒè¡¨çº§é”&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¡Œçº§é”ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MySQL ä¸­é”å®šç²’åº¦æœ€å°çš„ä¸€ç§é”ï¼Œæ˜¯ **&lt;font color=&#39;#B32015&#39;&gt;é’ˆå¯¹ç´¢å¼•å­—æ®µ&lt;/font&gt;** åŠ çš„é”ï¼Œåªé’ˆå¯¹å½“å‰æ“ä½œçš„è¡Œè®°å½•è¿›è¡ŒåŠ é”ã€‚&lt;/li&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼š&lt;font color=&#39;red&#39;&gt;èƒ½å¤§å¤§å‡å°‘æ•°æ®åº“æ“ä½œçš„é”å†²çª&lt;/font&gt;ã€‚å…¶åŠ é”ç²’åº¦æœ€å°ï¼Œ&lt;font color=&#39;red&#39;&gt;å¹¶å‘åº¦é«˜&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼š&lt;font color=&#39;red&#39;&gt;åŠ é”æ…¢ï¼ŒåŠ é”çš„å¼€é”€å¤§ï¼Œä¼šå‡ºç°æ­»é”&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;è¡Œçº§é”å’Œå­˜å‚¨å¼•æ“æœ‰å…³ï¼Œä»…æœ‰ InnoDB å¼•æ“æ”¯æŒè¡Œçº§é”&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è¡Œçº§é”çš„ä½¿ç”¨æœ‰ä»€ä¹ˆæ³¨æ„äº‹é¡¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¡Œçº§é”çš„ä½¿ç”¨æœ‰ä»€ä¹ˆæ³¨æ„äº‹é¡¹&#34;&gt;#&lt;/a&gt; è¡Œçº§é”çš„ä½¿ç”¨æœ‰ä»€ä¹ˆæ³¨æ„äº‹é¡¹ï¼Ÿ&lt;/h5&gt;
&lt;p&gt;InnoDB çš„è¡Œé”æ˜¯é’ˆå¯¹ç´¢å¼•å­—æ®µåŠ çš„é”ï¼Œè¡¨çº§é”æ˜¯é’ˆå¯¹éç´¢å¼•å­—æ®µåŠ çš„é”ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;è¡Œçº§é”é€€åŒ–æˆè¡¨çº§é”&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;å½“æˆ‘ä»¬æ‰§è¡Œ  &lt;code&gt;UPDATE&lt;/code&gt; ã€ &lt;code&gt;DELETE&lt;/code&gt;  è¯­å¥æ—¶ï¼Œå¦‚æœ  &lt;code&gt;WHERE&lt;/code&gt;  æ¡ä»¶ä¸­å­—æ®µæ²¡æœ‰å‘½ä¸­å”¯ä¸€ç´¢å¼•æˆ–è€…ç´¢å¼•å¤±æ•ˆçš„è¯ï¼Œå°±ä¼šå¯¼è‡´æ‰«æå…¨è¡¨å¯¹è¡¨ä¸­çš„æ‰€æœ‰è¡Œè®°å½•è¿›è¡ŒåŠ é”&lt;/font&gt;ã€‚è¿™ä¸ªåœ¨æˆ‘ä»¬æ—¥å¸¸å·¥ä½œå¼€å‘ä¸­ç»å¸¸ä¼šé‡åˆ°ï¼Œä¸€å®šè¦å¤šå¤šæ³¨æ„ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œå¾ˆå¤šæ—¶å€™&lt;font color=&#39;red&#39;&gt;å³ä½¿ç”¨äº†ç´¢å¼•ä¹Ÿæœ‰å¯èƒ½ä¼šèµ°å…¨è¡¨æ‰«æï¼Œè¿™æ˜¯å› ä¸º MySQL ä¼˜åŒ–å™¨çš„åŸå› ï¼Œå®ƒè®¤ä¸ºå…¨è¡¨æ‰«æçš„æ•ˆç‡æ¯”ä½¿ç”¨ç´¢å¼•æ›´é«˜&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;innodb-æœ‰å“ªå‡ ç±»è¡Œçº§é”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#innodb-æœ‰å“ªå‡ ç±»è¡Œçº§é”&#34;&gt;#&lt;/a&gt; InnoDB æœ‰å“ªå‡ ç±»è¡Œçº§é”ï¼Ÿ&lt;/h5&gt;
&lt;p&gt;InnoDB è¡Œçº§é”æ˜¯é€šè¿‡å¯¹ç´¢å¼•æ•°æ®é¡µä¸Šçš„&lt;font color=&#39;red&#39;&gt;ç´¢å¼•é¡¹&lt;/font&gt;åŠ é”å®ç°çš„ï¼ŒMySQL InnoDB æ”¯æŒä¸‰ç§è¡Œé”å®šæ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;è®°å½•é”ï¼ˆRecord Lockï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šä¹Ÿè¢«ç§°ä¸ºè¡Œé”ï¼Œé”çš„æ˜¯å·²ç»å­˜åœ¨çš„å•ä¸ªè¡Œè®°å½•ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;é—´éš™é”ï¼ˆGap Lockï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šé”å®šä¸€ä¸ªèŒƒå›´ï¼Œä¸åŒ…æ‹¬è®°å½•æœ¬èº«ã€‚&lt;font color=&#39;red&#39;&gt;ä¸ºäº†é¿å…æ’å…¥æ–°è®°å½•&lt;/font&gt;ï¼Œéœ€è¦ä¾èµ–é—´éš™é”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;ä¸´é”®é”ï¼ˆNext-Key Lockï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šå¯ä»¥ç†è§£ä¸º&lt;font color=&#39;red&#39;&gt;è¡Œé” + é—´éš™é”&lt;/font&gt; çš„ç»„åˆï¼Œé”å®šä¸€ä¸ªè¡Œè®°å½•ï¼ŒåŠå…¶ä¹‹å‰çš„æ‰€æœ‰é—´éš™èŒƒå›´ã€‚ä¸»è¦ç›®çš„æ˜¯ **&lt;font color=&#39;red&#39;&gt;ä¸ºäº†è§£å†³å¹»è¯»é—®é¢˜&lt;/font&gt;**ï¼ˆMySQL äº‹åŠ¡éƒ¨åˆ†æåˆ°è¿‡ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;åœ¨ InnoDB é»˜è®¤çš„éš”ç¦»çº§åˆ« REPEATABLE-READï¼ˆå¯é‡å¤è¯»ï¼‰ä¸‹ï¼Œè¡Œçº§é”é»˜è®¤ä½¿ç”¨çš„æ˜¯&lt;u&gt;ä¸´é”®é”ï¼ˆNext-Keyï¼‰&lt;/u&gt;ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œå¦‚æœæ“ä½œçš„ç´¢å¼•æ˜¯å”¯ä¸€ç´¢å¼•æˆ–ä¸»é”®ï¼ŒInnoDB ä¼šå°†ä¸´é”®é”ï¼ˆNext-Keyï¼‰é™çº§ä¸º&lt;u&gt;è®°å½•é”ï¼ˆRecord Lockï¼‰&lt;/u&gt;ï¼Œå³ä»…é”ä½ç´¢å¼•æœ¬èº«ï¼Œè€Œä¸æ˜¯èŒƒå›´ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;å…±äº«é”å’Œæ’ä»–é”å‘¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å…±äº«é”å’Œæ’ä»–é”å‘¢&#34;&gt;#&lt;/a&gt; å…±äº«é”å’Œæ’ä»–é”å‘¢ï¼Ÿ&lt;/h5&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ä¸è®ºæ˜¯è¡¨çº§é”è¿˜æ˜¯è¡Œçº§é”&lt;/font&gt;ï¼Œéƒ½å­˜åœ¨å…±äº«é”ï¼ˆShare Lockï¼ŒS é”ï¼‰å’Œæ’ä»–é”ï¼ˆeXclusive Lockï¼ŒX é”ï¼‰è¿™ä¸¤ç±»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å…±äº«é”ï¼ˆS é”ï¼‰&lt;/strong&gt;ï¼šåˆç§°&lt;font color=&#39;red&#39;&gt;è¯»é”&lt;/font&gt;ï¼Œäº‹åŠ¡åœ¨è¯»å–è®°å½•çš„æ—¶å€™è·å–å…±äº«é”ï¼Œå…è®¸å¤šä¸ªäº‹åŠ¡åŒæ—¶è·å–ï¼ˆé”å…¼å®¹ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ’ä»–é”ï¼ˆX é”ï¼‰&lt;/strong&gt;ï¼šåˆç§°&lt;font color=&#39;red&#39;&gt;å†™é” / ç‹¬å é”&lt;/font&gt;ï¼Œäº‹åŠ¡åœ¨ä¿®æ”¹è®°å½•çš„æ—¶å€™è·å–æ’ä»–é”ï¼Œä¸å…è®¸å¤šä¸ªäº‹åŠ¡åŒæ—¶è·å–ã€‚å¦‚æœä¸€ä¸ªè®°å½•å·²ç»è¢«åŠ äº†æ’ä»–é”ï¼Œé‚£å…¶ä»–äº‹åŠ¡ä¸èƒ½å†å¯¹è¿™æ¡äº‹åŠ¡åŠ ä»»ä½•ç±»å‹çš„é”ï¼ˆé”ä¸å…¼å®¹ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æ’ä»–é”ä¸ä»»ä½•çš„é”éƒ½ä¸å…¼å®¹ï¼Œå…±äº«é”ä»…å’Œå…±äº«é”å…¼å®¹&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;S é”&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;X é”&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;S é”&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;font color=&#39;red&#39;&gt;ä¸å†²çª&lt;/font&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å†²çª&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;X é”&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å†²çª&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å†²çª&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ç”±äº MVCCï¼ˆå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼‰çš„å­˜åœ¨ï¼Œå¯¹äºä¸€èˆ¬çš„  &lt;code&gt;SELECT&lt;/code&gt;  è¯­å¥ï¼ŒInnoDB ä¸ä¼šåŠ ä»»ä½•é”&lt;/font&gt;ã€‚ä¸è¿‡ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹è¯­å¥&lt;font color=&#39;red&#39;&gt;æ˜¾å¼åœ°åŠ å…±äº«é”æˆ–æ’ä»–é”&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…±äº«é”ï¼ˆMySQL 5.7 å’Œ MySQL 8.0ï¼‰ï¼š &lt;code&gt;SELECT ... LOCK IN SHARE MODE;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å…±äº«é”ï¼ˆMySQL 8.0ï¼‰ï¼š &lt;code&gt;SELECT ... FOR SHARE;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ’ä»–é”ï¼š &lt;code&gt;SELECT ... FOR UPDATE;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ„å‘é”æœ‰ä»€ä¹ˆä½œç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ„å‘é”æœ‰ä»€ä¹ˆä½œç”¨&#34;&gt;#&lt;/a&gt; æ„å‘é”æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ&lt;/h5&gt;
&lt;p&gt;æ„å‘é”æ˜¯ä¸€ç§è¡¨çº§é”ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ä½œç”¨æ˜¯å¿«é€Ÿåˆ¤æ–­æ˜¯å¦å¯ä»¥å¯¹æŸä¸ªè¡¨ä½¿ç”¨è¡¨é”ï¼Œè€Œä¸ç”¨é€è¡Œæ£€æŸ¥æ˜¯å¦æœ‰è¡Œçº§é”&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æ„å‘é”ä¹‹é—´ä¸ä¼šäº’æ–¥ã€‚å¹¶ä¸”ä¸€æ—¦äº‹åŠ¡æäº¤äº†ï¼Œæ„å‘é”å°±è‡ªåŠ¨é‡Šæ”¾äº†&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cyan&#39;&gt;æ„å‘å…±äº«é” (IS é”)&lt;/font&gt;: äº‹åŠ¡æœ‰æ„å‘å¯¹è¡¨ä¸­çš„æŸäº›è®°å½•åŠ å…±äº«é”ï¼ˆS é”ï¼‰ï¼ŒåŠ å…±äº«é”å‰å¿…é¡»å…ˆå–å¾—è¯¥è¡¨çš„ IS é”ã€‚ç”±è¯­å¥ &lt;code&gt;select ... lock in share mode&lt;/code&gt;  æ·»åŠ ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸è¡¨é”å…±äº«é” (read) å…¼å®¹ï¼Œä¸è¡¨é”æ’ä»–é” (write) äº’æ–¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cyan&#39;&gt;æ„å‘æ’ä»–é” (IX é”)&lt;/font&gt;: äº‹åŠ¡æœ‰æ„å‘å¯¹è¡¨ä¸­çš„æŸäº›è®°å½•åŠ æ’ä»–é”ï¼ˆX é”ï¼‰ï¼ŒåŠ æ’ä»–é”ä¹‹å‰å¿…é¡»å…ˆå–å¾—è¯¥è¡¨çš„ IX é”ã€‚ç”± &lt;code&gt;insert&lt;/code&gt; ã€ &lt;code&gt;update&lt;/code&gt; ã€ &lt;code&gt;delete&lt;/code&gt; ã€ &lt;code&gt;select...for update&lt;/code&gt;  æ·»åŠ ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸è¡¨é”å…±äº«é” (read) åŠè¡¨é”æ’ä»–é” (write) éƒ½äº’æ–¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æ„å‘é”æ˜¯ç”±å­˜å‚¨å¼•æ“è‡ªå·±ç»´æŠ¤çš„ï¼Œç”¨æˆ·æ— æ³•æ‰‹åŠ¨æ“ä½œæ„å‘é”ã€‚&lt;font color=&#39;red&#39;&gt;åœ¨ä¸ºæ•°æ®è¡ŒåŠ å…±äº«é” / æ’ä»–é”ä¹‹å‰ï¼ŒInooDB ä¼šå…ˆè·å–è¯¥æ•°æ®è¡Œæ‰€åœ¨æ•°æ®è¡¨çš„å¯¹åº”æ„å‘é”&lt;/font&gt;ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æ„å‘é”ä¹‹é—´æ˜¯äº’ç›¸å…¼å®¹çš„&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;IS é”&lt;/th&gt;
&lt;th&gt;IX é”&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;IS é”&lt;/td&gt;
&lt;td&gt;å…¼å®¹&lt;/td&gt;
&lt;td&gt;å…¼å®¹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;IX é”&lt;/td&gt;
&lt;td&gt;å…¼å®¹&lt;/td&gt;
&lt;td&gt;å…¼å®¹&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æ„å‘é”ä¸è¡¨çº§åˆ«çš„å…±äº«é”å’Œæ’å®ƒé”çš„äº’æ–¥æƒ…å†µå¦‚ä¸‹ï¼š&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ„å‘é”ä¸ä¼šä¸è¡Œçº§åˆ«çš„å…±äº«é”å’Œæ’ä»–é”äº’æ–¥&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;IS é”&lt;/th&gt;
&lt;th&gt;IX é”&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;S é”&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;å…¼å®¹&lt;/font&gt;&lt;/td&gt;
&lt;td&gt;äº’æ–¥&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;X é”&lt;/td&gt;
&lt;td&gt;äº’æ–¥&lt;/td&gt;
&lt;td&gt;äº’æ–¥&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5 id=&#34;å¿«ç…§è¯»å’Œå½“å‰è¯»æœ‰ä»€ä¹ˆåŒºåˆ«&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¿«ç…§è¯»å’Œå½“å‰è¯»æœ‰ä»€ä¹ˆåŒºåˆ«&#34;&gt;#&lt;/a&gt; å¿«ç…§è¯»å’Œå½“å‰è¯»æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;å¿«ç…§è¯»&lt;/font&gt;&lt;/strong&gt;ï¼ˆ&lt;font color=&#39;red&#39;&gt;ä¸€è‡´æ€§&lt;u&gt;éé”å®šè¯»&lt;/u&gt;&lt;/font&gt;ï¼‰å°±æ˜¯&lt;font color=&#39;red&#39;&gt;ç®€å•çš„  &lt;code&gt;SELECT&lt;/code&gt;  è¯­å¥&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¿«ç…§å³è®°å½•çš„å†å²ç‰ˆæœ¬&lt;/font&gt;ï¼Œæ¯è¡Œè®°å½•å¯èƒ½å­˜åœ¨å¤šä¸ªå†å²ç‰ˆæœ¬ï¼ˆå¤šç‰ˆæœ¬æŠ€æœ¯ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¿«ç…§è¯»çš„æƒ…å†µä¸‹ï¼Œå¦‚æœè¯»å–çš„è®°å½•æ­£åœ¨æ‰§è¡Œ UPDATE/DELETE æ“ä½œï¼Œ&lt;font color=&#39;red&#39;&gt;è¯»å–æ“ä½œä¸ä¼šå› æ­¤å»ç­‰å¾…è®°å½•ä¸Š X é”çš„é‡Šæ”¾ï¼Œè€Œæ˜¯ä¼šå»è¯»å–è¡Œçš„ä¸€ä¸ªå¿«ç…§&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åªæœ‰åœ¨äº‹åŠ¡éš”ç¦»çº§åˆ« RC (è¯»å–å·²æäº¤) å’Œ RRï¼ˆå¯é‡è¯»ï¼‰ä¸‹ï¼ŒInnoDB æ‰ä¼šä½¿ç”¨å¿«ç…§è¯»ï¼ˆä¸€è‡´æ€§éé”å®šè¯»ï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;åœ¨ RC çº§åˆ«ä¸‹&lt;/font&gt;ï¼Œå¯¹äºå¿«ç…§æ•°æ®ï¼Œä¸€è‡´æ€§éé”å®šè¯»æ€»æ˜¯&lt;font color=&#39;red&#39;&gt;è¯»å–è¢«é”å®šè¡Œçš„æœ€æ–°ä¸€ä»½å¿«ç…§æ•°æ®&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;gree&#39;&gt;åœ¨ RR çº§åˆ«ä¸‹&lt;/font&gt;ï¼Œå¯¹äºå¿«ç…§æ•°æ®ï¼Œä¸€è‡´æ€§éé”å®šè¯»æ€»æ˜¯ **&lt;font color=&#39;red&#39;&gt;è¯»å–æœ¬äº‹åŠ¡å¼€å§‹æ—¶çš„è¡Œæ•°æ®ç‰ˆæœ¬&lt;/font&gt;**ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¿«ç…§è¯»æ¯”è¾ƒ&lt;font color=&#39;red&#39;&gt;é€‚åˆå¯¹æ•°æ®ä¸€è‡´æ€§è¦æ±‚ä¸æ˜¯ç‰¹åˆ«é«˜ï¼Œä¸”è¿½æ±‚æè‡´æ€§èƒ½çš„ä¸šåŠ¡åœºæ™¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;å½“å‰è¯»&lt;/font&gt;&lt;/strong&gt;ï¼ˆ&lt;font color=&#39;red&#39;&gt;ä¸€è‡´æ€§&lt;u&gt;é”å®šè¯»&lt;/u&gt;&lt;/font&gt;ï¼‰å°±æ˜¯&lt;font color=&#39;red&#39;&gt;ç»™è¡Œè®°å½•åŠ  X é”æˆ– S é”&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å½“å‰è¯»çš„ä¸€äº›å¸¸è§ SQL è¯­å¥ç±»å‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å¯¹è¯»çš„è®°å½•åŠ ä¸€ä¸ª X é”&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;FOR&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;UPDATE&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å¯¹è¯»çš„è®°å½•åŠ ä¸€ä¸ª S é”ï¼ˆMySQL 5.7 å’Œ MySQL 8.0ï¼‰&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;LOCK&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;IN&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;SHARE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;MODE&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å¯¹è¯»çš„è®°å½•åŠ ä¸€ä¸ª S é”ï¼ˆMySQL 8.0ï¼‰&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;FOR&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;SHARE&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å¯¹ä¿®æ”¹çš„è®°å½•åŠ ä¸€ä¸ª X é”&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;INSERT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;UPDATE&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;DELETE&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&#34;mysqlæ€§èƒ½ä¼˜åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysqlæ€§èƒ½ä¼˜åŒ–&#34;&gt;#&lt;/a&gt; MySQL æ€§èƒ½ä¼˜åŒ–&lt;/h3&gt;
&lt;h4 id=&#34;èƒ½ç”¨-mysql-ç›´æ¥å­˜å‚¨æ–‡ä»¶æ¯”å¦‚å›¾ç‰‡å—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#èƒ½ç”¨-mysql-ç›´æ¥å­˜å‚¨æ–‡ä»¶æ¯”å¦‚å›¾ç‰‡å—&#34;&gt;#&lt;/a&gt; èƒ½ç”¨ MySQL ç›´æ¥å­˜å‚¨æ–‡ä»¶ï¼ˆæ¯”å¦‚å›¾ç‰‡ï¼‰å—ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;è™½ç„¶å¯ä»¥ç›´æ¥å°†æ–‡ä»¶å¯¹åº”çš„äºŒè¿›åˆ¶æ•°æ®å­˜å‚¨åˆ° MySQL ä¸­ï¼Œä¸è¿‡è¿˜æ˜¯å»ºè®®ä¸è¦åœ¨æ•°æ®åº“ä¸­å­˜å‚¨æ–‡ä»¶ã€‚å› ä¸ºä¼š&lt;font color=&#39;red&#39;&gt;ä¸¥é‡å½±å“æ•°æ®åº“æ€§èƒ½ï¼Œæ¶ˆè€—è¿‡å¤šå­˜å‚¨ç©ºé—´&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥é€‰æ‹©ä½¿ç”¨äº‘æœåŠ¡å‚å•†æä¾›çš„å¼€ç®±å³ç”¨çš„ **&lt;font color=&#39;#B32015&#39;&gt;æ–‡ä»¶å­˜å‚¨æœåŠ¡&lt;/font&gt;**ï¼Œæˆç†Ÿç¨³å®šï¼Œä»·æ ¼ä¹Ÿæ¯”è¾ƒä½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/oss-search.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥é€‰æ‹©&lt;font color=&#39;red&#39;&gt;è‡ªå»ºæ–‡ä»¶å­˜å‚¨æœåŠ¡&lt;/font&gt;ï¼Œå®ç°èµ·æ¥ä¹Ÿä¸éš¾ï¼ŒåŸºäº FastDFSã€MinIOï¼ˆæ¨èï¼‰ ç­‰å¼€æºé¡¹ç›®å°±å¯ä»¥å®ç°åˆ†å¸ƒå¼æ–‡ä»¶æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æ•°æ®åº“åªå­˜å‚¨æ–‡ä»¶åœ°å€ä¿¡æ¯ï¼Œæ–‡ä»¶æœ¬èº«ç”±æ–‡ä»¶å­˜å‚¨æœåŠ¡è´Ÿè´£å­˜å‚¨ã€‚&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç›¸å…³é˜…è¯»ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuNTFjdG8uY29tL2FydGljbGUvNzE2OTc4Lmh0bWw=&#34;&gt;Spring Boot æ•´åˆ MinIO å®ç°åˆ†å¸ƒå¼æ–‡ä»¶æœåŠ¡&lt;/span&gt; ã€‚&lt;/p&gt;
&lt;h4 id=&#34;mysql-å¦‚ä½•å­˜å‚¨-ip-åœ°å€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysql-å¦‚ä½•å­˜å‚¨-ip-åœ°å€&#34;&gt;#&lt;/a&gt; MySQL å¦‚ä½•å­˜å‚¨ IP åœ°å€ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;å¯ä»¥å°† IP åœ°å€ **&lt;font color=&#39;red&#39;&gt;è½¬æ¢æˆæ•´å½¢æ•°æ®å­˜å‚¨&lt;/font&gt;**ï¼Œæ€§èƒ½æ›´å¥½ï¼Œå ç”¨ç©ºé—´ä¹Ÿæ›´å°ã€‚&lt;/p&gt;
&lt;p&gt;MySQL æä¾›äº†ä¸¤ä¸ªï¼ˆäº’é€†çš„ï¼‰æ–¹æ³•æ¥å¤„ç† ip åœ°å€ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;INET_ATON()&lt;/code&gt; ï¼šæŠŠ ip è½¬ä¸ºæ— ç¬¦å·æ•´å‹ï¼ˆ4-8 ä½ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;INET_NTOA()&lt;/code&gt; ï¼šæŠŠæ•´å‹çš„ ip è½¬ä¸ºåœ°å€&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ’å…¥æ•°æ®å‰ï¼Œå…ˆç”¨  &lt;code&gt;INET_ATON()&lt;/code&gt;  æŠŠ ip åœ°å€è½¬ä¸ºæ•´å‹ã€‚æ˜¾ç¤ºæ•°æ®æ—¶ï¼Œä½¿ç”¨  &lt;code&gt;INET_NTOA()&lt;/code&gt;  æŠŠæ•´å‹çš„ ip åœ°å€è½¬ä¸ºåœ°å€æ˜¾ç¤ºå³å¯ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å¸¸è§çš„-sql-ä¼˜åŒ–æ‰‹æ®µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¸¸è§çš„-sql-ä¼˜åŒ–æ‰‹æ®µ&#34;&gt;#&lt;/a&gt; å¸¸è§çš„ SQL ä¼˜åŒ–æ‰‹æ®µ&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;æŒ‡è·¯â†’&lt;a href=&#34;#==SQL%E4%BC%98%E5%8C%96==&#34;&gt;SQL ä¼˜åŒ–&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/javamianshizhibei-sql-optimization.png&#34; alt=&#34;å¸¸è§çš„ SQL ä¼˜åŒ–æ‰‹æ®µ&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;å¦‚ä½•åˆ†æ-sql-çš„æ€§èƒ½&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•åˆ†æ-sql-çš„æ€§èƒ½&#34;&gt;#&lt;/a&gt; å¦‚ä½•åˆ†æ SQL çš„æ€§èƒ½ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;å¯ä»¥ä½¿ç”¨  &lt;code&gt;EXPLAIN&lt;/code&gt;  å‘½ä»¤æ¥åˆ†æ SQL çš„ &lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æ‰§è¡Œè®¡åˆ’&lt;/font&gt;&lt;/strong&gt; ã€‚æ‰§è¡Œè®¡åˆ’æ˜¯æŒ‡ä¸€æ¡ SQL è¯­å¥åœ¨ç»è¿‡ MySQL æŸ¥è¯¢ä¼˜åŒ–å™¨çš„ä¼˜åŒ–åçš„å…·ä½“çš„æ‰§è¡Œæ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;EXPLAIN&lt;/code&gt;  å¹¶ä¸ä¼šçœŸçš„å»æ‰§è¡Œç›¸å…³çš„è¯­å¥ï¼Œè€Œæ˜¯é€šè¿‡ &lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æŸ¥è¯¢ä¼˜åŒ–å™¨&lt;/font&gt;&lt;/strong&gt; å¯¹è¯­å¥è¿›è¡Œåˆ†æï¼Œæ‰¾å‡ºæœ€ä¼˜çš„æŸ¥è¯¢æ–¹æ¡ˆï¼Œå¹¶æ˜¾ç¤ºå¯¹åº”çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æŒ‡è·¯â†’[åˆ©ç”¨ EXPLAIN å‘½ä»¤åˆ†æ SQL æ˜¯å¦èµ°ç´¢å¼•æŸ¥è¯¢](# åˆ©ç”¨ EXPLAIN å‘½ä»¤åˆ†æ SQL æ˜¯å¦èµ°ç´¢å¼•æŸ¥è¯¢)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;è¯»å†™åˆ†ç¦»-åˆ†åº“åˆ†è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¯»å†™åˆ†ç¦»-åˆ†åº“åˆ†è¡¨&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸè¯»å†™åˆ†ç¦»ã€åˆ†åº“åˆ†è¡¨&lt;/mark&gt;&lt;/h4&gt;
&lt;h5 id=&#34;è¯»å†™åˆ†ç¦»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¯»å†™åˆ†ç¦»&#34;&gt;#&lt;/a&gt; è¯»å†™åˆ†ç¦»&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;è§£å†³çš„é—®é¢˜ï¼š&lt;font color=&#39;red&#39;&gt;æ•°æ®åº“è¯»å¹¶å‘&lt;/font&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6 id=&#34;ä»€ä¹ˆæ˜¯è¯»å†™åˆ†ç¦»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»€ä¹ˆæ˜¯è¯»å†™åˆ†ç¦»&#34;&gt;#&lt;/a&gt; ä»€ä¹ˆæ˜¯è¯»å†™åˆ†ç¦»ï¼Ÿ&lt;/h6&gt;
&lt;p&gt;è§åæ€æ„ï¼Œæ ¹æ®è¯»å†™åˆ†ç¦»çš„åå­—ï¼Œæˆ‘ä»¬å°±å¯ä»¥çŸ¥é“ï¼šè¯»å†™åˆ†ç¦»ä¸»è¦æ˜¯ä¸ºäº† **&lt;font color=&#39;#B32015&#39;&gt;å°†å¯¹æ•°æ®åº“çš„è¯»å†™æ“ä½œåˆ†æ•£åˆ°ä¸åŒçš„æ•°æ®åº“èŠ‚ç‚¹ä¸Šã€‚&lt;/font&gt;** è¿™æ ·çš„è¯ï¼Œå°±èƒ½å¤Ÿ&lt;font color=&#39;red&#39;&gt;å°å¹…æå‡å†™æ€§èƒ½ï¼Œå¤§å¹…æå‡è¯»æ€§èƒ½&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ç®€å•ç”»äº†ä¸€å¼ å›¾æ¥å¸®åŠ©ä¸å¤ªæ¸…æ¥šè¯»å†™åˆ†ç¦»çš„å°ä¼™ä¼´ç†è§£ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/read-and-write-separation.png&#34; alt=&#34;è¯»å†™åˆ†ç¦»ç¤ºæ„å›¾&#34; /&gt;&lt;/p&gt;
&lt;center&gt;è¯»å†™åˆ†ç¦»ç¤ºæ„å›¾&lt;/center&gt;
&lt;p&gt;ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½ä¼šé€‰æ‹© **&lt;font color=&#39;#B32015&#39;&gt;ä¸€ä¸»å¤šä»&lt;/font&gt;**ï¼Œä¹Ÿå°±æ˜¯&lt;font color=&#39;red&#39;&gt;ä¸€å°ä¸»æ•°æ®åº“è´Ÿè´£å†™ï¼Œå…¶ä»–çš„ä»æ•°æ®åº“è´Ÿè´£è¯»&lt;/font&gt;ã€‚&lt;font color=&#39;red&#39;&gt;ä¸»åº“å’Œä»åº“ä¹‹é—´ä¼šè¿›è¡Œæ•°æ®å®æ—¶åŒæ­¥ï¼ˆ&lt;strong&gt;ä¸»ä»å¤åˆ¶&lt;/strong&gt;ï¼‰ï¼Œä»¥ä¿è¯ä»åº“ä¸­æ•°æ®çš„å‡†ç¡®æ€§&lt;/font&gt;ã€‚è¿™æ ·çš„æ¶æ„å®ç°èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œå¹¶ä¸”ä¹Ÿç¬¦åˆç³»ç»Ÿçš„&lt;font color=&#39;red&#39;&gt;å†™å°‘è¯»å¤š&lt;/font&gt;çš„ç‰¹ç‚¹ã€‚&lt;/p&gt;
&lt;h6 id=&#34;å¦‚ä½•å®ç°è¯»å†™åˆ†ç¦»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•å®ç°è¯»å†™åˆ†ç¦»&#34;&gt;#&lt;/a&gt; å¦‚ä½•å®ç°è¯»å†™åˆ†ç¦»ï¼Ÿ&lt;/h6&gt;
&lt;p&gt;ä¸è®ºæ˜¯ä½¿ç”¨å“ªä¸€ç§è¯»å†™åˆ†ç¦»å…·ä½“çš„å®ç°æ–¹æ¡ˆï¼Œæƒ³è¦å®ç°è¯»å†™åˆ†ç¦»ä¸€èˆ¬åŒ…å«å¦‚ä¸‹å‡ æ­¥ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;éƒ¨ç½²å¤šå°æ•°æ®åº“ï¼Œé€‰æ‹©å…¶ä¸­çš„ä¸€å°ä½œä¸ºä¸»æ•°æ®åº“ï¼Œå…¶ä»–çš„ä¸€å°æˆ–è€…å¤šå°ä½œä¸ºä»æ•°æ®åº“ã€‚&lt;/li&gt;
&lt;li&gt;ä¿è¯ä¸»æ•°æ®åº“å’Œä»æ•°æ®åº“ä¹‹é—´çš„æ•°æ®æ˜¯å®æ—¶åŒæ­¥çš„ï¼ˆä¸»ä»å¤åˆ¶ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿå°†å†™è¯·æ±‚äº¤ç»™ä¸»æ•°æ®åº“å¤„ç†ï¼Œè¯»è¯·æ±‚äº¤ç»™ä»æ•°æ®åº“å¤„ç†ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è½å®åˆ°é¡¹ç›®æœ¬èº«çš„è¯ï¼Œå¸¸ç”¨çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ä»£ç†æ–¹å¼&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/read-and-write-separation-proxy.png&#34; alt=&#34;ä»£ç†æ–¹å¼å®ç°è¯»å†™åˆ†ç¦»&#34; /&gt;&lt;/p&gt;
&lt;center&gt;ä»£ç†æ–¹å¼å®ç°è¯»å†™åˆ†ç¦»&lt;/center&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥åœ¨åº”ç”¨å’Œæ•°æ®ä¸­é—´åŠ äº†ä¸€ä¸ª **&lt;font color=&#39;red&#39;&gt;ä»£ç†å±‚&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;p&gt;åº”ç”¨ç¨‹åºæ‰€æœ‰çš„æ•°æ®è¯·æ±‚éƒ½äº¤ç»™ä»£ç†å±‚å¤„ç†ï¼Œ&lt;font color=&#39;red&#39;&gt;ä»£ç†å±‚è´Ÿè´£åˆ†ç¦»è¯»å†™è¯·æ±‚ï¼Œå°†å®ƒä»¬è·¯ç”±åˆ°å¯¹åº”çš„æ•°æ®åº“ä¸­&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æä¾›ç±»ä¼¼åŠŸèƒ½çš„ä¸­é—´ä»¶æœ‰ &lt;strong&gt;MySQL Router&lt;/strong&gt;ï¼ˆå®˜æ–¹ï¼‰ã€&lt;strong&gt;Atlas&lt;/strong&gt;ï¼ˆåŸºäº MySQL Proxyï¼‰ã€&lt;strong&gt;MaxScale&lt;/strong&gt;ã€&lt;strong&gt;MyCat&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;ç¬¬ä¸‰æ–¹ç»„ä»¶æ–¹å¼&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ¨èçš„æ–¹å¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨è¿™ç§æ–¹å¼ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¼•å…¥ç¬¬ä¸‰æ–¹ç»„ä»¶æ¥å¸®åŠ©æˆ‘ä»¬è¯»å†™è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¹Ÿæ˜¯æˆ‘æ¯”è¾ƒ&lt;font color=&#39;red&#39;&gt;æ¨èçš„ä¸€ç§æ–¹å¼&lt;/font&gt;ã€‚è¿™ç§æ–¹å¼ç›®å‰åœ¨å„ç§äº’è”ç½‘å…¬å¸ä¸­ç”¨çš„æœ€å¤šçš„ï¼Œç›¸å…³çš„å®é™…çš„æ¡ˆä¾‹ä¹Ÿéå¸¸å¤šã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ è¦é‡‡ç”¨è¿™ç§æ–¹å¼çš„è¯ï¼Œæ¨èä½¿ç”¨  &lt;code&gt;sharding-jdbc&lt;/code&gt;  ï¼Œç›´æ¥å¼•å…¥ jar åŒ…å³å¯ä½¿ç”¨ï¼Œéå¸¸æ–¹ä¾¿ã€‚åŒæ—¶ï¼Œä¹ŸèŠ‚çœäº†å¾ˆå¤šè¿ç»´çš„æˆæœ¬ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½ å¯ä»¥åœ¨ shardingsphere å®˜æ–¹æ‰¾åˆ° &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9zaGFyZGluZ3NwaGVyZS5hcGFjaGUub3JnL2RvY3VtZW50L2xlZ2FjeS8zLngvZG9jdW1lbnQvY24vbWFudWFsL3NoYXJkaW5nLWpkYmMvdXNhZ2UvcmVhZC13cml0ZS1zcGxpdHRpbmcv&#34;&gt;sharding-jdbc å…³äºè¯»å†™åˆ†ç¦»çš„æ“ä½œ&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h6 id=&#34;ä¸»ä»å¤åˆ¶çš„åŸç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸»ä»å¤åˆ¶çš„åŸç†&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸä¸»ä»å¤åˆ¶çš„åŸç†&lt;/mark&gt;&lt;/h6&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;MySQL  &lt;code&gt;binlog&lt;/code&gt; ï¼ˆäºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶ï¼‰ä¸»è¦è®°å½•äº† MySQL æ•°æ®åº“ä¸­æ•°æ®çš„æ‰€æœ‰å˜åŒ–ï¼ˆæ•°æ®åº“æ‰§è¡Œçš„æ‰€æœ‰ DDL å’Œ DML è¯­å¥ï¼‰&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;binlog ä¸»è¦æœ‰ä¸¤ä¸ªä½œç”¨ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;ä¸»ä»å¤åˆ¶&lt;/font&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;æ•°æ®æ¢å¤&lt;/font&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å› æ­¤ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¯ä»¥æ ¹æ®ä¸»åº“çš„ MySQL binlog æ—¥å¿—å°±èƒ½å¤Ÿå°†ä¸»åº“çš„æ•°æ®åŒæ­¥å¤åˆ¶åˆ°ä»åº“ä¸­&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231129103209731.png&#34; alt=&#34;image-20231129103209731&#34; /&gt;&lt;/p&gt;
&lt;center&gt;MySQLä¸»ä»å¤åˆ¶&lt;/center&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;master å°†æ•°æ®åº“ä¸­æ•°æ®çš„å˜åŒ–å†™å…¥åˆ°  &lt;code&gt;binlog&lt;/code&gt;  ä¸­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;slave è¿æ¥ master&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;slave ä¼šåˆ›å»ºä¸€ä¸ª  &lt;code&gt;I/O çº¿ç¨‹&lt;/code&gt;  å‘ master è¯·æ±‚æ›´æ–°çš„ binlog&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;master ä¼šåˆ›å»ºä¸€ä¸ª  &lt;code&gt;binlog dump çº¿ç¨‹&lt;/code&gt;  æ¥å‘é€ binlogï¼Œç”± slave ä¸­çš„ I/O çº¿ç¨‹è´Ÿè´£æ¥æ”¶&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;slave çš„ I/O çº¿ç¨‹å°†æ¥æ”¶çš„ binlog å†™å…¥åˆ°  &lt;code&gt;relay log&lt;/code&gt; ï¼ˆä¸­ç»§æ—¥å¿—ï¼‰ä¸­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;slave çš„  &lt;code&gt;SQL çº¿ç¨‹&lt;/code&gt;  è¯»å– relay log åŒæ­¥æ•°æ®æœ¬åœ°ï¼ˆä¹Ÿå°±æ˜¯å†æ‰§è¡Œä¸€é SQL ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;æ‰©å±•ï¼šé˜¿é‡Œå¼€æºçš„ä¸€ä¸ªå«åš canal çš„å·¥å…·å¯ä»¥å¸®åŠ©æˆ‘ä»¬åŒæ­¥ MySQL æ•°æ®åˆ°å…¶ä»–æ•°æ®æºï¼ˆä¾‹å¦‚ Elasticsearch/MySQLï¼‰ã€‚å…¶åŸç†å°±æ˜¯æ¨¡æ‹Ÿ MySQL ä¸»ä»å¤åˆ¶çš„è¿‡ç¨‹ï¼Œè§£æ binlog å°†æ•°æ®åŒæ­¥åˆ°å…¶ä»–çš„æ•°æ®æºã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œåƒå’±ä»¬å¸¸ç”¨çš„åˆ†å¸ƒå¼ç¼“å­˜ç»„ä»¶ Redis ä¹Ÿæ˜¯é€šè¿‡ä¸»ä»å¤åˆ¶å®ç°çš„è¯»å†™åˆ†ç¦»ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å°ç»“ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;MySQL ä¸»ä»å¤åˆ¶ä¾èµ–äº binlogã€‚å¦å¤–ï¼Œå¸¸è§çš„ä¸€äº›åŒæ­¥ MySQL æ•°æ®åˆ°å…¶ä»–æ•°æ®æºçš„å·¥å…·ï¼ˆæ¯”å¦‚ canalï¼‰çš„åº•å±‚ä¸€èˆ¬ä¹Ÿæ˜¯ä¾èµ– binlog ã€‚&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h6 id=&#34;å¦‚ä½•é¿å…ä¸»ä»åŒæ­¥å»¶è¿Ÿ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•é¿å…ä¸»ä»åŒæ­¥å»¶è¿Ÿ&#34;&gt;#&lt;/a&gt; å¦‚ä½•é¿å…ä¸»ä»åŒæ­¥å»¶è¿Ÿï¼Ÿ&lt;/h6&gt;
&lt;p&gt;è¯»å†™åˆ†ç¦»å¯¹äºæå‡æ•°æ®åº“çš„å¹¶å‘éå¸¸æœ‰æ•ˆï¼Œä½†ä¹ŸåŒæ—¶å¼•æ¥ä¸€ä¸ªé—®é¢˜ï¼šä¸»åº“å’Œä»åº“çš„æ•°æ®å­˜åœ¨å»¶è¿Ÿï¼Œæ¯”å¦‚ä½ å†™å®Œä¸»åº“ä¹‹åï¼Œä¸»åº“çš„æ•°æ®åŒæ­¥åˆ°ä»åº“æ˜¯éœ€è¦æ—¶é—´çš„ï¼Œè¿™ä¸ªæ—¶é—´å·®å°±å¯¼è‡´äº†ä¸»åº“å’Œä»åº“çš„æ•°æ®ä¸ä¸€è‡´æ€§é—®é¢˜ã€‚è¿™ä¹Ÿå°±æ˜¯æˆ‘ä»¬ç»å¸¸è¯´çš„ **&lt;font color=&#39;#B32015&#39;&gt;ä¸»ä»åŒæ­¥å»¶è¿Ÿ&lt;/font&gt;** ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬çš„ä¸šåŠ¡åœºæ™¯æ— æ³•å®¹å¿ä¸»ä»åŒæ­¥å»¶è¿Ÿçš„è¯ï¼Œåº”è¯¥&lt;u&gt;å¦‚ä½•é¿å…&lt;/u&gt;å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæä¾›ä¸¤ç§æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å¼ºåˆ¶å°†è¯»è¯·æ±‚è·¯ç”±åˆ° master å¤„ç†&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½¿ç”¨æœ€å¤šçš„ä¸€ç§æ–¹å¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ—¢ç„¶ slave çš„æ•°æ®è¿‡æœŸäº†ï¼Œé‚£å°±ç›´æ¥ä» master è¯»å–å‘—ï¼è¿™ç§æ–¹æ¡ˆè™½ç„¶ä¼šå¢åŠ  master çš„å‹åŠ›ï¼Œä½†æ˜¯å®ç°èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œä¹Ÿæ˜¯æˆ‘äº†è§£åˆ°çš„ **&lt;font color=&#39;red&#39;&gt;ä½¿ç”¨æœ€å¤šçš„ä¸€ç§æ–¹å¼&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚  &lt;code&gt;Sharding-JDBC&lt;/code&gt;  å°±æ˜¯é‡‡ç”¨çš„è¿™ç§æ–¹æ¡ˆã€‚é€šè¿‡ä½¿ç”¨ Sharding-JDBC çš„  &lt;code&gt;HintManager&lt;/code&gt;  åˆ†ç‰‡é”®å€¼ç®¡ç†å™¨ï¼Œæˆ‘ä»¬å¯ä»¥å¼ºåˆ¶ä½¿ç”¨ masterã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token class-name&#34;&gt;HintManager&lt;/span&gt; hintManager &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;HintManager&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getInstance&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;hintManager&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;setMasterRouteOnly&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;// ç»§ç»­ JDBC æ“ä½œ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¯¹äºè¿™ç§æ–¹æ¡ˆï¼Œ&lt;font color=&#39;red&#39;&gt;å¯ä»¥å°†é‚£äº›å¿…é¡»è·å–æœ€æ–°æ•°æ®çš„è¯»è¯·æ±‚éƒ½äº¤ç»™ master å¤„ç†&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰&lt;font color=&#39;cornflowerblue&#39;&gt;å»¶è¿Ÿè¯»å–&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ²¡åŠæ³•å®Œå…¨é¿å…ä¸»ä»å»¶è¿Ÿï¼Œåªèƒ½è¯´å¯ä»¥å‡å°‘å‡ºç°å»¶è¿Ÿçš„æ¦‚ç‡è€Œå·²ï¼Œå®é™…é¡¹ç›®ä¸­ä¸€èˆ¬ä¸ä¼šä½¿ç”¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿˜æœ‰ä¸€äº›æœ‹å‹è‚¯å®šä¼šæƒ³æ—¢ç„¶ä¸»ä»åŒæ­¥å­˜åœ¨å»¶è¿Ÿï¼Œé‚£æˆ‘å°±åœ¨å»¶è¿Ÿä¹‹åè¯»å–å•Šï¼Œæ¯”å¦‚ä¸»ä»åŒæ­¥å»¶è¿Ÿ 0.5s, é‚£æˆ‘å°± 1s ä¹‹åå†è¯»å–æ•°æ®ã€‚è¿™æ ·å¤šæ–¹ä¾¿å•Šï¼&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;æ–¹ä¾¿æ˜¯æ–¹ä¾¿ï¼Œä½†æ˜¯ä¹Ÿå¾ˆæ‰¯æ·¡&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œå¦‚æœä½ æ˜¯è¿™æ ·è®¾è®¡ä¸šåŠ¡æµç¨‹å°±ä¼šå¥½å¾ˆå¤šï¼šå¯¹äºä¸€äº›å¯¹æ•°æ®æ¯”è¾ƒæ•æ„Ÿçš„åœºæ™¯ï¼Œ&lt;font color=&#39;red&#39;&gt;å¯ä»¥åœ¨å®Œæˆå†™è¯·æ±‚ä¹‹åï¼Œé¿å…ç«‹å³è¿›è¡Œè¯·æ±‚æ“ä½œ&lt;/font&gt;ã€‚æ¯”å¦‚ä½ æ”¯ä»˜æˆåŠŸä¹‹åï¼Œè·³è½¬åˆ°ä¸€ä¸ªæ”¯ä»˜æˆåŠŸçš„é¡µé¢ï¼Œå½“ä½ ç‚¹å‡»è¿”å›ä¹‹åæ‰è¿”å›è‡ªå·±çš„è´¦æˆ·ã€‚&lt;/p&gt;
&lt;h6 id=&#34;ä¸»ä»åŒæ­¥å»¶è¿Ÿçš„åŸå› å¦‚ä½•å°½é‡å‡å°‘å»¶è¿Ÿ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸»ä»åŒæ­¥å»¶è¿Ÿçš„åŸå› å¦‚ä½•å°½é‡å‡å°‘å»¶è¿Ÿ&#34;&gt;#&lt;/a&gt; ä¸»ä»åŒæ­¥å»¶è¿Ÿçš„åŸå› ï¼Ÿå¦‚ä½•å°½é‡å‡å°‘å»¶è¿Ÿï¼Ÿ&lt;/h6&gt;
&lt;p&gt;MySQL ä¸»ä»åŒæ­¥å»¶è¿ŸæŒ‡çš„æ˜¯&lt;font color=&#39;red&#39;&gt;ä»åº“çš„æ•°æ®è½åäºä¸»åº“çš„æ•°æ®&lt;/font&gt;ã€‚è¿™ç§æƒ…å†µå¯èƒ½æœ‰ä»¥ä¸‹&lt;font color=&#39;gree&#39;&gt;2 ä¸ªåŸå› &lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»åº“ I/O çº¿ç¨‹æ¥æ”¶ binlog çš„é€Ÿåº¦è·Ÿä¸ä¸Šä¸»åº“å†™å…¥ binlog çš„é€Ÿåº¦ï¼Œå¯¼è‡´ä»åº“ relay log çš„æ•°æ®æ»åäºä¸»åº“ binlog çš„æ•°æ®ï¼›&lt;/li&gt;
&lt;li&gt;ä»åº“ SQL çº¿ç¨‹æ‰§è¡Œ relay log çš„é€Ÿåº¦è·Ÿä¸ä¸Šä»åº“ I/O çº¿ç¨‹æ¥æ”¶ binlog çš„é€Ÿåº¦ï¼Œå¯¼è‡´ä»åº“çš„æ•°æ®æ»åäºä»åº“ relay log çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸ä¸»ä»åŒæ­¥æœ‰å…³çš„&lt;font color=&#39;gree&#39;&gt;3 ä¸ªæ—¶é—´ç‚¹&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸»åº“æ‰§è¡Œå®Œä¸€ä¸ªäº‹åŠ¡ï¼Œå†™å…¥ binlogï¼Œå°†è¿™ä¸ªæ—¶åˆ»è®°ä¸º T1ï¼›&lt;/li&gt;
&lt;li&gt;ä»åº“ I/O çº¿ç¨‹æ¥æ”¶åˆ° binlog å¹¶å†™å…¥ relay log çš„æ—¶åˆ»è®°ä¸º T2ï¼›&lt;/li&gt;
&lt;li&gt;ä»åº“ SQL çº¿ç¨‹è¯»å– relay log åŒæ­¥æ•°æ®æœ¬åœ°çš„æ—¶åˆ»è®°ä¸º T3ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231129113009937.png&#34; alt=&#34;image-20231129113009937&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç»“åˆæˆ‘ä»¬ä¸Šé¢è®²åˆ°çš„ä¸»ä»å¤åˆ¶åŸç†ï¼Œå¯ä»¥å¾—å‡º&lt;font color=&#39;gree&#39;&gt;2 ä¸ªç»“è®º&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;T2 å’Œ T1 çš„å·®å€¼åæ˜ äº†&lt;font color=&#39;red&#39;&gt;ä»åº“ I/O çº¿ç¨‹çš„æ€§èƒ½å’Œç½‘ç»œä¼ è¾“çš„æ•ˆç‡&lt;/font&gt;ï¼Œè¿™ä¸ªå·®å€¼è¶Šå°è¯´æ˜ä»åº“ I/O çº¿ç¨‹çš„æ€§èƒ½å’Œç½‘ç»œä¼ è¾“æ•ˆç‡è¶Šé«˜ã€‚&lt;/li&gt;
&lt;li&gt;T3 å’Œ T2 çš„å·®å€¼åæ˜ äº†&lt;font color=&#39;red&#39;&gt;ä»åº“ SQL çº¿ç¨‹æ‰§è¡Œçš„é€Ÿåº¦&lt;/font&gt;ï¼Œè¿™ä¸ªå·®å€¼è¶Šå°ï¼Œè¯´æ˜ä»åº“ SQL çº¿ç¨‹æ‰§è¡Œé€Ÿåº¦è¶Šå¿«ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™é‡Œåˆ—ä¸¾ä¸»ä»åŒæ­¥å»¶è¿Ÿçš„&lt;font color=&#39;gree&#39;&gt;å‡ ç§å¸¸è§æƒ…å†µ&lt;/font&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä»åº“æœºå™¨æ€§èƒ½æ¯”ä¸»åº“å·®&lt;/strong&gt;ï¼šä»åº“æ¥æ”¶ binlog å¹¶å†™å…¥ relay log ä»¥åŠæ‰§è¡Œ SQL è¯­å¥çš„é€Ÿåº¦ä¼šæ¯”è¾ƒæ…¢ï¼ˆä¹Ÿå°±æ˜¯ T2-T1 å’Œ T3-T2 çš„å€¼ä¼šè¾ƒå¤§ï¼‰ï¼Œè¿›è€Œå¯¼è‡´å»¶è¿Ÿã€‚è§£å†³æ–¹æ³•æ˜¯&lt;font color=&#39;red&#39;&gt;é€‰æ‹©ä¸ä¸»åº“ä¸€æ ·è§„æ ¼æˆ–æ›´é«˜è§„æ ¼çš„æœºå™¨ä½œä¸ºä»åº“ï¼Œæˆ–è€…å¯¹ä»åº“è¿›è¡Œæ€§èƒ½ä¼˜åŒ–&lt;/font&gt;ï¼Œæ¯”å¦‚è°ƒæ•´å‚æ•°ã€å¢åŠ ç¼“å­˜ã€ä½¿ç”¨ SSD ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä»åº“å¤„ç†çš„è¯»è¯·æ±‚è¿‡å¤š&lt;/strong&gt;ï¼šä»åº“éœ€è¦æ‰§è¡Œä¸»åº“çš„æ‰€æœ‰å†™æ“ä½œï¼ŒåŒæ—¶è¿˜è¦å“åº”è¯»è¯·æ±‚ï¼Œå¦‚æœè¯»è¯·æ±‚è¿‡å¤šï¼Œä¼šå ç”¨ä»åº“çš„ CPUã€å†…å­˜ã€ç½‘ç»œç­‰èµ„æºï¼Œå½±å“ä»åº“çš„å¤åˆ¶æ•ˆç‡ï¼ˆä¹Ÿå°±æ˜¯ T2-T1 å’Œ T3-T2 çš„å€¼ä¼šè¾ƒå¤§ï¼Œå’Œå‰ä¸€ç§æƒ…å†µç±»ä¼¼ï¼‰ã€‚è§£å†³æ–¹æ³•æ˜¯&lt;font color=&#39;red&#39;&gt;å¼•å…¥ç¼“å­˜ï¼ˆæ¨èï¼‰ã€ä½¿ç”¨ä¸€ä¸»å¤šä»çš„æ¶æ„ï¼Œå°†è¯»è¯·æ±‚åˆ†æ•£åˆ°ä¸åŒçš„ä»åº“ï¼Œæˆ–è€…ä½¿ç”¨å…¶ä»–ç³»ç»Ÿæ¥æä¾›æŸ¥è¯¢çš„èƒ½åŠ›&lt;/font&gt;ï¼Œæ¯”å¦‚å°† binlog æ¥å…¥åˆ° Hadoopã€Elasticsearch ç­‰ç³»ç»Ÿä¸­ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤§äº‹åŠ¡&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;è¿è¡Œæ—¶é—´æ¯”è¾ƒé•¿ï¼Œé•¿æ—¶é—´æœªæäº¤çš„äº‹åŠ¡&lt;/font&gt;å°±å¯ä»¥ç§°ä¸ºå¤§äº‹åŠ¡ã€‚ç”±äºå¤§äº‹åŠ¡æ‰§è¡Œæ—¶é—´é•¿ï¼Œå¹¶ä¸”ä»åº“ä¸Šçš„å¤§äº‹åŠ¡ä¼šæ¯”ä¸»åº“ä¸Šçš„å¤§äº‹åŠ¡èŠ±è´¹æ›´å¤šçš„æ—¶é—´å’Œèµ„æºï¼Œå› æ­¤éå¸¸å®¹æ˜“é€ æˆä¸»ä»å»¶è¿Ÿã€‚è§£å†³åŠæ³•æ˜¯&lt;font color=&#39;red&#39;&gt;é¿å…å¤§æ‰¹é‡ä¿®æ”¹æ•°æ®ï¼Œå°½é‡åˆ†æ‰¹è¿›è¡Œ&lt;/font&gt;ã€‚ç±»ä¼¼çš„æƒ…å†µè¿˜æœ‰æ‰§è¡Œæ—¶é—´è¾ƒé•¿çš„æ…¢ SQLï¼Œå®é™…é¡¹ç›®&lt;font color=&#39;red&#39;&gt;é‡åˆ°æ…¢ SQL åº”è¯¥è¿›è¡Œä¼˜åŒ–&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä»åº“å¤ªå¤š&lt;/strong&gt;ï¼šä¸»åº“éœ€è¦å°† binlog åŒæ­¥åˆ°æ‰€æœ‰çš„ä»åº“ï¼Œå¦‚æœä»åº“æ•°é‡å¤ªå¤šï¼Œä¼šå¢åŠ åŒæ­¥çš„æ—¶é—´å’Œå¼€é”€ï¼ˆä¹Ÿå°±æ˜¯ T2-T1 çš„å€¼ä¼šæ¯”è¾ƒå¤§ï¼Œä½†è¿™é‡Œæ˜¯å› ä¸ºä¸»åº“åŒæ­¥å‹åŠ›å¤§å¯¼è‡´çš„ï¼‰ã€‚è§£å†³æ–¹æ¡ˆæ˜¯&lt;font color=&#39;red&#39;&gt;å‡å°‘ä»åº“çš„æ•°é‡ï¼Œæˆ–è€…å°†ä»åº“åˆ†ä¸ºä¸åŒçš„å±‚çº§ï¼Œè®©ä¸Šå±‚çš„ä»åº“å†åŒæ­¥ç»™ä¸‹å±‚çš„ä»åº“ï¼Œå‡å°‘ä¸»åº“çš„å‹åŠ›&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç½‘ç»œå»¶è¿Ÿ&lt;/strong&gt;ï¼šå¦‚æœä¸»ä»ä¹‹é—´çš„ç½‘ç»œä¼ è¾“é€Ÿåº¦æ…¢ï¼Œæˆ–è€…å‡ºç°ä¸¢åŒ…ã€æŠ–åŠ¨ç­‰é—®é¢˜ï¼Œé‚£ä¹ˆå°±ä¼šå½±å“ binlog çš„ä¼ è¾“æ•ˆç‡ï¼Œå¯¼è‡´ä»åº“å»¶è¿Ÿã€‚è§£å†³æ–¹æ³•æ˜¯&lt;font color=&#39;red&#39;&gt;ä¼˜åŒ–ç½‘ç»œç¯å¢ƒ&lt;/font&gt;ï¼Œæ¯”å¦‚æå‡å¸¦å®½ã€é™ä½å»¶è¿Ÿã€å¢åŠ ç¨³å®šæ€§ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å•çº¿ç¨‹å¤åˆ¶&lt;/strong&gt;ï¼šMySQL5.5 åŠä¹‹å‰ï¼Œåªæ”¯æŒå•çº¿ç¨‹å¤åˆ¶ã€‚ä¸ºäº†ä¼˜åŒ–å¤åˆ¶æ€§èƒ½ï¼ŒMySQL 5.6 å¼•å…¥äº† &lt;strong&gt;å¤šçº¿ç¨‹å¤åˆ¶&lt;/strong&gt;ï¼ŒMySQL 5.7 è¿˜è¿›ä¸€æ­¥å®Œå–„äº†å¤šçº¿ç¨‹å¤åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤åˆ¶æ¨¡å¼&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;MySQL é»˜è®¤çš„å¤åˆ¶æ˜¯å¼‚æ­¥çš„ï¼Œå¿…ç„¶ä¼šå­˜åœ¨å»¶è¿Ÿé—®é¢˜&lt;/font&gt;ã€‚å…¨åŒæ­¥å¤åˆ¶ä¸å­˜åœ¨å»¶è¿Ÿé—®é¢˜ï¼Œä½†æ€§èƒ½å¤ªå·®äº†ã€‚&lt;font color=&#39;red&#39;&gt;åŠåŒæ­¥å¤åˆ¶æ˜¯ä¸€ç§æŠ˜ä¸­æ–¹æ¡ˆï¼Œç›¸å¯¹äºå¼‚æ­¥å¤åˆ¶ï¼ŒåŠåŒæ­¥å¤åˆ¶æé«˜äº†æ•°æ®çš„å®‰å…¨æ€§ï¼Œå‡å°‘äº†ä¸»ä»å»¶è¿Ÿï¼ˆè¿˜æ˜¯æœ‰ä¸€å®šç¨‹åº¦çš„å»¶è¿Ÿï¼‰&lt;/font&gt;ã€‚MySQL 5.5 å¼€å§‹ï¼ŒMySQL ä»¥æ’ä»¶çš„å½¢å¼æ”¯æŒ &lt;strong&gt;semi-sync åŠåŒæ­¥å¤åˆ¶&lt;/strong&gt;ã€‚å¹¶ä¸”ï¼ŒMySQL 5.7 å¼•å…¥äº† &lt;strong&gt;å¢å¼ºåŠåŒæ­¥å¤åˆ¶&lt;/strong&gt; ã€‚&lt;/li&gt;
&lt;li&gt;â€¦â€¦&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly90aW1lLmdlZWtiYW5nLm9yZy9jb2x1bW4vaW50cm8vMTAwMDIwODAxP2NvZGU9aWVZOEhlUlNsRHNGYnVSdGdnYkJRR3hkVGgtMWpNQVNxRUllcXpIQUtySSUzRA==&#34;&gt;ã€ŠMySQL å®æˆ˜ 45 è®²ã€‹&lt;/span&gt;è¿™ä¸ªä¸“æ ä¸­çš„&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly90aW1lLmdlZWtiYW5nLm9yZy9jb2x1bW4vYXJ0aWNsZS83NzYzNg==&#34;&gt;è¯»å†™åˆ†ç¦»æœ‰å“ªäº›å‘ï¼Ÿ&lt;/span&gt;è¿™ç¯‡æ–‡ç« ä¹Ÿæœ‰å¯¹ä¸»ä»å»¶è¿Ÿè§£å†³æ–¹æ¡ˆè¿™ä¸€è¯é¢˜è¿›è¡Œæ¢è®¨ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥é˜…è¯»å­¦ä¹ ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;h5 id=&#34;åˆ†åº“åˆ†è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†åº“åˆ†è¡¨&#34;&gt;#&lt;/a&gt; åˆ†åº“åˆ†è¡¨&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;è§£å†³çš„é—®é¢˜ï¼š&lt;font color=&#39;red&#39;&gt;æ•°æ®åº“å­˜å‚¨&lt;/font&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¯»å†™åˆ†ç¦»ä¸»è¦åº”å¯¹çš„æ˜¯æ•°æ®åº“è¯»å¹¶å‘ï¼Œæ²¡æœ‰è§£å†³æ•°æ®åº“å­˜å‚¨é—®é¢˜ã€‚è¯•æƒ³ä¸€ä¸‹ï¼š** å¦‚æœ MySQL ä¸€å¼ è¡¨çš„æ•°æ®é‡è¿‡å¤§æ€ä¹ˆåŠï¼Ÿ** æ¢è¨€ä¹‹ï¼Œ&lt;strong&gt;æˆ‘ä»¬è¯¥å¦‚ä½•è§£å†³ MySQL çš„å­˜å‚¨å‹åŠ›å‘¢ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç­”æ¡ˆä¹‹ä¸€å°±æ˜¯ **&lt;font color=&#39;#B32015&#39;&gt;åˆ†åº“åˆ†è¡¨&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;h6 id=&#34;åˆ†åº“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†åº“&#34;&gt;#&lt;/a&gt; åˆ†åº“&lt;/h6&gt;
&lt;p&gt;åˆ†åº“å°±æ˜¯&lt;font color=&#39;red&#39;&gt;å°†æ•°æ®åº“ä¸­çš„æ•°æ®åˆ†æ•£åˆ°ä¸åŒçš„æ•°æ®åº“ä¸Š&lt;/font&gt;ï¼Œå¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å‚ç›´åˆ†åº“&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å°±æ˜¯æŠŠå•ä¸€æ•°æ®åº“ **&lt;font color=&#39;red&#39;&gt;æŒ‰ç…§ä¸šåŠ¡è¿›è¡Œåˆ’åˆ†&lt;/font&gt;**ï¼Œä¸åŒçš„ä¸šåŠ¡ä½¿ç”¨ä¸åŒçš„æ•°æ®åº“ï¼Œè¿›è€Œå°†ä¸€ä¸ªæ•°æ®åº“çš„å‹åŠ›åˆ†æ‹…åˆ°å¤šä¸ªæ•°æ®åº“ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼šè¯´ä½ å°†æ•°æ®åº“ä¸­çš„ç”¨æˆ·è¡¨ã€è®¢å•è¡¨å’Œå•†å“è¡¨åˆ†åˆ«å•ç‹¬æ‹†åˆ†ä¸ºç”¨æˆ·æ•°æ®åº“ã€è®¢å•æ•°æ®åº“å’Œå•†å“æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231129114419366.png&#34; alt=&#34;image-20231129114419366&#34; /&gt;&lt;/p&gt;
&lt;center&gt;å‚ç›´åˆ†åº“&lt;/center&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æ°´å¹³åˆ†åº“&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å°±æ˜¯æŠŠåŒä¸€ä¸ªè¡¨ **&lt;font color=&#39;red&#39;&gt;æŒ‰ä¸€å®šè§„åˆ™æ‹†åˆ†&lt;/font&gt;** åˆ°ä¸åŒçš„æ•°æ®åº“ä¸­ï¼Œæ¯ä¸ªåº“å¯ä»¥ä½äºä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œè¿™æ ·å°±å®ç°äº†æ°´å¹³æ‰©å±•ï¼Œè§£å†³äº†å•è¡¨çš„å­˜å‚¨å’Œæ€§èƒ½ç“¶é¢ˆçš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼šè®¢å•è¡¨æ•°æ®é‡å¤ªå¤§ï¼Œä½ å¯¹è®¢å•è¡¨è¿›è¡Œäº†æ°´å¹³åˆ‡åˆ†ï¼ˆæ°´å¹³åˆ†è¡¨ï¼‰ï¼Œç„¶åå°†åˆ‡åˆ†åçš„ 2 å¼ è®¢å•è¡¨åˆ†åˆ«æ”¾åœ¨ä¸¤ä¸ªä¸åŒçš„æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/horizontal-slicing-database-53fbc43a.png&#34; alt=&#34;æ°´å¹³åˆ†åº“&#34; /&gt;&lt;/p&gt;
&lt;center&gt;æ°´å¹³åˆ†åº“&lt;/center&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;åˆ†è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†è¡¨&#34;&gt;#&lt;/a&gt; åˆ†è¡¨&lt;/h6&gt;
&lt;p&gt;åˆ†è¡¨å°±æ˜¯&lt;font color=&#39;red&#39;&gt;å¯¹å•è¡¨çš„æ•°æ®è¿›è¡Œæ‹†åˆ†&lt;/font&gt;ï¼Œä¹Ÿå¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å‚ç›´åˆ†è¡¨&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ˜¯ **&lt;font color=&#39;red&#39;&gt;å¯¹åˆ—çš„æ‹†åˆ†&lt;/font&gt;**ï¼ŒæŠŠä¸€å¼ åˆ—æ¯”è¾ƒå¤šçš„è¡¨æ‹†åˆ†ä¸ºå¤šå¼ è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼šæˆ‘ä»¬å¯ä»¥å°†ç”¨æˆ·ä¿¡æ¯è¡¨ä¸­çš„ä¸€äº›åˆ—å•ç‹¬æŠ½å‡ºæ¥ä½œä¸ºä¸€ä¸ªè¡¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;æ°´å¹³åˆ†è¡¨&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ˜¯ **&lt;font color=&#39;red&#39;&gt;å¯¹è¡Œçš„æ‹†åˆ†&lt;/font&gt;**ï¼ŒæŠŠä¸€å¼ è¡Œæ¯”è¾ƒå¤šçš„è¡¨æ‹†åˆ†ä¸ºå¤šå¼ è¡¨ï¼Œå¯ä»¥è§£å†³å•ä¸€è¡¨æ•°æ®é‡è¿‡å¤§çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼šæˆ‘ä»¬å¯ä»¥å°†ç”¨æˆ·ä¿¡æ¯è¡¨æ‹†åˆ†æˆå¤šä¸ªç”¨æˆ·ä¿¡æ¯è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;æ°´å¹³æ‹†åˆ†åªèƒ½è§£å†³å•è¡¨æ•°æ®é‡å¤§çš„é—®é¢˜ï¼Œä¸ºäº†æå‡æ€§èƒ½ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šé€‰æ‹©å°†æ‹†åˆ†åçš„å¤šå¼ è¡¨æ”¾åœ¨ä¸åŒçš„æ•°æ®åº“ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ&lt;font color=&#39;red&#39;&gt;æ°´å¹³åˆ†è¡¨é€šå¸¸å’Œæ°´å¹³åˆ†åº“åŒæ—¶å‡ºç°&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/two-forms-of-sub-table-3475ce44.png&#34; alt=&#34;åˆ†è¡¨&#34; /&gt;&lt;/p&gt;
&lt;center&gt;åˆ†è¡¨&lt;/center&gt;
&lt;h6 id=&#34;ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦åˆ†åº“åˆ†è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦åˆ†åº“åˆ†è¡¨&#34;&gt;#&lt;/a&gt; ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦åˆ†åº“åˆ†è¡¨ï¼Ÿ&lt;/h6&gt;
&lt;p&gt;é‡åˆ°ä¸‹é¢å‡ ç§åœºæ™¯å¯ä»¥è€ƒè™‘åˆ†åº“åˆ†è¡¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å•è¡¨çš„æ•°æ®è¾¾åˆ°åƒä¸‡çº§åˆ«ä»¥ä¸Šï¼Œæ•°æ®åº“è¯»å†™é€Ÿåº¦æ¯”è¾ƒç¼“æ…¢&lt;/li&gt;
&lt;li&gt;æ•°æ®åº“ä¸­çš„æ•°æ®å ç”¨çš„ç©ºé—´è¶Šæ¥è¶Šå¤§ï¼Œå¤‡ä»½æ—¶é—´è¶Šæ¥è¶Šé•¿&lt;/li&gt;
&lt;li&gt;åº”ç”¨çš„å¹¶å‘é‡å¤ªå¤§&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;å¸¸è§çš„åˆ†ç‰‡ç®—æ³•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¸¸è§çš„åˆ†ç‰‡ç®—æ³•&#34;&gt;#&lt;/a&gt; å¸¸è§çš„åˆ†ç‰‡ç®—æ³•&lt;/h6&gt;
&lt;p&gt;åˆ†ç‰‡ç®—æ³•ä¸»è¦ **&lt;font color=&#39;red&#39;&gt;è§£å†³äº†æ•°æ®è¢«æ°´å¹³åˆ†ç‰‡ä¹‹åï¼Œæ•°æ®ç©¶ç«Ÿè¯¥å­˜æ”¾åœ¨å“ªä¸ªè¡¨çš„é—®é¢˜&lt;/font&gt;**ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;å“ˆå¸Œåˆ†ç‰‡&lt;/font&gt;&lt;/strong&gt;ï¼šæ±‚æŒ‡å®š keyï¼ˆæ¯”å¦‚ idï¼‰ çš„å“ˆå¸Œï¼Œç„¶åæ ¹æ®å“ˆå¸Œå€¼ç¡®å®šæ•°æ®åº”è¢«æ”¾ç½®åœ¨å“ªä¸ªè¡¨ä¸­ã€‚å“ˆå¸Œåˆ†ç‰‡æ¯”è¾ƒ&lt;font color=&#39;red&#39;&gt;é€‚åˆéšæœºè¯»å†™çš„åœºæ™¯ï¼Œä¸å¤ªé€‚åˆç»å¸¸éœ€è¦èŒƒå›´æŸ¥è¯¢çš„åœºæ™¯&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;èŒƒå›´åˆ†ç‰‡&lt;/font&gt;&lt;/strong&gt;ï¼šæŒ‰ç…§ç‰¹æ€§çš„èŒƒå›´åŒºé—´ï¼ˆæ¯”å¦‚æ—¶é—´åŒºé—´ã€ID åŒºé—´ï¼‰æ¥åˆ†é…æ•°æ®ï¼Œæ¯”å¦‚ å°† id ä¸º 1~299999 çš„è®°å½•åˆ†åˆ°ç¬¬ä¸€ä¸ªåº“ï¼Œ 300000~599999 çš„åˆ†åˆ°ç¬¬äºŒä¸ªåº“ã€‚èŒƒå›´åˆ†ç‰‡&lt;font color=&#39;red&#39;&gt;é€‚åˆéœ€è¦ç»å¸¸è¿›è¡ŒèŒƒå›´æŸ¥æ‰¾çš„åœºæ™¯ï¼Œä¸å¤ªé€‚åˆéšæœºè¯»å†™çš„åœºæ™¯ï¼ˆæ•°æ®æœªè¢«åˆ†æ•£ï¼Œå®¹æ˜“å‡ºç°çƒ­ç‚¹æ•°æ®çš„é—®é¢˜ï¼‰&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;åœ°ç†ä½ç½®åˆ†ç‰‡&lt;/font&gt;&lt;/strong&gt;ï¼šå¾ˆå¤š NewSQL æ•°æ®åº“éƒ½æ”¯æŒåœ°ç†ä½ç½®åˆ†ç‰‡ç®—æ³•ï¼Œä¹Ÿå°±æ˜¯&lt;font color=&#39;red&#39;&gt;æ ¹æ®åœ°ç†ä½ç½®ï¼ˆå¦‚åŸå¸‚ã€åœ°åŸŸï¼‰æ¥åˆ†é…æ•°æ®&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;èåˆç®—æ³•&lt;/font&gt;&lt;/strong&gt;ï¼š&lt;font color=&#39;red&#39;&gt;çµæ´»ç»„åˆå¤šç§åˆ†ç‰‡ç®—æ³•&lt;/font&gt;ï¼Œæ¯”å¦‚å°†å“ˆå¸Œåˆ†ç‰‡å’ŒèŒƒå›´åˆ†ç‰‡ç»„åˆã€‚&lt;/li&gt;
&lt;li&gt;â€¦â€¦&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;åˆ†åº“åˆ†è¡¨ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†åº“åˆ†è¡¨ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜&#34;&gt;#&lt;/a&gt; åˆ†åº“åˆ†è¡¨ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜ï¼Ÿ&lt;/h6&gt;
&lt;p&gt;è®°ä½ï¼Œä½ åœ¨å…¬å¸åšçš„ä»»ä½•æŠ€æœ¯å†³ç­–ï¼Œä¸å…‰æ˜¯è¦è€ƒè™‘è¿™ä¸ªæŠ€æœ¯èƒ½ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ï¼Œæ˜¯å¦é€‚åˆå½“å‰ä¸šåŠ¡åœºæ™¯ï¼Œè¿˜è¦é‡ç‚¹è€ƒè™‘å…¶å¸¦æ¥çš„æˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;å¼•å…¥åˆ†åº“åˆ†è¡¨ä¹‹åï¼Œä¼šç»™ç³»ç»Ÿå¸¦æ¥ä»€ä¹ˆæŒ‘æˆ˜å‘¢ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;join æ“ä½œ&lt;/font&gt;&lt;/strong&gt;ï¼šåŒä¸€ä¸ªæ•°æ®åº“ä¸­çš„è¡¨åˆ†å¸ƒåœ¨äº†ä¸åŒçš„æ•°æ®åº“ä¸­ï¼Œå¯¼è‡´æ— æ³•ä½¿ç”¨ join æ“ä½œã€‚è¿™æ ·å°±å¯¼è‡´æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨è¿›è¡Œæ•°æ®çš„å°è£…ï¼Œæ¯”å¦‚ä½ åœ¨ä¸€ä¸ªæ•°æ®åº“ä¸­æŸ¥è¯¢åˆ°ä¸€ä¸ªæ•°æ®ä¹‹åï¼Œå†æ ¹æ®è¿™ä¸ªæ•°æ®å»å¦å¤–ä¸€ä¸ªæ•°æ®åº“ä¸­æ‰¾å¯¹åº”çš„æ•°æ®ã€‚ä¸è¿‡ï¼Œå¾ˆå¤šå¤§å‚çš„èµ„æ·± DBA éƒ½æ˜¯å»ºè®®&lt;font color=&#39;red&#39;&gt;å°½é‡ä¸è¦ä½¿ç”¨ join æ“ä½œ&lt;/font&gt;ã€‚å› ä¸º join çš„æ•ˆç‡ä½ï¼Œå¹¶ä¸”ä¼šå¯¹åˆ†åº“åˆ†è¡¨é€ æˆå½±å“ã€‚å¯¹äºéœ€è¦ç”¨åˆ° join æ“ä½œçš„åœ°æ–¹ï¼Œ&lt;font color=&#39;red&#39;&gt;å¯ä»¥é‡‡ç”¨å¤šæ¬¡æŸ¥è¯¢ä¸šåŠ¡å±‚è¿›è¡Œæ•°æ®ç»„è£…çš„æ–¹æ³•&lt;/font&gt;ã€‚ä¸è¿‡ï¼Œè¿™ç§æ–¹æ³•éœ€è¦è€ƒè™‘ä¸šåŠ¡ä¸Šå¤šæ¬¡æŸ¥è¯¢çš„äº‹åŠ¡æ€§çš„å®¹å¿åº¦ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;äº‹åŠ¡é—®é¢˜&lt;/font&gt;&lt;/strong&gt;ï¼šåŒä¸€ä¸ªæ•°æ®åº“ä¸­çš„è¡¨åˆ†å¸ƒåœ¨äº†ä¸åŒçš„æ•°æ®åº“ä¸­ï¼Œå¦‚æœå•ä¸ªæ“ä½œæ¶‰åŠåˆ°å¤šä¸ªæ•°æ®åº“ï¼Œé‚£ä¹ˆæ•°æ®åº“è‡ªå¸¦çš„äº‹åŠ¡å°±æ— æ³•æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚äº†ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±&lt;font color=&#39;red&#39;&gt;éœ€è¦å¼•å…¥åˆ†å¸ƒå¼äº‹åŠ¡&lt;/font&gt;äº†ã€‚å…³äºåˆ†å¸ƒå¼äº‹åŠ¡å¸¸è§è§£å†³æ–¹æ¡ˆæ€»ç»“ï¼Œç½‘ç«™ä¸Šä¹Ÿæœ‰å¯¹åº”çš„æ€»ç»“ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qYXZhZ3VpZGUuY24vZGlzdHJpYnV0ZWQtc3lzdGVtL2Rpc3RyaWJ1dGVkLXRyYW5zYWN0aW9uLmh0bWw=&#34;&gt;https://javaguide.cn/distributed-system/distributed-transaction.html&lt;/span&gt; ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;åˆ†å¸ƒå¼ ID&lt;/font&gt;&lt;/strong&gt;ï¼šåˆ†åº“ä¹‹åï¼Œæ•°æ®éå¸ƒåœ¨ä¸åŒæœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“ï¼Œæ•°æ®åº“çš„&lt;font color=&#39;red&#39;&gt;è‡ªå¢ä¸»é”®å·²ç»æ²¡åŠæ³•æ»¡è¶³ç”Ÿæˆçš„ä¸»é”®å”¯ä¸€äº†&lt;/font&gt;ã€‚æˆ‘ä»¬å¦‚ä½•ä¸ºä¸åŒçš„æ•°æ®èŠ‚ç‚¹ç”Ÿæˆå…¨å±€å”¯ä¸€ä¸»é”®å‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦ä¸ºæˆ‘ä»¬çš„ç³»ç»Ÿ&lt;font color=&#39;red&#39;&gt;å¼•å…¥åˆ†å¸ƒå¼ ID &lt;/font&gt;äº†ã€‚å…³äºåˆ†å¸ƒå¼ ID çš„è¯¦ç»†ä»‹ç» &amp;amp; å®ç°æ–¹æ¡ˆæ€»ç»“ï¼Œç½‘ç«™ä¸Šä¹Ÿæœ‰å¯¹åº”çš„æ€»ç»“ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qYXZhZ3VpZGUuY24vZGlzdHJpYnV0ZWQtc3lzdGVtL2Rpc3RyaWJ1dGVkLWlkLmh0bWw=&#34;&gt;https://javaguide.cn/distributed-system/distributed-id.html&lt;/span&gt; ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;è·¨åº“èšåˆæŸ¥è¯¢é—®é¢˜&lt;/font&gt;&lt;/strong&gt;ï¼šåˆ†åº“åˆ†è¡¨ä¼šå¯¼è‡´å¸¸è§„èšåˆæŸ¥è¯¢æ“ä½œï¼Œå¦‚ group byï¼Œorder by ç­‰å˜å¾—å¼‚å¸¸å¤æ‚ã€‚è¿™æ˜¯å› ä¸ºè¿™äº›æ“ä½œéœ€è¦åœ¨å¤šä¸ªåˆ†ç‰‡ä¸Šè¿›è¡Œæ•°æ®æ±‡æ€»å’Œæ’åºï¼Œè€Œä¸æ˜¯åœ¨å•ä¸ªæ•°æ®åº“ä¸Šè¿›è¡Œã€‚ä¸ºäº†å®ç°è¿™äº›æ“ä½œï¼Œ&lt;font color=&#39;red&#39;&gt;éœ€è¦ç¼–å†™å¤æ‚çš„ä¸šåŠ¡ä»£ç ï¼Œæˆ–è€…ä½¿ç”¨ä¸­é—´ä»¶æ¥åè°ƒåˆ†ç‰‡é—´çš„é€šä¿¡å’Œæ•°æ®ä¼ è¾“&lt;/font&gt;ã€‚è¿™æ ·ä¼šå¢åŠ å¼€å‘å’Œç»´æŠ¤çš„æˆæœ¬ï¼Œä»¥åŠå½±å“æŸ¥è¯¢çš„æ€§èƒ½å’Œå¯æ‰©å±•æ€§ã€‚&lt;/li&gt;
&lt;li&gt;â€¦â€¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦å¤–ï¼Œ&lt;font color=&#39;red&#39;&gt;å¼•å…¥åˆ†åº“åˆ†è¡¨ä¹‹åï¼Œä¸€èˆ¬éœ€è¦ DBA çš„å‚ä¸ï¼ŒåŒæ—¶è¿˜éœ€è¦æ›´å¤šçš„æ•°æ®åº“æœåŠ¡å™¨&lt;/font&gt;ï¼Œè¿™äº›éƒ½å±äºæˆæœ¬ã€‚&lt;/p&gt;
&lt;h6 id=&#34;åˆ†åº“åˆ†è¡¨æœ‰æ²¡æœ‰ä»€ä¹ˆæ¯”è¾ƒæ¨èçš„æ–¹æ¡ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†åº“åˆ†è¡¨æœ‰æ²¡æœ‰ä»€ä¹ˆæ¯”è¾ƒæ¨èçš„æ–¹æ¡ˆ&#34;&gt;#&lt;/a&gt; åˆ†åº“åˆ†è¡¨æœ‰æ²¡æœ‰ä»€ä¹ˆæ¯”è¾ƒæ¨èçš„æ–¹æ¡ˆï¼Ÿ&lt;/h6&gt;
&lt;p&gt;Apache  &lt;code&gt;ShardingSphere&lt;/code&gt;  æ˜¯ä¸€æ¬¾åˆ†å¸ƒå¼çš„æ•°æ®åº“ç”Ÿæ€ç³»ç»Ÿï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¯ä»¥å°†ä»»æ„æ•°æ®åº“è½¬æ¢ä¸ºåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œå¹¶é€šè¿‡æ•°æ®åˆ†ç‰‡ã€å¼¹æ€§ä¼¸ç¼©ã€åŠ å¯†ç­‰èƒ½åŠ›å¯¹åŸæœ‰æ•°æ®åº“è¿›è¡Œå¢å¼º&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ShardingSphere é¡¹ç›®ï¼ˆåŒ…æ‹¬ Sharding-JDBCã€Sharding-Proxy å’Œ Sharding-Sidecarï¼‰æ˜¯å½“å½“æå…¥ Apache çš„ï¼Œç›®å‰ä¸»è¦ç”±äº¬ä¸œæ•°ç§‘çš„ä¸€äº›å·¨ä½¬ç»´æŠ¤ã€‚&lt;/p&gt;
&lt;p&gt;**ShardingSphere ç»å¯¹å¯ä»¥è¯´æ˜¯å½“å‰åˆ†åº“åˆ†è¡¨çš„é¦–é€‰ï¼**ShardingSphere çš„åŠŸèƒ½å®Œå–„ï¼Œ&lt;font color=&#39;red&#39;&gt;é™¤äº†æ”¯æŒè¯»å†™åˆ†ç¦»å’Œåˆ†åº“åˆ†è¡¨ï¼Œè¿˜æä¾›åˆ†å¸ƒå¼äº‹åŠ¡ã€æ•°æ®åº“æ²»ç†ã€å½±å­åº“ã€æ•°æ®åŠ å¯†å’Œè„±æ•ç­‰åŠŸèƒ½&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ShardingSphere æä¾›çš„åŠŸèƒ½å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/shardingsphere-features.png&#34; alt=&#34;ShardingSphere æä¾›çš„åŠŸèƒ½&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ShardingSphere çš„ä¼˜åŠ¿å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æè‡´æ€§èƒ½ï¼šé©±åŠ¨ç¨‹åºç«¯å†ç»é•¿å¹´æ‰“ç£¨ï¼Œæ•ˆç‡æ¥è¿‘åŸç”Ÿ JDBCï¼Œæ€§èƒ½æè‡´ã€‚&lt;/li&gt;
&lt;li&gt;ç”Ÿæ€å…¼å®¹ï¼šä»£ç†ç«¯æ”¯æŒä»»ä½•é€šè¿‡ MySQL/PostgreSQL åè®®çš„åº”ç”¨è®¿é—®ï¼Œé©±åŠ¨ç¨‹åºç«¯å¯å¯¹æ¥ä»»æ„å®ç° JDBC è§„èŒƒçš„æ•°æ®åº“ã€‚&lt;/li&gt;
&lt;li&gt;ä¸šåŠ¡é›¶ä¾µå…¥ï¼šé¢å¯¹æ•°æ®åº“æ›¿æ¢åœºæ™¯ï¼ŒShardingSphere å¯æ»¡è¶³ä¸šåŠ¡æ— éœ€æ”¹é€ ï¼Œå®ç°å¹³æ»‘ä¸šåŠ¡è¿ç§»ã€‚&lt;/li&gt;
&lt;li&gt;è¿ç»´ä½æˆæœ¬ï¼šåœ¨ä¿ç•™åŸæŠ€æœ¯æ ˆä¸å˜å‰æä¸‹ï¼Œå¯¹ DBA å­¦ä¹ ã€ç®¡ç†æˆæœ¬ä½ï¼Œäº¤äº’å‹å¥½ã€‚&lt;/li&gt;
&lt;li&gt;å®‰å…¨ç¨³å®šï¼šåŸºäºæˆç†Ÿæ•°æ®åº“åº•åº§ä¹‹ä¸Šæä¾›å¢é‡èƒ½åŠ›ï¼Œå…¼é¡¾å®‰å…¨æ€§åŠç¨³å®šæ€§ã€‚&lt;/li&gt;
&lt;li&gt;å¼¹æ€§æ‰©å±•ï¼šå…·å¤‡è®¡ç®—ã€å­˜å‚¨å¹³æ»‘åœ¨çº¿æ‰©å±•èƒ½åŠ›ï¼Œå¯æ»¡è¶³ä¸šåŠ¡å¤šå˜çš„éœ€æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;å¼€æ”¾ç”Ÿæ€ï¼šé€šè¿‡å¤šå±‚æ¬¡ï¼ˆå†…æ ¸ã€åŠŸèƒ½ã€ç”Ÿæ€ï¼‰æ’ä»¶åŒ–èƒ½åŠ›ï¼Œä¸ºç”¨æˆ·æä¾›å¯å®šåˆ¶æ»¡è¶³è‡ªèº«ç‰¹æ®Šéœ€æ±‚çš„ç‹¬æœ‰ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦å¤–ï¼ŒShardingSphere çš„ç”Ÿæ€ä½“ç³»å®Œå–„ï¼Œç¤¾åŒºæ´»è·ƒï¼Œæ–‡æ¡£å®Œå–„ï¼Œæ›´æ–°å’Œå‘å¸ƒæ¯”è¾ƒé¢‘ç¹ã€‚&lt;/p&gt;
&lt;p&gt;è‰¿è‰¿ä¹‹å‰å†™äº†ä¸€ç¯‡åˆ†åº“åˆ†è¡¨çš„å®æˆ˜æ–‡ç« ï¼Œå„ä½æœ‹å‹å¯ä»¥çœ‹çœ‹ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvQTJNWU9GVDdTUC03a0dPb244cUphdw==&#34;&gt;ã€ŠèŠ‹é“ Spring Boot åˆ†åº“åˆ†è¡¨å…¥é—¨ã€‹&lt;/span&gt; ã€‚&lt;/p&gt;
&lt;h6 id=&#34;åˆ†åº“åˆ†è¡¨åæ•°æ®æ€ä¹ˆè¿ç§»å‘¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†åº“åˆ†è¡¨åæ•°æ®æ€ä¹ˆè¿ç§»å‘¢&#34;&gt;#&lt;/a&gt; åˆ†åº“åˆ†è¡¨åï¼Œæ•°æ®æ€ä¹ˆè¿ç§»å‘¢ï¼Ÿ&lt;/h6&gt;
&lt;p&gt;åˆ†åº“åˆ†è¡¨ä¹‹åï¼Œæˆ‘ä»¬&lt;font color=&#39;red&#39;&gt;å¦‚ä½•å°†è€åº“ï¼ˆå•åº“å•è¡¨ï¼‰çš„æ•°æ®è¿ç§»åˆ°æ–°åº“ï¼ˆåˆ†åº“åˆ†è¡¨åçš„æ•°æ®åº“ç³»ç»Ÿï¼‰å‘¢ï¼Ÿ&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;æ¯”è¾ƒç®€å•åŒæ—¶ä¹Ÿæ˜¯&lt;font color=&#39;red&#39;&gt;éå¸¸å¸¸ç”¨&lt;/font&gt;çš„æ–¹æ¡ˆå°±æ˜¯ **&lt;font color=&#39;cornflowerblue&#39;&gt;åœæœºè¿ç§»&lt;/font&gt;**ï¼Œå†™ä¸ªè„šæœ¬å°†è€åº“çš„æ•°æ®å†™åˆ°æ–°åº“ä¸­ã€‚æ¯”å¦‚ä½ åœ¨å‡Œæ™¨ 2 ç‚¹ï¼Œç³»ç»Ÿä½¿ç”¨çš„äººæ•°éå¸¸å°‘çš„æ—¶å€™ï¼ŒæŒ‚ä¸€ä¸ªå…¬å‘Šè¯´ç³»ç»Ÿè¦ç»´æŠ¤å‡çº§é¢„è®¡ 1 å°æ—¶ã€‚ç„¶åï¼Œä½ å†™ä¸€ä¸ªè„šæœ¬å°†è€åº“çš„æ•°æ®éƒ½åŒæ­¥åˆ°æ–°åº“ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ &lt;font color=&#39;red&#39;&gt;ä¸æƒ³åœæœºè¿ç§»æ•°æ®çš„è¯&lt;/font&gt;ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘ **&lt;font color=&#39;cornflowerblue&#39;&gt;åŒå†™æ–¹æ¡ˆ&lt;/font&gt;**ã€‚åŒå†™æ–¹æ¡ˆæ˜¯é’ˆå¯¹é‚£ç§ä¸èƒ½åœæœºè¿ç§»çš„åœºæ™¯ï¼Œå®ç°èµ·æ¥è¦ç¨å¾®éº»çƒ¦ä¸€äº›ã€‚å…·ä½“åŸç†æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æˆ‘ä»¬&lt;font color=&#39;red&#39;&gt;å¯¹è€åº“çš„æ›´æ–°æ“ä½œï¼ˆå¢åˆ æ”¹ï¼‰ï¼ŒåŒæ—¶ä¹Ÿè¦å†™å…¥æ–°åº“ï¼ˆåŒå†™ï¼‰&lt;/font&gt;ã€‚å¦‚æœæ“ä½œçš„æ•°æ®ä¸å­˜åœ¨äºæ–°åº“çš„è¯ï¼Œéœ€è¦æ’å…¥åˆ°æ–°åº“ä¸­ã€‚è¿™æ ·å°±èƒ½ä¿è¯ï¼Œå’±ä»¬æ–°åº“é‡Œçš„æ•°æ®æ˜¯æœ€æ–°çš„ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨è¿ç§»è¿‡ç¨‹ï¼ŒåŒå†™åªä¼šè®©è¢«æ›´æ–°æ“ä½œè¿‡çš„è€åº“ä¸­çš„æ•°æ®åŒæ­¥åˆ°æ–°åº“ï¼Œæˆ‘ä»¬&lt;font color=&#39;red&#39;&gt;è¿˜éœ€è¦è‡ªå·±å†™è„šæœ¬å°†è€åº“ä¸­çš„æ•°æ®å’Œæ–°åº“çš„æ•°æ®åšæ¯”å¯¹&lt;/font&gt;ã€‚å¦‚æœæ–°åº“ä¸­æ²¡æœ‰ï¼Œé‚£å’±ä»¬å°±æŠŠæ•°æ®æ’å…¥åˆ°æ–°åº“ã€‚å¦‚æœæ–°åº“æœ‰ï¼Œæ—§åº“æ²¡æœ‰ï¼Œå°±æŠŠæ–°åº“å¯¹åº”çš„æ•°æ®åˆ é™¤ï¼ˆå†—ä½™æ•°æ®æ¸…ç†ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;é‡å¤ä¸Šä¸€æ­¥çš„æ“ä½œï¼Œ&lt;font color=&#39;red&#39;&gt;ç›´åˆ°è€åº“å’Œæ–°åº“çš„æ•°æ®ä¸€è‡´ä¸ºæ­¢&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æƒ³è¦åœ¨é¡¹ç›®ä¸­å®æ–½åŒå†™è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œå¾ˆå®¹æ˜“ä¼šå‡ºç°é—®é¢˜ã€‚æˆ‘ä»¬&lt;font color=&#39;red&#39;&gt;å¯ä»¥å€ŸåŠ©ä¸Šé¢æåˆ°çš„æ•°æ®åº“åŒæ­¥å·¥å…· Canal åšå¢é‡æ•°æ®è¿ç§»&lt;/font&gt;ï¼ˆè¿˜æ˜¯ä¾èµ– binlogï¼Œå¼€å‘å’Œç»´æŠ¤æˆæœ¬è¾ƒä½ï¼‰ã€‚&lt;/p&gt;
&lt;h5 id=&#34;æ€»ç»“-4&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ€»ç»“-4&#34;&gt;#&lt;/a&gt; æ€»ç»“&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;è¯»å†™åˆ†ç¦»ä¸»è¦æ˜¯ä¸ºäº†å°†å¯¹æ•°æ®åº“çš„è¯»å†™æ“ä½œåˆ†æ•£åˆ°ä¸åŒçš„æ•°æ®åº“èŠ‚ç‚¹ä¸Š&lt;/font&gt;ã€‚è¿™æ ·çš„è¯ï¼Œå°±èƒ½å¤Ÿå°å¹…æå‡å†™æ€§èƒ½ï¼Œå¤§å¹…æå‡è¯»æ€§èƒ½ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;è¯»å†™åˆ†ç¦»åŸºäºä¸»ä»å¤åˆ¶ï¼Œè€Œ MySQL ä¸»ä»å¤åˆ¶ä¾èµ–äº  &lt;code&gt;binlog&lt;/code&gt; &lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ†åº“å°±æ˜¯å°†æ•°æ®åº“ä¸­çš„æ•°æ®åˆ†æ•£åˆ°ä¸åŒçš„æ•°æ®åº“ä¸Šã€‚åˆ†è¡¨å°±æ˜¯å¯¹å•è¡¨çš„æ•°æ®è¿›è¡Œæ‹†åˆ†ï¼Œå¯ä»¥æ˜¯å‚ç›´æ‹†åˆ†ï¼Œä¹Ÿå¯ä»¥æ˜¯æ°´å¹³æ‹†åˆ†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¼•å…¥åˆ†åº“åˆ†è¡¨ä¹‹åï¼Œéœ€è¦ç³»ç»Ÿè§£å†³äº‹åŠ¡ã€åˆ†å¸ƒå¼ idã€æ— æ³• join æ“ä½œé—®é¢˜ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ShardingSphere ç»å¯¹å¯ä»¥è¯´æ˜¯å½“å‰åˆ†åº“åˆ†è¡¨çš„é¦–é€‰&lt;/font&gt;ï¼ShardingSphere çš„åŠŸèƒ½å®Œå–„ï¼Œé™¤äº†æ”¯æŒè¯»å†™åˆ†ç¦»å’Œåˆ†åº“åˆ†è¡¨ï¼Œè¿˜æä¾›åˆ†å¸ƒå¼äº‹åŠ¡ã€æ•°æ®åº“æ²»ç†ç­‰åŠŸèƒ½ã€‚å¦å¤–ï¼ŒShardingSphere çš„ç”Ÿæ€ä½“ç³»å®Œå–„ï¼Œç¤¾åŒºæ´»è·ƒï¼Œæ–‡æ¡£å®Œå–„ï¼Œæ›´æ–°å’Œå‘å¸ƒæ¯”è¾ƒé¢‘ç¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;mysql-é«˜æ€§èƒ½ä¼˜åŒ–è§„èŒƒå»ºè®®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysql-é«˜æ€§èƒ½ä¼˜åŒ–è§„èŒƒå»ºè®®&#34;&gt;#&lt;/a&gt; MySQL é«˜æ€§èƒ½ä¼˜åŒ–è§„èŒƒå»ºè®®&lt;/h2&gt;
&lt;h3 id=&#34;å‘½åè§„èŒƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‘½åè§„èŒƒ&#34;&gt;#&lt;/a&gt; å‘½åè§„èŒƒ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ‰€æœ‰æ•°æ®åº“å¯¹è±¡åç§°å¿…é¡»ä½¿ç”¨&lt;font color=&#39;red&#39;&gt;å°å†™å­—æ¯&lt;/font&gt;å¹¶ç”¨&lt;font color=&#39;red&#39;&gt;ä¸‹åˆ’çº¿åˆ†å‰²&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‰€æœ‰æ•°æ®åº“å¯¹è±¡åç§°&lt;font color=&#39;red&#39;&gt;ç¦æ­¢ä½¿ç”¨ MySQL ä¿ç•™å…³é”®å­—&lt;/font&gt;ï¼ˆå¦‚æœè¡¨åä¸­åŒ…å«å…³é”®å­—æŸ¥è¯¢æ—¶ï¼Œéœ€è¦å°†å…¶ç”¨å•å¼•å·æ‹¬èµ·æ¥ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ•°æ®åº“å¯¹è±¡çš„å‘½åè¦èƒ½åšåˆ°&lt;font color=&#39;red&#39;&gt;è§åè¯†æ„ï¼Œå¹¶ä¸”æœ€åä¸è¦è¶…è¿‡ 32 ä¸ªå­—ç¬¦&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ä¸´æ—¶åº“è¡¨å¿…é¡»ä»¥  &lt;code&gt;tmp_&lt;/code&gt;  ä¸ºå‰ç¼€å¹¶ä»¥æ—¥æœŸä¸ºåç¼€&lt;/font&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;å¤‡ä»½è¡¨å¿…é¡»ä»¥  &lt;code&gt;bak_&lt;/code&gt;  ä¸ºå‰ç¼€å¹¶ä»¥æ—¥æœŸ (æ—¶é—´æˆ³) ä¸ºåç¼€&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‰€æœ‰å­˜å‚¨ç›¸åŒæ•°æ®çš„åˆ—åå’Œåˆ—ç±»å‹å¿…é¡»ä¸€è‡´ï¼ˆä¸€èˆ¬ä½œä¸ºå…³è”åˆ—ï¼Œ&lt;font color=&#39;red&#39;&gt;å¦‚æœæŸ¥è¯¢æ—¶å…³è”åˆ—ç±»å‹ä¸ä¸€è‡´ä¼šè‡ªåŠ¨è¿›è¡Œæ•°æ®ç±»å‹éšå¼è½¬æ¢ï¼Œé€ æˆåˆ—ä¸Šçš„ç´¢å¼•å¤±æ•ˆ&lt;/font&gt;ï¼Œå¯¼è‡´æŸ¥è¯¢æ•ˆç‡é™ä½ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åŸºæœ¬è®¾è®¡è§„èŒƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸºæœ¬è®¾è®¡è§„èŒƒ&#34;&gt;#&lt;/a&gt; åŸºæœ¬è®¾è®¡è§„èŒƒ&lt;/h3&gt;
&lt;h4 id=&#34;æ‰€æœ‰è¡¨å¿…é¡»ä½¿ç”¨-innodb-å­˜å‚¨å¼•æ“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ‰€æœ‰è¡¨å¿…é¡»ä½¿ç”¨-innodb-å­˜å‚¨å¼•æ“&#34;&gt;#&lt;/a&gt; æ‰€æœ‰è¡¨å¿…é¡»ä½¿ç”¨ InnoDB å­˜å‚¨å¼•æ“&lt;/h4&gt;
&lt;p&gt;æ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼ˆå³ InnoDB æ— æ³•æ»¡è¶³çš„åŠŸèƒ½å¦‚ï¼šåˆ—å­˜å‚¨ï¼Œå­˜å‚¨ç©ºé—´æ•°æ®ç­‰ï¼‰çš„æƒ…å†µä¸‹ï¼Œæ‰€æœ‰è¡¨å¿…é¡»ä½¿ç”¨ InnoDB å­˜å‚¨å¼•æ“ï¼ˆMySQL5.5 ä¹‹å‰é»˜è®¤ä½¿ç”¨ MyISAMï¼Œ5.6 ä»¥åé»˜è®¤çš„ä¸º InnoDBï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;InnoDB æ”¯æŒäº‹åŠ¡ã€è¡Œçº§é”ã€å¤–é”®çº¦æŸï¼Œæœ‰æ›´å¥½çš„æ¢å¤æ€§ï¼Œé«˜å¹¶å‘ä¸‹æ€§èƒ½æ›´å¥½&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ•°æ®åº“å’Œè¡¨çš„å­—ç¬¦é›†ç»Ÿä¸€ä½¿ç”¨-utf8&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®åº“å’Œè¡¨çš„å­—ç¬¦é›†ç»Ÿä¸€ä½¿ç”¨-utf8&#34;&gt;#&lt;/a&gt; æ•°æ®åº“å’Œè¡¨çš„å­—ç¬¦é›†ç»Ÿä¸€ä½¿ç”¨ UTF8&lt;/h4&gt;
&lt;p&gt;å…¼å®¹æ€§æ›´å¥½ï¼Œç»Ÿä¸€å­—ç¬¦é›†å¯ä»¥é¿å…ç”±äºå­—ç¬¦é›†è½¬æ¢äº§ç”Ÿçš„ä¹±ç ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸åŒçš„å­—ç¬¦é›†è¿›è¡Œæ¯”è¾ƒå‰éœ€è¦è¿›è¡Œè½¬æ¢ä¼šé€ æˆç´¢å¼•å¤±æ•ˆ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ•°æ®åº“ä¸­æœ‰å­˜å‚¨ emoji è¡¨æƒ…çš„éœ€è¦ï¼Œå­—ç¬¦é›†éœ€è¦é‡‡ç”¨ utf8mb4 å­—ç¬¦é›†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ‰€æœ‰è¡¨å’Œå­—æ®µéƒ½éœ€è¦æ·»åŠ æ³¨é‡Š&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ‰€æœ‰è¡¨å’Œå­—æ®µéƒ½éœ€è¦æ·»åŠ æ³¨é‡Š&#34;&gt;#&lt;/a&gt; æ‰€æœ‰è¡¨å’Œå­—æ®µéƒ½éœ€è¦æ·»åŠ æ³¨é‡Š&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨ comment ä»å¥æ·»åŠ è¡¨å’Œåˆ—çš„å¤‡æ³¨ï¼Œä»ä¸€å¼€å§‹å°±è¿›è¡Œ&lt;font color=&#39;red&#39;&gt;æ•°æ®å­—å…¸çš„ç»´æŠ¤&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å°½é‡æ§åˆ¶å•è¡¨æ•°æ®é‡çš„å¤§å°å»ºè®®æ§åˆ¶åœ¨-500-ä¸‡ä»¥å†…&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°½é‡æ§åˆ¶å•è¡¨æ•°æ®é‡çš„å¤§å°å»ºè®®æ§åˆ¶åœ¨-500-ä¸‡ä»¥å†…&#34;&gt;#&lt;/a&gt; å°½é‡æ§åˆ¶å•è¡¨æ•°æ®é‡çš„å¤§å°ï¼Œå»ºè®®æ§åˆ¶åœ¨ 500 ä¸‡ä»¥å†…&lt;/h4&gt;
&lt;p&gt;500 ä¸‡å¹¶ä¸æ˜¯ MySQL æ•°æ®åº“çš„é™åˆ¶ï¼Œè¿‡å¤§ä¼šé€ æˆä¿®æ”¹è¡¨ç»“æ„ï¼Œå¤‡ä»½ï¼Œæ¢å¤éƒ½ä¼šæœ‰å¾ˆå¤§çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥ç”¨&lt;font color=&#39;red&#39;&gt;å†å²æ•°æ®å½’æ¡£ï¼ˆåº”ç”¨äºæ—¥å¿—æ•°æ®ï¼‰&lt;/font&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;åˆ†åº“åˆ†è¡¨ï¼ˆåº”ç”¨äºä¸šåŠ¡æ•°æ®ï¼‰&lt;/font&gt;ç­‰æ‰‹æ®µæ¥æ§åˆ¶æ•°æ®é‡å¤§å°ã€‚&lt;/p&gt;
&lt;h4 id=&#34;è°¨æ…ä½¿ç”¨-mysql-åˆ†åŒºè¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è°¨æ…ä½¿ç”¨-mysql-åˆ†åŒºè¡¨&#34;&gt;#&lt;/a&gt; è°¨æ…ä½¿ç”¨ MySQL åˆ†åŒºè¡¨&lt;/h4&gt;
&lt;p&gt;åˆ†åŒºè¡¨åœ¨ç‰©ç†ä¸Šè¡¨ç°ä¸ºå¤šä¸ªæ–‡ä»¶ï¼Œåœ¨é€»è¾‘ä¸Šè¡¨ç°ä¸ºä¸€ä¸ªè¡¨ï¼›&lt;/p&gt;
&lt;p&gt;è°¨æ…é€‰æ‹©åˆ†åŒºé”®ï¼Œ&lt;font color=&#39;red&#39;&gt;è·¨åˆ†åŒºæŸ¥è¯¢æ•ˆç‡å¯èƒ½æ›´ä½&lt;/font&gt;ï¼›&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å»ºè®®é‡‡ç”¨ç‰©ç†åˆ†è¡¨&lt;/font&gt;çš„æ–¹å¼ç®¡ç†å¤§æ•°æ®ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç»å¸¸ä¸€èµ·ä½¿ç”¨çš„åˆ—æ”¾åˆ°ä¸€ä¸ªè¡¨ä¸­&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç»å¸¸ä¸€èµ·ä½¿ç”¨çš„åˆ—æ”¾åˆ°ä¸€ä¸ªè¡¨ä¸­&#34;&gt;#&lt;/a&gt; ç»å¸¸ä¸€èµ·ä½¿ç”¨çš„åˆ—æ”¾åˆ°ä¸€ä¸ªè¡¨ä¸­&lt;/h4&gt;
&lt;p&gt;é¿å…æ›´å¤šçš„å…³è”æ“ä½œã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¦æ­¢åœ¨è¡¨ä¸­å»ºç«‹é¢„ç•™å­—æ®µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¦æ­¢åœ¨è¡¨ä¸­å»ºç«‹é¢„ç•™å­—æ®µ&#34;&gt;#&lt;/a&gt; ç¦æ­¢åœ¨è¡¨ä¸­å»ºç«‹é¢„ç•™å­—æ®µ&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;é¢„ç•™å­—æ®µçš„å‘½å&lt;font color=&#39;red&#39;&gt;å¾ˆéš¾åšåˆ°è§åè¯†ä¹‰&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;é¢„ç•™å­—æ®µ&lt;font color=&#39;red&#39;&gt;æ— æ³•ç¡®è®¤å­˜å‚¨çš„æ•°æ®ç±»å‹&lt;/font&gt;ï¼Œæ‰€ä»¥æ— æ³•é€‰æ‹©åˆé€‚çš„ç±»å‹ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹é¢„ç•™å­—æ®µç±»å‹çš„ä¿®æ”¹ï¼Œä¼šå¯¹è¡¨è¿›è¡Œé”å®šã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ç¦æ­¢åœ¨æ•°æ®åº“ä¸­å­˜å‚¨æ–‡ä»¶æ¯”å¦‚å›¾ç‰‡è¿™ç±»å¤§çš„äºŒè¿›åˆ¶æ•°æ®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¦æ­¢åœ¨æ•°æ®åº“ä¸­å­˜å‚¨æ–‡ä»¶æ¯”å¦‚å›¾ç‰‡è¿™ç±»å¤§çš„äºŒè¿›åˆ¶æ•°æ®&#34;&gt;#&lt;/a&gt; ç¦æ­¢åœ¨æ•°æ®åº“ä¸­å­˜å‚¨æ–‡ä»¶ï¼ˆæ¯”å¦‚å›¾ç‰‡ï¼‰è¿™ç±»å¤§çš„äºŒè¿›åˆ¶æ•°æ®&lt;/h4&gt;
&lt;p&gt;åœ¨æ•°æ®åº“ä¸­å­˜å‚¨æ–‡ä»¶&lt;font color=&#39;red&#39;&gt;ä¼šä¸¥é‡å½±å“æ•°æ®åº“æ€§èƒ½ï¼Œæ¶ˆè€—è¿‡å¤šå­˜å‚¨ç©ºé—´&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç±»å¤§çš„äºŒè¿›åˆ¶æ•°æ®æ–‡ä»¶ï¼ˆæ¯”å¦‚å›¾ç‰‡ï¼‰&lt;font color=&#39;red&#39;&gt;é€šå¸¸å­˜å‚¨äºæ–‡ä»¶æœåŠ¡å™¨ï¼Œæ•°æ®åº“åªå­˜å‚¨æ–‡ä»¶åœ°å€ä¿¡æ¯&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä¸è¦è¢«æ•°æ®åº“èŒƒå¼æ‰€æŸç¼š&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸è¦è¢«æ•°æ®åº“èŒƒå¼æ‰€æŸç¼š&#34;&gt;#&lt;/a&gt; ä¸è¦è¢«æ•°æ®åº“èŒƒå¼æ‰€æŸç¼š&lt;/h4&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œè®¾è®¡å…³ç³»æ•°æ®åº“æ—¶éœ€è¦æ»¡è¶³ç¬¬ä¸‰èŒƒå¼ï¼Œä½†&lt;font color=&#39;red&#39;&gt;ä¸ºäº†æ»¡è¶³ç¬¬ä¸‰èŒƒå¼ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæ‹†åˆ†å‡ºå¤šå¼ è¡¨&lt;/font&gt;ã€‚è€Œåœ¨è¿›è¡ŒæŸ¥è¯¢æ—¶éœ€è¦å¯¹å¤šå¼ è¡¨è¿›è¡Œå…³è”æŸ¥è¯¢ï¼Œ&lt;font color=&#39;red&#39;&gt;æœ‰æ—¶ä¸ºäº†æé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œä¼šé™ä½èŒƒå¼çš„è¦æ±‚ï¼Œåœ¨è¡¨ä¸­ä¿å­˜ä¸€å®šçš„å†—ä½™ä¿¡æ¯ï¼Œä¹Ÿå«åšåèŒƒå¼&lt;/font&gt;ã€‚ä½†è¦æ³¨æ„åèŒƒå¼ä¸€å®šè¦é€‚åº¦ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¦æ­¢åœ¨çº¿ä¸Šåšæ•°æ®åº“å‹åŠ›æµ‹è¯•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¦æ­¢åœ¨çº¿ä¸Šåšæ•°æ®åº“å‹åŠ›æµ‹è¯•&#34;&gt;#&lt;/a&gt; ç¦æ­¢åœ¨çº¿ä¸Šåšæ•°æ®åº“å‹åŠ›æµ‹è¯•&lt;/h4&gt;
&lt;h4 id=&#34;ç¦æ­¢ä»å¼€å‘ç¯å¢ƒ-æµ‹è¯•ç¯å¢ƒç›´æ¥è¿æ¥ç”Ÿäº§ç¯å¢ƒæ•°æ®åº“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¦æ­¢ä»å¼€å‘ç¯å¢ƒ-æµ‹è¯•ç¯å¢ƒç›´æ¥è¿æ¥ç”Ÿäº§ç¯å¢ƒæ•°æ®åº“&#34;&gt;#&lt;/a&gt; ç¦æ­¢ä»å¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒç›´æ¥è¿æ¥ç”Ÿäº§ç¯å¢ƒæ•°æ®åº“&lt;/h4&gt;
&lt;p&gt;å®‰å…¨éšæ‚£æå¤§ï¼Œè¦å¯¹ç”Ÿäº§ç¯å¢ƒæŠ±æœ‰æ•¬ç•ä¹‹å¿ƒï¼&lt;/p&gt;
&lt;h3 id=&#34;å­—æ®µè®¾è®¡è§„èŒƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å­—æ®µè®¾è®¡è§„èŒƒ&#34;&gt;#&lt;/a&gt; å­—æ®µè®¾è®¡è§„èŒƒ&lt;/h3&gt;
&lt;h4 id=&#34;ä¼˜å…ˆé€‰æ‹©ç¬¦åˆå­˜å‚¨éœ€è¦çš„æœ€å°çš„æ•°æ®ç±»å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¼˜å…ˆé€‰æ‹©ç¬¦åˆå­˜å‚¨éœ€è¦çš„æœ€å°çš„æ•°æ®ç±»å‹&#34;&gt;#&lt;/a&gt; ä¼˜å…ˆé€‰æ‹©ç¬¦åˆå­˜å‚¨éœ€è¦çš„æœ€å°çš„æ•°æ®ç±»å‹&lt;/h4&gt;
&lt;p&gt;å­˜å‚¨å­—èŠ‚è¶Šå°ï¼Œå ç”¨ä¹Ÿå°±ç©ºé—´è¶Šå°ï¼Œæ€§èƒ½ä¹Ÿè¶Šå¥½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;a. æŸäº›å­—ç¬¦ä¸²å¯ä»¥è½¬æ¢æˆæ•°å­—ç±»å‹å­˜å‚¨ï¼Œæ¯”å¦‚å¯ä»¥å°† IP åœ°å€è½¬æ¢æˆæ•´å‹æ•°æ®ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ•°å­—æ˜¯è¿ç»­çš„ï¼Œæ€§èƒ½æ›´å¥½ï¼Œå ç”¨ç©ºé—´ä¹Ÿæ›´å°ã€‚&lt;/p&gt;
&lt;p&gt;MySQL æä¾›äº†ä¸¤ä¸ªæ–¹æ³•æ¥å¤„ç† ip åœ°å€&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;INET_ATON()&lt;/code&gt; ï¼šæŠŠ ip è½¬ä¸ºæ— ç¬¦å·æ•´å‹ (4-8 ä½)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;INET_NTOA()&lt;/code&gt;  : æŠŠæ•´å‹çš„ ip è½¬ä¸ºåœ°å€&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ’å…¥æ•°æ®å‰ï¼Œå…ˆç”¨  &lt;code&gt;INET_ATON()&lt;/code&gt;  æŠŠ ip åœ°å€è½¬ä¸ºæ•´å‹ï¼Œæ˜¾ç¤ºæ•°æ®æ—¶ï¼Œä½¿ç”¨  &lt;code&gt;INET_NTOA()&lt;/code&gt;  æŠŠæ•´å‹çš„ ip åœ°å€è½¬ä¸ºåœ°å€æ˜¾ç¤ºå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;b. å¯¹äºéè´Ÿå‹çš„æ•°æ® (å¦‚è‡ªå¢ IDã€æ•´å‹ IPã€å¹´é¾„) æ¥è¯´ï¼Œè¦ä¼˜å…ˆä½¿ç”¨æ— ç¬¦å·æ•´å‹æ¥å­˜å‚¨ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æ— ç¬¦å·ç›¸å¯¹äºæœ‰ç¬¦å·å¯ä»¥å¤šå‡ºä¸€å€çš„å­˜å‚¨ç©ºé—´&lt;/font&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;SIGNED &lt;span class=&#34;token keyword&#34;&gt;INT&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;2147483648&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;~&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;2147483647&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;UNSIGNED&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;INT&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;~&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4294967295&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;c. å°æ•°å€¼ç±»å‹ï¼ˆæ¯”å¦‚å¹´é¾„ã€çŠ¶æ€è¡¨ç¤ºå¦‚ 0/1ï¼‰ä¼˜å…ˆä½¿ç”¨ TINYINT ç±»å‹ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;é¿å…ä½¿ç”¨-text-blob-æ•°æ®ç±»å‹æœ€å¸¸è§çš„-text-ç±»å‹å¯ä»¥å­˜å‚¨-64k-çš„æ•°æ®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¿å…ä½¿ç”¨-text-blob-æ•°æ®ç±»å‹æœ€å¸¸è§çš„-text-ç±»å‹å¯ä»¥å­˜å‚¨-64k-çš„æ•°æ®&#34;&gt;#&lt;/a&gt; é¿å…ä½¿ç”¨ TEXTã€BLOB æ•°æ®ç±»å‹ï¼Œæœ€å¸¸è§çš„ TEXT ç±»å‹å¯ä»¥å­˜å‚¨ 64k çš„æ•°æ®&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;a. å»ºè®®æŠŠ BLOB æˆ–æ˜¯ TEXT åˆ—åˆ†ç¦»åˆ°å•ç‹¬çš„æ‰©å±•è¡¨ä¸­ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;MySQL &lt;font color=&#39;red&#39;&gt;å†…å­˜ä¸´æ—¶è¡¨ä¸æ”¯æŒ TEXTã€BLOB è¿™æ ·çš„å¤§æ•°æ®ç±»å‹&lt;/font&gt;ï¼Œå¦‚æœæŸ¥è¯¢ä¸­åŒ…å«è¿™æ ·çš„æ•°æ®ï¼Œåœ¨æ’åºç­‰æ“ä½œæ—¶ï¼Œå°±ä¸èƒ½ä½¿ç”¨å†…å­˜ä¸´æ—¶è¡¨ï¼Œ&lt;font color=&#39;red&#39;&gt;å¿…é¡»ä½¿ç”¨ç£ç›˜ä¸´æ—¶è¡¨è¿›è¡Œ&lt;/font&gt;ã€‚è€Œä¸”å¯¹äºè¿™ç§æ•°æ®ï¼ŒMySQL è¿˜æ˜¯è¦è¿›è¡ŒäºŒæ¬¡æŸ¥è¯¢ï¼Œä¼šä½¿ sql æ€§èƒ½å˜å¾—å¾ˆå·®ï¼Œä½†æ˜¯ä¸æ˜¯è¯´ä¸€å®šä¸èƒ½ä½¿ç”¨è¿™æ ·çš„æ•°æ®ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¦‚æœä¸€å®šè¦ä½¿ç”¨ï¼Œå»ºè®®æŠŠ BLOB æˆ–æ˜¯ TEXT åˆ—åˆ†ç¦»åˆ°å•ç‹¬çš„æ‰©å±•è¡¨ä¸­&lt;/font&gt;ï¼ŒæŸ¥è¯¢æ—¶ä¸€å®šä¸è¦ä½¿ç”¨  &lt;code&gt;select *&lt;/code&gt;  è€Œåªéœ€è¦å–å‡ºå¿…è¦çš„åˆ—ï¼Œä¸éœ€è¦ TEXT åˆ—çš„æ•°æ®æ—¶ä¸è¦å¯¹è¯¥åˆ—è¿›è¡ŒæŸ¥è¯¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2ã€TEXT æˆ– BLOB ç±»å‹åªèƒ½ä½¿ç”¨å‰ç¼€ç´¢å¼•&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å› ä¸º MySQL å¯¹ç´¢å¼•å­—æ®µé•¿åº¦æ˜¯æœ‰é™åˆ¶çš„ï¼Œæ‰€ä»¥ TEXT ç±»å‹åªèƒ½ä½¿ç”¨å‰ç¼€ç´¢å¼•ï¼Œå¹¶ä¸” TEXT åˆ—ä¸Šæ˜¯ä¸èƒ½æœ‰é»˜è®¤å€¼çš„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;é¿å…ä½¿ç”¨-enum-ç±»å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¿å…ä½¿ç”¨-enum-ç±»å‹&#34;&gt;#&lt;/a&gt; é¿å…ä½¿ç”¨ ENUM ç±»å‹&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ä¿®æ”¹ ENUM å€¼éœ€è¦ä½¿ç”¨ ALTER è¯­å¥&lt;/font&gt;ï¼›&lt;/li&gt;
&lt;li&gt;ENUM ç±»å‹çš„ &lt;font color=&#39;red&#39;&gt;ORDER BY æ“ä½œæ•ˆç‡ä½&lt;/font&gt;ï¼Œéœ€è¦é¢å¤–æ“ä½œï¼›&lt;/li&gt;
&lt;li&gt;ENUM æ•°æ®ç±»å‹å­˜åœ¨ä¸€äº›é™åˆ¶ï¼Œæ¯”å¦‚å»ºè®®ä¸è¦ä½¿ç”¨æ•°å€¼ä½œä¸º ENUM çš„æšä¸¾å€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç›¸å…³é˜…è¯»ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzQwNDQyMjI1NS9hbnN3ZXIvMTY2MTY5ODQ5OQ==&#34;&gt;æ˜¯å¦æ¨èä½¿ç”¨ MySQL çš„ enum ç±»å‹ï¼Ÿ - æ¶æ„æ–‡æ‘˜ - çŸ¥ä¹&lt;/span&gt;&lt;/p&gt;
&lt;h4 id=&#34;å°½å¯èƒ½æŠŠæ‰€æœ‰åˆ—å®šä¹‰ä¸º-not-null&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°½å¯èƒ½æŠŠæ‰€æœ‰åˆ—å®šä¹‰ä¸º-not-null&#34;&gt;#&lt;/a&gt; å°½å¯èƒ½æŠŠæ‰€æœ‰åˆ—å®šä¹‰ä¸º NOT NULL&lt;/h4&gt;
&lt;p&gt;é™¤éæœ‰ç‰¹åˆ«çš„åŸå› ä½¿ç”¨ NULL å€¼ï¼Œåº”è¯¥æ€»æ˜¯è®©å­—æ®µä¿æŒ NOT NULLã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç´¢å¼• NULL åˆ—éœ€è¦é¢å¤–çš„ç©ºé—´æ¥ä¿å­˜ï¼Œæ‰€ä»¥è¦å ç”¨æ›´å¤šçš„ç©ºé—´ï¼›&lt;/li&gt;
&lt;li&gt;è¿›è¡Œæ¯”è¾ƒå’Œè®¡ç®—æ—¶è¦å¯¹ NULL å€¼åšç‰¹åˆ«çš„å¤„ç†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç›¸å…³é˜…è¯»ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9vcGVuc291cmNlLmFjdGlvbnNreS5jb20vMjAxOTA3MTAtbXlzcWwv&#34;&gt;æŠ€æœ¯åˆ†äº« | MySQL é»˜è®¤å€¼é€‰å‹ï¼ˆæ˜¯ç©ºï¼Œè¿˜æ˜¯ NULLï¼‰&lt;/span&gt;&lt;/p&gt;
&lt;h4 id=&#34;ä¸€å®šä¸è¦ç”¨å­—ç¬¦ä¸²å­˜å‚¨æ—¥æœŸ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸€å®šä¸è¦ç”¨å­—ç¬¦ä¸²å­˜å‚¨æ—¥æœŸ&#34;&gt;#&lt;/a&gt; ä¸€å®šä¸è¦ç”¨å­—ç¬¦ä¸²å­˜å‚¨æ—¥æœŸ&lt;/h4&gt;
&lt;p&gt;å¯¹äºæ—¥æœŸç±»å‹æ¥è¯´ï¼Œä¸€å®šä¸è¦ç”¨å­—ç¬¦ä¸²å­˜å‚¨æ—¥æœŸã€‚&lt;font color=&#39;red&#39;&gt;å¯ä»¥è€ƒè™‘ DATETIMEã€TIMESTAMPã€æ•°å€¼å‹æ—¶é—´æˆ³&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸‰ç§æ–¹å¼éƒ½æœ‰å„è‡ªçš„ä¼˜åŠ¿ï¼Œæ ¹æ®å®é™…åœºæ™¯é€‰æ‹©æœ€åˆé€‚çš„æ‰æ˜¯ç‹é“ã€‚ä¸‹é¢å†å¯¹è¿™ä¸‰ç§æ–¹å¼åšä¸€ä¸ªç®€å•çš„å¯¹æ¯”ï¼Œä»¥ä¾›å¤§å®¶å®é™…å¼€å‘ä¸­é€‰æ‹©æ­£ç¡®çš„å­˜æ”¾æ—¶é—´çš„æ•°æ®ç±»å‹ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç±»å‹&lt;/th&gt;
&lt;th&gt;å­˜å‚¨ç©ºé—´&lt;/th&gt;
&lt;th&gt;æ—¥æœŸæ ¼å¼&lt;/th&gt;
&lt;th&gt;æ—¥æœŸèŒƒå›´&lt;/th&gt;
&lt;th&gt;æ˜¯å¦å¸¦æ—¶åŒºä¿¡æ¯&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;DATETIME&lt;/td&gt;
&lt;td&gt;5~8 å­—èŠ‚&lt;/td&gt;
&lt;td&gt;YYYY-MM-DD hh:mm:ss[.fraction]&lt;/td&gt;
&lt;td&gt;1000-01-01 00:00:00[.000000] ï½ 9999-12-31 23:59:59[.999999]&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;TIMESTAMP&lt;/td&gt;
&lt;td&gt;4~7 å­—èŠ‚&lt;/td&gt;
&lt;td&gt;YYYY-MM-DD hh:mm:ss[.fraction]&lt;/td&gt;
&lt;td&gt;1970-01-01 00:00:01[.000000] ï½ 2038-01-19 03:14:07[.999999]&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ•°å€¼å‹æ—¶é—´æˆ³&lt;/td&gt;
&lt;td&gt;4 å­—èŠ‚&lt;/td&gt;
&lt;td&gt;å…¨æ•°å­—å¦‚ 1578707612&lt;/td&gt;
&lt;td&gt;1970-01-01 00:00:01 ä¹‹åçš„æ—¶é—´&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;MySQL æ—¶é—´ç±»å‹é€‰æ‹©çš„è¯¦ç»†ä»‹ç»è¯·çœ‹è¿™ç¯‡ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qYXZhZ3VpZGUuY24vZGF0YWJhc2UvbXlzcWwvc29tZS10aG91Z2h0cy1vbi1kYXRhYmFzZS1zdG9yYWdlLXRpbWUuaHRtbA==&#34;&gt;MySQL æ—¶é—´ç±»å‹æ•°æ®å­˜å‚¨å»ºè®®&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;è´¢åŠ¡ç›¸å…³çš„é‡‘é¢ç±»æ•°æ®å¿…é¡»ä½¿ç”¨-decimal-ç±»å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è´¢åŠ¡ç›¸å…³çš„é‡‘é¢ç±»æ•°æ®å¿…é¡»ä½¿ç”¨-decimal-ç±»å‹&#34;&gt;#&lt;/a&gt; è´¢åŠ¡ç›¸å…³çš„é‡‘é¢ç±»æ•°æ®å¿…é¡»ä½¿ç”¨ decimal ç±»å‹&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;éç²¾å‡†æµ®ç‚¹&lt;/strong&gt;ï¼šfloatã€double&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;ç²¾å‡†æµ®ç‚¹&lt;/font&gt;&lt;/strong&gt;ï¼šdecimal&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;decimal ç±»å‹ä¸ºç²¾å‡†æµ®ç‚¹æ•°ï¼Œ&lt;font color=&#39;red&#39;&gt;åœ¨è®¡ç®—æ—¶ä¸ä¼šä¸¢å¤±ç²¾åº¦&lt;/font&gt;ã€‚å ç”¨ç©ºé—´ç”±å®šä¹‰çš„å®½åº¦å†³å®šï¼Œæ¯ 4 ä¸ªå­—èŠ‚å¯ä»¥å­˜å‚¨ 9 ä½æ•°å­—ï¼Œå¹¶ä¸”å°æ•°ç‚¹è¦å ç”¨ä¸€ä¸ªå­—èŠ‚ã€‚å¹¶ä¸”ï¼Œ&lt;font color=&#39;red&#39;&gt;decimal å¯ç”¨äºå­˜å‚¨æ¯” bigint æ›´å¤§çš„æ•´å‹æ•°æ®&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œç”±äº decimal &lt;font color=&#39;red&#39;&gt;éœ€è¦é¢å¤–çš„ç©ºé—´å’Œè®¡ç®—å¼€é”€&lt;/font&gt;ï¼Œåº”è¯¥å°½é‡åªåœ¨éœ€è¦å¯¹æ•°æ®è¿›è¡Œç²¾ç¡®è®¡ç®—æ—¶æ‰ä½¿ç”¨ decimal ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å•è¡¨ä¸è¦åŒ…å«è¿‡å¤šå­—æ®µ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å•è¡¨ä¸è¦åŒ…å«è¿‡å¤šå­—æ®µ&#34;&gt;#&lt;/a&gt; å•è¡¨ä¸è¦åŒ…å«è¿‡å¤šå­—æ®µ&lt;/h4&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ªè¡¨åŒ…å«è¿‡å¤šå­—æ®µçš„è¯ï¼Œå¯ä»¥è€ƒè™‘å°†å…¶&lt;font color=&#39;red&#39;&gt;å‚ç›´åˆ†è¡¨&lt;/font&gt;ï¼Œå¿…è¦æ—¶å¢åŠ ä¸­é—´è¡¨è¿›è¡Œå…³è”ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç´¢å¼•è®¾è®¡è§„èŒƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç´¢å¼•è®¾è®¡è§„èŒƒ&#34;&gt;#&lt;/a&gt; ç´¢å¼•è®¾è®¡è§„èŒƒ&lt;/h3&gt;
&lt;h4 id=&#34;é™åˆ¶æ¯å¼ è¡¨ä¸Šçš„ç´¢å¼•æ•°é‡å»ºè®®å•å¼ è¡¨ç´¢å¼•ä¸è¶…è¿‡-5-ä¸ª&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é™åˆ¶æ¯å¼ è¡¨ä¸Šçš„ç´¢å¼•æ•°é‡å»ºè®®å•å¼ è¡¨ç´¢å¼•ä¸è¶…è¿‡-5-ä¸ª&#34;&gt;#&lt;/a&gt; é™åˆ¶æ¯å¼ è¡¨ä¸Šçš„ç´¢å¼•æ•°é‡ï¼Œå»ºè®®å•å¼ è¡¨ç´¢å¼•ä¸è¶…è¿‡ 5 ä¸ª&lt;/h4&gt;
&lt;p&gt;ç´¢å¼•å¹¶ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼ç´¢å¼•å¯ä»¥æé«˜æ•ˆç‡åŒæ ·å¯ä»¥é™ä½æ•ˆç‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ç´¢å¼•å¯ä»¥å¢åŠ æŸ¥è¯¢æ•ˆç‡ï¼Œä½†åŒæ ·ä¹Ÿä¼šé™ä½æ’å…¥å’Œæ›´æ–°çš„æ•ˆç‡&lt;/font&gt;ï¼Œç”šè‡³æœ‰äº›æƒ…å†µä¸‹ä¼šé™ä½æŸ¥è¯¢æ•ˆç‡ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸º MySQL ä¼˜åŒ–å™¨åœ¨é€‰æ‹©å¦‚ä½•ä¼˜åŒ–æŸ¥è¯¢æ—¶ï¼Œä¼šæ ¹æ®ç»Ÿä¸€ä¿¡æ¯ï¼Œå¯¹æ¯ä¸€ä¸ªå¯ä»¥ç”¨åˆ°çš„ç´¢å¼•æ¥è¿›è¡Œè¯„ä¼°ï¼Œä»¥ç”Ÿæˆå‡ºä¸€ä¸ªæœ€å¥½çš„æ‰§è¡Œè®¡åˆ’ï¼Œå¦‚æœåŒæ—¶æœ‰å¾ˆå¤šä¸ªç´¢å¼•éƒ½å¯ä»¥ç”¨äºæŸ¥è¯¢ï¼Œå°±ä¼šå¢åŠ &lt;font color=&#39;red&#39;&gt; MySQL ä¼˜åŒ–å™¨ç”Ÿæˆæ‰§è¡Œè®¡åˆ’çš„æ—¶é—´&lt;/font&gt;ï¼ŒåŒæ ·ä¼šé™ä½æŸ¥è¯¢æ€§èƒ½ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¦æ­¢ä½¿ç”¨å…¨æ–‡ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¦æ­¢ä½¿ç”¨å…¨æ–‡ç´¢å¼•&#34;&gt;#&lt;/a&gt; ç¦æ­¢ä½¿ç”¨å…¨æ–‡ç´¢å¼•&lt;/h4&gt;
&lt;p&gt;å…¨æ–‡ç´¢å¼•ä¸é€‚ç”¨äº OLTPï¼ˆè”æœºäº‹åŠ¡å¤„ç†ï¼‰åœºæ™¯ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¦æ­¢ç»™è¡¨ä¸­çš„æ¯ä¸€åˆ—éƒ½å»ºç«‹å•ç‹¬çš„ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¦æ­¢ç»™è¡¨ä¸­çš„æ¯ä¸€åˆ—éƒ½å»ºç«‹å•ç‹¬çš„ç´¢å¼•&#34;&gt;#&lt;/a&gt; ç¦æ­¢ç»™è¡¨ä¸­çš„æ¯ä¸€åˆ—éƒ½å»ºç«‹å•ç‹¬çš„ç´¢å¼•&lt;/h4&gt;
&lt;p&gt;5.6 ç‰ˆæœ¬ä¹‹å‰ï¼Œä¸€ä¸ª sql åªèƒ½ä½¿ç”¨åˆ°ä¸€ä¸ªè¡¨ä¸­çš„ä¸€ä¸ªç´¢å¼•ï¼›5.6 ä»¥åï¼Œè™½ç„¶æœ‰äº†åˆå¹¶ç´¢å¼•çš„ä¼˜åŒ–æ–¹å¼ï¼Œä½†æ˜¯è¿˜æ˜¯è¿œè¿œæ²¡æœ‰ä½¿ç”¨ä¸€ä¸ªè”åˆç´¢å¼•çš„æŸ¥è¯¢æ–¹å¼å¥½ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ¯ä¸ª-innodb-è¡¨å¿…é¡»æœ‰ä¸ªä¸»é”®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¯ä¸ª-innodb-è¡¨å¿…é¡»æœ‰ä¸ªä¸»é”®&#34;&gt;#&lt;/a&gt; æ¯ä¸ª InnoDB è¡¨å¿…é¡»æœ‰ä¸ªä¸»é”®&lt;/h4&gt;
&lt;p&gt;InnoDB æ˜¯ä¸€ç§ç´¢å¼•ç»„ç»‡è¡¨ï¼š&lt;font color=&#39;red&#39;&gt;æ•°æ®å­˜å‚¨çš„é€»è¾‘é¡ºåºå’Œç´¢å¼•çš„é¡ºåºæ˜¯ç›¸åŒçš„&lt;/font&gt;ã€‚æ¯ä¸ªè¡¨éƒ½å¯ä»¥æœ‰å¤šä¸ªç´¢å¼•ï¼Œä½†æ˜¯è¡¨çš„å­˜å‚¨é¡ºåºåªèƒ½æœ‰ä¸€ç§ã€‚&lt;/p&gt;
&lt;p&gt;InnoDB æ˜¯ **&lt;font color=&#39;red&#39;&gt;æŒ‰ç…§ä¸»é”®ç´¢å¼•çš„é¡ºåºæ¥ç»„ç»‡è¡¨&lt;/font&gt;** çš„&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸è¦ä½¿ç”¨æ›´æ–°é¢‘ç¹çš„åˆ—ä½œä¸ºä¸»é”®ï¼Œä¸ä½¿ç”¨å¤šåˆ—ä¸»é”®ï¼ˆç›¸å½“äºè”åˆç´¢å¼•ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸è¦ä½¿ç”¨ UUID,MD5,HASH, å­—ç¬¦ä¸²åˆ—ä½œä¸ºä¸»é”®ï¼ˆæ— æ³•ä¿è¯æ•°æ®çš„é¡ºåºå¢é•¿ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ä¸»é”®å»ºè®®ä½¿ç”¨è‡ªå¢ ID å€¼&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å¸¸è§ç´¢å¼•åˆ—å»ºè®®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¸¸è§ç´¢å¼•åˆ—å»ºè®®&#34;&gt;#&lt;/a&gt; å¸¸è§ç´¢å¼•åˆ—å»ºè®®&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å‡ºç°åœ¨ WHERE å­å¥ä¸­çš„åˆ—&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åŒ…å«åœ¨ ORDER BYã€GROUP BYã€DISTINCT ä¸­çš„å­—æ®µ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;é€šå¸¸å°†ä¸Šè¿°ä¸¤ç§æƒ…å†µçš„å­—æ®µå»ºç«‹&lt;u&gt;è”åˆç´¢å¼•&lt;/u&gt;ï¼Œæ•ˆæœæ›´å¥½&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¤šè¡¨ join çš„&lt;font color=&#39;red&#39;&gt;å…³è”åˆ—&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å¦‚ä½•é€‰æ‹©è”åˆç´¢å¼•ä¸­çš„åˆ—é¡ºåº&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¦‚ä½•é€‰æ‹©è”åˆç´¢å¼•ä¸­çš„åˆ—é¡ºåº&#34;&gt;#&lt;/a&gt; å¦‚ä½•é€‰æ‹©è”åˆç´¢å¼•ä¸­çš„åˆ—é¡ºåº&lt;/h4&gt;
&lt;p&gt;å»ºç«‹ç´¢å¼•çš„ç›®çš„æ˜¯ï¼šå¸Œæœ›é€šè¿‡ç´¢å¼•è¿›è¡Œæ•°æ®æŸ¥æ‰¾ï¼Œå‡å°‘éšæœº IOï¼Œå¢åŠ æŸ¥è¯¢æ€§èƒ½ï¼Œ&lt;font color=&#39;red&#39;&gt;ç´¢å¼•èƒ½è¿‡æ»¤å‡ºè¶Šå°‘çš„æ•°æ®ï¼Œåˆ™ä»ç£ç›˜ä¸­è¯»å…¥çš„æ•°æ®ä¹Ÿå°±è¶Šå°‘&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;åŒºåˆ†åº¦æœ€é«˜çš„åˆ—&lt;/font&gt;æ”¾åœ¨è”åˆç´¢å¼•çš„æœ€å·¦ä¾§&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åŒºåˆ†åº¦ = åˆ—ä¸­ä¸åŒå€¼çš„æ•°é‡ / åˆ—çš„æ€»è¡Œæ•°&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°½é‡æŠŠ&lt;font color=&#39;red&#39;&gt;å­—æ®µé•¿åº¦å°çš„åˆ—&lt;/font&gt;æ”¾åœ¨è”åˆç´¢å¼•çš„æœ€å·¦ä¾§&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å› ä¸ºå­—æ®µé•¿åº¦è¶Šå°ï¼Œä¸€é¡µèƒ½å­˜å‚¨çš„æ•°æ®é‡è¶Šå¤§ï¼ŒIO æ€§èƒ½ä¹Ÿå°±è¶Šå¥½&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ä½¿ç”¨æœ€é¢‘ç¹çš„åˆ—&lt;/font&gt;æ”¾åˆ°è”åˆç´¢å¼•çš„å·¦ä¾§&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™æ ·å¯ä»¥æ¯”è¾ƒå°‘çš„å»ºç«‹ä¸€äº›ç´¢å¼•&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;é¿å…å»ºç«‹å†—ä½™ç´¢å¼•-é‡å¤ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¿å…å»ºç«‹å†—ä½™ç´¢å¼•-é‡å¤ç´¢å¼•&#34;&gt;#&lt;/a&gt; é¿å…å»ºç«‹å†—ä½™ç´¢å¼•ã€é‡å¤ç´¢å¼•&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å¢åŠ äº†æŸ¥è¯¢ä¼˜åŒ–å™¨ç”Ÿæˆæ‰§è¡Œè®¡åˆ’çš„æ—¶é—´&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;é‡å¤ç´¢å¼•ç¤ºä¾‹ï¼šprimary key (id)ã€index (id)ã€unique index (id)&lt;/li&gt;
&lt;li&gt;å†—ä½™ç´¢å¼•ç¤ºä¾‹ï¼šindex (a,b,c)ã€index (a,b)ã€index (a)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å¯¹äºé¢‘ç¹çš„æŸ¥è¯¢ä¼˜å…ˆè€ƒè™‘è¦†ç›–ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¯¹äºé¢‘ç¹çš„æŸ¥è¯¢ä¼˜å…ˆè€ƒè™‘è¦†ç›–ç´¢å¼•&#34;&gt;#&lt;/a&gt; å¯¹äºé¢‘ç¹çš„æŸ¥è¯¢ï¼Œä¼˜å…ˆè€ƒè™‘è¦†ç›–ç´¢å¼•&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;è¦†ç›–ç´¢å¼•ï¼š&lt;font color=&#39;red&#39;&gt;åŒ…å«äº†æ‰€æœ‰æŸ¥è¯¢å­—æ®µ&lt;/font&gt; (where,select,order by,group by åŒ…å«çš„å­—æ®µ) çš„ç´¢å¼•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¦†ç›–ç´¢å¼•çš„å¥½å¤„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;é¿å…äºŒæ¬¡æŸ¥è¯¢ï¼ˆå›è¡¨ï¼‰&lt;/font&gt;&lt;/strong&gt;ï¼šInnoDB æ˜¯ä»¥èšé›†ç´¢å¼•çš„é¡ºåºæ¥å­˜å‚¨çš„ï¼Œå¯¹äº InnoDB æ¥è¯´ï¼ŒäºŒçº§ç´¢å¼•åœ¨å¶å­èŠ‚ç‚¹ä¸­æ‰€ä¿å­˜çš„æ˜¯è¡Œçš„ä¸»é”®ä¿¡æ¯ã€‚&lt;font color=&#39;red&#39;&gt;å¦‚æœæ˜¯ç”¨äºŒçº§ç´¢å¼•æŸ¥è¯¢æ•°æ®çš„è¯ï¼Œåœ¨æŸ¥æ‰¾åˆ°ç›¸åº”çš„ä¸»é”®åï¼Œè¿˜è¦é€šè¿‡èšé›†ç´¢å¼•è¿›è¡ŒäºŒæ¬¡æŸ¥è¯¢æ‰èƒ½è·å–æˆ‘ä»¬çœŸå®æ‰€éœ€è¦çš„æ•°æ®&lt;/font&gt;ã€‚è€Œåœ¨è¦†ç›–ç´¢å¼•ä¸­ï¼ŒäºŒçº§ç´¢å¼•çš„é”®å€¼ä¸­å¯ä»¥è·å–æ‰€æœ‰çš„æ•°æ®ï¼Œé¿å…äº†å¯¹ä¸»é”®çš„äºŒæ¬¡æŸ¥è¯¢ï¼Œå‡å°‘äº† IO æ“ä½œï¼Œæå‡äº†æŸ¥è¯¢æ•ˆç‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯ä»¥æŠŠéšæœº IO å˜æˆé¡ºåº IO åŠ å¿«æŸ¥è¯¢æ•ˆç‡:&lt;/strong&gt; ç”±äºè¦†ç›–ç´¢å¼•æ˜¯æŒ‰é”®å€¼çš„é¡ºåºå­˜å‚¨çš„ï¼Œå¯¹äº IO å¯†é›†å‹çš„èŒƒå›´æŸ¥æ‰¾æ¥è¯´ï¼Œå¯¹æ¯”éšæœºä»ç£ç›˜è¯»å–æ¯ä¸€è¡Œçš„æ•°æ® IO è¦å°‘çš„å¤šã€‚å› æ­¤åˆ©ç”¨è¦†ç›–ç´¢å¼•åœ¨è®¿é—®æ—¶ä¹Ÿå¯ä»¥æŠŠç£ç›˜çš„éšæœºè¯»å–çš„ IO è½¬å˜æˆç´¢å¼•æŸ¥æ‰¾çš„é¡ºåº IOã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ç´¢å¼•-set-è§„èŒƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç´¢å¼•-set-è§„èŒƒ&#34;&gt;#&lt;/a&gt; ç´¢å¼• SET è§„èŒƒ&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å°½é‡é¿å…ä½¿ç”¨å¤–é”®çº¦æŸ&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸å»ºè®®ä½¿ç”¨å¤–é”®çº¦æŸï¼ˆforeign keyï¼‰ï¼Œä½†&lt;font color=&#39;red&#39;&gt;ä¸€å®šè¦åœ¨è¡¨ä¸è¡¨ä¹‹é—´çš„å…³è”é”®ä¸Šå»ºç«‹ç´¢å¼•&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;å¤–é”®å¯ç”¨äºä¿è¯æ•°æ®çš„å‚ç…§å®Œæ•´æ€§ï¼Œä½†&lt;font color=&#39;red&#39;&gt;å»ºè®®åœ¨ä¸šåŠ¡ç«¯å®ç°å¤–é”®çº¦æŸ&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å¤–é”®ä¼šå½±å“çˆ¶è¡¨å’Œå­è¡¨çš„å†™æ“ä½œ&lt;/font&gt;ï¼Œä»è€Œé™ä½æ€§èƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;sql-å¼€å‘è§„èŒƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sql-å¼€å‘è§„èŒƒ&#34;&gt;#&lt;/a&gt; SQL å¼€å‘è§„èŒƒ&lt;/h3&gt;
&lt;h4 id=&#34;å°½é‡ä¸åœ¨æ•°æ®åº“åšè¿ç®—å¤æ‚è¿ç®—éœ€ç§»åˆ°ä¸šåŠ¡åº”ç”¨é‡Œå®Œæˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°½é‡ä¸åœ¨æ•°æ®åº“åšè¿ç®—å¤æ‚è¿ç®—éœ€ç§»åˆ°ä¸šåŠ¡åº”ç”¨é‡Œå®Œæˆ&#34;&gt;#&lt;/a&gt; å°½é‡ä¸åœ¨æ•°æ®åº“åšè¿ç®—ï¼Œå¤æ‚è¿ç®—éœ€ç§»åˆ°ä¸šåŠ¡åº”ç”¨é‡Œå®Œæˆ&lt;/h4&gt;
&lt;p&gt;é¿å…æ•°æ®åº“çš„è´Ÿæ‹…è¿‡é‡ï¼Œå½±å“æ•°æ®åº“çš„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚æ•°æ®åº“çš„ä¸»è¦ä½œç”¨æ˜¯å­˜å‚¨å’Œç®¡ç†æ•°æ®ï¼Œè€Œä¸æ˜¯å¤„ç†æ•°æ®ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä¼˜åŒ–å¯¹æ€§èƒ½å½±å“è¾ƒå¤§çš„-sql-è¯­å¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¼˜åŒ–å¯¹æ€§èƒ½å½±å“è¾ƒå¤§çš„-sql-è¯­å¥&#34;&gt;#&lt;/a&gt; ä¼˜åŒ–å¯¹æ€§èƒ½å½±å“è¾ƒå¤§çš„ SQL è¯­å¥&lt;/h4&gt;
&lt;p&gt;è¦æ‰¾åˆ°æœ€éœ€è¦ä¼˜åŒ–çš„ SQL è¯­å¥ã€‚è¦ä¹ˆæ˜¯&lt;font color=&#39;red&#39;&gt;ä½¿ç”¨æœ€é¢‘ç¹&lt;/font&gt;çš„è¯­å¥ï¼Œè¦ä¹ˆæ˜¯&lt;font color=&#39;red&#39;&gt;ä¼˜åŒ–åæé«˜æœ€æ˜æ˜¾&lt;/font&gt;çš„è¯­å¥ï¼Œå¯ä»¥é€šè¿‡æŸ¥è¯¢ MySQL çš„ **&lt;font color=&#39;red&#39;&gt;æ…¢æŸ¥è¯¢æ—¥å¿—&lt;/font&gt;** æ¥å‘ç°éœ€è¦è¿›è¡Œä¼˜åŒ–çš„ SQL è¯­å¥ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å……åˆ†åˆ©ç”¨è¡¨ä¸Šå·²ç»å­˜åœ¨çš„ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å……åˆ†åˆ©ç”¨è¡¨ä¸Šå·²ç»å­˜åœ¨çš„ç´¢å¼•&#34;&gt;#&lt;/a&gt; å……åˆ†åˆ©ç”¨è¡¨ä¸Šå·²ç»å­˜åœ¨çš„ç´¢å¼•&lt;/h4&gt;
&lt;p&gt;é¿å…ä½¿ç”¨åŒ % å·çš„æŸ¥è¯¢æ¡ä»¶ã€‚å¦‚ï¼š &lt;code&gt;a like &#39;%123%&#39;&lt;/code&gt; ï¼Œï¼ˆå¦‚æœæ— å‰ç½® %, åªæœ‰åç½® %ï¼Œæ˜¯å¯ä»¥ç”¨åˆ°åˆ—ä¸Šçš„ç´¢å¼•çš„ï¼‰&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ª SQL åªèƒ½åˆ©ç”¨åˆ°å¤åˆç´¢å¼•ä¸­çš„ä¸€åˆ—è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ã€‚å¦‚ï¼šæœ‰ a,b,c åˆ—çš„è”åˆç´¢å¼•ï¼Œåœ¨æŸ¥è¯¢æ¡ä»¶ä¸­æœ‰ a åˆ—çš„èŒƒå›´æŸ¥è¯¢ï¼Œåˆ™åœ¨ b,c åˆ—ä¸Šçš„ç´¢å¼•å°†ä¸ä¼šè¢«ç”¨åˆ°ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å®šä¹‰è”åˆç´¢å¼•æ—¶ï¼Œå¦‚æœ a åˆ—è¦ç”¨åˆ°èŒƒå›´æŸ¥æ‰¾çš„è¯ï¼Œå°±è¦æŠŠ a åˆ—æ”¾åˆ°è”åˆç´¢å¼•çš„å³ä¾§ï¼Œä½¿ç”¨ left join æˆ– not exists æ¥ä¼˜åŒ– not in æ“ä½œï¼Œå› ä¸º not in ä¹Ÿé€šå¸¸ä¼šä½¿ç”¨ç´¢å¼•å¤±æ•ˆã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¦æ­¢ä½¿ç”¨-select-æŸ¥è¯¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¦æ­¢ä½¿ç”¨-select-æŸ¥è¯¢&#34;&gt;#&lt;/a&gt; ç¦æ­¢ä½¿ç”¨ SELECT * æŸ¥è¯¢&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;SELECT *&lt;/code&gt;  ä¼šæ¶ˆè€—æ›´å¤šçš„ CPU&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;SELECT *&lt;/code&gt;  æ— ç”¨å­—æ®µå¢åŠ ç½‘ç»œå¸¦å®½èµ„æºæ¶ˆè€—ï¼Œå¢åŠ æ•°æ®ä¼ è¾“æ—¶é—´ï¼Œå°¤å…¶æ˜¯å¤§å­—æ®µï¼ˆå¦‚ varcharã€blobã€textï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;SELECT *&lt;/code&gt;  &lt;font color=&#39;red&#39;&gt;æ— æ³•ä½¿ç”¨ MySQL ä¼˜åŒ–å™¨è¦†ç›–ç´¢å¼•çš„ä¼˜åŒ–&lt;/font&gt;ï¼ˆåŸºäº MySQL ä¼˜åŒ–å™¨çš„ â€œè¦†ç›–ç´¢å¼•â€ ç­–ç•¥åˆæ˜¯é€Ÿåº¦æå¿«ï¼Œæ•ˆç‡æé«˜ï¼Œä¸šç•Œæä¸ºæ¨èçš„æŸ¥è¯¢ä¼˜åŒ–æ–¹å¼ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;SELECT &amp;lt;å­—æ®µåˆ—è¡¨&amp;gt;&lt;/code&gt;  å¯å‡å°‘è¡¨ç»“æ„å˜æ›´å¸¦æ¥çš„å½±å“&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ç¦æ­¢ä½¿ç”¨ä¸å«å­—æ®µåˆ—è¡¨çš„-insert-è¯­å¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¦æ­¢ä½¿ç”¨ä¸å«å­—æ®µåˆ—è¡¨çš„-insert-è¯­å¥&#34;&gt;#&lt;/a&gt; ç¦æ­¢ä½¿ç”¨ä¸å«å­—æ®µåˆ—è¡¨çš„ INSERT è¯­å¥&lt;/h4&gt;
&lt;p&gt;å¦‚ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;insert&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;into&lt;/span&gt; t &lt;span class=&#34;token keyword&#34;&gt;values&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;a&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;b&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;c&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;åº”ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;insert&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;into&lt;/span&gt; t&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;c1&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;c2&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;c3&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;values&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;a&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;b&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;c&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;å»ºè®®ä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥è¿›è¡Œæ•°æ®åº“æ“ä½œ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å»ºè®®ä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥è¿›è¡Œæ•°æ®åº“æ“ä½œ&#34;&gt;#&lt;/a&gt; å»ºè®®ä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥è¿›è¡Œæ•°æ®åº“æ“ä½œ&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é¢„ç¼–è¯‘è¯­å¥å¯ä»¥é‡å¤ä½¿ç”¨è¿™äº›è®¡åˆ’ï¼Œ&lt;font color=&#39;red&#39;&gt;å‡å°‘ SQL ç¼–è¯‘æ‰€éœ€è¦çš„æ—¶é—´&lt;/font&gt;ï¼Œè¿˜å¯ä»¥&lt;font color=&#39;red&#39;&gt;è§£å†³åŠ¨æ€ SQL æ‰€å¸¦æ¥çš„ SQL æ³¨å…¥çš„é—®é¢˜&lt;/font&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;åªä¼ å‚æ•°&lt;/font&gt;ï¼Œæ¯”ä¼ é€’ SQL è¯­å¥æ›´é«˜æ•ˆ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç›¸åŒè¯­å¥å¯ä»¥&lt;font color=&#39;red&#39;&gt;ä¸€æ¬¡è§£æï¼Œå¤šæ¬¡ä½¿ç”¨&lt;/font&gt;ï¼Œæé«˜å¤„ç†æ•ˆç‡&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;é¿å…æ•°æ®ç±»å‹çš„éšå¼è½¬æ¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¿å…æ•°æ®ç±»å‹çš„éšå¼è½¬æ¢&#34;&gt;#&lt;/a&gt; é¿å…æ•°æ®ç±»å‹çš„éšå¼è½¬æ¢&lt;/h4&gt;
&lt;p&gt;éšå¼è½¬æ¢&lt;font color=&#39;red&#39;&gt;ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆ&lt;/font&gt;å¦‚:&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;phone &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; customer &lt;span class=&#34;token keyword&#34;&gt;where&lt;/span&gt; id &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;111&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è¯¦ç»†è§£è¯»å¯ä»¥çœ‹ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qYXZhZ3VpZGUuY24vZGF0YWJhc2UvbXlzcWwvaW5kZXgtaW52YWxpZGF0aW9uLWNhdXNlZC1ieS1pbXBsaWNpdC1jb252ZXJzaW9uLmh0bWw=&#34;&gt;MySQL ä¸­çš„éšå¼è½¬æ¢é€ æˆçš„ç´¢å¼•å¤±æ•ˆ&lt;/span&gt; è¿™ç¯‡æ–‡ç« ã€‚&lt;/p&gt;
&lt;h4 id=&#34;é¿å…ä½¿ç”¨å­æŸ¥è¯¢å¯ä»¥æŠŠå­æŸ¥è¯¢ä¼˜åŒ–ä¸º-join-æ“ä½œ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¿å…ä½¿ç”¨å­æŸ¥è¯¢å¯ä»¥æŠŠå­æŸ¥è¯¢ä¼˜åŒ–ä¸º-join-æ“ä½œ&#34;&gt;#&lt;/a&gt; é¿å…ä½¿ç”¨å­æŸ¥è¯¢ï¼Œå¯ä»¥æŠŠå­æŸ¥è¯¢ä¼˜åŒ–ä¸º join æ“ä½œ&lt;/h4&gt;
&lt;p&gt;é€šå¸¸å­æŸ¥è¯¢åœ¨ in å­å¥ä¸­ï¼Œä¸”å­æŸ¥è¯¢ä¸­ä¸ºç®€å• SQL (ä¸åŒ…å« unionã€group byã€order byã€limit ä»å¥) æ—¶ï¼Œæ‰å¯ä»¥æŠŠå­æŸ¥è¯¢è½¬åŒ–ä¸ºå…³è”æŸ¥è¯¢è¿›è¡Œä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;å­æŸ¥è¯¢æ€§èƒ½å·®çš„åŸå› ï¼š&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å­æŸ¥è¯¢çš„ç»“æœé›†é€šå¸¸è¢«å­˜å‚¨åˆ°ä¸´æ—¶è¡¨ä¸­ï¼Œä¸è®ºæ˜¯å†…å­˜ä¸´æ—¶è¡¨è¿˜æ˜¯ç£ç›˜ä¸´æ—¶è¡¨éƒ½ä¸ä¼šå­˜åœ¨ç´¢å¼•&lt;/font&gt;&lt;/strong&gt;ï¼Œæ‰€ä»¥æŸ¥è¯¢æ€§èƒ½ä¼šå—åˆ°ä¸€å®šçš„å½±å“ã€‚ç‰¹åˆ«æ˜¯å¯¹äºè¿”å›ç»“æœé›†æ¯”è¾ƒå¤§çš„å­æŸ¥è¯¢ï¼Œå…¶å¯¹æŸ¥è¯¢æ€§èƒ½çš„å½±å“ä¹Ÿå°±è¶Šå¤§ã€‚ç”±äºå­æŸ¥è¯¢ä¼šäº§ç”Ÿå¤§é‡çš„ä¸´æ—¶è¡¨ä¹Ÿæ²¡æœ‰ç´¢å¼•ï¼Œæ‰€ä»¥ä¼šæ¶ˆè€—è¿‡å¤šçš„ CPU å’Œ IO èµ„æºï¼Œäº§ç”Ÿå¤§é‡çš„æ…¢æŸ¥è¯¢ã€‚&lt;/p&gt;
&lt;h4 id=&#34;é¿å…ä½¿ç”¨-join-å…³è”å¤ªå¤šçš„è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¿å…ä½¿ç”¨-join-å…³è”å¤ªå¤šçš„è¡¨&#34;&gt;#&lt;/a&gt; é¿å…ä½¿ç”¨ JOIN å…³è”å¤ªå¤šçš„è¡¨&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äº MySQL æ¥è¯´ï¼Œæ˜¯å­˜åœ¨&lt;font color=&#39;red&#39;&gt;å…³è”ç¼“å­˜&lt;/font&gt;çš„ï¼Œç¼“å­˜çš„å¤§å°å¯ä»¥ç”±  &lt;code&gt;join_buffer_size&lt;/code&gt;  å‚æ•°è¿›è¡Œè®¾ç½®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ MySQL ä¸­ï¼Œå¯¹äºåŒä¸€ä¸ª SQLï¼Œå¤šå…³è”ï¼ˆjoinï¼‰ä¸€ä¸ªè¡¨ï¼Œå°±ä¼šå¤šåˆ†é…ä¸€ä¸ªå…³è”ç¼“å­˜ï¼Œå¦‚æœåœ¨&lt;font color=&#39;red&#39;&gt;ä¸€ä¸ª SQL ä¸­å…³è”çš„è¡¨è¶Šå¤šï¼Œæ‰€å ç”¨çš„å†…å­˜ä¹Ÿå°±è¶Šå¤§&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœç¨‹åºä¸­å¤§é‡çš„ä½¿ç”¨äº†å¤šè¡¨å…³è”çš„æ“ä½œï¼ŒåŒæ—¶ join_buffer_size è®¾ç½®çš„ä¹Ÿä¸åˆç†çš„æƒ…å†µä¸‹ï¼Œå°±&lt;font color=&#39;red&#39;&gt;å®¹æ˜“é€ æˆæœåŠ¡å™¨å†…å­˜æº¢å‡º&lt;/font&gt;çš„æƒ…å†µï¼Œå°±ä¼šå½±å“åˆ°æœåŠ¡å™¨æ•°æ®åº“æ€§èƒ½çš„ç¨³å®šæ€§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åŒæ—¶å¯¹äºå…³è”æ“ä½œæ¥è¯´ï¼Œä¼šäº§ç”Ÿä¸´æ—¶è¡¨æ“ä½œï¼Œå½±å“æŸ¥è¯¢æ•ˆç‡ï¼Œ&lt;font color=&#39;red&#39;&gt;MySQL æœ€å¤šå…è®¸å…³è” 61 ä¸ªè¡¨ï¼Œå»ºè®®ä¸è¶…è¿‡ 5 ä¸ª&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å‡å°‘åŒæ•°æ®åº“çš„äº¤äº’æ¬¡æ•°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‡å°‘åŒæ•°æ®åº“çš„äº¤äº’æ¬¡æ•°&#34;&gt;#&lt;/a&gt; å‡å°‘åŒæ•°æ®åº“çš„äº¤äº’æ¬¡æ•°&lt;/h4&gt;
&lt;p&gt;æ•°æ®åº“æ›´é€‚åˆå¤„ç†æ‰¹é‡æ“ä½œï¼Œ&lt;font color=&#39;red&#39;&gt;åˆå¹¶å¤šä¸ªç›¸åŒçš„æ“ä½œåˆ°ä¸€èµ·&lt;/font&gt;ï¼Œå¯ä»¥æé«˜å¤„ç†æ•ˆç‡ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å¯¹åº”åŒä¸€åˆ—è¿›è¡Œ-or-åˆ¤æ–­æ—¶ä½¿ç”¨-in-ä»£æ›¿-or&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¯¹åº”åŒä¸€åˆ—è¿›è¡Œ-or-åˆ¤æ–­æ—¶ä½¿ç”¨-in-ä»£æ›¿-or&#34;&gt;#&lt;/a&gt; å¯¹åº”åŒä¸€åˆ—è¿›è¡Œ or åˆ¤æ–­æ—¶ï¼Œä½¿ç”¨ in ä»£æ›¿ or&lt;/h4&gt;
&lt;p&gt;in çš„å€¼ä¸è¦è¶…è¿‡ 500 ä¸ªï¼Œin æ“ä½œå¯ä»¥æ›´æœ‰æ•ˆçš„åˆ©ç”¨ç´¢å¼•ï¼Œor å¤§å¤šæ•°æƒ…å†µä¸‹å¾ˆå°‘èƒ½åˆ©ç”¨åˆ°ç´¢å¼•ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¦æ­¢ä½¿ç”¨-order-by-rand-è¿›è¡Œéšæœºæ’åº&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¦æ­¢ä½¿ç”¨-order-by-rand-è¿›è¡Œéšæœºæ’åº&#34;&gt;#&lt;/a&gt; ç¦æ­¢ä½¿ç”¨ order by rand () è¿›è¡Œéšæœºæ’åº&lt;/h4&gt;
&lt;p&gt;order by rand () ä¼šæŠŠè¡¨ä¸­æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ•°æ®è£…è½½åˆ°å†…å­˜ä¸­ï¼Œç„¶ååœ¨å†…å­˜ä¸­å¯¹æ‰€æœ‰æ•°æ®æ ¹æ®éšæœºç”Ÿæˆçš„å€¼è¿›è¡Œæ’åºï¼Œå¹¶ä¸”å¯èƒ½ä¼šå¯¹æ¯ä¸€è¡Œéƒ½ç”Ÿæˆä¸€ä¸ªéšæœºå€¼ï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶çš„æ•°æ®é›†éå¸¸å¤§ï¼Œå°±ä¼šæ¶ˆè€—å¤§é‡çš„ CPU å’Œ IO åŠå†…å­˜èµ„æºã€‚&lt;/p&gt;
&lt;p&gt;æ¨èåœ¨ç¨‹åºä¸­è·å–ä¸€ä¸ªéšæœºå€¼ï¼Œç„¶åä»æ•°æ®åº“ä¸­è·å–æ•°æ®çš„æ–¹å¼ã€‚&lt;/p&gt;
&lt;h4 id=&#34;where-ä»å¥ä¸­ç¦æ­¢å¯¹åˆ—è¿›è¡Œå‡½æ•°è½¬æ¢å’Œè®¡ç®—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#where-ä»å¥ä¸­ç¦æ­¢å¯¹åˆ—è¿›è¡Œå‡½æ•°è½¬æ¢å’Œè®¡ç®—&#34;&gt;#&lt;/a&gt; WHERE ä»å¥ä¸­ç¦æ­¢å¯¹åˆ—è¿›è¡Œå‡½æ•°è½¬æ¢å’Œè®¡ç®—&lt;/h4&gt;
&lt;p&gt;å¯¹åˆ—è¿›è¡Œå‡½æ•°è½¬æ¢æˆ–è®¡ç®—æ—¶&lt;font color=&#39;red&#39;&gt;ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆ&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;ä¸æ¨èï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;where&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;date&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;create_time&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;20190101&#39;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æ¨èï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;where&lt;/span&gt; create_time &lt;span class=&#34;token operator&#34;&gt;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;20190101&#39;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;and&lt;/span&gt; create_time &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;20190102&#39;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;åœ¨æ˜æ˜¾ä¸ä¼šæœ‰é‡å¤å€¼æ—¶ä½¿ç”¨-union-all-è€Œä¸æ˜¯-union&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åœ¨æ˜æ˜¾ä¸ä¼šæœ‰é‡å¤å€¼æ—¶ä½¿ç”¨-union-all-è€Œä¸æ˜¯-union&#34;&gt;#&lt;/a&gt; åœ¨æ˜æ˜¾ä¸ä¼šæœ‰é‡å¤å€¼æ—¶ï¼Œä½¿ç”¨ UNION ALL è€Œä¸æ˜¯ UNION&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;UNIONï¼šæŠŠä¸¤ä¸ªç»“æœé›†çš„æ‰€æœ‰æ•°æ®&lt;font color=&#39;red&#39;&gt;æ”¾åˆ°ä¸´æ—¶è¡¨ä¸­ï¼Œå†è¿›è¡Œå»é‡æ“ä½œ&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;UNION ALLï¼š&lt;font color=&#39;red&#39;&gt;ä¸ä¼šå†å¯¹ç»“æœé›†è¿›è¡Œå»é‡æ“ä½œ&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ‹†åˆ†å¤æ‚çš„å¤§-sql-ä¸ºå¤šä¸ªå°-sql&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ‹†åˆ†å¤æ‚çš„å¤§-sql-ä¸ºå¤šä¸ªå°-sql&#34;&gt;#&lt;/a&gt; æ‹†åˆ†å¤æ‚çš„å¤§ SQL ä¸ºå¤šä¸ªå° SQL&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å¤§ SQL é€»è¾‘ä¸Šæ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦å ç”¨å¤§é‡ CPU è¿›è¡Œè®¡ç®—çš„ SQL&lt;/li&gt;
&lt;li&gt;MySQL ä¸­ï¼Œä¸€ä¸ª SQL åªèƒ½ä½¿ç”¨ä¸€ä¸ª CPU è¿›è¡Œè®¡ç®—&lt;/li&gt;
&lt;li&gt;SQL æ‹†åˆ†åå¯ä»¥é€šè¿‡&lt;font color=&#39;red&#39;&gt;å¹¶è¡Œæ‰§è¡Œ&lt;/font&gt;æ¥æé«˜å¤„ç†æ•ˆç‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ç¨‹åºè¿æ¥ä¸åŒçš„æ•°æ®åº“ä½¿ç”¨ä¸åŒçš„è´¦å·ç¦æ­¢è·¨åº“æŸ¥è¯¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¨‹åºè¿æ¥ä¸åŒçš„æ•°æ®åº“ä½¿ç”¨ä¸åŒçš„è´¦å·ç¦æ­¢è·¨åº“æŸ¥è¯¢&#34;&gt;#&lt;/a&gt; ç¨‹åºè¿æ¥ä¸åŒçš„æ•°æ®åº“ä½¿ç”¨ä¸åŒçš„è´¦å·ï¼Œç¦æ­¢è·¨åº“æŸ¥è¯¢&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ºæ•°æ®åº“è¿ç§»å’Œåˆ†åº“åˆ†è¡¨ç•™å‡ºä½™åœ°&lt;/li&gt;
&lt;li&gt;é™ä½ä¸šåŠ¡è€¦åˆåº¦&lt;/li&gt;
&lt;li&gt;é¿å…æƒé™è¿‡å¤§è€Œäº§ç”Ÿçš„å®‰å…¨é£é™©&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ“ä½œè¡Œä¸ºè§„èŒƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ“ä½œè¡Œä¸ºè§„èŒƒ&#34;&gt;#&lt;/a&gt; æ“ä½œè¡Œä¸ºè§„èŒƒ&lt;/h3&gt;
&lt;h4 id=&#34;è¶…-100-ä¸‡è¡Œçš„æ‰¹é‡å†™-updatedeleteinsert-æ“ä½œè¦åˆ†æ‰¹å¤šæ¬¡è¿›è¡Œæ“ä½œ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¶…-100-ä¸‡è¡Œçš„æ‰¹é‡å†™-updatedeleteinsert-æ“ä½œè¦åˆ†æ‰¹å¤šæ¬¡è¿›è¡Œæ“ä½œ&#34;&gt;#&lt;/a&gt; è¶… 100 ä¸‡è¡Œçš„æ‰¹é‡å†™ (UPDATE,DELETE,INSERT) æ“ä½œï¼Œè¦åˆ†æ‰¹å¤šæ¬¡è¿›è¡Œæ“ä½œ&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å¤§æ‰¹é‡æ“ä½œå¯èƒ½ä¼šé€ æˆä¸¥é‡çš„ä¸»ä»å»¶è¿Ÿ&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸»ä»ç¯å¢ƒä¸­ï¼Œå¤§æ‰¹é‡æ“ä½œå¯èƒ½ä¼šé€ æˆä¸¥é‡çš„ä¸»ä»å»¶è¿Ÿï¼Œå¤§æ‰¹é‡çš„å†™æ“ä½œä¸€èˆ¬éƒ½éœ€è¦æ‰§è¡Œä¸€å®šé•¿çš„æ—¶é—´ï¼Œè€Œåªæœ‰å½“ä¸»åº“ä¸Šæ‰§è¡Œå®Œæˆåï¼Œæ‰ä¼šåœ¨å…¶ä»–ä»åº“ä¸Šæ‰§è¡Œï¼Œæ‰€ä»¥ä¼šé€ æˆä¸»åº“ä¸ä»åº“é•¿æ—¶é—´çš„å»¶è¿Ÿæƒ…å†µ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;binlog æ—¥å¿—ä¸º row æ ¼å¼æ—¶ä¼šäº§ç”Ÿå¤§é‡çš„æ—¥å¿—&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¤§æ‰¹é‡å†™æ“ä½œä¼šäº§ç”Ÿå¤§é‡æ—¥å¿—ï¼Œç‰¹åˆ«æ˜¯å¯¹äº row æ ¼å¼äºŒè¿›åˆ¶æ•°æ®è€Œè¨€ï¼Œç”±äº&lt;font color=&#39;red&#39;&gt;åœ¨ row æ ¼å¼ä¸­ä¼šè®°å½•æ¯ä¸€è¡Œæ•°æ®çš„ä¿®æ”¹&lt;/font&gt;ï¼Œæˆ‘ä»¬ä¸€æ¬¡ä¿®æ”¹çš„æ•°æ®è¶Šå¤šï¼Œäº§ç”Ÿçš„æ—¥å¿—é‡ä¹Ÿå°±ä¼šè¶Šå¤šï¼Œæ—¥å¿—çš„ä¼ è¾“å’Œæ¢å¤æ‰€éœ€è¦çš„æ—¶é—´ä¹Ÿå°±è¶Šé•¿ï¼Œè¿™ä¹Ÿæ˜¯é€ æˆä¸»ä»å»¶è¿Ÿçš„ä¸€ä¸ªåŸå› &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;é¿å…äº§ç”Ÿå¤§äº‹åŠ¡æ“ä½œ&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¤§æ‰¹é‡ä¿®æ”¹æ•°æ®ï¼Œä¸€å®šæ˜¯åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­è¿›è¡Œçš„ï¼Œè¿™å°±&lt;font color=&#39;red&#39;&gt;ä¼šé€ æˆè¡¨ä¸­å¤§æ‰¹é‡æ•°æ®è¿›è¡Œé”å®šï¼Œä»è€Œå¯¼è‡´å¤§é‡çš„é˜»å¡&lt;/font&gt;ï¼Œé˜»å¡ä¼šå¯¹ MySQL çš„æ€§èƒ½äº§ç”Ÿéå¸¸å¤§çš„å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;ç‰¹åˆ«æ˜¯&lt;font color=&#39;red&#39;&gt;é•¿æ—¶é—´çš„é˜»å¡ä¼šå æ»¡æ‰€æœ‰æ•°æ®åº“çš„å¯ç”¨è¿æ¥&lt;/font&gt;ï¼Œè¿™ä¼šä½¿ç”Ÿäº§ç¯å¢ƒä¸­çš„å…¶ä»–åº”ç”¨æ— æ³•è¿æ¥åˆ°æ•°æ®åº“ï¼Œå› æ­¤ä¸€å®šè¦æ³¨æ„å¤§æ‰¹é‡å†™æ“ä½œè¦è¿›è¡Œåˆ†æ‰¹&lt;/p&gt;
&lt;h4 id=&#34;å¯¹äºå¤§è¡¨ä½¿ç”¨-pt-online-schema-change-ä¿®æ”¹è¡¨ç»“æ„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¯¹äºå¤§è¡¨ä½¿ç”¨-pt-online-schema-change-ä¿®æ”¹è¡¨ç»“æ„&#34;&gt;#&lt;/a&gt; å¯¹äºå¤§è¡¨ä½¿ç”¨ pt-online-schema-change ä¿®æ”¹è¡¨ç»“æ„&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;é¿å…å¤§è¡¨ä¿®æ”¹äº§ç”Ÿçš„ä¸»ä»å»¶è¿Ÿ&lt;/li&gt;
&lt;li&gt;é¿å…åœ¨å¯¹è¡¨å­—æ®µè¿›è¡Œä¿®æ”¹æ—¶è¿›è¡Œé”è¡¨&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å¯¹å¤§è¡¨æ•°æ®ç»“æ„çš„ä¿®æ”¹ä¸€å®šè¦è°¨æ…ï¼Œä¼šé€ æˆä¸¥é‡çš„é”è¡¨æ“ä½œ&lt;/font&gt;ï¼Œå°¤å…¶æ˜¯ç”Ÿäº§ç¯å¢ƒï¼Œæ˜¯ä¸èƒ½å®¹å¿çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pt-online-schema-change&lt;/code&gt; &lt;font color=&#39;red&#39;&gt; é¦–å…ˆä¼šå»ºç«‹ä¸€ä¸ªä¸åŸè¡¨ç»“æ„ç›¸åŒçš„æ–°è¡¨ï¼Œå¹¶ä¸”åœ¨æ–°è¡¨ä¸Šè¿›è¡Œè¡¨ç»“æ„çš„ä¿®æ”¹ï¼Œç„¶åå†æŠŠåŸè¡¨ä¸­çš„æ•°æ®å¤åˆ¶åˆ°æ–°è¡¨ä¸­ï¼Œå¹¶åœ¨åŸè¡¨ä¸­å¢åŠ ä¸€äº›è§¦å‘å™¨ã€‚æŠŠåŸè¡¨ä¸­æ–°å¢çš„æ•°æ®ä¹Ÿå¤åˆ¶åˆ°æ–°è¡¨ä¸­ï¼Œåœ¨æ‰€æœ‰æ•°æ®å¤åˆ¶å®Œæˆä¹‹åï¼ŒæŠŠæ–°è¡¨å‘½åæˆåŸè¡¨ï¼Œå¹¶æŠŠåŸæ¥çš„è¡¨åˆ é™¤æ‰ã€‚&lt;/font&gt;æŠŠåŸæ¥ä¸€ä¸ª DDL æ“ä½œï¼Œåˆ†è§£æˆå¤šä¸ªå°çš„æ‰¹æ¬¡è¿›è¡Œã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¦æ­¢ä¸ºç¨‹åºä½¿ç”¨çš„è´¦å·èµ‹äºˆ-super-æƒé™&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¦æ­¢ä¸ºç¨‹åºä½¿ç”¨çš„è´¦å·èµ‹äºˆ-super-æƒé™&#34;&gt;#&lt;/a&gt; ç¦æ­¢ä¸ºç¨‹åºä½¿ç”¨çš„è´¦å·èµ‹äºˆ super æƒé™&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å½“è¾¾åˆ°æœ€å¤§è¿æ¥æ•°é™åˆ¶æ—¶ï¼Œè¿˜è¿è¡Œ 1 ä¸ªæœ‰ super æƒé™çš„ç”¨æˆ·è¿æ¥&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;super æƒé™åªèƒ½ç•™ç»™ DBA å¤„ç†é—®é¢˜çš„è´¦å·ä½¿ç”¨&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å¯¹äºç¨‹åºè¿æ¥æ•°æ®åº“è´¦å·éµå¾ªæƒé™æœ€å°åŸåˆ™&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¯¹äºç¨‹åºè¿æ¥æ•°æ®åº“è´¦å·éµå¾ªæƒé™æœ€å°åŸåˆ™&#34;&gt;#&lt;/a&gt; å¯¹äºç¨‹åºè¿æ¥æ•°æ®åº“è´¦å·ï¼Œéµå¾ªæƒé™æœ€å°åŸåˆ™&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ç¨‹åºä½¿ç”¨æ•°æ®åº“è´¦å·åªèƒ½åœ¨ä¸€ä¸ª DB ä¸‹ä½¿ç”¨ï¼Œä¸å‡†è·¨åº“&lt;/li&gt;
&lt;li&gt;ç¨‹åºä½¿ç”¨çš„è´¦å·åŸåˆ™ä¸Šä¸å‡†æœ‰ drop æƒé™&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;sql&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sql&#34;&gt;#&lt;/a&gt; SQL&lt;/h2&gt;
&lt;h3 id=&#34;sqlè¯­æ³•åŸºç¡€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sqlè¯­æ³•åŸºç¡€&#34;&gt;#&lt;/a&gt; SQL è¯­æ³•åŸºç¡€&lt;/h3&gt;
&lt;h4 id=&#34;åŸºæœ¬æ¦‚å¿µ-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸºæœ¬æ¦‚å¿µ-2&#34;&gt;#&lt;/a&gt; åŸºæœ¬æ¦‚å¿µ&lt;/h4&gt;
&lt;h5 id=&#34;æ•°æ®åº“æœ¯è¯­&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®åº“æœ¯è¯­&#34;&gt;#&lt;/a&gt; æ•°æ®åº“æœ¯è¯­&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;æ•°æ®åº“ï¼ˆdatabaseï¼‰&lt;/code&gt;  - ä¿å­˜æœ‰ç»„ç»‡çš„æ•°æ®çš„å®¹å™¨ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªæ–‡ä»¶æˆ–ä¸€ç»„æ–‡ä»¶ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;æ•°æ®è¡¨ï¼ˆtableï¼‰&lt;/code&gt;  - æŸç§ç‰¹å®šç±»å‹æ•°æ®çš„ç»“æ„åŒ–æ¸…å•ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;æ¨¡å¼ï¼ˆschemaï¼‰&lt;/code&gt;  - &lt;font color=&#39;red&#39;&gt;å…³äºæ•°æ®åº“å’Œè¡¨çš„å¸ƒå±€åŠç‰¹æ€§çš„ä¿¡æ¯&lt;/font&gt;ã€‚æ¨¡å¼&lt;font color=&#39;red&#39;&gt;å®šä¹‰äº†æ•°æ®åœ¨è¡¨ä¸­å¦‚ä½•å­˜å‚¨&lt;/font&gt;ï¼ŒåŒ…å«å­˜å‚¨ä»€ä¹ˆæ ·çš„æ•°æ®ï¼Œæ•°æ®å¦‚ä½•åˆ†è§£ï¼Œå„éƒ¨åˆ†ä¿¡æ¯å¦‚ä½•å‘½åç­‰ä¿¡æ¯ã€‚æ•°æ®åº“å’Œè¡¨éƒ½æœ‰æ¨¡å¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;åˆ—ï¼ˆcolumnï¼‰&lt;/code&gt;  - è¡¨ä¸­çš„ä¸€ä¸ªå­—æ®µã€‚æ‰€æœ‰è¡¨éƒ½æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—ç»„æˆçš„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;è¡Œï¼ˆrowï¼‰&lt;/code&gt;  - è¡¨ä¸­çš„ä¸€ä¸ªè®°å½•ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ä¸»é”®ï¼ˆprimary keyï¼‰&lt;/code&gt;  - ä¸€åˆ—ï¼ˆæˆ–ä¸€ç»„åˆ—ï¼‰ï¼Œå…¶å€¼èƒ½å¤Ÿå”¯ä¸€æ ‡è¯†è¡¨ä¸­æ¯ä¸€è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;sql-è¯­æ³•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sql-è¯­æ³•&#34;&gt;#&lt;/a&gt; SQL è¯­æ³•&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;SQLï¼ˆStructured Query Language)&lt;/code&gt; ï¼Œæ ‡å‡† SQL ç”± ANSI æ ‡å‡†å§”å‘˜ä¼šç®¡ç†ï¼Œä»è€Œç§°ä¸º ANSI SQLã€‚å„ä¸ª DBMS éƒ½æœ‰è‡ªå·±çš„å®ç°ï¼Œå¦‚ PL/SQLã€Transact-SQL ç­‰ã€‚&lt;/p&gt;
&lt;h6 id=&#34;sql-è¯­æ³•ç»“æ„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sql-è¯­æ³•ç»“æ„&#34;&gt;#&lt;/a&gt; SQL è¯­æ³•ç»“æ„&lt;/h6&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/cb684d4c75fc430e92aaee226069c7da%7Etplv-k3u1fbpfcp-zoom-1.image&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;SQL è¯­æ³•ç»“æ„åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;å­å¥&lt;/code&gt; &lt;/strong&gt; - æ˜¯è¯­å¥å’ŒæŸ¥è¯¢çš„ç»„æˆæˆåˆ†ã€‚ï¼ˆåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™äº›éƒ½æ˜¯å¯é€‰çš„ã€‚ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;è¡¨è¾¾å¼&lt;/code&gt; &lt;/strong&gt; - å¯ä»¥äº§ç”Ÿä»»ä½•æ ‡é‡å€¼ï¼Œæˆ–ç”±åˆ—å’Œè¡Œçš„æ•°æ®åº“è¡¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;è°“è¯&lt;/code&gt; &lt;/strong&gt; - ç»™éœ€è¦è¯„ä¼°çš„ SQL ä¸‰å€¼é€»è¾‘ï¼ˆ3VLï¼‰ï¼ˆtrue/false/unknownï¼‰æˆ–å¸ƒå°”çœŸå€¼æŒ‡å®šæ¡ä»¶ï¼Œå¹¶é™åˆ¶è¯­å¥å’ŒæŸ¥è¯¢çš„æ•ˆæœï¼Œæˆ–æ”¹å˜ç¨‹åºæµç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;æŸ¥è¯¢&lt;/code&gt; &lt;/strong&gt; - åŸºäºç‰¹å®šæ¡ä»¶æ£€ç´¢æ•°æ®ã€‚è¿™æ˜¯ SQL çš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;è¯­å¥&lt;/code&gt; &lt;/strong&gt; - å¯ä»¥æŒä¹…åœ°å½±å“çº²è¦å’Œæ•°æ®ï¼Œä¹Ÿå¯ä»¥æ§åˆ¶æ•°æ®åº“äº‹åŠ¡ã€ç¨‹åºæµç¨‹ã€è¿æ¥ã€ä¼šè¯æˆ–è¯Šæ–­ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;sql-è¯­æ³•è¦ç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sql-è¯­æ³•è¦ç‚¹&#34;&gt;#&lt;/a&gt; SQL è¯­æ³•è¦ç‚¹&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;SQL è¯­å¥ä¸åŒºåˆ†å¤§å°å†™&lt;/strong&gt;ï¼Œä½†æ˜¯æ•°æ®åº“è¡¨åã€åˆ—åå’Œå€¼æ˜¯å¦åŒºåˆ†ï¼Œä¾èµ–äºå…·ä½“çš„ DBMS ä»¥åŠé…ç½®ã€‚ä¾‹å¦‚ï¼š &lt;code&gt;SELECT&lt;/code&gt;  ä¸  &lt;code&gt;select&lt;/code&gt;  ã€ &lt;code&gt;Select&lt;/code&gt;  æ˜¯ç›¸åŒçš„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤šæ¡ SQL è¯­å¥å¿…é¡»ä»¥åˆ†å·ï¼ˆ &lt;code&gt;;&lt;/code&gt; ï¼‰åˆ†éš”&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¤„ç† SQL è¯­å¥æ—¶ï¼Œ&lt;strong&gt;æ‰€æœ‰ç©ºæ ¼éƒ½è¢«å¿½ç•¥&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;SQL è¯­å¥å¯ä»¥å†™æˆä¸€è¡Œï¼Œä¹Ÿå¯ä»¥åˆ†å†™ä¸ºå¤šè¡Œã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- ä¸€è¡Œ SQL è¯­å¥&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;UPDATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;SET&lt;/span&gt; username&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;robot&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; password&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;robot&#39;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; username &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;root&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- å¤šè¡Œ SQL è¯­å¥&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;UPDATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SET&lt;/span&gt; username&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;robot&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; password&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;robot&#39;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; username &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;root&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;SQL æ”¯æŒä¸‰ç§æ³¨é‡Šï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;## æ³¨é‡Š 1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- æ³¨é‡Š 2&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;/* æ³¨é‡Š 3 */&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;sql-åˆ†ç±»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sql-åˆ†ç±»&#34;&gt;#&lt;/a&gt; SQL åˆ†ç±»&lt;/h5&gt;
&lt;h6 id=&#34;æ•°æ®å®šä¹‰è¯­è¨€ddl&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®å®šä¹‰è¯­è¨€ddl&#34;&gt;#&lt;/a&gt; æ•°æ®å®šä¹‰è¯­è¨€ï¼ˆDDLï¼‰&lt;/h6&gt;
&lt;p&gt;æ•°æ®å®šä¹‰è¯­è¨€ï¼ˆData Definition Languageï¼ŒDDLï¼‰æ˜¯ SQL è¯­è¨€é›†ä¸­è´Ÿè´£æ•°æ®ç»“æ„å®šä¹‰ä¸æ•°æ®åº“å¯¹è±¡å®šä¹‰çš„è¯­è¨€ã€‚&lt;/p&gt;
&lt;p&gt;DDL çš„ä¸»è¦åŠŸèƒ½æ˜¯&lt;strong&gt;å®šä¹‰æ•°æ®åº“å¯¹è±¡&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;DDL çš„æ ¸å¿ƒæŒ‡ä»¤æ˜¯  &lt;code&gt;CREATE&lt;/code&gt; ã€ &lt;code&gt;ALTER&lt;/code&gt; ã€ &lt;code&gt;DROP&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;h6 id=&#34;æ•°æ®æ“çºµè¯­è¨€dml&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®æ“çºµè¯­è¨€dml&#34;&gt;#&lt;/a&gt; æ•°æ®æ“çºµè¯­è¨€ï¼ˆDMLï¼‰&lt;/h6&gt;
&lt;p&gt;æ•°æ®æ“çºµè¯­è¨€ï¼ˆData Manipulation Language, DMLï¼‰æ˜¯ç”¨äºæ•°æ®åº“æ“ä½œï¼Œå¯¹æ•°æ®åº“å…¶ä¸­çš„å¯¹è±¡å’Œæ•°æ®è¿è¡Œè®¿é—®å·¥ä½œçš„ç¼–ç¨‹è¯­å¥ã€‚&lt;/p&gt;
&lt;p&gt;DML çš„ä¸»è¦åŠŸèƒ½æ˜¯ è®¿é—®æ•°æ®ï¼Œå› æ­¤å…¶è¯­æ³•éƒ½æ˜¯ä»¥&lt;strong&gt;è¯»å†™æ•°æ®åº“&lt;/strong&gt;ä¸ºä¸»ã€‚&lt;/p&gt;
&lt;p&gt;DML çš„æ ¸å¿ƒæŒ‡ä»¤æ˜¯  &lt;code&gt;INSERT&lt;/code&gt; ã€ &lt;code&gt;DELETE&lt;/code&gt; ã€ &lt;code&gt;UPDATE&lt;/code&gt; ã€ &lt;code&gt;SELECT&lt;/code&gt; ã€‚è¿™å››ä¸ªæŒ‡ä»¤åˆç§° CRUD (Create, Read, Update, Delete)ï¼Œå³å¢åˆ æ”¹æŸ¥ã€‚&lt;/p&gt;
&lt;h6 id=&#34;äº‹åŠ¡æ§åˆ¶è¯­è¨€tcl&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#äº‹åŠ¡æ§åˆ¶è¯­è¨€tcl&#34;&gt;#&lt;/a&gt; äº‹åŠ¡æ§åˆ¶è¯­è¨€ï¼ˆTCLï¼‰&lt;/h6&gt;
&lt;p&gt;äº‹åŠ¡æ§åˆ¶è¯­è¨€ (Transaction Control Language, TCL) ç”¨äº&lt;strong&gt;ç®¡ç†æ•°æ®åº“ä¸­çš„äº‹åŠ¡&lt;/strong&gt;ã€‚è¿™äº›ç”¨äºç®¡ç†ç”± DML è¯­å¥æ‰€åšçš„æ›´æ”¹ã€‚å®ƒè¿˜å…è®¸å°†è¯­å¥åˆ†ç»„ä¸ºé€»è¾‘äº‹åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;TCL çš„æ ¸å¿ƒæŒ‡ä»¤æ˜¯  &lt;code&gt;COMMIT&lt;/code&gt; ã€ &lt;code&gt;ROLLBACK&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;h6 id=&#34;æ•°æ®æ§åˆ¶è¯­è¨€dcl&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®æ§åˆ¶è¯­è¨€dcl&#34;&gt;#&lt;/a&gt; æ•°æ®æ§åˆ¶è¯­è¨€ï¼ˆDCLï¼‰&lt;/h6&gt;
&lt;p&gt;æ•°æ®æ§åˆ¶è¯­è¨€ (Data Control Language, DCL) æ˜¯ä¸€ç§å¯å¯¹æ•°æ®è®¿é—®æƒè¿›è¡Œæ§åˆ¶çš„æŒ‡ä»¤ï¼Œå®ƒå¯ä»¥æ§åˆ¶ç‰¹å®šç”¨æˆ·è´¦æˆ·å¯¹æ•°æ®è¡¨ã€æŸ¥çœ‹è¡¨ã€é¢„å­˜ç¨‹åºã€ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ç­‰æ•°æ®åº“å¯¹è±¡çš„æ§åˆ¶æƒã€‚&lt;/p&gt;
&lt;p&gt;DCL çš„æ ¸å¿ƒæŒ‡ä»¤æ˜¯  &lt;code&gt;GRANT&lt;/code&gt; ã€ &lt;code&gt;REVOKE&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;DCL ä»¥&lt;strong&gt;æ§åˆ¶ç”¨æˆ·çš„è®¿é—®æƒé™&lt;/strong&gt;ä¸ºä¸»ï¼Œå› æ­¤å…¶æŒ‡ä»¤ä½œæ³•å¹¶ä¸å¤æ‚ï¼Œå¯åˆ©ç”¨ DCL æ§åˆ¶çš„æƒé™æœ‰ï¼š &lt;code&gt;CONNECT&lt;/code&gt; ã€ &lt;code&gt;SELECT&lt;/code&gt; ã€ &lt;code&gt;INSERT&lt;/code&gt; ã€ &lt;code&gt;UPDATE&lt;/code&gt; ã€ &lt;code&gt;DELETE&lt;/code&gt; ã€ &lt;code&gt;EXECUTE&lt;/code&gt; ã€ &lt;code&gt;USAGE&lt;/code&gt; ã€ &lt;code&gt;REFERENCES&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®ä¸åŒçš„ DBMS ä»¥åŠä¸åŒçš„å®‰å…¨æ€§å®ä½“ï¼Œå…¶æ”¯æŒçš„æƒé™æ§åˆ¶ä¹Ÿæœ‰æ‰€ä¸åŒã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æˆ‘ä»¬å…ˆæ¥ä»‹ç» DML è¯­å¥ç”¨æ³•ã€‚ DML çš„ä¸»è¦åŠŸèƒ½æ˜¯è¯»å†™æ•°æ®åº“å®ç°å¢åˆ æ”¹æŸ¥ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;å¢åˆ æ”¹æŸ¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¢åˆ æ”¹æŸ¥&#34;&gt;#&lt;/a&gt; å¢åˆ æ”¹æŸ¥&lt;/h4&gt;
&lt;p&gt;å¢åˆ æ”¹æŸ¥ï¼Œåˆç§°ä¸º CRUDï¼Œæ•°æ®åº“åŸºæœ¬æ“ä½œä¸­çš„åŸºæœ¬æ“ä½œã€‚&lt;/p&gt;
&lt;h5 id=&#34;æ’å…¥æ•°æ®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ’å…¥æ•°æ®&#34;&gt;#&lt;/a&gt; æ’å…¥æ•°æ®&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;INSERT INTO&lt;/code&gt;  è¯­å¥ç”¨äºå‘è¡¨ä¸­æ’å…¥æ–°è®°å½•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ’å…¥å®Œæ•´çš„è¡Œ&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ’å…¥ä¸€è¡Œ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;INSERT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;INTO&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;VALUES&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;root&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;root&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;xxxx@163.com&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ’å…¥å¤šè¡Œ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;INSERT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;INTO&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;VALUES&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;root&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;root&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;xxxx@163.com&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;user1&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;user1&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;xxxx@163.com&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;user2&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;user2&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;xxxx@163.com&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æ’å…¥è¡Œçš„ä¸€éƒ¨åˆ†&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;INSERT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;INTO&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;username&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; password&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; email&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;VALUES&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;admin&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;admin&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;xxxx@163.com&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æ’å…¥æŸ¥è¯¢å‡ºæ¥çš„æ•°æ®&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;INSERT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;INTO&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;username&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; name&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; account&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;æ›´æ–°æ•°æ®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ›´æ–°æ•°æ®&#34;&gt;#&lt;/a&gt; æ›´æ–°æ•°æ®&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;UPDATE&lt;/code&gt;  è¯­å¥ç”¨äºæ›´æ–°è¡¨ä¸­çš„è®°å½•ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;UPDATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SET&lt;/span&gt; username&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;robot&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; password&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;robot&#39;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; username &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;root&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;åˆ é™¤æ•°æ®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ é™¤æ•°æ®&#34;&gt;#&lt;/a&gt; åˆ é™¤æ•°æ®&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;DELETE&lt;/code&gt;  è¯­å¥ç”¨äºåˆ é™¤è¡¨ä¸­çš„è®°å½•ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TRUNCATE TABLE&lt;/code&gt;  å¯ä»¥æ¸…ç©ºè¡¨ï¼Œä¹Ÿå°±æ˜¯åˆ é™¤æ‰€æœ‰è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;åˆ é™¤è¡¨ä¸­çš„æŒ‡å®šæ•°æ®&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;DELETE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; username &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;robot&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æ¸…ç©ºè¡¨ä¸­çš„æ•°æ®&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;TRUNCATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TABLE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;æŸ¥è¯¢æ•°æ®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æŸ¥è¯¢æ•°æ®&#34;&gt;#&lt;/a&gt; æŸ¥è¯¢æ•°æ®&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;SELECT&lt;/code&gt;  è¯­å¥ç”¨äºä»æ•°æ®åº“ä¸­æŸ¥è¯¢æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;DISTINCT&lt;/code&gt;  ç”¨äºè¿”å›å”¯ä¸€ä¸åŒçš„å€¼ã€‚å®ƒ&lt;font color=&#39;red&#39;&gt;ä½œç”¨äºæ‰€æœ‰åˆ—&lt;/font&gt;ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰åˆ—çš„å€¼éƒ½ç›¸åŒæ‰ç®—ç›¸åŒã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;LIMIT&lt;/code&gt;  é™åˆ¶è¿”å›çš„è¡Œæ•°ã€‚å¯ä»¥æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºèµ·å§‹è¡Œä» 0 å¼€å§‹&lt;/font&gt;&lt;/strong&gt;ï¼›&lt;font color=&#39;red&#39;&gt;ç¬¬äºŒä¸ªå‚æ•°ä¸ºè¿”å›çš„æ€»è¡Œæ•°&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ASC&lt;/code&gt;  ï¼šå‡åºï¼ˆé»˜è®¤ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DESC&lt;/code&gt;  ï¼šé™åº&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æŸ¥è¯¢å•åˆ—&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; prod_name&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; products&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æŸ¥è¯¢å¤šåˆ—&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; prod_id&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; prod_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; prod_price&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; products&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æŸ¥è¯¢æ‰€æœ‰åˆ—&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; products&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æŸ¥è¯¢ä¸åŒçš„å€¼&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DISTINCT&lt;/span&gt; vend_id &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; products&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;é™åˆ¶æŸ¥è¯¢ç»“æœ&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- è¿”å›å‰ 5 è¡Œ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; mytable &lt;span class=&#34;token keyword&#34;&gt;LIMIT&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; mytable &lt;span class=&#34;token keyword&#34;&gt;LIMIT&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- è¿”å›ç¬¬ 3 ~ 5 è¡Œ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; mytable &lt;span class=&#34;token keyword&#34;&gt;LIMIT&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;æ’åº&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ’åº&#34;&gt;#&lt;/a&gt; æ’åº&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;order by&lt;/code&gt;  ç”¨äºå¯¹ç»“æœé›†æŒ‰ç…§ä¸€ä¸ªåˆ—æˆ–è€…å¤šä¸ªåˆ—è¿›è¡Œæ’åºã€‚ &lt;code&gt;é»˜è®¤å‡åº&lt;/code&gt; å¯¹è®°å½•è¿›è¡Œæ’åºï¼Œå¦‚æœéœ€è¦æŒ‰ç…§é™åºå¯¹è®°å½•è¿›è¡Œæ’åºï¼Œå¯ä»¥ä½¿ç”¨  &lt;code&gt;desc&lt;/code&gt;  å…³é”®å­—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;order by&lt;/code&gt;  å¯¹å¤šåˆ—æ’åºçš„æ—¶å€™ï¼Œå…ˆæ’åºçš„åˆ—æ”¾å‰é¢ï¼Œåæ’åºçš„åˆ—æ”¾åé¢ã€‚å¹¶ä¸”ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸åŒçš„åˆ—å¯ä»¥æœ‰ä¸åŒçš„æ’åºè§„åˆ™&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; products&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;ORDER&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;BY&lt;/span&gt; prod_price &lt;span class=&#34;token keyword&#34;&gt;DESC&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; prod_name &lt;span class=&#34;token keyword&#34;&gt;ASC&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;åˆ†ç»„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†ç»„&#34;&gt;#&lt;/a&gt; åˆ†ç»„&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;group by&lt;/code&gt; &lt;/strong&gt; ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;group by&lt;/code&gt;  å­å¥å°†è®°å½•åˆ†ç»„åˆ°æ±‡æ€»è¡Œä¸­ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;group by&lt;/code&gt;  ä¸ºæ¯ä¸ªç»„è¿”å›ä¸€ä¸ªè®°å½•ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;group by&lt;/code&gt;  é€šå¸¸è¿˜æ¶‰åŠèšåˆ &lt;code&gt;count&lt;/code&gt; ï¼Œ &lt;code&gt;max&lt;/code&gt; ï¼Œ &lt;code&gt;sum&lt;/code&gt; ï¼Œ &lt;code&gt;avg&lt;/code&gt;  ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;group by&lt;/code&gt;  å¯ä»¥æŒ‰ä¸€åˆ—æˆ–å¤šåˆ—è¿›è¡Œåˆ†ç»„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;group by&lt;/code&gt;  æŒ‰åˆ†ç»„å­—æ®µè¿›è¡Œæ’åºåï¼Œ &lt;code&gt;order by&lt;/code&gt;  å¯ä»¥ä»¥æ±‡æ€»å­—æ®µæ¥è¿›è¡Œæ’åºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;åˆ†ç»„&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; cust_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;COUNT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;cust_address&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;AS&lt;/span&gt; addr_num&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; Customers &lt;span class=&#34;token keyword&#34;&gt;GROUP&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;BY&lt;/span&gt; cust_name&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;åˆ†ç»„åæ’åº&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; cust_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;COUNT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;cust_address&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;AS&lt;/span&gt; addr_num&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; Customers &lt;span class=&#34;token keyword&#34;&gt;GROUP&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;BY&lt;/span&gt; cust_name&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;ORDER&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;BY&lt;/span&gt; cust_name &lt;span class=&#34;token keyword&#34;&gt;DESC&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt; &lt;code&gt;having&lt;/code&gt; &lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;having&lt;/code&gt;  &lt;font color=&#39;red&#39;&gt;ç”¨äºå¯¹æ±‡æ€»çš„  &lt;code&gt;group by&lt;/code&gt;  ç»“æœè¿›è¡Œè¿‡æ»¤&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;having&lt;/code&gt;  ä¸€èˆ¬éƒ½æ˜¯å’Œ  &lt;code&gt;group by&lt;/code&gt;  è¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;where&lt;/code&gt;  å’Œ  &lt;code&gt;having&lt;/code&gt;  å¯ä»¥åœ¨ç›¸åŒçš„æŸ¥è¯¢ä¸­ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨ WHERE å’Œ HAVING è¿‡æ»¤æ•°æ®&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; cust_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;COUNT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;AS&lt;/span&gt; num&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; Customers&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; cust_email &lt;span class=&#34;token operator&#34;&gt;IS&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;NOT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;GROUP&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;BY&lt;/span&gt; cust_name&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;HAVING&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;COUNT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt; &lt;code&gt;having&lt;/code&gt;  vs  &lt;code&gt;where&lt;/code&gt; &lt;/strong&gt; ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;where&lt;/code&gt; ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;è¿‡æ»¤æŒ‡å®šçš„&lt;u&gt;è¡Œ&lt;/u&gt;&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;åé¢ä¸èƒ½åŠ èšåˆå‡½æ•°&lt;/font&gt;ï¼ˆåˆ†ç»„å‡½æ•°ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;åœ¨ &lt;code&gt;group by&lt;/code&gt;  å‰ä½¿ç”¨&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;having&lt;/code&gt; ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;è¿‡æ»¤&lt;u&gt;åˆ†ç»„&lt;/u&gt;&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;ä¸€èˆ¬éƒ½æ˜¯å’Œ  &lt;code&gt;group by&lt;/code&gt;  è¿ç”¨ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸èƒ½å•ç‹¬ä½¿ç”¨&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;åœ¨  &lt;code&gt;group by&lt;/code&gt;  ä¹‹åä½¿ç”¨&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å­æŸ¥è¯¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å­æŸ¥è¯¢&#34;&gt;#&lt;/a&gt; å­æŸ¥è¯¢&lt;/h4&gt;
&lt;p&gt;å­æŸ¥è¯¢æ˜¯åµŒå¥—åœ¨è¾ƒå¤§æŸ¥è¯¢ä¸­çš„ SQL æŸ¥è¯¢ï¼Œä¹Ÿç§°å†…éƒ¨æŸ¥è¯¢æˆ–å†…éƒ¨é€‰æ‹©ï¼ŒåŒ…å«å­æŸ¥è¯¢çš„è¯­å¥ä¹Ÿç§°ä¸ºå¤–éƒ¨æŸ¥è¯¢æˆ–å¤–éƒ¨é€‰æ‹©ã€‚ç®€å•æ¥è¯´ï¼Œå­æŸ¥è¯¢å°±æ˜¯æŒ‡&lt;font color=&#39;red&#39;&gt;å°†ä¸€ä¸ª  &lt;code&gt;select&lt;/code&gt;  æŸ¥è¯¢ï¼ˆå­æŸ¥è¯¢ï¼‰çš„ç»“æœä½œä¸ºå¦ä¸€ä¸ª SQL è¯­å¥ï¼ˆä¸»æŸ¥è¯¢ï¼‰çš„&lt;u&gt;æ•°æ®æ¥æº&lt;/u&gt;æˆ–è€…&lt;u&gt;åˆ¤æ–­æ¡ä»¶&lt;/u&gt;&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å­æŸ¥è¯¢å¯ä»¥åµŒå…¥  &lt;code&gt;SELECT&lt;/code&gt; ã€ &lt;code&gt;INSERT&lt;/code&gt; ã€ &lt;code&gt;UPDATE&lt;/code&gt;  å’Œ  &lt;code&gt;DELETE&lt;/code&gt;  è¯­å¥ä¸­ï¼Œä¹Ÿå¯ä»¥å’Œ  &lt;code&gt;=&lt;/code&gt; ã€ &lt;code&gt;&amp;lt;&lt;/code&gt; ã€ &lt;code&gt;&amp;gt;&lt;/code&gt; ã€ &lt;code&gt;IN&lt;/code&gt; ã€ &lt;code&gt;BETWEEN&lt;/code&gt; ã€ &lt;code&gt;EXISTS&lt;/code&gt;  ç­‰è¿ç®—ç¬¦ä¸€èµ·ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å­æŸ¥è¯¢å¸¸ç”¨åœ¨  &lt;code&gt;WHERE&lt;/code&gt;  å­å¥å’Œ  &lt;code&gt;FROM&lt;/code&gt;  å­å¥åè¾¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å½“ç”¨äº &lt;strong&gt; &lt;code&gt;WHERE&lt;/code&gt; &lt;/strong&gt; å­å¥åè¾¹æ—¶ï¼Œæ ¹æ®ä¸åŒçš„è¿ç®—ç¬¦ï¼Œå­æŸ¥è¯¢å¯ä»¥è¿”å›å•è¡Œå•åˆ—ã€å¤šè¡Œå•åˆ—ã€å•è¡Œå¤šåˆ—æ•°æ®ã€‚å­æŸ¥è¯¢å°±æ˜¯è¦&lt;font color=&#39;red&#39;&gt;è¿”å›èƒ½å¤Ÿä½œä¸º  &lt;code&gt;WHERE&lt;/code&gt;  å­å¥æŸ¥è¯¢æ¡ä»¶çš„å€¼&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç”¨äº  &lt;code&gt;WHERE&lt;/code&gt;  å­å¥çš„å­æŸ¥è¯¢çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; column_name &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; column_name &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt;   table1 &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; table2 &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;where&lt;/span&gt;  column_name operator&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; column_name &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; column_name &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; table1 &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; table2 &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;å­æŸ¥è¯¢éœ€è¦æ”¾åœ¨æ‹¬å· &lt;code&gt;( )&lt;/code&gt;  å†…ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;operator&lt;/code&gt;  è¡¨ç¤ºç”¨äº where å­å¥çš„è¿ç®—ç¬¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å½“ç”¨äº &lt;strong&gt; &lt;code&gt;FROM&lt;/code&gt; &lt;/strong&gt; å­å¥åè¾¹æ—¶ï¼Œä¸€èˆ¬è¿”å›å¤šè¡Œå¤šåˆ—æ•°æ®ï¼Œç›¸å½“äº&lt;font color=&#39;red&#39;&gt;è¿”å›ä¸€å¼ ä¸´æ—¶è¡¨&lt;/font&gt;ï¼Œè¿™æ ·æ‰ç¬¦åˆ  &lt;code&gt;FROM&lt;/code&gt;  åé¢æ˜¯è¡¨çš„è§„åˆ™ã€‚è¿™ç§åšæ³•èƒ½å¤Ÿå®ç°&lt;font color=&#39;red&#39;&gt;å¤šè¡¨è”åˆæŸ¥è¯¢&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç”¨äº  &lt;code&gt;FROM&lt;/code&gt;  å­å¥çš„å­æŸ¥è¯¢çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; column_name &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; column_name &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; column_name &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; column_name &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;   &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; table1 &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; table2 &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;   &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;as&lt;/span&gt; temp_table_name&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;where&lt;/span&gt;  condition&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ç”¨äº  &lt;code&gt;FROM&lt;/code&gt;  çš„å­æŸ¥è¯¢è¿”å›çš„ç»“æœç›¸å½“äºä¸€å¼ ä¸´æ—¶è¡¨ï¼Œæ‰€ä»¥&lt;strong&gt;éœ€è¦ä½¿ç”¨  &lt;code&gt;AS&lt;/code&gt;  å…³é”®å­—ä¸ºè¯¥ä¸´æ—¶è¡¨èµ·ä¸€ä¸ªåå­—&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ï¼šMYSQL æ•°æ®åº“ä» 4.1 ç‰ˆæœ¬æ‰å¼€å§‹æ”¯æŒå­æŸ¥è¯¢ï¼Œæ—©æœŸç‰ˆæœ¬æ˜¯ä¸æ”¯æŒçš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å­æŸ¥è¯¢çš„å­æŸ¥è¯¢&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; cust_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; cust_contact&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; customers&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; cust_id &lt;span class=&#34;token operator&#34;&gt;IN&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; cust_id&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                  &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; orders&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                  &lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; order_num &lt;span class=&#34;token operator&#34;&gt;IN&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; order_num&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                                      &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; orderitems&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                                      &lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; prod_id &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;RGAN01&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å†…éƒ¨æŸ¥è¯¢é¦–å…ˆåœ¨å…¶çˆ¶æŸ¥è¯¢ä¹‹å‰æ‰§è¡Œï¼Œä»¥ä¾¿å¯ä»¥å°†å†…éƒ¨æŸ¥è¯¢çš„ç»“æœä¼ é€’ç»™å¤–éƒ¨æŸ¥è¯¢ã€‚æ‰§è¡Œè¿‡ç¨‹å¯ä»¥å‚è€ƒä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/c439da1f5d4e4b00bdfa4316b933d764%7Etplv-k3u1fbpfcp-zoom-1.image&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;where&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#where&#34;&gt;#&lt;/a&gt; WHERE&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;WHERE&lt;/code&gt;  å­å¥ç”¨äºè¿‡æ»¤è®°å½•ï¼Œå³ç¼©å°è®¿é—®æ•°æ®çš„èŒƒå›´ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;WHERE&lt;/code&gt;  åè·Ÿä¸€ä¸ªè¿”å›  &lt;code&gt;true&lt;/code&gt;  æˆ–  &lt;code&gt;false&lt;/code&gt;  çš„æ¡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;WHERE&lt;/code&gt;  å¯ä»¥ä¸  &lt;code&gt;SELECT&lt;/code&gt; ï¼Œ &lt;code&gt;UPDATE&lt;/code&gt;  å’Œ  &lt;code&gt;DELETE&lt;/code&gt;  ä¸€èµ·ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;å¯ä»¥åœ¨  &lt;code&gt;WHERE&lt;/code&gt;  å­å¥ä¸­ä½¿ç”¨çš„æ“ä½œç¬¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è¿ç®—ç¬¦&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;=&lt;/td&gt;
&lt;td&gt;ç­‰äº&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&amp;lt;&amp;gt;&lt;/td&gt;
&lt;td&gt;ä¸ç­‰äºã€‚æ³¨é‡Šï¼šåœ¨ SQL çš„ä¸€äº›ç‰ˆæœ¬ä¸­ï¼Œè¯¥æ“ä½œç¬¦å¯è¢«å†™æˆï¼=&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&amp;gt;&lt;/td&gt;
&lt;td&gt;å¤§äº&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&amp;lt;&lt;/td&gt;
&lt;td&gt;å°äº&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&amp;gt;=&lt;/td&gt;
&lt;td&gt;å¤§äºç­‰äº&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&amp;lt;=&lt;/td&gt;
&lt;td&gt;å°äºç­‰äº&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BETWEEN&lt;/td&gt;
&lt;td&gt;åœ¨æŸä¸ªèŒƒå›´å†…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;LIKE&lt;/td&gt;
&lt;td&gt;æœç´¢æŸç§æ¨¡å¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;IN&lt;/td&gt;
&lt;td&gt;æŒ‡å®šé’ˆå¯¹æŸä¸ªåˆ—çš„å¤šä¸ªå¯èƒ½å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;SELECT&lt;/code&gt;  è¯­å¥ä¸­çš„  &lt;code&gt;WHERE&lt;/code&gt;  å­å¥&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; Customers&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; cust_name &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;Kids Place&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt; &lt;code&gt;UPDATE&lt;/code&gt;  è¯­å¥ä¸­çš„  &lt;code&gt;WHERE&lt;/code&gt;  å­å¥&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;UPDATE&lt;/span&gt; Customers&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SET&lt;/span&gt; cust_name &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;Jack Jones&#39;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; cust_name &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;Kids Place&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt; &lt;code&gt;DELETE&lt;/code&gt;  è¯­å¥ä¸­çš„  &lt;code&gt;WHERE&lt;/code&gt;  å­å¥&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;DELETE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; Customers&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; cust_name &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;Kids Place&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;in-å’Œ-between&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#in-å’Œ-between&#34;&gt;#&lt;/a&gt; IN å’Œ BETWEEN&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;IN&lt;/code&gt;  æ“ä½œç¬¦åœ¨  &lt;code&gt;WHERE&lt;/code&gt;  å­å¥ä¸­ä½¿ç”¨ï¼Œä½œç”¨æ˜¯&lt;font color=&#39;red&#39;&gt;åœ¨æŒ‡å®šçš„å‡ ä¸ªç‰¹å®šå€¼ä¸­ä»»é€‰ä¸€ä¸ªå€¼&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;BETWEEN&lt;/code&gt;  æ“ä½œç¬¦åœ¨  &lt;code&gt;WHERE&lt;/code&gt;  å­å¥ä¸­ä½¿ç”¨ï¼Œä½œç”¨æ˜¯&lt;font color=&#39;red&#39;&gt;é€‰å–ä»‹äºæŸä¸ªèŒƒå›´å†…çš„å€¼&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;IN ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; products&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; vend_id &lt;span class=&#34;token operator&#34;&gt;IN&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;DLL01&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;BRS01&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;BETWEEN ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; products&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; prod_price &lt;span class=&#34;token operator&#34;&gt;BETWEEN&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;AND&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;and-or-not&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#and-or-not&#34;&gt;#&lt;/a&gt; ANDã€ORã€NOT&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;AND&lt;/code&gt; ã€ &lt;code&gt;OR&lt;/code&gt; ã€ &lt;code&gt;NOT&lt;/code&gt;  æ˜¯ç”¨äºå¯¹è¿‡æ»¤æ¡ä»¶çš„é€»è¾‘å¤„ç†æŒ‡ä»¤ã€‚&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt; &lt;code&gt;AND&lt;/code&gt;  ä¼˜å…ˆçº§é«˜äº  &lt;code&gt;OR&lt;/code&gt; &lt;/font&gt;ï¼Œä¸ºäº†æ˜ç¡®å¤„ç†é¡ºåºï¼Œå¯ä»¥ä½¿ç”¨  &lt;code&gt;()&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;AND&lt;/code&gt;  æ“ä½œç¬¦è¡¨ç¤ºå·¦å³æ¡ä»¶éƒ½è¦æ»¡è¶³ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;OR&lt;/code&gt;  æ“ä½œç¬¦è¡¨ç¤ºå·¦å³æ¡ä»¶æ»¡è¶³ä»»æ„ä¸€ä¸ªå³å¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NOT&lt;/code&gt;  æ“ä½œç¬¦ç”¨äºå¦å®šä¸€ä¸ªæ¡ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;AND ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; prod_id&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; prod_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; prod_price&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; products&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; vend_id &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;DLL01&#39;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;AND&lt;/span&gt; prod_price &lt;span class=&#34;token operator&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;OR ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; prod_id&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; prod_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; prod_price&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; products&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; vend_id &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;DLL01&#39;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;OR&lt;/span&gt; vend_id &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;BRS01&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;NOT ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; products&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; prod_price &lt;span class=&#34;token operator&#34;&gt;NOT&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;BETWEEN&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;AND&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;like&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#like&#34;&gt;#&lt;/a&gt; LIKE&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;LIKE&lt;/code&gt;  æ“ä½œç¬¦åœ¨  &lt;code&gt;WHERE&lt;/code&gt;  å­å¥ä¸­ä½¿ç”¨ï¼Œä½œç”¨æ˜¯&lt;font color=&#39;red&#39;&gt;ç¡®å®šå­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…æ¨¡å¼&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;åªæœ‰å­—æ®µæ˜¯æ–‡æœ¬å€¼æ—¶æ‰ä½¿ç”¨  &lt;code&gt;LIKE&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;LIKE&lt;/code&gt;  æ”¯æŒä¸¤ä¸ªé€šé…ç¬¦åŒ¹é…é€‰é¡¹ï¼š &lt;code&gt;%&lt;/code&gt;  å’Œ  &lt;code&gt;_&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;ä¸è¦æ»¥ç”¨é€šé…ç¬¦ï¼Œé€šé…ç¬¦ä½äºå¼€å¤´å¤„åŒ¹é…ä¼šéå¸¸æ…¢ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;%&lt;/code&gt;  è¡¨ç¤ºä»»ä½•å­—ç¬¦&lt;font color=&#39;red&#39;&gt;å‡ºç°ä»»æ„æ¬¡æ•°&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;_&lt;/code&gt;  è¡¨ç¤ºä»»ä½•å­—ç¬¦&lt;font color=&#39;red&#39;&gt;å‡ºç°ä¸€æ¬¡&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;% ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; prod_id&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; prod_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; prod_price&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; products&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; prod_name &lt;span class=&#34;token operator&#34;&gt;LIKE&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;%bean bag%&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;_ ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; prod_id&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; prod_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; prod_price&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; products&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; prod_name &lt;span class=&#34;token operator&#34;&gt;LIKE&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;__ inch teddy bear&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;è¿æ¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¿æ¥&#34;&gt;#&lt;/a&gt; è¿æ¥&lt;/h4&gt;
&lt;h5 id=&#34;ç®€ä»‹-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®€ä»‹-2&#34;&gt;#&lt;/a&gt; ç®€ä»‹&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;JOIN&lt;/code&gt;  æ˜¯ â€œè¿æ¥â€ çš„æ„æ€ï¼Œé¡¾åæ€ä¹‰ï¼ŒSQL JOIN å­å¥ç”¨äºå°†ä¸¤ä¸ªæˆ–è€…å¤šä¸ªè¡¨è”åˆèµ·æ¥è¿›è¡ŒæŸ¥è¯¢ã€‚&lt;/p&gt;
&lt;p&gt;è¿æ¥è¡¨æ—¶&lt;font color=&#39;red&#39;&gt;éœ€è¦åœ¨æ¯ä¸ªè¡¨ä¸­é€‰æ‹©ä¸€ä¸ªå­—æ®µï¼Œå¹¶å¯¹è¿™äº›å­—æ®µçš„å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå€¼ç›¸åŒçš„ä¸¤æ¡è®°å½•å°†åˆå¹¶ä¸ºä¸€æ¡&lt;/font&gt;ã€‚&lt;strong&gt;è¿æ¥è¡¨çš„æœ¬è´¨å°±æ˜¯å°†ä¸åŒè¡¨çš„è®°å½•åˆå¹¶èµ·æ¥ï¼Œå½¢æˆä¸€å¼ æ–°è¡¨ã€‚å½“ç„¶ï¼Œè¿™å¼ æ–°è¡¨åªæ˜¯ä¸´æ—¶çš„ï¼Œå®ƒä»…å­˜åœ¨äºæœ¬æ¬¡æŸ¥è¯¢æœŸé—´&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;è¯­æ³•-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¯­æ³•-2&#34;&gt;#&lt;/a&gt; è¯­æ³•&lt;/h5&gt;
&lt;p&gt;ä½¿ç”¨  &lt;code&gt;JOIN&lt;/code&gt;  è¿æ¥ä¸¤ä¸ªè¡¨çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; table1&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;column1&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; table2&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;column2&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; table1 &lt;span class=&#34;token keyword&#34;&gt;join&lt;/span&gt; table2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;on&lt;/span&gt; table1&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;common_column1 &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; table2&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;common_column2&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;code&gt;table1.common_column1 = table2.common_column2&lt;/code&gt;  æ˜¯&lt;font color=&#39;red&#39;&gt;è¿æ¥æ¡ä»¶&lt;/font&gt;ï¼Œåªæœ‰æ»¡è¶³æ­¤æ¡ä»¶çš„è®°å½•æ‰ä¼šåˆå¹¶ä¸ºä¸€è¡Œã€‚æ‚¨å¯ä»¥ä½¿ç”¨å¤šä¸ªè¿ç®—ç¬¦æ¥è¿æ¥è¡¨ï¼Œä¾‹å¦‚ =ã€&amp;gt;ã€&amp;lt;ã€&amp;lt;&amp;gt;ã€&amp;lt;=ã€&amp;gt;=ã€!=ã€ &lt;code&gt;between&lt;/code&gt; ã€ &lt;code&gt;like&lt;/code&gt;  æˆ–è€…  &lt;code&gt;not&lt;/code&gt; ï¼Œä½†æ˜¯æœ€å¸¸è§çš„æ˜¯ä½¿ç”¨ =ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;å½“ä¸¤ä¸ªè¡¨ä¸­æœ‰åŒåçš„å­—æ®µæ—¶ï¼Œä¸ºäº†å¸®åŠ©æ•°æ®åº“å¼•æ“åŒºåˆ†æ˜¯å“ªä¸ªè¡¨çš„å­—æ®µï¼Œåœ¨ä¹¦å†™åŒåå­—æ®µåæ—¶éœ€è¦åŠ ä¸Šè¡¨å&lt;/font&gt;ã€‚å½“ç„¶ï¼Œå¦‚æœä¹¦å†™çš„å­—æ®µååœ¨ä¸¤ä¸ªè¡¨ä¸­æ˜¯å”¯ä¸€çš„ï¼Œä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ä»¥ä¸Šæ ¼å¼ï¼Œåªå†™å­—æ®µåå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œ&lt;font color=&#39;red&#39;&gt;å¦‚æœä¸¤å¼ è¡¨çš„å…³è”å­—æ®µåç›¸åŒï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨  &lt;code&gt;USING&lt;/code&gt;  å­å¥æ¥ä»£æ›¿  &lt;code&gt;ON&lt;/code&gt; &lt;/font&gt;ï¼Œä¸¾ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# join....on&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; c&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cust_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_num&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; Customers c &lt;span class=&#34;token keyword&#34;&gt;inner&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;join&lt;/span&gt; Orders o&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;on&lt;/span&gt; c&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cust_id &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cust_id&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;order&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;by&lt;/span&gt; c&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cust_name&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å¦‚æœä¸¤å¼ è¡¨çš„å…³è”å­—æ®µåç›¸åŒï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ USING å­å¥ï¼šjoin....using ()&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; c&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cust_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_num&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; Customers c &lt;span class=&#34;token keyword&#34;&gt;inner&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;join&lt;/span&gt; Orders o&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;using&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;cust_id&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;order&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;by&lt;/span&gt; c&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cust_name&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt; &lt;code&gt;ON&lt;/code&gt;  å’Œ  &lt;code&gt;WHERE&lt;/code&gt;  çš„åŒºåˆ«&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿æ¥è¡¨æ—¶ï¼ŒSQL ä¼šæ ¹æ®è¿æ¥æ¡ä»¶ç”Ÿæˆä¸€å¼ æ–°çš„ä¸´æ—¶è¡¨ã€‚&lt;font color=&#39;red&#39;&gt; &lt;code&gt;ON&lt;/code&gt;  æ˜¯è¿æ¥æ¡ä»¶&lt;/font&gt;ï¼Œå®ƒå†³å®šä¸´æ—¶è¡¨çš„ç”Ÿæˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;WHERE&lt;/code&gt;  æ˜¯åœ¨ä¸´æ—¶è¡¨ç”Ÿæˆä»¥åï¼Œå†å¯¹ä¸´æ—¶è¡¨ä¸­çš„æ•°æ®è¿›è¡Œè¿‡æ»¤ï¼Œç”Ÿæˆæœ€ç»ˆçš„ç»“æœé›†ï¼Œè¿™ä¸ªæ—¶å€™å·²ç»æ²¡æœ‰ JOIN-ON äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥æ€»ç»“æ¥è¯´å°±æ˜¯ï¼š&lt;strong&gt;&lt;font color=&#39;#B32015&#39;&gt;SQL å…ˆæ ¹æ® ON ç”Ÿæˆä¸€å¼ ä¸´æ—¶è¡¨ï¼Œç„¶åå†æ ¹æ® WHERE å¯¹ä¸´æ—¶è¡¨è¿›è¡Œç­›é€‰&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;åˆ†ç±»-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†ç±»-2&#34;&gt;#&lt;/a&gt; åˆ†ç±»&lt;/h5&gt;
&lt;p&gt;SQL å…è®¸åœ¨  &lt;code&gt;JOIN&lt;/code&gt;  å·¦è¾¹åŠ ä¸Šä¸€äº›ä¿®é¥°æ€§çš„å…³é”®è¯ï¼Œä»è€Œå½¢æˆä¸åŒç±»å‹çš„è¿æ¥ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è¿æ¥ç±»å‹&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(INNER) JOIN&lt;/code&gt; ï¼šå†…è¿æ¥&lt;/td&gt;
&lt;td&gt;ï¼ˆ&lt;strong&gt;é»˜è®¤è¿æ¥æ–¹å¼&lt;/strong&gt;ï¼‰åªæœ‰å½“&lt;font color=&#39;red&#39;&gt;ä¸¤ä¸ªè¡¨éƒ½å­˜åœ¨æ»¡è¶³æ¡ä»¶&lt;/font&gt;çš„è®°å½•æ—¶æ‰ä¼šè¿”å›è¡Œã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LEFT (OUTER) JOIN&lt;/code&gt; ï¼šå·¦ (å¤–) è¿æ¥&lt;/td&gt;
&lt;td&gt;ä»¥å·¦è¡¨ä¸ºåŸºç¡€ï¼Œå°†å·¦è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ä¸å³è¡¨è¿›è¡Œè¿æ¥ã€‚å³ä½¿å³è¡¨ä¸­æ²¡æœ‰ä¸å·¦è¡¨åŒ¹é…çš„è®°å½•ï¼Œå·¦è¿æ¥ä»ç„¶ä¼š **&lt;font color=&#39;red&#39;&gt;è¿”å›å·¦è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ï¼Œè€Œå³è¡¨ä¸­æœªåŒ¹é…çš„å¯¹åº”åˆ—å€¼åˆ™ä¸º NULL&lt;/font&gt;**.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;RIGHT (OUTER) JOIN&lt;/code&gt; ï¼šå³ (å¤–) è¿æ¥&lt;/td&gt;
&lt;td&gt;ä»¥å³è¡¨ä¸ºåŸºç¡€ï¼Œå°†å³è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ä¸å·¦è¡¨è¿›è¡Œè¿æ¥ã€‚å³ä½¿å·¦è¡¨ä¸­æ²¡æœ‰ä¸å³è¡¨åŒ¹é…çš„è®°å½•ï¼Œå³è¿æ¥ä»ç„¶ä¼š **&lt;font color=&#39;red&#39;&gt;è¿”å›å³è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ï¼Œè€Œå·¦è¡¨ä¸­æœªåŒ¹é…çš„å¯¹åº”åˆ—å€¼åˆ™ä¸º NULL&lt;/font&gt;**ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;FULL (OUTER) JOIN&lt;/code&gt; ï¼šå…¨ (å¤–) è¿æ¥&lt;/td&gt;
&lt;td&gt;åªè¦&lt;font color=&#39;red&#39;&gt;å…¶ä¸­æœ‰ä¸€ä¸ªè¡¨å­˜åœ¨æ»¡è¶³æ¡ä»¶&lt;/font&gt;çš„è®°å½•ï¼Œå°±è¿”å›è¡Œã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SELF JOIN&lt;/code&gt; ï¼šè‡ªè¿æ¥&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;å°†ä¸€ä¸ªè¡¨è¿æ¥åˆ°è‡ªèº«&lt;/font&gt;ï¼Œå°±åƒè¯¥è¡¨æ˜¯ä¸¤ä¸ªè¡¨ä¸€æ ·ã€‚ä¸ºäº†åŒºåˆ†ä¸¤ä¸ªè¡¨ï¼Œåœ¨ SQL è¯­å¥ä¸­éœ€è¦è‡³å°‘é‡å‘½åä¸€ä¸ªè¡¨ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;CROSS JOIN&lt;/code&gt; ï¼šäº¤å‰è¿æ¥&lt;/td&gt;
&lt;td&gt;ä»ä¸¤ä¸ªæˆ–è€…å¤šä¸ªè¿æ¥è¡¨ä¸­è¿”å›è®°å½•é›†çš„&lt;font color=&#39;red&#39;&gt;ç¬›å¡å°”ç§¯&lt;/font&gt;ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ä¸‹å›¾å±•ç¤ºäº† LEFT JOINã€RIGHT JOINã€INNER JOINã€OUTER JOIN ç›¸å…³çš„ 7 ç§ç”¨æ³•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/701670942f0f45d3a3a2187cd04a12ad~tplv-k3u1fbpfcp-zoom-1.image&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äº  &lt;code&gt;(INNER) JOIN&lt;/code&gt;  æ¥è¯´ï¼Œè¿˜æœ‰ä¸€ç§éšå¼çš„å†™æ³•ï¼Œç§°ä¸º â€œ&lt;strong&gt;éšå¼å†…è¿æ¥&lt;/strong&gt;â€ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰  &lt;code&gt;(INNER) JOIN&lt;/code&gt;  å…³é”®å­—ï¼Œä½¿ç”¨  &lt;code&gt;WHERE&lt;/code&gt;  è¯­å¥å®ç°å†…è¿æ¥çš„åŠŸèƒ½&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# éšå¼å†…è¿æ¥&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; c&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cust_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_num&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; Customers c&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; Orders o&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;where&lt;/span&gt; c&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cust_id &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cust_id&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;order&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;by&lt;/span&gt; c&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cust_name&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ˜¾å¼å†…è¿æ¥&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; c&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cust_name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; o&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;order_num&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; Customers c &lt;span class=&#34;token keyword&#34;&gt;inner&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;join&lt;/span&gt; Orders o&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;using&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;cust_id&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;order&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;by&lt;/span&gt; c&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cust_name&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;ç»„åˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç»„åˆ&#34;&gt;#&lt;/a&gt; ç»„åˆ&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;UNION&lt;/code&gt;  è¿ç®—ç¬¦&lt;font color=&#39;red&#39;&gt;å°†ä¸¤ä¸ªæˆ–æ›´å¤šæŸ¥è¯¢çš„ç»“æœç»„åˆèµ·æ¥ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªç»“æœé›†&lt;/font&gt;ï¼Œå…¶ä¸­åŒ…å«æ¥è‡ª  &lt;code&gt;UNION&lt;/code&gt;  ä¸­å‚ä¸æŸ¥è¯¢çš„æå–è¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;UNION&lt;/code&gt;  åŸºæœ¬è§„åˆ™ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰€æœ‰æŸ¥è¯¢çš„&lt;font color=&#39;red&#39;&gt;åˆ—æ•°å’Œåˆ—é¡ºåºå¿…é¡»ç›¸åŒ&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªæŸ¥è¯¢ä¸­æ¶‰åŠè¡¨çš„&lt;font color=&#39;red&#39;&gt;åˆ—çš„æ•°æ®ç±»å‹å¿…é¡»ç›¸åŒæˆ–å…¼å®¹&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;é€šå¸¸&lt;font color=&#39;red&#39;&gt;è¿”å›çš„åˆ—åå–è‡ªç¬¬ä¸€ä¸ªæŸ¥è¯¢&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é»˜è®¤åœ°ï¼Œ &lt;code&gt;UNION&lt;/code&gt;  æ“ä½œç¬¦é€‰å–ä¸åŒçš„å€¼ã€‚å¦‚æœå…è®¸é‡å¤çš„å€¼ï¼Œè¯·ä½¿ç”¨  &lt;code&gt;UNION ALL&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; column_name&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;s&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; table1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;UNION&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;ALL&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; column_name&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;s&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; table2&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;code&gt;UNION&lt;/code&gt;  ç»“æœé›†ä¸­çš„åˆ—åæ€»æ˜¯ç­‰äº  &lt;code&gt;UNION&lt;/code&gt;  ä¸­ç¬¬ä¸€ä¸ª  &lt;code&gt;SELECT&lt;/code&gt;  è¯­å¥ä¸­çš„åˆ—åã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;JOIN&lt;/code&gt;  vs  &lt;code&gt;UNION&lt;/code&gt; ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;JOIN&lt;/code&gt;  ä¸­è¿æ¥è¡¨çš„åˆ—å¯èƒ½ä¸åŒï¼Œä½†åœ¨  &lt;code&gt;UNION&lt;/code&gt;  ä¸­ï¼Œæ‰€æœ‰æŸ¥è¯¢çš„åˆ—æ•°å’Œåˆ—é¡ºåºå¿…é¡»ç›¸åŒã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UNION&lt;/code&gt;  å°†æŸ¥è¯¢ä¹‹åçš„è¡Œæ”¾åœ¨ä¸€èµ·ï¼ˆ&lt;font color=&#39;red&#39;&gt;å‚ç›´æ”¾ç½®&lt;/font&gt;ï¼‰ï¼Œä½†  &lt;code&gt;JOIN&lt;/code&gt;  å°†æŸ¥è¯¢ä¹‹åçš„åˆ—æ”¾åœ¨ä¸€èµ·ï¼ˆæ°´å¹³æ”¾ç½®ï¼‰ï¼Œå³å®ƒæ„æˆä¸€ä¸ªç¬›å¡å°”ç§¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å‡½æ•°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‡½æ•°&#34;&gt;#&lt;/a&gt; å‡½æ•°&lt;/h4&gt;
&lt;p&gt;ä¸åŒæ•°æ®åº“çš„å‡½æ•°å¾€å¾€å„ä¸ç›¸åŒï¼Œå› æ­¤ä¸å¯ç§»æ¤ã€‚æœ¬èŠ‚ä¸»è¦&lt;font color=&#39;red&#39;&gt;ä»¥ MysSQL çš„å‡½æ•°ä¸ºä¾‹&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;æ–‡æœ¬å¤„ç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ–‡æœ¬å¤„ç†&#34;&gt;#&lt;/a&gt; æ–‡æœ¬å¤„ç†&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‡½æ•°&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LEFT()&lt;/code&gt; ã€ &lt;code&gt;RIGHT()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å·¦è¾¹æˆ–è€…å³è¾¹çš„å­—ç¬¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LOWER()&lt;/code&gt; ã€ &lt;code&gt;UPPER()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è½¬æ¢ä¸ºå°å†™æˆ–è€…å¤§å†™&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LTRIM()&lt;/code&gt; ã€ &lt;code&gt;RTRIM()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å»é™¤å·¦è¾¹æˆ–è€…å³è¾¹çš„ç©ºæ ¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LENGTH()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;é•¿åº¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SOUNDEX()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;font color=&#39;red&#39;&gt;è½¬æ¢ä¸ºè¯­éŸ³å€¼&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;å…¶ä¸­ï¼Œ &lt;strong&gt; &lt;code&gt;SOUNDEX()&lt;/code&gt; &lt;/strong&gt; å¯ä»¥å°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºæè¿°å…¶è¯­éŸ³è¡¨ç¤ºçš„å­—æ¯æ•°å­—æ¨¡å¼ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; mytable&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; SOUNDEX&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;col1&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; SOUNDEX&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;apple&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;æ—¥æœŸå’Œæ—¶é—´å¤„ç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ—¥æœŸå’Œæ—¶é—´å¤„ç†&#34;&gt;#&lt;/a&gt; æ—¥æœŸå’Œæ—¶é—´å¤„ç†&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;æ—¥æœŸæ ¼å¼ï¼š &lt;code&gt;YYYY-MM-DD&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ—¶é—´æ ¼å¼ï¼š &lt;code&gt;HH:MM:SS&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‡½ æ•°&lt;/th&gt;
&lt;th&gt;è¯´ æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;AddDate()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å¢åŠ ä¸€ä¸ªæ—¥æœŸï¼ˆå¤©ã€å‘¨ç­‰ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;AddTime()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å¢åŠ ä¸€ä¸ªæ—¶é—´ï¼ˆæ—¶ã€åˆ†ç­‰ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;CurDate()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¿”å›å½“å‰æ—¥æœŸ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;CurTime()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¿”å›å½“å‰æ—¶é—´&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Date()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¿”å›æ—¥æœŸæ—¶é—´çš„æ—¥æœŸéƒ¨åˆ†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DateDiff()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹å·®&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Date_Add()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;é«˜åº¦çµæ´»çš„æ—¥æœŸè¿ç®—å‡½æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Date_Format()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¿”å›ä¸€ä¸ªæ ¼å¼åŒ–çš„æ—¥æœŸæˆ–æ—¶é—´ä¸²&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Day()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¿”å›ä¸€ä¸ªæ—¥æœŸçš„å¤©æ•°éƒ¨åˆ†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DayOfWeek()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å¯¹äºä¸€ä¸ªæ—¥æœŸï¼Œè¿”å›å¯¹åº”çš„æ˜ŸæœŸå‡ &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Hour()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¿”å›ä¸€ä¸ªæ—¶é—´çš„å°æ—¶éƒ¨åˆ†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Minute()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¿”å›ä¸€ä¸ªæ—¶é—´çš„åˆ†é’Ÿéƒ¨åˆ†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Month()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¿”å›ä¸€ä¸ªæ—¥æœŸçš„æœˆä»½éƒ¨åˆ†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Now()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¿”å›å½“å‰æ—¥æœŸå’Œæ—¶é—´&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Second()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¿”å›ä¸€ä¸ªæ—¶é—´çš„ç§’éƒ¨åˆ†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Time()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¿”å›ä¸€ä¸ªæ—¥æœŸæ—¶é—´çš„æ—¶é—´éƒ¨åˆ†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Year()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¿”å›ä¸€ä¸ªæ—¥æœŸçš„å¹´ä»½éƒ¨åˆ†&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5 id=&#34;æ•°å€¼å¤„ç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°å€¼å¤„ç†&#34;&gt;#&lt;/a&gt; æ•°å€¼å¤„ç†&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‡½æ•°&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;SIN()&lt;/td&gt;
&lt;td&gt;æ­£å¼¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;COS()&lt;/td&gt;
&lt;td&gt;ä½™å¼¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;TAN()&lt;/td&gt;
&lt;td&gt;æ­£åˆ‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ABS()&lt;/td&gt;
&lt;td&gt;ç»å¯¹å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SQRT()&lt;/td&gt;
&lt;td&gt;å¹³æ–¹æ ¹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;MOD()&lt;/td&gt;
&lt;td&gt;ä½™æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;EXP()&lt;/td&gt;
&lt;td&gt;æŒ‡æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PI()&lt;/td&gt;
&lt;td&gt;åœ†å‘¨ç‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RAND()&lt;/td&gt;
&lt;td&gt;éšæœºæ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5 id=&#34;æ±‡æ€»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ±‡æ€»&#34;&gt;#&lt;/a&gt; æ±‡æ€»&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‡½ æ•°&lt;/th&gt;
&lt;th&gt;è¯´ æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;AVG()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¿”å›æŸåˆ—çš„å¹³å‡å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;COUNT()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¿”å›æŸåˆ—çš„è¡Œæ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;MAX()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¿”å›æŸåˆ—çš„æœ€å¤§å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;MIN()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¿”å›æŸåˆ—çš„æœ€å°å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SUM()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¿”å›æŸåˆ—å€¼ä¹‹å’Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;code&gt;AVG()&lt;/code&gt;  ä¼šå¿½ç•¥ NULL è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨  &lt;code&gt;DISTINCT&lt;/code&gt;  å¯ä»¥è®©æ±‡æ€»å‡½æ•°å€¼æ±‡æ€»ä¸åŒçš„å€¼ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;AVG&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;DISTINCT&lt;/span&gt; col1&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;AS&lt;/span&gt; avg_col&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; mytable&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥ä»‹ç» DDL è¯­å¥ç”¨æ³•ã€‚DDL çš„ä¸»è¦åŠŸèƒ½æ˜¯å®šä¹‰æ•°æ®åº“å¯¹è±¡ï¼ˆå¦‚ï¼šæ•°æ®åº“ã€æ•°æ®è¡¨ã€è§†å›¾ã€ç´¢å¼•ç­‰ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;æ•°æ®å®šä¹‰&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®å®šä¹‰&#34;&gt;#&lt;/a&gt; &lt;mark&gt;æ•°æ®å®šä¹‰&lt;/mark&gt;&lt;/h4&gt;
&lt;h5 id=&#34;æ•°æ®åº“database&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®åº“database&#34;&gt;#&lt;/a&gt; æ•°æ®åº“ï¼ˆDATABASEï¼‰&lt;/h5&gt;
&lt;h6 id=&#34;åˆ›å»ºæ•°æ®åº“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ›å»ºæ•°æ®åº“&#34;&gt;#&lt;/a&gt; åˆ›å»ºæ•°æ®åº“&lt;/h6&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DATABASE&lt;/span&gt; test&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;åˆ é™¤æ•°æ®åº“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ é™¤æ•°æ®åº“&#34;&gt;#&lt;/a&gt; åˆ é™¤æ•°æ®åº“&lt;/h6&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;DROP&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DATABASE&lt;/span&gt; test&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;é€‰æ‹©æ•°æ®åº“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é€‰æ‹©æ•°æ®åº“&#34;&gt;#&lt;/a&gt; é€‰æ‹©æ•°æ®åº“&lt;/h6&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;USE&lt;/span&gt; test&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;æ•°æ®è¡¨table&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®è¡¨table&#34;&gt;#&lt;/a&gt; æ•°æ®è¡¨ï¼ˆTABLEï¼‰&lt;/h5&gt;
&lt;h6 id=&#34;åˆ›å»ºæ•°æ®è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ›å»ºæ•°æ®è¡¨&#34;&gt;#&lt;/a&gt; åˆ›å»ºæ•°æ®è¡¨&lt;/h6&gt;
&lt;p&gt;&lt;strong&gt;æ™®é€šåˆ›å»º&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TABLE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  id &lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;NOT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;Id&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  username &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;NOT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;default&#39;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;ç”¨æˆ·å&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  password &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;NOT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;default&#39;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;å¯†ç &#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  email &lt;span class=&#34;token keyword&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;NOT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;default&#39;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;é‚®ç®±&#39;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;ç”¨æˆ·è¡¨&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æ ¹æ®å·²æœ‰çš„è¡¨åˆ›å»ºæ–°è¡¨&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TABLE&lt;/span&gt; vip_user &lt;span class=&#34;token keyword&#34;&gt;AS&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;åˆ é™¤æ•°æ®è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ é™¤æ•°æ®è¡¨&#34;&gt;#&lt;/a&gt; åˆ é™¤æ•°æ®è¡¨&lt;/h6&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;DROP&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TABLE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;ä¿®æ”¹æ•°æ®è¡¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¿®æ”¹æ•°æ®è¡¨&#34;&gt;#&lt;/a&gt; ä¿®æ”¹æ•°æ®è¡¨&lt;/h6&gt;
&lt;p&gt;&lt;strong&gt;æ·»åŠ åˆ—&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;ALTER&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TABLE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;ADD&lt;/span&gt; age &lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;åˆ é™¤åˆ—&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;ALTER&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TABLE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;DROP&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLUMN&lt;/span&gt; age&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;ä¿®æ”¹åˆ—&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;ALTER&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TABLE&lt;/span&gt; &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;user&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;MODIFY&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COLUMN&lt;/span&gt; age &lt;span class=&#34;token keyword&#34;&gt;tinyint&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æ·»åŠ ä¸»é”®&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;ALTER&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TABLE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;ADD&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;PRIMARY&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;KEY&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;id&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;åˆ é™¤ä¸»é”®&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;ALTER&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TABLE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;DROP&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;PRIMARY&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;KEY&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;è§†å›¾view&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è§†å›¾view&#34;&gt;#&lt;/a&gt; è§†å›¾ï¼ˆVIEWï¼‰&lt;/h5&gt;
&lt;p&gt;å®šä¹‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§†å›¾æ˜¯åŸºäº SQL è¯­å¥çš„ç»“æœé›†çš„å¯è§†åŒ–çš„è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;è§†å›¾æ˜¯&lt;strong&gt;è™šæ‹Ÿçš„è¡¨ï¼Œæœ¬èº«ä¸åŒ…å«æ•°æ®&lt;/strong&gt;ï¼Œä¹Ÿå°±ä¸èƒ½å¯¹å…¶è¿›è¡Œç´¢å¼•æ“ä½œã€‚å¯¹è§†å›¾çš„æ“ä½œå’Œå¯¹æ™®é€šè¡¨çš„æ“ä½œä¸€æ ·ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½œç”¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç®€åŒ–å¤æ‚çš„ SQL æ“ä½œï¼Œæ¯”å¦‚å¤æ‚çš„è”ç»“ï¼›&lt;/li&gt;
&lt;li&gt;åªä½¿ç”¨å®é™…è¡¨çš„ä¸€éƒ¨åˆ†æ•°æ®ï¼›&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;é€šè¿‡åªç»™ç”¨æˆ·è®¿é—®è§†å›¾çš„æƒé™ï¼Œä¿è¯æ•°æ®çš„å®‰å…¨æ€§&lt;/font&gt;ï¼›&lt;/li&gt;
&lt;li&gt;æ›´æ”¹æ•°æ®æ ¼å¼å’Œè¡¨ç¤ºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/ec4c975296ea4a7097879dac7c353878%7Etplv-k3u1fbpfcp-zoom-1.image&#34; alt=&#34;mysqlè§†å›¾&#34; /&gt;&lt;/p&gt;
&lt;h6 id=&#34;åˆ›å»ºè§†å›¾&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ›å»ºè§†å›¾&#34;&gt;#&lt;/a&gt; åˆ›å»ºè§†å›¾&lt;/h6&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;VIEW&lt;/span&gt; top_10_user_view &lt;span class=&#34;token keyword&#34;&gt;AS&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; id&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; username&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; id &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;åˆ é™¤è§†å›¾&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ é™¤è§†å›¾&#34;&gt;#&lt;/a&gt; åˆ é™¤è§†å›¾&lt;/h6&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;DROP&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;VIEW&lt;/span&gt; top_10_user_view&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;ç´¢å¼•index&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç´¢å¼•index&#34;&gt;#&lt;/a&gt; ç´¢å¼•ï¼ˆINDEXï¼‰&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;ç´¢å¼•æ˜¯ä¸€ç§ç”¨äºå¿«é€ŸæŸ¥è¯¢å’Œæ£€ç´¢æ•°æ®çš„æ•°æ®ç»“æ„ï¼Œå…¶æœ¬è´¨å¯ä»¥çœ‹æˆæ˜¯ä¸€ç§æ’åºå¥½çš„æ•°æ®ç»“æ„ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç´¢å¼•çš„ä½œç”¨å°±&lt;font color=&#39;red&#39;&gt;ç›¸å½“äºä¹¦çš„ç›®å½•&lt;/font&gt;ã€‚æ‰“ä¸ªæ¯”æ–¹ï¼šæˆ‘ä»¬åœ¨æŸ¥å­—å…¸çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰ç›®å½•ï¼Œé‚£æˆ‘ä»¬å°±åªèƒ½ä¸€é¡µä¸€é¡µçš„å»æ‰¾æˆ‘ä»¬éœ€è¦æŸ¥çš„é‚£ä¸ªå­—ï¼Œé€Ÿåº¦å¾ˆæ…¢ã€‚å¦‚æœæœ‰ç›®å½•äº†ï¼Œæˆ‘ä»¬åªéœ€è¦å…ˆå»ç›®å½•é‡ŒæŸ¥æ‰¾å­—çš„ä½ç½®ï¼Œç„¶åç›´æ¥ç¿»åˆ°é‚£ä¸€é¡µå°±è¡Œäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt; ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ç´¢å¼•å¯ä»¥å¤§å¤§&lt;font color=&#39;red&#39;&gt;åŠ å¿«æ•°æ®çš„æ£€ç´¢é€Ÿåº¦&lt;/font&gt;ï¼ˆå¤§å¤§å‡å°‘æ£€ç´¢çš„æ•°æ®é‡ï¼‰, è¿™ä¹Ÿæ˜¯åˆ›å»ºç´¢å¼•çš„æœ€ä¸»è¦çš„åŸå› ã€‚&lt;/li&gt;
&lt;li&gt;é€šè¿‡åˆ›å»º&lt;font color=&#39;red&#39;&gt;å”¯ä¸€æ€§ç´¢å¼•ï¼Œå¯ä»¥ä¿è¯æ•°æ®åº“è¡¨ä¸­æ¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ€§&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt; ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ›å»ºç´¢å¼•å’Œç»´æŠ¤ç´¢å¼•éœ€è¦è€—è´¹è®¸å¤šæ—¶é—´ã€‚å½“å¯¹è¡¨ä¸­çš„æ•°æ®è¿›è¡Œå¢åˆ æ”¹çš„æ—¶å€™ï¼Œå¦‚æœæ•°æ®æœ‰ç´¢å¼•ï¼Œé‚£ä¹ˆç´¢å¼•ä¹Ÿéœ€è¦åŠ¨æ€çš„ä¿®æ”¹ï¼Œä¼šé™ä½ SQL æ‰§è¡Œæ•ˆç‡ã€‚&lt;/li&gt;
&lt;li&gt;ç´¢å¼•éœ€è¦ä½¿ç”¨ç‰©ç†æ–‡ä»¶å­˜å‚¨ï¼Œä¹Ÿä¼šè€—è´¹ä¸€å®šç©ºé—´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œ&lt;strong&gt;ä½¿ç”¨ç´¢å¼•ä¸€å®šèƒ½æé«˜æŸ¥è¯¢æ€§èƒ½å—ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç´¢å¼•æŸ¥è¯¢éƒ½æ˜¯æ¯”å…¨è¡¨æ‰«æè¦å¿«çš„ã€‚ä½†æ˜¯&lt;font color=&#39;red&#39;&gt;å¦‚æœæ•°æ®åº“çš„æ•°æ®é‡ä¸å¤§ï¼Œé‚£ä¹ˆä½¿ç”¨ç´¢å¼•ä¹Ÿä¸ä¸€å®šèƒ½å¤Ÿå¸¦æ¥å¾ˆå¤§æå‡&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å…³äºç´¢å¼•çš„è¯¦ç»†ä»‹ç»ï¼Œè¯·çœ‹æˆ‘å†™çš„ &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qYXZhZ3VpZGUuY24vZGF0YWJhc2UvbXlzcWwvbXlzcWwtaW5kZXguaHRtbA==&#34;&gt;MySQL ç´¢å¼•è¯¦è§£ open in new window&lt;/span&gt; è¿™ç¯‡æ–‡ç« ã€‚&lt;/p&gt;
&lt;h6 id=&#34;åˆ›å»ºç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ›å»ºç´¢å¼•&#34;&gt;#&lt;/a&gt; åˆ›å»ºç´¢å¼•&lt;/h6&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;INDEX&lt;/span&gt; user_index&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;ON&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;id&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;æ·»åŠ ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ·»åŠ ç´¢å¼•&#34;&gt;#&lt;/a&gt; æ·»åŠ ç´¢å¼•&lt;/h6&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;ALTER&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;table&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;ADD&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;INDEX&lt;/span&gt; user_index&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;id&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;åˆ›å»ºå”¯ä¸€ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ›å»ºå”¯ä¸€ç´¢å¼•&#34;&gt;#&lt;/a&gt; åˆ›å»ºå”¯ä¸€ç´¢å¼•&lt;/h6&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;UNIQUE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;INDEX&lt;/span&gt; user_index&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;ON&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;id&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;åˆ é™¤ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ é™¤ç´¢å¼•&#34;&gt;#&lt;/a&gt; åˆ é™¤ç´¢å¼•&lt;/h6&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;ALTER&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TABLE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;DROP&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;INDEX&lt;/span&gt; user_index&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;çº¦æŸ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#çº¦æŸ&#34;&gt;#&lt;/a&gt; çº¦æŸ&lt;/h5&gt;
&lt;p&gt;SQL çº¦æŸ&lt;strong&gt;ç”¨äºè§„å®šè¡¨ä¸­çš„æ•°æ®è§„åˆ™&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœå­˜åœ¨è¿åçº¦æŸçš„æ•°æ®è¡Œä¸ºï¼Œè¡Œä¸ºä¼šè¢«çº¦æŸç»ˆæ­¢ã€‚&lt;/p&gt;
&lt;p&gt;çº¦æŸå¯ä»¥åœ¨åˆ›å»ºè¡¨æ—¶è§„å®šï¼ˆé€šè¿‡ CREATE TABLE è¯­å¥ï¼‰ï¼Œæˆ–è€…åœ¨è¡¨åˆ›å»ºä¹‹åè§„å®šï¼ˆé€šè¿‡ ALTER TABLE è¯­å¥ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;çº¦æŸç±»å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;NOT NULL&lt;/code&gt;  - æŒ‡ç¤ºæŸåˆ—ä¸èƒ½å­˜å‚¨ NULL å€¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UNIQUE&lt;/code&gt;  - ä¿è¯æŸåˆ—çš„æ¯è¡Œå¿…é¡»æœ‰å”¯ä¸€çš„å€¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;PRIMARY KEY&lt;/code&gt;  - NOT NULL å’Œ UNIQUE çš„ç»“åˆã€‚ç¡®ä¿æŸåˆ—ï¼ˆæˆ–ä¸¤ä¸ªåˆ—å¤šä¸ªåˆ—çš„ç»“åˆï¼‰æœ‰å”¯ä¸€æ ‡è¯†ï¼Œæœ‰åŠ©äºæ›´å®¹æ˜“æ›´å¿«é€Ÿåœ°æ‰¾åˆ°è¡¨ä¸­çš„ä¸€ä¸ªç‰¹å®šçš„è®°å½•ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;FOREIGN KEY&lt;/code&gt;  - ä¿è¯ä¸€ä¸ªè¡¨ä¸­çš„æ•°æ®åŒ¹é…å¦ä¸€ä¸ªè¡¨ä¸­çš„å€¼çš„å‚ç…§å®Œæ•´æ€§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CHECK&lt;/code&gt;  - ä¿è¯åˆ—ä¸­çš„å€¼ç¬¦åˆæŒ‡å®šçš„æ¡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DEFAULT&lt;/code&gt;  - è§„å®šæ²¡æœ‰ç»™åˆ—èµ‹å€¼æ—¶çš„é»˜è®¤å€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åˆ›å»ºè¡¨æ—¶ä½¿ç”¨çº¦æŸæ¡ä»¶ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TABLE&lt;/span&gt; Users &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  Id &lt;span class=&#34;token keyword&#34;&gt;INT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;UNSIGNED&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;NOT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;AUTO_INCREMENT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;è‡ªå¢Id&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  Username &lt;span class=&#34;token keyword&#34;&gt;VARCHAR&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;NOT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;UNIQUE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;default&#39;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;ç”¨æˆ·å&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  Password &lt;span class=&#34;token keyword&#34;&gt;VARCHAR&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;NOT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;default&#39;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;å¯†ç &#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  Email &lt;span class=&#34;token keyword&#34;&gt;VARCHAR&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;NOT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;default&#39;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;é‚®ç®±åœ°å€&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  Enabled &lt;span class=&#34;token keyword&#34;&gt;TINYINT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;NULL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;æ˜¯å¦æœ‰æ•ˆ&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;PRIMARY&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;KEY&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;Id&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;ENGINE&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;InnoDB&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;AUTO_INCREMENT&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;CHARSET&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;utf8mb4 &lt;span class=&#34;token keyword&#34;&gt;COMMENT&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;ç”¨æˆ·è¡¨&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥ä»‹ç» TCL è¯­å¥ç”¨æ³•ã€‚TCL çš„ä¸»è¦åŠŸèƒ½æ˜¯ç®¡ç†æ•°æ®åº“ä¸­çš„äº‹åŠ¡ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;äº‹åŠ¡å¤„ç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#äº‹åŠ¡å¤„ç†&#34;&gt;#&lt;/a&gt; äº‹åŠ¡å¤„ç†&lt;/h4&gt;
&lt;p&gt;ä¸èƒ½å›é€€  &lt;code&gt;SELECT&lt;/code&gt;  è¯­å¥ï¼Œå›é€€  &lt;code&gt;SELECT&lt;/code&gt;  è¯­å¥ä¹Ÿæ²¡æ„ä¹‰ï¼›ä¹Ÿä¸èƒ½å›é€€  &lt;code&gt;CREATE&lt;/code&gt;  å’Œ  &lt;code&gt;DROP&lt;/code&gt;  è¯­å¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;MySQL é»˜è®¤æ˜¯éšå¼æäº¤&lt;/strong&gt;ï¼Œæ¯æ‰§è¡Œä¸€æ¡è¯­å¥å°±æŠŠè¿™æ¡è¯­å¥å½“æˆä¸€ä¸ªäº‹åŠ¡ç„¶åè¿›è¡Œæäº¤ã€‚å½“å‡ºç°  &lt;code&gt;START TRANSACTION&lt;/code&gt;  è¯­å¥æ—¶ï¼Œä¼šå…³é—­éšå¼æäº¤ï¼›å½“  &lt;code&gt;COMMIT&lt;/code&gt;  æˆ–  &lt;code&gt;ROLLBACK&lt;/code&gt;  è¯­å¥æ‰§è¡Œåï¼Œäº‹åŠ¡ä¼šè‡ªåŠ¨å…³é—­ï¼Œé‡æ–°æ¢å¤éšå¼æäº¤ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡  &lt;code&gt;set autocommit=0&lt;/code&gt;  å¯ä»¥å–æ¶ˆè‡ªåŠ¨æäº¤ï¼Œç›´åˆ°  &lt;code&gt;set autocommit=1&lt;/code&gt;  æ‰ä¼šæäº¤ï¼›&lt;font color=&#39;red&#39;&gt; &lt;code&gt;autocommit&lt;/code&gt;  æ ‡è®°æ˜¯é’ˆå¯¹æ¯ä¸ªè¿æ¥è€Œä¸æ˜¯é’ˆå¯¹æœåŠ¡å™¨çš„&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;START TRANSACTION&lt;/code&gt;  - æŒ‡ä»¤ç”¨äº&lt;font color=&#39;red&#39;&gt;æ ‡è®°äº‹åŠ¡çš„èµ·å§‹ç‚¹&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SAVEPOINT&lt;/code&gt;  - æŒ‡ä»¤ç”¨äº&lt;font color=&#39;red&#39;&gt;åˆ›å»ºä¿ç•™ç‚¹&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ROLLBACK TO&lt;/code&gt;  - æŒ‡ä»¤ç”¨äº&lt;font color=&#39;red&#39;&gt;å›æ»šåˆ°æŒ‡å®šçš„ä¿ç•™ç‚¹&lt;/font&gt;ï¼›å¦‚æœæ²¡æœ‰è®¾ç½®ä¿ç•™ç‚¹ï¼Œåˆ™å›é€€åˆ°  &lt;code&gt;START TRANSACTION&lt;/code&gt;  è¯­å¥å¤„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;COMMIT&lt;/code&gt;  - &lt;font color=&#39;red&#39;&gt;æäº¤äº‹åŠ¡&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- å¼€å§‹äº‹åŠ¡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;START&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TRANSACTION&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- æ’å…¥æ“ä½œ A&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;INSERT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;INTO&lt;/span&gt; &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;user&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;VALUES&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;root1&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;root1&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;xxxx@163.com&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- åˆ›å»ºä¿ç•™ç‚¹ updateA&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SAVEPOINT&lt;/span&gt; updateA&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- æ’å…¥æ“ä½œ B&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;INSERT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;INTO&lt;/span&gt; &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;user&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;VALUES&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;root2&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;root2&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;xxxx@163.com&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- å›æ»šåˆ°ä¿ç•™ç‚¹ updateA&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;ROLLBACK&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TO&lt;/span&gt; updateA&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- æäº¤äº‹åŠ¡ï¼Œåªæœ‰æ“ä½œ A ç”Ÿæ•ˆ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;COMMIT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥ä»‹ç» DCL è¯­å¥ç”¨æ³•ã€‚DCL çš„ä¸»è¦åŠŸèƒ½æ˜¯æ§åˆ¶ç”¨æˆ·çš„è®¿é—®æƒé™ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;æƒé™æ§åˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æƒé™æ§åˆ¶&#34;&gt;#&lt;/a&gt; æƒé™æ§åˆ¶&lt;/h4&gt;
&lt;p&gt;è¦æˆäºˆç”¨æˆ·å¸æˆ·æƒé™ï¼Œå¯ä»¥ç”¨ &lt;code&gt;GRANT&lt;/code&gt;  å‘½ä»¤ã€‚æœ‰æ’¤é”€ç”¨æˆ·çš„æƒé™ï¼Œå¯ä»¥ç”¨ &lt;code&gt;REVOKE&lt;/code&gt;  å‘½ä»¤ã€‚è¿™é‡Œä»¥ MySQl ä¸ºä¾‹ï¼Œä»‹ç»æƒé™æ§åˆ¶å®é™…åº”ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;GRANT&lt;/code&gt;  æˆäºˆæƒé™è¯­æ³•ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;GRANT&lt;/span&gt; privilege&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;privilege&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;ON&lt;/span&gt; privilege_level&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;TO&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;IDENTIFIED &lt;span class=&#34;token keyword&#34;&gt;BY&lt;/span&gt; password&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;REQUIRE&lt;/span&gt; tsl_option&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;WITH&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;GRANT_OPTION &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; resource_option&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ç®€å•è§£é‡Šä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨ &lt;code&gt;GRANT&lt;/code&gt;  å…³é”®å­—åæŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªæƒé™ã€‚å¦‚æœæˆäºˆç”¨æˆ·å¤šä¸ªæƒé™ï¼Œåˆ™æ¯ä¸ªæƒé™ç”±é€—å·åˆ†éš”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ON privilege_level&lt;/code&gt;  ç¡®å®šæƒé™åº”ç”¨çº§åˆ«ã€‚MySQL æ”¯æŒ globalï¼ˆ &lt;code&gt;*.*&lt;/code&gt; ï¼‰ï¼Œdatabaseï¼ˆ &lt;code&gt;database.*&lt;/code&gt; ï¼‰ï¼Œtableï¼ˆ &lt;code&gt;database.table&lt;/code&gt; ï¼‰å’Œåˆ—çº§åˆ«ã€‚å¦‚æœä½¿ç”¨åˆ—æƒé™çº§åˆ«ï¼Œåˆ™å¿…é¡»åœ¨æ¯ä¸ªæƒé™ä¹‹åæŒ‡å®šä¸€ä¸ªæˆ–é€—å·åˆ†éš”åˆ—çš„åˆ—è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;user&lt;/code&gt;  æ˜¯è¦æˆäºˆæƒé™çš„ç”¨æˆ·ã€‚å¦‚æœç”¨æˆ·å·²å­˜åœ¨ï¼Œåˆ™ &lt;code&gt;GRANT&lt;/code&gt;  è¯­å¥å°†ä¿®æ”¹å…¶æƒé™ã€‚å¦åˆ™ï¼Œ &lt;code&gt;GRANT&lt;/code&gt;  è¯­å¥å°†åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ã€‚å¯é€‰å­å¥ &lt;code&gt;IDENTIFIED BY&lt;/code&gt;  å…è®¸æ‚¨ä¸ºç”¨æˆ·è®¾ç½®æ–°çš„å¯†ç ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;REQUIRE tsl_option&lt;/code&gt;  æŒ‡å®šç”¨æˆ·æ˜¯å¦å¿…é¡»é€šè¿‡ SSLï¼ŒX059 ç­‰å®‰å…¨è¿æ¥è¿æ¥åˆ°æ•°æ®åº“æœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;li&gt;å¯é€‰  &lt;code&gt;WITH GRANT OPTION&lt;/code&gt;  å­å¥å…è®¸æ‚¨æˆäºˆå…¶ä»–ç”¨æˆ·æˆ–ä»å…¶ä»–ç”¨æˆ·ä¸­åˆ é™¤æ‚¨æ‹¥æœ‰çš„æƒé™ã€‚æ­¤å¤–ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ &lt;code&gt;WITH&lt;/code&gt;  å­å¥åˆ†é… MySQL æ•°æ®åº“æœåŠ¡å™¨çš„èµ„æºï¼Œä¾‹å¦‚ï¼Œè®¾ç½®ç”¨æˆ·æ¯å°æ—¶å¯ä»¥ä½¿ç”¨çš„è¿æ¥æ•°æˆ–è¯­å¥æ•°ã€‚è¿™åœ¨ MySQL å…±äº«æ‰˜ç®¡ç­‰å…±äº«ç¯å¢ƒä¸­éå¸¸æœ‰ç”¨ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;REVOKE&lt;/code&gt;  æ’¤é”€æƒé™è¯­æ³•ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;REVOKE&lt;/span&gt;   privilege_type &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;column_list&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; priv_type &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;column_list&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;ON&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;object_type&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; privilege_level&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ç®€å•è§£é‡Šä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨  &lt;code&gt;REVOKE&lt;/code&gt;  å…³é”®å­—åé¢æŒ‡å®šè¦ä»ç”¨æˆ·æ’¤æ¶ˆçš„æƒé™åˆ—è¡¨ã€‚æ‚¨éœ€è¦ç”¨é€—å·åˆ†éš”æƒé™ã€‚&lt;/li&gt;
&lt;li&gt;æŒ‡å®šåœ¨  &lt;code&gt;ON&lt;/code&gt;  å­å¥ä¸­æ’¤é”€ç‰¹æƒçš„ç‰¹æƒçº§åˆ«ã€‚&lt;/li&gt;
&lt;li&gt;æŒ‡å®šè¦æ’¤æ¶ˆ  &lt;code&gt;FROM&lt;/code&gt;  å­å¥ä¸­çš„æƒé™çš„ç”¨æˆ·å¸æˆ·ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;GRANT&lt;/code&gt;  å’Œ  &lt;code&gt;REVOKE&lt;/code&gt;  å¯åœ¨å‡ ä¸ªå±‚æ¬¡ä¸Šæ§åˆ¶è®¿é—®æƒé™ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•´ä¸ªæœåŠ¡å™¨ï¼Œä½¿ç”¨  &lt;code&gt;GRANT ALL&lt;/code&gt;  å’Œ  &lt;code&gt;REVOKE ALL&lt;/code&gt; ï¼›&lt;/li&gt;
&lt;li&gt;æ•´ä¸ªæ•°æ®åº“ï¼Œä½¿ç”¨  &lt;code&gt;ON database.*&lt;/code&gt; ï¼›&lt;/li&gt;
&lt;li&gt;ç‰¹å®šçš„è¡¨ï¼Œä½¿ç”¨  &lt;code&gt;ON database.table&lt;/code&gt; ï¼›&lt;/li&gt;
&lt;li&gt;ç‰¹å®šçš„åˆ—ï¼›&lt;/li&gt;
&lt;li&gt;ç‰¹å®šçš„å­˜å‚¨è¿‡ç¨‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ–°åˆ›å»ºçš„è´¦æˆ·æ²¡æœ‰ä»»ä½•æƒé™ã€‚è´¦æˆ·ç”¨  &lt;code&gt;username@host&lt;/code&gt;  çš„å½¢å¼å®šä¹‰ï¼Œ &lt;code&gt;username@%&lt;/code&gt;  ä½¿ç”¨çš„æ˜¯é»˜è®¤ä¸»æœºåã€‚MySQL çš„è´¦æˆ·ä¿¡æ¯ä¿å­˜åœ¨ mysql è¿™ä¸ªæ•°æ®åº“ä¸­ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;USE&lt;/span&gt; mysql&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ä¸‹è¡¨è¯´æ˜äº†å¯ç”¨äº &lt;code&gt;GRANT&lt;/code&gt;  å’Œ &lt;code&gt;REVOKE&lt;/code&gt;  è¯­å¥çš„æ‰€æœ‰å…è®¸æƒé™ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹æƒ&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;è¯´æ˜&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;çº§åˆ«&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å…¨å±€&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ•°æ®åº“&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;è¡¨&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;åˆ—&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;ç¨‹åº&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;ä»£ç†&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ALL [PRIVILEGES]&lt;/td&gt;
&lt;td&gt;æˆäºˆé™¤ GRANT OPTION ä¹‹å¤–çš„æŒ‡å®šè®¿é—®çº§åˆ«çš„æ‰€æœ‰æƒé™&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ALTER&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·ä½¿ç”¨ ALTER TABLE è¯­å¥&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ALTER ROUTINE&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·æ›´æ”¹æˆ–åˆ é™¤å­˜å‚¨çš„ä¾‹ç¨‹&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CREATE&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·åˆ›å»ºæ•°æ®åº“å’Œè¡¨&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CREATE ROUTINE&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·åˆ›å»ºå­˜å‚¨çš„ä¾‹ç¨‹&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CREATE TABLESPACE&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·åˆ›å»ºï¼Œæ›´æ”¹æˆ–åˆ é™¤è¡¨ç©ºé—´å’Œæ—¥å¿—æ–‡ä»¶ç»„&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CREATE TEMPORARY TABLES&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·ä½¿ç”¨ CREATE TEMPORARY TABLE åˆ›å»ºä¸´æ—¶è¡¨&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CREATE USER&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·ä½¿ç”¨ CREATE USERï¼ŒDROP USERï¼ŒRENAME USER å’Œ REVOKE ALL PRIVILEGES è¯­å¥ã€‚&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CREATE VIEW&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·åˆ›å»ºæˆ–ä¿®æ”¹è§†å›¾ã€‚&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DELETE&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·ä½¿ç”¨ DELETE&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DROP&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·åˆ é™¤æ•°æ®åº“ï¼Œè¡¨å’Œè§†å›¾&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;EVENT&lt;/td&gt;
&lt;td&gt;å¯ç”¨äº‹ä»¶è®¡åˆ’ç¨‹åºçš„äº‹ä»¶ä½¿ç”¨ã€‚&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;EXECUTE&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·æ‰§è¡Œå­˜å‚¨çš„ä¾‹ç¨‹&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;FILE&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·è¯»å–æ•°æ®åº“ç›®å½•ä¸­çš„ä»»ä½•æ–‡ä»¶ã€‚&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;GRANT OPTION&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·æ‹¥æœ‰æˆäºˆæˆ–æ’¤æ¶ˆå…¶ä»–å¸æˆ·æƒé™çš„æƒé™ã€‚&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;INDEX&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·åˆ›å»ºæˆ–åˆ é™¤ç´¢å¼•ã€‚&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;INSERT&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·ä½¿ç”¨ INSERT è¯­å¥&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;LOCK TABLES&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·å¯¹å…·æœ‰ SELECT æƒé™çš„è¡¨ä½¿ç”¨ LOCK TABLES&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PROCESS&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·ä½¿ç”¨ SHOW PROCESSLIST è¯­å¥æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹ã€‚&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PROXY&lt;/td&gt;
&lt;td&gt;å¯ç”¨ç”¨æˆ·ä»£ç†ã€‚&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;REFERENCES&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·åˆ›å»ºå¤–é”®&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RELOAD&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·ä½¿ç”¨ FLUSH æ“ä½œ&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;REPLICATION CLIENT&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·æŸ¥è¯¢ä»¥æŸ¥çœ‹ä¸»æœåŠ¡å™¨æˆ–ä»å±æœåŠ¡å™¨çš„ä½ç½®&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;REPLICATION SLAVE&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·ä½¿ç”¨å¤åˆ¶ä»å±ä»ä¸»æœåŠ¡å™¨è¯»å–äºŒè¿›åˆ¶æ—¥å¿—äº‹ä»¶ã€‚&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SELECT&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·ä½¿ç”¨ SELECT è¯­å¥&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SHOW DATABASES&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SHOW VIEW&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·ä½¿ç”¨ SHOW CREATE VIEW è¯­å¥&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SHUTDOWN&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·ä½¿ç”¨ mysqladmin shutdown å‘½ä»¤&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SUPER&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·ä½¿ç”¨å…¶ä»–ç®¡ç†æ“ä½œï¼Œä¾‹å¦‚ CHANGE MASTER TOï¼ŒKILLï¼ŒPURGE BINARY LOGSï¼ŒSET GLOBAL å’Œ mysqladmin å‘½ä»¤&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;TRIGGER&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·ä½¿ç”¨ TRIGGER æ“ä½œã€‚&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;UPDATE&lt;/td&gt;
&lt;td&gt;å…è®¸ç”¨æˆ·ä½¿ç”¨ UPDATE è¯­å¥&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;USAGE&lt;/td&gt;
&lt;td&gt;ç›¸å½“äº â€œæ²¡æœ‰ç‰¹æƒâ€&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5 id=&#34;åˆ›å»ºè´¦æˆ·&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ›å»ºè´¦æˆ·&#34;&gt;#&lt;/a&gt; åˆ›å»ºè´¦æˆ·&lt;/h5&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;USER&lt;/span&gt; myuser IDENTIFIED &lt;span class=&#34;token keyword&#34;&gt;BY&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;mypassword&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;ä¿®æ”¹è´¦æˆ·å&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¿®æ”¹è´¦æˆ·å&#34;&gt;#&lt;/a&gt; ä¿®æ”¹è´¦æˆ·å&lt;/h5&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;UPDATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;SET&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;newuser&#39;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;WHERE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;myuser&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;FLUSH &lt;span class=&#34;token keyword&#34;&gt;PRIVILEGES&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;åˆ é™¤è´¦æˆ·&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ é™¤è´¦æˆ·&#34;&gt;#&lt;/a&gt; åˆ é™¤è´¦æˆ·&lt;/h5&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;DROP&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;USER&lt;/span&gt; myuser&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;æŸ¥çœ‹æƒé™&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æŸ¥çœ‹æƒé™&#34;&gt;#&lt;/a&gt; æŸ¥çœ‹æƒé™&lt;/h5&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SHOW&lt;/span&gt; GRANTS &lt;span class=&#34;token keyword&#34;&gt;FOR&lt;/span&gt; myuser&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;æˆäºˆæƒé™&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æˆäºˆæƒé™&#34;&gt;#&lt;/a&gt; æˆäºˆæƒé™&lt;/h5&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;GRANT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;INSERT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;ON&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TO&lt;/span&gt; myuser&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;åˆ é™¤æƒé™&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ é™¤æƒé™&#34;&gt;#&lt;/a&gt; åˆ é™¤æƒé™&lt;/h5&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;REVOKE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;INSERT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;ON&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; myuser&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;æ›´æ”¹å¯†ç &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ›´æ”¹å¯†ç &#34;&gt;#&lt;/a&gt; æ›´æ”¹å¯†ç &lt;/h5&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SET&lt;/span&gt; PASSWORD &lt;span class=&#34;token keyword&#34;&gt;FOR&lt;/span&gt; myuser &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;mypass&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;å­˜å‚¨è¿‡ç¨‹-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å­˜å‚¨è¿‡ç¨‹-2&#34;&gt;#&lt;/a&gt; å­˜å‚¨è¿‡ç¨‹&lt;/h4&gt;
&lt;p&gt;&lt;img data-src=&#34;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/60afdc9c9a594f079727ec64a2e698a3~tplv-k3u1fbpfcp-zoom-1.image&#34; alt=&#34;mysqlå­˜å‚¨è¿‡ç¨‹&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹çš„å¥½å¤„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»£ç å°è£…ï¼Œä¿è¯äº†ä¸€å®šçš„å®‰å…¨æ€§ï¼›&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ä»£ç å¤ç”¨&lt;/font&gt;ï¼›&lt;/li&gt;
&lt;li&gt;ç”±äºæ˜¯&lt;font color=&#39;red&#39;&gt;é¢„å…ˆç¼–è¯‘&lt;/font&gt;ï¼Œå› æ­¤å…·æœ‰å¾ˆé«˜çš„æ€§èƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åˆ›å»ºå­˜å‚¨è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‘½ä»¤è¡Œä¸­åˆ›å»ºå­˜å‚¨è¿‡ç¨‹éœ€è¦è‡ªå®šä¹‰åˆ†éš”ç¬¦ï¼Œå› ä¸ºå‘½ä»¤è¡Œæ˜¯ä»¥  &lt;code&gt;;&lt;/code&gt;  ä¸ºç»“æŸç¬¦ï¼Œè€Œå­˜å‚¨è¿‡ç¨‹ä¸­ä¹ŸåŒ…å«äº†åˆ†å·ï¼Œå› æ­¤ä¼šé”™è¯¯æŠŠè¿™éƒ¨åˆ†åˆ†å·å½“æˆæ˜¯ç»“æŸç¬¦ï¼Œé€ æˆè¯­æ³•é”™è¯¯ã€‚&lt;/li&gt;
&lt;li&gt;åŒ…å«  &lt;code&gt;in&lt;/code&gt; ã€ &lt;code&gt;out&lt;/code&gt;  å’Œ  &lt;code&gt;inout&lt;/code&gt;  ä¸‰ç§å‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;ç»™å˜é‡èµ‹å€¼éƒ½éœ€è¦ç”¨  &lt;code&gt;select into&lt;/code&gt;  è¯­å¥ã€‚&lt;/li&gt;
&lt;li&gt;æ¯æ¬¡åªèƒ½ç»™ä¸€ä¸ªå˜é‡èµ‹å€¼ï¼Œä¸æ”¯æŒé›†åˆçš„æ“ä½œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼š&lt;strong&gt;é˜¿é‡Œå·´å·´ã€ŠJava å¼€å‘æ‰‹å†Œã€‹å¼ºåˆ¶ç¦æ­¢ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹ã€‚å› ä¸ºå­˜å‚¨è¿‡ç¨‹éš¾ä»¥è°ƒè¯•å’Œæ‰©å±•ï¼Œæ›´æ²¡æœ‰ç§»æ¤æ€§ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/93a5e011ade4450ebfa5d82057532a49~tplv-k3u1fbpfcp-zoom-1.image&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è‡³äºåˆ°åº•è¦ä¸è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œè¿˜æ˜¯è¦çœ‹é¡¹ç›®å®é™…éœ€æ±‚ï¼Œæƒè¡¡å¥½åˆ©å¼Šå³å¯ï¼&lt;/p&gt;
&lt;h5 id=&#34;åˆ›å»ºå­˜å‚¨è¿‡ç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ›å»ºå­˜å‚¨è¿‡ç¨‹&#34;&gt;#&lt;/a&gt; åˆ›å»ºå­˜å‚¨è¿‡ç¨‹&lt;/h5&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;DROP&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;PROCEDURE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;IF&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;EXISTS&lt;/span&gt; &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;proc_adder&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;DELIMITER&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFINER&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;root&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;@`localhost`&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;PROCEDURE&lt;/span&gt; &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;proc_adder&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;IN&lt;/span&gt; a &lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;IN&lt;/span&gt; b &lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;OUT&lt;/span&gt; sum &lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;BEGIN&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;DECLARE&lt;/span&gt; c &lt;span class=&#34;token keyword&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; a &lt;span class=&#34;token operator&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;null&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;then&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;set&lt;/span&gt; a &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; b &lt;span class=&#34;token operator&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;null&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;then&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;set&lt;/span&gt; b &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;set&lt;/span&gt; sum  &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; a &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; b&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;END&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;DELIMITER&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹&#34;&gt;#&lt;/a&gt; ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹&lt;/h5&gt;
&lt;figure class=&#34;highlight less&#34;&gt;&lt;figcaption data-lang=&#34;less&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;set &lt;span class=&#34;token variable&#34;&gt;@b&lt;/span&gt;=5&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;call proc_&lt;span class=&#34;token function&#34;&gt;adder&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;2&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;@b&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;@s&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;select &lt;span class=&#34;token variable&#34;&gt;@s&lt;/span&gt; as sum&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;æ¸¸æ ‡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¸¸æ ‡&#34;&gt;#&lt;/a&gt; æ¸¸æ ‡&lt;/h4&gt;
&lt;p&gt;æ¸¸æ ‡ï¼ˆcursorï¼‰æ˜¯&lt;strong&gt;ä¸€ä¸ªå­˜å‚¨åœ¨ DBMS æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“æŸ¥è¯¢ï¼Œå®ƒä¸æ˜¯ä¸€æ¡  &lt;code&gt;SELECT&lt;/code&gt;  è¯­å¥ï¼Œè€Œæ˜¯è¢«è¯¥è¯­å¥æ£€ç´¢å‡ºæ¥çš„ç»“æœé›†&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å­˜å‚¨è¿‡ç¨‹ä¸­ä½¿ç”¨æ¸¸æ ‡å¯ä»¥å¯¹ä¸€ä¸ªç»“æœé›†è¿›è¡Œç§»åŠ¨éå†ã€‚&lt;/p&gt;
&lt;p&gt;æ¸¸æ ‡ä¸»è¦ç”¨äºäº¤äº’å¼åº”ç”¨ï¼Œå…¶ä¸­ç”¨æˆ·éœ€è¦æ»šåŠ¨å±å¹•ä¸Šçš„æ•°æ®ï¼Œå¹¶å¯¹æ•°æ®è¿›è¡Œæµè§ˆæˆ–åšå‡ºæ›´æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨æ¸¸æ ‡çš„å‡ ä¸ªæ˜ç¡®æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ä½¿ç”¨æ¸¸æ ‡å‰ï¼Œå¿…é¡»&lt;font color=&#39;red&#39;&gt;å£°æ˜ (å®šä¹‰)&lt;/font&gt;å®ƒã€‚è¿™ä¸ªè¿‡ç¨‹å®é™…ä¸Šæ²¡æœ‰æ£€ç´¢æ•°æ®ï¼Œ å®ƒåªæ˜¯å®šä¹‰è¦ä½¿ç”¨çš„  &lt;code&gt;SELECT&lt;/code&gt;  è¯­å¥å’Œæ¸¸æ ‡é€‰é¡¹ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€æ—¦å£°æ˜ï¼Œå°±å¿…é¡»&lt;font color=&#39;red&#39;&gt;æ‰“å¼€æ¸¸æ ‡ä»¥ä¾›ä½¿ç”¨&lt;/font&gt;ã€‚è¿™ä¸ªè¿‡ç¨‹ç”¨å‰é¢å®šä¹‰çš„ SELECT è¯­å¥æŠŠæ•°æ®å®é™…æ£€ç´¢å‡ºæ¥ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºå¡«æœ‰æ•°æ®çš„æ¸¸æ ‡ï¼Œæ ¹æ®éœ€è¦&lt;font color=&#39;red&#39;&gt;å–å‡º (æ£€ç´¢) å„è¡Œ&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ç»“æŸæ¸¸æ ‡ä½¿ç”¨æ—¶ï¼Œå¿…é¡»&lt;font color=&#39;red&#39;&gt;å…³é—­æ¸¸æ ‡&lt;/font&gt;ï¼Œå¯èƒ½çš„è¯ï¼Œ&lt;font color=&#39;red&#39;&gt;é‡Šæ”¾æ¸¸æ ‡&lt;/font&gt;(æœ‰èµ–äºå…·ä½“çš„ DBMS)ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;DELIMITER&lt;/span&gt; $&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt;  &lt;span class=&#34;token keyword&#34;&gt;PROCEDURE&lt;/span&gt; getTotal&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;BEGIN&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;DECLARE&lt;/span&gt; total &lt;span class=&#34;token keyword&#34;&gt;INT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;-- åˆ›å»ºæ¥æ”¶æ¸¸æ ‡æ•°æ®çš„å˜é‡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;DECLARE&lt;/span&gt; sid &lt;span class=&#34;token keyword&#34;&gt;INT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;DECLARE&lt;/span&gt; sname &lt;span class=&#34;token keyword&#34;&gt;VARCHAR&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;-- åˆ›å»ºæ€»æ•°å˜é‡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;DECLARE&lt;/span&gt; sage &lt;span class=&#34;token keyword&#34;&gt;INT&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;-- åˆ›å»ºç»“æŸæ ‡å¿—å˜é‡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;DECLARE&lt;/span&gt; done &lt;span class=&#34;token keyword&#34;&gt;INT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;-- åˆ›å»ºæ¸¸æ ‡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;DECLARE&lt;/span&gt; cur &lt;span class=&#34;token keyword&#34;&gt;CURSOR&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FOR&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; id&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;name&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;age &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; cursor_table &lt;span class=&#34;token keyword&#34;&gt;where&lt;/span&gt; age&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;-- æŒ‡å®šæ¸¸æ ‡å¾ªç¯ç»“æŸæ—¶çš„è¿”å›å€¼&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;DECLARE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;CONTINUE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;HANDLER&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FOR&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;NOT&lt;/span&gt; FOUND &lt;span class=&#34;token keyword&#34;&gt;SET&lt;/span&gt; done &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;SET&lt;/span&gt; total &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;OPEN&lt;/span&gt; cur&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;FETCH&lt;/span&gt; cur &lt;span class=&#34;token keyword&#34;&gt;INTO&lt;/span&gt; sid&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; sname&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; sage&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;WHILE&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;NOT&lt;/span&gt; done&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;DO&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;SET&lt;/span&gt; total &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; total &lt;span class=&#34;token operator&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;FETCH&lt;/span&gt; cur &lt;span class=&#34;token keyword&#34;&gt;INTO&lt;/span&gt; sid&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; sname&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; sage&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;END&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;WHILE&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;CLOSE&lt;/span&gt; cur&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;SELECT&lt;/span&gt; total&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;END&lt;/span&gt; $&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;DELIMITER&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- è°ƒç”¨å­˜å‚¨è¿‡ç¨‹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;31&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;call&lt;/span&gt; getTotal&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;è§¦å‘å™¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è§¦å‘å™¨&#34;&gt;#&lt;/a&gt; è§¦å‘å™¨&lt;/h4&gt;
&lt;p&gt;è§¦å‘å™¨æ˜¯ä¸€ç§ä¸è¡¨æ“ä½œæœ‰å…³çš„æ•°æ®åº“å¯¹è±¡ï¼Œ&lt;font color=&#39;red&#39;&gt;å½“è§¦å‘å™¨æ‰€åœ¨è¡¨ä¸Šå‡ºç°æŒ‡å®šäº‹ä»¶æ—¶ï¼Œå°†è°ƒç”¨è¯¥å¯¹è±¡&lt;/font&gt;ï¼Œå³è¡¨çš„æ“ä½œäº‹ä»¶è§¦å‘è¡¨ä¸Šçš„è§¦å‘å™¨çš„æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;è§¦å‘å™¨&lt;font color=&#39;red&#39;&gt;å¯ä»¥ç”¨æ¥è¿›è¡Œå®¡è®¡è·Ÿè¸ªï¼ŒæŠŠä¿®æ”¹è®°å½•åˆ°å¦å¤–ä¸€å¼ è¡¨ä¸­&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨è§¦å‘å™¨çš„ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SQL è§¦å‘å™¨æä¾›äº†å¦ä¸€ç§æ£€æŸ¥æ•°æ®å®Œæ•´æ€§çš„æ–¹æ³•ã€‚&lt;/li&gt;
&lt;li&gt;SQL è§¦å‘å™¨å¯ä»¥æ•è·æ•°æ®åº“å±‚ä¸­ä¸šåŠ¡é€»è¾‘ä¸­çš„é”™è¯¯ã€‚&lt;/li&gt;
&lt;li&gt;SQL è§¦å‘å™¨æä¾›äº†å¦ä¸€ç§è¿è¡Œè®¡åˆ’ä»»åŠ¡çš„æ–¹æ³•ã€‚é€šè¿‡ä½¿ç”¨ SQL è§¦å‘å™¨ï¼Œæ‚¨ä¸å¿…ç­‰å¾…è¿è¡Œè®¡åˆ’ä»»åŠ¡ï¼Œå› ä¸ºåœ¨å¯¹è¡¨ä¸­çš„æ•°æ®è¿›è¡Œæ›´æ”¹ä¹‹å‰æˆ–ä¹‹åä¼šè‡ªåŠ¨è°ƒç”¨è§¦å‘å™¨ã€‚&lt;/li&gt;
&lt;li&gt;SQL è§¦å‘å™¨å¯¹äºå®¡è®¡è¡¨ä¸­æ•°æ®çš„æ›´æ”¹éå¸¸æœ‰ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½¿ç”¨è§¦å‘å™¨çš„ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SQL è§¦å‘å™¨åªèƒ½æä¾›æ‰©å±•éªŒè¯ï¼Œå¹¶ä¸”ä¸èƒ½æ›¿æ¢æ‰€æœ‰éªŒè¯ã€‚å¿…é¡»åœ¨åº”ç”¨ç¨‹åºå±‚ä¸­å®Œæˆä¸€äº›ç®€å•çš„éªŒè¯ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ JavaScript åœ¨å®¢æˆ·ç«¯éªŒè¯ç”¨æˆ·çš„è¾“å…¥ï¼Œæˆ–è€…ä½¿ç”¨æœåŠ¡å™¨ç«¯è„šæœ¬è¯­è¨€ï¼ˆå¦‚ JSPï¼ŒPHPï¼Œ&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL0FTUC5ORVQ=&#34;&gt;ASP.NET&lt;/span&gt;ï¼ŒPerlï¼‰åœ¨æœåŠ¡å™¨ç«¯éªŒè¯ç”¨æˆ·çš„è¾“å…¥ã€‚&lt;/li&gt;
&lt;li&gt;ä»å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºè°ƒç”¨å’Œæ‰§è¡Œ SQL è§¦å‘å™¨æ˜¯ä¸å¯è§çš„ï¼Œå› æ­¤å¾ˆéš¾å¼„æ¸…æ¥šæ•°æ®åº“å±‚ä¸­å‘ç”Ÿäº†ä»€ä¹ˆã€‚&lt;/li&gt;
&lt;li&gt;SQL è§¦å‘å™¨å¯èƒ½ä¼šå¢åŠ æ•°æ®åº“æœåŠ¡å™¨çš„å¼€é”€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;MySQL ä¸å…è®¸åœ¨è§¦å‘å™¨ä¸­ä½¿ç”¨ CALL è¯­å¥ ï¼Œä¹Ÿå°±æ˜¯ä¸èƒ½è°ƒç”¨å­˜å‚¨è¿‡ç¨‹&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ï¼šåœ¨ MySQL ä¸­ï¼Œåˆ†å·  &lt;code&gt;;&lt;/code&gt;  æ˜¯è¯­å¥ç»“æŸçš„æ ‡è¯†ç¬¦ï¼Œé‡åˆ°åˆ†å·è¡¨ç¤ºè¯¥æ®µè¯­å¥å·²ç»ç»“æŸï¼ŒMySQL å¯ä»¥å¼€å§‹æ‰§è¡Œäº†ã€‚å› æ­¤ï¼Œè§£é‡Šå™¨é‡åˆ°è§¦å‘å™¨æ‰§è¡ŒåŠ¨ä½œä¸­çš„åˆ†å·åå°±å¼€å§‹æ‰§è¡Œï¼Œç„¶åä¼šæŠ¥é”™ï¼Œå› ä¸ºæ²¡æœ‰æ‰¾åˆ°å’Œ BEGIN åŒ¹é…çš„ ENDã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ—¶å°±ä¼šç”¨åˆ°  &lt;code&gt;DELIMITER&lt;/code&gt;  å‘½ä»¤ï¼ˆDELIMITER æ˜¯å®šç•Œç¬¦ï¼Œåˆ†éš”ç¬¦çš„æ„æ€ï¼‰ã€‚å®ƒæ˜¯ä¸€æ¡å‘½ä»¤ï¼Œä¸éœ€è¦è¯­å¥ç»“æŸæ ‡è¯†ï¼Œè¯­æ³•ä¸ºï¼š &lt;code&gt;DELIMITER new_delemiter&lt;/code&gt; ã€‚ &lt;code&gt;new_delemiter&lt;/code&gt;  å¯ä»¥è®¾ä¸º 1 ä¸ªæˆ–å¤šä¸ªé•¿åº¦çš„ç¬¦å·ï¼Œé»˜è®¤çš„æ˜¯åˆ†å·  &lt;code&gt;;&lt;/code&gt; ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒä¿®æ”¹ä¸ºå…¶ä»–ç¬¦å·ï¼Œå¦‚  &lt;code&gt;$&lt;/code&gt;  -  &lt;code&gt;DELIMITER $&lt;/code&gt;  ã€‚åœ¨è¿™ä¹‹åçš„è¯­å¥ï¼Œä»¥åˆ†å·ç»“æŸï¼Œè§£é‡Šå™¨ä¸ä¼šæœ‰ä»€ä¹ˆååº”ï¼Œåªæœ‰é‡åˆ°äº†  &lt;code&gt;$&lt;/code&gt; ï¼Œæ‰è®¤ä¸ºæ˜¯è¯­å¥ç»“æŸã€‚æ³¨æ„ï¼Œä½¿ç”¨å®Œä¹‹åï¼Œæˆ‘ä»¬è¿˜åº”è¯¥è®°å¾—æŠŠå®ƒç»™ä¿®æ”¹å›æ¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨ MySQL 5.7.2 ç‰ˆä¹‹å‰ï¼Œå¯ä»¥ä¸ºæ¯ä¸ªè¡¨å®šä¹‰æœ€å¤šå…­ä¸ªè§¦å‘å™¨ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;BEFORE INSERT&lt;/code&gt;  - åœ¨å°†æ•°æ®æ’å…¥è¡¨æ ¼ä¹‹å‰æ¿€æ´»ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;AFTER INSERT&lt;/code&gt;  - å°†æ•°æ®æ’å…¥è¡¨æ ¼åæ¿€æ´»ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;BEFORE UPDATE&lt;/code&gt;  - åœ¨æ›´æ–°è¡¨ä¸­çš„æ•°æ®ä¹‹å‰æ¿€æ´»ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;AFTER UPDATE&lt;/code&gt;  - æ›´æ–°è¡¨ä¸­çš„æ•°æ®åæ¿€æ´»ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;BEFORE DELETE&lt;/code&gt;  - åœ¨ä»è¡¨ä¸­åˆ é™¤æ•°æ®ä¹‹å‰æ¿€æ´»ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;AFTER DELETE&lt;/code&gt;  - ä»è¡¨ä¸­åˆ é™¤æ•°æ®åæ¿€æ´»ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œä» MySQL ç‰ˆæœ¬ 5.7.2 + å¼€å§‹ï¼Œå¯ä»¥ä¸ºåŒä¸€è§¦å‘äº‹ä»¶å’Œæ“ä½œæ—¶é—´å®šä¹‰å¤šä¸ªè§¦å‘å™¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt; &lt;code&gt;NEW&lt;/code&gt;  å’Œ  &lt;code&gt;OLD&lt;/code&gt; &lt;/strong&gt; ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MySQL ä¸­å®šä¹‰äº†  &lt;code&gt;NEW&lt;/code&gt;  å’Œ  &lt;code&gt;OLD&lt;/code&gt;  å…³é”®å­—ï¼Œç”¨æ¥&lt;strong&gt;è¡¨ç¤ºè§¦å‘å™¨çš„æ‰€åœ¨è¡¨ä¸­ï¼Œè§¦å‘äº†è§¦å‘å™¨çš„é‚£ä¸€è¡Œæ•°æ®&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨  &lt;code&gt;INSERT&lt;/code&gt;  å‹è§¦å‘å™¨ä¸­ï¼Œ &lt;code&gt;NEW&lt;/code&gt;  ç”¨æ¥è¡¨ç¤ºå°†è¦ï¼ˆ &lt;code&gt;BEFORE&lt;/code&gt; ï¼‰æˆ–å·²ç»ï¼ˆ &lt;code&gt;AFTER&lt;/code&gt; ï¼‰æ’å…¥çš„æ–°æ•°æ®ï¼›&lt;/li&gt;
&lt;li&gt;åœ¨  &lt;code&gt;UPDATE&lt;/code&gt;  å‹è§¦å‘å™¨ä¸­ï¼Œ &lt;code&gt;OLD&lt;/code&gt;  ç”¨æ¥è¡¨ç¤ºå°†è¦æˆ–å·²ç»è¢«ä¿®æ”¹çš„åŸæ•°æ®ï¼Œ &lt;code&gt;NEW&lt;/code&gt;  ç”¨æ¥è¡¨ç¤ºå°†è¦æˆ–å·²ç»ä¿®æ”¹ä¸ºçš„æ–°æ•°æ®ï¼›&lt;/li&gt;
&lt;li&gt;åœ¨  &lt;code&gt;DELETE&lt;/code&gt;  å‹è§¦å‘å™¨ä¸­ï¼Œ &lt;code&gt;OLD&lt;/code&gt;  ç”¨æ¥è¡¨ç¤ºå°†è¦æˆ–å·²ç»è¢«åˆ é™¤çš„åŸæ•°æ®ï¼›&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨æ–¹æ³•ï¼š  &lt;code&gt;NEW.columnName&lt;/code&gt;  ï¼ˆcolumnName ä¸ºç›¸åº”æ•°æ®è¡¨æŸä¸€åˆ—åï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åˆ›å»ºè§¦å‘å™¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ›å»ºè§¦å‘å™¨&#34;&gt;#&lt;/a&gt; åˆ›å»ºè§¦å‘å™¨&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;æç¤ºï¼šä¸ºäº†ç†è§£è§¦å‘å™¨çš„è¦ç‚¹ï¼Œæœ‰å¿…è¦å…ˆäº†è§£ä¸€ä¸‹åˆ›å»ºè§¦å‘å™¨çš„æŒ‡ä»¤ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;CREATE TRIGGER&lt;/code&gt;  æŒ‡ä»¤ç”¨äºåˆ›å»ºè§¦å‘å™¨ã€‚&lt;/p&gt;
&lt;p&gt;è¯­æ³•ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TRIGGER&lt;/span&gt; trigger_name&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;trigger_time&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;trigger_event&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;ON&lt;/span&gt; table_name&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FOR EACH ROW&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;BEGIN&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  trigger_statements&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;END&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;trigger_name&lt;/code&gt;  ï¼šè§¦å‘å™¨å&lt;/li&gt;
&lt;li&gt;&lt;code&gt;trigger_time&lt;/code&gt;  : è§¦å‘å™¨çš„è§¦å‘æ—¶æœºã€‚å–å€¼ä¸º  &lt;code&gt;BEFORE&lt;/code&gt;  æˆ–  &lt;code&gt;AFTER&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;trigger_event&lt;/code&gt;  : è§¦å‘å™¨çš„ç›‘å¬äº‹ä»¶ã€‚å–å€¼ä¸º  &lt;code&gt;INSERT&lt;/code&gt; ã€ &lt;code&gt;UPDATE&lt;/code&gt;  æˆ–  &lt;code&gt;DELETE&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;table_name&lt;/code&gt;  : è§¦å‘å™¨çš„ç›‘å¬ç›®æ ‡ã€‚æŒ‡å®šåœ¨å“ªå¼ è¡¨ä¸Šå»ºç«‹è§¦å‘å™¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;FOR EACH ROW&lt;/code&gt; : è¡Œçº§ç›‘è§†ï¼ŒMysql å›ºå®šå†™æ³•ï¼Œå…¶ä»– DBMS ä¸åŒã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;trigger_statements&lt;/code&gt; : è§¦å‘å™¨æ‰§è¡ŒåŠ¨ä½œã€‚æ˜¯ä¸€æ¡æˆ–å¤šæ¡ SQL è¯­å¥çš„åˆ—è¡¨ï¼Œåˆ—è¡¨å†…çš„æ¯æ¡è¯­å¥éƒ½å¿…é¡»ç”¨åˆ†å·  &lt;code&gt;;&lt;/code&gt;  æ¥ç»“å°¾ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å½“è§¦å‘å™¨çš„è§¦å‘æ¡ä»¶æ»¡è¶³æ—¶ï¼Œå°†ä¼šæ‰§è¡Œ  &lt;code&gt;BEGIN&lt;/code&gt;  å’Œ  &lt;code&gt;END&lt;/code&gt;  ä¹‹é—´çš„è§¦å‘å™¨æ‰§è¡ŒåŠ¨ä½œã€‚&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;DELIMITER&lt;/span&gt; $&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TRIGGER&lt;/span&gt; &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;trigger_insert_user&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;AFTER&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;INSERT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;ON&lt;/span&gt; &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;user&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;FOR EACH ROW&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;BEGIN&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;INSERT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;INTO&lt;/span&gt; &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;user_history&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;user_id&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; operate_type&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; operate_time&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;VALUES&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;NEW&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;id&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;add a user&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;token function&#34;&gt;now&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;END&lt;/span&gt; $&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;DELIMITER&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;æŸ¥çœ‹è§¦å‘å™¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æŸ¥çœ‹è§¦å‘å™¨&#34;&gt;#&lt;/a&gt; æŸ¥çœ‹è§¦å‘å™¨&lt;/h5&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;SHOW&lt;/span&gt; TRIGGERS&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;åˆ é™¤è§¦å‘å™¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ é™¤è§¦å‘å™¨&#34;&gt;#&lt;/a&gt; åˆ é™¤è§¦å‘å™¨&lt;/h5&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;DROP&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TRIGGER&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;IF&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;EXISTS&lt;/span&gt; trigger_insert_user&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&#34;sqlä¼˜åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sqlä¼˜åŒ–&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸSQL ä¼˜åŒ–&lt;/mark&gt;&lt;/h3&gt;
&lt;h4 id=&#34;æ…¢æŸ¥è¯¢è¯­å¥ä¼˜åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ…¢æŸ¥è¯¢è¯­å¥ä¼˜åŒ–&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸæ…¢æŸ¥è¯¢è¯­å¥ä¼˜åŒ–&lt;/mark&gt;&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å°½é‡è¦†ç›–ç´¢å¼•&lt;/font&gt;ï¼Œé¿å… select *ï¼Œå‡å°‘å›è¡¨&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;é¿å…ç´¢å¼•å¤±æ•ˆ&lt;/font&gt;ï¼Œä¾‹å¦‚ï¼šè”åˆç´¢å¼•éœ€è¦æ»¡è¶³æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™ã€ä¸è¦ä½¿ç”¨å·¦æ¨¡ç³ŠåŒ¹é…ã€è¡¨è¾¾å¼è¿ç®—ã€å‡½æ•°è®¡ç®—ã€éšå¼ç±»å‹è½¬æ¢ç­‰...&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;åˆ†é¡µæŸ¥è¯¢ä¼˜åŒ–&lt;/font&gt;ï¼šè¯¥æ–¹æ¡ˆé€‚ç”¨äºä¸»é”®è‡ªå¢çš„è¡¨ï¼Œå¯ä»¥æŠŠ Limit æŸ¥è¯¢è½¬æ¢æˆæŸä¸ªä½ç½®çš„æŸ¥è¯¢ã€‚select * from tb_sku where id&amp;gt;20000 limit 10;&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å°†å­—æ®µå¤šçš„è¡¨åˆ†è§£æˆå¤šä¸ªè¡¨&lt;/font&gt;ï¼šæœ‰äº›å­—æ®µä½¿ç”¨é¢‘ç‡é«˜ï¼Œæœ‰äº›ä½ï¼Œæ•°æ®é‡å¤§æ—¶ï¼Œä¼šç”±äºä½¿ç”¨é¢‘ç‡ä½çš„å­˜åœ¨è€Œå˜æ…¢ï¼Œå¯ä»¥è€ƒè™‘åˆ†å¼€&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;å¯¹äºç»å¸¸è”åˆæŸ¥è¯¢çš„è¡¨ï¼Œå¯ä»¥è€ƒè™‘å»ºç«‹ä¸­é—´è¡¨&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;ä¼˜åŒ–å™¨ä½¿ç”¨ MRRã€Multi-Range Readã€‘&lt;/font&gt;ï¼šå°† ID æˆ–é”®å€¼è¯»åˆ° buffer æ’åºï¼Œé€šè¿‡&lt;font color=&#39;red&#39;&gt;æŠŠã€Œéšæœºç£ç›˜è¯»ã€ï¼Œè½¬åŒ–ä¸ºã€Œé¡ºåºç£ç›˜è¯»ã€ï¼Œå‡å°‘ç£ç›˜ IO&lt;/font&gt;ï¼Œä»è€Œæé«˜äº†ç´¢å¼•æŸ¥è¯¢çš„æ€§èƒ½&lt;/li&gt;
&lt;li&gt;&lt;font color=&#39;red&#39;&gt;è¯»å†™åˆ†ç¦»ï¼ˆä¸»åº“å†™ï¼Œä»åº“è¯»ï¼‰&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥&lt;font color=&#39;red&#39;&gt;æ‰€æŸ¥å­—æ®µæ˜¯å¦å†—ä½™&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥&lt;font color=&#39;red&#39;&gt;è¡¨ä¸­æ•°æ®æ˜¯å¦è¿‡å¤š&lt;/font&gt;ï¼Œæ˜¯å¦åº”è¯¥è¿›è¡Œåˆ†åº“åˆ†è¡¨äº†&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥&lt;font color=&#39;red&#39;&gt;æ•°æ®åº“å®ä¾‹æ‰€åœ¨æœºå™¨çš„æ€§èƒ½æ˜¯å¦å¤ªä½&lt;/font&gt;ï¼Œæ˜¯å¦å¯ä»¥é€‚å½“å¢åŠ èµ„æº&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;æ’å…¥æ•°æ®-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ’å…¥æ•°æ®-2&#34;&gt;#&lt;/a&gt; æ’å…¥æ•°æ®&lt;/h4&gt;
&lt;h5 id=&#34;insert&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#insert&#34;&gt;#&lt;/a&gt; insert&lt;/h5&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬éœ€è¦ä¸€æ¬¡æ€§å¾€æ•°æ®åº“è¡¨ä¸­æ’å…¥å¤šæ¡è®°å½•ï¼Œ&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;insert&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;into&lt;/span&gt; tb_test &lt;span class=&#34;token keyword&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;tom&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;insert&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;into&lt;/span&gt; tb_test &lt;span class=&#34;token keyword&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;cat&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;insert&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;into&lt;/span&gt; tb_test &lt;span class=&#34;token keyword&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;jerry&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¯ä»¥ä»ä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢è¿›è¡Œä¼˜åŒ–ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æ‰¹é‡æ’å…¥&lt;/font&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;Insert&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;into&lt;/span&gt; tb_test &lt;span class=&#34;token keyword&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Tom&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Cat&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Jerry&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;æ‰‹åŠ¨æ§åˆ¶äº‹åŠ¡&lt;/font&gt;ï¼šé¿å…äº‹åŠ¡çš„é¢‘ç¹å¼€å¯ä¸æäº¤&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;start&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;transaction&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;insert&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;into&lt;/span&gt; tb_test &lt;span class=&#34;token keyword&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Tom&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Cat&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Jerry&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;insert&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;into&lt;/span&gt; tb_test &lt;span class=&#34;token keyword&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Tom&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Cat&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Jerry&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;insert&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;into&lt;/span&gt; tb_test &lt;span class=&#34;token keyword&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Tom&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Cat&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;9&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;Jerry&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;commit&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;ä¸»é”®é¡ºåºæ’å…¥&lt;/font&gt;ï¼šæ€§èƒ½è¦é«˜äºä¹±åºæ’å…¥&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;ä¸»é”®ä¹±åºæ’å…¥ : &lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;9&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;21&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;88&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;15&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;89&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;7&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;ä¸»é”®é¡ºåºæ’å…¥ : &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;7&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;9&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;15&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;21&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;88&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;89&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;æ‰¹é‡æ’å…¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ‰¹é‡æ’å…¥&#34;&gt;#&lt;/a&gt; æ‰¹é‡æ’å…¥&lt;/h5&gt;
&lt;p&gt;å¦‚æœä¸€æ¬¡æ€§éœ€è¦æ’å…¥å¤§æ‰¹é‡æ•°æ® (æ¯”å¦‚ï¼šå‡ ç™¾ä¸‡çš„è®°å½•)ï¼Œä½¿ç”¨ insert è¯­å¥æ’å…¥æ€§èƒ½è¾ƒä½ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨ MySQL æ•°æ®åº“æä¾›çš„ &lt;font color=&#39;red&#39;&gt; &lt;code&gt;load&lt;/code&gt;  æŒ‡ä»¤&lt;/font&gt;è¿›è¡Œæ’å…¥ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ load æ—¶ï¼Œä¸»é”®é¡ºåºæ’å…¥æ€§èƒ½é«˜äºä¹±åºæ’å…¥&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- å®¢æˆ·ç«¯è¿æ¥æœåŠ¡ç«¯æ—¶ï¼ŒåŠ ä¸Šå‚æ•° -â€“local-infile&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;mysql â€“&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;local&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;infile&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;u root &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;p&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- è®¾ç½®å…¨å±€å‚æ•° local_infile ä¸º 1ï¼Œå¼€å¯ä»æœ¬åœ°åŠ è½½æ–‡ä»¶å¯¼å…¥æ•°æ®çš„å¼€å…³&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;global&lt;/span&gt; local_infile &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- æ‰§è¡Œ load æŒ‡ä»¤å°†å‡†å¤‡å¥½çš„æ•°æ®ï¼ŒåŠ è½½åˆ°è¡¨ç»“æ„ä¸­&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;load&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;local&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;infile&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;/root/sql1.log&#39;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;into&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;table&lt;/span&gt; tb_user &lt;span class=&#34;token keyword&#34;&gt;fields&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;terminated&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;by&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;,&#39;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;lines&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;terminated&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;by&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;\n&#39;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;ä¸»é”®ä¼˜åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸»é”®ä¼˜åŒ–&#34;&gt;#&lt;/a&gt; &lt;mark&gt;ğŸŒŸä¸»é”®ä¼˜åŒ–&lt;/mark&gt;&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;æƒ³çŸ¥é“ä¸ºä»€ä¹ˆä¸»é”®é¡ºåºæ’å…¥çš„æ•ˆç‡æ¯”ä¸»é”®ä¹±åºæ’å…¥çš„æ›´é«˜ï¼Œé¦–å…ˆå¾—æ˜ç™½ä¸»é”®æ˜¯å¦‚ä½•è®¾è®¡çš„ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;innodbè¡¨æ•°æ®çš„ç»„ç»‡æ–¹å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#innodbè¡¨æ•°æ®çš„ç»„ç»‡æ–¹å¼&#34;&gt;#&lt;/a&gt; InnoDB è¡¨æ•°æ®çš„ç»„ç»‡æ–¹å¼&lt;/h5&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;åœ¨ InnoDB å­˜å‚¨å¼•æ“ä¸­ï¼Œè¡¨æ•°æ®éƒ½æ˜¯æ ¹æ®&lt;u&gt;ä¸»é”®é¡ºåº&lt;/u&gt;ç»„ç»‡å­˜æ”¾çš„&lt;/font&gt;ï¼Œè¿™ç§å­˜å‚¨æ–¹å¼çš„è¡¨ç§°ä¸º&lt;strong&gt;ç´¢å¼•ç»„ç»‡è¡¨ (index organized table IOT)&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;è¡Œæ•°æ®ï¼Œéƒ½æ˜¯å­˜å‚¨åœ¨èšé›†ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸Šçš„&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119103453582.png&#34; alt=&#34;image-20231119103453582&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¹‹å‰ä¹Ÿè®²è§£è¿‡ InnoDB çš„é€»è¾‘ç»“æ„å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119103710336.png&#34; alt=&#34;image-20231119103710336&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;font color=&#39;red&#39;&gt;åœ¨ InnoDB å¼•æ“ä¸­ï¼Œrow æ•°æ®æ˜¯è®°å½•åœ¨é€»è¾‘ç»“æ„ page é¡µä¸­çš„&lt;/font&gt;ï¼Œè€Œæ¯ä¸€ä¸ªé¡µçš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œé»˜è®¤ 16Kã€‚ä¹Ÿå°±æ„å‘³ç€ï¼Œä¸€ä¸ªé¡µä¸­æ‰€å­˜å‚¨çš„è¡Œä¹Ÿæ˜¯æœ‰é™çš„ï¼Œ&lt;font color=&#39;red&#39;&gt;å¦‚æœæ’å…¥çš„ row æ•°æ®åœ¨è¯¥é¡µå­˜å‚¨ä¸ä¸‹ï¼Œå°†ä¼šå­˜å‚¨åˆ°ä¸‹ä¸€ä¸ªé¡µä¸­ï¼Œé¡µä¸é¡µä¹‹é—´ä¼šé€šè¿‡æŒ‡é’ˆè¿æ¥&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;é¡µåˆ†è£‚&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¡µåˆ†è£‚&#34;&gt;#&lt;/a&gt; é¡µåˆ†è£‚&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸»é”®ä¹±åºæ’å…¥æ—¶ä¼šäº§ç”Ÿçš„æ“ä½œï¼Œæ¯”è¾ƒè€—è´¹æ€§èƒ½ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é¡µå¯ä»¥ä¸ºç©ºï¼Œä¹Ÿå¯ä»¥å¡«å……ä¸€åŠï¼Œä¹Ÿå¯ä»¥å¡«å…… 100%ã€‚æ¯ä¸ªé¡µåŒ…å«äº† 2-N è¡Œæ•°æ® (å¦‚æœä¸€è¡Œæ•°æ®è¿‡å¤§ï¼Œä¼šè¡Œæº¢å‡º)ï¼Œ&lt;font color=&#39;red&#39;&gt;é¡µå†…çš„è¡Œæ•°æ®æ ¹æ®ä¸»é”®æ’åˆ—&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119104317288.png&#34; alt=&#34;image-20231119104317288&#34; /&gt;&lt;/p&gt;
&lt;center&gt;æŒ‰ç…§ä¸»é”®é¡ºåºæ’å…¥&lt;/center&gt;
&lt;p&gt;&lt;strong&gt;é¡µåˆ†è£‚&lt;/strong&gt;ï¼šå½“è¡Œæ•°æ®æ˜¯&lt;font color=&#39;red&#39;&gt;æŒ‰ç…§ä¸»é”®ä¹±åºæ’å…¥&lt;/font&gt;æ—¶ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;ç”±äºç´¢å¼•ç»“æ„çš„å¶å­èŠ‚ç‚¹éœ€è¦ç»´æŠ¤æœ‰åº&lt;/font&gt;&lt;/strong&gt;ï¼Œåœ¨æ’å…¥æŸè¡Œæ•°æ®æ—¶ï¼Œå¦‚æœ&lt;font color=&#39;red&#39;&gt;å½“å‰æ‰€æœ‰é¡µéƒ½æ»¡äº†&lt;/font&gt;ï¼Œä¼šå¯¼è‡´&lt;font color=&#39;red&#39;&gt;æŸé¡µéœ€è¦å°†åä¸€åŠæ•°æ®ç§»åŠ¨åˆ°ä¸€ä¸ªæ–°å¼€è¾Ÿçš„é¡µä¸­&lt;/font&gt;ï¼Œç„¶å&lt;font color=&#39;red&#39;&gt;å†æ’å…¥è¡Œæ•°æ®&lt;/font&gt;ï¼Œæœ€åéœ€è¦&lt;font color=&#39;red&#39;&gt;é‡æ–°è®¾ç½®é¡µä¹‹é—´çš„æŒ‡é’ˆ&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œ&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;é¡µåˆ†è£‚æ˜¯ä¸€ç§æ¯”è¾ƒè€—è´¹æ€§èƒ½çš„æ“ä½œï¼Œæ‰€ä»¥å°½é‡æŒ‰ç…§ä¸»é”®é¡ºåºæ’å…¥ï¼&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119105153488.png&#34; alt=&#34;image-20231119105153488&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119105216568.png&#34; alt=&#34;image-20231119105216568&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119105221673.png&#34; alt=&#34;image-20231119105221673&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119105227518.png&#34; alt=&#34;image-20231119105227518&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119105234837.png&#34; alt=&#34;image-20231119105234837&#34; /&gt;&lt;/p&gt;
&lt;center&gt;æŒ‰ç…§ä¸»é”®ä¹±åºæ’å…¥&lt;/center&gt;
&lt;h5 id=&#34;é¡µåˆå¹¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¡µåˆå¹¶&#34;&gt;#&lt;/a&gt; é¡µåˆå¹¶&lt;/h5&gt;
&lt;p&gt;å½“åˆ é™¤ä¸€æ¡è¡Œè®°å½•æ—¶ï¼Œå¹¶éç‰©ç†åˆ é™¤ï¼Œè€Œæ˜¯å°†å…¶æ ‡è®°ï¼ˆflagedï¼‰ä¸º&lt;font color=&#39;red&#39;&gt;é€»è¾‘åˆ é™¤&lt;/font&gt;ï¼Œå¹¶ä¸”å®ƒçš„ç©ºé—´å˜å¾—å…è®¸è¢«å…¶ä»–è¡Œè®°å½•å£°æ˜ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119110526526.png&#34; alt=&#34;image-20231119110526526&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&#39;red&#39;&gt;å½“é¡µä¸­åˆ é™¤çš„è®°å½•è¾¾åˆ° MERGE_THRESHOLDï¼ˆé»˜è®¤ä¸ºé¡µçš„ 50%ï¼‰ï¼ŒInnoDB ä¼šå¼€å§‹å¯»æ‰¾æœ€é è¿‘çš„é¡µçœ‹çœ‹æ˜¯å¦å¯ä»¥å°†ä¸¤ä¸ªé¡µåˆå¹¶ï¼Œä»¥ä¼˜åŒ–ç©ºé—´ä½¿ç”¨&lt;/font&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;MERGE_THRESHOLDï¼šåˆå¹¶é¡µçš„é˜ˆå€¼ï¼Œå¯ä»¥è‡ªå·±è®¾ç½®ï¼Œåœ¨åˆ›å»ºè¡¨æˆ–è€…åˆ›å»ºç´¢å¼•æ—¶æŒ‡å®šã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119110615283.png&#34; alt=&#34;image-20231119110615283&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119110628033.png&#34; alt=&#34;image-20231119110628033&#34; /&gt;&lt;/p&gt;
&lt;p&gt;åˆ é™¤æ•°æ®ï¼Œå¹¶å°†é¡µåˆå¹¶ä¹‹åï¼Œå†æ¬¡æ’å…¥æ–°çš„æ•°æ® 21ï¼Œåˆ™ç›´æ¥æ’å…¥ 3# é¡µã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119110703491.png&#34; alt=&#34;image-20231119110703491&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;ä¸»é”®ä½¿ç”¨åŸåˆ™&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸»é”®ä½¿ç”¨åŸåˆ™&#34;&gt;#&lt;/a&gt; ä¸»é”®ä½¿ç”¨åŸåˆ™&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å°½é‡é™ä½ä¸»é”®çš„é•¿åº¦&lt;/strong&gt;ï¼šå¯¹äºä¸€å¼ è¡¨ï¼Œåªæœ‰ä¸€ä¸ªä¸»é”®ç´¢å¼•ï¼Œå¯ä»¥æœ‰å¤šä¸ªäºŒçº§ç´¢å¼•ã€‚è€ŒäºŒçº§ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸­å­˜æ”¾çš„å°±æ˜¯ä¸»é”®ï¼Œå› æ­¤&lt;font color=&#39;red&#39;&gt;å¦‚æœä¸»é”®çš„é•¿åº¦è¾ƒé•¿ï¼Œä¼šå¯¼è‡´äºŒçº§ç´¢å¼•å ç”¨å¤§é‡ç£ç›˜ç©ºé—´ï¼ŒæŸ¥è¯¢æ—¶ä¹Ÿä¼šè€—è´¹è¾ƒå¤šçš„ç£ç›˜ IO&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119111458997.png&#34; alt=&#34;image-20231119111458997&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å°½é‡æŒ‰ç…§ä¸»é”®é¡ºåºæ’å…¥æ•°æ®&lt;/strong&gt;ï¼šèƒ½å¤Ÿé¿å…æŒ‰ç…§ä¸»é”®ä¹±åºæ’å…¥æ•°æ®æ—¶çš„é¡µåˆ†è£‚æ“ä½œï¼Œæé«˜æ’å…¥æ€§èƒ½ï¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å°½é‡é€‰æ‹©ä½¿ç”¨ AUTO_INCREMENT è‡ªå¢ä¸»é”®&lt;/strong&gt;ï¼šä¸è¦ä½¿ç”¨ UUID åšä¸»é”®ï¼Œæˆ–è€…å…¶ä»–è‡ªç„¶ä¸»é”®ï¼Œå¦‚èº«ä»½è¯å·ã€‚å› ä¸ºå®ƒä»¬éƒ½æ˜¯&lt;font color=&#39;red&#39;&gt;æ— åº&lt;/font&gt;çš„ï¼Œå¯¼è‡´ä¹±åºæ’å…¥ï¼Œå­˜åœ¨é¡µåˆ†è£‚ç°è±¡ã€‚è€Œä¸”å®ƒä»¬çš„&lt;font color=&#39;red&#39;&gt;é•¿åº¦è¾ƒé•¿&lt;/font&gt;ï¼Œæ„å»ºç´¢å¼•éœ€è¦çš„ç©ºé—´è¾ƒå¤§ï¼Œåœ¨æŸ¥è¯¢æ—¶ä¼šè€—è´¹å¤§é‡çš„ç£ç›˜ IOã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å°½é‡é¿å…å¯¹ä¸»é”®çš„ä¿®æ”¹&lt;/strong&gt;ï¼šä¿®æ”¹ä¸»é”®ï¼Œè¿˜éœ€è¦ä¿®æ”¹å¯¹åº”çš„ä¸»é”®ç´¢å¼•ã€äºŒçº§ç´¢å¼•ï¼Œä»£ä»·è¾ƒå¤§ï¼&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;order-by-ä¼˜åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#order-by-ä¼˜åŒ–&#34;&gt;#&lt;/a&gt; order by ä¼˜åŒ–&lt;/h4&gt;
&lt;p&gt;MySQL æœ‰ä¸¤ç§æ’åºæ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Using filesort&lt;/code&gt; ï¼šé€šè¿‡è¡¨çš„ç´¢å¼•æˆ–å…¨è¡¨æ‰«æè¯»å–æ»¡è¶³æ¡ä»¶çš„æ•°æ®è¡Œï¼Œç„¶å&lt;font color=&#39;red&#39;&gt;åœ¨ sort bufferï¼ˆæ’åºç¼“å†²åŒºï¼‰ä¸­å®Œæˆæ’åºæ“ä½œ&lt;/font&gt;ï¼Œæ‰€æœ‰ä¸æ˜¯é€šè¿‡ç´¢å¼•ç›´æ¥è¿”å›æ’åºç»“æœçš„æ’åºéƒ½å« FileSort æ’åºã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Using index&lt;/code&gt; ï¼š&lt;font color=&#39;red&#39;&gt;é€šè¿‡æœ‰åºç´¢å¼•é¡ºåºæ‰«æç›´æ¥è¿”å›æœ‰åºæ•°æ®&lt;/font&gt;ï¼Œ&lt;font color=&#39;red&#39;&gt;ä¸éœ€è¦é¢å¤–æ’åºï¼Œæ“ä½œæ•ˆç‡é«˜&lt;/font&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å› æ­¤åœ¨ä¼˜åŒ–æ’åºæ“ä½œæ—¶ï¼Œ&lt;font color=&#39;red&#39;&gt;å°½é‡ä¼˜åŒ–ä¸º Using index&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç»è¿‡æµ‹è¯•ï¼ˆé»‘é©¬ MySQL - è¿›é˜¶ç¯‡ï¼‰ï¼Œæ€»ç»“ä¸€ä¸‹ order by ä¼˜åŒ–åŸåˆ™ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ ¹æ®æ’åºå­—æ®µå»ºç«‹åˆé€‚çš„ç´¢å¼•&lt;/strong&gt;ï¼šè¿™æ ·æ‰ä¼š Using index æ’åº&lt;/li&gt;
&lt;li&gt;å¤šå­—æ®µæ’åºæ—¶ï¼Œä¹Ÿéµå¾ª&lt;strong&gt;è”åˆç´¢å¼•çš„æœ€å·¦å‰ç¼€åŒ¹é…æ³•åˆ™&lt;/strong&gt;ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å°½é‡ä½¿ç”¨è¦†ç›–ç´¢å¼•&lt;/strong&gt;ï¼šé¿å… select * ï¼›&lt;/li&gt;
&lt;li&gt;å¤šå­—æ®µæ’åºï¼Œä¸€ä¸ªå‡åºä¸€ä¸ªé™åºï¼Œæ­¤æ—¶éœ€è¦æ³¨æ„&lt;strong&gt;è”åˆç´¢å¼•åœ¨åˆ›å»ºæ—¶çš„è§„åˆ™ï¼ˆASC/DESCï¼‰&lt;/strong&gt;ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸å¯é¿å…çš„å‡ºç° filesortï¼Œå¤§æ•°æ®é‡æ’åºæ—¶ï¼Œå¯ä»¥&lt;strong&gt;é€‚å½“å¢å¤§æ’åºç¼“å†²åŒºå¤§å° sort_buffer_size&lt;/strong&gt; (é»˜è®¤ 256k)ï¼Œå¦åˆ™ä¼šåœ¨ç£ç›˜ç©ºé—´ä¸­æ’åºï¼Œæ•ˆç‡ä½ï¼&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;group-by-ä¼˜åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#group-by-ä¼˜åŒ–&#34;&gt;#&lt;/a&gt; group by ä¼˜åŒ–&lt;/h4&gt;
&lt;p&gt;åœ¨åˆ†ç»„æ“ä½œä¸­ï¼Œéœ€è¦é€šè¿‡ä»¥ä¸‹ä¸¤ç‚¹è¿›è¡Œä¼˜åŒ–ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥&lt;strong&gt;é€šè¿‡ç´¢å¼•æ¥æé«˜æ•ˆç‡&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è”åˆç´¢å¼•çš„ä½¿ç”¨ï¼Œä¹Ÿéœ€è¦&lt;strong&gt;éµå¾ªæœ€å·¦å‰ç¼€æ³•åˆ™&lt;/strong&gt;çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;limit-ä¼˜åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#limit-ä¼˜åŒ–&#34;&gt;#&lt;/a&gt; limit ä¼˜åŒ–&lt;/h4&gt;
&lt;p&gt;åœ¨æ•°æ®é‡æ¯”è¾ƒå¤§æ—¶ï¼Œè¿›è¡Œ limit åˆ†é¡µæŸ¥è¯¢å­˜åœ¨é—®é¢˜ï¼šè¶Šå¾€åï¼Œåˆ†é¡µæŸ¥è¯¢æ•ˆç‡è¶Šä½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119121326947.png&#34; alt=&#34;image-20231119121326947&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¼˜åŒ–æ€è·¯ï¼š&lt;strong&gt;è¦†ç›–ç´¢å¼• + å­æŸ¥è¯¢&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;explain&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; tb_sku t &lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; id &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; tb_sku &lt;span class=&#34;token keyword&#34;&gt;order&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;by&lt;/span&gt; id &lt;span class=&#34;token keyword&#34;&gt;limit&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2000000&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; a &lt;span class=&#34;token keyword&#34;&gt;where&lt;/span&gt; t&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;id &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; a&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;id&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;count-ä¼˜åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#count-ä¼˜åŒ–&#34;&gt;#&lt;/a&gt; count ä¼˜åŒ–&lt;/h4&gt;
&lt;p&gt;å¦‚æœæ•°æ®é‡å¾ˆå¤§ï¼Œåœ¨æ‰§è¡Œ count æ“ä½œæ—¶ï¼Œæ˜¯éå¸¸è€—æ—¶çš„ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; tb_user &lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ä¸‹é¢å¯¹æ¯”ä¸€ä¸‹ MyISAMã€InnoDB æ˜¯å¦‚ä½•æ‰§è¡Œ count æ“ä½œçš„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;MyISAM å¼•æ“&lt;/font&gt;ï¼š&lt;font color=&#39;red&#39;&gt;æŠŠè¡¨çš„æ€»è¡Œæ•°å­˜åœ¨äº†ç£ç›˜ä¸Š&lt;/font&gt;ï¼Œå› æ­¤æ‰§è¡Œ count (*) çš„æ—¶å€™ä¼šç›´æ¥è¿”å›è¿™ä¸ªæ•°ï¼Œæ•ˆç‡å¾ˆé«˜ã€‚ä½†æ˜¯å¦‚æœæ˜¯å¸¦æ¡ä»¶çš„ countï¼ŒMyISAM ä¹Ÿæ…¢ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;font color=&#39;cornflowerblue&#39;&gt;InnoDB å¼•æ“&lt;/font&gt;ï¼šæ‰§è¡Œ count (*) çš„æ—¶å€™ï¼Œéœ€è¦&lt;font color=&#39;red&#39;&gt;æŠŠæ•°æ®ä¸€è¡Œä¸€è¡Œåœ°ä»å¼•æ“é‡Œé¢è¯»å‡ºæ¥ï¼Œç„¶åç´¯ç§¯è®¡æ•°&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;InnoDB å¯¹ count çš„ä¼˜åŒ–æ€è·¯ï¼š&lt;font color=&#39;red&#39;&gt;è‡ªå·±ç»´æŠ¤è®¡æ•°&lt;/font&gt;ï¼ˆå¯ä»¥å€ŸåŠ©äº redis è¿›è¡Œï¼Œä½†æ˜¯å¦‚æœæ˜¯å¸¦æ¡ä»¶çš„ count åˆæ¯”è¾ƒéº»çƒ¦äº†ï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;count () æ˜¯ä¸€ä¸ªèšåˆå‡½æ•°ï¼Œå¯¹äºè¿”å›çš„ç»“æœé›†ï¼Œä¸€è¡Œè¡Œåœ°åˆ¤æ–­ï¼Œå¦‚æœ count å‡½æ•°çš„å‚æ•°ä¸æ˜¯ NULLï¼Œç´¯è®¡å€¼å°±åŠ  1ï¼Œå¦åˆ™ä¸åŠ ï¼Œæœ€åè¿”å›ç´¯è®¡å€¼ã€‚&lt;/p&gt;
&lt;p&gt;count ç”¨æ³•ï¼šcountï¼ˆ*ï¼‰ã€countï¼ˆä¸»é”®ï¼‰ã€countï¼ˆå­—æ®µï¼‰ã€countï¼ˆæ•°å­—ï¼‰&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æŒ‰ç…§æ•ˆç‡æ’åºçš„è¯ï¼Œcount (å­—æ®µ) &amp;lt; count (ä¸»é”® id) &amp;lt; count (1) â‰ˆ count (*)ï¼Œæ‰€ä»¥&lt;strong&gt;å°½é‡ä½¿ç”¨ count (*)&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20231119131552752.png&#34; alt=&#34;image-20231119131552752&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;update-ä¼˜åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#update-ä¼˜åŒ–&#34;&gt;#&lt;/a&gt; update ä¼˜åŒ–&lt;/h4&gt;
&lt;p&gt;æ‰§è¡Œ Update è¯­å¥æ—¶ï¼Œæ¡ä»¶ä¸€å®šè¦æ ¹æ®ç´¢å¼•å­—æ®µè¿›è¡Œæ›´æ–°ï¼Œå¦åˆ™ä¼šå‡ºç°è¡Œé”å‡çº§ä¸ºè¡¨é”ï¼Œå¯¼è‡´å¹¶å‘æ€§èƒ½é™ä½ï¼&lt;/p&gt;
&lt;p&gt;InnoDB çš„è¡Œé”æ˜¯é’ˆå¯¹ç´¢å¼•åŠ çš„é”ï¼Œä¸æ˜¯é’ˆå¯¹è®°å½•åŠ çš„é”ï¼Œå¹¶ä¸”è¯¥ç´¢å¼•ä¸èƒ½å¤±æ•ˆï¼Œå¦åˆ™ä¼šä»è¡Œé”å‡çº§ä¸ºè¡¨é”ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä¸€äº›ä¼˜åŒ–åŸåˆ™&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸€äº›ä¼˜åŒ–åŸåˆ™&#34;&gt;#&lt;/a&gt; ä¸€äº›ä¼˜åŒ–åŸåˆ™&lt;/h4&gt;
&lt;h5 id=&#34;å°½é‡ä½¿ç”¨è¦†ç›–ç´¢å¼•é¿å…-select&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°½é‡ä½¿ç”¨è¦†ç›–ç´¢å¼•é¿å…-select&#34;&gt;#&lt;/a&gt; å°½é‡ä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼Œé¿å… select *&lt;/h5&gt;
&lt;p&gt;** è¦†ç›–ç´¢å¼•ï¼Œå³éœ€è¦æŸ¥è¯¢çš„å­—æ®µæ­£å¥½æ˜¯ç´¢å¼•çš„å­—æ®µï¼Œé‚£ä¹ˆç›´æ¥æ ¹æ®è¯¥ç´¢å¼•ï¼Œå°±å¯ä»¥æŸ¥åˆ°æ•°æ®äº†ï¼Œè€Œæ— éœ€å›è¡¨æŸ¥è¯¢ã€‚** å› æ­¤ï¼Œ&lt;font color=&#39;red&#39;&gt;åº”è¯¥å°½é‡ä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼Œå‡å°‘ &lt;code&gt;select *&lt;/code&gt; &lt;/font&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;åˆ†é¡µä¼˜åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åˆ†é¡µä¼˜åŒ–&#34;&gt;#&lt;/a&gt; åˆ†é¡µä¼˜åŒ–&lt;/h5&gt;
&lt;h5 id=&#34;å°½é‡é¿å…å¤šè¡¨åšjoin&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°½é‡é¿å…å¤šè¡¨åšjoin&#34;&gt;#&lt;/a&gt; å°½é‡é¿å…å¤šè¡¨åš join&lt;/h5&gt;
&lt;h5 id=&#34;å»ºè®®ä¸è¦ä½¿ç”¨å¤–é”®ä¸çº§è”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å»ºè®®ä¸è¦ä½¿ç”¨å¤–é”®ä¸çº§è”&#34;&gt;#&lt;/a&gt; å»ºè®®ä¸è¦ä½¿ç”¨å¤–é”®ä¸çº§è”&lt;/h5&gt;
&lt;h5 id=&#34;é€‰æ‹©åˆé€‚çš„å­—æ®µç±»å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é€‰æ‹©åˆé€‚çš„å­—æ®µç±»å‹&#34;&gt;#&lt;/a&gt; é€‰æ‹©åˆé€‚çš„å­—æ®µç±»å‹&lt;/h5&gt;
&lt;h5 id=&#34;å°½é‡ç”¨-union-all-ä»£æ›¿-union&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å°½é‡ç”¨-union-all-ä»£æ›¿-union&#34;&gt;#&lt;/a&gt; å°½é‡ç”¨ UNION ALL ä»£æ›¿ UNION&lt;/h5&gt;
&lt;h5 id=&#34;æ‰¹é‡æ“ä½œ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ‰¹é‡æ“ä½œ&#34;&gt;#&lt;/a&gt; æ‰¹é‡æ“ä½œ&lt;/h5&gt;
&lt;h5 id=&#34;show-profle-åˆ†æ-sql-æ‰§è¡Œæ€§èƒ½&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#show-profle-åˆ†æ-sql-æ‰§è¡Œæ€§èƒ½&#34;&gt;#&lt;/a&gt; Show Profle åˆ†æ SQL æ‰§è¡Œæ€§èƒ½&lt;/h5&gt;
&lt;h5 id=&#34;æ­£ç¡®ä½¿ç”¨ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ­£ç¡®ä½¿ç”¨ç´¢å¼•&#34;&gt;#&lt;/a&gt; æ­£ç¡®ä½¿ç”¨ç´¢å¼•&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;æŒ‡è·¯â†’&lt;a href=&#34;#%E7%B4%A2%E5%BC%95%E7%9A%84%E6%AD%A3%E7%A1%AE%E4%BD%BF%E7%94%A8%E5%BB%BA%E8%AE%AE&#34;&gt;ç´¢å¼•çš„æ­£ç¡®ä½¿ç”¨å»ºè®®&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;sqlå¸¸è§é¢è¯•é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sqlå¸¸è§é¢è¯•é¢˜&#34;&gt;#&lt;/a&gt; SQL å¸¸è§é¢è¯•é¢˜&lt;/h3&gt;
</content>
        <category term="æ•°æ®åº“" scheme="http://example.com/categories/database/" />
        <category term="MySQL" scheme="http://example.com/categories/database/mysql/" />
        <updated>2023-11-17T11:50:54.442Z</updated>
    </entry>
    <entry>
        <id>http://example.com/photography/%E6%97%A5%E8%90%BD%E6%94%B6%E9%9B%86%E8%AE%A1%E5%88%92/</id>
        <title>æ—¥è½æ”¶é›†è®¡åˆ’</title>
        <link rel="alternate" href="http://example.com/photography/%E6%97%A5%E8%90%BD%E6%94%B6%E9%9B%86%E8%AE%A1%E5%88%92/"/>
        <content type="html">&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/6553a0abc458853aef3aa4f3.jpg&#34; alt=&#34;&#34; /&gt;&lt;br /&gt;
&lt;img data-src=&#34;https://pic.imgdb.cn/item/6553a403c458853aef45fdc7.jpg&#34; alt=&#34;è½æ—¥çª—èŠ±&#34; title=&#34;è½æ—¥çª—èŠ±&#34; /&gt;&lt;/p&gt;
</content>
        <category term="æ‘„å½±" scheme="http://example.com/categories/photography/" />
        <updated>2023-11-14T16:39:51.099Z</updated>
    </entry>
    <entry>
        <id>http://example.com/photography/%E8%88%B9%E5%A4%AB%E8%9C%80%E9%BB%8D/</id>
        <title>èˆ¹å¤«èœ€é»</title>
        <link rel="alternate" href="http://example.com/photography/%E8%88%B9%E5%A4%AB%E8%9C%80%E9%BB%8D/"/>
        <content type="html">&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/6553a275c458853aef40b302.jpg&#34; alt=&#34;ä¸Šèˆ¹ï¼&#34; title=&#34;ä¸Šèˆ¹ï¼&#34; /&gt;&lt;br /&gt;
&lt;img data-src=&#34;https://pic.imgdb.cn/item/6553a275c458853aef40b256.jpg&#34; alt=&#34;çœ‹å•¥å‘¢&#34; title=&#34;çœ‹å•¥å‘¢&#34; /&gt;&lt;/p&gt;
</content>
        <category term="æ‘„å½±" scheme="http://example.com/categories/photography/" />
        <updated>2023-11-14T16:37:21.388Z</updated>
    </entry>
    <entry>
        <id>http://example.com/photography/%E4%B8%80%E4%BA%9B%E8%93%9D%E8%89%B2/</id>
        <title>ä¸€äº›è“è‰²</title>
        <link rel="alternate" href="http://example.com/photography/%E4%B8%80%E4%BA%9B%E8%93%9D%E8%89%B2/"/>
        <content type="html">&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/6553a0aac458853aef3aa386.jpg&#34; alt=&#34;1å·è“å˜‰å®¾&#34; title=&#34;1å·è“å˜‰å®¾&#34; /&gt;&lt;br /&gt;
&lt;img data-src=&#34;https://pic.imgdb.cn/item/6553a0abc458853aef3aa631.jpg&#34; alt=&#34;2å·è“å˜‰å®¾&#34; title=&#34;2å·è“å˜‰å®¾&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/6553a0abc458853aef3aa4aa.jpg&#34; alt=&#34;3å·è“å˜‰å®¾&#34; title=&#34;3å·è“å˜‰å®¾&#34; /&gt;&lt;/p&gt;
</content>
        <category term="æ‘„å½±" scheme="http://example.com/categories/photography/" />
        <updated>2023-11-14T16:30:42.887Z</updated>
    </entry>
    <entry>
        <id>http://example.com/photography/%E8%93%9D%E4%B8%8E%E9%BB%84/</id>
        <title>è“ä¸é»„</title>
        <link rel="alternate" href="http://example.com/photography/%E8%93%9D%E4%B8%8E%E9%BB%84/"/>
        <content type="html">&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/65539e35c458853aef322d09.jpg&#34; alt=&#34;ä¸€ç›´åœ¨ç”¨çš„å¤´åƒ&#34; title=&#34;ä¸€ç›´åœ¨ç”¨çš„å¤´åƒhh&#34; /&gt;&lt;br /&gt;
&lt;img data-src=&#34;https://pic.imgdb.cn/item/65539e33c458853aef3224f3.jpg&#34; alt=&#34;è€ç”µå½±çš„æœ€åä¸€å¹•&#34; title=&#34;è€ç”µå½±çš„æœ€åä¸€å¹•&#34; /&gt;&lt;/p&gt;
</content>
        <category term="æ‘„å½±" scheme="http://example.com/categories/photography/" />
        <updated>2023-11-14T16:20:56.108Z</updated>
    </entry>
    <entry>
        <id>http://example.com/photography/%E6%9C%9D%E9%98%B3%E5%85%AC%E5%9B%AD/</id>
        <title>æœé˜³å…¬å›­</title>
        <link rel="alternate" href="http://example.com/photography/%E6%9C%9D%E9%98%B3%E5%85%AC%E5%9B%AD/"/>
        <content type="html">&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/6554c7d9c458853aefd85660.jpg&#34; alt=&#34;&amp;quot;å©šçº±ç…§&amp;quot;&#34; title=&#34;å©šçº±ç…§&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/6554c7d9c458853aefd857b8.jpg&#34; alt=&#34;&amp;quot;é¸½å­&amp;quot;&#34; title=&#34;é¸½å­&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/6554c7d9c458853aefd85a3b.jpg&#34; alt=&#34;ç¯å¡”ï¼Ÿå–‡å­ï¼Ÿ&#34; title=&#34;ç¯å¡”ï¼Ÿå–‡å­ï¼Ÿ&#34; /&gt;&lt;br /&gt;
&lt;img data-src=&#34;https://pic.imgdb.cn/item/6554c7dac458853aefd85b87.jpg&#34; alt=&#34;æ—‹è½¬è·³è·ƒ~&#34; title=&#34;æ—‹è½¬è·³è·ƒ~&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/6554c873c458853aefdaf78e.jpg&#34; alt=&#34;&amp;quot;æˆ‘ä¸åœæ­‡~&amp;quot;&#34; title=&#34;æˆ‘ä¸åœæ­‡~&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/6554c872c458853aefdaf5dd.jpg&#34; alt=&#34;&amp;quot;æ³¢å…‰ç²¼ç²¼ç²¼ç²¼ç²¼&amp;quot;&#34; title=&#34;æ³¢å…‰ç²¼ç²¼ç²¼ç²¼ç²¼&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/6554c8c4c458853aefdc3eb4.png&#34; alt=&#34;1681754285877.png&#34; height=&#34;700px&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/6554c8c4c458853aefdc402e.jpg&#34; alt=&#34;&amp;quot;é‡è›®ç”Ÿé•¿&amp;quot;&#34; title=&#34;é‡è›®ç”Ÿé•¿&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/6554c873c458853aefdafa16.jpg&#34; alt=&#34;&amp;quot;å…‰å½±å‡ºç‰ˆç¤¾&amp;quot;&#34; title=&#34;å…‰å½±å‡ºç‰ˆç¤¾&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/6554c873c458853aefdaf8ee.jpg&#34; alt=&#34;&amp;quot;&amp;quot;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/6554c7d8c458853aefd854e9.jpg&#34; alt=&#34;&amp;quot;å”®ç¥¨äº­&amp;quot;&#34; title=&#34;å”®ç¥¨äº­&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://pic.imgdb.cn/item/6554c8c3c458853aefdc3a13.jpg&#34; alt=&#34;&amp;quot;éº¦é—¨!&amp;quot;&#34; title=&#34;éº¦é—¨!&#34; /&gt;&lt;/p&gt;
</content>
        <category term="æ‘„å½±" scheme="http://example.com/categories/photography/" />
        <updated>2023-11-12T08:06:56.973Z</updated>
    </entry>
    <entry>
        <id>http://example.com/photography/%E8%AF%BE%E4%B8%8A%E6%91%B8%E9%B1%BC/</id>
        <title>è¯¾ä¸Šæ‘¸é±¼</title>
        <link rel="alternate" href="http://example.com/photography/%E8%AF%BE%E4%B8%8A%E6%91%B8%E9%B1%BC/"/>
        <content type="html">&lt;p&gt;&lt;img data-src=&#34;https://store.heytapimage.com/cdo-portal/feedback/202311/14/d14ad5b8a21733d0ad00c6f42a36a476.jpeg&#34; alt=&#34;æ— èŠçš„åµŒå…¥å¼&#34; title=&#34;æ— èŠçš„åµŒå…¥å¼&#34; /&gt;&lt;br /&gt;
&lt;img data-src=&#34;https://store.heytapimage.com/cdo-portal/feedback/202311/14/898b619d3706f71c0881abb448891fa3.jpeg&#34; alt=&#34;æ—©è‡ªä¹ &#34; title=&#34;æ—©è‡ªä¹ &#34; /&gt;&lt;/p&gt;
</content>
        <category term="æ‘„å½±" scheme="http://example.com/categories/photography/" />
        <updated>2023-11-12T03:50:08.798Z</updated>
    </entry>
</feed>
