<!-- build time:Fri Dec 01 2023 01:29:28 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="水文 & 摄影" href="http://example.com/rss.xml"><link rel="alternate" type="application/atom+xml" title="水文 & 摄影" href="http://example.com/atom.xml"><link rel="alternate" type="application/json" title="水文 & 摄影" href="http://example.com/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><link rel="canonical" href="http://example.com/database/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"><title>数据库总结 - 数据库 | fantedong = 水文 & 摄影 = 为了能更好地访问图片，你需要一点魔法</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">数据库总结</h1><div class="meta"><span class="item" title="创建时间：2023-11-11 11:58:49"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2023-11-11T11:58:49+08:00">2023-11-11</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>9.1k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>8 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">fantedong</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><img src="https://raw.githubusercontent.com/hjx159/picture-bed/main/img/sql-nosql-tushi.png"></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/database/" itemprop="item" rel="index" title="分类于 数据库"><span itemprop="name">数据库</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://example.com/database/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="范特东东东"><meta itemprop="description" content="为了能更好地访问图片，你需要一点魔法, "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="水文 & 摄影"></span><div class="body md" itemprop="articleBody"><h1 id="数据库基础"><a class="anchor" href="#数据库基础">#</a> 数据库基础</h1><h2 id="什么是数据库-数据库管理系统-数据库系统-数据库管理员"><a class="anchor" href="#什么是数据库-数据库管理系统-数据库系统-数据库管理员">#</a> 什么是数据库，数据库管理系统，数据库系统，数据库管理员？</h2><ul><li><strong>数据库</strong>：数据库 (DataBase 简称 <code>DB</code> ) 就是信息的集合或者说数据库是由数据库管理系统管理的<font color="red">数据的集合</font>。</li><li><strong>数据库管理系统</strong>：数据库管理系统 (Database Management System 简称 <code>DBMS</code> ) 是一种<font color="red">操纵和管理数据库</font>的大型软件，通常用于建立、使用和维护数据库。</li><li><strong>数据库管理员</strong>：数据库管理员 (Database Administrator, 简称 <code>DBA</code> ) 负责<font color="red">全面管理和控制数据库系统</font>。</li><li><strong>数据库系统</strong>：数据库系统 (Data Base System，简称 <code>DBS</code> ) 通常<font color="red">由软件、数据库和数据管理员 (DBA) 组成</font>。</li></ul><h2 id="什么是元组-码-候选码-主码-外码-主属性-非主属性"><a class="anchor" href="#什么是元组-码-候选码-主码-外码-主属性-非主属性">#</a> 什么是元组，码，候选码，主码，外码，主属性，非主属性？</h2><ul><li><strong>元组</strong> ： 元组（ <code>tuple</code> ）是关系数据库中的基本概念，关系是一张表，表中的每行（即数据库中的<font color="red">每条记录</font>）就是一个元组，每列就是一个属性。 在二维表里，元组也称为行。</li><li><strong>码</strong> ：码就是<font color="red">能唯一标识实体的属性</font>，对应表中的列。</li><li><strong>候选码</strong> ：若关系中的某一属性或属性组的值<font color="red">能唯一的标识一个元组，而其任何、子集都不能再标识</font>，则称该属性组为候选码。例如：在学生实体中，“学号” 是能唯一的区分学生实体的，同时又假设 “姓名”、“班级” 的属性组合足以区分学生实体，那么 {学号} 和 {姓名，班级} 都是候选码。</li><li><strong>主码</strong>：主码也叫 <code>主键</code> 。主码是<font color="red">从候选码中选出来的</font>。 一个实体集中<font color="red">只能有一个主码</font>，但可以有多个候选码。</li><li><strong>外码</strong>：外码也叫 <code>外键</code> 。如果一个关系中的一个属性<font color="red">是另外一个关系中的主码</font>则这个属性为外码。</li><li><strong>主属性</strong> ：<font color="red">候选码中出现过的属性</font>称为主属性。比如关系 —— 工人（工号，身份证号，姓名，性别，部门）. 显然工号和身份证号都能够唯一标示这个关系，所以都是候选码。工号、身份证号这两个属性就是主属性。如果主码是一个属性组，那么属性组中的属性都是主属性。</li><li><strong>非主属性：</strong> <font color="red">不包含在任何一个候选码中的属性</font>称为非主属性。比如在关系 —— 学生（学号，姓名，年龄，性别，班级）中，主码是 “学号”，那么其他的 “姓名”、“年龄”、“性别”、“班级” 就都可以称为非主属性。</li></ul><h2 id="什么是-er-图"><a class="anchor" href="#什么是-er-图">#</a> 什么是 ER 图？</h2><p><strong>ER 图</strong> 全称是 <code>Entity Relationship Diagram（实体联系图）</code> ，提供了表示实体类型、属性和联系的方法。</p><p>ER 图由下面 3 个要素组成：</p><ul><li><strong>实体</strong> ：通常是<font color="red">现实世界的业务对象</font>，当然使用一些逻辑对象也可以。比如对于一个校园管理系统，会涉及学生、教师、课程、班级等等实体。在 ER 图中，实体使用<font color="red">矩形框</font>表示。</li><li><strong>属性</strong> ：即某个实体拥有的属性，属性<font color="red">用来描述组成实体的要素</font>，对于产品设计来说可以理解为字段。在 ER 图中，属性使用<font color="red">椭圆形</font>表示。</li><li><strong>联系</strong> ：即<font color="red">实体与实体之间的关系</font>，这个关系不仅有业务关联关系，还能通过数字表示实体之间的数量对照关系。例如，一个班级会有多个学生就是一种实体间的联系。</li></ul><p>下图是一个学生选课的 ER 图，每个学生可以选若干门课程，同一门课程也可以被若干人选择，所以它们之间的关系是多对多（M: N）。另外，还有其他两种实体之间的关系是：1 对 1（1:1）、1 对多（1: N）。</p><p><img data-src="https://raw.githubusercontent.com/hjx159/picture-bed/main/img/c745c87f6eda9a439e0eea52012c7f4a.png" alt="学生与课程之间联系的E-R图"></p><h2 id="数据库范式了解吗"><a class="anchor" href="#数据库范式了解吗">#</a> 数据库范式了解吗？</h2><p>数据库范式有 3 种：</p><ul><li>1NF (第一范式)： <code>属性不可再分</code> 。</li><li>2NF (第二范式)：1NF 的基础之上， <code>消除了非主属性对于码的部分函数依赖</code> 。</li><li>3NF (第三范式)：3NF 在 2NF 的基础之上， <code>消除了非主属性对于码的传递函数依赖</code> 。</li></ul><h3 id="1nf第一范式"><a class="anchor" href="#1nf第一范式">#</a> 1NF (第一范式)</h3><p><font color="red">属性（对应于表中的字段）不能再被分割为多个其他的属性了</font>，也就是这个字段只能是一个值，不能再分为多个其他的字段了。<strong>1NF 是所有关系型数据库的最基本要求</strong> ，也就是说关系型数据库中创建的表一定满足第一范式。</p><h3 id="2nf第二范式"><a class="anchor" href="#2nf第二范式">#</a> 2NF (第二范式)</h3><p>2NF 在 1NF 的基础之上，<font color="red">消除了非主属性对于码的<u>部分函数依赖</u></font>。如下图所示，展示了第一范式到第二范式的过渡。第二范式在第一范式的基础上增加了一个列，这个列称为主键，非主属性都依赖于主键。</p><p><img data-src="https://raw.githubusercontent.com/hjx159/picture-bed/main/img/bd1d31be3779342427fc9e462bf7f05c.png" alt="第二范式"></p><p>一些重要的概念：</p><ul><li><strong>函数依赖（functional dependency）</strong> ：若在一张表中，<font color="red">在属性（或属性组）X 的值确定的情况下，必定能确定属性 Y 的值</font>，那么就可以说 Y 函数依赖于 X，写作 <code>X → Y</code> 。</li><li><strong>部分函数依赖（partial functional dependency）</strong> ：<font color="red">如果 X→Y，并且存在 X 的一个真子集 X0，使得 X0→Y</font>，则称 Y 对 X 部分函数依赖。比如学生基本信息表 R 中（学号，身份证号，姓名）当然学号属性取值是唯一的，在 R 关系中，（学号，身份证号）-&gt;（姓名），（学号）-&gt;（姓名），（身份证号）-&gt;（姓名）；所以姓名部分函数依赖与（学号，身份证号）；</li><li><strong>完全函数依赖 (Full functional dependency)</strong> ：在一个关系中，<font color="red">若某个非主属性数据项依赖于全部关键字</font>称之为完全函数依赖。比如学生基本信息表 R（学号，班级，姓名）假设不同的班级学号有相同的，班级内学号不能相同，在 R 关系中，（学号，班级）-&gt;（姓名），但是（学号）-&gt;(姓名) 不成立，（班级）-&gt;(姓名) 不成立，所以姓名完全函数依赖与（学号，班级）；</li><li><strong>传递函数依赖 (transitive functional dependency) ** ： <font color="red">在关系模式 R (U) 中，设 X，Y，Z 是 U 的不同的属性子集，如果 X 确定 Y、Y 确定 Z，且有 X 不包含 Y，Y 不确定 X，（X∪Y）∩Z = 空集合，则称 Z 传递函数依赖于 X</font>。传递函数依赖</strong><font color="red">会导致数据冗余和异常</font>**。传递函数依赖的 Y 和 Z 子集往往同属于某一个事物，因此可将其合并放到一个表中。比如在关系 R (学号，姓名，系名，系主任) 中，学号 → 系名，系名 → 系主任，所以存在非主属性系主任对于学号的传递函数依赖。。</li></ul><h3 id="3nf第三范式"><a class="anchor" href="#3nf第三范式">#</a> 3NF (第三范式)</h3><p>3NF 在 2NF 的基础之上，<font color="red">消除了非主属性对于码的<u>传递函数依赖</u></font>。符合 3NF 要求的数据库设计，<font color="red"><strong>基本上解决了数据冗余过大，插入异常，修改异常，删除异常的问题</strong></font>。比如在关系 R (学号，姓名，系名，系主任) 中，学号 → 系名，系名 → 系主任，所以存在非主属性系主任对于学号的传递函数依赖，所以该表的设计，不符合 3NF 的要求。</p><h2 id="主键和外键有什么区别"><a class="anchor" href="#主键和外键有什么区别">#</a> 主键和外键有什么区别？</h2><ul><li><strong>主键 (主码)</strong> ：<ul><li>主键用于<font color="red">唯一标识一个元组</font></li><li><font color="red">不能有重复</font>，<font color="red">不允许为空</font></li><li><font color="red">一个表只能有一个</font>主键</li></ul></li><li><strong>外键 (外码)</strong> ：<ul><li>外键用来<font color="red">和其他表建立联系</font>用，外键<font color="red">是另一表的主键</font></li><li>外键是<font color="red">可以有重复的</font>，<font color="red">可以是空值</font></li><li><font color="red">一个表可以有多个</font>外键</li></ul></li></ul><h2 id="为什么不推荐使用外键与级联"><a class="anchor" href="#为什么不推荐使用外键与级联">#</a> 为什么不推荐使用外键与级联？</h2><p>对于外键和级联，阿里巴巴开发手册这样说到：</p><blockquote><p>【强制】不得使用外键与级联，一切外键概念必须在应用层解决。</p><p>说明：以学生和成绩的关系为例，学生表中的 student_id 是主键，那么成绩表中的 student_id 则为外键。如果更新学生表中的 student_id，同时触发成绩表中的 student_id 更新，即为级联更新。</p><ul><li><font color="red">外键与级联更新适用于单机低并发，不适合分布式、高并发集群</font></li><li><font color="red">级联更新是强阻塞，存在数据库更新风暴的风险</font></li><li><font color="red">外键影响数据库的插入速度</font></li></ul></blockquote><p>为什么不要用外键呢？大部分人可能会这样回答：</p><ol><li><strong>增加了复杂性：</strong><ol><li>每次做<font color="red"> DELETE 或者 UPDATE 都必须考虑外键约束</font>，会导致开发的时候很痛苦，测试数据极为不方便；</li><li><font color="red">外键的主从关系是固定的</font>，假如那天需求有变化，数据库中的这个字段根本不需要和其他表有关联的话就会增加很多麻烦。</li></ol></li><li><strong>对分库分表不友好</strong> ：因为分库分表下<font color="red">外键是无法生效的</font>。</li><li>......</li></ol><p>我个人觉得上面这种回答不是特别的全面，只是说了外键存在的一个常见的问题。实际上，我们知道外键也是有很多好处的，比如：</p><ol><li><strong>保证了数据的一致性和完整性</strong>；</li><li><strong>级联操作方便，减轻了程序代码量</strong>；</li><li>......</li></ol><p>所以说，不要一股脑的就抛弃了外键这个概念，既然它存在就有它存在的道理，<font color="red">如果系统<u>不涉及分库分表</u>，<u>并发量不是很高</u>的情况还是可以考虑使用外键的</font>。</p><h2 id="什么是存储过程"><a class="anchor" href="#什么是存储过程">#</a> 什么是存储过程？</h2><p>我们可以把存储过程看成是 <code>一些 SQL 语句的集合，中间加了点逻辑控制语句</code> 。存储过程在业务比较复杂的时候是非常实用的，比如很多时候我们完成一个操作可能需要写一大串 SQL 语句，这时候我们就可以写有一个存储过程，这样也方便了我们下一次的调用。<font color="red">存储过程一旦调试完成通过后就能稳定运行</font>，另外，<font color="red">使用存储过程比单纯 SQL 语句执行要快，因为存储过程是预编译过的</font>。</p><p>存储过程在互联网公司应用不多，因为<font color="red">存储过程难以调试和扩展，而且没有移植性，还会消耗数据库资源</font>。</p><p>阿里巴巴 Java 开发手册里要求<strong>禁止使用存储过程</strong>。</p><p><img data-src="https://raw.githubusercontent.com/hjx159/picture-bed/main/img/0fa082bc4d4f919065767476a41b2156.png" alt="阿里巴巴Java开发手册: 禁止存储过程"></p><h2 id="drop-delete-与-truncate-区别"><a class="anchor" href="#drop-delete-与-truncate-区别">#</a> drop、delete 与 truncate 区别？</h2><h3 id="用法不同"><a class="anchor" href="#用法不同">#</a> 用法不同</h3><ul><li><code>drop</code> (丢弃数据): <code>drop table 表名</code> ，直接将表都删除掉，在<strong>删除表</strong>的时候使用。</li><li><code>truncate</code> (清空数据) : <code>truncate table 表名</code> ，只删除表中的数据，<font color="red">再插入数据的时候自增长 id 又从 1 开始</font>，在<strong>清空表</strong>中数据的时候使用。</li><li><code>delete</code> （删除数据） : <code>delete from 表名 where 列名=值</code> ，<strong>删除某一行</strong>的数据，如果不加 <code>where</code> 子句和 <code>truncate table 表名</code> 作用类似。</li></ul><p>注意：<strong> <code>truncate</code> 和 <code>delete</code> 只删除数据不删除表的结构 (定义)，执行 <code>drop</code> 语句，此表的结构也会删除，也就是执行 <code>drop</code> 之后对应的表不复存在。</strong></p><h3 id="属于不同的数据库语言"><a class="anchor" href="#属于不同的数据库语言">#</a> 属于不同的数据库语言</h3><ul><li><p><code>truncate</code> 和 <code>drop</code> 属于 **DDL (数据定义语言)** 语句，操作立即生效，原数据不放到 rollback segment 中，<font color="red">不能回滚</font>，操作不触发 trigger。</p></li><li><p>而 <code>delete</code> 语句是 **DML (数据库操作语言)** 语句，这个操作会放到 rollback segement 中，<font color="red">可以回滚</font>，事务提交之后才生效。</p></li></ul><p><strong>DML 语句和 DDL 语句区别：</strong></p><ul><li>DML 是数据库操作语言（Data Manipulation Language）的缩写，是指<font color="red">对数据库中表记录的操作</font>，主要包括表记录的插入、更新、删除和查询，是开发人员日常使用最频繁的操作。</li><li>DDL （Data Definition Language）是数据定义语言的缩写，简单来说，就是<font color="red">对数据库内部的对象进行创建、删除、修改</font>的操作语言。</li><li>二者最大区别：<font color="red"> DML 只是对表内部数据的操作，而不涉及到表的定义、结构的修改</font>，更不会涉及到其他对象。DDL 语句更多的被数据库管理员（DBA）所使用，一般的开发人员很少使用。</li></ul><p>另外，由于 <code>select</code> 不会对表进行破坏，所以有的地方也会把 <code>select</code> 单独区分开叫做数据库查询语言 DQL（Data Query Language）。</p><h3 id="执行速度不同"><a class="anchor" href="#执行速度不同">#</a> 执行速度不同</h3><p>一般来说： <code>drop</code> &gt; <code>truncate</code> &gt; <code>delete</code> （这个我没有设计测试过）。</p><ul><li><code>delete</code> 命令执行的时候<font color="red">会产生数据库的 <code>binlog</code> 日志，而日志记录是需要消耗时间的</font>，但是也有个<font color="red">好处是方便数据回滚恢复</font>。</li><li><code>truncate</code> 命令执行的时候<font color="red">不会产生数据库日志</font>，因此比 <code>delete</code> 要快。除此之外，还<font color="red">会把表的自增值重置和索引恢复到初始大小等</font>。</li><li><code>drop</code> 命令会<font color="red">把表占用的空间全部释放掉</font>。</li></ul><p>Tips：你应该更多地关注在使用场景上，而不是执行效率。</p><h2 id="数据库设计通常分为哪几步"><a class="anchor" href="#数据库设计通常分为哪几步">#</a> 数据库设计通常分为哪几步？</h2><ol><li><strong>需求分析</strong>：分析用户的需求，包括数据、功能和性能需求。</li><li><strong>概念结构设计</strong>：主要采用 E-R 模型进行设计，包括画 <code>E-R 图</code> 。</li><li><strong>逻辑结构设计</strong>：通过将 E-R 图转换成 <code>表</code> ，实现从 E-R 模型到关系模型的转换。</li><li><strong>物理结构设计</strong>：主要是为所设计的数据库<font color="red">选择合适的存储结构和存取路径</font>。</li><li><strong>数据库实施</strong>：包括编程、测试和试运行</li><li><strong>数据库的运行和维护</strong>：系统的运行与数据库的日常维护。</li></ol><h1 id="nosql基础"><a class="anchor" href="#nosql基础">#</a> NoSQL 基础</h1><h2 id="nosql-是什么"><a class="anchor" href="#nosql-是什么">#</a> NoSQL 是什么？</h2><p><code>NoSQL（Not Only SQL）非关系型的数据库</code> ，主要针对的是<font color="red">键值、文档、图形类型</font>数据存储。并且，NoSQL 数据库<font color="red">天生支持分布式，数据冗余和数据分片</font>等特性，<font color="red">旨在提供可扩展、高可用、高性能的数据存储解决方案</font>。</p><p>一个常见的误解是 NoSQL 数据库或非关系型数据库不能很好地存储关系型数据。<font color="red">NoSQL 数据库可以存储关系型数据</font>— 它们与关系型数据库的存储方式不同。</p><p>NoSQL 数据库代表：HBase 、Cassandra、MongoDB、Redis。</p><p><img data-src="https://raw.githubusercontent.com/hjx159/picture-bed/main/img/sql-nosql-tushi.png" alt="img"></p><h2 id="sql-和-nosql-有什么区别"><a class="anchor" href="#sql-和-nosql-有什么区别">#</a> SQL 和 NoSQL 有什么区别？</h2><table><thead><tr><th style="text-align:left"></th><th>SQL 数据库</th><th>NoSQL 数据库</th></tr></thead><tbody><tr><td style="text-align:left">数据存储模型</td><td><font color="red">结构化存储</font>，具有固定行和列的表格</td><td><font color="red">非结构化存储</font>。文档：JSON 文档，键值：键值对，宽列：包含行和动态列的表，图：节点和边</td></tr><tr><td style="text-align:left">发展历程</td><td>开发于 1970 年代，重点是<font color="red">减少数据重复</font></td><td>开发于 2000 年代后期，重点是<font color="red">提升可扩展性</font>，<font color="red">减少大规模数据的存储成本</font></td></tr><tr><td style="text-align:left">例子</td><td><code>Oracle</code> 、 <code>MySQL</code> 、Microsoft SQL Server 、PostgreSQL</td><td>文档： <code>MongoDB</code> 、CouchDB，键值： <code>Redis</code> 、DynamoDB，宽列：Cassandra 、 <code>HBase</code> ，图表： <code>Neo4j</code> 、 Amazon Neptune、Giraph</td></tr><tr><td style="text-align:left">ACID 属性</td><td>提供<font color="red">原子性、一致性、隔离性、持久性</font>(ACID) 属性</td><td><font color="red">通常不支持 ACID 事务</font>，为了可扩展、高性能进行了权衡，少部分支持比如 MongoDB 。不过，MongoDB 对 ACID 事务 的支持和 MySQL 还是有所区别的。</td></tr><tr><td style="text-align:left">性能</td><td>性能通常取决于磁盘子系统。要获得最佳性能，通常需要<font color="red">优化查询、索引、表结构</font>。</td><td>性能通常由底层硬件集群大小、网络延迟以及调用应用程序来决定。</td></tr><tr><td style="text-align:left">扩展</td><td><font color="red">垂直</font>（使用性能更强大的服务器进行扩展）、读写分离、分库分表</td><td><font color="red">横向</font>（增加服务器的方式横向扩展，通常是基于分片机制）</td></tr><tr><td style="text-align:left">用途</td><td>普通企业级的项目的数据存储</td><td>用途广泛比如图数据库支持分析和遍历连接数据之间的关系、键值数据库可以处理大量数据扩展和极高的状态变化</td></tr><tr><td style="text-align:left">查询语法</td><td><font color="red">结构化查询语言 (SQL)</font></td><td>数据访问语法可能<font color="red">因数据库而异</font></td></tr></tbody></table><h2 id="nosql-数据库有什么优势"><a class="anchor" href="#nosql-数据库有什么优势">#</a> NoSQL 数据库有什么优势？</h2><p>NoSQL 数据库非常适合许多现代应用程序，例如移动、Web 和游戏等应用程序，它们需要灵活、可扩展、高性能和功能强大的数据库以提供卓越的用户体验。</p><ul><li><strong>灵活性：</strong> NoSQL 数据库通常提供灵活的架构，以实现更快速、更多的迭代开发。<font color="red">灵活的数据模型</font>使 NoSQL 数据库成为<font color="red">半结构化和非结构化数据</font>的理想之选。</li><li><strong>可扩展性：</strong> NoSQL 数据库通常被设计为<font color="red">通过使用分布式硬件集群来横向扩展</font>，而不是通过添加昂贵和强大的服务器来纵向扩展。</li><li><strong>高性能：</strong> NoSQL 数据库<font color="red">针对特定的数据模型和访问模式进行了优化</font>，这与尝试使用关系数据库完成类似功能相比可实现更高的性能。</li><li><strong>强大的功能：</strong> NoSQL 数据库提供功能<font color="red">强大的 API 和数据类型</font>，专门针对其各自的数据模型而构建。</li></ul><h2 id="nosql-数据库有哪些类型"><a class="anchor" href="#nosql-数据库有哪些类型">#</a> NoSQL 数据库有哪些类型？</h2><p>NoSQL 数据库主要可以分为下面四种类型：</p><ul><li><strong>键值</strong> ：键值数据库是一种较简单的数据库，其中每个项目都包含键和值。这是极为灵活的 NoSQL 数据库类型，因为应用可以完全控制 value 字段中存储的内容，没有任何限制。 <code>Redis</code> 和 DynanoDB 是两款非常流行的键值数据库。</li><li><strong>文档</strong> ：文档数据库中的数据被存储在类似于 <code>JSON</code> （JavaScript 对象表示法）对象的文档中，非常清晰直观。每个文档包含成对的字段和值。这些值通常可以是各种类型，包括字符串、数字、布尔值、数组或对象等，并且它们的<font color="red">结构通常与开发者在代码中使用的对象保持一致</font>。 <code>MongoDB</code> 就是一款非常流行的文档数据库。</li><li><strong>图形</strong> ：图形数据库旨在轻松构建和运行与高度连接的数据集一起使用的应用程序。图形数据库的典型使用案例包括社交网络、推荐引擎、欺诈检测和知识图形。 <code>Neo4j</code> 和 Giraph 是两款非常流行的图形数据库。</li><li><strong>宽列</strong> ：宽列存储数据库<font color="red">非常适合需要存储大量的数据</font>。Cassandra 和 <code>HBase</code> 是两款非常流行的宽列存储数据库。</li></ul><p>下面这张图片来源于 <span class="exturl" data-url="aHR0cHM6Ly9sZWFybi5taWNyb3NvZnQuY29tL2VuLXVzL2RvdG5ldC9hcmNoaXRlY3R1cmUvY2xvdWQtbmF0aXZlL3JlbGF0aW9uYWwtdnMtbm9zcWwtZGF0YQ==">微软的官方文档 | 关系数据与 NoSQL 数据</span>。</p><p><img data-src="https://raw.githubusercontent.com/hjx159/picture-bed/main/img/types-of-nosql-datastores.png" alt="NoSQL 数据模型"></p><h1 id="字符集详解"><a class="anchor" href="#字符集详解">#</a> 字符集详解</h1><p>MySQL 字符编码集中有两套 UTF-8 编码实现：<strong> <code>utf8</code> </strong>和 <strong><code>utf8mb4</code> </strong>。</p><p>如果使用 <strong><code>utf8</code> </strong>的话，存储 emoji 符号和一些比较复杂的汉字、繁体字就会出错。</p><p>为什么会这样呢？这篇文章可以从源头给你解答。</p><h2 id="何为字符集"><a class="anchor" href="#何为字符集">#</a> 何为字符集？</h2><p>字符是各种文字和符号的统称，包括各个国家文字、标点符号、表情、数字等等。 <strong>字符集</strong> 就是一系列字符的集合。字符集的种类较多，每个字符集可以表示的字符范围通常不同，就比如说有些字符集是无法表示汉字的。</p><p><strong>计算机只能存储二进制的数据，那英文、汉字、表情等字符应该如何存储呢？</strong></p><p>我们要将这些字符和二进制的数据一一对应起来，比如说字符 “a” 对应 “01100001”，反之，“01100001” 对应 “a”。我们将字符对应二进制数据的过程称为 &quot;<strong> 字符编码</strong> &quot;，反之，二进制数据解析成字符的过程称为 “<strong>字符解码</strong>”。</p><h2 id="有哪些常见的字符集"><a class="anchor" href="#有哪些常见的字符集">#</a> 有哪些常见的字符集？</h2><p>常见的字符集有 ASCII、GB2312、GBK、UTF-8......。</p><p>不同的字符集的主要区别在于：</p><ul><li>可以表示的<font color="red">字符范围</font></li><li><font color="red">编码方式</font></li></ul><h3 id="ascii"><a class="anchor" href="#ascii">#</a> ASCII</h3><p><strong>ASCII</strong> (<strong>A</strong>merican <strong>S</strong>tandard <strong>C</strong>ode for <strong>I</strong>nformation <strong>I</strong>nterchange，美国信息交换标准代码) 是一套主要<font color="red">用于现代美国英语的字符集</font>（这也是 ASCII 字符集的局限性所在）。</p><p><strong>为什么 ASCII 字符集没有考虑到中文等其他字符呢？</strong> 因为计算机是美国人发明的，当时，计算机的发展还处于比较雏形的时代，还未在其他国家大规模使用。因此，美国发布 ASCII 字符集的时候没有考虑兼容其他国家的语言。</p><p>ASCII 字符集至今为止共定义了 128 个字符，其中有 33 个控制字符（比如回车、删除）无法显示。</p><p>一个 ASCII 码长度是<font color="red">一个字节</font>也就是 8 个 bit，比如 “a” 对应的 ASCII 码是 “01100001”。不过，<font color="red">最高位是 0 仅仅作为校验位</font>，其余 7 位使用 0 和 1 进行组合，所以，ASCII 字符集<font color="red">可以定义 128（2^7）个字符</font>。</p><p>由于，ASCII 码可以表示的字符实在是太少了。后来，人们对其进行了扩展得到了 <strong>ASCII 扩展字符集</strong> 。ASCII 扩展字符集使用 8 位（bits）表示一个字符，所以，ASCII 扩展字符集可以定义 256（2^8）个字符。</p><p><img data-src="https://raw.githubusercontent.com/hjx159/picture-bed/main/img/c1c6375d08ca268690cef2b13591a5b4.png" alt="ASCII字符编码"></p><h3 id="gb2312"><a class="anchor" href="#gb2312">#</a> GB2312</h3><p>我们上面说了，ASCII 字符集是一种现代美国英语适用的字符集。因此，很多国家都捣鼓了一个适合自己国家语言的字符集。</p><p>GB2312 字符集是一种对汉字比较友好的字符集，共收录<font color="red"> 6700 多个汉字</font>，基本涵盖了绝大部分常用汉字。不过，GB2312 字符集<font color="red">不支持绝大部分的生僻字和繁体字</font>。</p><p>对于<font color="red">英语字符，1 字节编码</font>即可。对于<font color="red">非英字符，2 字节编码</font>。</p><h3 id="gbk"><a class="anchor" href="#gbk">#</a> GBK</h3><p>GBK 字符集可以看作是 GB2312 字符集的扩展，兼容 GB2312 字符集，共收录了<font color="red"> 20000 多个汉字</font>。</p><p>GBK 中 K 是汉语拼音 Kuo Zhan（扩展）中的 “Kuo” 的首字母。</p><h3 id="gb18030"><a class="anchor" href="#gb18030">#</a> GB18030</h3><p>GB18030 完全兼容 GB2312 和 GBK 字符集，纳入中国国内<font color="red">少数民族的文字</font>，且收录了<font color="red">日韩汉字</font>，是目前为止最全面的汉字字符集，共收录<font color="red">汉字 70000 多个</font>。</p><h3 id="big5"><a class="anchor" href="#big5">#</a> BIG5</h3><p>BIG5 主要针对的是<font color="red">繁体中文</font>，收录了 13000 多个汉字。</p><h3 id="unicode-utf-8编码"><a class="anchor" href="#unicode-utf-8编码">#</a> Unicode &amp; <mark>UTF-8 编码</mark></h3><p>为了更加适合本国语言，诞生了很多种字符集。</p><p>我们上面也说了不同的字符集可以表示的字符范围以及编码规则存在差异。这就导致了一个非常严重的问题：<strong>使用错误的编码方式查看一个包含字符的文件就会产生乱码现象。</strong></p><p>就比如说你使用 UTF-8 编码方式打开 GB2312 编码格式的文件就会出现乱码。示例：“牛” 这个汉字 GB2312 编码后的十六进制数值为 “C5A3”，而 “C5A3” 用 UTF-8 解码之后得到的却是 “ţ”。</p><p>你可以通过这个网站在线进行编码和解码：<span class="exturl" data-url="aHR0cHM6Ly93d3cuaGFvbWVpbGkubmV0L0hhblppL1ppRnVCaWFuTWFaaHVhbkh1YW4=">https://www.haomeili.net/HanZi/ZiFuBianMaZhuanHuan</span></p><p><img data-src="https://oss.javaguide.cn/github/javaguide/csdn/836c49b117ee4408871b0020b74c991d.png" alt="img"></p><p>这样我们就搞懂了乱码的本质： <strong>编码和解码时用了不同或者不兼容的字符集</strong> 。</p><p><img data-src="https://oss.javaguide.cn/javaguide/a8808cbabeea49caa3af27d314fa3c02-1.jpg" alt="img"></p><p>为了解决这个问题，人们就想：“如果我们能够有一种字符集将世界上所有的字符都纳入其中就好了！”。</p><p>然后，<strong>Unicode</strong> 带着这个使命诞生了。</p><p>Unicode 字符集中包含了世界上几乎所有已知的字符。不过，Unicode 字符集并没有规定如何存储这些字符（也就是如何使用二进制数据表示这些字符）。</p><p>然后，就有了 <strong>UTF-8</strong>（<strong>8</strong>-bit <strong>U</strong>nicode <strong>T</strong>ransformation <strong>F</strong>ormat）。类似的还有 UTF-16、 UTF-32。</p><p>UTF-8 使用<font color="red"> 1 到 4 个字节</font>为每个字符编码， UTF-16 使用 2 或 4 个字节为每个字符编码，UTF-32 固定位 4 个字节为每个字符编码。</p><p>UTF-8 可以<font color="red">根据不同的符号自动选择编码的长短</font>，像英文字符只需要 1 个字节就够了，这一点 ASCII 字符集一样 。因此，对于英语字符，UTF-8 编码和 ASCII 码是相同的。</p><p>UTF-32 的规则最简单，不过缺陷也比较明显，对于英文字母这类字符消耗的空间是 UTF-8 的 4 倍之多。</p><p><strong>UTF-8</strong> 是目前<font color="red">使用最广</font>的一种字符编码。</p><p><img data-src="https://raw.githubusercontent.com/hjx159/picture-bed/main/img/1280px-Utf8webgrowth.svg.png" alt="img"></p><h2 id="mysql-字符集"><a class="anchor" href="#mysql-字符集">#</a> MySQL 字符集</h2><p>MySQL 支持很多种字符编码的方式，比如 UTF-8、GB2312、GBK、BIG5。</p><p>你可以通过 <code>SHOW CHARSET</code> 命令来查看。</p><p><img data-src="https://oss.javaguide.cn/javaguide/image-20211008164229671.png" alt="img"></p><p>通常情况下，我们<font color="red">建议使用 UTF-8 作为默认的字符编码方式</font>。</p><p>不过，这里有一个小坑。</p><p>MySQL 字符编码集中有两套 UTF-8 编码实现：</p><ul><li><strong><code>utf8</code> </strong>： <code>utf8</code> 编码只支持 <code>1-3</code> 个字节 。 在 <code>utf8</code> 编码中，中文是占 3 个字节，其他数字、英文、符号占一个字节。但 emoji 符号占 4 个字节，一些较复杂的文字、繁体字也是 4 个字节。</li><li><strong><code>utf8mb4</code> </strong>： **UTF-8 的完整实现，正版！** 支持 <code>最多使用 4 个字节</code> 表示字符，因此，可以用来存储 emoji 符号。</li></ul><p><strong>为什么有两套 UTF-8 编码实现呢？</strong> 原因如下：</p><p><img data-src="https://raw.githubusercontent.com/hjx159/picture-bed/main/img/image-20211008164542347.png" alt="img"></p><p>因此，如果你需要存储 <code>emoji</code> 类型的数据或者一些比较复杂的文字、繁体字到 MySQL 数据库的话，数据库的编码一定要指定为 <code>utf8mb4</code> 而不是 <code>utf8</code> ，要不然存储的时候就会报错了。</p><p>演示一下吧！（环境：MySQL 5.7+）</p><p>建表语句如下，我们指定数据库 CHARSET 为 <code>utf8</code> 。</p><figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>user<span class="token punctuation">`</span></span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">66</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token identifier"><span class="token punctuation">`</span>phone<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token identifier"><span class="token punctuation">`</span>password<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span></pre></td></tr></table></figure><p>当我们执行下面的 insert 语句插入数据到数据库时，果然报错！</p><figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>user<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>phone<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>password<span class="token punctuation">`</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">VALUES</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token punctuation">(</span><span class="token string">'A00003'</span><span class="token punctuation">,</span> <span class="token string">'guide哥😘😘😘'</span><span class="token punctuation">,</span> <span class="token string">'181631312312'</span><span class="token punctuation">,</span> <span class="token string">'123456'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>报错信息如下：</p><figure class="highlight text"><figcaption data-lang="text"></figcaption><table><tr><td data-num="1"></td><td><pre>Incorrect string value: '\xF0\x9F\x98\x98\xF0\x9F...' for column 'name' at row 1</pre></td></tr></table></figure></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-11-29 17:06:52" itemprop="dateModified" datetime="2023-11-29T17:06:52+08:00">2023-11-29</time> </span><span id="database/数据库基础知识/" class="item leancloud_visitors" data-flag-title="数据库总结" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>范特东东东 <i class="ic i-at"><em>@</em></i>水文 & 摄影</li><li class="link"><strong>本文链接：</strong> <a href="http://example.com/database/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="数据库总结">http://example.com/database/数据库基础知识/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/java/jvm/JVM%E7%AC%94%E8%AE%B0/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;s2.loli.net&#x2F;2023&#x2F;11&#x2F;14&#x2F;kQKo3XGIZ4iBxlY.png" title="JVM笔记"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> JVM</span><h3>JVM笔记</h3></a></div><div class="item right"><a href="/framework/spring/spring6/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hjx159&#x2F;picture-bed&#x2F;main&#x2F;img&#x2F;2097896352.png" title="尚硅谷 Spring6"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> Spring</span><h3>尚硅谷 Spring6</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text">数据库基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E5%BA%93-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E5%91%98"><span class="toc-number">1.1.</span> <span class="toc-text">什么是数据库，数据库管理系统，数据库系统，数据库管理员？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%85%83%E7%BB%84-%E7%A0%81-%E5%80%99%E9%80%89%E7%A0%81-%E4%B8%BB%E7%A0%81-%E5%A4%96%E7%A0%81-%E4%B8%BB%E5%B1%9E%E6%80%A7-%E9%9D%9E%E4%B8%BB%E5%B1%9E%E6%80%A7"><span class="toc-number">1.2.</span> <span class="toc-text">什么是元组，码，候选码，主码，外码，主属性，非主属性？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-er-%E5%9B%BE"><span class="toc-number">1.3.</span> <span class="toc-text">什么是 ER 图？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%8C%83%E5%BC%8F%E4%BA%86%E8%A7%A3%E5%90%97"><span class="toc-number">1.4.</span> <span class="toc-text">数据库范式了解吗？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1nf%E7%AC%AC%E4%B8%80%E8%8C%83%E5%BC%8F"><span class="toc-number">1.4.1.</span> <span class="toc-text">1NF (第一范式)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2nf%E7%AC%AC%E4%BA%8C%E8%8C%83%E5%BC%8F"><span class="toc-number">1.4.2.</span> <span class="toc-text">2NF (第二范式)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3nf%E7%AC%AC%E4%B8%89%E8%8C%83%E5%BC%8F"><span class="toc-number">1.4.3.</span> <span class="toc-text">3NF (第三范式)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E9%94%AE%E5%92%8C%E5%A4%96%E9%94%AE%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB"><span class="toc-number">1.5.</span> <span class="toc-text">主键和外键有什么区别？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%E5%A4%96%E9%94%AE%E4%B8%8E%E7%BA%A7%E8%81%94"><span class="toc-number">1.6.</span> <span class="toc-text">为什么不推荐使用外键与级联？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">1.7.</span> <span class="toc-text">什么是存储过程？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#drop-delete-%E4%B8%8E-truncate-%E5%8C%BA%E5%88%AB"><span class="toc-number">1.8.</span> <span class="toc-text">drop、delete 与 truncate 区别？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%B3%95%E4%B8%8D%E5%90%8C"><span class="toc-number">1.8.1.</span> <span class="toc-text">用法不同</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E4%BA%8E%E4%B8%8D%E5%90%8C%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AF%AD%E8%A8%80"><span class="toc-number">1.8.2.</span> <span class="toc-text">属于不同的数据库语言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E9%80%9F%E5%BA%A6%E4%B8%8D%E5%90%8C"><span class="toc-number">1.8.3.</span> <span class="toc-text">执行速度不同</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E9%80%9A%E5%B8%B8%E5%88%86%E4%B8%BA%E5%93%AA%E5%87%A0%E6%AD%A5"><span class="toc-number">1.9.</span> <span class="toc-text">数据库设计通常分为哪几步？</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#nosql%E5%9F%BA%E7%A1%80"><span class="toc-number">2.</span> <span class="toc-text">NoSQL 基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#nosql-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">2.1.</span> <span class="toc-text">NoSQL 是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sql-%E5%92%8C-nosql-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB"><span class="toc-number">2.2.</span> <span class="toc-text">SQL 和 NoSQL 有什么区别？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nosql-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%89%E4%BB%80%E4%B9%88%E4%BC%98%E5%8A%BF"><span class="toc-number">2.3.</span> <span class="toc-text">NoSQL 数据库有什么优势？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nosql-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%89%E5%93%AA%E4%BA%9B%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.4.</span> <span class="toc-text">NoSQL 数据库有哪些类型？</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E9%9B%86%E8%AF%A6%E8%A7%A3"><span class="toc-number">3.</span> <span class="toc-text">字符集详解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%95%E4%B8%BA%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="toc-number">3.1.</span> <span class="toc-text">何为字符集？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%89%E5%93%AA%E4%BA%9B%E5%B8%B8%E8%A7%81%E7%9A%84%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="toc-number">3.2.</span> <span class="toc-text">有哪些常见的字符集？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ascii"><span class="toc-number">3.2.1.</span> <span class="toc-text">ASCII</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gb2312"><span class="toc-number">3.2.2.</span> <span class="toc-text">GB2312</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gbk"><span class="toc-number">3.2.3.</span> <span class="toc-text">GBK</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gb18030"><span class="toc-number">3.2.4.</span> <span class="toc-text">GB18030</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#big5"><span class="toc-number">3.2.5.</span> <span class="toc-text">BIG5</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#unicode-utf-8%E7%BC%96%E7%A0%81"><span class="toc-number">3.2.6.</span> <span class="toc-text">Unicode &amp; UTF-8 编码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mysql-%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="toc-number">3.3.</span> <span class="toc-text">MySQL 字符集</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/database/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" rel="bookmark" title="数据库总结">数据库总结</a></li><li><a href="/database/mysql/MySQL-JavaGuide/" rel="bookmark" title="MySQL-JavaGuide">MySQL-JavaGuide</a></li><li><a href="/database/redis/Redis-JavaGuide/" rel="bookmark" title="Redis-JavaGuide">Redis-JavaGuide</a></li><li><a href="/database/elasticsearch/Elasticsearch-JavaGuide/" rel="bookmark" title="Elasticsearch-JavaGuide">Elasticsearch-JavaGuide</a></li><li><a href="/database/mongodb/MongoDB-JavaGuide/" rel="bookmark" title="MongoDB-JavaGuide">MongoDB-JavaGuide</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="范特东东东" data-src="/images/avatar.jpg"><p class="name" itemprop="name">范特东东东</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">51</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">16</span> <span class="name">分类</span></a></div></nav><div class="social"><span class="exturl item xiaohongshu" data-url="aHR0cHM6Ly93d3cueGlhb2hvbmdzaHUuY29tL3VzZXIvcHJvZmlsZS81ZTAyYzhhZDAwMDAwMDAwMDEwMDFmM2U=" title="https:&#x2F;&#x2F;www.xiaohongshu.com&#x2F;user&#x2F;profile&#x2F;5e02c8ad0000000001001f3e"><i class="ic i-xiaohongshu"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于我</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><span class="exturl" data-url="aHR0cHM6Ly9oangxNTkuZ2l0aHViLmlvL2NhdGVnb3JpZXMvcGhvdG9ncmFwaHkv"><i class="ic i-photography"></i>摄影</span></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/java/jvm/JVM%E7%AC%94%E8%AE%B0/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/framework/spring/spring6/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/java-se/" title="分类于 Java基础">Java基础</a> <i class="ic i-angle-right"></i> <a href="/categories/java/java-se/java-excise/" title="分类于 Java基础-真题">Java基础-真题</a></div><span><a href="/java/java-se/java-excise/%E7%AC%AC06%E7%AB%A0%EF%BC%9A%E9%9A%8F%E5%A0%82%E5%A4%8D%E4%B9%A0%E4%B8%8E%E4%BC%81%E4%B8%9A%E7%9C%9F%E9%A2%98%EF%BC%88%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E5%9F%BA%E7%A1%80%EF%BC%89/" title="宋红康_第06章：面向对象-基础">宋红康_第06章：面向对象-基础</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/java-se/" title="分类于 Java基础">Java基础</a> <i class="ic i-angle-right"></i> <a href="/categories/java/java-se/java-knowledge/" title="分类于 Java基础-知识点">Java基础-知识点</a></div><span><a href="/java/java-se/java-knowledge/%E5%B0%9A%E7%A1%85%E8%B0%B7_%E5%AE%8B%E7%BA%A2%E5%BA%B7_%E7%AC%AC05%E7%AB%A0_%E6%95%B0%E7%BB%84/" title="宋红康_第05章_数组">宋红康_第05章_数组</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/photography/" title="分类于 摄影">摄影</a></div><span><a href="/photography/%E6%9C%9D%E9%98%B3%E5%85%AC%E5%9B%AD/" title="朝阳公园">朝阳公园</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/java-se/" title="分类于 Java基础">Java基础</a> <i class="ic i-angle-right"></i> <a href="/categories/java/java-se/java-excise/" title="分类于 Java基础-真题">Java基础-真题</a></div><span><a href="/java/java-se/java-excise/%E7%AC%AC05%E7%AB%A0%EF%BC%9A%E9%9A%8F%E5%A0%82%E5%A4%8D%E4%B9%A0%E4%B8%8E%E4%BC%81%E4%B8%9A%E7%9C%9F%E9%A2%98%EF%BC%88%E6%95%B0%E7%BB%84%EF%BC%89/" title="宋红康_第05章：数组">宋红康_第05章：数组</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/java-se/" title="分类于 Java基础">Java基础</a> <i class="ic i-angle-right"></i> <a href="/categories/java/java-se/java-knowledge/" title="分类于 Java基础-知识点">Java基础-知识点</a></div><span><a href="/java/java-se/java-knowledge/%E5%B0%9A%E7%A1%85%E8%B0%B7_%E5%AE%8B%E7%BA%A2%E5%BA%B7_%E7%AC%AC03%E7%AB%A0_%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/" title="宋红康_第03章_流程控制语句">宋红康_第03章_流程控制语句</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/java-se/" title="分类于 Java基础">Java基础</a> <i class="ic i-angle-right"></i> <a href="/categories/java/java-se/java-knowledge/" title="分类于 Java基础-知识点">Java基础-知识点</a></div><span><a href="/java/java-se/java-knowledge/%E5%B0%9A%E7%A1%85%E8%B0%B7_%E5%AE%8B%E7%BA%A2%E5%BA%B7_%E7%AC%AC07%E7%AB%A0_%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/" title="宋红康_第07章_面向对象编程(进阶)">宋红康_第07章_面向对象编程(进阶)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/java-se/" title="分类于 Java基础">Java基础</a> <i class="ic i-angle-right"></i> <a href="/categories/java/java-se/java-excise/" title="分类于 Java基础-真题">Java基础-真题</a></div><span><a href="/java/java-se/java-excise/%E7%AC%AC12%E7%AB%A0%EF%BC%9A%E9%9A%8F%E5%A0%82%E5%A4%8D%E4%B9%A0%E4%B8%8E%E4%BC%81%E4%B8%9A%E7%9C%9F%E9%A2%98%EF%BC%88%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%EF%BC%89/" title="宋红康_第12章：集合框架">宋红康_第12章：集合框架</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/java-se/" title="分类于 Java基础">Java基础</a> <i class="ic i-angle-right"></i> <a href="/categories/java/java-se/java-excise/" title="分类于 Java基础-真题">Java基础-真题</a></div><span><a href="/java/java-se/java-excise/%E7%AC%AC02%E7%AB%A0%EF%BC%9A%E9%9A%8F%E5%A0%82%E5%A4%8D%E4%B9%A0%E4%B8%8E%E4%BC%81%E4%B8%9A%E7%9C%9F%E9%A2%98%EF%BC%88%E5%8F%98%E9%87%8F%E4%B8%8E%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%89/" title="宋红康_第02章：变量与运算符">宋红康_第02章：变量与运算符</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/leetcode/" title="分类于 LeetCode">LeetCode</a> <i class="ic i-angle-right"></i> <a href="/categories/leetcode/carl/" title="分类于 代码随想录">代码随想录</a></div><span><a href="/leetcode/carl/%E7%AC%94%E8%AE%B0%E9%9A%8F%E6%83%B3%E5%BD%95/" title="代码随想录-笔记">代码随想录-笔记</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/java-se/" title="分类于 Java基础">Java基础</a> <i class="ic i-angle-right"></i> <a href="/categories/java/java-se/java-excise/" title="分类于 Java基础-真题">Java基础-真题</a></div><span><a href="/java/java-se/java-excise/%E7%AC%AC10%E7%AB%A0%EF%BC%9A%E9%9A%8F%E5%A0%82%E5%A4%8D%E4%B9%A0%E4%B8%8E%E4%BC%81%E4%B8%9A%E7%9C%9F%E9%A2%98%EF%BC%88%E5%A4%9A%E7%BA%BF%E7%A8%8B%EF%BC%89/" title="宋红康_第10章：多线程">宋红康_第10章：多线程</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">范特东东东 @ fantedong</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">1.6m 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">24:20</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"database/数据库基础知识/",favicon:{show:"(●´3｀●)欢迎回来",hide:"(〃＞皿＜)你快回来"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->